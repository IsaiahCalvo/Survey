var Kr=Object.defineProperty;var gr=s=>{throw TypeError(s)};var Zr=(s,o,$)=>o in s?Kr(s,o,{enumerable:!0,configurable:!0,writable:!0,value:$}):s[o]=$;var Je=(s,o,$)=>Zr(s,typeof o!="symbol"?o+"":o,$),Ft=(s,o,$)=>o.has(s)||gr("Cannot "+$);var P=(s,o,$)=>(Ft(s,o,"read from private field"),$?$.call(s):o.get(s)),Me=(s,o,$)=>o.has(s)?gr("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(s):o.set(s,$),xe=(s,o,$,n)=>(Ft(s,o,"write to private field"),n?n.call(s,$):o.set(s,$),$),Ce=(s,o,$)=>(Ft(s,o,"access private method"),$);var ht=(s,o,$,n)=>({set _(L){xe(s,o,L,$)},get _(){return P(s,o,n)}});(function(){"use strict";function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var browser$2={exports:{}},process=browser$2.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(s){if(cachedSetTimeout===setTimeout)return setTimeout(s,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(s,0);try{return cachedSetTimeout(s,0)}catch{try{return cachedSetTimeout.call(null,s,0)}catch{return cachedSetTimeout.call(this,s,0)}}}function runClearTimeout(s){if(cachedClearTimeout===clearTimeout)return clearTimeout(s);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(s);try{return cachedClearTimeout(s)}catch{try{return cachedClearTimeout.call(null,s)}catch{return cachedClearTimeout.call(this,s)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var s=runTimeout(cleanUpNextTick);draining=!0;for(var o=queue.length;o;){for(currentQueue=queue,queue=[];++queueIndex<o;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,o=queue.length}currentQueue=null,draining=!1,runClearTimeout(s)}}process.nextTick=function(s){var o=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)o[$-1]=arguments[$];queue.push(new Item(s,o)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(s,o){this.fun=s,this.array=o}Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={};function noop(){}process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(s){return[]},process.binding=function(s){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(s){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};var browserExports=browser$2.exports;const process$1=getDefaultExportFromCjs(browserExports);var buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62,revLookup[95]=63;function getLens(s){var o=s.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=s.indexOf("=");$===-1&&($=o);var n=$===o?0:4-$%4;return[$,n]}function byteLength(s){var o=getLens(s),$=o[0],n=o[1];return($+n)*3/4-n}function _byteLength(s,o,$){return(o+$)*3/4-$}function toByteArray(s){var o,$=getLens(s),n=$[0],L=$[1],T=new Arr(_byteLength(s,n,L)),I=0,N=L>0?n-4:n,b;for(b=0;b<N;b+=4)o=revLookup[s.charCodeAt(b)]<<18|revLookup[s.charCodeAt(b+1)]<<12|revLookup[s.charCodeAt(b+2)]<<6|revLookup[s.charCodeAt(b+3)],T[I++]=o>>16&255,T[I++]=o>>8&255,T[I++]=o&255;return L===2&&(o=revLookup[s.charCodeAt(b)]<<2|revLookup[s.charCodeAt(b+1)]>>4,T[I++]=o&255),L===1&&(o=revLookup[s.charCodeAt(b)]<<10|revLookup[s.charCodeAt(b+1)]<<4|revLookup[s.charCodeAt(b+2)]>>2,T[I++]=o>>8&255,T[I++]=o&255),T}function tripletToBase64(s){return lookup[s>>18&63]+lookup[s>>12&63]+lookup[s>>6&63]+lookup[s&63]}function encodeChunk(s,o,$){for(var n,L=[],T=o;T<$;T+=3)n=(s[T]<<16&16711680)+(s[T+1]<<8&65280)+(s[T+2]&255),L.push(tripletToBase64(n));return L.join("")}function fromByteArray(s){for(var o,$=s.length,n=$%3,L=[],T=16383,I=0,N=$-n;I<N;I+=T)L.push(encodeChunk(s,I,I+T>N?N:I+T));return n===1?(o=s[$-1],L.push(lookup[o>>2]+lookup[o<<4&63]+"==")):n===2&&(o=(s[$-2]<<8)+s[$-1],L.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),L.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(s,o,$,n,L){var T,I,N=L*8-n-1,b=(1<<N)-1,A=b>>1,t=-7,S=$?L-1:0,F=$?-1:1,R=s[o+S];for(S+=F,T=R&(1<<-t)-1,R>>=-t,t+=N;t>0;T=T*256+s[o+S],S+=F,t-=8);for(I=T&(1<<-t)-1,T>>=-t,t+=n;t>0;I=I*256+s[o+S],S+=F,t-=8);if(T===0)T=1-A;else{if(T===b)return I?NaN:(R?-1:1)*(1/0);I=I+Math.pow(2,n),T=T-A}return(R?-1:1)*I*Math.pow(2,T-n)},ieee754.write=function(s,o,$,n,L,T){var I,N,b,A=T*8-L-1,t=(1<<A)-1,S=t>>1,F=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=n?0:T-1,C=n?1:-1,j=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(N=isNaN(o)?1:0,I=t):(I=Math.floor(Math.log(o)/Math.LN2),o*(b=Math.pow(2,-I))<1&&(I--,b*=2),I+S>=1?o+=F/b:o+=F*Math.pow(2,1-S),o*b>=2&&(I++,b/=2),I+S>=t?(N=0,I=t):I+S>=1?(N=(o*b-1)*Math.pow(2,L),I=I+S):(N=o*Math.pow(2,S-1)*Math.pow(2,L),I=0));L>=8;s[$+R]=N&255,R+=C,N/=256,L-=8);for(I=I<<L|N,A+=L;A>0;s[$+R]=I&255,R+=C,I/=256,A-=8);s[$+R-C]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(s){const o=base64Js,$=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=t,s.SlowBuffer=l,s.INSPECT_MAX_BYTES=50;const L=2147483647;s.kMaxLength=L;const{Uint8Array:T,ArrayBuffer:I,SharedArrayBuffer:N}=globalThis;t.TYPED_ARRAY_SUPPORT=b(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{const Y=new T(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,T.prototype),Object.setPrototypeOf(Y,e),Y.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function A(Y){if(Y>L)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const e=new T(Y);return Object.setPrototypeOf(e,t.prototype),e}function t(Y,e,h){if(typeof Y=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(Y)}return S(Y,e,h)}t.poolSize=8192;function S(Y,e,h){if(typeof Y=="string")return j(Y,e);if(I.isView(Y))return r(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(te(Y,I)||Y&&te(Y.buffer,I)||typeof N<"u"&&(te(Y,N)||Y&&te(Y.buffer,N)))return d(Y,e,h);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=Y.valueOf&&Y.valueOf();if(Z!=null&&Z!==Y)return t.from(Z,e,h);const ce=x(Y);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return t.from(Y[Symbol.toPrimitive]("string"),e,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}t.from=function(Y,e,h){return S(Y,e,h)},Object.setPrototypeOf(t.prototype,T.prototype),Object.setPrototypeOf(t,T);function F(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function R(Y,e,h){return F(Y),Y<=0?A(Y):e!==void 0?typeof h=="string"?A(Y).fill(e,h):A(Y).fill(e):A(Y)}t.alloc=function(Y,e,h){return R(Y,e,h)};function C(Y){return F(Y),A(Y<0?0:v(Y)|0)}t.allocUnsafe=function(Y){return C(Y)},t.allocUnsafeSlow=function(Y){return C(Y)};function j(Y,e){if((typeof e!="string"||e==="")&&(e="utf8"),!t.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const h=_(Y,e)|0;let Z=A(h);const ce=Z.write(Y,e);return ce!==h&&(Z=Z.slice(0,ce)),Z}function m(Y){const e=Y.length<0?0:v(Y.length)|0,h=A(e);for(let Z=0;Z<e;Z+=1)h[Z]=Y[Z]&255;return h}function r(Y){if(te(Y,T)){const e=new T(Y);return d(e.buffer,e.byteOffset,e.byteLength)}return m(Y)}function d(Y,e,h){if(e<0||Y.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<e+(h||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return e===void 0&&h===void 0?Z=new T(Y):h===void 0?Z=new T(Y,e):Z=new T(Y,e,h),Object.setPrototypeOf(Z,t.prototype),Z}function x(Y){if(t.isBuffer(Y)){const e=v(Y.length)|0,h=A(e);return h.length===0||Y.copy(h,0,0,e),h}if(Y.length!==void 0)return typeof Y.length!="number"||Pe(Y.length)?A(0):m(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return m(Y.data)}function v(Y){if(Y>=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");return Y|0}function l(Y){return+Y!=Y&&(Y=0),t.alloc(+Y)}t.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==t.prototype},t.compare=function(e,h){if(te(e,T)&&(e=t.from(e,e.offset,e.byteLength)),te(h,T)&&(h=t.from(h,h.offset,h.byteLength)),!t.isBuffer(e)||!t.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===h)return 0;let Z=e.length,ce=h.length;for(let z=0,M=Math.min(Z,ce);z<M;++z)if(e[z]!==h[z]){Z=e[z],ce=h[z];break}return Z<ce?-1:ce<Z?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,h){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return t.alloc(0);let Z;if(h===void 0)for(h=0,Z=0;Z<e.length;++Z)h+=e[Z].length;const ce=t.allocUnsafe(h);let z=0;for(Z=0;Z<e.length;++Z){let M=e[Z];if(te(M,T))z+M.length>ce.length?(t.isBuffer(M)||(M=t.from(M)),M.copy(ce,z)):T.prototype.set.call(ce,M,z);else if(t.isBuffer(M))M.copy(ce,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=M.length}return ce};function _(Y,e){if(t.isBuffer(Y))return Y.length;if(I.isView(Y)||te(Y,I))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const h=Y.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&h===0)return 0;let ce=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Ee(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Re(Y).length;default:if(ce)return Z?-1:Ee(Y).length;e=(""+e).toLowerCase(),ce=!0}}t.byteLength=_;function p(Y,e,h){let Z=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,e>>>=0,h<=e))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return X(this,e,h);case"utf8":case"utf-8":return ue(this,e,h);case"ascii":return Q(this,e,h);case"latin1":case"binary":return le(this,e,h);case"base64":return _e(this,e,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,e,h);default:if(Z)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),Z=!0}}t.prototype._isBuffer=!0;function w(Y,e,h){const Z=Y[e];Y[e]=Y[h],Y[h]=Z}t.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<e;h+=2)w(this,h,h+1);return this},t.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<e;h+=4)w(this,h,h+3),w(this,h+1,h+2);return this},t.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<e;h+=8)w(this,h,h+7),w(this,h+1,h+6),w(this,h+2,h+5),w(this,h+3,h+4);return this},t.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?ue(this,0,e):p.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:t.compare(this,e)===0},t.prototype.inspect=function(){let e="";const h=s.INSPECT_MAX_BYTES;return e=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(e+=" ... "),"<Buffer "+e+">"},n&&(t.prototype[n]=t.prototype.inspect),t.prototype.compare=function(e,h,Z,ce,z){if(te(e,T)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(h===void 0&&(h=0),Z===void 0&&(Z=e?e.length:0),ce===void 0&&(ce=0),z===void 0&&(z=this.length),h<0||Z>e.length||ce<0||z>this.length)throw new RangeError("out of range index");if(ce>=z&&h>=Z)return 0;if(ce>=z)return-1;if(h>=Z)return 1;if(h>>>=0,Z>>>=0,ce>>>=0,z>>>=0,this===e)return 0;let M=z-ce,u=Z-h;const Ae=Math.min(M,u),Ne=this.slice(ce,z),c=e.slice(h,Z);for(let H=0;H<Ae;++H)if(Ne[H]!==c[H]){M=Ne[H],u=c[H];break}return M<u?-1:u<M?1:0};function O(Y,e,h,Z,ce){if(Y.length===0)return-1;if(typeof h=="string"?(Z=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Pe(h)&&(h=ce?0:Y.length-1),h<0&&(h=Y.length+h),h>=Y.length){if(ce)return-1;h=Y.length-1}else if(h<0)if(ce)h=0;else return-1;if(typeof e=="string"&&(e=t.from(e,Z)),t.isBuffer(e))return e.length===0?-1:J(Y,e,h,Z,ce);if(typeof e=="number")return e=e&255,typeof T.prototype.indexOf=="function"?ce?T.prototype.indexOf.call(Y,e,h):T.prototype.lastIndexOf.call(Y,e,h):J(Y,[e],h,Z,ce);throw new TypeError("val must be string, number or Buffer")}function J(Y,e,h,Z,ce){let z=1,M=Y.length,u=e.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(Y.length<2||e.length<2)return-1;z=2,M/=2,u/=2,h/=2}function Ae(c,H){return z===1?c[H]:c.readUInt16BE(H*z)}let Ne;if(ce){let c=-1;for(Ne=h;Ne<M;Ne++)if(Ae(Y,Ne)===Ae(e,c===-1?0:Ne-c)){if(c===-1&&(c=Ne),Ne-c+1===u)return c*z}else c!==-1&&(Ne-=Ne-c),c=-1}else for(h+u>M&&(h=M-u),Ne=h;Ne>=0;Ne--){let c=!0;for(let H=0;H<u;H++)if(Ae(Y,Ne+H)!==Ae(e,H)){c=!1;break}if(c)return Ne}return-1}t.prototype.includes=function(e,h,Z){return this.indexOf(e,h,Z)!==-1},t.prototype.indexOf=function(e,h,Z){return O(this,e,h,Z,!0)},t.prototype.lastIndexOf=function(e,h,Z){return O(this,e,h,Z,!1)};function q(Y,e,h,Z){h=Number(h)||0;const ce=Y.length-h;Z?(Z=Number(Z),Z>ce&&(Z=ce)):Z=ce;const z=e.length;Z>z/2&&(Z=z/2);let M;for(M=0;M<Z;++M){const u=parseInt(e.substr(M*2,2),16);if(Pe(u))return M;Y[h+M]=u}return M}function E(Y,e,h,Z){return W(Ee(e,Y.length-h),Y,h,Z)}function G(Y,e,h,Z){return W(Te(e),Y,h,Z)}function ge(Y,e,h,Z){return W(Re(e),Y,h,Z)}function fe(Y,e,h,Z){return W(oe(e,Y.length-h),Y,h,Z)}t.prototype.write=function(e,h,Z,ce){if(h===void 0)ce="utf8",Z=this.length,h=0;else if(Z===void 0&&typeof h=="string")ce=h,Z=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(Z)?(Z=Z>>>0,ce===void 0&&(ce="utf8")):(ce=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-h;if((Z===void 0||Z>z)&&(Z=z),e.length>0&&(Z<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let M=!1;for(;;)switch(ce){case"hex":return q(this,e,h,Z);case"utf8":case"utf-8":return E(this,e,h,Z);case"ascii":case"latin1":case"binary":return G(this,e,h,Z);case"base64":return ge(this,e,h,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,e,h,Z);default:if(M)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),M=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _e(Y,e,h){return e===0&&h===Y.length?o.fromByteArray(Y):o.fromByteArray(Y.slice(e,h))}function ue(Y,e,h){h=Math.min(Y.length,h);const Z=[];let ce=e;for(;ce<h;){const z=Y[ce];let M=null,u=z>239?4:z>223?3:z>191?2:1;if(ce+u<=h){let Ae,Ne,c,H;switch(u){case 1:z<128&&(M=z);break;case 2:Ae=Y[ce+1],(Ae&192)===128&&(H=(z&31)<<6|Ae&63,H>127&&(M=H));break;case 3:Ae=Y[ce+1],Ne=Y[ce+2],(Ae&192)===128&&(Ne&192)===128&&(H=(z&15)<<12|(Ae&63)<<6|Ne&63,H>2047&&(H<55296||H>57343)&&(M=H));break;case 4:Ae=Y[ce+1],Ne=Y[ce+2],c=Y[ce+3],(Ae&192)===128&&(Ne&192)===128&&(c&192)===128&&(H=(z&15)<<18|(Ae&63)<<12|(Ne&63)<<6|c&63,H>65535&&H<1114112&&(M=H))}}M===null?(M=65533,u=1):M>65535&&(M-=65536,Z.push(M>>>10&1023|55296),M=56320|M&1023),Z.push(M),ce+=u}return K(Z)}const ye=4096;function K(Y){const e=Y.length;if(e<=ye)return String.fromCharCode.apply(String,Y);let h="",Z=0;for(;Z<e;)h+=String.fromCharCode.apply(String,Y.slice(Z,Z+=ye));return h}function Q(Y,e,h){let Z="";h=Math.min(Y.length,h);for(let ce=e;ce<h;++ce)Z+=String.fromCharCode(Y[ce]&127);return Z}function le(Y,e,h){let Z="";h=Math.min(Y.length,h);for(let ce=e;ce<h;++ce)Z+=String.fromCharCode(Y[ce]);return Z}function X(Y,e,h){const Z=Y.length;(!e||e<0)&&(e=0),(!h||h<0||h>Z)&&(h=Z);let ce="";for(let z=e;z<h;++z)ce+=Oe[Y[z]];return ce}function f(Y,e,h){const Z=Y.slice(e,h);let ce="";for(let z=0;z<Z.length-1;z+=2)ce+=String.fromCharCode(Z[z]+Z[z+1]*256);return ce}t.prototype.slice=function(e,h){const Z=this.length;e=~~e,h=h===void 0?Z:~~h,e<0?(e+=Z,e<0&&(e=0)):e>Z&&(e=Z),h<0?(h+=Z,h<0&&(h=0)):h>Z&&(h=Z),h<e&&(h=e);const ce=this.subarray(e,h);return Object.setPrototypeOf(ce,t.prototype),ce};function a(Y,e,h){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+e>h)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUintLE=t.prototype.readUIntLE=function(e,h,Z){e=e>>>0,h=h>>>0,Z||a(e,h,this.length);let ce=this[e],z=1,M=0;for(;++M<h&&(z*=256);)ce+=this[e+M]*z;return ce},t.prototype.readUintBE=t.prototype.readUIntBE=function(e,h,Z){e=e>>>0,h=h>>>0,Z||a(e,h,this.length);let ce=this[e+--h],z=1;for(;h>0&&(z*=256);)ce+=this[e+--h]*z;return ce},t.prototype.readUint8=t.prototype.readUInt8=function(e,h){return e=e>>>0,h||a(e,1,this.length),this[e]},t.prototype.readUint16LE=t.prototype.readUInt16LE=function(e,h){return e=e>>>0,h||a(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUint16BE=t.prototype.readUInt16BE=function(e,h){return e=e>>>0,h||a(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUint32LE=t.prototype.readUInt32LE=function(e,h){return e=e>>>0,h||a(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},t.prototype.readUint32BE=t.prototype.readUInt32BE=function(e,h){return e=e>>>0,h||a(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readBigUInt64LE=qe(function(e){e=e>>>0,me(e,"offset");const h=this[e],Z=this[e+7];(h===void 0||Z===void 0)&&ve(e,this.length-8);const ce=h+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,z=this[++e]+this[++e]*2**8+this[++e]*2**16+Z*2**24;return BigInt(ce)+(BigInt(z)<<BigInt(32))}),t.prototype.readBigUInt64BE=qe(function(e){e=e>>>0,me(e,"offset");const h=this[e],Z=this[e+7];(h===void 0||Z===void 0)&&ve(e,this.length-8);const ce=h*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],z=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+Z;return(BigInt(ce)<<BigInt(32))+BigInt(z)}),t.prototype.readIntLE=function(e,h,Z){e=e>>>0,h=h>>>0,Z||a(e,h,this.length);let ce=this[e],z=1,M=0;for(;++M<h&&(z*=256);)ce+=this[e+M]*z;return z*=128,ce>=z&&(ce-=Math.pow(2,8*h)),ce},t.prototype.readIntBE=function(e,h,Z){e=e>>>0,h=h>>>0,Z||a(e,h,this.length);let ce=h,z=1,M=this[e+--ce];for(;ce>0&&(z*=256);)M+=this[e+--ce]*z;return z*=128,M>=z&&(M-=Math.pow(2,8*h)),M},t.prototype.readInt8=function(e,h){return e=e>>>0,h||a(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},t.prototype.readInt16LE=function(e,h){e=e>>>0,h||a(e,2,this.length);const Z=this[e]|this[e+1]<<8;return Z&32768?Z|4294901760:Z},t.prototype.readInt16BE=function(e,h){e=e>>>0,h||a(e,2,this.length);const Z=this[e+1]|this[e]<<8;return Z&32768?Z|4294901760:Z},t.prototype.readInt32LE=function(e,h){return e=e>>>0,h||a(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,h){return e=e>>>0,h||a(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readBigInt64LE=qe(function(e){e=e>>>0,me(e,"offset");const h=this[e],Z=this[e+7];(h===void 0||Z===void 0)&&ve(e,this.length-8);const ce=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(Z<<24);return(BigInt(ce)<<BigInt(32))+BigInt(h+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),t.prototype.readBigInt64BE=qe(function(e){e=e>>>0,me(e,"offset");const h=this[e],Z=this[e+7];(h===void 0||Z===void 0)&&ve(e,this.length-8);const ce=(h<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(ce)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+Z)}),t.prototype.readFloatLE=function(e,h){return e=e>>>0,h||a(e,4,this.length),$.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,h){return e=e>>>0,h||a(e,4,this.length),$.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,h){return e=e>>>0,h||a(e,8,this.length),$.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,h){return e=e>>>0,h||a(e,8,this.length),$.read(this,e,!1,52,8)};function g(Y,e,h,Z,ce,z){if(!t.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>ce||e<z)throw new RangeError('"value" argument is out of bounds');if(h+Z>Y.length)throw new RangeError("Index out of range")}t.prototype.writeUintLE=t.prototype.writeUIntLE=function(e,h,Z,ce){if(e=+e,h=h>>>0,Z=Z>>>0,!ce){const u=Math.pow(2,8*Z)-1;g(this,e,h,Z,u,0)}let z=1,M=0;for(this[h]=e&255;++M<Z&&(z*=256);)this[h+M]=e/z&255;return h+Z},t.prototype.writeUintBE=t.prototype.writeUIntBE=function(e,h,Z,ce){if(e=+e,h=h>>>0,Z=Z>>>0,!ce){const u=Math.pow(2,8*Z)-1;g(this,e,h,Z,u,0)}let z=Z-1,M=1;for(this[h+z]=e&255;--z>=0&&(M*=256);)this[h+z]=e/M&255;return h+Z},t.prototype.writeUint8=t.prototype.writeUInt8=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,1,255,0),this[h]=e&255,h+1},t.prototype.writeUint16LE=t.prototype.writeUInt16LE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,2,65535,0),this[h]=e&255,this[h+1]=e>>>8,h+2},t.prototype.writeUint16BE=t.prototype.writeUInt16BE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,2,65535,0),this[h]=e>>>8,this[h+1]=e&255,h+2},t.prototype.writeUint32LE=t.prototype.writeUInt32LE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,4,4294967295,0),this[h+3]=e>>>24,this[h+2]=e>>>16,this[h+1]=e>>>8,this[h]=e&255,h+4},t.prototype.writeUint32BE=t.prototype.writeUInt32BE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,4,4294967295,0),this[h]=e>>>24,this[h+1]=e>>>16,this[h+2]=e>>>8,this[h+3]=e&255,h+4};function y(Y,e,h,Z,ce){Ie(e,Z,ce,Y,h,7);let z=Number(e&BigInt(4294967295));Y[h++]=z,z=z>>8,Y[h++]=z,z=z>>8,Y[h++]=z,z=z>>8,Y[h++]=z;let M=Number(e>>BigInt(32)&BigInt(4294967295));return Y[h++]=M,M=M>>8,Y[h++]=M,M=M>>8,Y[h++]=M,M=M>>8,Y[h++]=M,h}function k(Y,e,h,Z,ce){Ie(e,Z,ce,Y,h,7);let z=Number(e&BigInt(4294967295));Y[h+7]=z,z=z>>8,Y[h+6]=z,z=z>>8,Y[h+5]=z,z=z>>8,Y[h+4]=z;let M=Number(e>>BigInt(32)&BigInt(4294967295));return Y[h+3]=M,M=M>>8,Y[h+2]=M,M=M>>8,Y[h+1]=M,M=M>>8,Y[h]=M,h+8}t.prototype.writeBigUInt64LE=qe(function(e,h=0){return y(this,e,h,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeBigUInt64BE=qe(function(e,h=0){return k(this,e,h,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeIntLE=function(e,h,Z,ce){if(e=+e,h=h>>>0,!ce){const Ae=Math.pow(2,8*Z-1);g(this,e,h,Z,Ae-1,-Ae)}let z=0,M=1,u=0;for(this[h]=e&255;++z<Z&&(M*=256);)e<0&&u===0&&this[h+z-1]!==0&&(u=1),this[h+z]=(e/M>>0)-u&255;return h+Z},t.prototype.writeIntBE=function(e,h,Z,ce){if(e=+e,h=h>>>0,!ce){const Ae=Math.pow(2,8*Z-1);g(this,e,h,Z,Ae-1,-Ae)}let z=Z-1,M=1,u=0;for(this[h+z]=e&255;--z>=0&&(M*=256);)e<0&&u===0&&this[h+z+1]!==0&&(u=1),this[h+z]=(e/M>>0)-u&255;return h+Z},t.prototype.writeInt8=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,1,127,-128),e<0&&(e=255+e+1),this[h]=e&255,h+1},t.prototype.writeInt16LE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,2,32767,-32768),this[h]=e&255,this[h+1]=e>>>8,h+2},t.prototype.writeInt16BE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,2,32767,-32768),this[h]=e>>>8,this[h+1]=e&255,h+2},t.prototype.writeInt32LE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,4,2147483647,-2147483648),this[h]=e&255,this[h+1]=e>>>8,this[h+2]=e>>>16,this[h+3]=e>>>24,h+4},t.prototype.writeInt32BE=function(e,h,Z){return e=+e,h=h>>>0,Z||g(this,e,h,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[h]=e>>>24,this[h+1]=e>>>16,this[h+2]=e>>>8,this[h+3]=e&255,h+4},t.prototype.writeBigInt64LE=qe(function(e,h=0){return y(this,e,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),t.prototype.writeBigInt64BE=qe(function(e,h=0){return k(this,e,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(Y,e,h,Z,ce,z){if(h+Z>Y.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function ee(Y,e,h,Z,ce){return e=+e,h=h>>>0,ce||D(Y,e,h,4),$.write(Y,e,h,Z,23,4),h+4}t.prototype.writeFloatLE=function(e,h,Z){return ee(this,e,h,!0,Z)},t.prototype.writeFloatBE=function(e,h,Z){return ee(this,e,h,!1,Z)};function se(Y,e,h,Z,ce){return e=+e,h=h>>>0,ce||D(Y,e,h,8),$.write(Y,e,h,Z,52,8),h+8}t.prototype.writeDoubleLE=function(e,h,Z){return se(this,e,h,!0,Z)},t.prototype.writeDoubleBE=function(e,h,Z){return se(this,e,h,!1,Z)},t.prototype.copy=function(e,h,Z,ce){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!ce&&ce!==0&&(ce=this.length),h>=e.length&&(h=e.length),h||(h=0),ce>0&&ce<Z&&(ce=Z),ce===Z||e.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),e.length-h<ce-Z&&(ce=e.length-h+Z);const z=ce-Z;return this===e&&typeof T.prototype.copyWithin=="function"?this.copyWithin(h,Z,ce):T.prototype.set.call(e,this.subarray(Z,ce),h),z},t.prototype.fill=function(e,h,Z,ce){if(typeof e=="string"){if(typeof h=="string"?(ce=h,h=0,Z=this.length):typeof Z=="string"&&(ce=Z,Z=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!t.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(e.length===1){const M=e.charCodeAt(0);(ce==="utf8"&&M<128||ce==="latin1")&&(e=M)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(h<0||this.length<h||this.length<Z)throw new RangeError("Out of range index");if(Z<=h)return this;h=h>>>0,Z=Z===void 0?this.length:Z>>>0,e||(e=0);let z;if(typeof e=="number")for(z=h;z<Z;++z)this[z]=e;else{const M=t.isBuffer(e)?e:t.from(e,ce),u=M.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(z=0;z<Z-h;++z)this[z+h]=M[z%u]}return this};const B={};function U(Y,e,h){B[Y]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(Y,e){return`The "${Y}" argument must be of type number. Received type ${typeof e}`},TypeError),U("ERR_OUT_OF_RANGE",function(Y,e,h){let Z=`The value of "${Y}" is out of range.`,ce=h;return Number.isInteger(h)&&Math.abs(h)>2**32?ce=he(String(h)):typeof h=="bigint"&&(ce=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(ce=he(ce)),ce+="n"),Z+=` It must be ${e}. Received ${ce}`,Z},RangeError);function he(Y){let e="",h=Y.length;const Z=Y[0]==="-"?1:0;for(;h>=Z+4;h-=3)e=`_${Y.slice(h-3,h)}${e}`;return`${Y.slice(0,h)}${e}`}function we(Y,e,h){me(e,"offset"),(Y[e]===void 0||Y[e+h]===void 0)&&ve(e,Y.length-(h+1))}function Ie(Y,e,h,Z,ce,z){if(Y>h||Y<e){const M=typeof e=="bigint"?"n":"";let u;throw e===0||e===BigInt(0)?u=`>= 0${M} and < 2${M} ** ${(z+1)*8}${M}`:u=`>= -(2${M} ** ${(z+1)*8-1}${M}) and < 2 ** ${(z+1)*8-1}${M}`,new B.ERR_OUT_OF_RANGE("value",u,Y)}we(Z,ce,z)}function me(Y,e){if(typeof Y!="number")throw new B.ERR_INVALID_ARG_TYPE(e,"number",Y)}function ve(Y,e,h){throw Math.floor(Y)!==Y?(me(Y,h),new B.ERR_OUT_OF_RANGE("offset","an integer",Y)):e<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,Y)}const re=/[^+/0-9A-Za-z-_]/g;function ne(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(re,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function Ee(Y,e){e=e||1/0;let h;const Z=Y.length;let ce=null;const z=[];for(let M=0;M<Z;++M){if(h=Y.charCodeAt(M),h>55295&&h<57344){if(!ce){if(h>56319){(e-=3)>-1&&z.push(239,191,189);continue}else if(M+1===Z){(e-=3)>-1&&z.push(239,191,189);continue}ce=h;continue}if(h<56320){(e-=3)>-1&&z.push(239,191,189),ce=h;continue}h=(ce-55296<<10|h-56320)+65536}else ce&&(e-=3)>-1&&z.push(239,191,189);if(ce=null,h<128){if((e-=1)<0)break;z.push(h)}else if(h<2048){if((e-=2)<0)break;z.push(h>>6|192,h&63|128)}else if(h<65536){if((e-=3)<0)break;z.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((e-=4)<0)break;z.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return z}function Te(Y){const e=[];for(let h=0;h<Y.length;++h)e.push(Y.charCodeAt(h)&255);return e}function oe(Y,e){let h,Z,ce;const z=[];for(let M=0;M<Y.length&&!((e-=2)<0);++M)h=Y.charCodeAt(M),Z=h>>8,ce=h%256,z.push(ce),z.push(Z);return z}function Re(Y){return o.toByteArray(ne(Y))}function W(Y,e,h,Z){let ce;for(ce=0;ce<Z&&!(ce+h>=e.length||ce>=Y.length);++ce)e[ce+h]=Y[ce];return ce}function te(Y,e){return Y instanceof e||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===e.name}function Pe(Y){return Y!==Y}const Oe=function(){const Y="0123456789abcdef",e=new Array(256);for(let h=0;h<16;++h){const Z=h*16;for(let ce=0;ce<16;++ce)e[Z+ce]=Y[h]+Y[ce]}return e}();function qe(Y){return typeof BigInt>"u"?De:Y}function De(){throw new Error("BigInt not supported")}})(buffer);const Buffer=buffer.Buffer,Blob$1=buffer.Blob,BlobOptions=buffer.BlobOptions,Buffer$1=buffer.Buffer,File=buffer.File,FileOptions=buffer.FileOptions,INSPECT_MAX_BYTES=buffer.INSPECT_MAX_BYTES,SlowBuffer=buffer.SlowBuffer,TranscodeEncoding=buffer.TranscodeEncoding,atob$1=buffer.atob,btoa$1=buffer.btoa,constants$1=buffer.constants,isAscii=buffer.isAscii,isUtf8=buffer.isUtf8,kMaxLength=buffer.kMaxLength,kStringMaxLength=buffer.kStringMaxLength,resolveObjectURL=buffer.resolveObjectURL,transcode=buffer.transcode;var dist=Object.freeze({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode}),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getAugmentedNamespace(s){if(s.__esModule)return s;var o=s.default;if(typeof o=="function"){var $=function n(){return this instanceof n?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};$.prototype=o.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var L=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty($,n,L.get?L:{enumerable:!0,get:function(){return s[n]}})}),$}function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},empty_1,hasRequiredEmpty;function requireEmpty(){if(hasRequiredEmpty)return empty_1;hasRequiredEmpty=1;var s=null;return empty_1=s,empty_1}var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,default:__viteBrowserExternal}),require$$1=getAugmentedNamespace(__viteBrowserExternal$1),url={exports:{}},punycode={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode.exports;var hasRequiredPunycode;function requirePunycode(){return hasRequiredPunycode||(hasRequiredPunycode=1,function(s,o){(function($){var n=o&&!o.nodeType&&o,L=s&&!s.nodeType&&s,T=typeof globalThis=="object"&&globalThis;(T.global===T||T.window===T||T.self===T)&&($=T);var I,N=2147483647,b=36,A=1,t=26,S=38,F=700,R=72,C=128,j="-",m=/^xn--/,r=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=b-A,l=Math.floor,_=String.fromCharCode,p;function w(Q){throw new RangeError(x[Q])}function O(Q,le){for(var X=Q.length,f=[];X--;)f[X]=le(Q[X]);return f}function J(Q,le){var X=Q.split("@"),f="";X.length>1&&(f=X[0]+"@",Q=X[1]),Q=Q.replace(d,".");var a=Q.split("."),g=O(a,le).join(".");return f+g}function q(Q){for(var le=[],X=0,f=Q.length,a,g;X<f;)a=Q.charCodeAt(X++),a>=55296&&a<=56319&&X<f?(g=Q.charCodeAt(X++),(g&64512)==56320?le.push(((a&1023)<<10)+(g&1023)+65536):(le.push(a),X--)):le.push(a);return le}function E(Q){return O(Q,function(le){var X="";return le>65535&&(le-=65536,X+=_(le>>>10&1023|55296),le=56320|le&1023),X+=_(le),X}).join("")}function G(Q){return Q-48<10?Q-22:Q-65<26?Q-65:Q-97<26?Q-97:b}function ge(Q,le){return Q+22+75*(Q<26)-((le!=0)<<5)}function fe(Q,le,X){var f=0;for(Q=X?l(Q/F):Q>>1,Q+=l(Q/le);Q>v*t>>1;f+=b)Q=l(Q/v);return l(f+(v+1)*Q/(Q+S))}function _e(Q){var le=[],X=Q.length,f,a=0,g=C,y=R,k,D,ee,se,B,U,he,we,Ie;for(k=Q.lastIndexOf(j),k<0&&(k=0),D=0;D<k;++D)Q.charCodeAt(D)>=128&&w("not-basic"),le.push(Q.charCodeAt(D));for(ee=k>0?k+1:0;ee<X;){for(se=a,B=1,U=b;ee>=X&&w("invalid-input"),he=G(Q.charCodeAt(ee++)),(he>=b||he>l((N-a)/B))&&w("overflow"),a+=he*B,we=U<=y?A:U>=y+t?t:U-y,!(he<we);U+=b)Ie=b-we,B>l(N/Ie)&&w("overflow"),B*=Ie;f=le.length+1,y=fe(a-se,f,se==0),l(a/f)>N-g&&w("overflow"),g+=l(a/f),a%=f,le.splice(a++,0,g)}return E(le)}function ue(Q){var le,X,f,a,g,y,k,D,ee,se,B,U=[],he,we,Ie,me;for(Q=q(Q),he=Q.length,le=C,X=0,g=R,y=0;y<he;++y)B=Q[y],B<128&&U.push(_(B));for(f=a=U.length,a&&U.push(j);f<he;){for(k=N,y=0;y<he;++y)B=Q[y],B>=le&&B<k&&(k=B);for(we=f+1,k-le>l((N-X)/we)&&w("overflow"),X+=(k-le)*we,le=k,y=0;y<he;++y)if(B=Q[y],B<le&&++X>N&&w("overflow"),B==le){for(D=X,ee=b;se=ee<=g?A:ee>=g+t?t:ee-g,!(D<se);ee+=b)me=D-se,Ie=b-se,U.push(_(ge(se+me%Ie,0))),D=l(me/Ie);U.push(_(ge(D,0))),g=fe(X,we,f==a),X=0,++f}++X,++le}return U.join("")}function ye(Q){return J(Q,function(le){return m.test(le)?_e(le.slice(4).toLowerCase()):le})}function K(Q){return J(Q,function(le){return r.test(le)?"xn--"+ue(le):le})}if(I={version:"1.4.1",ucs2:{decode:q,encode:E},decode:_e,encode:ue,toASCII:K,toUnicode:ye},n&&L)if(s.exports==n)L.exports=I;else for(p in I)I.hasOwnProperty(p)&&(n[p]=I[p]);else $.punycode=I})(commonjsGlobal)}(punycode,punycode.exports)),punycode.exports}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var objectInspect,hasRequiredObjectInspect;function requireObjectInspect(){if(hasRequiredObjectInspect)return objectInspect;hasRequiredObjectInspect=1;var s=typeof Map=="function"&&Map.prototype,o=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,$=s&&o&&typeof o.get=="function"?o.get:null,n=s&&Map.prototype.forEach,L=typeof Set=="function"&&Set.prototype,T=Object.getOwnPropertyDescriptor&&L?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,I=L&&T&&typeof T.get=="function"?T.get:null,N=L&&Set.prototype.forEach,b=typeof WeakMap=="function"&&WeakMap.prototype,A=b?WeakMap.prototype.has:null,t=typeof WeakSet=="function"&&WeakSet.prototype,S=t?WeakSet.prototype.has:null,F=typeof WeakRef=="function"&&WeakRef.prototype,R=F?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,j=Object.prototype.toString,m=Function.prototype.toString,r=String.prototype.match,d=String.prototype.slice,x=String.prototype.replace,v=String.prototype.toUpperCase,l=String.prototype.toLowerCase,_=RegExp.prototype.test,p=Array.prototype.concat,w=Array.prototype.join,O=Array.prototype.slice,J=Math.floor,q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ge=typeof Symbol=="function"&&typeof Symbol.iterator=="object",fe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ge||!0)?Symbol.toStringTag:null,_e=Object.prototype.propertyIsEnumerable,ue=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(M){return M.__proto__}:null);function ye(M,u){if(M===1/0||M===-1/0||M!==M||M&&M>-1e3&&M<1e3||_.call(/e/,u))return u;var Ae=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof M=="number"){var Ne=M<0?-J(-M):J(M);if(Ne!==M){var c=String(Ne),H=d.call(u,c.length+1);return x.call(c,Ae,"$&_")+"."+x.call(x.call(H,/([0-9]{3})/g,"$&_"),/_$/,"")}}return x.call(u,Ae,"$&_")}var K=require$$1,Q=K.custom,le=we(Q)?Q:null,X={__proto__:null,double:'"',single:"'"},f={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};objectInspect=function M(u,Ae,Ne,c){var H=Ae||{};if(ve(H,"quoteStyle")&&!ve(X,H.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ve(H,"maxStringLength")&&(typeof H.maxStringLength=="number"?H.maxStringLength<0&&H.maxStringLength!==1/0:H.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var pe=ve(H,"customInspect")?H.customInspect:!0;if(typeof pe!="boolean"&&pe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ve(H,"indent")&&H.indent!==null&&H.indent!=="	"&&!(parseInt(H.indent,10)===H.indent&&H.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ve(H,"numericSeparator")&&typeof H.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var V=H.numericSeparator;if(typeof u>"u")return"undefined";if(u===null)return"null";if(typeof u=="boolean")return u?"true":"false";if(typeof u=="string")return Oe(u,H);if(typeof u=="number"){if(u===0)return 1/0/u>0?"0":"-0";var de=String(u);return V?ye(u,de):de}if(typeof u=="bigint"){var Se=String(u)+"n";return V?ye(u,Se):Se}var Be=typeof H.depth>"u"?5:H.depth;if(typeof Ne>"u"&&(Ne=0),Ne>=Be&&Be>0&&typeof u=="object")return k(u)?"[Array]":"[Object]";var ae=Z(H,Ne);if(typeof c>"u")c=[];else if(Ee(c,u)>=0)return"[Circular]";function ie(Ze,et,nt){if(et&&(c=O.call(c),c.push(et)),nt){var rt={depth:H.depth};return ve(H,"quoteStyle")&&(rt.quoteStyle=H.quoteStyle),M(Ze,rt,Ne+1,c)}return M(Ze,H,Ne+1,c)}if(typeof u=="function"&&!ee(u)){var be=ne(u),Fe=z(u,ie);return"[Function"+(be?": "+be:" (anonymous)")+"]"+(Fe.length>0?" { "+w.call(Fe,", ")+" }":"")}if(we(u)){var ke=ge?x.call(String(u),/^(Symbol\(.*\))_[^)]*$/,"$1"):G.call(u);return typeof u=="object"&&!ge?De(ke):ke}if(Pe(u)){for(var Le="<"+l.call(String(u.nodeName)),Ue=u.attributes||[],je=0;je<Ue.length;je++)Le+=" "+Ue[je].name+"="+a(g(Ue[je].value),"double",H);return Le+=">",u.childNodes&&u.childNodes.length&&(Le+="..."),Le+="</"+l.call(String(u.nodeName))+">",Le}if(k(u)){if(u.length===0)return"[]";var We=z(u,ie);return ae&&!h(We)?"["+ce(We,ae)+"]":"[ "+w.call(We,", ")+" ]"}if(se(u)){var $e=z(u,ie);return!("cause"in Error.prototype)&&"cause"in u&&!_e.call(u,"cause")?"{ ["+String(u)+"] "+w.call(p.call("[cause]: "+ie(u.cause),$e),", ")+" }":$e.length===0?"["+String(u)+"]":"{ ["+String(u)+"] "+w.call($e,", ")+" }"}if(typeof u=="object"&&pe){if(le&&typeof u[le]=="function"&&K)return K(u,{depth:Be-Ne});if(pe!=="symbol"&&typeof u.inspect=="function")return u.inspect()}if(Te(u)){var Xe=[];return n&&n.call(u,function(Ze,et){Xe.push(ie(et,u,!0)+" => "+ie(Ze,u))}),e("Map",$.call(u),Xe,ae)}if(W(u)){var He=[];return N&&N.call(u,function(Ze){He.push(ie(Ze,u))}),e("Set",I.call(u),He,ae)}if(oe(u))return Y("WeakMap");if(te(u))return Y("WeakSet");if(Re(u))return Y("WeakRef");if(U(u))return De(ie(Number(u)));if(Ie(u))return De(ie(q.call(u)));if(he(u))return De(C.call(u));if(B(u))return De(ie(String(u)));if(typeof window<"u"&&u===window)return"{ [object Window] }";if(typeof globalThis<"u"&&u===globalThis||typeof globalThis<"u"&&u===globalThis)return"{ [object globalThis] }";if(!D(u)&&!ee(u)){var ze=z(u,ie),Ge=ue?ue(u)===Object.prototype:u instanceof Object||u.constructor===Object,Ve=u instanceof Object?"":"null prototype",Ye=!Ge&&fe&&Object(u)===u&&fe in u?d.call(re(u),8,-1):Ve?"Object":"",Ke=Ge||typeof u.constructor!="function"?"":u.constructor.name?u.constructor.name+" ":"",Qe=Ke+(Ye||Ve?"["+w.call(p.call([],Ye||[],Ve||[]),": ")+"] ":"");return ze.length===0?Qe+"{}":ae?Qe+"{"+ce(ze,ae)+"}":Qe+"{ "+w.call(ze,", ")+" }"}return String(u)};function a(M,u,Ae){var Ne=Ae.quoteStyle||u,c=X[Ne];return c+M+c}function g(M){return x.call(String(M),/"/g,"&quot;")}function y(M){return!fe||!(typeof M=="object"&&(fe in M||typeof M[fe]<"u"))}function k(M){return re(M)==="[object Array]"&&y(M)}function D(M){return re(M)==="[object Date]"&&y(M)}function ee(M){return re(M)==="[object RegExp]"&&y(M)}function se(M){return re(M)==="[object Error]"&&y(M)}function B(M){return re(M)==="[object String]"&&y(M)}function U(M){return re(M)==="[object Number]"&&y(M)}function he(M){return re(M)==="[object Boolean]"&&y(M)}function we(M){if(ge)return M&&typeof M=="object"&&M instanceof Symbol;if(typeof M=="symbol")return!0;if(!M||typeof M!="object"||!G)return!1;try{return G.call(M),!0}catch{}return!1}function Ie(M){if(!M||typeof M!="object"||!q)return!1;try{return q.call(M),!0}catch{}return!1}var me=Object.prototype.hasOwnProperty||function(M){return M in this};function ve(M,u){return me.call(M,u)}function re(M){return j.call(M)}function ne(M){if(M.name)return M.name;var u=r.call(m.call(M),/^function\s*([\w$]+)/);return u?u[1]:null}function Ee(M,u){if(M.indexOf)return M.indexOf(u);for(var Ae=0,Ne=M.length;Ae<Ne;Ae++)if(M[Ae]===u)return Ae;return-1}function Te(M){if(!$||!M||typeof M!="object")return!1;try{$.call(M);try{I.call(M)}catch{return!0}return M instanceof Map}catch{}return!1}function oe(M){if(!A||!M||typeof M!="object")return!1;try{A.call(M,A);try{S.call(M,S)}catch{return!0}return M instanceof WeakMap}catch{}return!1}function Re(M){if(!R||!M||typeof M!="object")return!1;try{return R.call(M),!0}catch{}return!1}function W(M){if(!I||!M||typeof M!="object")return!1;try{I.call(M);try{$.call(M)}catch{return!0}return M instanceof Set}catch{}return!1}function te(M){if(!S||!M||typeof M!="object")return!1;try{S.call(M,S);try{A.call(M,A)}catch{return!0}return M instanceof WeakSet}catch{}return!1}function Pe(M){return!M||typeof M!="object"?!1:typeof HTMLElement<"u"&&M instanceof HTMLElement?!0:typeof M.nodeName=="string"&&typeof M.getAttribute=="function"}function Oe(M,u){if(M.length>u.maxStringLength){var Ae=M.length-u.maxStringLength,Ne="... "+Ae+" more character"+(Ae>1?"s":"");return Oe(d.call(M,0,u.maxStringLength),u)+Ne}var c=f[u.quoteStyle||"single"];c.lastIndex=0;var H=x.call(x.call(M,c,"\\$1"),/[\x00-\x1f]/g,qe);return a(H,"single",u)}function qe(M){var u=M.charCodeAt(0),Ae={8:"b",9:"t",10:"n",12:"f",13:"r"}[u];return Ae?"\\"+Ae:"\\x"+(u<16?"0":"")+v.call(u.toString(16))}function De(M){return"Object("+M+")"}function Y(M){return M+" { ? }"}function e(M,u,Ae,Ne){var c=Ne?ce(Ae,Ne):w.call(Ae,", ");return M+" ("+u+") {"+c+"}"}function h(M){for(var u=0;u<M.length;u++)if(Ee(M[u],`
`)>=0)return!1;return!0}function Z(M,u){var Ae;if(M.indent==="	")Ae="	";else if(typeof M.indent=="number"&&M.indent>0)Ae=w.call(Array(M.indent+1)," ");else return null;return{base:Ae,prev:w.call(Array(u+1),Ae)}}function ce(M,u){if(M.length===0)return"";var Ae=`
`+u.prev+u.base;return Ae+w.call(M,","+Ae)+`
`+u.prev}function z(M,u){var Ae=k(M),Ne=[];if(Ae){Ne.length=M.length;for(var c=0;c<M.length;c++)Ne[c]=ve(M,c)?u(M[c],M):""}var H=typeof E=="function"?E(M):[],pe;if(ge){pe={};for(var V=0;V<H.length;V++)pe["$"+H[V]]=H[V]}for(var de in M)ve(M,de)&&(Ae&&String(Number(de))===de&&de<M.length||ge&&pe["$"+de]instanceof Symbol||(_.call(/[^\w$]/,de)?Ne.push(u(de,M)+": "+u(M[de],M)):Ne.push(de+": "+u(M[de],M))));if(typeof E=="function")for(var Se=0;Se<H.length;Se++)_e.call(M,H[Se])&&Ne.push("["+u(H[Se])+"]: "+u(M[H[Se]],M));return Ne}return objectInspect}var sideChannelList,hasRequiredSideChannelList;function requireSideChannelList(){if(hasRequiredSideChannelList)return sideChannelList;hasRequiredSideChannelList=1;var s=requireObjectInspect(),o=requireType(),$=function(N,b,A){for(var t=N,S;(S=t.next)!=null;t=S)if(S.key===b)return t.next=S.next,A||(S.next=N.next,N.next=S),S},n=function(N,b){if(N){var A=$(N,b);return A&&A.value}},L=function(N,b,A){var t=$(N,b);t?t.value=A:N.next={key:b,next:N.next,value:A}},T=function(N,b){return N?!!$(N,b):!1},I=function(N,b){if(N)return $(N,b,!0)};return sideChannelList=function(){var b,A={assert:function(t){if(!A.has(t))throw new o("Side channel does not contain "+s(t))},delete:function(t){var S=b&&b.next,F=I(b,t);return F&&S&&S===F&&(b=void 0),!!F},get:function(t){return n(b,t)},has:function(t){return T(b,t)},set:function(t,S){b||(b={next:void 0}),L(b,t,S)}};return A},sideChannelList}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(o){return o!==o}),_isNaN}var sign,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign;hasRequiredSign=1;var s=require_isNaN();return sign=function($){return s($)||$===0?$:$<0?-1:1},sign}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var s=requireGOPD();if(s)try{s([],"length")}catch{s=null}return gopd=s,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return esDefineProperty=s,esDefineProperty}var shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var o={},$=Symbol("test"),n=Object($);if(typeof $=="string"||Object.prototype.toString.call($)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var L=42;o[$]=L;for(var T in o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var I=Object.getOwnPropertySymbols(o);if(I.length!==1||I[0]!==$||!Object.prototype.propertyIsEnumerable.call(o,$))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var N=Object.getOwnPropertyDescriptor(o,$);if(N.value!==L||N.enumerable!==!0)return!1}return!0}),shams$1}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var s=typeof Symbol<"u"&&Symbol,o=requireShams$1();return hasSymbols=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:o()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var s=requireEsObjectAtoms();return Object_getPrototypeOf=s.getPrototypeOf||null,Object_getPrototypeOf}var implementation$4,hasRequiredImplementation$4;function requireImplementation$4(){if(hasRequiredImplementation$4)return implementation$4;hasRequiredImplementation$4=1;var s="Function.prototype.bind called on incompatible ",o=Object.prototype.toString,$=Math.max,n="[object Function]",L=function(b,A){for(var t=[],S=0;S<b.length;S+=1)t[S]=b[S];for(var F=0;F<A.length;F+=1)t[F+b.length]=A[F];return t},T=function(b,A){for(var t=[],S=A,F=0;S<b.length;S+=1,F+=1)t[F]=b[S];return t},I=function(N,b){for(var A="",t=0;t<N.length;t+=1)A+=N[t],t+1<N.length&&(A+=b);return A};return implementation$4=function(b){var A=this;if(typeof A!="function"||o.apply(A)!==n)throw new TypeError(s+A);for(var t=T(arguments,1),S,F=function(){if(this instanceof S){var r=A.apply(this,L(t,arguments));return Object(r)===r?r:this}return A.apply(b,L(t,arguments))},R=$(0,A.length-t.length),C=[],j=0;j<R;j++)C[j]="$"+j;if(S=Function("binder","return function ("+I(C,",")+"){ return binder.apply(this,arguments); }")(F),A.prototype){var m=function(){};m.prototype=A.prototype,S.prototype=new m,m.prototype=null}return S},implementation$4}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var s=requireImplementation$4();return functionBind=Function.prototype.bind||s,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var s=requireFunctionBind(),o=requireFunctionApply(),$=requireFunctionCall(),n=requireReflectApply();return actualApply=n||s.call($,o),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var s=requireFunctionBind(),o=requireType(),$=requireFunctionCall(),n=requireActualApply();return callBindApplyHelpers=function(T){if(T.length<1||typeof T[0]!="function")throw new o("a function is required");return n(s,$,T)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var s=requireCallBindApplyHelpers(),o=requireGopd(),$;try{$=[].__proto__===Array.prototype}catch(I){if(!I||typeof I!="object"||!("code"in I)||I.code!=="ERR_PROTO_ACCESS")throw I}var n=!!$&&o&&o(Object.prototype,"__proto__"),L=Object,T=L.getPrototypeOf;return get=n&&typeof n.get=="function"?s([n.get]):typeof T=="function"?function(N){return T(N==null?N:L(N))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var s=requireReflect_getPrototypeOf(),o=requireObject_getPrototypeOf(),$=requireGet();return getProto=s?function(L){return s(L)}:o?function(L){if(!L||typeof L!="object"&&typeof L!="function")throw new TypeError("getProto: not an object");return o(L)}:$?function(L){return $(L)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var s=Function.prototype.call,o=Object.prototype.hasOwnProperty,$=requireFunctionBind();return hasown=$.call(s,o),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var s,o=requireEsObjectAtoms(),$=requireEsErrors(),n=require_eval(),L=requireRange(),T=requireRef(),I=requireSyntax(),N=requireType(),b=requireUri(),A=requireAbs(),t=requireFloor(),S=requireMax(),F=requireMin(),R=requirePow(),C=requireRound(),j=requireSign(),m=Function,r=function(ee){try{return m('"use strict"; return ('+ee+").constructor;")()}catch{}},d=requireGopd(),x=requireEsDefineProperty(),v=function(){throw new N},l=d?function(){try{return arguments.callee,v}catch{try{return d(arguments,"callee").get}catch{return v}}}():v,_=requireHasSymbols()(),p=requireGetProto(),w=requireObject_getPrototypeOf(),O=requireReflect_getPrototypeOf(),J=requireFunctionApply(),q=requireFunctionCall(),E={},G=typeof Uint8Array>"u"||!p?s:p(Uint8Array),ge={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":_&&p?p([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":E,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&p?p(p([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_||!p?s:p(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":d,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":L,"%ReferenceError%":T,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_||!p?s:p(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&p?p(""[Symbol.iterator]()):s,"%Symbol%":_?Symbol:s,"%SyntaxError%":I,"%ThrowTypeError%":l,"%TypedArray%":G,"%TypeError%":N,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":b,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":q,"%Function.prototype.apply%":J,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":w,"%Math.abs%":A,"%Math.floor%":t,"%Math.max%":S,"%Math.min%":F,"%Math.pow%":R,"%Math.round%":C,"%Math.sign%":j,"%Reflect.getPrototypeOf%":O};if(p)try{null.error}catch(ee){var fe=p(p(ee));ge["%Error.prototype%"]=fe}var _e=function ee(se){var B;if(se==="%AsyncFunction%")B=r("async function () {}");else if(se==="%GeneratorFunction%")B=r("function* () {}");else if(se==="%AsyncGeneratorFunction%")B=r("async function* () {}");else if(se==="%AsyncGenerator%"){var U=ee("%AsyncGeneratorFunction%");U&&(B=U.prototype)}else if(se==="%AsyncIteratorPrototype%"){var he=ee("%AsyncGenerator%");he&&p&&(B=p(he.prototype))}return ge[se]=B,B},ue={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ye=requireFunctionBind(),K=requireHasown(),Q=ye.call(q,Array.prototype.concat),le=ye.call(J,Array.prototype.splice),X=ye.call(q,String.prototype.replace),f=ye.call(q,String.prototype.slice),a=ye.call(q,RegExp.prototype.exec),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g,k=function(se){var B=f(se,0,1),U=f(se,-1);if(B==="%"&&U!=="%")throw new I("invalid intrinsic syntax, expected closing `%`");if(U==="%"&&B!=="%")throw new I("invalid intrinsic syntax, expected opening `%`");var he=[];return X(se,g,function(we,Ie,me,ve){he[he.length]=me?X(ve,y,"$1"):Ie||we}),he},D=function(se,B){var U=se,he;if(K(ue,U)&&(he=ue[U],U="%"+he[0]+"%"),K(ge,U)){var we=ge[U];if(we===E&&(we=_e(U)),typeof we>"u"&&!B)throw new N("intrinsic "+se+" exists, but is not available. Please file an issue!");return{alias:he,name:U,value:we}}throw new I("intrinsic "+se+" does not exist!")};return getIntrinsic=function(se,B){if(typeof se!="string"||se.length===0)throw new N("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new N('"allowMissing" argument must be a boolean');if(a(/^%?[^%]*%?$/,se)===null)throw new I("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var U=k(se),he=U.length>0?U[0]:"",we=D("%"+he+"%",B),Ie=we.name,me=we.value,ve=!1,re=we.alias;re&&(he=re[0],le(U,Q([0,1],re)));for(var ne=1,Ee=!0;ne<U.length;ne+=1){var Te=U[ne],oe=f(Te,0,1),Re=f(Te,-1);if((oe==='"'||oe==="'"||oe==="`"||Re==='"'||Re==="'"||Re==="`")&&oe!==Re)throw new I("property names with quotes must have matching quotes");if((Te==="constructor"||!Ee)&&(ve=!0),he+="."+Te,Ie="%"+he+"%",K(ge,Ie))me=ge[Ie];else if(me!=null){if(!(Te in me)){if(!B)throw new N("base intrinsic for "+se+" exists, but the property is not available.");return}if(d&&ne+1>=U.length){var W=d(me,Te);Ee=!!W,Ee&&"get"in W&&!("originalValue"in W.get)?me=W.get:me=me[Te]}else Ee=K(me,Te),me=me[Te];Ee&&!ve&&(ge[Ie]=me)}}return me},getIntrinsic}var callBound$1,hasRequiredCallBound$1;function requireCallBound$1(){if(hasRequiredCallBound$1)return callBound$1;hasRequiredCallBound$1=1;var s=requireGetIntrinsic(),o=requireCallBindApplyHelpers(),$=o([s("%String.prototype.indexOf%")]);return callBound$1=function(L,T){var I=s(L,!!T);return typeof I=="function"&&$(L,".prototype.")>-1?o([I]):I},callBound$1}var sideChannelMap,hasRequiredSideChannelMap;function requireSideChannelMap(){if(hasRequiredSideChannelMap)return sideChannelMap;hasRequiredSideChannelMap=1;var s=requireGetIntrinsic(),o=requireCallBound$1(),$=requireObjectInspect(),n=requireType(),L=s("%Map%",!0),T=o("Map.prototype.get",!0),I=o("Map.prototype.set",!0),N=o("Map.prototype.has",!0),b=o("Map.prototype.delete",!0),A=o("Map.prototype.size",!0);return sideChannelMap=!!L&&function(){var S,F={assert:function(R){if(!F.has(R))throw new n("Side channel does not contain "+$(R))},delete:function(R){if(S){var C=b(S,R);return A(S)===0&&(S=void 0),C}return!1},get:function(R){if(S)return T(S,R)},has:function(R){return S?N(S,R):!1},set:function(R,C){S||(S=new L),I(S,R,C)}};return F},sideChannelMap}var sideChannelWeakmap,hasRequiredSideChannelWeakmap;function requireSideChannelWeakmap(){if(hasRequiredSideChannelWeakmap)return sideChannelWeakmap;hasRequiredSideChannelWeakmap=1;var s=requireGetIntrinsic(),o=requireCallBound$1(),$=requireObjectInspect(),n=requireSideChannelMap(),L=requireType(),T=s("%WeakMap%",!0),I=o("WeakMap.prototype.get",!0),N=o("WeakMap.prototype.set",!0),b=o("WeakMap.prototype.has",!0),A=o("WeakMap.prototype.delete",!0);return sideChannelWeakmap=T?function(){var S,F,R={assert:function(C){if(!R.has(C))throw new L("Side channel does not contain "+$(C))},delete:function(C){if(T&&C&&(typeof C=="object"||typeof C=="function")){if(S)return A(S,C)}else if(n&&F)return F.delete(C);return!1},get:function(C){return T&&C&&(typeof C=="object"||typeof C=="function")&&S?I(S,C):F&&F.get(C)},has:function(C){return T&&C&&(typeof C=="object"||typeof C=="function")&&S?b(S,C):!!F&&F.has(C)},set:function(C,j){T&&C&&(typeof C=="object"||typeof C=="function")?(S||(S=new T),N(S,C,j)):n&&(F||(F=n()),F.set(C,j))}};return R}:n,sideChannelWeakmap}var sideChannel,hasRequiredSideChannel;function requireSideChannel(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var s=requireType(),o=requireObjectInspect(),$=requireSideChannelList(),n=requireSideChannelMap(),L=requireSideChannelWeakmap(),T=L||n||$;return sideChannel=function(){var N,b={assert:function(A){if(!b.has(A))throw new s("Side channel does not contain "+o(A))},delete:function(A){return!!N&&N.delete(A)},get:function(A){return N&&N.get(A)},has:function(A){return!!N&&N.has(A)},set:function(A,t){N||(N=T()),N.set(A,t)}};return b},sideChannel}var formats,hasRequiredFormats;function requireFormats(){if(hasRequiredFormats)return formats;hasRequiredFormats=1;var s=String.prototype.replace,o=/%20/g,$={RFC1738:"RFC1738",RFC3986:"RFC3986"};return formats={default:$.RFC3986,formatters:{RFC1738:function(n){return s.call(n,o,"+")},RFC3986:function(n){return String(n)}},RFC1738:$.RFC1738,RFC3986:$.RFC3986},formats}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var s=requireFormats(),o=Object.prototype.hasOwnProperty,$=Array.isArray,n=function(){for(var m=[],r=0;r<256;++r)m.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return m}(),L=function(r){for(;r.length>1;){var d=r.pop(),x=d.obj[d.prop];if($(x)){for(var v=[],l=0;l<x.length;++l)typeof x[l]<"u"&&v.push(x[l]);d.obj[d.prop]=v}}},T=function(r,d){for(var x=d&&d.plainObjects?{__proto__:null}:{},v=0;v<r.length;++v)typeof r[v]<"u"&&(x[v]=r[v]);return x},I=function m(r,d,x){if(!d)return r;if(typeof d!="object"&&typeof d!="function"){if($(r))r.push(d);else if(r&&typeof r=="object")(x&&(x.plainObjects||x.allowPrototypes)||!o.call(Object.prototype,d))&&(r[d]=!0);else return[r,d];return r}if(!r||typeof r!="object")return[r].concat(d);var v=r;return $(r)&&!$(d)&&(v=T(r,x)),$(r)&&$(d)?(d.forEach(function(l,_){if(o.call(r,_)){var p=r[_];p&&typeof p=="object"&&l&&typeof l=="object"?r[_]=m(p,l,x):r.push(l)}else r[_]=l}),r):Object.keys(d).reduce(function(l,_){var p=d[_];return o.call(l,_)?l[_]=m(l[_],p,x):l[_]=p,l},v)},N=function(r,d){return Object.keys(d).reduce(function(x,v){return x[v]=d[v],x},r)},b=function(m,r,d){var x=m.replace(/\+/g," ");if(d==="iso-8859-1")return x.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(x)}catch{return x}},A=1024,t=function(r,d,x,v,l){if(r.length===0)return r;var _=r;if(typeof r=="symbol"?_=Symbol.prototype.toString.call(r):typeof r!="string"&&(_=String(r)),x==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(G){return"%26%23"+parseInt(G.slice(2),16)+"%3B"});for(var p="",w=0;w<_.length;w+=A){for(var O=_.length>=A?_.slice(w,w+A):_,J=[],q=0;q<O.length;++q){var E=O.charCodeAt(q);if(E===45||E===46||E===95||E===126||E>=48&&E<=57||E>=65&&E<=90||E>=97&&E<=122||l===s.RFC1738&&(E===40||E===41)){J[J.length]=O.charAt(q);continue}if(E<128){J[J.length]=n[E];continue}if(E<2048){J[J.length]=n[192|E>>6]+n[128|E&63];continue}if(E<55296||E>=57344){J[J.length]=n[224|E>>12]+n[128|E>>6&63]+n[128|E&63];continue}q+=1,E=65536+((E&1023)<<10|O.charCodeAt(q)&1023),J[J.length]=n[240|E>>18]+n[128|E>>12&63]+n[128|E>>6&63]+n[128|E&63]}p+=J.join("")}return p},S=function(r){for(var d=[{obj:{o:r},prop:"o"}],x=[],v=0;v<d.length;++v)for(var l=d[v],_=l.obj[l.prop],p=Object.keys(_),w=0;w<p.length;++w){var O=p[w],J=_[O];typeof J=="object"&&J!==null&&x.indexOf(J)===-1&&(d.push({obj:_,prop:O}),x.push(J))}return L(d),r},F=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},R=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},C=function(r,d){return[].concat(r,d)},j=function(r,d){if($(r)){for(var x=[],v=0;v<r.length;v+=1)x.push(d(r[v]));return x}return d(r)};return utils={arrayToObject:T,assign:N,combine:C,compact:S,decode:b,encode:t,isBuffer:R,isRegExp:F,maybeMap:j,merge:I},utils}var stringify_1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify_1;hasRequiredStringify=1;var s=requireSideChannel(),o=requireUtils(),$=requireFormats(),n=Object.prototype.hasOwnProperty,L={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,r){return m+"["+r+"]"},repeat:function(m){return m}},T=Array.isArray,I=Array.prototype.push,N=function(j,m){I.apply(j,T(m)?m:[m])},b=Date.prototype.toISOString,A=$.default,t={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:A,formatter:$.formatters[A],indices:!1,serializeDate:function(m){return b.call(m)},skipNulls:!1,strictNullHandling:!1},S=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},F={},R=function j(m,r,d,x,v,l,_,p,w,O,J,q,E,G,ge,fe,_e,ue){for(var ye=m,K=ue,Q=0,le=!1;(K=K.get(F))!==void 0&&!le;){var X=K.get(m);if(Q+=1,typeof X<"u"){if(X===Q)throw new RangeError("Cyclic object value");le=!0}typeof K.get(F)>"u"&&(Q=0)}if(typeof O=="function"?ye=O(r,ye):ye instanceof Date?ye=E(ye):d==="comma"&&T(ye)&&(ye=o.maybeMap(ye,function(Ie){return Ie instanceof Date?E(Ie):Ie})),ye===null){if(l)return w&&!fe?w(r,t.encoder,_e,"key",G):r;ye=""}if(S(ye)||o.isBuffer(ye)){if(w){var f=fe?r:w(r,t.encoder,_e,"key",G);return[ge(f)+"="+ge(w(ye,t.encoder,_e,"value",G))]}return[ge(r)+"="+ge(String(ye))]}var a=[];if(typeof ye>"u")return a;var g;if(d==="comma"&&T(ye))fe&&w&&(ye=o.maybeMap(ye,w)),g=[{value:ye.length>0?ye.join(",")||null:void 0}];else if(T(O))g=O;else{var y=Object.keys(ye);g=J?y.sort(J):y}var k=p?String(r).replace(/\./g,"%2E"):String(r),D=x&&T(ye)&&ye.length===1?k+"[]":k;if(v&&T(ye)&&ye.length===0)return D+"[]";for(var ee=0;ee<g.length;++ee){var se=g[ee],B=typeof se=="object"&&se&&typeof se.value<"u"?se.value:ye[se];if(!(_&&B===null)){var U=q&&p?String(se).replace(/\./g,"%2E"):String(se),he=T(ye)?typeof d=="function"?d(D,U):D:D+(q?"."+U:"["+U+"]");ue.set(m,Q);var we=s();we.set(F,ue),N(a,j(B,he,d,x,v,l,_,p,d==="comma"&&fe&&T(ye)?null:w,O,J,q,E,G,ge,fe,_e,we))}}return a},C=function(m){if(!m)return t;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=m.charset||t.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=$.default;if(typeof m.format<"u"){if(!n.call($.formatters,m.format))throw new TypeError("Unknown format option provided.");d=m.format}var x=$.formatters[d],v=t.filter;(typeof m.filter=="function"||T(m.filter))&&(v=m.filter);var l;if(m.arrayFormat in L?l=m.arrayFormat:"indices"in m?l=m.indices?"indices":"repeat":l=t.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var _=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:t.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:t.addQueryPrefix,allowDots:_,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:t.allowEmptyArrays,arrayFormat:l,charset:r,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:t.charsetSentinel,commaRoundTrip:!!m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?t.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:t.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:t.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:t.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:t.encodeValuesOnly,filter:v,format:d,formatter:x,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:t.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:t.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:t.strictNullHandling}};return stringify_1=function(j,m){var r=j,d=C(m),x,v;typeof d.filter=="function"?(v=d.filter,r=v("",r)):T(d.filter)&&(v=d.filter,x=v);var l=[];if(typeof r!="object"||r===null)return"";var _=L[d.arrayFormat],p=_==="comma"&&d.commaRoundTrip;x||(x=Object.keys(r)),d.sort&&x.sort(d.sort);for(var w=s(),O=0;O<x.length;++O){var J=x[O],q=r[J];d.skipNulls&&q===null||N(l,R(q,J,_,p,d.allowEmptyArrays,d.strictNullHandling,d.skipNulls,d.encodeDotInKeys,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,w))}var E=l.join(d.delimiter),G=d.addQueryPrefix===!0?"?":"";return d.charsetSentinel&&(d.charset==="iso-8859-1"?G+="utf8=%26%2310003%3B&":G+="utf8=%E2%9C%93&"),E.length>0?G+E:""},stringify_1}var parse,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1;var s=requireUtils(),o=Object.prototype.hasOwnProperty,$=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},L=function(F){return F.replace(/&#(\d+);/g,function(R,C){return String.fromCharCode(parseInt(C,10))})},T=function(F,R,C){if(F&&typeof F=="string"&&R.comma&&F.indexOf(",")>-1)return F.split(",");if(R.throwOnLimitExceeded&&C>=R.arrayLimit)throw new RangeError("Array limit exceeded. Only "+R.arrayLimit+" element"+(R.arrayLimit===1?"":"s")+" allowed in an array.");return F},I="utf8=%26%2310003%3B",N="utf8=%E2%9C%93",b=function(R,C){var j={__proto__:null},m=C.ignoreQueryPrefix?R.replace(/^\?/,""):R;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var r=C.parameterLimit===1/0?void 0:C.parameterLimit,d=m.split(C.delimiter,C.throwOnLimitExceeded?r+1:r);if(C.throwOnLimitExceeded&&d.length>r)throw new RangeError("Parameter limit exceeded. Only "+r+" parameter"+(r===1?"":"s")+" allowed.");var x=-1,v,l=C.charset;if(C.charsetSentinel)for(v=0;v<d.length;++v)d[v].indexOf("utf8=")===0&&(d[v]===N?l="utf-8":d[v]===I&&(l="iso-8859-1"),x=v,v=d.length);for(v=0;v<d.length;++v)if(v!==x){var _=d[v],p=_.indexOf("]="),w=p===-1?_.indexOf("="):p+1,O,J;w===-1?(O=C.decoder(_,n.decoder,l,"key"),J=C.strictNullHandling?null:""):(O=C.decoder(_.slice(0,w),n.decoder,l,"key"),J=s.maybeMap(T(_.slice(w+1),C,$(j[O])?j[O].length:0),function(E){return C.decoder(E,n.decoder,l,"value")})),J&&C.interpretNumericEntities&&l==="iso-8859-1"&&(J=L(String(J))),_.indexOf("[]=")>-1&&(J=$(J)?[J]:J);var q=o.call(j,O);q&&C.duplicates==="combine"?j[O]=s.combine(j[O],J):(!q||C.duplicates==="last")&&(j[O]=J)}return j},A=function(F,R,C,j){var m=0;if(F.length>0&&F[F.length-1]==="[]"){var r=F.slice(0,-1).join("");m=Array.isArray(R)&&R[r]?R[r].length:0}for(var d=j?R:T(R,C,m),x=F.length-1;x>=0;--x){var v,l=F[x];if(l==="[]"&&C.parseArrays)v=C.allowEmptyArrays&&(d===""||C.strictNullHandling&&d===null)?[]:s.combine([],d);else{v=C.plainObjects?{__proto__:null}:{};var _=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,p=C.decodeDotInKeys?_.replace(/%2E/g,"."):_,w=parseInt(p,10);!C.parseArrays&&p===""?v={0:d}:!isNaN(w)&&l!==p&&String(w)===p&&w>=0&&C.parseArrays&&w<=C.arrayLimit?(v=[],v[w]=d):p!=="__proto__"&&(v[p]=d)}d=v}return d},t=function(R,C,j,m){if(R){var r=j.allowDots?R.replace(/\.([^.[]+)/g,"[$1]"):R,d=/(\[[^[\]]*])/,x=/(\[[^[\]]*])/g,v=j.depth>0&&d.exec(r),l=v?r.slice(0,v.index):r,_=[];if(l){if(!j.plainObjects&&o.call(Object.prototype,l)&&!j.allowPrototypes)return;_.push(l)}for(var p=0;j.depth>0&&(v=x.exec(r))!==null&&p<j.depth;){if(p+=1,!j.plainObjects&&o.call(Object.prototype,v[1].slice(1,-1))&&!j.allowPrototypes)return;_.push(v[1])}if(v){if(j.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+j.depth+" and strictDepth is true");_.push("["+r.slice(v.index)+"]")}return A(_,C,j,m)}},S=function(R){if(!R)return n;if(typeof R.allowEmptyArrays<"u"&&typeof R.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof R.decodeDotInKeys<"u"&&typeof R.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(R.decoder!==null&&typeof R.decoder<"u"&&typeof R.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof R.charset<"u"&&R.charset!=="utf-8"&&R.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof R.throwOnLimitExceeded<"u"&&typeof R.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var C=typeof R.charset>"u"?n.charset:R.charset,j=typeof R.duplicates>"u"?n.duplicates:R.duplicates;if(j!=="combine"&&j!=="first"&&j!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof R.allowDots>"u"?R.decodeDotInKeys===!0?!0:n.allowDots:!!R.allowDots;return{allowDots:m,allowEmptyArrays:typeof R.allowEmptyArrays=="boolean"?!!R.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof R.allowPrototypes=="boolean"?R.allowPrototypes:n.allowPrototypes,allowSparse:typeof R.allowSparse=="boolean"?R.allowSparse:n.allowSparse,arrayLimit:typeof R.arrayLimit=="number"?R.arrayLimit:n.arrayLimit,charset:C,charsetSentinel:typeof R.charsetSentinel=="boolean"?R.charsetSentinel:n.charsetSentinel,comma:typeof R.comma=="boolean"?R.comma:n.comma,decodeDotInKeys:typeof R.decodeDotInKeys=="boolean"?R.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof R.decoder=="function"?R.decoder:n.decoder,delimiter:typeof R.delimiter=="string"||s.isRegExp(R.delimiter)?R.delimiter:n.delimiter,depth:typeof R.depth=="number"||R.depth===!1?+R.depth:n.depth,duplicates:j,ignoreQueryPrefix:R.ignoreQueryPrefix===!0,interpretNumericEntities:typeof R.interpretNumericEntities=="boolean"?R.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof R.parameterLimit=="number"?R.parameterLimit:n.parameterLimit,parseArrays:R.parseArrays!==!1,plainObjects:typeof R.plainObjects=="boolean"?R.plainObjects:n.plainObjects,strictDepth:typeof R.strictDepth=="boolean"?!!R.strictDepth:n.strictDepth,strictNullHandling:typeof R.strictNullHandling=="boolean"?R.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof R.throwOnLimitExceeded=="boolean"?R.throwOnLimitExceeded:!1}};return parse=function(F,R){var C=S(R);if(F===""||F===null||typeof F>"u")return C.plainObjects?{__proto__:null}:{};for(var j=typeof F=="string"?b(F,C):F,m=C.plainObjects?{__proto__:null}:{},r=Object.keys(j),d=0;d<r.length;++d){var x=r[d],v=t(x,j[x],C,typeof F=="string");m=s.merge(m,v,C)}return C.allowSparse===!0?m:s.compact(m)},parse}var lib$1,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var s=requireStringify(),o=requireParse(),$=requireFormats();return lib$1={formats:$,parse:o,stringify:s},lib$1}var hasRequiredUrl;function requireUrl(){return hasRequiredUrl||(hasRequiredUrl=1,function(s,o){Object.defineProperty(o,"__esModule",{value:!0});var $=requirePunycode(),n=requireLib$1();function L(oe){return oe&&typeof oe=="object"&&"default"in oe?oe:{default:oe}}var T=L($),I=L(n),N=T.default;function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var A=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,S=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,F=["<",">",'"',"`"," ","\r",`
`,"	"],R=["{","}","|","\\","^","`"].concat(F),C=["'"].concat(R),j=["%","/","?",";","#"].concat(C),m=["/","?","#"],r=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},l={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},p=I.default;function w(oe,Re,W){if(oe&&typeof oe=="object"&&oe instanceof b)return oe;var te=new b;return te.parse(oe,Re,W),te}b.prototype.parse=function(oe,Re,W){if(typeof oe!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof oe);var te=oe.indexOf("?"),Pe=te!==-1&&te<oe.indexOf("#")?"?":"#",Oe=oe.split(Pe),qe=/\\/g;Oe[0]=Oe[0].replace(qe,"/"),oe=Oe.join(Pe);var De=oe;if(De=De.trim(),!W&&oe.split("#").length===1){var Y=S.exec(De);if(Y)return this.path=De,this.href=De,this.pathname=Y[1],Y[2]?(this.search=Y[2],Re?this.query=p.parse(this.search.substr(1)):this.query=this.search.substr(1)):Re&&(this.search="",this.query={}),this}var e=A.exec(De);if(e){e=e[0];var h=e.toLowerCase();this.protocol=h,De=De.substr(e.length)}if(W||e||De.match(/^\/\/[^@/]+@[^@/]+/)){var Z=De.substr(0,2)==="//";Z&&!(e&&l[e])&&(De=De.substr(2),this.slashes=!0)}if(!l[e]&&(Z||e&&!_[e])){for(var ce=-1,z=0;z<m.length;z++){var M=De.indexOf(m[z]);M!==-1&&(ce===-1||M<ce)&&(ce=M)}var u,Ae;ce===-1?Ae=De.lastIndexOf("@"):Ae=De.lastIndexOf("@",ce),Ae!==-1&&(u=De.slice(0,Ae),De=De.slice(Ae+1),this.auth=decodeURIComponent(u)),ce=-1;for(var z=0;z<j.length;z++){var M=De.indexOf(j[z]);M!==-1&&(ce===-1||M<ce)&&(ce=M)}ce===-1&&(ce=De.length),this.host=De.slice(0,ce),De=De.slice(ce),this.parseHost(),this.hostname=this.hostname||"";var Ne=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Ne)for(var c=this.hostname.split(/\./),z=0,H=c.length;z<H;z++){var pe=c[z];if(pe&&!pe.match(d)){for(var V="",de=0,Se=pe.length;de<Se;de++)pe.charCodeAt(de)>127?V+="x":V+=pe[de];if(!V.match(d)){var Be=c.slice(0,z),ae=c.slice(z+1),ie=pe.match(x);ie&&(Be.push(ie[1]),ae.unshift(ie[2])),ae.length&&(De="/"+ae.join(".")+De),this.hostname=Be.join(".");break}}}this.hostname.length>r?this.hostname="":this.hostname=this.hostname.toLowerCase(),Ne||(this.hostname=N.toASCII(this.hostname));var be=this.port?":"+this.port:"",Fe=this.hostname||"";this.host=Fe+be,this.href+=this.host,Ne&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),De[0]!=="/"&&(De="/"+De))}if(!v[h])for(var z=0,H=C.length;z<H;z++){var ke=C[z];if(De.indexOf(ke)!==-1){var Le=encodeURIComponent(ke);Le===ke&&(Le=escape(ke)),De=De.split(ke).join(Le)}}var Ue=De.indexOf("#");Ue!==-1&&(this.hash=De.substr(Ue),De=De.slice(0,Ue));var je=De.indexOf("?");if(je!==-1?(this.search=De.substr(je),this.query=De.substr(je+1),Re&&(this.query=p.parse(this.query)),De=De.slice(0,je)):Re&&(this.search="",this.query={}),De&&(this.pathname=De),_[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var be=this.pathname||"",We=this.search||"";this.path=be+We}return this.href=this.format(),this};function O(oe){return typeof oe=="string"&&(oe=w(oe)),oe instanceof b?oe.format():b.prototype.format.call(oe)}b.prototype.format=function(){var oe=this.auth||"";oe&&(oe=encodeURIComponent(oe),oe=oe.replace(/%3A/i,":"),oe+="@");var Re=this.protocol||"",W=this.pathname||"",te=this.hash||"",Pe=!1,Oe="";this.host?Pe=oe+this.host:this.hostname&&(Pe=oe+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Pe+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(Oe=p.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var qe=this.search||Oe&&"?"+Oe||"";return Re&&Re.substr(-1)!==":"&&(Re+=":"),this.slashes||(!Re||_[Re])&&Pe!==!1?(Pe="//"+(Pe||""),W&&W.charAt(0)!=="/"&&(W="/"+W)):Pe||(Pe=""),te&&te.charAt(0)!=="#"&&(te="#"+te),qe&&qe.charAt(0)!=="?"&&(qe="?"+qe),W=W.replace(/[?#]/g,function(De){return encodeURIComponent(De)}),qe=qe.replace("#","%23"),Re+Pe+W+qe+te};function J(oe,Re){return w(oe,!1,!0).resolve(Re)}b.prototype.resolve=function(oe){return this.resolveObject(w(oe,!1,!0)).format()};function q(oe,Re){return oe?w(oe,!1,!0).resolveObject(Re):Re}b.prototype.resolveObject=function(oe){if(typeof oe=="string"){var Re=new b;Re.parse(oe,!1,!0),oe=Re}for(var W=new b,te=Object.keys(this),Pe=0;Pe<te.length;Pe++){var Oe=te[Pe];W[Oe]=this[Oe]}if(W.hash=oe.hash,oe.href==="")return W.href=W.format(),W;if(oe.slashes&&!oe.protocol){for(var qe=Object.keys(oe),De=0;De<qe.length;De++){var Y=qe[De];Y!=="protocol"&&(W[Y]=oe[Y])}return _[W.protocol]&&W.hostname&&!W.pathname&&(W.pathname="/",W.path=W.pathname),W.href=W.format(),W}if(oe.protocol&&oe.protocol!==W.protocol){if(!_[oe.protocol]){for(var e=Object.keys(oe),h=0;h<e.length;h++){var Z=e[h];W[Z]=oe[Z]}return W.href=W.format(),W}if(W.protocol=oe.protocol,!oe.host&&!l[oe.protocol]){for(var H=(oe.pathname||"").split("/");H.length&&!(oe.host=H.shift()););oe.host||(oe.host=""),oe.hostname||(oe.hostname=""),H[0]!==""&&H.unshift(""),H.length<2&&H.unshift(""),W.pathname=H.join("/")}else W.pathname=oe.pathname;if(W.search=oe.search,W.query=oe.query,W.host=oe.host||"",W.auth=oe.auth,W.hostname=oe.hostname||oe.host,W.port=oe.port,W.pathname||W.search){var ce=W.pathname||"",z=W.search||"";W.path=ce+z}return W.slashes=W.slashes||oe.slashes,W.href=W.format(),W}var M=W.pathname&&W.pathname.charAt(0)==="/",u=oe.host||oe.pathname&&oe.pathname.charAt(0)==="/",Ae=u||M||W.host&&oe.pathname,Ne=Ae,c=W.pathname&&W.pathname.split("/")||[],H=oe.pathname&&oe.pathname.split("/")||[],pe=W.protocol&&!_[W.protocol];if(pe&&(W.hostname="",W.port=null,W.host&&(c[0]===""?c[0]=W.host:c.unshift(W.host)),W.host="",oe.protocol&&(oe.hostname=null,oe.port=null,oe.host&&(H[0]===""?H[0]=oe.host:H.unshift(oe.host)),oe.host=null),Ae=Ae&&(H[0]===""||c[0]==="")),u)W.host=oe.host||oe.host===""?oe.host:W.host,W.hostname=oe.hostname||oe.hostname===""?oe.hostname:W.hostname,W.search=oe.search,W.query=oe.query,c=H;else if(H.length)c||(c=[]),c.pop(),c=c.concat(H),W.search=oe.search,W.query=oe.query;else if(oe.search!=null){if(pe){W.host=c.shift(),W.hostname=W.host;var V=W.host&&W.host.indexOf("@")>0?W.host.split("@"):!1;V&&(W.auth=V.shift(),W.hostname=V.shift(),W.host=W.hostname)}return W.search=oe.search,W.query=oe.query,(W.pathname!==null||W.search!==null)&&(W.path=(W.pathname?W.pathname:"")+(W.search?W.search:"")),W.href=W.format(),W}if(!c.length)return W.pathname=null,W.search?W.path="/"+W.search:W.path=null,W.href=W.format(),W;for(var de=c.slice(-1)[0],Se=(W.host||oe.host||c.length>1)&&(de==="."||de==="..")||de==="",Be=0,ae=c.length;ae>=0;ae--)de=c[ae],de==="."?c.splice(ae,1):de===".."?(c.splice(ae,1),Be++):Be&&(c.splice(ae,1),Be--);if(!Ae&&!Ne)for(;Be--;Be)c.unshift("..");Ae&&c[0]!==""&&(!c[0]||c[0].charAt(0)!=="/")&&c.unshift(""),Se&&c.join("/").substr(-1)!=="/"&&c.push("");var ie=c[0]===""||c[0]&&c[0].charAt(0)==="/";if(pe){W.hostname=ie?"":c.length?c.shift():"",W.host=W.hostname;var V=W.host&&W.host.indexOf("@")>0?W.host.split("@"):!1;V&&(W.auth=V.shift(),W.hostname=V.shift(),W.host=W.hostname)}return Ae=Ae||W.host&&c.length,Ae&&!ie&&c.unshift(""),c.length>0?W.pathname=c.join("/"):(W.pathname=null,W.path=null),(W.pathname!==null||W.search!==null)&&(W.path=(W.pathname?W.pathname:"")+(W.search?W.search:"")),W.auth=oe.auth||W.auth,W.slashes=W.slashes||oe.slashes,W.href=W.format(),W},b.prototype.parseHost=function(){var oe=this.host,Re=t.exec(oe);Re&&(Re=Re[0],Re!==":"&&(this.port=Re.substr(1)),oe=oe.substr(0,oe.length-Re.length)),oe&&(this.hostname=oe)};var E=w,G=J,ge=q,fe=O,_e=b;function ue(oe,Re){for(var W=0,te=oe.length-1;te>=0;te--){var Pe=oe[te];Pe==="."?oe.splice(te,1):Pe===".."?(oe.splice(te,1),W++):W&&(oe.splice(te,1),W--)}if(Re)for(;W--;W)oe.unshift("..");return oe}function ye(){for(var oe="",Re=!1,W=arguments.length-1;W>=-1&&!Re;W--){var te=W>=0?arguments[W]:"/";if(typeof te!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!te)continue;oe=te+"/"+oe,Re=te.charAt(0)==="/"}return oe=ue(K(oe.split("/"),function(Pe){return!!Pe}),!Re).join("/"),(Re?"/":"")+oe||"."}function K(oe,Re){if(oe.filter)return oe.filter(Re);for(var W=[],te=0;te<oe.length;te++)Re(oe[te],te,oe)&&W.push(oe[te]);return W}var Q=function(oe){function Re(){var te=this||self;return delete oe.prototype.__magic__,te}if(typeof globalThis=="object")return globalThis;if(this)return Re();oe.defineProperty(oe.prototype,"__magic__",{configurable:!0,get:Re});var W=__magic__;return W}(Object),le=fe,X=E,f=G,a=_e,g=Q.URL,y=Q.URLSearchParams,k=/%/g,D=/\\/g,ee=/\n/g,se=/\r/g,B=/\t/g,U=47;function he(oe){var Re=oe??null;return!!(Re!==null&&(Re!=null&&Re.href)&&(Re!=null&&Re.origin))}function we(oe){if(oe.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var Re=oe.pathname,W=0;W<Re.length;W++)if(Re[W]==="%"){var te=Re.codePointAt(W+2)|32;if(Re[W+1]==="2"&&te===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(Re)}function Ie(oe){return oe.includes("%")&&(oe=oe.replace(k,"%25")),oe.includes("\\")&&(oe=oe.replace(D,"%5C")),oe.includes(`
`)&&(oe=oe.replace(ee,"%0A")),oe.includes("\r")&&(oe=oe.replace(se,"%0D")),oe.includes("	")&&(oe=oe.replace(B,"%09")),oe}var me=function(Re){if(typeof Re>"u")throw new TypeError('The "domain" argument must be specified');return new g("http://"+Re).hostname},ve=function(Re){if(typeof Re>"u")throw new TypeError('The "domain" argument must be specified');return new g("http://"+Re).hostname},re=function(Re){var W=new g("file://"),te=ye(Re),Pe=Re.charCodeAt(Re.length-1);return Pe===U&&te[te.length-1]!=="/"&&(te+="/"),W.pathname=Ie(te),W},ne=function(Re){if(!he(Re)&&typeof Re!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof Re+" ("+Re+")");var W=new g(Re);if(W.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return we(W)},Ee=function(Re,W){var te,Pe,Oe,qe;if(W===void 0&&(W={}),!(Re instanceof g))return le(Re);if(typeof W!="object"||W===null)throw new TypeError('The "options" argument must be of type object.');var De=(te=W.auth)!=null?te:!0,Y=(Pe=W.fragment)!=null?Pe:!0,e=(Oe=W.search)!=null?Oe:!0;(qe=W.unicode)!=null;var h=new g(Re.toString());return De||(h.username="",h.password=""),Y||(h.hash=""),e||(h.search=""),h.toString()},Te={format:Ee,parse:X,resolve:f,resolveObject:ge,Url:a,URL:g,URLSearchParams:y,domainToASCII:me,domainToUnicode:ve,pathToFileURL:re,fileURLToPath:ne};o.URL=g,o.URLSearchParams=y,o.Url=a,o.default=Te,o.domainToASCII=me,o.domainToUnicode=ve,o.fileURLToPath=ne,o.format=Ee,o.parse=X,o.pathToFileURL=re,o.resolve=f,o.resolveObject=ge,o=s.exports=Te}(url,url.exports)),url.exports}var streamHttp={},request={exports:{}},capability={},hasRequiredCapability;function requireCapability(){return hasRequiredCapability||(hasRequiredCapability=1,function(s){s.fetch=L(globalThis.fetch)&&L(globalThis.ReadableStream),s.writableStream=L(globalThis.WritableStream),s.abortController=L(globalThis.AbortController);var o;function $(){if(o!==void 0)return o;if(globalThis.XMLHttpRequest){o=new globalThis.XMLHttpRequest;try{o.open("GET",globalThis.XDomainRequest?"/":"https://example.com")}catch{o=null}}else o=null;return o}function n(T){var I=$();if(!I)return!1;try{return I.responseType=T,I.responseType===T}catch{}return!1}s.arraybuffer=s.fetch||n("arraybuffer"),s.msstream=!s.fetch&&n("ms-stream"),s.mozchunkedarraybuffer=!s.fetch&&n("moz-chunked-arraybuffer"),s.overrideMimeType=s.fetch||($()?L($().overrideMimeType):!1);function L(T){return typeof T=="function"}o=null}(capability)),capability}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(o,$){$&&(o.super_=$,o.prototype=Object.create($.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(o,$){if($){o.super_=$;var n=function(){};n.prototype=$.prototype,o.prototype=new n,o.prototype.constructor=o}}),inherits_browser.exports}var response={},readableBrowser={exports:{}},events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var s=typeof Reflect=="object"?Reflect:null,o=s&&typeof s.apply=="function"?s.apply:function(l,_,p){return Function.prototype.apply.call(l,_,p)},$;s&&typeof s.ownKeys=="function"?$=s.ownKeys:Object.getOwnPropertySymbols?$=function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:$=function(l){return Object.getOwnPropertyNames(l)};function n(v){console&&console.warn&&console.warn(v)}var L=Number.isNaN||function(l){return l!==l};function T(){T.init.call(this)}events.exports=T,events.exports.once=r,T.EventEmitter=T,T.prototype._events=void 0,T.prototype._eventsCount=0,T.prototype._maxListeners=void 0;var I=10;function N(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(v){if(typeof v!="number"||v<0||L(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");I=v}}),T.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(l){if(typeof l!="number"||l<0||L(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this};function b(v){return v._maxListeners===void 0?T.defaultMaxListeners:v._maxListeners}T.prototype.getMaxListeners=function(){return b(this)},T.prototype.emit=function(l){for(var _=[],p=1;p<arguments.length;p++)_.push(arguments[p]);var w=l==="error",O=this._events;if(O!==void 0)w=w&&O.error===void 0;else if(!w)return!1;if(w){var J;if(_.length>0&&(J=_[0]),J instanceof Error)throw J;var q=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw q.context=J,q}var E=O[l];if(E===void 0)return!1;if(typeof E=="function")o(E,this,_);else for(var G=E.length,ge=C(E,G),p=0;p<G;++p)o(ge[p],this,_);return!0};function A(v,l,_,p){var w,O,J;if(N(_),O=v._events,O===void 0?(O=v._events=Object.create(null),v._eventsCount=0):(O.newListener!==void 0&&(v.emit("newListener",l,_.listener?_.listener:_),O=v._events),J=O[l]),J===void 0)J=O[l]=_,++v._eventsCount;else if(typeof J=="function"?J=O[l]=p?[_,J]:[J,_]:p?J.unshift(_):J.push(_),w=b(v),w>0&&J.length>w&&!J.warned){J.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(l)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=v,q.type=l,q.count=J.length,n(q)}return v}T.prototype.addListener=function(l,_){return A(this,l,_,!1)},T.prototype.on=T.prototype.addListener,T.prototype.prependListener=function(l,_){return A(this,l,_,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(v,l,_){var p={fired:!1,wrapFn:void 0,target:v,type:l,listener:_},w=t.bind(p);return w.listener=_,p.wrapFn=w,w}T.prototype.once=function(l,_){return N(_),this.on(l,S(this,l,_)),this},T.prototype.prependOnceListener=function(l,_){return N(_),this.prependListener(l,S(this,l,_)),this},T.prototype.removeListener=function(l,_){var p,w,O,J,q;if(N(_),w=this._events,w===void 0)return this;if(p=w[l],p===void 0)return this;if(p===_||p.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete w[l],w.removeListener&&this.emit("removeListener",l,p.listener||_));else if(typeof p!="function"){for(O=-1,J=p.length-1;J>=0;J--)if(p[J]===_||p[J].listener===_){q=p[J].listener,O=J;break}if(O<0)return this;O===0?p.shift():j(p,O),p.length===1&&(w[l]=p[0]),w.removeListener!==void 0&&this.emit("removeListener",l,q||_)}return this},T.prototype.off=T.prototype.removeListener,T.prototype.removeAllListeners=function(l){var _,p,w;if(p=this._events,p===void 0)return this;if(p.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):p[l]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete p[l]),this;if(arguments.length===0){var O=Object.keys(p),J;for(w=0;w<O.length;++w)J=O[w],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=p[l],typeof _=="function")this.removeListener(l,_);else if(_!==void 0)for(w=_.length-1;w>=0;w--)this.removeListener(l,_[w]);return this};function F(v,l,_){var p=v._events;if(p===void 0)return[];var w=p[l];return w===void 0?[]:typeof w=="function"?_?[w.listener||w]:[w]:_?m(w):C(w,w.length)}T.prototype.listeners=function(l){return F(this,l,!0)},T.prototype.rawListeners=function(l){return F(this,l,!1)},T.listenerCount=function(v,l){return typeof v.listenerCount=="function"?v.listenerCount(l):R.call(v,l)},T.prototype.listenerCount=R;function R(v){var l=this._events;if(l!==void 0){var _=l[v];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}T.prototype.eventNames=function(){return this._eventsCount>0?$(this._events):[]};function C(v,l){for(var _=new Array(l),p=0;p<l;++p)_[p]=v[p];return _}function j(v,l){for(;l+1<v.length;l++)v[l]=v[l+1];v.pop()}function m(v){for(var l=new Array(v.length),_=0;_<l.length;++_)l[_]=v[_].listener||v[_];return l}function r(v,l){return new Promise(function(_,p){function w(J){v.removeListener(l,O),p(J)}function O(){typeof v.removeListener=="function"&&v.removeListener("error",w),_([].slice.call(arguments))}x(v,l,O,{once:!0}),l!=="error"&&d(v,w,{once:!0})})}function d(v,l,_){typeof v.on=="function"&&x(v,"error",l,_)}function x(v,l,_,p){if(typeof v.on=="function")p.once?v.once(l,_):v.on(l,_);else if(typeof v.addEventListener=="function")v.addEventListener(l,function w(O){p.once&&v.removeEventListener(l,w),_(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v)}return events.exports}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var require$$0=getAugmentedNamespace(dist),util={},types={},shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var s=requireShams$1();return shams=function(){return s()&&!!Symbol.toStringTag},shams}var isArguments$1,hasRequiredIsArguments$1;function requireIsArguments$1(){if(hasRequiredIsArguments$1)return isArguments$1;hasRequiredIsArguments$1=1;var s=requireShams()(),o=requireCallBound$1(),$=o("Object.prototype.toString"),n=function(N){return s&&N&&typeof N=="object"&&Symbol.toStringTag in N?!1:$(N)==="[object Arguments]"},L=function(N){return n(N)?!0:N!==null&&typeof N=="object"&&"length"in N&&typeof N.length=="number"&&N.length>=0&&$(N)!=="[object Array]"&&"callee"in N&&$(N.callee)==="[object Function]"},T=function(){return n(arguments)}();return n.isLegacyArguments=L,isArguments$1=T?n:L,isArguments$1}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var s=requireCallBound$1(),o=requireShams()(),$=requireHasown(),n=requireGopd(),L;if(o){var T=s("RegExp.prototype.exec"),I={},N=function(){throw I},b={toString:N,valueOf:N};typeof Symbol.toPrimitive=="symbol"&&(b[Symbol.toPrimitive]=N),L=function(F){if(!F||typeof F!="object")return!1;var R=n(F,"lastIndex"),C=R&&$(R,"value");if(!C)return!1;try{T(F,b)}catch(j){return j===I}}}else{var A=s("Object.prototype.toString"),t="[object RegExp]";L=function(F){return!F||typeof F!="object"&&typeof F!="function"?!1:A(F)===t}}return isRegex=L,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var s=requireCallBound$1(),o=requireIsRegex(),$=s("RegExp.prototype.exec"),n=requireType();return safeRegexTest=function(T){if(!o(T))throw new n("`regex` must be a RegExp");return function(N){return $(T,N)!==null}},safeRegexTest}var generatorFunction,hasRequiredGeneratorFunction;function requireGeneratorFunction(){if(hasRequiredGeneratorFunction)return generatorFunction;hasRequiredGeneratorFunction=1;const s=(function*(){}).constructor;return generatorFunction=()=>s,generatorFunction}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var s=requireCallBound$1(),o=requireSafeRegexTest(),$=o(/^\s*(?:function)?\*/),n=requireShams()(),L=requireGetProto(),T=s("Object.prototype.toString"),I=s("Function.prototype.toString"),N=requireGeneratorFunction();return isGeneratorFunction=function(A){if(typeof A!="function")return!1;if($(I(A)))return!0;if(!n){var t=T(A);return t==="[object GeneratorFunction]"}if(!L)return!1;var S=N();return S&&L(A)===S.prototype},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var s=Function.prototype.toString,o=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,$,n;if(typeof o=="function"&&typeof Object.defineProperty=="function")try{$=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o(function(){throw 42},null,$)}catch(d){d!==n&&(o=null)}else o=null;var L=/^\s*class\b/,T=function(x){try{var v=s.call(x);return L.test(v)}catch{return!1}},I=function(x){try{return T(x)?!1:(s.call(x),!0)}catch{return!1}},N=Object.prototype.toString,b="[object Object]",A="[object Function]",t="[object GeneratorFunction]",S="[object HTMLAllCollection]",F="[object HTML document.all class]",R="[object HTMLCollection]",C=typeof Symbol=="function"&&!!Symbol.toStringTag,j=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var r=document.all;N.call(r)===N.call(document.all)&&(m=function(x){if((j||!x)&&(typeof x>"u"||typeof x=="object"))try{var v=N.call(x);return(v===S||v===F||v===R||v===b)&&x("")==null}catch{}return!1})}return isCallable=o?function(x){if(m(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{o(x,null,$)}catch(v){if(v!==n)return!1}return!T(x)&&I(x)}:function(x){if(m(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(C)return I(x);if(T(x))return!1;var v=N.call(x);return v!==A&&v!==t&&!/^\[object HTML/.test(v)?!1:I(x)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var s=requireIsCallable(),o=Object.prototype.toString,$=Object.prototype.hasOwnProperty,n=function(b,A,t){for(var S=0,F=b.length;S<F;S++)$.call(b,S)&&(t==null?A(b[S],S,b):A.call(t,b[S],S,b))},L=function(b,A,t){for(var S=0,F=b.length;S<F;S++)t==null?A(b.charAt(S),S,b):A.call(t,b.charAt(S),S,b)},T=function(b,A,t){for(var S in b)$.call(b,S)&&(t==null?A(b[S],S,b):A.call(t,b[S],S,b))};function I(N){return o.call(N)==="[object Array]"}return forEach=function(b,A,t){if(!s(A))throw new TypeError("iterator must be a function");var S;arguments.length>=3&&(S=t),I(b)?n(b,A,S):typeof b=="string"?L(b,A,S):T(b,A,S)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var s=requirePossibleTypedArrayNames(),o=globalThis;return availableTypedArrays=function(){for(var n=[],L=0;L<s.length;L++)typeof o[s[L]]=="function"&&(n[n.length]=s[L]);return n},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var s=requireEsDefineProperty(),o=requireSyntax(),$=requireType(),n=requireGopd();return defineDataProperty=function(T,I,N){if(!T||typeof T!="object"&&typeof T!="function")throw new $("`obj` must be an object or a function`");if(typeof I!="string"&&typeof I!="symbol")throw new $("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $("`loose`, if provided, must be a boolean");var b=arguments.length>3?arguments[3]:null,A=arguments.length>4?arguments[4]:null,t=arguments.length>5?arguments[5]:null,S=arguments.length>6?arguments[6]:!1,F=!!n&&n(T,I);if(s)s(T,I,{configurable:t===null&&F?F.configurable:!t,enumerable:b===null&&F?F.enumerable:!b,value:N,writable:A===null&&F?F.writable:!A});else if(S||!b&&!A&&!t)T[I]=N;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var s=requireEsDefineProperty(),o=function(){return!!s};return o.hasArrayLengthDefineBug=function(){if(!s)return null;try{return s([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=o,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var s=requireGetIntrinsic(),o=requireDefineDataProperty(),$=requireHasPropertyDescriptors()(),n=requireGopd(),L=requireType(),T=s("%Math.floor%");return setFunctionLength=function(N,b){if(typeof N!="function")throw new L("`fn` is not a function");if(typeof b!="number"||b<0||b>4294967295||T(b)!==b)throw new L("`length` must be a positive 32-bit integer");var A=arguments.length>2&&!!arguments[2],t=!0,S=!0;if("length"in N&&n){var F=n(N,"length");F&&!F.configurable&&(t=!1),F&&!F.writable&&(S=!1)}return(t||S||!A)&&($?o(N,"length",b,!0,!0):o(N,"length",b)),N},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var s=requireFunctionBind(),o=requireFunctionApply(),$=requireActualApply();return applyBind=function(){return $(s,o,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(s){var o=requireSetFunctionLength(),$=requireEsDefineProperty(),n=requireCallBindApplyHelpers(),L=requireApplyBind();s.exports=function(I){var N=n(arguments),b=I.length-(arguments.length-1);return o(N,1+(b>0?b:0),!0)},$?$(s.exports,"apply",{value:L}):s.exports.apply=L}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var s=requireForEach(),o=requireAvailableTypedArrays(),$=requireCallBind(),n=requireCallBound$1(),L=requireGopd(),T=requireGetProto(),I=n("Object.prototype.toString"),N=requireShams()(),b=globalThis,A=o(),t=n("String.prototype.slice"),S=n("Array.prototype.indexOf",!0)||function(m,r){for(var d=0;d<m.length;d+=1)if(m[d]===r)return d;return-1},F={__proto__:null};N&&L&&T?s(A,function(j){var m=new b[j];if(Symbol.toStringTag in m&&T){var r=T(m),d=L(r,Symbol.toStringTag);if(!d&&r){var x=T(r);d=L(x,Symbol.toStringTag)}F["$"+j]=$(d.get)}}):s(A,function(j){var m=new b[j],r=m.slice||m.set;r&&(F["$"+j]=$(r))});var R=function(m){var r=!1;return s(F,function(d,x){if(!r)try{"$"+d(m)===x&&(r=t(x,1))}catch{}}),r},C=function(m){var r=!1;return s(F,function(d,x){if(!r)try{d(m),r=t(x,1)}catch{}}),r};return whichTypedArray=function(m){if(!m||typeof m!="object")return!1;if(!N){var r=t(I(m),8,-1);return S(A,r)>-1?r:r!=="Object"?!1:C(m)}return L?R(m):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var s=requireWhichTypedArray();return isTypedArray=function($){return!!s($)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(s){var o=requireIsArguments$1(),$=requireIsGeneratorFunction(),n=requireWhichTypedArray(),L=requireIsTypedArray();function T(ne){return ne.call.bind(ne)}var I=typeof BigInt<"u",N=typeof Symbol<"u",b=T(Object.prototype.toString),A=T(Number.prototype.valueOf),t=T(String.prototype.valueOf),S=T(Boolean.prototype.valueOf);if(I)var F=T(BigInt.prototype.valueOf);if(N)var R=T(Symbol.prototype.valueOf);function C(ne,Ee){if(typeof ne!="object")return!1;try{return Ee(ne),!0}catch{return!1}}s.isArgumentsObject=o,s.isGeneratorFunction=$,s.isTypedArray=L;function j(ne){return typeof Promise<"u"&&ne instanceof Promise||ne!==null&&typeof ne=="object"&&typeof ne.then=="function"&&typeof ne.catch=="function"}s.isPromise=j;function m(ne){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ne):L(ne)||f(ne)}s.isArrayBufferView=m;function r(ne){return n(ne)==="Uint8Array"}s.isUint8Array=r;function d(ne){return n(ne)==="Uint8ClampedArray"}s.isUint8ClampedArray=d;function x(ne){return n(ne)==="Uint16Array"}s.isUint16Array=x;function v(ne){return n(ne)==="Uint32Array"}s.isUint32Array=v;function l(ne){return n(ne)==="Int8Array"}s.isInt8Array=l;function _(ne){return n(ne)==="Int16Array"}s.isInt16Array=_;function p(ne){return n(ne)==="Int32Array"}s.isInt32Array=p;function w(ne){return n(ne)==="Float32Array"}s.isFloat32Array=w;function O(ne){return n(ne)==="Float64Array"}s.isFloat64Array=O;function J(ne){return n(ne)==="BigInt64Array"}s.isBigInt64Array=J;function q(ne){return n(ne)==="BigUint64Array"}s.isBigUint64Array=q;function E(ne){return b(ne)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function G(ne){return typeof Map>"u"?!1:E.working?E(ne):ne instanceof Map}s.isMap=G;function ge(ne){return b(ne)==="[object Set]"}ge.working=typeof Set<"u"&&ge(new Set);function fe(ne){return typeof Set>"u"?!1:ge.working?ge(ne):ne instanceof Set}s.isSet=fe;function _e(ne){return b(ne)==="[object WeakMap]"}_e.working=typeof WeakMap<"u"&&_e(new WeakMap);function ue(ne){return typeof WeakMap>"u"?!1:_e.working?_e(ne):ne instanceof WeakMap}s.isWeakMap=ue;function ye(ne){return b(ne)==="[object WeakSet]"}ye.working=typeof WeakSet<"u"&&ye(new WeakSet);function K(ne){return ye(ne)}s.isWeakSet=K;function Q(ne){return b(ne)==="[object ArrayBuffer]"}Q.working=typeof ArrayBuffer<"u"&&Q(new ArrayBuffer);function le(ne){return typeof ArrayBuffer>"u"?!1:Q.working?Q(ne):ne instanceof ArrayBuffer}s.isArrayBuffer=le;function X(ne){return b(ne)==="[object DataView]"}X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1));function f(ne){return typeof DataView>"u"?!1:X.working?X(ne):ne instanceof DataView}s.isDataView=f;var a=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function g(ne){return b(ne)==="[object SharedArrayBuffer]"}function y(ne){return typeof a>"u"?!1:(typeof g.working>"u"&&(g.working=g(new a)),g.working?g(ne):ne instanceof a)}s.isSharedArrayBuffer=y;function k(ne){return b(ne)==="[object AsyncFunction]"}s.isAsyncFunction=k;function D(ne){return b(ne)==="[object Map Iterator]"}s.isMapIterator=D;function ee(ne){return b(ne)==="[object Set Iterator]"}s.isSetIterator=ee;function se(ne){return b(ne)==="[object Generator]"}s.isGeneratorObject=se;function B(ne){return b(ne)==="[object WebAssembly.Module]"}s.isWebAssemblyCompiledModule=B;function U(ne){return C(ne,A)}s.isNumberObject=U;function he(ne){return C(ne,t)}s.isStringObject=he;function we(ne){return C(ne,S)}s.isBooleanObject=we;function Ie(ne){return I&&C(ne,F)}s.isBigIntObject=Ie;function me(ne){return N&&C(ne,R)}s.isSymbolObject=me;function ve(ne){return U(ne)||he(ne)||we(ne)||Ie(ne)||me(ne)}s.isBoxedPrimitive=ve;function re(ne){return typeof Uint8Array<"u"&&(le(ne)||y(ne))}s.isAnyArrayBuffer=re,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ne){Object.defineProperty(s,ne,{enumerable:!1,value:function(){throw new Error(ne+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(s){var o={},$=Object.getOwnPropertyDescriptors||function(a){for(var g=Object.keys(a),y={},k=0;k<g.length;k++)y[g[k]]=Object.getOwnPropertyDescriptor(a,g[k]);return y},n=/%[sdj%]/g;s.format=function(f){if(!_(f)){for(var a=[],g=0;g<arguments.length;g++)a.push(N(arguments[g]));return a.join(" ")}for(var g=1,y=arguments,k=y.length,D=String(f).replace(n,function(se){if(se==="%%")return"%";if(g>=k)return se;switch(se){case"%s":return String(y[g++]);case"%d":return Number(y[g++]);case"%j":try{return JSON.stringify(y[g++])}catch{return"[Circular]"}default:return se}}),ee=y[g];g<k;ee=y[++g])x(ee)||!J(ee)?D+=" "+ee:D+=" "+N(ee);return D},s.deprecate=function(f,a){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return f;if(typeof process$1>"u")return function(){return s.deprecate(f,a).apply(this,arguments)};var g=!1;function y(){if(!g){if(process$1.throwDeprecation)throw new Error(a);process$1.traceDeprecation?console.trace(a):console.error(a),g=!0}return f.apply(this,arguments)}return y};var L={},T=/^$/;if(o.NODE_DEBUG){var I=o.NODE_DEBUG;I=I.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+I+"$","i")}s.debuglog=function(f){if(f=f.toUpperCase(),!L[f])if(T.test(f)){var a=process$1.pid;L[f]=function(){var g=s.format.apply(s,arguments);console.error("%s %d: %s",f,a,g)}}else L[f]=function(){};return L[f]};function N(f,a){var g={seen:[],stylize:A};return arguments.length>=3&&(g.depth=arguments[2]),arguments.length>=4&&(g.colors=arguments[3]),d(a)?g.showHidden=a:a&&s._extend(g,a),w(g.showHidden)&&(g.showHidden=!1),w(g.depth)&&(g.depth=2),w(g.colors)&&(g.colors=!1),w(g.customInspect)&&(g.customInspect=!0),g.colors&&(g.stylize=b),S(g,f,g.depth)}s.inspect=N,N.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},N.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b(f,a){var g=N.styles[a];return g?"\x1B["+N.colors[g][0]+"m"+f+"\x1B["+N.colors[g][1]+"m":f}function A(f,a){return f}function t(f){var a={};return f.forEach(function(g,y){a[g]=!0}),a}function S(f,a,g){if(f.customInspect&&a&&G(a.inspect)&&a.inspect!==s.inspect&&!(a.constructor&&a.constructor.prototype===a)){var y=a.inspect(g,f);return _(y)||(y=S(f,y,g)),y}var k=F(f,a);if(k)return k;var D=Object.keys(a),ee=t(D);if(f.showHidden&&(D=Object.getOwnPropertyNames(a)),E(a)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return R(a);if(D.length===0){if(G(a)){var se=a.name?": "+a.name:"";return f.stylize("[Function"+se+"]","special")}if(O(a))return f.stylize(RegExp.prototype.toString.call(a),"regexp");if(q(a))return f.stylize(Date.prototype.toString.call(a),"date");if(E(a))return R(a)}var B="",U=!1,he=["{","}"];if(r(a)&&(U=!0,he=["[","]"]),G(a)){var we=a.name?": "+a.name:"";B=" [Function"+we+"]"}if(O(a)&&(B=" "+RegExp.prototype.toString.call(a)),q(a)&&(B=" "+Date.prototype.toUTCString.call(a)),E(a)&&(B=" "+R(a)),D.length===0&&(!U||a.length==0))return he[0]+B+he[1];if(g<0)return O(a)?f.stylize(RegExp.prototype.toString.call(a),"regexp"):f.stylize("[Object]","special");f.seen.push(a);var Ie;return U?Ie=C(f,a,g,ee,D):Ie=D.map(function(me){return j(f,a,g,ee,me,U)}),f.seen.pop(),m(Ie,B,he)}function F(f,a){if(w(a))return f.stylize("undefined","undefined");if(_(a)){var g="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(g,"string")}if(l(a))return f.stylize(""+a,"number");if(d(a))return f.stylize(""+a,"boolean");if(x(a))return f.stylize("null","null")}function R(f){return"["+Error.prototype.toString.call(f)+"]"}function C(f,a,g,y,k){for(var D=[],ee=0,se=a.length;ee<se;++ee)K(a,String(ee))?D.push(j(f,a,g,y,String(ee),!0)):D.push("");return k.forEach(function(B){B.match(/^\d+$/)||D.push(j(f,a,g,y,B,!0))}),D}function j(f,a,g,y,k,D){var ee,se,B;if(B=Object.getOwnPropertyDescriptor(a,k)||{value:a[k]},B.get?B.set?se=f.stylize("[Getter/Setter]","special"):se=f.stylize("[Getter]","special"):B.set&&(se=f.stylize("[Setter]","special")),K(y,k)||(ee="["+k+"]"),se||(f.seen.indexOf(B.value)<0?(x(g)?se=S(f,B.value,null):se=S(f,B.value,g-1),se.indexOf(`
`)>-1&&(D?se=se.split(`
`).map(function(U){return"  "+U}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(U){return"   "+U}).join(`
`))):se=f.stylize("[Circular]","special")),w(ee)){if(D&&k.match(/^\d+$/))return se;ee=JSON.stringify(""+k),ee.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ee=ee.slice(1,-1),ee=f.stylize(ee,"name")):(ee=ee.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ee=f.stylize(ee,"string"))}return ee+": "+se}function m(f,a,g){var y=f.reduce(function(k,D){return D.indexOf(`
`)>=0,k+D.replace(/\u001b\[\d\d?m/g,"").length+1},0);return y>60?g[0]+(a===""?"":a+`
 `)+" "+f.join(`,
  `)+" "+g[1]:g[0]+a+" "+f.join(", ")+" "+g[1]}s.types=requireTypes();function r(f){return Array.isArray(f)}s.isArray=r;function d(f){return typeof f=="boolean"}s.isBoolean=d;function x(f){return f===null}s.isNull=x;function v(f){return f==null}s.isNullOrUndefined=v;function l(f){return typeof f=="number"}s.isNumber=l;function _(f){return typeof f=="string"}s.isString=_;function p(f){return typeof f=="symbol"}s.isSymbol=p;function w(f){return f===void 0}s.isUndefined=w;function O(f){return J(f)&&fe(f)==="[object RegExp]"}s.isRegExp=O,s.types.isRegExp=O;function J(f){return typeof f=="object"&&f!==null}s.isObject=J;function q(f){return J(f)&&fe(f)==="[object Date]"}s.isDate=q,s.types.isDate=q;function E(f){return J(f)&&(fe(f)==="[object Error]"||f instanceof Error)}s.isError=E,s.types.isNativeError=E;function G(f){return typeof f=="function"}s.isFunction=G;function ge(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||typeof f>"u"}s.isPrimitive=ge,s.isBuffer=requireIsBufferBrowser();function fe(f){return Object.prototype.toString.call(f)}function _e(f){return f<10?"0"+f.toString(10):f.toString(10)}var ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ye(){var f=new Date,a=[_e(f.getHours()),_e(f.getMinutes()),_e(f.getSeconds())].join(":");return[f.getDate(),ue[f.getMonth()],a].join(" ")}s.log=function(){console.log("%s - %s",ye(),s.format.apply(s,arguments))},s.inherits=requireInherits_browser(),s._extend=function(f,a){if(!a||!J(a))return f;for(var g=Object.keys(a),y=g.length;y--;)f[g[y]]=a[g[y]];return f};function K(f,a){return Object.prototype.hasOwnProperty.call(f,a)}var Q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;s.promisify=function(a){if(typeof a!="function")throw new TypeError('The "original" argument must be of type Function');if(Q&&a[Q]){var g=a[Q];if(typeof g!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(g,Q,{value:g,enumerable:!1,writable:!1,configurable:!0}),g}function g(){for(var y,k,D=new Promise(function(B,U){y=B,k=U}),ee=[],se=0;se<arguments.length;se++)ee.push(arguments[se]);ee.push(function(B,U){B?k(B):y(U)});try{a.apply(this,ee)}catch(B){k(B)}return D}return Object.setPrototypeOf(g,Object.getPrototypeOf(a)),Q&&Object.defineProperty(g,Q,{value:g,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(g,$(a))},s.promisify.custom=Q;function le(f,a){if(!f){var g=new Error("Promise was rejected with a falsy value");g.reason=f,f=g}return a(f)}function X(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');function a(){for(var g=[],y=0;y<arguments.length;y++)g.push(arguments[y]);var k=g.pop();if(typeof k!="function")throw new TypeError("The last argument must be of type Function");var D=this,ee=function(){return k.apply(D,arguments)};f.apply(this,g).then(function(se){process$1.nextTick(ee.bind(null,null,se))},function(se){process$1.nextTick(le.bind(null,se,ee))})}return Object.setPrototypeOf(a,Object.getPrototypeOf(f)),Object.defineProperties(a,$(f)),a}s.callbackify=X}(util)),util}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function s(C,j){var m=Object.keys(C);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(C);j&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(C,d).enumerable})),m.push.apply(m,r)}return m}function o(C){for(var j=1;j<arguments.length;j++){var m=arguments[j]!=null?arguments[j]:{};j%2?s(Object(m),!0).forEach(function(r){$(C,r,m[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(m)):s(Object(m)).forEach(function(r){Object.defineProperty(C,r,Object.getOwnPropertyDescriptor(m,r))})}return C}function $(C,j,m){return j=I(j),j in C?Object.defineProperty(C,j,{value:m,enumerable:!0,configurable:!0,writable:!0}):C[j]=m,C}function n(C,j){if(!(C instanceof j))throw new TypeError("Cannot call a class as a function")}function L(C,j){for(var m=0;m<j.length;m++){var r=j[m];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(C,I(r.key),r)}}function T(C,j,m){return j&&L(C.prototype,j),Object.defineProperty(C,"prototype",{writable:!1}),C}function I(C){var j=N(C,"string");return typeof j=="symbol"?j:String(j)}function N(C,j){if(typeof C!="object"||C===null)return C;var m=C[Symbol.toPrimitive];if(m!==void 0){var r=m.call(C,j);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}var b=require$$0,A=b.Buffer,t=requireUtil(),S=t.inspect,F=S&&S.custom||"inspect";function R(C,j,m){A.prototype.copy.call(C,j,m)}return buffer_list=function(){function C(){n(this,C),this.head=null,this.tail=null,this.length=0}return T(C,[{key:"push",value:function(m){var r={data:m,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(m){var r={data:m,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var r=this.head,d=""+r.data;r=r.next;)d+=m+r.data;return d}},{key:"concat",value:function(m){if(this.length===0)return A.alloc(0);for(var r=A.allocUnsafe(m>>>0),d=this.head,x=0;d;)R(d.data,r,x),x+=d.data.length,d=d.next;return r}},{key:"consume",value:function(m,r){var d;return m<this.head.data.length?(d=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?d=this.shift():d=r?this._getString(m):this._getBuffer(m),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var r=this.head,d=1,x=r.data;for(m-=x.length;r=r.next;){var v=r.data,l=m>v.length?v.length:m;if(l===v.length?x+=v:x+=v.slice(0,m),m-=l,m===0){l===v.length?(++d,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=v.slice(l));break}++d}return this.length-=d,x}},{key:"_getBuffer",value:function(m){var r=A.allocUnsafe(m),d=this.head,x=1;for(d.data.copy(r),m-=d.data.length;d=d.next;){var v=d.data,l=m>v.length?v.length:m;if(v.copy(r,r.length-m,0,l),m-=l,m===0){l===v.length?(++x,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=v.slice(l));break}++x}return this.length-=x,r}},{key:F,value:function(m,r){return S(this,o(o({},r),{},{depth:0,customInspect:!1}))}}]),C}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function s(I,N){var b=this,A=this._readableState&&this._readableState.destroyed,t=this._writableState&&this._writableState.destroyed;return A||t?(N?N(I):I&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(L,this,I)):process$1.nextTick(L,this,I)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(I||null,function(S){!N&&S?b._writableState?b._writableState.errorEmitted?process$1.nextTick($,b):(b._writableState.errorEmitted=!0,process$1.nextTick(o,b,S)):process$1.nextTick(o,b,S):N?(process$1.nextTick($,b),N(S)):process$1.nextTick($,b)}),this)}function o(I,N){L(I,N),$(I)}function $(I){I._writableState&&!I._writableState.emitClose||I._readableState&&!I._readableState.emitClose||I.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function L(I,N){I.emit("error",N)}function T(I,N){var b=I._readableState,A=I._writableState;b&&b.autoDestroy||A&&A.autoDestroy?I.destroy(N):I.emit("error",N)}return destroy_1={destroy:s,undestroy:n,errorOrDestroy:T},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function s(N,b){N.prototype=Object.create(b.prototype),N.prototype.constructor=N,N.__proto__=b}var o={};function $(N,b,A){A||(A=Error);function t(F,R,C){return typeof b=="string"?b:b(F,R,C)}var S=function(F){s(R,F);function R(C,j,m){return F.call(this,t(C,j,m))||this}return R}(A);S.prototype.name=A.name,S.prototype.code=N,o[N]=S}function n(N,b){if(Array.isArray(N)){var A=N.length;return N=N.map(function(t){return String(t)}),A>2?"one of ".concat(b," ").concat(N.slice(0,A-1).join(", "),", or ")+N[A-1]:A===2?"one of ".concat(b," ").concat(N[0]," or ").concat(N[1]):"of ".concat(b," ").concat(N[0])}else return"of ".concat(b," ").concat(String(N))}function L(N,b,A){return N.substr(0,b.length)===b}function T(N,b,A){return(A===void 0||A>N.length)&&(A=N.length),N.substring(A-b.length,A)===b}function I(N,b,A){return typeof A!="number"&&(A=0),A+b.length>N.length?!1:N.indexOf(b,A)!==-1}return $("ERR_INVALID_OPT_VALUE",function(N,b){return'The value "'+b+'" is invalid for option "'+N+'"'},TypeError),$("ERR_INVALID_ARG_TYPE",function(N,b,A){var t;typeof b=="string"&&L(b,"not ")?(t="must not be",b=b.replace(/^not /,"")):t="must be";var S;if(T(N," argument"))S="The ".concat(N," ").concat(t," ").concat(n(b,"type"));else{var F=I(N,".")?"property":"argument";S='The "'.concat(N,'" ').concat(F," ").concat(t," ").concat(n(b,"type"))}return S+=". Received type ".concat(typeof A),S},TypeError),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$("ERR_METHOD_NOT_IMPLEMENTED",function(N){return"The "+N+" method is not implemented"}),$("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$("ERR_STREAM_DESTROYED",function(N){return"Cannot call "+N+" after a stream was destroyed"}),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$("ERR_STREAM_WRITE_AFTER_END","write after end"),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_UNKNOWN_ENCODING",function(N){return"Unknown encoding: "+N},TypeError),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=o,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var s=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function o(n,L,T){return n.highWaterMark!=null?n.highWaterMark:L?n[T]:null}function $(n,L,T,I){var N=o(L,I,T);if(N!=null){if(!(isFinite(N)&&Math.floor(N)===N)||N<0){var b=I?T:"highWaterMark";throw new s(b,N)}return Math.floor(N)}return n.objectMode?16:16*1024}return state={getHighWaterMark:$},state}var browser$1,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1,browser$1=s;function s($,n){if(o("noDeprecation"))return $;var L=!1;function T(){if(!L){if(o("throwDeprecation"))throw new Error(n);o("traceDeprecation")?console.trace(n):console.warn(n),L=!0}return $.apply(this,arguments)}return T}function o($){try{if(!globalThis.localStorage)return!1}catch{return!1}var n=globalThis.localStorage[$];return n==null?!1:String(n).toLowerCase()==="true"}return browser$1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=w;function s(y){var k=this;this.next=null,this.entry=null,this.finish=function(){g(k,y)}}var o;w.WritableState=_;var $={deprecate:requireBrowser$1()},n=requireStreamBrowser(),L=require$$0.Buffer,T=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function I(y){return L.from(y)}function N(y){return L.isBuffer(y)||y instanceof T}var b=requireDestroy(),A=requireState(),t=A.getHighWaterMark,S=requireErrorsBrowser().codes,F=S.ERR_INVALID_ARG_TYPE,R=S.ERR_METHOD_NOT_IMPLEMENTED,C=S.ERR_MULTIPLE_CALLBACK,j=S.ERR_STREAM_CANNOT_PIPE,m=S.ERR_STREAM_DESTROYED,r=S.ERR_STREAM_NULL_VALUES,d=S.ERR_STREAM_WRITE_AFTER_END,x=S.ERR_UNKNOWN_ENCODING,v=b.errorOrDestroy;requireInherits_browser()(w,n);function l(){}function _(y,k,D){o=o||require_stream_duplex(),y=y||{},typeof D!="boolean"&&(D=k instanceof o),this.objectMode=!!y.objectMode,D&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=t(this,y,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=y.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){_e(k,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}_.prototype.getBuffer=function(){for(var k=this.bufferedRequest,D=[];k;)D.push(k),k=k.next;return D},function(){try{Object.defineProperty(_.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var p;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(k){return p.call(this,k)?!0:this!==w?!1:k&&k._writableState instanceof _}})):p=function(k){return k instanceof this};function w(y){o=o||require_stream_duplex();var k=this instanceof o;if(!k&&!p.call(w,this))return new w(y);this._writableState=new _(y,this,k),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),n.call(this)}w.prototype.pipe=function(){v(this,new j)};function O(y,k){var D=new d;v(y,D),process$1.nextTick(k,D)}function J(y,k,D,ee){var se;return D===null?se=new r:typeof D!="string"&&!k.objectMode&&(se=new F("chunk",["string","Buffer"],D)),se?(v(y,se),process$1.nextTick(ee,se),!1):!0}w.prototype.write=function(y,k,D){var ee=this._writableState,se=!1,B=!ee.objectMode&&N(y);return B&&!L.isBuffer(y)&&(y=I(y)),typeof k=="function"&&(D=k,k=null),B?k="buffer":k||(k=ee.defaultEncoding),typeof D!="function"&&(D=l),ee.ending?O(this,D):(B||J(this,ee,y,D))&&(ee.pendingcb++,se=E(this,ee,B,y,k,D)),se},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&K(this,y))},w.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new x(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(y,k,D){return!y.objectMode&&y.decodeStrings!==!1&&typeof k=="string"&&(k=L.from(k,D)),k}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function E(y,k,D,ee,se,B){if(!D){var U=q(k,ee,se);ee!==U&&(D=!0,se="buffer",ee=U)}var he=k.objectMode?1:ee.length;k.length+=he;var we=k.length<k.highWaterMark;if(we||(k.needDrain=!0),k.writing||k.corked){var Ie=k.lastBufferedRequest;k.lastBufferedRequest={chunk:ee,encoding:se,isBuf:D,callback:B,next:null},Ie?Ie.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else G(y,k,!1,he,ee,se,B);return we}function G(y,k,D,ee,se,B,U){k.writelen=ee,k.writecb=U,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new m("write")):D?y._writev(se,k.onwrite):y._write(se,B,k.onwrite),k.sync=!1}function ge(y,k,D,ee,se){--k.pendingcb,D?(process$1.nextTick(se,ee),process$1.nextTick(f,y,k),y._writableState.errorEmitted=!0,v(y,ee)):(se(ee),y._writableState.errorEmitted=!0,v(y,ee),f(y,k))}function fe(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function _e(y,k){var D=y._writableState,ee=D.sync,se=D.writecb;if(typeof se!="function")throw new C;if(fe(D),k)ge(y,D,ee,k,se);else{var B=Q(D)||y.destroyed;!B&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&K(y,D),ee?process$1.nextTick(ue,y,D,B,se):ue(y,D,B,se)}}function ue(y,k,D,ee){D||ye(y,k),k.pendingcb--,ee(),f(y,k)}function ye(y,k){k.length===0&&k.needDrain&&(k.needDrain=!1,y.emit("drain"))}function K(y,k){k.bufferProcessing=!0;var D=k.bufferedRequest;if(y._writev&&D&&D.next){var ee=k.bufferedRequestCount,se=new Array(ee),B=k.corkedRequestsFree;B.entry=D;for(var U=0,he=!0;D;)se[U]=D,D.isBuf||(he=!1),D=D.next,U+=1;se.allBuffers=he,G(y,k,!0,k.length,se,"",B.finish),k.pendingcb++,k.lastBufferedRequest=null,B.next?(k.corkedRequestsFree=B.next,B.next=null):k.corkedRequestsFree=new s(k),k.bufferedRequestCount=0}else{for(;D;){var we=D.chunk,Ie=D.encoding,me=D.callback,ve=k.objectMode?1:we.length;if(G(y,k,!1,ve,we,Ie,me),D=D.next,k.bufferedRequestCount--,k.writing)break}D===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=D,k.bufferProcessing=!1}w.prototype._write=function(y,k,D){D(new R("_write()"))},w.prototype._writev=null,w.prototype.end=function(y,k,D){var ee=this._writableState;return typeof y=="function"?(D=y,y=null,k=null):typeof k=="function"&&(D=k,k=null),y!=null&&this.write(y,k),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||a(this,ee,D),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function le(y,k){y._final(function(D){k.pendingcb--,D&&v(y,D),k.prefinished=!0,y.emit("prefinish"),f(y,k)})}function X(y,k){!k.prefinished&&!k.finalCalled&&(typeof y._final=="function"&&!k.destroyed?(k.pendingcb++,k.finalCalled=!0,process$1.nextTick(le,y,k)):(k.prefinished=!0,y.emit("prefinish")))}function f(y,k){var D=Q(k);if(D&&(X(y,k),k.pendingcb===0&&(k.finished=!0,y.emit("finish"),k.autoDestroy))){var ee=y._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&y.destroy()}return D}function a(y,k,D){k.ending=!0,f(y,k),D&&(k.finished?process$1.nextTick(D):y.once("finish",D)),k.ended=!0,y.writable=!1}function g(y,k,D){var ee=y.entry;for(y.entry=null;ee;){var se=ee.callback;k.pendingcb--,se(D),ee=ee.next}k.corkedRequestsFree.next=y}return Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),w.prototype.destroy=b.destroy,w.prototype._undestroy=b.undestroy,w.prototype._destroy=function(y,k){k(y)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var s=Object.keys||function(A){var t=[];for(var S in A)t.push(S);return t};_stream_duplex=I;var o=require_stream_readable(),$=require_stream_writable();requireInherits_browser()(I,o);for(var n=s($.prototype),L=0;L<n.length;L++){var T=n[L];I.prototype[T]||(I.prototype[T]=$.prototype[T])}function I(A){if(!(this instanceof I))return new I(A);o.call(this,A),$.call(this,A),this.allowHalfOpen=!0,A&&(A.readable===!1&&(this.readable=!1),A.writable===!1&&(this.writable=!1),A.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",N)))}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N(){this._writableState.ended||process$1.nextTick(b,this)}function b(A){A.end()}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(s,o){var $=require$$0,n=$.Buffer;function L(I,N){for(var b in I)N[b]=I[b]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?s.exports=$:(L($,o),o.Buffer=T);function T(I,N,b){return n(I,N,b)}T.prototype=Object.create(n.prototype),L(n,T),T.from=function(I,N,b){if(typeof I=="number")throw new TypeError("Argument must not be a number");return n(I,N,b)},T.alloc=function(I,N,b){if(typeof I!="number")throw new TypeError("Argument must be a number");var A=n(I);return N!==void 0?typeof b=="string"?A.fill(N,b):A.fill(N):A.fill(0),A},T.allocUnsafe=function(I){if(typeof I!="number")throw new TypeError("Argument must be a number");return n(I)},T.allocUnsafeSlow=function(I){if(typeof I!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(I)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var s=requireSafeBuffer().Buffer,o=s.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $(r){if(!r)return"utf8";for(var d;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(d)return;r=(""+r).toLowerCase(),d=!0}}function n(r){var d=$(r);if(typeof d!="string"&&(s.isEncoding===o||!o(r)))throw new Error("Unknown encoding: "+r);return d||r}string_decoder.StringDecoder=L;function L(r){this.encoding=n(r);var d;switch(this.encoding){case"utf16le":this.text=S,this.end=F,d=4;break;case"utf8":this.fillLast=b,d=4;break;case"base64":this.text=R,this.end=C,d=3;break;default:this.write=j,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(d)}L.prototype.write=function(r){if(r.length===0)return"";var d,x;if(this.lastNeed){if(d=this.fillLast(r),d===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<r.length?d?d+this.text(r,x):this.text(r,x):d||""},L.prototype.end=t,L.prototype.text=A,L.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function T(r){return r<=127?0:r>>5===6?2:r>>4===14?3:r>>3===30?4:r>>6===2?-1:-2}function I(r,d,x){var v=d.length-1;if(v<x)return 0;var l=T(d[v]);return l>=0?(l>0&&(r.lastNeed=l-1),l):--v<x||l===-2?0:(l=T(d[v]),l>=0?(l>0&&(r.lastNeed=l-2),l):--v<x||l===-2?0:(l=T(d[v]),l>=0?(l>0&&(l===2?l=0:r.lastNeed=l-3),l):0))}function N(r,d,x){if((d[0]&192)!==128)return r.lastNeed=0,"";if(r.lastNeed>1&&d.length>1){if((d[1]&192)!==128)return r.lastNeed=1,"";if(r.lastNeed>2&&d.length>2&&(d[2]&192)!==128)return r.lastNeed=2,""}}function b(r){var d=this.lastTotal-this.lastNeed,x=N(this,r);if(x!==void 0)return x;if(this.lastNeed<=r.length)return r.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,d,0,r.length),this.lastNeed-=r.length}function A(r,d){var x=I(this,r,d);if(!this.lastNeed)return r.toString("utf8",d);this.lastTotal=x;var v=r.length-(x-this.lastNeed);return r.copy(this.lastChar,0,v),r.toString("utf8",d,v)}function t(r){var d=r&&r.length?this.write(r):"";return this.lastNeed?d+"":d}function S(r,d){if((r.length-d)%2===0){var x=r.toString("utf16le",d);if(x){var v=x.charCodeAt(x.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",d,r.length-1)}function F(r){var d=r&&r.length?this.write(r):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return d+this.lastChar.toString("utf16le",0,x)}return d}function R(r,d){var x=(r.length-d)%3;return x===0?r.toString("base64",d):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",d,r.length-x))}function C(r){var d=r&&r.length?this.write(r):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function j(r){return r.toString(this.encoding)}function m(r){return r&&r.length?this.write(r):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var s=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function o(T){var I=!1;return function(){if(!I){I=!0;for(var N=arguments.length,b=new Array(N),A=0;A<N;A++)b[A]=arguments[A];T.apply(this,b)}}}function $(){}function n(T){return T.setHeader&&typeof T.abort=="function"}function L(T,I,N){if(typeof I=="function")return L(T,null,I);I||(I={}),N=o(N||$);var b=I.readable||I.readable!==!1&&T.readable,A=I.writable||I.writable!==!1&&T.writable,t=function(){T.writable||F()},S=T._writableState&&T._writableState.finished,F=function(){A=!1,S=!0,b||N.call(T)},R=T._readableState&&T._readableState.endEmitted,C=function(){b=!1,R=!0,A||N.call(T)},j=function(x){N.call(T,x)},m=function(){var x;if(b&&!R)return(!T._readableState||!T._readableState.ended)&&(x=new s),N.call(T,x);if(A&&!S)return(!T._writableState||!T._writableState.ended)&&(x=new s),N.call(T,x)},r=function(){T.req.on("finish",F)};return n(T)?(T.on("complete",F),T.on("abort",m),T.req?r():T.on("request",r)):A&&!T._writableState&&(T.on("end",t),T.on("close",t)),T.on("end",C),T.on("finish",F),I.error!==!1&&T.on("error",j),T.on("close",m),function(){T.removeListener("complete",F),T.removeListener("abort",m),T.removeListener("request",r),T.req&&T.req.removeListener("finish",F),T.removeListener("end",t),T.removeListener("close",t),T.removeListener("finish",F),T.removeListener("end",C),T.removeListener("error",j),T.removeListener("close",m)}}return endOfStream=L,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var s;function o(x,v,l){return v=$(v),v in x?Object.defineProperty(x,v,{value:l,enumerable:!0,configurable:!0,writable:!0}):x[v]=l,x}function $(x){var v=n(x,"string");return typeof v=="symbol"?v:String(v)}function n(x,v){if(typeof x!="object"||x===null)return x;var l=x[Symbol.toPrimitive];if(l!==void 0){var _=l.call(x,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(x)}var L=requireEndOfStream(),T=Symbol("lastResolve"),I=Symbol("lastReject"),N=Symbol("error"),b=Symbol("ended"),A=Symbol("lastPromise"),t=Symbol("handlePromise"),S=Symbol("stream");function F(x,v){return{value:x,done:v}}function R(x){var v=x[T];if(v!==null){var l=x[S].read();l!==null&&(x[A]=null,x[T]=null,x[I]=null,v(F(l,!1)))}}function C(x){process$1.nextTick(R,x)}function j(x,v){return function(l,_){x.then(function(){if(v[b]){l(F(void 0,!0));return}v[t](l,_)},_)}}var m=Object.getPrototypeOf(function(){}),r=Object.setPrototypeOf((s={get stream(){return this[S]},next:function(){var v=this,l=this[N];if(l!==null)return Promise.reject(l);if(this[b])return Promise.resolve(F(void 0,!0));if(this[S].destroyed)return new Promise(function(O,J){process$1.nextTick(function(){v[N]?J(v[N]):O(F(void 0,!0))})});var _=this[A],p;if(_)p=new Promise(j(_,this));else{var w=this[S].read();if(w!==null)return Promise.resolve(F(w,!1));p=new Promise(this[t])}return this[A]=p,p}},o(s,Symbol.asyncIterator,function(){return this}),o(s,"return",function(){var v=this;return new Promise(function(l,_){v[S].destroy(null,function(p){if(p){_(p);return}l(F(void 0,!0))})})}),s),m),d=function(v){var l,_=Object.create(r,(l={},o(l,S,{value:v,writable:!0}),o(l,T,{value:null,writable:!0}),o(l,I,{value:null,writable:!0}),o(l,N,{value:null,writable:!0}),o(l,b,{value:v._readableState.endEmitted,writable:!0}),o(l,t,{value:function(w,O){var J=_[S].read();J?(_[A]=null,_[T]=null,_[I]=null,w(F(J,!1))):(_[T]=w,_[I]=O)},writable:!0}),l));return _[A]=null,L(v,function(p){if(p&&p.code!=="ERR_STREAM_PREMATURE_CLOSE"){var w=_[I];w!==null&&(_[A]=null,_[T]=null,_[I]=null,w(p)),_[N]=p;return}var O=_[T];O!==null&&(_[A]=null,_[T]=null,_[I]=null,O(F(void 0,!0))),_[b]=!0}),v.on("readable",C.bind(null,_)),_};return async_iterator=d,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=O;var s;O.ReadableState=w,requireEvents().EventEmitter;var o=function(U,he){return U.listeners(he).length},$=requireStreamBrowser(),n=require$$0.Buffer,L=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function T(B){return n.from(B)}function I(B){return n.isBuffer(B)||B instanceof L}var N=requireUtil(),b;N&&N.debuglog?b=N.debuglog("stream"):b=function(){};var A=requireBuffer_list(),t=requireDestroy(),S=requireState(),F=S.getHighWaterMark,R=requireErrorsBrowser().codes,C=R.ERR_INVALID_ARG_TYPE,j=R.ERR_STREAM_PUSH_AFTER_EOF,m=R.ERR_METHOD_NOT_IMPLEMENTED,r=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,v;requireInherits_browser()(O,$);var l=t.errorOrDestroy,_=["error","close","destroy","pause","resume"];function p(B,U,he){if(typeof B.prependListener=="function")return B.prependListener(U,he);!B._events||!B._events[U]?B.on(U,he):Array.isArray(B._events[U])?B._events[U].unshift(he):B._events[U]=[he,B._events[U]]}function w(B,U,he){s=s||require_stream_duplex(),B=B||{},typeof he!="boolean"&&(he=U instanceof s),this.objectMode=!!B.objectMode,he&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=F(this,B,"readableHighWaterMark",he),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(d||(d=requireString_decoder().StringDecoder),this.decoder=new d(B.encoding),this.encoding=B.encoding)}function O(B){if(s=s||require_stream_duplex(),!(this instanceof O))return new O(B);var U=this instanceof s;this._readableState=new w(B,this,U),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),$.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),O.prototype.destroy=t.destroy,O.prototype._undestroy=t.undestroy,O.prototype._destroy=function(B,U){U(B)},O.prototype.push=function(B,U){var he=this._readableState,we;return he.objectMode?we=!0:typeof B=="string"&&(U=U||he.defaultEncoding,U!==he.encoding&&(B=n.from(B,U),U=""),we=!0),J(this,B,U,!1,we)},O.prototype.unshift=function(B){return J(this,B,null,!0,!1)};function J(B,U,he,we,Ie){b("readableAddChunk",U);var me=B._readableState;if(U===null)me.reading=!1,_e(B,me);else{var ve;if(Ie||(ve=E(me,U)),ve)l(B,ve);else if(me.objectMode||U&&U.length>0)if(typeof U!="string"&&!me.objectMode&&Object.getPrototypeOf(U)!==n.prototype&&(U=T(U)),we)me.endEmitted?l(B,new r):q(B,me,U,!0);else if(me.ended)l(B,new j);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!he?(U=me.decoder.write(U),me.objectMode||U.length!==0?q(B,me,U,!1):K(B,me)):q(B,me,U,!1)}else we||(me.reading=!1,K(B,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function q(B,U,he,we){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,B.emit("data",he)):(U.length+=U.objectMode?1:he.length,we?U.buffer.unshift(he):U.buffer.push(he),U.needReadable&&ue(B)),K(B,U)}function E(B,U){var he;return!I(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(he=new C("chunk",["string","Buffer","Uint8Array"],U)),he}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(B){d||(d=requireString_decoder().StringDecoder);var U=new d(B);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var he=this._readableState.buffer.head,we="";he!==null;)we+=U.write(he.data),he=he.next;return this._readableState.buffer.clear(),we!==""&&this._readableState.buffer.push(we),this._readableState.length=we.length,this};var G=1073741824;function ge(B){return B>=G?B=G:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function fe(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=ge(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}O.prototype.read=function(B){b("read",B),B=parseInt(B,10);var U=this._readableState,he=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return b("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?D(this):ue(this),null;if(B=fe(B,U),B===0&&U.ended)return U.length===0&&D(this),null;var we=U.needReadable;b("need readable",we),(U.length===0||U.length-B<U.highWaterMark)&&(we=!0,b("length less than watermark",we)),U.ended||U.reading?(we=!1,b("reading or ended",we)):we&&(b("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=fe(he,U)));var Ie;return B>0?Ie=k(B,U):Ie=null,Ie===null?(U.needReadable=U.length<=U.highWaterMark,B=0):(U.length-=B,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),he!==B&&U.ended&&D(this)),Ie!==null&&this.emit("data",Ie),Ie};function _e(B,U){if(b("onEofChunk"),!U.ended){if(U.decoder){var he=U.decoder.end();he&&he.length&&(U.buffer.push(he),U.length+=U.objectMode?1:he.length)}U.ended=!0,U.sync?ue(B):(U.needReadable=!1,U.emittedReadable||(U.emittedReadable=!0,ye(B)))}}function ue(B){var U=B._readableState;b("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(b("emitReadable",U.flowing),U.emittedReadable=!0,process$1.nextTick(ye,B))}function ye(B){var U=B._readableState;b("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&(U.length||U.ended)&&(B.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,y(B)}function K(B,U){U.readingMore||(U.readingMore=!0,process$1.nextTick(Q,B,U))}function Q(B,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var he=U.length;if(b("maybeReadMore read 0"),B.read(0),he===U.length)break}U.readingMore=!1}O.prototype._read=function(B){l(this,new m("_read()"))},O.prototype.pipe=function(B,U){var he=this,we=this._readableState;switch(we.pipesCount){case 0:we.pipes=B;break;case 1:we.pipes=[we.pipes,B];break;default:we.pipes.push(B);break}we.pipesCount+=1,b("pipe count=%d opts=%j",we.pipesCount,U);var Ie=(!U||U.end!==!1)&&B!==process$1.stdout&&B!==process$1.stderr,me=Ie?re:Pe;we.endEmitted?process$1.nextTick(me):he.once("end",me),B.on("unpipe",ve);function ve(Oe,qe){b("onunpipe"),Oe===he&&qe&&qe.hasUnpiped===!1&&(qe.hasUnpiped=!0,Te())}function re(){b("onend"),B.end()}var ne=le(he);B.on("drain",ne);var Ee=!1;function Te(){b("cleanup"),B.removeListener("close",W),B.removeListener("finish",te),B.removeListener("drain",ne),B.removeListener("error",Re),B.removeListener("unpipe",ve),he.removeListener("end",re),he.removeListener("end",Pe),he.removeListener("data",oe),Ee=!0,we.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&ne()}he.on("data",oe);function oe(Oe){b("ondata");var qe=B.write(Oe);b("dest.write",qe),qe===!1&&((we.pipesCount===1&&we.pipes===B||we.pipesCount>1&&se(we.pipes,B)!==-1)&&!Ee&&(b("false write response, pause",we.awaitDrain),we.awaitDrain++),he.pause())}function Re(Oe){b("onerror",Oe),Pe(),B.removeListener("error",Re),o(B,"error")===0&&l(B,Oe)}p(B,"error",Re);function W(){B.removeListener("finish",te),Pe()}B.once("close",W);function te(){b("onfinish"),B.removeListener("close",W),Pe()}B.once("finish",te);function Pe(){b("unpipe"),he.unpipe(B)}return B.emit("pipe",he),we.flowing||(b("pipe resume"),he.resume()),B};function le(B){return function(){var he=B._readableState;b("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&o(B,"data")&&(he.flowing=!0,y(B))}}O.prototype.unpipe=function(B){var U=this._readableState,he={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,he),this);if(!B){var we=U.pipes,Ie=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var me=0;me<Ie;me++)we[me].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=se(U.pipes,B);return ve===-1?this:(U.pipes.splice(ve,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,he),this)},O.prototype.on=function(B,U){var he=$.prototype.on.call(this,B,U),we=this._readableState;return B==="data"?(we.readableListening=this.listenerCount("readable")>0,we.flowing!==!1&&this.resume()):B==="readable"&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,b("on readable",we.length,we.reading),we.length?ue(this):we.reading||process$1.nextTick(f,this)),he},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(B,U){var he=$.prototype.removeListener.call(this,B,U);return B==="readable"&&process$1.nextTick(X,this),he},O.prototype.removeAllListeners=function(B){var U=$.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&process$1.nextTick(X,this),U};function X(B){var U=B._readableState;U.readableListening=B.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:B.listenerCount("data")>0&&B.resume()}function f(B){b("readable nexttick read 0"),B.read(0)}O.prototype.resume=function(){var B=this._readableState;return B.flowing||(b("resume"),B.flowing=!B.readableListening,a(this,B)),B.paused=!1,this};function a(B,U){U.resumeScheduled||(U.resumeScheduled=!0,process$1.nextTick(g,B,U))}function g(B,U){b("resume",U.reading),U.reading||B.read(0),U.resumeScheduled=!1,B.emit("resume"),y(B),U.flowing&&!U.reading&&B.read(0)}O.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function y(B){var U=B._readableState;for(b("flow",U.flowing);U.flowing&&B.read()!==null;);}O.prototype.wrap=function(B){var U=this,he=this._readableState,we=!1;B.on("end",function(){if(b("wrapped end"),he.decoder&&!he.ended){var ve=he.decoder.end();ve&&ve.length&&U.push(ve)}U.push(null)}),B.on("data",function(ve){if(b("wrapped data"),he.decoder&&(ve=he.decoder.write(ve)),!(he.objectMode&&ve==null)&&!(!he.objectMode&&(!ve||!ve.length))){var re=U.push(ve);re||(we=!0,B.pause())}});for(var Ie in B)this[Ie]===void 0&&typeof B[Ie]=="function"&&(this[Ie]=function(re){return function(){return B[re].apply(B,arguments)}}(Ie));for(var me=0;me<_.length;me++)B.on(_[me],this.emit.bind(this,_[me]));return this._read=function(ve){b("wrapped _read",ve),we&&(we=!1,B.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=requireAsync_iterator()),x(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),O._fromList=k,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function k(B,U){if(U.length===0)return null;var he;return U.objectMode?he=U.buffer.shift():!B||B>=U.length?(U.decoder?he=U.buffer.join(""):U.buffer.length===1?he=U.buffer.first():he=U.buffer.concat(U.length),U.buffer.clear()):he=U.buffer.consume(B,U.decoder),he}function D(B){var U=B._readableState;b("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,process$1.nextTick(ee,U,B))}function ee(B,U){if(b("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"),B.autoDestroy)){var he=U._writableState;(!he||he.autoDestroy&&he.finished)&&U.destroy()}}typeof Symbol=="function"&&(O.from=function(B,U){return v===void 0&&(v=requireFromBrowser()),v(O,B,U)});function se(B,U){for(var he=0,we=B.length;he<we;he++)if(B[he]===U)return he;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=N;var s=requireErrorsBrowser().codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,$=s.ERR_MULTIPLE_CALLBACK,n=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,L=s.ERR_TRANSFORM_WITH_LENGTH_0,T=require_stream_duplex();requireInherits_browser()(N,T);function I(t,S){var F=this._transformState;F.transforming=!1;var R=F.writecb;if(R===null)return this.emit("error",new $);F.writechunk=null,F.writecb=null,S!=null&&this.push(S),R(t);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function N(t){if(!(this instanceof N))return new N(t);T.call(this,t),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",b)}function b(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,F){A(t,S,F)}):A(this,null,null)}N.prototype.push=function(t,S){return this._transformState.needTransform=!1,T.prototype.push.call(this,t,S)},N.prototype._transform=function(t,S,F){F(new o("_transform()"))},N.prototype._write=function(t,S,F){var R=this._transformState;if(R.writecb=F,R.writechunk=t,R.writeencoding=S,!R.transforming){var C=this._readableState;(R.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},N.prototype._read=function(t){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},N.prototype._destroy=function(t,S){T.prototype._destroy.call(this,t,function(F){S(F)})};function A(t,S,F){if(S)return t.emit("error",S);if(F!=null&&t.push(F),t._writableState.length)throw new L;if(t._transformState.transforming)throw new n;return t.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=o;var s=require_stream_transform();requireInherits_browser()(o,s);function o($){if(!(this instanceof o))return new o($);s.call(this,$)}return o.prototype._transform=function($,n,L){L(null,$)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var s;function o(F){var R=!1;return function(){R||(R=!0,F.apply(void 0,arguments))}}var $=requireErrorsBrowser().codes,n=$.ERR_MISSING_ARGS,L=$.ERR_STREAM_DESTROYED;function T(F){if(F)throw F}function I(F){return F.setHeader&&typeof F.abort=="function"}function N(F,R,C,j){j=o(j);var m=!1;F.on("close",function(){m=!0}),s===void 0&&(s=requireEndOfStream()),s(F,{readable:R,writable:C},function(d){if(d)return j(d);m=!0,j()});var r=!1;return function(d){if(!m&&!r){if(r=!0,I(F))return F.abort();if(typeof F.destroy=="function")return F.destroy();j(d||new L("pipe"))}}}function b(F){F()}function A(F,R){return F.pipe(R)}function t(F){return!F.length||typeof F[F.length-1]!="function"?T:F.pop()}function S(){for(var F=arguments.length,R=new Array(F),C=0;C<F;C++)R[C]=arguments[C];var j=t(R);if(Array.isArray(R[0])&&(R=R[0]),R.length<2)throw new n("streams");var m,r=R.map(function(d,x){var v=x<R.length-1,l=x>0;return N(d,v,l,function(_){m||(m=_),_&&r.forEach(b),!v&&(r.forEach(b),j(m))})});return R.reduce(A)}return pipeline_1=S,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(s,o){o=s.exports=require_stream_readable(),o.Stream=o,o.Readable=o,o.Writable=require_stream_writable(),o.Duplex=require_stream_duplex(),o.Transform=require_stream_transform(),o.PassThrough=require_stream_passthrough(),o.finished=requireEndOfStream(),o.pipeline=requirePipeline()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var hasRequiredResponse;function requireResponse(){if(hasRequiredResponse)return response;hasRequiredResponse=1;var s=requireCapability(),o=requireInherits_browser(),$=requireReadableBrowser(),n=response.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},L=response.IncomingMessage=function(T,I,N,b){var A=this;if($.Readable.call(A),A._mode=N,A.headers={},A.rawHeaders=[],A.trailers={},A.rawTrailers=[],A.on("end",function(){process$1.nextTick(function(){A.emit("close")})}),N==="fetch"){let j=function(){S.read().then(function(m){if(!A._destroyed){if(b(m.done),m.done){A.push(null);return}A.push(Buffer.from(m.value)),j()}}).catch(function(m){b(!0),A._destroyed||A.emit("error",m)})};if(A._fetchResponse=I,A.url=I.url,A.statusCode=I.status,A.statusMessage=I.statusText,I.headers.forEach(function(m,r){A.headers[r.toLowerCase()]=m,A.rawHeaders.push(r,m)}),s.writableStream){var t=new WritableStream({write:function(m){return b(!1),new Promise(function(r,d){A._destroyed?d():A.push(Buffer.from(m))?r():A._resumeFetch=r})},close:function(){b(!0),A._destroyed||A.push(null)},abort:function(m){b(!0),A._destroyed||A.emit("error",m)}});try{I.body.pipeTo(t).catch(function(m){b(!0),A._destroyed||A.emit("error",m)});return}catch{}}var S=I.body.getReader();j()}else{A._xhr=T,A._pos=0,A.url=T.responseURL,A.statusCode=T.status,A.statusMessage=T.statusText;var F=T.getAllResponseHeaders().split(/\r?\n/);if(F.forEach(function(j){var m=j.match(/^([^:]+):\s*(.*)/);if(m){var r=m[1].toLowerCase();r==="set-cookie"?(A.headers[r]===void 0&&(A.headers[r]=[]),A.headers[r].push(m[2])):A.headers[r]!==void 0?A.headers[r]+=", "+m[2]:A.headers[r]=m[2],A.rawHeaders.push(m[1],m[2])}}),A._charset="x-user-defined",!s.overrideMimeType){var R=A.rawHeaders["mime-type"];if(R){var C=R.match(/;\s*charset=([^;])(;|$)/);C&&(A._charset=C[1].toLowerCase())}A._charset||(A._charset="utf-8")}}};return o(L,$.Readable),L.prototype._read=function(){var T=this,I=T._resumeFetch;I&&(T._resumeFetch=null,I())},L.prototype._onXHRProgress=function(T){var I=this,N=I._xhr,b=null;switch(I._mode){case"text":if(b=N.responseText,b.length>I._pos){var A=b.substr(I._pos);if(I._charset==="x-user-defined"){for(var t=Buffer.alloc(A.length),S=0;S<A.length;S++)t[S]=A.charCodeAt(S)&255;I.push(t)}else I.push(A,I._charset);I._pos=b.length}break;case"arraybuffer":if(N.readyState!==n.DONE||!N.response)break;b=N.response,I.push(Buffer.from(new Uint8Array(b)));break;case"moz-chunked-arraybuffer":if(b=N.response,N.readyState!==n.LOADING||!b)break;I.push(Buffer.from(new Uint8Array(b)));break;case"ms-stream":if(b=N.response,N.readyState!==n.LOADING)break;var F=new globalThis.MSStreamReader;F.onprogress=function(){F.result.byteLength>I._pos&&(I.push(Buffer.from(new Uint8Array(F.result.slice(I._pos)))),I._pos=F.result.byteLength)},F.onload=function(){T(!0),I.push(null)},F.readAsArrayBuffer(b);break}I._xhr.readyState===n.DONE&&I._mode!=="ms-stream"&&(T(!0),I.push(null))},response}var hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request.exports;hasRequiredRequest=1;var s=requireCapability(),o=requireInherits_browser(),$=requireResponse(),n=requireReadableBrowser(),L=$.IncomingMessage,T=$.readyStates;function I(t,S){return s.fetch&&S?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&t?"arraybuffer":"text"}var N=request.exports=function(t){var S=this;n.Writable.call(S),S._opts=t,S._body=[],S._headers={},t.auth&&S.setHeader("Authorization","Basic "+Buffer.from(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(C){S.setHeader(C,t.headers[C])});var F,R=!0;if(t.mode==="disable-fetch"||"requestTimeout"in t&&!s.abortController)R=!1,F=!0;else if(t.mode==="prefer-streaming")F=!1;else if(t.mode==="allow-wrong-content-type")F=!s.overrideMimeType;else if(!t.mode||t.mode==="default"||t.mode==="prefer-fast")F=!0;else throw new Error("Invalid value for opts.mode");S._mode=I(F,R),S._fetchTimer=null,S._socketTimeout=null,S._socketTimer=null,S.on("finish",function(){S._onFinish()})};o(N,n.Writable),N.prototype.setHeader=function(t,S){var F=this,R=t.toLowerCase();A.indexOf(R)===-1&&(F._headers[R]={name:t,value:S})},N.prototype.getHeader=function(t){var S=this._headers[t.toLowerCase()];return S?S.value:null},N.prototype.removeHeader=function(t){var S=this;delete S._headers[t.toLowerCase()]},N.prototype._onFinish=function(){var t=this;if(!t._destroyed){var S=t._opts;"timeout"in S&&S.timeout!==0&&t.setTimeout(S.timeout);var F=t._headers,R=null;S.method!=="GET"&&S.method!=="HEAD"&&(R=new Blob(t._body,{type:(F["content-type"]||{}).value||""}));var C=[];if(Object.keys(F).forEach(function(d){var x=F[d].name,v=F[d].value;Array.isArray(v)?v.forEach(function(l){C.push([x,l])}):C.push([x,v])}),t._mode==="fetch"){var j=null;if(s.abortController){var m=new AbortController;j=m.signal,t._fetchAbortController=m,"requestTimeout"in S&&S.requestTimeout!==0&&(t._fetchTimer=globalThis.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},S.requestTimeout))}globalThis.fetch(t._opts.url,{method:t._opts.method,headers:C,body:R||void 0,mode:"cors",credentials:S.withCredentials?"include":"same-origin",signal:j}).then(function(d){t._fetchResponse=d,t._resetTimers(!1),t._connect()},function(d){t._resetTimers(!0),t._destroyed||t.emit("error",d)})}else{var r=t._xhr=new globalThis.XMLHttpRequest;try{r.open(t._opts.method,t._opts.url,!0)}catch(d){process$1.nextTick(function(){t.emit("error",d)});return}"responseType"in r&&(r.responseType=t._mode),"withCredentials"in r&&(r.withCredentials=!!S.withCredentials),t._mode==="text"&&"overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in S&&(r.timeout=S.requestTimeout,r.ontimeout=function(){t.emit("requestTimeout")}),C.forEach(function(d){r.setRequestHeader(d[0],d[1])}),t._response=null,r.onreadystatechange=function(){switch(r.readyState){case T.LOADING:case T.DONE:t._onXHRProgress();break}},t._mode==="moz-chunked-arraybuffer"&&(r.onprogress=function(){t._onXHRProgress()}),r.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")))};try{r.send(R)}catch(d){process$1.nextTick(function(){t.emit("error",d)});return}}}};function b(t){try{var S=t.status;return S!==null&&S!==0}catch{return!1}}N.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),!(!b(t._xhr)||t._destroyed)&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)))},N.prototype._connect=function(){var t=this;t._destroyed||(t._response=new L(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",function(S){t.emit("error",S)}),t.emit("response",t._response))},N.prototype._write=function(t,S,F){var R=this;R._body.push(t),F()},N.prototype._resetTimers=function(t){var S=this;globalThis.clearTimeout(S._socketTimer),S._socketTimer=null,t?(globalThis.clearTimeout(S._fetchTimer),S._fetchTimer=null):S._socketTimeout&&(S._socketTimer=globalThis.setTimeout(function(){S.emit("timeout")},S._socketTimeout))},N.prototype.abort=N.prototype.destroy=function(t){var S=this;S._destroyed=!0,S._resetTimers(!0),S._response&&(S._response._destroyed=!0),S._xhr?S._xhr.abort():S._fetchAbortController&&S._fetchAbortController.abort(),t&&S.emit("error",t)},N.prototype.end=function(t,S,F){var R=this;typeof t=="function"&&(F=t,t=void 0),n.Writable.prototype.end.call(R,t,S,F)},N.prototype.setTimeout=function(t,S){var F=this;S&&F.once("timeout",S),F._socketTimeout=t,F._resetTimers(!1)},N.prototype.flushHeaders=function(){},N.prototype.setNoDelay=function(){},N.prototype.setSocketKeepAlive=function(){};var A=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return request.exports}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=o;var s=Object.prototype.hasOwnProperty;function o(){for(var $={},n=0;n<arguments.length;n++){var L=arguments[n];for(var T in L)s.call(L,T)&&($[T]=L[T])}return $}return immutable}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),browser}var hasRequiredStreamHttp;function requireStreamHttp(){return hasRequiredStreamHttp||(hasRequiredStreamHttp=1,function(s){var o=requireRequest(),$=requireResponse(),n=requireImmutable(),L=requireBrowser(),T=requireUrl(),I=s;I.request=function(N,b){typeof N=="string"?N=T.parse(N):N=n(N);var A=globalThis.location.protocol.search(/^https?:$/)===-1?"http:":"",t=N.protocol||A,S=N.hostname||N.host,F=N.port,R=N.path||"/";S&&S.indexOf(":")!==-1&&(S="["+S+"]"),N.url=(S?t+"//"+S:"")+(F?":"+F:"")+R,N.method=(N.method||"GET").toUpperCase(),N.headers=N.headers||{};var C=new o(N);return b&&C.on("response",b),C},I.get=function(b,A){var t=I.request(b,A);return t.end(),t},I.ClientRequest=o,I.IncomingMessage=$.IncomingMessage,I.Agent=function(){},I.Agent.defaultMaxSockets=4,I.globalAgent=new I.Agent,I.STATUS_CODES=L,I.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(streamHttp)),streamHttp}var httpsBrowserify={exports:{}},hasRequiredHttpsBrowserify;function requireHttpsBrowserify(){return hasRequiredHttpsBrowserify||(hasRequiredHttpsBrowserify=1,function(s){var o=requireStreamHttp(),$=requireUrl(),n=s.exports;for(var L in o)o.hasOwnProperty(L)&&(n[L]=o[L]);n.request=function(I,N){return I=T(I),o.request.call(this,I,N)},n.get=function(I,N){return I=T(I),o.get.call(this,I,N)};function T(I){if(typeof I=="string"&&(I=$.parse(I)),I.protocol||(I.protocol="https:"),I.protocol!=="https:")throw new Error('Protocol "'+I.protocol+'" not supported. Expected "https:"');return I}}(httpsBrowserify)),httpsBrowserify.exports}var lib={},streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=$;var s=requireEvents().EventEmitter,o=requireInherits_browser();o($,s),$.Readable=require_stream_readable(),$.Writable=require_stream_writable(),$.Duplex=require_stream_duplex(),$.Transform=require_stream_transform(),$.PassThrough=require_stream_passthrough(),$.finished=requireEndOfStream(),$.pipeline=requirePipeline(),$.Stream=$;function $(){s.call(this)}return $.prototype.pipe=function(n,L){var T=this;function I(R){n.writable&&n.write(R)===!1&&T.pause&&T.pause()}T.on("data",I);function N(){T.readable&&T.resume&&T.resume()}n.on("drain",N),!n._isStdio&&(!L||L.end!==!1)&&(T.on("end",A),T.on("close",t));var b=!1;function A(){b||(b=!0,n.end())}function t(){b||(b=!0,typeof n.destroy=="function"&&n.destroy())}function S(R){if(F(),s.listenerCount(this,"error")===0)throw R}T.on("error",S),n.on("error",S);function F(){T.removeListener("data",I),n.removeListener("drain",N),T.removeListener("end",A),T.removeListener("close",t),T.removeListener("error",S),n.removeListener("error",S),T.removeListener("end",F),T.removeListener("close",F),n.removeListener("close",F)}return T.on("end",F),T.on("close",F),n.on("close",F),n.emit("pipe",T),n},streamBrowserify}var binding={},assert={exports:{}},errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function s(d){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s(d)}function o(d,x,v){return Object.defineProperty(d,"prototype",{writable:!1}),d}function $(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")}function n(d,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(x&&x.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),x&&L(d,x)}function L(d,x){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,_){return l.__proto__=_,l},L(d,x)}function T(d){var x=b();return function(){var l=A(d),_;if(x){var p=A(this).constructor;_=Reflect.construct(l,arguments,p)}else _=l.apply(this,arguments);return I(this,_)}}function I(d,x){if(x&&(s(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(d)}function N(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(d){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},A(d)}var t={},S,F;function R(d,x,v){v||(v=Error);function l(p,w,O){return typeof x=="string"?x:x(p,w,O)}var _=function(p){n(O,p);var w=T(O);function O(J,q,E){var G;return $(this,O),G=w.call(this,l(J,q,E)),G.code=d,G}return o(O)}(v);t[d]=_}function C(d,x){if(Array.isArray(d)){var v=d.length;return d=d.map(function(l){return String(l)}),v>2?"one of ".concat(x," ").concat(d.slice(0,v-1).join(", "),", or ")+d[v-1]:v===2?"one of ".concat(x," ").concat(d[0]," or ").concat(d[1]):"of ".concat(x," ").concat(d[0])}else return"of ".concat(x," ").concat(String(d))}function j(d,x,v){return d.substr(0,x.length)===x}function m(d,x,v){return(v===void 0||v>d.length)&&(v=d.length),d.substring(v-x.length,v)===x}function r(d,x,v){return typeof v!="number"&&(v=0),v+x.length>d.length?!1:d.indexOf(x,v)!==-1}return R("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),R("ERR_INVALID_ARG_TYPE",function(d,x,v){S===void 0&&(S=requireAssert()),S(typeof d=="string","'name' must be a string");var l;typeof x=="string"&&j(x,"not ")?(l="must not be",x=x.replace(/^not /,"")):l="must be";var _;if(m(d," argument"))_="The ".concat(d," ").concat(l," ").concat(C(x,"type"));else{var p=r(d,".")?"property":"argument";_='The "'.concat(d,'" ').concat(p," ").concat(l," ").concat(C(x,"type"))}return _+=". Received type ".concat(s(v)),_},TypeError),R("ERR_INVALID_ARG_VALUE",function(d,x){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";F===void 0&&(F=requireUtil());var l=F.inspect(x);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(d,"' ").concat(v,". Received ").concat(l)},TypeError),R("ERR_INVALID_RETURN_VALUE",function(d,x,v){var l;return v&&v.constructor&&v.constructor.name?l="instance of ".concat(v.constructor.name):l="type ".concat(s(v)),"Expected ".concat(d,' to be returned from the "').concat(x,'"')+" function but got ".concat(l,".")},TypeError),R("ERR_MISSING_ARGS",function(){for(var d=arguments.length,x=new Array(d),v=0;v<d;v++)x[v]=arguments[v];S===void 0&&(S=requireAssert()),S(x.length>0,"At least one arg needs to be specified");var l="The ",_=x.length;switch(x=x.map(function(p){return'"'.concat(p,'"')}),_){case 1:l+="".concat(x[0]," argument");break;case 2:l+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:l+=x.slice(0,_-1).join(", "),l+=", and ".concat(x[_-1]," arguments");break}return"".concat(l," must be specified")},TypeError),errors.codes=t,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function s(K,Q){var le=Object.keys(K);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(K);Q&&(X=X.filter(function(f){return Object.getOwnPropertyDescriptor(K,f).enumerable})),le.push.apply(le,X)}return le}function o(K){for(var Q=1;Q<arguments.length;Q++){var le=arguments[Q]!=null?arguments[Q]:{};Q%2?s(Object(le),!0).forEach(function(X){$(K,X,le[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(le)):s(Object(le)).forEach(function(X){Object.defineProperty(K,X,Object.getOwnPropertyDescriptor(le,X))})}return K}function $(K,Q,le){return Q=I(Q),Q in K?Object.defineProperty(K,Q,{value:le,enumerable:!0,configurable:!0,writable:!0}):K[Q]=le,K}function n(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}function L(K,Q){for(var le=0;le<Q.length;le++){var X=Q[le];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(K,I(X.key),X)}}function T(K,Q,le){return Q&&L(K.prototype,Q),Object.defineProperty(K,"prototype",{writable:!1}),K}function I(K){var Q=N(K,"string");return d(Q)==="symbol"?Q:String(Q)}function N(K,Q){if(d(K)!=="object"||K===null)return K;var le=K[Symbol.toPrimitive];if(le!==void 0){var X=le.call(K,Q);if(d(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}function b(K,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(Q&&Q.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),Q&&m(K,Q)}function A(K){var Q=C();return function(){var X=r(K),f;if(Q){var a=r(this).constructor;f=Reflect.construct(X,arguments,a)}else f=X.apply(this,arguments);return t(this,f)}}function t(K,Q){if(Q&&(d(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(K)}function S(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function F(K){var Q=typeof Map=="function"?new Map:void 0;return F=function(X){if(X===null||!j(X))return X;if(typeof X!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Q<"u"){if(Q.has(X))return Q.get(X);Q.set(X,f)}function f(){return R(X,arguments,r(this).constructor)}return f.prototype=Object.create(X.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m(f,X)},F(K)}function R(K,Q,le){return C()?R=Reflect.construct.bind():R=function(f,a,g){var y=[null];y.push.apply(y,a);var k=Function.bind.apply(f,y),D=new k;return g&&m(D,g.prototype),D},R.apply(null,arguments)}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j(K){return Function.toString.call(K).indexOf("[native code]")!==-1}function m(K,Q){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,f){return X.__proto__=f,X},m(K,Q)}function r(K){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},r(K)}function d(K){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},d(K)}var x=requireUtil(),v=x.inspect,l=requireErrors(),_=l.codes.ERR_INVALID_ARG_TYPE;function p(K,Q,le){return(le===void 0||le>K.length)&&(le=K.length),K.substring(le-Q.length,le)===Q}function w(K,Q){if(Q=Math.floor(Q),K.length==0||Q==0)return"";var le=K.length*Q;for(Q=Math.floor(Math.log(Q)/Math.log(2));Q;)K+=K,Q--;return K+=K.substring(0,le-K.length),K}var O="",J="",q="",E="",G={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},ge=10;function fe(K){var Q=Object.keys(K),le=Object.create(Object.getPrototypeOf(K));return Q.forEach(function(X){le[X]=K[X]}),Object.defineProperty(le,"message",{value:K.message}),le}function _e(K){return v(K,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function ue(K,Q,le){var X="",f="",a=0,g="",y=!1,k=_e(K),D=k.split(`
`),ee=_e(Q).split(`
`),se=0,B="";if(le==="strictEqual"&&d(K)==="object"&&d(Q)==="object"&&K!==null&&Q!==null&&(le="strictEqualObject"),D.length===1&&ee.length===1&&D[0]!==ee[0]){var U=D[0].length+ee[0].length;if(U<=ge){if((d(K)!=="object"||K===null)&&(d(Q)!=="object"||Q===null)&&(K!==0||Q!==0))return"".concat(G[le],`

`)+"".concat(D[0]," !== ").concat(ee[0],`
`)}else if(le!=="strictEqualObject"){var he=process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80;if(U<he){for(;D[0][se]===ee[0][se];)se++;se>2&&(B=`
  `.concat(w(" ",se),"^"),se=0)}}}for(var we=D[D.length-1],Ie=ee[ee.length-1];we===Ie&&(se++<2?g=`
  `.concat(we).concat(g):X=we,D.pop(),ee.pop(),!(D.length===0||ee.length===0));)we=D[D.length-1],Ie=ee[ee.length-1];var me=Math.max(D.length,ee.length);if(me===0){var ve=k.split(`
`);if(ve.length>30)for(ve[26]="".concat(O,"...").concat(E);ve.length>27;)ve.pop();return"".concat(G.notIdentical,`

`).concat(ve.join(`
`),`
`)}se>3&&(g=`
`.concat(O,"...").concat(E).concat(g),y=!0),X!==""&&(g=`
  `.concat(X).concat(g),X="");var re=0,ne=G[le]+`
`.concat(J,"+ actual").concat(E," ").concat(q,"- expected").concat(E),Ee=" ".concat(O,"...").concat(E," Lines skipped");for(se=0;se<me;se++){var Te=se-a;if(D.length<se+1)Te>1&&se>2&&(Te>4?(f+=`
`.concat(O,"...").concat(E),y=!0):Te>3&&(f+=`
  `.concat(ee[se-2]),re++),f+=`
  `.concat(ee[se-1]),re++),a=se,X+=`
`.concat(q,"-").concat(E," ").concat(ee[se]),re++;else if(ee.length<se+1)Te>1&&se>2&&(Te>4?(f+=`
`.concat(O,"...").concat(E),y=!0):Te>3&&(f+=`
  `.concat(D[se-2]),re++),f+=`
  `.concat(D[se-1]),re++),a=se,f+=`
`.concat(J,"+").concat(E," ").concat(D[se]),re++;else{var oe=ee[se],Re=D[se],W=Re!==oe&&(!p(Re,",")||Re.slice(0,-1)!==oe);W&&p(oe,",")&&oe.slice(0,-1)===Re&&(W=!1,Re+=","),W?(Te>1&&se>2&&(Te>4?(f+=`
`.concat(O,"...").concat(E),y=!0):Te>3&&(f+=`
  `.concat(D[se-2]),re++),f+=`
  `.concat(D[se-1]),re++),a=se,f+=`
`.concat(J,"+").concat(E," ").concat(Re),X+=`
`.concat(q,"-").concat(E," ").concat(oe),re+=2):(f+=X,X="",(Te===1||se===0)&&(f+=`
  `.concat(Re),re++))}if(re>20&&se<me-2)return"".concat(ne).concat(Ee,`
`).concat(f,`
`).concat(O,"...").concat(E).concat(X,`
`)+"".concat(O,"...").concat(E)}return"".concat(ne).concat(y?Ee:"",`
`).concat(f).concat(X).concat(g).concat(B)}var ye=function(K,Q){b(X,K);var le=A(X);function X(f){var a;if(n(this,X),d(f)!=="object"||f===null)throw new _("options","Object",f);var g=f.message,y=f.operator,k=f.stackStartFn,D=f.actual,ee=f.expected,se=Error.stackTraceLimit;if(Error.stackTraceLimit=0,g!=null)a=le.call(this,String(g));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&process$1.stderr.getColorDepth()!==1?(O="\x1B[34m",J="\x1B[32m",E="\x1B[39m",q="\x1B[31m"):(O="",J="",E="",q="")),d(D)==="object"&&D!==null&&d(ee)==="object"&&ee!==null&&"stack"in D&&D instanceof Error&&"stack"in ee&&ee instanceof Error&&(D=fe(D),ee=fe(ee)),y==="deepStrictEqual"||y==="strictEqual")a=le.call(this,ue(D,ee,y));else if(y==="notDeepStrictEqual"||y==="notStrictEqual"){var B=G[y],U=_e(D).split(`
`);if(y==="notStrictEqual"&&d(D)==="object"&&D!==null&&(B=G.notStrictEqualObject),U.length>30)for(U[26]="".concat(O,"...").concat(E);U.length>27;)U.pop();U.length===1?a=le.call(this,"".concat(B," ").concat(U[0])):a=le.call(this,"".concat(B,`

`).concat(U.join(`
`),`
`))}else{var he=_e(D),we="",Ie=G[y];y==="notDeepEqual"||y==="notEqual"?(he="".concat(G[y],`

`).concat(he),he.length>1024&&(he="".concat(he.slice(0,1021),"..."))):(we="".concat(_e(ee)),he.length>512&&(he="".concat(he.slice(0,509),"...")),we.length>512&&(we="".concat(we.slice(0,509),"...")),y==="deepEqual"||y==="equal"?he="".concat(Ie,`

`).concat(he,`

should equal

`):we=" ".concat(y," ").concat(we)),a=le.call(this,"".concat(he).concat(we))}return Error.stackTraceLimit=se,a.generatedMessage=!g,Object.defineProperty(S(a),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),a.code="ERR_ASSERTION",a.actual=D,a.expected=ee,a.operator=y,Error.captureStackTrace&&Error.captureStackTrace(S(a),k),a.stack,a.name="AssertionError",t(a)}return T(X,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Q,value:function(a,g){return v(this,o(o({},g),{},{customInspect:!1,depth:0}))}}]),X}(F(Error),v.custom);return assertion_error=ye,assertion_error}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var s=Object.prototype.toString;return isArguments=function($){var n=s.call($),L=n==="[object Arguments]";return L||(L=n!=="[object Array]"&&$!==null&&typeof $=="object"&&typeof $.length=="number"&&$.length>=0&&s.call($.callee)==="[object Function]"),L},isArguments}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var s;if(!Object.keys){var o=Object.prototype.hasOwnProperty,$=Object.prototype.toString,n=requireIsArguments(),L=Object.prototype.propertyIsEnumerable,T=!L.call({toString:null},"toString"),I=L.call(function(){},"prototype"),N=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],b=function(F){var R=F.constructor;return R&&R.prototype===F},A={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},t=function(){if(typeof window>"u")return!1;for(var F in window)try{if(!A["$"+F]&&o.call(window,F)&&window[F]!==null&&typeof window[F]=="object")try{b(window[F])}catch{return!0}}catch{return!0}return!1}(),S=function(F){if(typeof window>"u"||!t)return b(F);try{return b(F)}catch{return!1}};s=function(R){var C=R!==null&&typeof R=="object",j=$.call(R)==="[object Function]",m=n(R),r=C&&$.call(R)==="[object String]",d=[];if(!C&&!j&&!m)throw new TypeError("Object.keys called on a non-object");var x=I&&j;if(r&&R.length>0&&!o.call(R,0))for(var v=0;v<R.length;++v)d.push(String(v));if(m&&R.length>0)for(var l=0;l<R.length;++l)d.push(String(l));else for(var _ in R)!(x&&_==="prototype")&&o.call(R,_)&&d.push(String(_));if(T)for(var p=S(R),w=0;w<N.length;++w)!(p&&N[w]==="constructor")&&o.call(R,N[w])&&d.push(N[w]);return d}}return implementation$3=s,implementation$3}var objectKeys,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var s=Array.prototype.slice,o=requireIsArguments(),$=Object.keys,n=$?function(I){return $(I)}:requireImplementation$3(),L=Object.keys;return n.shim=function(){if(Object.keys){var I=function(){var N=Object.keys(arguments);return N&&N.length===arguments.length}(1,2);I||(Object.keys=function(b){return o(b)?L(s.call(b)):L(b)})}else Object.keys=n;return Object.keys||n},objectKeys=n,objectKeys}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var s=requireObjectKeys(),o=requireShams$1()(),$=requireCallBound$1(),n=requireEsObjectAtoms(),L=$("Array.prototype.push"),T=$("Object.prototype.propertyIsEnumerable"),I=o?n.getOwnPropertySymbols:null;return implementation$2=function(b,A){if(b==null)throw new TypeError("target must be an object");var t=n(b);if(arguments.length===1)return t;for(var S=1;S<arguments.length;++S){var F=n(arguments[S]),R=s(F),C=o&&(n.getOwnPropertySymbols||I);if(C)for(var j=C(F),m=0;m<j.length;++m){var r=j[m];T(F,r)&&L(R,r)}for(var d=0;d<R.length;++d){var x=R[d];if(T(F,x)){var v=F[x];t[x]=v}}}return t},implementation$2}var polyfill$2,hasRequiredPolyfill$2;function requirePolyfill$2(){if(hasRequiredPolyfill$2)return polyfill$2;hasRequiredPolyfill$2=1;var s=requireImplementation$2(),o=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",L=n.split(""),T={},I=0;I<L.length;++I)T[L[I]]=L[I];var N=Object.assign({},T),b="";for(var A in N)b+=A;return n!==b},$=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return polyfill$2=function(){return!Object.assign||o()||$()?s:Object.assign},polyfill$2}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var s=function(o){return o!==o};return implementation$1=function($,n){return $===0&&n===0?1/$===1/n:!!($===n||s($)&&s(n))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var s=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:s},polyfill$1}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var s=requireGetIntrinsic(),o=requireCallBind(),$=o(s("String.prototype.indexOf"));return callBound=function(L,T){var I=s(L,!!T);return typeof I=="function"&&$(L,".prototype.")>-1?o(I):I},callBound}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var s=requireObjectKeys(),o=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",$=Object.prototype.toString,n=Array.prototype.concat,L=requireDefineDataProperty(),T=function(A){return typeof A=="function"&&$.call(A)==="[object Function]"},I=requireHasPropertyDescriptors()(),N=function(A,t,S,F){if(t in A){if(F===!0){if(A[t]===S)return}else if(!T(F)||!F())return}I?L(A,t,S,!0):L(A,t,S)},b=function(A,t){var S=arguments.length>2?arguments[2]:{},F=s(t);o&&(F=n.call(F,Object.getOwnPropertySymbols(t)));for(var R=0;R<F.length;R+=1)N(A,F[R],t[F[R]],S[F[R]])};return b.supportsDescriptors=!!I,defineProperties_1=b,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var s=requirePolyfill$1(),o=requireDefineProperties();return shim$1=function(){var n=s();return o(Object,{is:n},{is:function(){return Object.is!==n}}),n},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var s=requireDefineProperties(),o=requireCallBind(),$=requireImplementation$1(),n=requirePolyfill$1(),L=requireShim$1(),T=o(n(),Object);return s(T,{getPolyfill:n,implementation:$,shim:L}),objectIs=T,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(o){return o!==o}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var s=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:s},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var s=requireDefineProperties(),o=requirePolyfill();return shim=function(){var n=o();return s(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var s=requireCallBind(),o=requireDefineProperties(),$=requireImplementation(),n=requirePolyfill(),L=requireShim(),T=s(n(),Number);return o(T,{getPolyfill:n,implementation:$,shim:L}),isNan=T,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function s(W,te){return T(W)||L(W,te)||$(W,te)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(W,te){if(W){if(typeof W=="string")return n(W,te);var Pe=Object.prototype.toString.call(W).slice(8,-1);if(Pe==="Object"&&W.constructor&&(Pe=W.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(W);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return n(W,te)}}function n(W,te){(te==null||te>W.length)&&(te=W.length);for(var Pe=0,Oe=new Array(te);Pe<te;Pe++)Oe[Pe]=W[Pe];return Oe}function L(W,te){var Pe=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(Pe!=null){var Oe,qe,De,Y,e=[],h=!0,Z=!1;try{if(De=(Pe=Pe.call(W)).next,te!==0)for(;!(h=(Oe=De.call(Pe)).done)&&(e.push(Oe.value),e.length!==te);h=!0);}catch(ce){Z=!0,qe=ce}finally{try{if(!h&&Pe.return!=null&&(Y=Pe.return(),Object(Y)!==Y))return}finally{if(Z)throw qe}}return e}}function T(W){if(Array.isArray(W))return W}function I(W){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},I(W)}var N=/a/g.flags!==void 0,b=function(te){var Pe=[];return te.forEach(function(Oe){return Pe.push(Oe)}),Pe},A=function(te){var Pe=[];return te.forEach(function(Oe,qe){return Pe.push([qe,Oe])}),Pe},t=Object.is?Object.is:requireObjectIs(),S=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},F=Number.isNaN?Number.isNaN:requireIsNan();function R(W){return W.call.bind(W)}var C=R(Object.prototype.hasOwnProperty),j=R(Object.prototype.propertyIsEnumerable),m=R(Object.prototype.toString),r=requireUtil().types,d=r.isAnyArrayBuffer,x=r.isArrayBufferView,v=r.isDate,l=r.isMap,_=r.isRegExp,p=r.isSet,w=r.isNativeError,O=r.isBoxedPrimitive,J=r.isNumberObject,q=r.isStringObject,E=r.isBooleanObject,G=r.isBigIntObject,ge=r.isSymbolObject,fe=r.isFloat32Array,_e=r.isFloat64Array;function ue(W){if(W.length===0||W.length>10)return!0;for(var te=0;te<W.length;te++){var Pe=W.charCodeAt(te);if(Pe<48||Pe>57)return!0}return W.length===10&&W>=Math.pow(2,32)}function ye(W){return Object.keys(W).filter(ue).concat(S(W).filter(Object.prototype.propertyIsEnumerable.bind(W)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function K(W,te){if(W===te)return 0;for(var Pe=W.length,Oe=te.length,qe=0,De=Math.min(Pe,Oe);qe<De;++qe)if(W[qe]!==te[qe]){Pe=W[qe],Oe=te[qe];break}return Pe<Oe?-1:Oe<Pe?1:0}var Q=!0,le=!1,X=0,f=1,a=2,g=3;function y(W,te){return N?W.source===te.source&&W.flags===te.flags:RegExp.prototype.toString.call(W)===RegExp.prototype.toString.call(te)}function k(W,te){if(W.byteLength!==te.byteLength)return!1;for(var Pe=0;Pe<W.byteLength;Pe++)if(W[Pe]!==te[Pe])return!1;return!0}function D(W,te){return W.byteLength!==te.byteLength?!1:K(new Uint8Array(W.buffer,W.byteOffset,W.byteLength),new Uint8Array(te.buffer,te.byteOffset,te.byteLength))===0}function ee(W,te){return W.byteLength===te.byteLength&&K(new Uint8Array(W),new Uint8Array(te))===0}function se(W,te){return J(W)?J(te)&&t(Number.prototype.valueOf.call(W),Number.prototype.valueOf.call(te)):q(W)?q(te)&&String.prototype.valueOf.call(W)===String.prototype.valueOf.call(te):E(W)?E(te)&&Boolean.prototype.valueOf.call(W)===Boolean.prototype.valueOf.call(te):G(W)?G(te)&&BigInt.prototype.valueOf.call(W)===BigInt.prototype.valueOf.call(te):ge(te)&&Symbol.prototype.valueOf.call(W)===Symbol.prototype.valueOf.call(te)}function B(W,te,Pe,Oe){if(W===te)return W!==0?!0:Pe?t(W,te):!0;if(Pe){if(I(W)!=="object")return typeof W=="number"&&F(W)&&F(te);if(I(te)!=="object"||W===null||te===null||Object.getPrototypeOf(W)!==Object.getPrototypeOf(te))return!1}else{if(W===null||I(W)!=="object")return te===null||I(te)!=="object"?W==te:!1;if(te===null||I(te)!=="object")return!1}var qe=m(W),De=m(te);if(qe!==De)return!1;if(Array.isArray(W)){if(W.length!==te.length)return!1;var Y=ye(W),e=ye(te);return Y.length!==e.length?!1:he(W,te,Pe,Oe,f,Y)}if(qe==="[object Object]"&&(!l(W)&&l(te)||!p(W)&&p(te)))return!1;if(v(W)){if(!v(te)||Date.prototype.getTime.call(W)!==Date.prototype.getTime.call(te))return!1}else if(_(W)){if(!_(te)||!y(W,te))return!1}else if(w(W)||W instanceof Error){if(W.message!==te.message||W.name!==te.name)return!1}else if(x(W)){if(!Pe&&(fe(W)||_e(W))){if(!k(W,te))return!1}else if(!D(W,te))return!1;var h=ye(W),Z=ye(te);return h.length!==Z.length?!1:he(W,te,Pe,Oe,X,h)}else{if(p(W))return!p(te)||W.size!==te.size?!1:he(W,te,Pe,Oe,a);if(l(W))return!l(te)||W.size!==te.size?!1:he(W,te,Pe,Oe,g);if(d(W)){if(!ee(W,te))return!1}else if(O(W)&&!se(W,te))return!1}return he(W,te,Pe,Oe,X)}function U(W,te){return te.filter(function(Pe){return j(W,Pe)})}function he(W,te,Pe,Oe,qe,De){if(arguments.length===5){De=Object.keys(W);var Y=Object.keys(te);if(De.length!==Y.length)return!1}for(var e=0;e<De.length;e++)if(!C(te,De[e]))return!1;if(Pe&&arguments.length===5){var h=S(W);if(h.length!==0){var Z=0;for(e=0;e<h.length;e++){var ce=h[e];if(j(W,ce)){if(!j(te,ce))return!1;De.push(ce),Z++}else if(j(te,ce))return!1}var z=S(te);if(h.length!==z.length&&U(te,z).length!==Z)return!1}else{var M=S(te);if(M.length!==0&&U(te,M).length!==0)return!1}}if(De.length===0&&(qe===X||qe===f&&W.length===0||W.size===0))return!0;if(Oe===void 0)Oe={val1:new Map,val2:new Map,position:0};else{var u=Oe.val1.get(W);if(u!==void 0){var Ae=Oe.val2.get(te);if(Ae!==void 0)return u===Ae}Oe.position++}Oe.val1.set(W,Oe.position),Oe.val2.set(te,Oe.position);var Ne=Te(W,te,Pe,De,Oe,qe);return Oe.val1.delete(W),Oe.val2.delete(te),Ne}function we(W,te,Pe,Oe){for(var qe=b(W),De=0;De<qe.length;De++){var Y=qe[De];if(B(te,Y,Pe,Oe))return W.delete(Y),!0}return!1}function Ie(W){switch(I(W)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":W=+W;case"number":if(F(W))return!1}return!0}function me(W,te,Pe){var Oe=Ie(Pe);return Oe??(te.has(Oe)&&!W.has(Oe))}function ve(W,te,Pe,Oe,qe){var De=Ie(Pe);if(De!=null)return De;var Y=te.get(De);return Y===void 0&&!te.has(De)||!B(Oe,Y,!1,qe)?!1:!W.has(De)&&B(Oe,Y,!1,qe)}function re(W,te,Pe,Oe){for(var qe=null,De=b(W),Y=0;Y<De.length;Y++){var e=De[Y];if(I(e)==="object"&&e!==null)qe===null&&(qe=new Set),qe.add(e);else if(!te.has(e)){if(Pe||!me(W,te,e))return!1;qe===null&&(qe=new Set),qe.add(e)}}if(qe!==null){for(var h=b(te),Z=0;Z<h.length;Z++){var ce=h[Z];if(I(ce)==="object"&&ce!==null){if(!we(qe,ce,Pe,Oe))return!1}else if(!Pe&&!W.has(ce)&&!we(qe,ce,Pe,Oe))return!1}return qe.size===0}return!0}function ne(W,te,Pe,Oe,qe,De){for(var Y=b(W),e=0;e<Y.length;e++){var h=Y[e];if(B(Pe,h,qe,De)&&B(Oe,te.get(h),qe,De))return W.delete(h),!0}return!1}function Ee(W,te,Pe,Oe){for(var qe=null,De=A(W),Y=0;Y<De.length;Y++){var e=s(De[Y],2),h=e[0],Z=e[1];if(I(h)==="object"&&h!==null)qe===null&&(qe=new Set),qe.add(h);else{var ce=te.get(h);if(ce===void 0&&!te.has(h)||!B(Z,ce,Pe,Oe)){if(Pe||!ve(W,te,h,Z,Oe))return!1;qe===null&&(qe=new Set),qe.add(h)}}}if(qe!==null){for(var z=A(te),M=0;M<z.length;M++){var u=s(z[M],2),Ae=u[0],Ne=u[1];if(I(Ae)==="object"&&Ae!==null){if(!ne(qe,W,Ae,Ne,Pe,Oe))return!1}else if(!Pe&&(!W.has(Ae)||!B(W.get(Ae),Ne,!1,Oe))&&!ne(qe,W,Ae,Ne,!1,Oe))return!1}return qe.size===0}return!0}function Te(W,te,Pe,Oe,qe,De){var Y=0;if(De===a){if(!re(W,te,Pe,qe))return!1}else if(De===g){if(!Ee(W,te,Pe,qe))return!1}else if(De===f)for(;Y<W.length;Y++)if(C(W,Y)){if(!C(te,Y)||!B(W[Y],te[Y],Pe,qe))return!1}else{if(C(te,Y))return!1;for(var e=Object.keys(W);Y<e.length;Y++){var h=e[Y];if(!C(te,h)||!B(W[h],te[h],Pe,qe))return!1}return e.length===Object.keys(te).length}for(Y=0;Y<Oe.length;Y++){var Z=Oe[Y];if(!B(W[Z],te[Z],Pe,qe))return!1}return!0}function oe(W,te){return B(W,te,le)}function Re(W,te){return B(W,te,Q)}return comparisons={isDeepEqual:oe,isDeepStrictEqual:Re},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert.exports;hasRequiredAssert=1;function s(a){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s(a)}function o(a,g,y){return Object.defineProperty(a,"prototype",{writable:!1}),a}function $(a,g){if(!(a instanceof g))throw new TypeError("Cannot call a class as a function")}var n=requireErrors(),L=n.codes,T=L.ERR_AMBIGUOUS_ARGUMENT,I=L.ERR_INVALID_ARG_TYPE,N=L.ERR_INVALID_ARG_VALUE,b=L.ERR_INVALID_RETURN_VALUE,A=L.ERR_MISSING_ARGS,t=requireAssertion_error(),S=requireUtil(),F=S.inspect,R=requireUtil().types,C=R.isPromise,j=R.isRegExp,m=requirePolyfill$2()(),r=requirePolyfill$1()(),d=requireCallBound()("RegExp.prototype.test"),x,v;function l(){var a=requireComparisons();x=a.isDeepEqual,v=a.isDeepStrictEqual}var _=!1,p=assert.exports=E,w={};function O(a){throw a.message instanceof Error?a.message:new t(a)}function J(a,g,y,k,D){var ee=arguments.length,se;if(ee===0)se="Failed";else if(ee===1)y=a,a=void 0;else{if(_===!1){_=!0;var B=process$1.emitWarning?process$1.emitWarning:console.warn.bind(console);B("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}ee===2&&(k="!=")}if(y instanceof Error)throw y;var U={actual:a,expected:g,operator:k===void 0?"fail":k,stackStartFn:D||J};y!==void 0&&(U.message=y);var he=new t(U);throw se&&(he.message=se,he.generatedMessage=!0),he}p.fail=J,p.AssertionError=t;function q(a,g,y,k){if(!y){var D=!1;if(g===0)D=!0,k="No value argument passed to `assert.ok()`";else if(k instanceof Error)throw k;var ee=new t({actual:y,expected:!0,message:k,operator:"==",stackStartFn:a});throw ee.generatedMessage=D,ee}}function E(){for(var a=arguments.length,g=new Array(a),y=0;y<a;y++)g[y]=arguments[y];q.apply(void 0,[E,g.length].concat(g))}p.ok=E,p.equal=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");g!=y&&O({actual:g,expected:y,message:k,operator:"==",stackStartFn:a})},p.notEqual=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");g==y&&O({actual:g,expected:y,message:k,operator:"!=",stackStartFn:a})},p.deepEqual=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");x===void 0&&l(),x(g,y)||O({actual:g,expected:y,message:k,operator:"deepEqual",stackStartFn:a})},p.notDeepEqual=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");x===void 0&&l(),x(g,y)&&O({actual:g,expected:y,message:k,operator:"notDeepEqual",stackStartFn:a})},p.deepStrictEqual=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");x===void 0&&l(),v(g,y)||O({actual:g,expected:y,message:k,operator:"deepStrictEqual",stackStartFn:a})},p.notDeepStrictEqual=G;function G(a,g,y){if(arguments.length<2)throw new A("actual","expected");x===void 0&&l(),v(a,g)&&O({actual:a,expected:g,message:y,operator:"notDeepStrictEqual",stackStartFn:G})}p.strictEqual=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");r(g,y)||O({actual:g,expected:y,message:k,operator:"strictEqual",stackStartFn:a})},p.notStrictEqual=function a(g,y,k){if(arguments.length<2)throw new A("actual","expected");r(g,y)&&O({actual:g,expected:y,message:k,operator:"notStrictEqual",stackStartFn:a})};var ge=o(function a(g,y,k){var D=this;$(this,a),y.forEach(function(ee){ee in g&&(k!==void 0&&typeof k[ee]=="string"&&j(g[ee])&&d(g[ee],k[ee])?D[ee]=k[ee]:D[ee]=g[ee])})});function fe(a,g,y,k,D,ee){if(!(y in a)||!v(a[y],g[y])){if(!k){var se=new ge(a,D),B=new ge(g,D,a),U=new t({actual:se,expected:B,operator:"deepStrictEqual",stackStartFn:ee});throw U.actual=a,U.expected=g,U.operator=ee.name,U}O({actual:a,expected:g,message:k,operator:ee.name,stackStartFn:ee})}}function _e(a,g,y,k){if(typeof g!="function"){if(j(g))return d(g,a);if(arguments.length===2)throw new I("expected",["Function","RegExp"],g);if(s(a)!=="object"||a===null){var D=new t({actual:a,expected:g,message:y,operator:"deepStrictEqual",stackStartFn:k});throw D.operator=k.name,D}var ee=Object.keys(g);if(g instanceof Error)ee.push("name","message");else if(ee.length===0)throw new N("error",g,"may not be an empty object");return x===void 0&&l(),ee.forEach(function(se){typeof a[se]=="string"&&j(g[se])&&d(g[se],a[se])||fe(a,g,se,y,ee,k)}),!0}return g.prototype!==void 0&&a instanceof g?!0:Error.isPrototypeOf(g)?!1:g.call({},a)===!0}function ue(a){if(typeof a!="function")throw new I("fn","Function",a);try{a()}catch(g){return g}return w}function ye(a){return C(a)||a!==null&&s(a)==="object"&&typeof a.then=="function"&&typeof a.catch=="function"}function K(a){return Promise.resolve().then(function(){var g;if(typeof a=="function"){if(g=a(),!ye(g))throw new b("instance of Promise","promiseFn",g)}else if(ye(a))g=a;else throw new I("promiseFn",["Function","Promise"],a);return Promise.resolve().then(function(){return g}).then(function(){return w}).catch(function(y){return y})})}function Q(a,g,y,k){if(typeof y=="string"){if(arguments.length===4)throw new I("error",["Object","Error","Function","RegExp"],y);if(s(g)==="object"&&g!==null){if(g.message===y)throw new T("error/message",'The error message "'.concat(g.message,'" is identical to the message.'))}else if(g===y)throw new T("error/message",'The error "'.concat(g,'" is identical to the message.'));k=y,y=void 0}else if(y!=null&&s(y)!=="object"&&typeof y!="function")throw new I("error",["Object","Error","Function","RegExp"],y);if(g===w){var D="";y&&y.name&&(D+=" (".concat(y.name,")")),D+=k?": ".concat(k):".";var ee=a.name==="rejects"?"rejection":"exception";O({actual:void 0,expected:y,operator:a.name,message:"Missing expected ".concat(ee).concat(D),stackStartFn:a})}if(y&&!_e(g,y,k,a))throw g}function le(a,g,y,k){if(g!==w){if(typeof y=="string"&&(k=y,y=void 0),!y||_e(g,y)){var D=k?": ".concat(k):".",ee=a.name==="doesNotReject"?"rejection":"exception";O({actual:g,expected:y,operator:a.name,message:"Got unwanted ".concat(ee).concat(D,`
`)+'Actual message: "'.concat(g&&g.message,'"'),stackStartFn:a})}throw g}}p.throws=function a(g){for(var y=arguments.length,k=new Array(y>1?y-1:0),D=1;D<y;D++)k[D-1]=arguments[D];Q.apply(void 0,[a,ue(g)].concat(k))},p.rejects=function a(g){for(var y=arguments.length,k=new Array(y>1?y-1:0),D=1;D<y;D++)k[D-1]=arguments[D];return K(g).then(function(ee){return Q.apply(void 0,[a,ee].concat(k))})},p.doesNotThrow=function a(g){for(var y=arguments.length,k=new Array(y>1?y-1:0),D=1;D<y;D++)k[D-1]=arguments[D];le.apply(void 0,[a,ue(g)].concat(k))},p.doesNotReject=function a(g){for(var y=arguments.length,k=new Array(y>1?y-1:0),D=1;D<y;D++)k[D-1]=arguments[D];return K(g).then(function(ee){return le.apply(void 0,[a,ee].concat(k))})},p.ifError=function a(g){if(g!=null){var y="ifError got unwanted exception: ";s(g)==="object"&&typeof g.message=="string"?g.message.length===0&&g.constructor?y+=g.constructor.name:y+=g.message:y+=F(g);var k=new t({actual:g,expected:null,operator:"ifError",message:y,stackStartFn:a}),D=g.stack;if(typeof D=="string"){var ee=D.split(`
`);ee.shift();for(var se=k.stack.split(`
`),B=0;B<ee.length;B++){var U=se.indexOf(ee[B]);if(U!==-1){se=se.slice(0,U);break}}k.stack="".concat(se.join(`
`),`
`).concat(ee.join(`
`))}throw k}};function X(a,g,y,k,D){if(!j(g))throw new I("regexp","RegExp",g);var ee=D==="match";if(typeof a!="string"||d(g,a)!==ee){if(y instanceof Error)throw y;var se=!y;y=y||(typeof a!="string"?'The "string" argument must be of type string. Received type '+"".concat(s(a)," (").concat(F(a),")"):(ee?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(F(g),`. Input:

`).concat(F(a),`
`));var B=new t({actual:a,expected:g,message:y,operator:D,stackStartFn:k});throw B.generatedMessage=se,B}}p.match=function a(g,y,k){X(g,y,k,a,"match")},p.doesNotMatch=function a(g,y,k){X(g,y,k,a,"doesNotMatch")};function f(){for(var a=arguments.length,g=new Array(a),y=0;y<a;y++)g[y]=arguments[y];q.apply(void 0,[f,g.length].concat(g))}return p.strict=m(f,p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict,assert.exports}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=s,zstream}var deflate={},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(T,I){return Object.prototype.hasOwnProperty.call(T,I)}s.assign=function(T){for(var I=Array.prototype.slice.call(arguments,1);I.length;){var N=I.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var b in N)$(N,b)&&(T[b]=N[b])}}return T},s.shrinkBuf=function(T,I){return T.length===I?T:T.subarray?T.subarray(0,I):(T.length=I,T)};var n={arraySet:function(T,I,N,b,A){if(I.subarray&&T.subarray){T.set(I.subarray(N,N+b),A);return}for(var t=0;t<b;t++)T[A+t]=I[N+t]},flattenChunks:function(T){var I,N,b,A,t,S;for(b=0,I=0,N=T.length;I<N;I++)b+=T[I].length;for(S=new Uint8Array(b),A=0,I=0,N=T.length;I<N;I++)t=T[I],S.set(t,A),A+=t.length;return S}},L={arraySet:function(T,I,N,b,A){for(var t=0;t<b;t++)T[A+t]=I[N+t]},flattenChunks:function(T){return[].concat.apply([],T)}};s.setTyped=function(T){T?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,n)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,L))},s.setTyped(o)}(common)),common}var trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var s=requireCommon(),o=4,$=0,n=1,L=2;function T(e){for(var h=e.length;--h>=0;)e[h]=0}var I=0,N=1,b=2,A=3,t=258,S=29,F=256,R=F+1+S,C=30,j=19,m=2*R+1,r=15,d=16,x=7,v=256,l=16,_=17,p=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=512,G=new Array((R+2)*2);T(G);var ge=new Array(C*2);T(ge);var fe=new Array(E);T(fe);var _e=new Array(t-A+1);T(_e);var ue=new Array(S);T(ue);var ye=new Array(C);T(ye);function K(e,h,Z,ce,z){this.static_tree=e,this.extra_bits=h,this.extra_base=Z,this.elems=ce,this.max_length=z,this.has_stree=e&&e.length}var Q,le,X;function f(e,h){this.dyn_tree=e,this.max_code=0,this.stat_desc=h}function a(e){return e<256?fe[e]:fe[256+(e>>>7)]}function g(e,h){e.pending_buf[e.pending++]=h&255,e.pending_buf[e.pending++]=h>>>8&255}function y(e,h,Z){e.bi_valid>d-Z?(e.bi_buf|=h<<e.bi_valid&65535,g(e,e.bi_buf),e.bi_buf=h>>d-e.bi_valid,e.bi_valid+=Z-d):(e.bi_buf|=h<<e.bi_valid&65535,e.bi_valid+=Z)}function k(e,h,Z){y(e,Z[h*2],Z[h*2+1])}function D(e,h){var Z=0;do Z|=e&1,e>>>=1,Z<<=1;while(--h>0);return Z>>>1}function ee(e){e.bi_valid===16?(g(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function se(e,h){var Z=h.dyn_tree,ce=h.max_code,z=h.stat_desc.static_tree,M=h.stat_desc.has_stree,u=h.stat_desc.extra_bits,Ae=h.stat_desc.extra_base,Ne=h.stat_desc.max_length,c,H,pe,V,de,Se,Be=0;for(V=0;V<=r;V++)e.bl_count[V]=0;for(Z[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<m;c++)H=e.heap[c],V=Z[Z[H*2+1]*2+1]+1,V>Ne&&(V=Ne,Be++),Z[H*2+1]=V,!(H>ce)&&(e.bl_count[V]++,de=0,H>=Ae&&(de=u[H-Ae]),Se=Z[H*2],e.opt_len+=Se*(V+de),M&&(e.static_len+=Se*(z[H*2+1]+de)));if(Be!==0){do{for(V=Ne-1;e.bl_count[V]===0;)V--;e.bl_count[V]--,e.bl_count[V+1]+=2,e.bl_count[Ne]--,Be-=2}while(Be>0);for(V=Ne;V!==0;V--)for(H=e.bl_count[V];H!==0;)pe=e.heap[--c],!(pe>ce)&&(Z[pe*2+1]!==V&&(e.opt_len+=(V-Z[pe*2+1])*Z[pe*2],Z[pe*2+1]=V),H--)}}function B(e,h,Z){var ce=new Array(r+1),z=0,M,u;for(M=1;M<=r;M++)ce[M]=z=z+Z[M-1]<<1;for(u=0;u<=h;u++){var Ae=e[u*2+1];Ae!==0&&(e[u*2]=D(ce[Ae]++,Ae))}}function U(){var e,h,Z,ce,z,M=new Array(r+1);for(Z=0,ce=0;ce<S-1;ce++)for(ue[ce]=Z,e=0;e<1<<w[ce];e++)_e[Z++]=ce;for(_e[Z-1]=ce,z=0,ce=0;ce<16;ce++)for(ye[ce]=z,e=0;e<1<<O[ce];e++)fe[z++]=ce;for(z>>=7;ce<C;ce++)for(ye[ce]=z<<7,e=0;e<1<<O[ce]-7;e++)fe[256+z++]=ce;for(h=0;h<=r;h++)M[h]=0;for(e=0;e<=143;)G[e*2+1]=8,e++,M[8]++;for(;e<=255;)G[e*2+1]=9,e++,M[9]++;for(;e<=279;)G[e*2+1]=7,e++,M[7]++;for(;e<=287;)G[e*2+1]=8,e++,M[8]++;for(B(G,R+1,M),e=0;e<C;e++)ge[e*2+1]=5,ge[e*2]=D(e,5);Q=new K(G,w,F+1,R,r),le=new K(ge,O,0,C,r),X=new K(new Array(0),J,0,j,x)}function he(e){var h;for(h=0;h<R;h++)e.dyn_ltree[h*2]=0;for(h=0;h<C;h++)e.dyn_dtree[h*2]=0;for(h=0;h<j;h++)e.bl_tree[h*2]=0;e.dyn_ltree[v*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function we(e){e.bi_valid>8?g(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Ie(e,h,Z,ce){we(e),g(e,Z),g(e,~Z),s.arraySet(e.pending_buf,e.window,h,Z,e.pending),e.pending+=Z}function me(e,h,Z,ce){var z=h*2,M=Z*2;return e[z]<e[M]||e[z]===e[M]&&ce[h]<=ce[Z]}function ve(e,h,Z){for(var ce=e.heap[Z],z=Z<<1;z<=e.heap_len&&(z<e.heap_len&&me(h,e.heap[z+1],e.heap[z],e.depth)&&z++,!me(h,ce,e.heap[z],e.depth));)e.heap[Z]=e.heap[z],Z=z,z<<=1;e.heap[Z]=ce}function re(e,h,Z){var ce,z,M=0,u,Ae;if(e.last_lit!==0)do ce=e.pending_buf[e.d_buf+M*2]<<8|e.pending_buf[e.d_buf+M*2+1],z=e.pending_buf[e.l_buf+M],M++,ce===0?k(e,z,h):(u=_e[z],k(e,u+F+1,h),Ae=w[u],Ae!==0&&(z-=ue[u],y(e,z,Ae)),ce--,u=a(ce),k(e,u,Z),Ae=O[u],Ae!==0&&(ce-=ye[u],y(e,ce,Ae)));while(M<e.last_lit);k(e,v,h)}function ne(e,h){var Z=h.dyn_tree,ce=h.stat_desc.static_tree,z=h.stat_desc.has_stree,M=h.stat_desc.elems,u,Ae,Ne=-1,c;for(e.heap_len=0,e.heap_max=m,u=0;u<M;u++)Z[u*2]!==0?(e.heap[++e.heap_len]=Ne=u,e.depth[u]=0):Z[u*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=Ne<2?++Ne:0,Z[c*2]=1,e.depth[c]=0,e.opt_len--,z&&(e.static_len-=ce[c*2+1]);for(h.max_code=Ne,u=e.heap_len>>1;u>=1;u--)ve(e,Z,u);c=M;do u=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ve(e,Z,1),Ae=e.heap[1],e.heap[--e.heap_max]=u,e.heap[--e.heap_max]=Ae,Z[c*2]=Z[u*2]+Z[Ae*2],e.depth[c]=(e.depth[u]>=e.depth[Ae]?e.depth[u]:e.depth[Ae])+1,Z[u*2+1]=Z[Ae*2+1]=c,e.heap[1]=c++,ve(e,Z,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],se(e,h),B(Z,Ne,e.bl_count)}function Ee(e,h,Z){var ce,z=-1,M,u=h[0*2+1],Ae=0,Ne=7,c=4;for(u===0&&(Ne=138,c=3),h[(Z+1)*2+1]=65535,ce=0;ce<=Z;ce++)M=u,u=h[(ce+1)*2+1],!(++Ae<Ne&&M===u)&&(Ae<c?e.bl_tree[M*2]+=Ae:M!==0?(M!==z&&e.bl_tree[M*2]++,e.bl_tree[l*2]++):Ae<=10?e.bl_tree[_*2]++:e.bl_tree[p*2]++,Ae=0,z=M,u===0?(Ne=138,c=3):M===u?(Ne=6,c=3):(Ne=7,c=4))}function Te(e,h,Z){var ce,z=-1,M,u=h[0*2+1],Ae=0,Ne=7,c=4;for(u===0&&(Ne=138,c=3),ce=0;ce<=Z;ce++)if(M=u,u=h[(ce+1)*2+1],!(++Ae<Ne&&M===u)){if(Ae<c)do k(e,M,e.bl_tree);while(--Ae!==0);else M!==0?(M!==z&&(k(e,M,e.bl_tree),Ae--),k(e,l,e.bl_tree),y(e,Ae-3,2)):Ae<=10?(k(e,_,e.bl_tree),y(e,Ae-3,3)):(k(e,p,e.bl_tree),y(e,Ae-11,7));Ae=0,z=M,u===0?(Ne=138,c=3):M===u?(Ne=6,c=3):(Ne=7,c=4)}}function oe(e){var h;for(Ee(e,e.dyn_ltree,e.l_desc.max_code),Ee(e,e.dyn_dtree,e.d_desc.max_code),ne(e,e.bl_desc),h=j-1;h>=3&&e.bl_tree[q[h]*2+1]===0;h--);return e.opt_len+=3*(h+1)+5+5+4,h}function Re(e,h,Z,ce){var z;for(y(e,h-257,5),y(e,Z-1,5),y(e,ce-4,4),z=0;z<ce;z++)y(e,e.bl_tree[q[z]*2+1],3);Te(e,e.dyn_ltree,h-1),Te(e,e.dyn_dtree,Z-1)}function W(e){var h=4093624447,Z;for(Z=0;Z<=31;Z++,h>>>=1)if(h&1&&e.dyn_ltree[Z*2]!==0)return $;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return n;for(Z=32;Z<F;Z++)if(e.dyn_ltree[Z*2]!==0)return n;return $}var te=!1;function Pe(e){te||(U(),te=!0),e.l_desc=new f(e.dyn_ltree,Q),e.d_desc=new f(e.dyn_dtree,le),e.bl_desc=new f(e.bl_tree,X),e.bi_buf=0,e.bi_valid=0,he(e)}function Oe(e,h,Z,ce){y(e,(I<<1)+(ce?1:0),3),Ie(e,h,Z)}function qe(e){y(e,N<<1,3),k(e,v,G),ee(e)}function De(e,h,Z,ce){var z,M,u=0;e.level>0?(e.strm.data_type===L&&(e.strm.data_type=W(e)),ne(e,e.l_desc),ne(e,e.d_desc),u=oe(e),z=e.opt_len+3+7>>>3,M=e.static_len+3+7>>>3,M<=z&&(z=M)):z=M=Z+5,Z+4<=z&&h!==-1?Oe(e,h,Z,ce):e.strategy===o||M===z?(y(e,(N<<1)+(ce?1:0),3),re(e,G,ge)):(y(e,(b<<1)+(ce?1:0),3),Re(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),re(e,e.dyn_ltree,e.dyn_dtree)),he(e),ce&&we(e)}function Y(e,h,Z){return e.pending_buf[e.d_buf+e.last_lit*2]=h>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=h&255,e.pending_buf[e.l_buf+e.last_lit]=Z&255,e.last_lit++,h===0?e.dyn_ltree[Z*2]++:(e.matches++,h--,e.dyn_ltree[(_e[Z]+F+1)*2]++,e.dyn_dtree[a(h)*2]++),e.last_lit===e.lit_bufsize-1}return trees._tr_init=Pe,trees._tr_stored_block=Oe,trees._tr_flush_block=De,trees._tr_tally=Y,trees._tr_align=qe,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function s(o,$,n,L){for(var T=o&65535|0,I=o>>>16&65535|0,N=0;n!==0;){N=n>2e3?2e3:n,n-=N;do T=T+$[L++]|0,I=I+T|0;while(--N);T%=65521,I%=65521}return T|I<<16|0}return adler32_1=s,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function s(){for(var n,L=[],T=0;T<256;T++){n=T;for(var I=0;I<8;I++)n=n&1?3988292384^n>>>1:n>>>1;L[T]=n}return L}var o=s();function $(n,L,T,I){var N=o,b=I+T;n^=-1;for(var A=I;A<b;A++)n=n>>>8^N[(n^L[A])&255];return n^-1}return crc32_1=$,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate;hasRequiredDeflate=1;var s=requireCommon(),o=requireTrees(),$=requireAdler32(),n=requireCrc32(),L=requireMessages(),T=0,I=1,N=3,b=4,A=5,t=0,S=1,F=-2,R=-3,C=-5,j=-1,m=1,r=2,d=3,x=4,v=0,l=2,_=8,p=9,w=15,O=8,J=29,q=256,E=q+1+J,G=30,ge=19,fe=2*E+1,_e=15,ue=3,ye=258,K=ye+ue+1,Q=32,le=42,X=69,f=73,a=91,g=103,y=113,k=666,D=1,ee=2,se=3,B=4,U=3;function he(c,H){return c.msg=L[H],H}function we(c){return(c<<1)-(c>4?9:0)}function Ie(c){for(var H=c.length;--H>=0;)c[H]=0}function me(c){var H=c.state,pe=H.pending;pe>c.avail_out&&(pe=c.avail_out),pe!==0&&(s.arraySet(c.output,H.pending_buf,H.pending_out,pe,c.next_out),c.next_out+=pe,H.pending_out+=pe,c.total_out+=pe,c.avail_out-=pe,H.pending-=pe,H.pending===0&&(H.pending_out=0))}function ve(c,H){o._tr_flush_block(c,c.block_start>=0?c.block_start:-1,c.strstart-c.block_start,H),c.block_start=c.strstart,me(c.strm)}function re(c,H){c.pending_buf[c.pending++]=H}function ne(c,H){c.pending_buf[c.pending++]=H>>>8&255,c.pending_buf[c.pending++]=H&255}function Ee(c,H,pe,V){var de=c.avail_in;return de>V&&(de=V),de===0?0:(c.avail_in-=de,s.arraySet(H,c.input,c.next_in,de,pe),c.state.wrap===1?c.adler=$(c.adler,H,de,pe):c.state.wrap===2&&(c.adler=n(c.adler,H,de,pe)),c.next_in+=de,c.total_in+=de,de)}function Te(c,H){var pe=c.max_chain_length,V=c.strstart,de,Se,Be=c.prev_length,ae=c.nice_match,ie=c.strstart>c.w_size-K?c.strstart-(c.w_size-K):0,be=c.window,Fe=c.w_mask,ke=c.prev,Le=c.strstart+ye,Ue=be[V+Be-1],je=be[V+Be];c.prev_length>=c.good_match&&(pe>>=2),ae>c.lookahead&&(ae=c.lookahead);do if(de=H,!(be[de+Be]!==je||be[de+Be-1]!==Ue||be[de]!==be[V]||be[++de]!==be[V+1])){V+=2,de++;do;while(be[++V]===be[++de]&&be[++V]===be[++de]&&be[++V]===be[++de]&&be[++V]===be[++de]&&be[++V]===be[++de]&&be[++V]===be[++de]&&be[++V]===be[++de]&&be[++V]===be[++de]&&V<Le);if(Se=ye-(Le-V),V=Le-ye,Se>Be){if(c.match_start=H,Be=Se,Se>=ae)break;Ue=be[V+Be-1],je=be[V+Be]}}while((H=ke[H&Fe])>ie&&--pe!==0);return Be<=c.lookahead?Be:c.lookahead}function oe(c){var H=c.w_size,pe,V,de,Se,Be;do{if(Se=c.window_size-c.lookahead-c.strstart,c.strstart>=H+(H-K)){s.arraySet(c.window,c.window,H,H,0),c.match_start-=H,c.strstart-=H,c.block_start-=H,V=c.hash_size,pe=V;do de=c.head[--pe],c.head[pe]=de>=H?de-H:0;while(--V);V=H,pe=V;do de=c.prev[--pe],c.prev[pe]=de>=H?de-H:0;while(--V);Se+=H}if(c.strm.avail_in===0)break;if(V=Ee(c.strm,c.window,c.strstart+c.lookahead,Se),c.lookahead+=V,c.lookahead+c.insert>=ue)for(Be=c.strstart-c.insert,c.ins_h=c.window[Be],c.ins_h=(c.ins_h<<c.hash_shift^c.window[Be+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[Be+ue-1])&c.hash_mask,c.prev[Be&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=Be,Be++,c.insert--,!(c.lookahead+c.insert<ue)););}while(c.lookahead<K&&c.strm.avail_in!==0)}function Re(c,H){var pe=65535;for(pe>c.pending_buf_size-5&&(pe=c.pending_buf_size-5);;){if(c.lookahead<=1){if(oe(c),c.lookahead===0&&H===T)return D;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var V=c.block_start+pe;if((c.strstart===0||c.strstart>=V)&&(c.lookahead=c.strstart-V,c.strstart=V,ve(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-K&&(ve(c,!1),c.strm.avail_out===0))return D}return c.insert=0,H===b?(ve(c,!0),c.strm.avail_out===0?se:B):(c.strstart>c.block_start&&(ve(c,!1),c.strm.avail_out===0),D)}function W(c,H){for(var pe,V;;){if(c.lookahead<K){if(oe(c),c.lookahead<K&&H===T)return D;if(c.lookahead===0)break}if(pe=0,c.lookahead>=ue&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+ue-1])&c.hash_mask,pe=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),pe!==0&&c.strstart-pe<=c.w_size-K&&(c.match_length=Te(c,pe)),c.match_length>=ue)if(V=o._tr_tally(c,c.strstart-c.match_start,c.match_length-ue),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=ue){c.match_length--;do c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+ue-1])&c.hash_mask,pe=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart;while(--c.match_length!==0);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else V=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(V&&(ve(c,!1),c.strm.avail_out===0))return D}return c.insert=c.strstart<ue-1?c.strstart:ue-1,H===b?(ve(c,!0),c.strm.avail_out===0?se:B):c.last_lit&&(ve(c,!1),c.strm.avail_out===0)?D:ee}function te(c,H){for(var pe,V,de;;){if(c.lookahead<K){if(oe(c),c.lookahead<K&&H===T)return D;if(c.lookahead===0)break}if(pe=0,c.lookahead>=ue&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+ue-1])&c.hash_mask,pe=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=ue-1,pe!==0&&c.prev_length<c.max_lazy_match&&c.strstart-pe<=c.w_size-K&&(c.match_length=Te(c,pe),c.match_length<=5&&(c.strategy===m||c.match_length===ue&&c.strstart-c.match_start>4096)&&(c.match_length=ue-1)),c.prev_length>=ue&&c.match_length<=c.prev_length){de=c.strstart+c.lookahead-ue,V=o._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-ue),c.lookahead-=c.prev_length-1,c.prev_length-=2;do++c.strstart<=de&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+ue-1])&c.hash_mask,pe=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);while(--c.prev_length!==0);if(c.match_available=0,c.match_length=ue-1,c.strstart++,V&&(ve(c,!1),c.strm.avail_out===0))return D}else if(c.match_available){if(V=o._tr_tally(c,0,c.window[c.strstart-1]),V&&ve(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return D}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(V=o._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<ue-1?c.strstart:ue-1,H===b?(ve(c,!0),c.strm.avail_out===0?se:B):c.last_lit&&(ve(c,!1),c.strm.avail_out===0)?D:ee}function Pe(c,H){for(var pe,V,de,Se,Be=c.window;;){if(c.lookahead<=ye){if(oe(c),c.lookahead<=ye&&H===T)return D;if(c.lookahead===0)break}if(c.match_length=0,c.lookahead>=ue&&c.strstart>0&&(de=c.strstart-1,V=Be[de],V===Be[++de]&&V===Be[++de]&&V===Be[++de])){Se=c.strstart+ye;do;while(V===Be[++de]&&V===Be[++de]&&V===Be[++de]&&V===Be[++de]&&V===Be[++de]&&V===Be[++de]&&V===Be[++de]&&V===Be[++de]&&de<Se);c.match_length=ye-(Se-de),c.match_length>c.lookahead&&(c.match_length=c.lookahead)}if(c.match_length>=ue?(pe=o._tr_tally(c,1,c.match_length-ue),c.lookahead-=c.match_length,c.strstart+=c.match_length,c.match_length=0):(pe=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++),pe&&(ve(c,!1),c.strm.avail_out===0))return D}return c.insert=0,H===b?(ve(c,!0),c.strm.avail_out===0?se:B):c.last_lit&&(ve(c,!1),c.strm.avail_out===0)?D:ee}function Oe(c,H){for(var pe;;){if(c.lookahead===0&&(oe(c),c.lookahead===0)){if(H===T)return D;break}if(c.match_length=0,pe=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++,pe&&(ve(c,!1),c.strm.avail_out===0))return D}return c.insert=0,H===b?(ve(c,!0),c.strm.avail_out===0?se:B):c.last_lit&&(ve(c,!1),c.strm.avail_out===0)?D:ee}function qe(c,H,pe,V,de){this.good_length=c,this.max_lazy=H,this.nice_length=pe,this.max_chain=V,this.func=de}var De;De=[new qe(0,0,0,0,Re),new qe(4,4,8,4,W),new qe(4,5,16,8,W),new qe(4,6,32,32,W),new qe(4,4,16,16,te),new qe(8,16,32,32,te),new qe(8,16,128,128,te),new qe(8,32,128,256,te),new qe(32,128,258,1024,te),new qe(32,258,258,4096,te)];function Y(c){c.window_size=2*c.w_size,Ie(c.head),c.max_lazy_match=De[c.level].max_lazy,c.good_match=De[c.level].good_length,c.nice_match=De[c.level].nice_length,c.max_chain_length=De[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=ue-1,c.match_available=0,c.ins_h=0}function e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(fe*2),this.dyn_dtree=new s.Buf16((2*G+1)*2),this.bl_tree=new s.Buf16((2*ge+1)*2),Ie(this.dyn_ltree),Ie(this.dyn_dtree),Ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(_e+1),this.heap=new s.Buf16(2*E+1),Ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),Ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function h(c){var H;return!c||!c.state?he(c,F):(c.total_in=c.total_out=0,c.data_type=l,H=c.state,H.pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?le:y,c.adler=H.wrap===2?0:1,H.last_flush=T,o._tr_init(H),t)}function Z(c){var H=h(c);return H===t&&Y(c.state),H}function ce(c,H){return!c||!c.state||c.state.wrap!==2?F:(c.state.gzhead=H,t)}function z(c,H,pe,V,de,Se){if(!c)return F;var Be=1;if(H===j&&(H=6),V<0?(Be=0,V=-V):V>15&&(Be=2,V-=16),de<1||de>p||pe!==_||V<8||V>15||H<0||H>9||Se<0||Se>x)return he(c,F);V===8&&(V=9);var ae=new e;return c.state=ae,ae.strm=c,ae.wrap=Be,ae.gzhead=null,ae.w_bits=V,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=de+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+ue-1)/ue),ae.window=new s.Buf8(ae.w_size*2),ae.head=new s.Buf16(ae.hash_size),ae.prev=new s.Buf16(ae.w_size),ae.lit_bufsize=1<<de+6,ae.pending_buf_size=ae.lit_bufsize*4,ae.pending_buf=new s.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=H,ae.strategy=Se,ae.method=pe,Z(c)}function M(c,H){return z(c,H,_,w,O,v)}function u(c,H){var pe,V,de,Se;if(!c||!c.state||H>A||H<0)return c?he(c,F):F;if(V=c.state,!c.output||!c.input&&c.avail_in!==0||V.status===k&&H!==b)return he(c,c.avail_out===0?C:F);if(V.strm=c,pe=V.last_flush,V.last_flush=H,V.status===le)if(V.wrap===2)c.adler=0,re(V,31),re(V,139),re(V,8),V.gzhead?(re(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),re(V,V.gzhead.time&255),re(V,V.gzhead.time>>8&255),re(V,V.gzhead.time>>16&255),re(V,V.gzhead.time>>24&255),re(V,V.level===9?2:V.strategy>=r||V.level<2?4:0),re(V,V.gzhead.os&255),V.gzhead.extra&&V.gzhead.extra.length&&(re(V,V.gzhead.extra.length&255),re(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(c.adler=n(c.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=X):(re(V,0),re(V,0),re(V,0),re(V,0),re(V,0),re(V,V.level===9?2:V.strategy>=r||V.level<2?4:0),re(V,U),V.status=y);else{var Be=_+(V.w_bits-8<<4)<<8,ae=-1;V.strategy>=r||V.level<2?ae=0:V.level<6?ae=1:V.level===6?ae=2:ae=3,Be|=ae<<6,V.strstart!==0&&(Be|=Q),Be+=31-Be%31,V.status=y,ne(V,Be),V.strstart!==0&&(ne(V,c.adler>>>16),ne(V,c.adler&65535)),c.adler=1}if(V.status===X)if(V.gzhead.extra){for(de=V.pending;V.gzindex<(V.gzhead.extra.length&65535)&&!(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>de&&(c.adler=n(c.adler,V.pending_buf,V.pending-de,de)),me(c),de=V.pending,V.pending===V.pending_buf_size));)re(V,V.gzhead.extra[V.gzindex]&255),V.gzindex++;V.gzhead.hcrc&&V.pending>de&&(c.adler=n(c.adler,V.pending_buf,V.pending-de,de)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=f)}else V.status=f;if(V.status===f)if(V.gzhead.name){de=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>de&&(c.adler=n(c.adler,V.pending_buf,V.pending-de,de)),me(c),de=V.pending,V.pending===V.pending_buf_size)){Se=1;break}V.gzindex<V.gzhead.name.length?Se=V.gzhead.name.charCodeAt(V.gzindex++)&255:Se=0,re(V,Se)}while(Se!==0);V.gzhead.hcrc&&V.pending>de&&(c.adler=n(c.adler,V.pending_buf,V.pending-de,de)),Se===0&&(V.gzindex=0,V.status=a)}else V.status=a;if(V.status===a)if(V.gzhead.comment){de=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>de&&(c.adler=n(c.adler,V.pending_buf,V.pending-de,de)),me(c),de=V.pending,V.pending===V.pending_buf_size)){Se=1;break}V.gzindex<V.gzhead.comment.length?Se=V.gzhead.comment.charCodeAt(V.gzindex++)&255:Se=0,re(V,Se)}while(Se!==0);V.gzhead.hcrc&&V.pending>de&&(c.adler=n(c.adler,V.pending_buf,V.pending-de,de)),Se===0&&(V.status=g)}else V.status=g;if(V.status===g&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&me(c),V.pending+2<=V.pending_buf_size&&(re(V,c.adler&255),re(V,c.adler>>8&255),c.adler=0,V.status=y)):V.status=y),V.pending!==0){if(me(c),c.avail_out===0)return V.last_flush=-1,t}else if(c.avail_in===0&&we(H)<=we(pe)&&H!==b)return he(c,C);if(V.status===k&&c.avail_in!==0)return he(c,C);if(c.avail_in!==0||V.lookahead!==0||H!==T&&V.status!==k){var ie=V.strategy===r?Oe(V,H):V.strategy===d?Pe(V,H):De[V.level].func(V,H);if((ie===se||ie===B)&&(V.status=k),ie===D||ie===se)return c.avail_out===0&&(V.last_flush=-1),t;if(ie===ee&&(H===I?o._tr_align(V):H!==A&&(o._tr_stored_block(V,0,0,!1),H===N&&(Ie(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),me(c),c.avail_out===0))return V.last_flush=-1,t}return H!==b?t:V.wrap<=0?S:(V.wrap===2?(re(V,c.adler&255),re(V,c.adler>>8&255),re(V,c.adler>>16&255),re(V,c.adler>>24&255),re(V,c.total_in&255),re(V,c.total_in>>8&255),re(V,c.total_in>>16&255),re(V,c.total_in>>24&255)):(ne(V,c.adler>>>16),ne(V,c.adler&65535)),me(c),V.wrap>0&&(V.wrap=-V.wrap),V.pending!==0?t:S)}function Ae(c){var H;return!c||!c.state?F:(H=c.state.status,H!==le&&H!==X&&H!==f&&H!==a&&H!==g&&H!==y&&H!==k?he(c,F):(c.state=null,H===y?he(c,R):t))}function Ne(c,H){var pe=H.length,V,de,Se,Be,ae,ie,be,Fe;if(!c||!c.state||(V=c.state,Be=V.wrap,Be===2||Be===1&&V.status!==le||V.lookahead))return F;for(Be===1&&(c.adler=$(c.adler,H,pe,0)),V.wrap=0,pe>=V.w_size&&(Be===0&&(Ie(V.head),V.strstart=0,V.block_start=0,V.insert=0),Fe=new s.Buf8(V.w_size),s.arraySet(Fe,H,pe-V.w_size,V.w_size,0),H=Fe,pe=V.w_size),ae=c.avail_in,ie=c.next_in,be=c.input,c.avail_in=pe,c.next_in=0,c.input=H,oe(V);V.lookahead>=ue;){de=V.strstart,Se=V.lookahead-(ue-1);do V.ins_h=(V.ins_h<<V.hash_shift^V.window[de+ue-1])&V.hash_mask,V.prev[de&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=de,de++;while(--Se);V.strstart=de,V.lookahead=ue-1,oe(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=ue-1,V.match_available=0,c.next_in=ie,c.input=be,c.avail_in=ae,V.wrap=Be,t}return deflate.deflateInit=M,deflate.deflateInit2=z,deflate.deflateReset=Z,deflate.deflateResetKeep=h,deflate.deflateSetHeader=ce,deflate.deflate=u,deflate.deflateEnd=Ae,deflate.deflateSetDictionary=Ne,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var s=30,o=12;return inffast=function(n,L){var T,I,N,b,A,t,S,F,R,C,j,m,r,d,x,v,l,_,p,w,O,J,q,E,G;T=n.state,I=n.next_in,E=n.input,N=I+(n.avail_in-5),b=n.next_out,G=n.output,A=b-(L-n.avail_out),t=b+(n.avail_out-257),S=T.dmax,F=T.wsize,R=T.whave,C=T.wnext,j=T.window,m=T.hold,r=T.bits,d=T.lencode,x=T.distcode,v=(1<<T.lenbits)-1,l=(1<<T.distbits)-1;e:do{r<15&&(m+=E[I++]<<r,r+=8,m+=E[I++]<<r,r+=8),_=d[m&v];t:for(;;){if(p=_>>>24,m>>>=p,r-=p,p=_>>>16&255,p===0)G[b++]=_&65535;else if(p&16){w=_&65535,p&=15,p&&(r<p&&(m+=E[I++]<<r,r+=8),w+=m&(1<<p)-1,m>>>=p,r-=p),r<15&&(m+=E[I++]<<r,r+=8,m+=E[I++]<<r,r+=8),_=x[m&l];r:for(;;){if(p=_>>>24,m>>>=p,r-=p,p=_>>>16&255,p&16){if(O=_&65535,p&=15,r<p&&(m+=E[I++]<<r,r+=8,r<p&&(m+=E[I++]<<r,r+=8)),O+=m&(1<<p)-1,O>S){n.msg="invalid distance too far back",T.mode=s;break e}if(m>>>=p,r-=p,p=b-A,O>p){if(p=O-p,p>R&&T.sane){n.msg="invalid distance too far back",T.mode=s;break e}if(J=0,q=j,C===0){if(J+=F-p,p<w){w-=p;do G[b++]=j[J++];while(--p);J=b-O,q=G}}else if(C<p){if(J+=F+C-p,p-=C,p<w){w-=p;do G[b++]=j[J++];while(--p);if(J=0,C<w){p=C,w-=p;do G[b++]=j[J++];while(--p);J=b-O,q=G}}}else if(J+=C-p,p<w){w-=p;do G[b++]=j[J++];while(--p);J=b-O,q=G}for(;w>2;)G[b++]=q[J++],G[b++]=q[J++],G[b++]=q[J++],w-=3;w&&(G[b++]=q[J++],w>1&&(G[b++]=q[J++]))}else{J=b-O;do G[b++]=G[J++],G[b++]=G[J++],G[b++]=G[J++],w-=3;while(w>2);w&&(G[b++]=G[J++],w>1&&(G[b++]=G[J++]))}}else if(p&64){n.msg="invalid distance code",T.mode=s;break e}else{_=x[(_&65535)+(m&(1<<p)-1)];continue r}break}}else if(p&64)if(p&32){T.mode=o;break e}else{n.msg="invalid literal/length code",T.mode=s;break e}else{_=d[(_&65535)+(m&(1<<p)-1)];continue t}break}}while(I<N&&b<t);w=r>>3,I-=w,r-=w<<3,m&=(1<<r)-1,n.next_in=I,n.next_out=b,n.avail_in=I<N?5+(N-I):5-(I-N),n.avail_out=b<t?257+(t-b):257-(b-t),T.hold=m,T.bits=r},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var s=requireCommon(),o=15,$=852,n=592,L=0,T=1,I=2,N=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],t=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(F,R,C,j,m,r,d,x){var v=x.bits,l=0,_=0,p=0,w=0,O=0,J=0,q=0,E=0,G=0,ge=0,fe,_e,ue,ye,K,Q=null,le=0,X,f=new s.Buf16(o+1),a=new s.Buf16(o+1),g=null,y=0,k,D,ee;for(l=0;l<=o;l++)f[l]=0;for(_=0;_<j;_++)f[R[C+_]]++;for(O=v,w=o;w>=1&&f[w]===0;w--);if(O>w&&(O=w),w===0)return m[r++]=1<<24|64<<16|0,m[r++]=1<<24|64<<16|0,x.bits=1,0;for(p=1;p<w&&f[p]===0;p++);for(O<p&&(O=p),E=1,l=1;l<=o;l++)if(E<<=1,E-=f[l],E<0)return-1;if(E>0&&(F===L||w!==1))return-1;for(a[1]=0,l=1;l<o;l++)a[l+1]=a[l]+f[l];for(_=0;_<j;_++)R[C+_]!==0&&(d[a[R[C+_]]++]=_);if(F===L?(Q=g=d,X=19):F===T?(Q=N,le-=257,g=b,y-=257,X=256):(Q=A,g=t,X=-1),ge=0,_=0,l=p,K=r,J=O,q=0,ue=-1,G=1<<O,ye=G-1,F===T&&G>$||F===I&&G>n)return 1;for(;;){k=l-q,d[_]<X?(D=0,ee=d[_]):d[_]>X?(D=g[y+d[_]],ee=Q[le+d[_]]):(D=96,ee=0),fe=1<<l-q,_e=1<<J,p=_e;do _e-=fe,m[K+(ge>>q)+_e]=k<<24|D<<16|ee|0;while(_e!==0);for(fe=1<<l-1;ge&fe;)fe>>=1;if(fe!==0?(ge&=fe-1,ge+=fe):ge=0,_++,--f[l]===0){if(l===w)break;l=R[C+d[_]]}if(l>O&&(ge&ye)!==ue){for(q===0&&(q=O),K+=p,J=l-q,E=1<<J;J+q<w&&(E-=f[J+q],!(E<=0));)J++,E<<=1;if(G+=1<<J,F===T&&G>$||F===I&&G>n)return 1;ue=ge&ye,m[ue]=O<<24|J<<16|K-r|0}}return ge!==0&&(m[K+ge]=l-q<<24|64<<16|0),x.bits=O,0},inftrees}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate;hasRequiredInflate=1;var s=requireCommon(),o=requireAdler32(),$=requireCrc32(),n=requireInffast(),L=requireInftrees(),T=0,I=1,N=2,b=4,A=5,t=6,S=0,F=1,R=2,C=-2,j=-3,m=-4,r=-5,d=8,x=1,v=2,l=3,_=4,p=5,w=6,O=7,J=8,q=9,E=10,G=11,ge=12,fe=13,_e=14,ue=15,ye=16,K=17,Q=18,le=19,X=20,f=21,a=22,g=23,y=24,k=25,D=26,ee=27,se=28,B=29,U=30,he=31,we=32,Ie=852,me=592,ve=15,re=ve;function ne(z){return(z>>>24&255)+(z>>>8&65280)+((z&65280)<<8)+((z&255)<<24)}function Ee(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Te(z){var M;return!z||!z.state?C:(M=z.state,z.total_in=z.total_out=M.total=0,z.msg="",M.wrap&&(z.adler=M.wrap&1),M.mode=x,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new s.Buf32(Ie),M.distcode=M.distdyn=new s.Buf32(me),M.sane=1,M.back=-1,S)}function oe(z){var M;return!z||!z.state?C:(M=z.state,M.wsize=0,M.whave=0,M.wnext=0,Te(z))}function Re(z,M){var u,Ae;return!z||!z.state||(Ae=z.state,M<0?(u=0,M=-M):(u=(M>>4)+1,M<48&&(M&=15)),M&&(M<8||M>15))?C:(Ae.window!==null&&Ae.wbits!==M&&(Ae.window=null),Ae.wrap=u,Ae.wbits=M,oe(z))}function W(z,M){var u,Ae;return z?(Ae=new Ee,z.state=Ae,Ae.window=null,u=Re(z,M),u!==S&&(z.state=null),u):C}function te(z){return W(z,re)}var Pe=!0,Oe,qe;function De(z){if(Pe){var M;for(Oe=new s.Buf32(512),qe=new s.Buf32(32),M=0;M<144;)z.lens[M++]=8;for(;M<256;)z.lens[M++]=9;for(;M<280;)z.lens[M++]=7;for(;M<288;)z.lens[M++]=8;for(L(I,z.lens,0,288,Oe,0,z.work,{bits:9}),M=0;M<32;)z.lens[M++]=5;L(N,z.lens,0,32,qe,0,z.work,{bits:5}),Pe=!1}z.lencode=Oe,z.lenbits=9,z.distcode=qe,z.distbits=5}function Y(z,M,u,Ae){var Ne,c=z.state;return c.window===null&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new s.Buf8(c.wsize)),Ae>=c.wsize?(s.arraySet(c.window,M,u-c.wsize,c.wsize,0),c.wnext=0,c.whave=c.wsize):(Ne=c.wsize-c.wnext,Ne>Ae&&(Ne=Ae),s.arraySet(c.window,M,u-Ae,Ne,c.wnext),Ae-=Ne,Ae?(s.arraySet(c.window,M,u-Ae,Ae,0),c.wnext=Ae,c.whave=c.wsize):(c.wnext+=Ne,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=Ne))),0}function e(z,M){var u,Ae,Ne,c,H,pe,V,de,Se,Be,ae,ie,be,Fe,ke=0,Le,Ue,je,We,$e,Xe,He,ze,Ge=new s.Buf8(4),Ve,Ye,Ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return C;u=z.state,u.mode===ge&&(u.mode=fe),H=z.next_out,Ne=z.output,V=z.avail_out,c=z.next_in,Ae=z.input,pe=z.avail_in,de=u.hold,Se=u.bits,Be=pe,ae=V,ze=S;e:for(;;)switch(u.mode){case x:if(u.wrap===0){u.mode=fe;break}for(;Se<16;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(u.wrap&2&&de===35615){u.check=0,Ge[0]=de&255,Ge[1]=de>>>8&255,u.check=$(u.check,Ge,2,0),de=0,Se=0,u.mode=v;break}if(u.flags=0,u.head&&(u.head.done=!1),!(u.wrap&1)||(((de&255)<<8)+(de>>8))%31){z.msg="incorrect header check",u.mode=U;break}if((de&15)!==d){z.msg="unknown compression method",u.mode=U;break}if(de>>>=4,Se-=4,He=(de&15)+8,u.wbits===0)u.wbits=He;else if(He>u.wbits){z.msg="invalid window size",u.mode=U;break}u.dmax=1<<He,z.adler=u.check=1,u.mode=de&512?E:ge,de=0,Se=0;break;case v:for(;Se<16;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(u.flags=de,(u.flags&255)!==d){z.msg="unknown compression method",u.mode=U;break}if(u.flags&57344){z.msg="unknown header flags set",u.mode=U;break}u.head&&(u.head.text=de>>8&1),u.flags&512&&(Ge[0]=de&255,Ge[1]=de>>>8&255,u.check=$(u.check,Ge,2,0)),de=0,Se=0,u.mode=l;case l:for(;Se<32;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}u.head&&(u.head.time=de),u.flags&512&&(Ge[0]=de&255,Ge[1]=de>>>8&255,Ge[2]=de>>>16&255,Ge[3]=de>>>24&255,u.check=$(u.check,Ge,4,0)),de=0,Se=0,u.mode=_;case _:for(;Se<16;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}u.head&&(u.head.xflags=de&255,u.head.os=de>>8),u.flags&512&&(Ge[0]=de&255,Ge[1]=de>>>8&255,u.check=$(u.check,Ge,2,0)),de=0,Se=0,u.mode=p;case p:if(u.flags&1024){for(;Se<16;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}u.length=de,u.head&&(u.head.extra_len=de),u.flags&512&&(Ge[0]=de&255,Ge[1]=de>>>8&255,u.check=$(u.check,Ge,2,0)),de=0,Se=0}else u.head&&(u.head.extra=null);u.mode=w;case w:if(u.flags&1024&&(ie=u.length,ie>pe&&(ie=pe),ie&&(u.head&&(He=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),s.arraySet(u.head.extra,Ae,c,ie,He)),u.flags&512&&(u.check=$(u.check,Ae,ie,c)),pe-=ie,c+=ie,u.length-=ie),u.length))break e;u.length=0,u.mode=O;case O:if(u.flags&2048){if(pe===0)break e;ie=0;do He=Ae[c+ie++],u.head&&He&&u.length<65536&&(u.head.name+=String.fromCharCode(He));while(He&&ie<pe);if(u.flags&512&&(u.check=$(u.check,Ae,ie,c)),pe-=ie,c+=ie,He)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=J;case J:if(u.flags&4096){if(pe===0)break e;ie=0;do He=Ae[c+ie++],u.head&&He&&u.length<65536&&(u.head.comment+=String.fromCharCode(He));while(He&&ie<pe);if(u.flags&512&&(u.check=$(u.check,Ae,ie,c)),pe-=ie,c+=ie,He)break e}else u.head&&(u.head.comment=null);u.mode=q;case q:if(u.flags&512){for(;Se<16;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(de!==(u.check&65535)){z.msg="header crc mismatch",u.mode=U;break}de=0,Se=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),z.adler=u.check=0,u.mode=ge;break;case E:for(;Se<32;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}z.adler=u.check=ne(de),de=0,Se=0,u.mode=G;case G:if(u.havedict===0)return z.next_out=H,z.avail_out=V,z.next_in=c,z.avail_in=pe,u.hold=de,u.bits=Se,R;z.adler=u.check=1,u.mode=ge;case ge:if(M===A||M===t)break e;case fe:if(u.last){de>>>=Se&7,Se-=Se&7,u.mode=ee;break}for(;Se<3;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}switch(u.last=de&1,de>>>=1,Se-=1,de&3){case 0:u.mode=_e;break;case 1:if(De(u),u.mode=X,M===t){de>>>=2,Se-=2;break e}break;case 2:u.mode=K;break;case 3:z.msg="invalid block type",u.mode=U}de>>>=2,Se-=2;break;case _e:for(de>>>=Se&7,Se-=Se&7;Se<32;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if((de&65535)!==(de>>>16^65535)){z.msg="invalid stored block lengths",u.mode=U;break}if(u.length=de&65535,de=0,Se=0,u.mode=ue,M===t)break e;case ue:u.mode=ye;case ye:if(ie=u.length,ie){if(ie>pe&&(ie=pe),ie>V&&(ie=V),ie===0)break e;s.arraySet(Ne,Ae,c,ie,H),pe-=ie,c+=ie,V-=ie,H+=ie,u.length-=ie;break}u.mode=ge;break;case K:for(;Se<14;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(u.nlen=(de&31)+257,de>>>=5,Se-=5,u.ndist=(de&31)+1,de>>>=5,Se-=5,u.ncode=(de&15)+4,de>>>=4,Se-=4,u.nlen>286||u.ndist>30){z.msg="too many length or distance symbols",u.mode=U;break}u.have=0,u.mode=Q;case Q:for(;u.have<u.ncode;){for(;Se<3;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}u.lens[Ke[u.have++]]=de&7,de>>>=3,Se-=3}for(;u.have<19;)u.lens[Ke[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,Ve={bits:u.lenbits},ze=L(T,u.lens,0,19,u.lencode,0,u.work,Ve),u.lenbits=Ve.bits,ze){z.msg="invalid code lengths set",u.mode=U;break}u.have=0,u.mode=le;case le:for(;u.have<u.nlen+u.ndist;){for(;ke=u.lencode[de&(1<<u.lenbits)-1],Le=ke>>>24,Ue=ke>>>16&255,je=ke&65535,!(Le<=Se);){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(je<16)de>>>=Le,Se-=Le,u.lens[u.have++]=je;else{if(je===16){for(Ye=Le+2;Se<Ye;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(de>>>=Le,Se-=Le,u.have===0){z.msg="invalid bit length repeat",u.mode=U;break}He=u.lens[u.have-1],ie=3+(de&3),de>>>=2,Se-=2}else if(je===17){for(Ye=Le+3;Se<Ye;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}de>>>=Le,Se-=Le,He=0,ie=3+(de&7),de>>>=3,Se-=3}else{for(Ye=Le+7;Se<Ye;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}de>>>=Le,Se-=Le,He=0,ie=11+(de&127),de>>>=7,Se-=7}if(u.have+ie>u.nlen+u.ndist){z.msg="invalid bit length repeat",u.mode=U;break}for(;ie--;)u.lens[u.have++]=He}}if(u.mode===U)break;if(u.lens[256]===0){z.msg="invalid code -- missing end-of-block",u.mode=U;break}if(u.lenbits=9,Ve={bits:u.lenbits},ze=L(I,u.lens,0,u.nlen,u.lencode,0,u.work,Ve),u.lenbits=Ve.bits,ze){z.msg="invalid literal/lengths set",u.mode=U;break}if(u.distbits=6,u.distcode=u.distdyn,Ve={bits:u.distbits},ze=L(N,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,Ve),u.distbits=Ve.bits,ze){z.msg="invalid distances set",u.mode=U;break}if(u.mode=X,M===t)break e;case X:u.mode=f;case f:if(pe>=6&&V>=258){z.next_out=H,z.avail_out=V,z.next_in=c,z.avail_in=pe,u.hold=de,u.bits=Se,n(z,ae),H=z.next_out,Ne=z.output,V=z.avail_out,c=z.next_in,Ae=z.input,pe=z.avail_in,de=u.hold,Se=u.bits,u.mode===ge&&(u.back=-1);break}for(u.back=0;ke=u.lencode[de&(1<<u.lenbits)-1],Le=ke>>>24,Ue=ke>>>16&255,je=ke&65535,!(Le<=Se);){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(Ue&&!(Ue&240)){for(We=Le,$e=Ue,Xe=je;ke=u.lencode[Xe+((de&(1<<We+$e)-1)>>We)],Le=ke>>>24,Ue=ke>>>16&255,je=ke&65535,!(We+Le<=Se);){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}de>>>=We,Se-=We,u.back+=We}if(de>>>=Le,Se-=Le,u.back+=Le,u.length=je,Ue===0){u.mode=D;break}if(Ue&32){u.back=-1,u.mode=ge;break}if(Ue&64){z.msg="invalid literal/length code",u.mode=U;break}u.extra=Ue&15,u.mode=a;case a:if(u.extra){for(Ye=u.extra;Se<Ye;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}u.length+=de&(1<<u.extra)-1,de>>>=u.extra,Se-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=g;case g:for(;ke=u.distcode[de&(1<<u.distbits)-1],Le=ke>>>24,Ue=ke>>>16&255,je=ke&65535,!(Le<=Se);){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(!(Ue&240)){for(We=Le,$e=Ue,Xe=je;ke=u.distcode[Xe+((de&(1<<We+$e)-1)>>We)],Le=ke>>>24,Ue=ke>>>16&255,je=ke&65535,!(We+Le<=Se);){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}de>>>=We,Se-=We,u.back+=We}if(de>>>=Le,Se-=Le,u.back+=Le,Ue&64){z.msg="invalid distance code",u.mode=U;break}u.offset=je,u.extra=Ue&15,u.mode=y;case y:if(u.extra){for(Ye=u.extra;Se<Ye;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}u.offset+=de&(1<<u.extra)-1,de>>>=u.extra,Se-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){z.msg="invalid distance too far back",u.mode=U;break}u.mode=k;case k:if(V===0)break e;if(ie=ae-V,u.offset>ie){if(ie=u.offset-ie,ie>u.whave&&u.sane){z.msg="invalid distance too far back",u.mode=U;break}ie>u.wnext?(ie-=u.wnext,be=u.wsize-ie):be=u.wnext-ie,ie>u.length&&(ie=u.length),Fe=u.window}else Fe=Ne,be=H-u.offset,ie=u.length;ie>V&&(ie=V),V-=ie,u.length-=ie;do Ne[H++]=Fe[be++];while(--ie);u.length===0&&(u.mode=f);break;case D:if(V===0)break e;Ne[H++]=u.length,V--,u.mode=f;break;case ee:if(u.wrap){for(;Se<32;){if(pe===0)break e;pe--,de|=Ae[c++]<<Se,Se+=8}if(ae-=V,z.total_out+=ae,u.total+=ae,ae&&(z.adler=u.check=u.flags?$(u.check,Ne,ae,H-ae):o(u.check,Ne,ae,H-ae)),ae=V,(u.flags?de:ne(de))!==u.check){z.msg="incorrect data check",u.mode=U;break}de=0,Se=0}u.mode=se;case se:if(u.wrap&&u.flags){for(;Se<32;){if(pe===0)break e;pe--,de+=Ae[c++]<<Se,Se+=8}if(de!==(u.total&4294967295)){z.msg="incorrect length check",u.mode=U;break}de=0,Se=0}u.mode=B;case B:ze=F;break e;case U:ze=j;break e;case he:return m;case we:default:return C}return z.next_out=H,z.avail_out=V,z.next_in=c,z.avail_in=pe,u.hold=de,u.bits=Se,(u.wsize||ae!==z.avail_out&&u.mode<U&&(u.mode<ee||M!==b))&&Y(z,z.output,z.next_out,ae-z.avail_out),Be-=z.avail_in,ae-=z.avail_out,z.total_in+=Be,z.total_out+=ae,u.total+=ae,u.wrap&&ae&&(z.adler=u.check=u.flags?$(u.check,Ne,ae,z.next_out-ae):o(u.check,Ne,ae,z.next_out-ae)),z.data_type=u.bits+(u.last?64:0)+(u.mode===ge?128:0)+(u.mode===X||u.mode===ue?256:0),(Be===0&&ae===0||M===b)&&ze===S&&(ze=r),ze}function h(z){if(!z||!z.state)return C;var M=z.state;return M.window&&(M.window=null),z.state=null,S}function Z(z,M){var u;return!z||!z.state||(u=z.state,!(u.wrap&2))?C:(u.head=M,M.done=!1,S)}function ce(z,M){var u=M.length,Ae,Ne,c;return!z||!z.state||(Ae=z.state,Ae.wrap!==0&&Ae.mode!==G)?C:Ae.mode===G&&(Ne=1,Ne=o(Ne,M,u,0),Ne!==Ae.check)?j:(c=Y(z,M,u,u),c?(Ae.mode=he,m):(Ae.havedict=1,S))}return inflate.inflateReset=oe,inflate.inflateReset2=Re,inflate.inflateResetKeep=Te,inflate.inflateInit=te,inflate.inflateInit2=W,inflate.inflate=e,inflate.inflateEnd=h,inflate.inflateGetHeader=Z,inflate.inflateSetDictionary=ce,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var hasRequiredBinding;function requireBinding(){return hasRequiredBinding||(hasRequiredBinding=1,function(s){var o=requireAssert(),$=requireZstream(),n=requireDeflate(),L=requireInflate(),T=requireConstants();for(var I in T)s[I]=T[I];s.NONE=0,s.DEFLATE=1,s.INFLATE=2,s.GZIP=3,s.GUNZIP=4,s.DEFLATERAW=5,s.INFLATERAW=6,s.UNZIP=7;var N=31,b=139;function A(t){if(typeof t!="number"||t<s.DEFLATE||t>s.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}A.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=s.UNZIP),this.mode===s.DEFLATE||this.mode===s.GZIP||this.mode===s.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===s.INFLATE||this.mode===s.GUNZIP||this.mode===s.INFLATERAW||this.mode===s.UNZIP)&&L.inflateEnd(this.strm),this.mode=s.NONE,this.dictionary=null},A.prototype.write=function(t,S,F,R,C,j,m){return this._write(!0,t,S,F,R,C,j,m)},A.prototype.writeSync=function(t,S,F,R,C,j,m){return this._write(!1,t,S,F,R,C,j,m)},A.prototype._write=function(t,S,F,R,C,j,m,r){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==s.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,S===void 0,"must provide flush value"),this.write_in_progress=!0,S!==s.Z_NO_FLUSH&&S!==s.Z_PARTIAL_FLUSH&&S!==s.Z_SYNC_FLUSH&&S!==s.Z_FULL_FLUSH&&S!==s.Z_FINISH&&S!==s.Z_BLOCK)throw new Error("Invalid flush value");if(F==null&&(F=Buffer.alloc(0),C=0,R=0),this.strm.avail_in=C,this.strm.input=F,this.strm.next_in=R,this.strm.avail_out=r,this.strm.output=j,this.strm.next_out=m,this.flush=S,!t)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return process$1.nextTick(function(){d._process(),d._after()}),this},A.prototype._afterSync=function(){var t=this.strm.avail_out,S=this.strm.avail_in;return this.write_in_progress=!1,[S,t]},A.prototype._process=function(){var t=null;switch(this.mode){case s.DEFLATE:case s.GZIP:case s.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case s.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(t===null)break;if(this.strm.input[t]===N){if(this.gzip_id_bytes_read=1,t++,this.strm.avail_in===1)break}else{this.mode=s.INFLATE;break}case 1:if(t===null)break;this.strm.input[t]===b?(this.gzip_id_bytes_read=2,this.mode=s.GUNZIP):this.mode=s.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case s.INFLATE:case s.GUNZIP:case s.INFLATERAW:for(this.err=L.inflate(this.strm,this.flush),this.err===s.Z_NEED_DICT&&this.dictionary&&(this.err=L.inflateSetDictionary(this.strm,this.dictionary),this.err===s.Z_OK?this.err=L.inflate(this.strm,this.flush):this.err===s.Z_DATA_ERROR&&(this.err=s.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===s.GUNZIP&&this.err===s.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=L.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},A.prototype._checkError=function(){switch(this.err){case s.Z_OK:case s.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===s.Z_FINISH)return this._error("unexpected end of file"),!1;break;case s.Z_STREAM_END:break;case s.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},A.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,S=this.strm.avail_in;this.write_in_progress=!1,this.callback(S,t),this.pending_close&&this.close()}},A.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},A.prototype.init=function(t,S,F,R,C){o(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(t>=8&&t<=15,"invalid windowBits"),o(S>=-1&&S<=9,"invalid compression level"),o(F>=1&&F<=9,"invalid memlevel"),o(R===s.Z_FILTERED||R===s.Z_HUFFMAN_ONLY||R===s.Z_RLE||R===s.Z_FIXED||R===s.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(S,t,F,R,C),this._setDictionary()},A.prototype.params=function(){throw new Error("deflateParams Not supported")},A.prototype.reset=function(){this._reset(),this._setDictionary()},A.prototype._init=function(t,S,F,R,C){switch(this.level=t,this.windowBits=S,this.memLevel=F,this.strategy=R,this.flush=s.Z_NO_FLUSH,this.err=s.Z_OK,(this.mode===s.GZIP||this.mode===s.GUNZIP)&&(this.windowBits+=16),this.mode===s.UNZIP&&(this.windowBits+=32),(this.mode===s.DEFLATERAW||this.mode===s.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new $,this.mode){case s.DEFLATE:case s.GZIP:case s.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,s.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case s.INFLATE:case s.GUNZIP:case s.INFLATERAW:case s.UNZIP:this.err=L.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==s.Z_OK&&this._error("Init error"),this.dictionary=C,this.write_in_progress=!1,this.init_done=!0},A.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=s.Z_OK,this.mode){case s.DEFLATE:case s.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==s.Z_OK&&this._error("Failed to set dictionary")}},A.prototype._reset=function(){switch(this.err=s.Z_OK,this.mode){case s.DEFLATE:case s.DEFLATERAW:case s.GZIP:this.err=n.deflateReset(this.strm);break;case s.INFLATE:case s.INFLATERAW:case s.GUNZIP:this.err=L.inflateReset(this.strm);break}this.err!==s.Z_OK&&this._error("Failed to reset stream")},s.Zlib=A}(binding)),binding}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(s){var o=require$$0.Buffer,$=requireStreamBrowserify().Transform,n=requireBinding(),L=requireUtil(),T=requireAssert().ok,I=require$$0.kMaxLength,N="Cannot create final Buffer. It would be larger than 0x"+I.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var b=Object.keys(n),A=0;A<b.length;A++){var t=b[A];t.match(/^Z/)&&Object.defineProperty(s,t,{enumerable:!0,value:n[t],writable:!1})}for(var S={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},F=Object.keys(S),R=0;R<F.length;R++){var C=F[R];S[S[C]]=C}Object.defineProperty(s,"codes",{enumerable:!0,value:Object.freeze(S),writable:!1}),s.Deflate=r,s.Inflate=d,s.Gzip=x,s.Gunzip=v,s.DeflateRaw=l,s.InflateRaw=_,s.Unzip=p,s.createDeflate=function(E){return new r(E)},s.createInflate=function(E){return new d(E)},s.createDeflateRaw=function(E){return new l(E)},s.createInflateRaw=function(E){return new _(E)},s.createGzip=function(E){return new x(E)},s.createGunzip=function(E){return new v(E)},s.createUnzip=function(E){return new p(E)},s.deflate=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new r(G),E,ge)},s.deflateSync=function(E,G){return m(new r(G),E)},s.gzip=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new x(G),E,ge)},s.gzipSync=function(E,G){return m(new x(G),E)},s.deflateRaw=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new l(G),E,ge)},s.deflateRawSync=function(E,G){return m(new l(G),E)},s.unzip=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new p(G),E,ge)},s.unzipSync=function(E,G){return m(new p(G),E)},s.inflate=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new d(G),E,ge)},s.inflateSync=function(E,G){return m(new d(G),E)},s.gunzip=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new v(G),E,ge)},s.gunzipSync=function(E,G){return m(new v(G),E)},s.inflateRaw=function(E,G,ge){return typeof G=="function"&&(ge=G,G={}),j(new _(G),E,ge)},s.inflateRawSync=function(E,G){return m(new _(G),E)};function j(E,G,ge){var fe=[],_e=0;E.on("error",ye),E.on("end",K),E.end(G),ue();function ue(){for(var Q;(Q=E.read())!==null;)fe.push(Q),_e+=Q.length;E.once("readable",ue)}function ye(Q){E.removeListener("end",K),E.removeListener("readable",ue),ge(Q)}function K(){var Q,le=null;_e>=I?le=new RangeError(N):Q=o.concat(fe,_e),fe=[],E.close(),ge(le,Q)}}function m(E,G){if(typeof G=="string"&&(G=o.from(G)),!o.isBuffer(G))throw new TypeError("Not a string or buffer");var ge=E._finishFlushFlag;return E._processChunk(G,ge)}function r(E){if(!(this instanceof r))return new r(E);O.call(this,E,n.DEFLATE)}function d(E){if(!(this instanceof d))return new d(E);O.call(this,E,n.INFLATE)}function x(E){if(!(this instanceof x))return new x(E);O.call(this,E,n.GZIP)}function v(E){if(!(this instanceof v))return new v(E);O.call(this,E,n.GUNZIP)}function l(E){if(!(this instanceof l))return new l(E);O.call(this,E,n.DEFLATERAW)}function _(E){if(!(this instanceof _))return new _(E);O.call(this,E,n.INFLATERAW)}function p(E){if(!(this instanceof p))return new p(E);O.call(this,E,n.UNZIP)}function w(E){return E===n.Z_NO_FLUSH||E===n.Z_PARTIAL_FLUSH||E===n.Z_SYNC_FLUSH||E===n.Z_FULL_FLUSH||E===n.Z_FINISH||E===n.Z_BLOCK}function O(E,G){var ge=this;if(this._opts=E=E||{},this._chunkSize=E.chunkSize||s.Z_DEFAULT_CHUNK,$.call(this,E),E.flush&&!w(E.flush))throw new Error("Invalid flush flag: "+E.flush);if(E.finishFlush&&!w(E.finishFlush))throw new Error("Invalid flush flag: "+E.finishFlush);if(this._flushFlag=E.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof E.finishFlush<"u"?E.finishFlush:n.Z_FINISH,E.chunkSize&&(E.chunkSize<s.Z_MIN_CHUNK||E.chunkSize>s.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+E.chunkSize);if(E.windowBits&&(E.windowBits<s.Z_MIN_WINDOWBITS||E.windowBits>s.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+E.windowBits);if(E.level&&(E.level<s.Z_MIN_LEVEL||E.level>s.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+E.level);if(E.memLevel&&(E.memLevel<s.Z_MIN_MEMLEVEL||E.memLevel>s.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+E.memLevel);if(E.strategy&&E.strategy!=s.Z_FILTERED&&E.strategy!=s.Z_HUFFMAN_ONLY&&E.strategy!=s.Z_RLE&&E.strategy!=s.Z_FIXED&&E.strategy!=s.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+E.strategy);if(E.dictionary&&!o.isBuffer(E.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(G);var fe=this;this._hadError=!1,this._handle.onerror=function(ye,K){J(fe),fe._hadError=!0;var Q=new Error(ye);Q.errno=K,Q.code=s.codes[K],fe.emit("error",Q)};var _e=s.Z_DEFAULT_COMPRESSION;typeof E.level=="number"&&(_e=E.level);var ue=s.Z_DEFAULT_STRATEGY;typeof E.strategy=="number"&&(ue=E.strategy),this._handle.init(E.windowBits||s.Z_DEFAULT_WINDOWBITS,_e,E.memLevel||s.Z_DEFAULT_MEMLEVEL,ue,E.dictionary),this._buffer=o.allocUnsafe(this._chunkSize),this._offset=0,this._level=_e,this._strategy=ue,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!ge._handle},configurable:!0,enumerable:!0})}L.inherits(O,$),O.prototype.params=function(E,G,ge){if(E<s.Z_MIN_LEVEL||E>s.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+E);if(G!=s.Z_FILTERED&&G!=s.Z_HUFFMAN_ONLY&&G!=s.Z_RLE&&G!=s.Z_FIXED&&G!=s.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+G);if(this._level!==E||this._strategy!==G){var fe=this;this.flush(n.Z_SYNC_FLUSH,function(){T(fe._handle,"zlib binding closed"),fe._handle.params(E,G),fe._hadError||(fe._level=E,fe._strategy=G,ge&&ge())})}else process$1.nextTick(ge)},O.prototype.reset=function(){return T(this._handle,"zlib binding closed"),this._handle.reset()},O.prototype._flush=function(E){this._transform(o.alloc(0),"",E)},O.prototype.flush=function(E,G){var ge=this,fe=this._writableState;(typeof E=="function"||E===void 0&&!G)&&(G=E,E=n.Z_FULL_FLUSH),fe.ended?G&&process$1.nextTick(G):fe.ending?G&&this.once("end",G):fe.needDrain?G&&this.once("drain",function(){return ge.flush(E,G)}):(this._flushFlag=E,this.write(o.alloc(0),"",G))},O.prototype.close=function(E){J(this,E),process$1.nextTick(q,this)};function J(E,G){G&&process$1.nextTick(G),E._handle&&(E._handle.close(),E._handle=null)}function q(E){E.emit("close")}O.prototype._transform=function(E,G,ge){var fe,_e=this._writableState,ue=_e.ending||_e.ended,ye=ue&&(!E||_e.length===E.length);if(E!==null&&!o.isBuffer(E))return ge(new Error("invalid input"));if(!this._handle)return ge(new Error("zlib binding closed"));ye?fe=this._finishFlushFlag:(fe=this._flushFlag,E.length>=_e.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(E,fe,ge)},O.prototype._processChunk=function(E,G,ge){var fe=E&&E.length,_e=this._chunkSize-this._offset,ue=0,ye=this,K=typeof ge=="function";if(!K){var Q=[],le=0,X;this.on("error",function(k){X=k}),T(this._handle,"zlib binding closed");do var f=this._handle.writeSync(G,E,ue,fe,this._buffer,this._offset,_e);while(!this._hadError&&y(f[0],f[1]));if(this._hadError)throw X;if(le>=I)throw J(this),new RangeError(N);var a=o.concat(Q,le);return J(this),a}T(this._handle,"zlib binding closed");var g=this._handle.write(G,E,ue,fe,this._buffer,this._offset,_e);g.buffer=E,g.callback=y;function y(k,D){if(this&&(this.buffer=null,this.callback=null),!ye._hadError){var ee=_e-D;if(T(ee>=0,"have should not go down"),ee>0){var se=ye._buffer.slice(ye._offset,ye._offset+ee);ye._offset+=ee,K?ye.push(se):(Q.push(se),le+=se.length)}if((D===0||ye._offset>=ye._chunkSize)&&(_e=ye._chunkSize,ye._offset=0,ye._buffer=o.allocUnsafe(ye._chunkSize)),D===0){if(ue+=fe-k,fe=k,!K)return!0;var B=ye._handle.write(G,E,ue,fe,ye._buffer,ye._offset,ye._chunkSize);B.callback=y,B.buffer=E;return}if(!K)return!1;ge()}}},L.inherits(r,O),L.inherits(d,O),L.inherits(x,O),L.inherits(v,O),L.inherits(l,O),L.inherits(_,O),L.inherits(p,O)}(lib)),lib}(function(module,exports){(function(o,$){module.exports=o.pdfjsLib=$()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,o)=>{var ce;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=K,o.bytesToString=B,o.createValidAbsoluteUrl=le,o.getModificationDate=Oe,o.getUuid=h,o.getVerbosityLevel=fe,o.info=_e,o.isArrayBuffer=te,o.isArrayEqual=Pe,o.isNodeJS=void 0,o.normalizeUnicode=e,o.objectFromMap=Ie,o.objectSize=we,o.setVerbosityLevel=ge,o.shadow=X,o.string32=he,o.stringToBytes=U,o.stringToPDFString=oe,o.stringToUTF8String=Re,o.unreachable=ye,o.utf8StringToString=W,o.warn=ue;const $=typeof process$1=="object"&&process$1+""=="[object process]"&&!process$1.versions.nw&&!(process$1.versions.electron&&process$1.type&&process$1.type!=="browser");o.isNodeJS=$;const n=[1,0,0,1,0,0];o.IDENTITY_MATRIX=n;const L=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=L;const T=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=T;const I=1.35;o.LINE_FACTOR=I;const N=.35;o.LINE_DESCENT_FACTOR=N;const b=N/I;o.BASELINE_FACTOR=b;const A={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=A;const t={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=t;const S="pdfjs_internal_editor_";o.AnnotationEditorPrefix=S;const F={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=F;const R={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=R;const C={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=C;const j={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=j;const m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=m;const r={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=r;const d={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=d;const x={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=x;const v={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=v;const l={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=l;const _={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=_;const p={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=p;const w={O:"PageOpen",C:"PageClose"};o.PageActionEventType=w;const O={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=O;const J={NONE:0,BINARY:1};o.CMapCompressionType=J;const q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=q;const E={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=E;let G=O.WARNINGS;function ge(z){Number.isInteger(z)&&(G=z)}function fe(){return G}function _e(z){G>=O.INFOS&&console.log(`Info: ${z}`)}function ue(z){G>=O.WARNINGS&&console.log(`Warning: ${z}`)}function ye(z){throw new Error(z)}function K(z,M){z||ye(M)}function Q(z){switch(z==null?void 0:z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function le(z,M=null,u=null){if(!z)return null;try{if(u&&typeof z=="string"){if(u.addDefaultProtocol&&z.startsWith("www.")){const Ne=z.match(/\./g);(Ne==null?void 0:Ne.length)>=2&&(z=`http://${z}`)}if(u.tryConvertEncoding)try{z=Re(z)}catch{}}const Ae=M?new URL(z,M):new URL(z);if(Q(Ae))return Ae}catch{}return null}function X(z,M,u,Ae=!1){return Object.defineProperty(z,M,{value:u,enumerable:!Ae,configurable:!0,writable:!1}),u}const f=function(){function M(u,Ae){this.constructor===M&&ye("Cannot initialize BaseException."),this.message=u,this.name=Ae}return M.prototype=new Error,M.constructor=M,M}();o.BaseException=f;class a extends f{constructor(M,u){super(M,"PasswordException"),this.code=u}}o.PasswordException=a;class g extends f{constructor(M,u){super(M,"UnknownErrorException"),this.details=u}}o.UnknownErrorException=g;class y extends f{constructor(M){super(M,"InvalidPDFException")}}o.InvalidPDFException=y;class k extends f{constructor(M){super(M,"MissingPDFException")}}o.MissingPDFException=k;class D extends f{constructor(M,u){super(M,"UnexpectedResponseException"),this.status=u}}o.UnexpectedResponseException=D;class ee extends f{constructor(M){super(M,"FormatError")}}o.FormatError=ee;class se extends f{constructor(M){super(M,"AbortException")}}o.AbortException=se;function B(z){(typeof z!="object"||(z==null?void 0:z.length)===void 0)&&ye("Invalid argument for bytesToString");const M=z.length,u=8192;if(M<u)return String.fromCharCode.apply(null,z);const Ae=[];for(let Ne=0;Ne<M;Ne+=u){const c=Math.min(Ne+u,M),H=z.subarray(Ne,c);Ae.push(String.fromCharCode.apply(null,H))}return Ae.join("")}function U(z){typeof z!="string"&&ye("Invalid argument for stringToBytes");const M=z.length,u=new Uint8Array(M);for(let Ae=0;Ae<M;++Ae)u[Ae]=z.charCodeAt(Ae)&255;return u}function he(z){return String.fromCharCode(z>>24&255,z>>16&255,z>>8&255,z&255)}function we(z){return Object.keys(z).length}function Ie(z){const M=Object.create(null);for(const[u,Ae]of z)M[u]=Ae;return M}function me(){const z=new Uint8Array(4);return z[0]=1,new Uint32Array(z.buffer,0,1)[0]===1}function ve(){try{return new Function(""),!0}catch{return!1}}class re{static get isLittleEndian(){return X(this,"isLittleEndian",me())}static get isEvalSupported(){return X(this,"isEvalSupported",ve())}static get isOffscreenCanvasSupported(){return X(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?X(this,"platform",{isWin:!1,isMac:!1}):X(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var M,u;return X(this,"isCSSRoundSupported",(u=(M=globalThis.CSS)==null?void 0:M.supports)==null?void 0:u.call(M,"width: round(1.5px, 1px)"))}}o.FeatureTest=re;const ne=[...Array(256).keys()].map(z=>z.toString(16).padStart(2,"0"));class Ee{static makeHexColor(M,u,Ae){return`#${ne[M]}${ne[u]}${ne[Ae]}`}static scaleMinMax(M,u){let Ae;M[0]?(M[0]<0&&(Ae=u[0],u[0]=u[1],u[1]=Ae),u[0]*=M[0],u[1]*=M[0],M[3]<0&&(Ae=u[2],u[2]=u[3],u[3]=Ae),u[2]*=M[3],u[3]*=M[3]):(Ae=u[0],u[0]=u[2],u[2]=Ae,Ae=u[1],u[1]=u[3],u[3]=Ae,M[1]<0&&(Ae=u[2],u[2]=u[3],u[3]=Ae),u[2]*=M[1],u[3]*=M[1],M[2]<0&&(Ae=u[0],u[0]=u[1],u[1]=Ae),u[0]*=M[2],u[1]*=M[2]),u[0]+=M[4],u[1]+=M[4],u[2]+=M[5],u[3]+=M[5]}static transform(M,u){return[M[0]*u[0]+M[2]*u[1],M[1]*u[0]+M[3]*u[1],M[0]*u[2]+M[2]*u[3],M[1]*u[2]+M[3]*u[3],M[0]*u[4]+M[2]*u[5]+M[4],M[1]*u[4]+M[3]*u[5]+M[5]]}static applyTransform(M,u){const Ae=M[0]*u[0]+M[1]*u[2]+u[4],Ne=M[0]*u[1]+M[1]*u[3]+u[5];return[Ae,Ne]}static applyInverseTransform(M,u){const Ae=u[0]*u[3]-u[1]*u[2],Ne=(M[0]*u[3]-M[1]*u[2]+u[2]*u[5]-u[4]*u[3])/Ae,c=(-M[0]*u[1]+M[1]*u[0]+u[4]*u[1]-u[5]*u[0])/Ae;return[Ne,c]}static getAxialAlignedBoundingBox(M,u){const Ae=this.applyTransform(M,u),Ne=this.applyTransform(M.slice(2,4),u),c=this.applyTransform([M[0],M[3]],u),H=this.applyTransform([M[2],M[1]],u);return[Math.min(Ae[0],Ne[0],c[0],H[0]),Math.min(Ae[1],Ne[1],c[1],H[1]),Math.max(Ae[0],Ne[0],c[0],H[0]),Math.max(Ae[1],Ne[1],c[1],H[1])]}static inverseTransform(M){const u=M[0]*M[3]-M[1]*M[2];return[M[3]/u,-M[1]/u,-M[2]/u,M[0]/u,(M[2]*M[5]-M[4]*M[3])/u,(M[4]*M[1]-M[5]*M[0])/u]}static singularValueDecompose2dScale(M){const u=[M[0],M[2],M[1],M[3]],Ae=M[0]*u[0]+M[1]*u[2],Ne=M[0]*u[1]+M[1]*u[3],c=M[2]*u[0]+M[3]*u[2],H=M[2]*u[1]+M[3]*u[3],pe=(Ae+H)/2,V=Math.sqrt((Ae+H)**2-4*(Ae*H-c*Ne))/2,de=pe+V||1,Se=pe-V||1;return[Math.sqrt(de),Math.sqrt(Se)]}static normalizeRect(M){const u=M.slice(0);return M[0]>M[2]&&(u[0]=M[2],u[2]=M[0]),M[1]>M[3]&&(u[1]=M[3],u[3]=M[1]),u}static intersect(M,u){const Ae=Math.max(Math.min(M[0],M[2]),Math.min(u[0],u[2])),Ne=Math.min(Math.max(M[0],M[2]),Math.max(u[0],u[2]));if(Ae>Ne)return null;const c=Math.max(Math.min(M[1],M[3]),Math.min(u[1],u[3])),H=Math.min(Math.max(M[1],M[3]),Math.max(u[1],u[3]));return c>H?null:[Ae,c,Ne,H]}static bezierBoundingBox(M,u,Ae,Ne,c,H,pe,V){const de=[],Se=[[],[]];let Be,ae,ie,be,Fe,ke,Le,Ue;for(let Xe=0;Xe<2;++Xe){if(Xe===0?(ae=6*M-12*Ae+6*c,Be=-3*M+9*Ae-9*c+3*pe,ie=3*Ae-3*M):(ae=6*u-12*Ne+6*H,Be=-3*u+9*Ne-9*H+3*V,ie=3*Ne-3*u),Math.abs(Be)<1e-12){if(Math.abs(ae)<1e-12)continue;be=-ie/ae,0<be&&be<1&&de.push(be);continue}Le=ae*ae-4*ie*Be,Ue=Math.sqrt(Le),!(Le<0)&&(Fe=(-ae+Ue)/(2*Be),0<Fe&&Fe<1&&de.push(Fe),ke=(-ae-Ue)/(2*Be),0<ke&&ke<1&&de.push(ke))}let je=de.length,We;const $e=je;for(;je--;)be=de[je],We=1-be,Se[0][je]=We*We*We*M+3*We*We*be*Ae+3*We*be*be*c+be*be*be*pe,Se[1][je]=We*We*We*u+3*We*We*be*Ne+3*We*be*be*H+be*be*be*V;return Se[0][$e]=M,Se[1][$e]=u,Se[0][$e+1]=pe,Se[1][$e+1]=V,Se[0].length=Se[1].length=$e+2,[Math.min(...Se[0]),Math.min(...Se[1]),Math.max(...Se[0]),Math.max(...Se[1])]}}o.Util=Ee;const Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function oe(z){if(z[0]>=""){let u;if(z[0]===""&&z[1]===""?u="utf-16be":z[0]===""&&z[1]===""?u="utf-16le":z[0]===""&&z[1]===""&&z[2]===""&&(u="utf-8"),u)try{const Ae=new TextDecoder(u,{fatal:!0}),Ne=U(z);return Ae.decode(Ne)}catch(Ae){ue(`stringToPDFString: "${Ae}".`)}}const M=[];for(let u=0,Ae=z.length;u<Ae;u++){const Ne=Te[z.charCodeAt(u)];M.push(Ne?String.fromCharCode(Ne):z.charAt(u))}return M.join("")}function Re(z){return decodeURIComponent(escape(z))}function W(z){return unescape(encodeURIComponent(z))}function te(z){return typeof z=="object"&&(z==null?void 0:z.byteLength)!==void 0}function Pe(z,M){if(z.length!==M.length)return!1;for(let u=0,Ae=z.length;u<Ae;u++)if(z[u]!==M[u])return!1;return!0}function Oe(z=new Date){return[z.getUTCFullYear().toString(),(z.getUTCMonth()+1).toString().padStart(2,"0"),z.getUTCDate().toString().padStart(2,"0"),z.getUTCHours().toString().padStart(2,"0"),z.getUTCMinutes().toString().padStart(2,"0"),z.getUTCSeconds().toString().padStart(2,"0")].join("")}class qe{constructor(){Me(this,ce,!1);this.promise=new Promise((M,u)=>{this.resolve=Ae=>{xe(this,ce,!0),M(Ae)},this.reject=Ae=>{xe(this,ce,!0),u(Ae)}})}get settled(){return P(this,ce)}}ce=new WeakMap,o.PromiseCapability=qe;let De=null,Y=null;function e(z){return De||(De=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Y=new Map([["","t"]])),z.replaceAll(De,(M,u,Ae)=>u?u.normalize("NFKC"):Y.get(Ae))}function h(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const z=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(z);else for(let M=0;M<32;M++)z[M]=Math.floor(Math.random()*255);return B(z)}const Z="pdfjs_internal_id_";o.AnnotationPrefix=Z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,$,n,L,st,vt,N,b,A,t,S,F,R,C,j,bt,r,d,xt,v,l;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(p){if(typeof p=="string"||p instanceof URL?p={url:p}:(0,_util.isArrayBuffer)(p)&&(p={data:p}),typeof p!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!p.url&&!p.data&&!p.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const w=new PDFDocumentLoadingTask,{docId:O}=w,J=p.url?getUrlProp(p.url):null,q=p.data?getDataProp(p.data):null,E=p.httpHeaders||null,G=p.withCredentials===!0,ge=p.password??null,fe=p.range instanceof PDFDataRangeTransport?p.range:null,_e=Number.isInteger(p.rangeChunkSize)&&p.rangeChunkSize>0?p.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ue=p.worker instanceof PDFWorker?p.worker:null;const ye=p.verbosity,K=typeof p.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(p.docBaseUrl)?p.docBaseUrl:null,Q=typeof p.cMapUrl=="string"?p.cMapUrl:null,le=p.cMapPacked!==!1,X=p.CMapReaderFactory||DefaultCMapReaderFactory,f=typeof p.standardFontDataUrl=="string"?p.standardFontDataUrl:null,a=p.StandardFontDataFactory||DefaultStandardFontDataFactory,g=p.stopAtErrors!==!0,y=Number.isInteger(p.maxImageSize)&&p.maxImageSize>-1?p.maxImageSize:-1,k=p.isEvalSupported!==!1,D=typeof p.isOffscreenCanvasSupported=="boolean"?p.isOffscreenCanvasSupported:!_util.isNodeJS,ee=Number.isInteger(p.canvasMaxAreaInBytes)?p.canvasMaxAreaInBytes:-1,se=typeof p.disableFontFace=="boolean"?p.disableFontFace:_util.isNodeJS,B=p.fontExtraProperties===!0,U=p.enableXfa===!0,he=p.ownerDocument||globalThis.document,we=p.disableRange===!0,Ie=p.disableStream===!0,me=p.disableAutoFetch===!0,ve=p.pdfBug===!0,re=fe?fe.length:p.length??NaN,ne=typeof p.useSystemFonts=="boolean"?p.useSystemFonts:!_util.isNodeJS&&!se,Ee=typeof p.useWorkerFetch=="boolean"?p.useWorkerFetch:X===_display_utils.DOMCMapReaderFactory&&a===_display_utils.DOMStandardFontDataFactory&&Q&&f&&(0,_display_utils.isValidFetchUrl)(Q,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(f,document.baseURI),Te=p.canvasFactory||new DefaultCanvasFactory({ownerDocument:he}),oe=p.filterFactory||new DefaultFilterFactory({docId:O,ownerDocument:he}),Re=null;(0,_util.setVerbosityLevel)(ye);const W={canvasFactory:Te,filterFactory:oe};if(Ee||(W.cMapReaderFactory=new X({baseUrl:Q,isCompressed:le}),W.standardFontDataFactory=new a({baseUrl:f})),!ue){const Oe={verbosity:ye,port:_worker_options.GlobalWorkerOptions.workerPort};ue=Oe.port?PDFWorker.fromPort(Oe):new PDFWorker(Oe),w._worker=ue}const te={docId:O,apiVersion:"3.11.174",data:q,password:ge,disableAutoFetch:me,rangeChunkSize:_e,length:re,docBaseUrl:K,enableXfa:U,evaluatorOptions:{maxImageSize:y,disableFontFace:se,ignoreErrors:g,isEvalSupported:k,isOffscreenCanvasSupported:D,canvasMaxAreaInBytes:ee,fontExtraProperties:B,useSystemFonts:ne,cMapUrl:Ee?Q:null,standardFontDataUrl:Ee?f:null}},Pe={ignoreErrors:g,isEvalSupported:k,disableFontFace:se,fontExtraProperties:B,enableXfa:U,ownerDocument:he,disableAutoFetch:me,pdfBug:ve,styleElement:Re};return ue.promise.then(function(){if(w.destroyed)throw new Error("Loading aborted");const Oe=_fetchDocument(ue,te),qe=new Promise(function(De){let Y;fe?Y=new _transport_stream.PDFDataTransportStream({length:re,initialData:fe.initialData,progressiveDone:fe.progressiveDone,contentDispositionFilename:fe.contentDispositionFilename,disableRange:we,disableStream:Ie},fe):q||(Y=(h=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(h):(0,_display_utils.isValidFetchUrl)(h.url)?new _displayFetch_stream.PDFFetchStream(h):new _displayNetwork.PDFNetworkStream(h))({url:J,length:re,httpHeaders:E,withCredentials:G,rangeChunkSize:_e,disableRange:we,disableStream:Ie})),De(Y)});return Promise.all([Oe,qe]).then(function([De,Y]){if(w.destroyed)throw new Error("Loading aborted");const e=new _message_handler.MessageHandler(O,De,ue.port),h=new WorkerTransport(e,w,Y,Pe,W);w._transport=h,e.send("Ready",null)})}).catch(w._capability.reject),w}async function _fetchDocument(p,w){if(p.destroyed)throw new Error("Worker was destroyed");const O=await p.messageHandler.sendWithPromise("GetDocRequest",w,w.data?[w.data.buffer]:null);if(p.destroyed)throw new Error("Worker was destroyed");return O}function getUrlProp(p){if(p instanceof URL)return p.href;try{return new URL(p,window.location).href}catch{if(_util.isNodeJS&&typeof p=="string")return p}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(p){if(_util.isNodeJS&&typeof Buffer<"u"&&p instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength)return p;if(typeof p=="string")return(0,_util.stringToBytes)(p);if(typeof p=="object"&&!isNaN(p==null?void 0:p.length)||(0,_util.isArrayBuffer)(p))return new Uint8Array(p);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const o=class o{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ht(o,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var w,O,J;this.destroyed=!0;try{(w=this._worker)!=null&&w.port&&(this._worker._pendingDestroy=!0),await((O=this._transport)==null?void 0:O.destroy())}catch(q){throw(J=this._worker)!=null&&J.port&&delete this._worker._pendingDestroy,q}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,Me(o,s,0);let PDFDocumentLoadingTask=o;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(w,O,J=!1,q=null){this.length=w,this.initialData=O,this.progressiveDone=J,this.contentDispositionFilename=q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(w){this._rangeListeners.push(w)}addProgressListener(w){this._progressListeners.push(w)}addProgressiveReadListener(w){this._progressiveReadListeners.push(w)}addProgressiveDoneListener(w){this._progressiveDoneListeners.push(w)}onDataRange(w,O){for(const J of this._rangeListeners)J(w,O)}onDataProgress(w,O){this._readyCapability.promise.then(()=>{for(const J of this._progressListeners)J(w,O)})}onDataProgressiveRead(w){this._readyCapability.promise.then(()=>{for(const O of this._progressiveReadListeners)O(w)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const w of this._progressiveDoneListeners)w()})}transportReady(){this._readyCapability.resolve()}requestDataRange(w,O){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(w,O){this._pdfInfo=w,this._transport=O,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(J=>{if(!J)return J;const q=[];for(const E in J)q.push(...J[E]);return q}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(w){return this._transport.getPage(w)}getPageIndex(w){return this._transport.getPageIndex(w)}getDestinations(){return this._transport.getDestinations()}getDestination(w){return this._transport.getDestination(w)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(w=!1){return this._transport.startCleanup(w||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(w,O,J,q=!1){Me(this,L);Me(this,$,null);Me(this,n,!1);this._pageIndex=w,this._pageInfo=O,this._transport=J,this._stats=q?new _display_utils.StatTimer:null,this._pdfBug=q,this.commonObjs=J.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:w,rotation:O=this.rotate,offsetX:J=0,offsetY:q=0,dontFlip:E=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:w,rotation:O,offsetX:J,offsetY:q,dontFlip:E})}getAnnotations({intent:w="display"}={}){const O=this._transport.getRenderingIntent(w);return this._transport.getAnnotations(this._pageIndex,O.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var w;return((w=this._transport._htmlForXfa)==null?void 0:w.children[this._pageIndex])||null}render({canvasContext:w,viewport:O,intent:J="display",annotationMode:q=_util.AnnotationMode.ENABLE,transform:E=null,background:G=null,optionalContentConfigPromise:ge=null,annotationCanvasMap:fe=null,pageColors:_e=null,printAnnotationStorage:ue=null}){var a,g;(a=this._stats)==null||a.time("Overall");const ye=this._transport.getRenderingIntent(J,q,ue);xe(this,n,!1),Ce(this,L,vt).call(this),ge||(ge=this._transport.getOptionalContentConfig());let K=this._intentStates.get(ye.cacheKey);K||(K=Object.create(null),this._intentStates.set(ye.cacheKey,K)),K.streamReaderCancelTimeout&&(clearTimeout(K.streamReaderCancelTimeout),K.streamReaderCancelTimeout=null);const Q=!!(ye.renderingIntent&_util.RenderingIntentFlag.PRINT);K.displayReadyCapability||(K.displayReadyCapability=new _util.PromiseCapability,K.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(ye));const le=y=>{var k,D;K.renderTasks.delete(X),(this._maybeCleanupAfterRender||Q)&&xe(this,n,!0),Ce(this,L,st).call(this,!Q),y?(X.capability.reject(y),this._abortOperatorList({intentState:K,reason:y instanceof Error?y:new Error(y)})):X.capability.resolve(),(k=this._stats)==null||k.timeEnd("Rendering"),(D=this._stats)==null||D.timeEnd("Overall")},X=new InternalRenderTask({callback:le,params:{canvasContext:w,viewport:O,transform:E,background:G},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:fe,operatorList:K.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Q,pdfBug:this._pdfBug,pageColors:_e});(K.renderTasks||(K.renderTasks=new Set)).add(X);const f=X.task;return Promise.all([K.displayReadyCapability.promise,ge]).then(([y,k])=>{var D;if(this.destroyed){le();return}(D=this._stats)==null||D.time("Rendering"),X.initializeGraphics({transparency:y,optionalContentConfig:k}),X.operatorListChanged()}).catch(le),f}getOperatorList({intent:w="display",annotationMode:O=_util.AnnotationMode.ENABLE,printAnnotationStorage:J=null}={}){var fe;function q(){G.operatorList.lastChunk&&(G.opListReadCapability.resolve(G.operatorList),G.renderTasks.delete(ge))}const E=this._transport.getRenderingIntent(w,O,J,!0);let G=this._intentStates.get(E.cacheKey);G||(G=Object.create(null),this._intentStates.set(E.cacheKey,G));let ge;return G.opListReadCapability||(ge=Object.create(null),ge.operatorListChanged=q,G.opListReadCapability=new _util.PromiseCapability,(G.renderTasks||(G.renderTasks=new Set)).add(ge),G.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(fe=this._stats)==null||fe.time("Page Request"),this._pumpOperatorList(E)),G.opListReadCapability.promise}streamTextContent({includeMarkedContent:w=!1,disableNormalization:O=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:w===!0,disableNormalization:O===!0},{highWaterMark:100,size(q){return q.items.length}})}getTextContent(w={}){if(this._transport._htmlForXfa)return this.getXfa().then(J=>_xfa_text.XfaText.textContent(J));const O=this.streamTextContent(w);return new Promise(function(J,q){function E(){G.read().then(function({value:fe,done:_e}){if(_e){J(ge);return}Object.assign(ge.styles,fe.styles),ge.items.push(...fe.items),E()},q)}const G=O.getReader(),ge={items:[],styles:Object.create(null)};E()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const w=[];for(const O of this._intentStates.values())if(this._abortOperatorList({intentState:O,reason:new Error("Page was destroyed."),force:!0}),!O.opListReadCapability)for(const J of O.renderTasks)w.push(J.completed),J.cancel();return this.objs.clear(),xe(this,n,!1),Ce(this,L,vt).call(this),Promise.all(w)}cleanup(w=!1){xe(this,n,!0);const O=Ce(this,L,st).call(this,!1);return w&&O&&this._stats&&(this._stats=new _display_utils.StatTimer),O}_startRenderPage(w,O){var q,E;const J=this._intentStates.get(O);J&&((q=this._stats)==null||q.timeEnd("Page Request"),(E=J.displayReadyCapability)==null||E.resolve(w))}_renderPageChunk(w,O){for(let J=0,q=w.length;J<q;J++)O.operatorList.fnArray.push(w.fnArray[J]),O.operatorList.argsArray.push(w.argsArray[J]);O.operatorList.lastChunk=w.lastChunk,O.operatorList.separateAnnots=w.separateAnnots;for(const J of O.renderTasks)J.operatorListChanged();w.lastChunk&&Ce(this,L,st).call(this,!0)}_pumpOperatorList({renderingIntent:w,cacheKey:O,annotationStorageSerializable:J}){const{map:q,transfers:E}=J,ge=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:w,cacheKey:O,annotationStorage:q},E).getReader(),fe=this._intentStates.get(O);fe.streamReader=ge;const _e=()=>{ge.read().then(({value:ue,done:ye})=>{if(ye){fe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ue,fe),_e())},ue=>{if(fe.streamReader=null,!this._transport.destroyed){if(fe.operatorList){fe.operatorList.lastChunk=!0;for(const ye of fe.renderTasks)ye.operatorListChanged();Ce(this,L,st).call(this,!0)}if(fe.displayReadyCapability)fe.displayReadyCapability.reject(ue);else if(fe.opListReadCapability)fe.opListReadCapability.reject(ue);else throw ue}})};_e()}_abortOperatorList({intentState:w,reason:O,force:J=!1}){if(w.streamReader){if(w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null),!J){if(w.renderTasks.size>0)return;if(O instanceof _display_utils.RenderingCancelledException){let q=RENDERING_CANCELLED_TIMEOUT;O.extraDelay>0&&O.extraDelay<1e3&&(q+=O.extraDelay),w.streamReaderCancelTimeout=setTimeout(()=>{w.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:w,reason:O,force:!0})},q);return}}if(w.streamReader.cancel(new _util.AbortException(O.message)).catch(()=>{}),w.streamReader=null,!this._transport.destroyed){for(const[q,E]of this._intentStates)if(E===w){this._intentStates.delete(q);break}this.cleanup()}}}get stats(){return this._stats}}$=new WeakMap,n=new WeakMap,L=new WeakSet,st=function(w=!1){if(Ce(this,L,vt).call(this),!P(this,n)||this.destroyed)return!1;if(w)return xe(this,$,setTimeout(()=>{xe(this,$,null),Ce(this,L,st).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:O,operatorList:J}of this._intentStates.values())if(O.size>0||!J.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),xe(this,n,!1),!0},vt=function(){P(this,$)&&(clearTimeout(P(this,$)),xe(this,$,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Me(this,N,new Set);Me(this,b,Promise.resolve())}postMessage(w,O){const J={data:structuredClone(w,O?{transfer:O}:null)};P(this,b).then(()=>{for(const q of P(this,N))q.call(this,J)})}addEventListener(w,O){P(this,N).add(O)}removeEventListener(w,O){P(this,N).delete(O)}terminate(){P(this,N).clear()}}N=new WeakMap,b=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const p=(A=document==null?void 0:document.currentScript)==null?void 0:A.src;p&&(PDFWorkerUtil.fallbackWorkerSrc=p.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(p,w){let O;try{if(O=new URL(p),!O.origin||O.origin==="null")return!1}catch{return!1}const J=new URL(w,O);return O.origin===J.origin},PDFWorkerUtil.createCDNWrapper=function(p){const w=`importScripts("${p}");`;return URL.createObjectURL(new Blob([w]))}}const _PDFWorker=class _PDFWorker{constructor({name:p=null,port:w=null,verbosity:O=(0,_util.getVerbosityLevel)()}={}){var J;if(this.name=p,this.destroyed=!1,this.verbosity=O,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,w){if((J=P(_PDFWorker,t))!=null&&J.has(w))throw new Error("Cannot use more than one PDFWorker per port.");(P(_PDFWorker,t)||xe(_PDFWorker,t,new WeakMap)).set(w,this),this._initializeFromPort(w);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(p){this._port=p,this._messageHandler=new _message_handler.MessageHandler("main","worker",p),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:p}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,p)||(p=PDFWorkerUtil.createCDNWrapper(new URL(p,window.location).href));const w=new Worker(p),O=new _message_handler.MessageHandler("main","worker",w),J=()=>{w.removeEventListener("error",q),O.destroy(),w.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},q=()=>{this._webWorker||J()};w.addEventListener("error",q),O.on("test",G=>{if(w.removeEventListener("error",q),this.destroyed){J();return}G?(this._messageHandler=O,this._port=w,this._webWorker=w,this._readyCapability.resolve(),O.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),O.destroy(),w.terminate())}),O.on("ready",G=>{if(w.removeEventListener("error",q),this.destroyed){J();return}try{E()}catch{this._setupFakeWorker()}});const E=()=>{const G=new Uint8Array;O.send("test",G,[G.buffer])};E();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(p=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const w=new LoopbackPort;this._port=w;const O=`fake${PDFWorkerUtil.fakeWorkerId++}`,J=new _message_handler.MessageHandler(O+"_worker",O,w);p.setup(J,w);const q=new _message_handler.MessageHandler(O,O+"_worker",w);this._messageHandler=q,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})}).catch(p=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${p.message}".`))})}destroy(){var p;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(p=P(_PDFWorker,t))==null||p.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(p){var O;if(!(p!=null&&p.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const w=(O=P(this,t))==null?void 0:O.get(p.port);if(w){if(w._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return w}return new _PDFWorker(p)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var p;try{return((p=globalThis.pdfjsWorker)==null?void 0:p.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};t=new WeakMap,Me(_PDFWorker,t);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(w,O,J,q,E){Me(this,j);Me(this,S,new Map);Me(this,F,new Map);Me(this,R,new Map);Me(this,C,null);this.messageHandler=w,this.loadingTask=O,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:q.ownerDocument,styleElement:q.styleElement}),this._params=q,this.canvasFactory=E.canvasFactory,this.filterFactory=E.filterFactory,this.cMapReaderFactory=E.cMapReaderFactory,this.standardFontDataFactory=E.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=J,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(w,O=_util.AnnotationMode.ENABLE,J=null,q=!1){let E=_util.RenderingIntentFlag.DISPLAY,G=_annotation_storage.SerializableEmpty;switch(w){case"any":E=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":E=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${w}`)}switch(O){case _util.AnnotationMode.DISABLE:E+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:E+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:E+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,G=(E&_util.RenderingIntentFlag.PRINT&&J instanceof _annotation_storage.PrintAnnotationStorage?J:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${O}`)}return q&&(E+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:E,cacheKey:`${E}_${G.hash}`,annotationStorageSerializable:G}}destroy(){var J;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(J=P(this,C))==null||J.reject(new Error("Worker was destroyed during onPassword callback"));const w=[];for(const q of P(this,F).values())w.push(q._destroy());P(this,F).clear(),P(this,R).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const O=this.messageHandler.sendWithPromise("Terminate",null);return w.push(O),Promise.all(w).then(()=>{var q;this.commonObjs.clear(),this.fontLoader.clear(),P(this,S).clear(),this.filterFactory.destroy(),(q=this._networkStream)==null||q.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:w,loadingTask:O}=this;w.on("GetReader",(J,q)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=E=>{this._lastProgress={loaded:E.loaded,total:E.total}},q.onPull=()=>{this._fullReader.read().then(function({value:E,done:G}){if(G){q.close();return}(0,_util.assert)(E instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(E),1,[E])}).catch(E=>{q.error(E)})},q.onCancel=E=>{this._fullReader.cancel(E),q.ready.catch(G=>{if(!this.destroyed)throw G})}}),w.on("ReaderHeadersReady",J=>{const q=new _util.PromiseCapability,E=this._fullReader;return E.headersReady.then(()=>{var G;(!E.isStreamingSupported||!E.isRangeSupported)&&(this._lastProgress&&((G=O.onProgress)==null||G.call(O,this._lastProgress)),E.onProgress=ge=>{var fe;(fe=O.onProgress)==null||fe.call(O,{loaded:ge.loaded,total:ge.total})}),q.resolve({isStreamingSupported:E.isStreamingSupported,isRangeSupported:E.isRangeSupported,contentLength:E.contentLength})},q.reject),q.promise}),w.on("GetRangeReader",(J,q)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const E=this._networkStream.getRangeReader(J.begin,J.end);if(!E){q.close();return}q.onPull=()=>{E.read().then(function({value:G,done:ge}){if(ge){q.close();return}(0,_util.assert)(G instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(G),1,[G])}).catch(G=>{q.error(G)})},q.onCancel=G=>{E.cancel(G),q.ready.catch(ge=>{if(!this.destroyed)throw ge})}}),w.on("GetDoc",({pdfInfo:J})=>{this._numPages=J.numPages,this._htmlForXfa=J.htmlForXfa,delete J.htmlForXfa,O._capability.resolve(new PDFDocumentProxy(J,this))}),w.on("DocException",function(J){let q;switch(J.name){case"PasswordException":q=new _util.PasswordException(J.message,J.code);break;case"InvalidPDFException":q=new _util.InvalidPDFException(J.message);break;case"MissingPDFException":q=new _util.MissingPDFException(J.message);break;case"UnexpectedResponseException":q=new _util.UnexpectedResponseException(J.message,J.status);break;case"UnknownErrorException":q=new _util.UnknownErrorException(J.message,J.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}O._capability.reject(q)}),w.on("PasswordRequest",J=>{if(xe(this,C,new _util.PromiseCapability),O.onPassword){const q=E=>{E instanceof Error?P(this,C).reject(E):P(this,C).resolve({password:E})};try{O.onPassword(q,J.code)}catch(E){P(this,C).reject(E)}}else P(this,C).reject(new _util.PasswordException(J.message,J.code));return P(this,C).promise}),w.on("DataLoaded",J=>{var q;(q=O.onProgress)==null||q.call(O,{loaded:J.length,total:J.length}),this.downloadInfoCapability.resolve(J)}),w.on("StartRenderPage",J=>{if(this.destroyed)return;P(this,F).get(J.pageIndex)._startRenderPage(J.transparency,J.cacheKey)}),w.on("commonobj",([J,q,E])=>{var G;if(!this.destroyed&&!this.commonObjs.has(J))switch(q){case"Font":const ge=this._params;if("error"in E){const ue=E.error;(0,_util.warn)(`Error during font loading: ${ue}`),this.commonObjs.resolve(J,ue);break}const fe=ge.pdfBug&&((G=globalThis.FontInspector)!=null&&G.enabled)?(ue,ye)=>globalThis.FontInspector.fontAdded(ue,ye):null,_e=new _font_loader.FontFaceObject(E,{isEvalSupported:ge.isEvalSupported,disableFontFace:ge.disableFontFace,ignoreErrors:ge.ignoreErrors,inspectFont:fe});this.fontLoader.bind(_e).catch(ue=>w.sendWithPromise("FontFallback",{id:J})).finally(()=>{!ge.fontExtraProperties&&_e.data&&(_e.data=null),this.commonObjs.resolve(J,_e)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(J,E);break;default:throw new Error(`Got unknown common object type ${q}`)}}),w.on("obj",([J,q,E,G])=>{var fe;if(this.destroyed)return;const ge=P(this,F).get(q);if(!ge.objs.has(J))switch(E){case"Image":if(ge.objs.resolve(J,G),G){let _e;if(G.bitmap){const{width:ue,height:ye}=G;_e=ue*ye*4}else _e=((fe=G.data)==null?void 0:fe.length)||0;_e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(ge._maybeCleanupAfterRender=!0)}break;case"Pattern":ge.objs.resolve(J,G);break;default:throw new Error(`Got unknown object type ${E}`)}}),w.on("DocProgress",J=>{var q;this.destroyed||(q=O.onProgress)==null||q.call(O,{loaded:J.loaded,total:J.total})}),w.on("FetchBuiltInCMap",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(J):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),w.on("FetchStandardFontData",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(J):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var J;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:w,transfers:O}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:w,filename:((J=this._fullReader)==null?void 0:J.filename)??null},O).finally(()=>{this.annotationStorage.resetModified()})}getPage(w){if(!Number.isInteger(w)||w<=0||w>this._numPages)return Promise.reject(new Error("Invalid page request."));const O=w-1,J=P(this,R).get(O);if(J)return J;const q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:O}).then(E=>{if(this.destroyed)throw new Error("Transport destroyed");const G=new PDFPageProxy(O,E,this,this._params.pdfBug);return P(this,F).set(O,G),G});return P(this,R).set(O,q),q}getPageIndex(w){return typeof w!="object"||w===null||!Number.isInteger(w.num)||w.num<0||!Number.isInteger(w.gen)||w.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:w.num,gen:w.gen})}getAnnotations(w,O){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:w,intent:O})}getFieldObjects(){return Ce(this,j,bt).call(this,"GetFieldObjects")}hasJSActions(){return Ce(this,j,bt).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(w){return typeof w!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:w})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ce(this,j,bt).call(this,"GetDocJSActions")}getPageJSActions(w){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:w})}getStructTree(w){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:w})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(w=>new _optional_content_config.OptionalContentConfig(w))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const w="GetMetadata",O=P(this,S).get(w);if(O)return O;const J=this.messageHandler.sendWithPromise(w,null).then(q=>{var E,G;return{info:q[0],metadata:q[1]?new _metadata.Metadata(q[1]):null,contentDispositionFilename:((E=this._fullReader)==null?void 0:E.filename)??null,contentLength:((G=this._fullReader)==null?void 0:G.contentLength)??null}});return P(this,S).set(w,J),J}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(w=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const O of P(this,F).values())if(!O.cleanup())throw new Error(`startCleanup: Page ${O.pageNumber} is currently rendering.`);this.commonObjs.clear(),w||this.fontLoader.clear(),P(this,S).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:w,enableXfa:O}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:w,enableXfa:O})}}S=new WeakMap,F=new WeakMap,R=new WeakMap,C=new WeakMap,j=new WeakSet,bt=function(w,O=null){const J=P(this,S).get(w);if(J)return J;const q=this.messageHandler.sendWithPromise(w,O);return P(this,S).set(w,q),q};class PDFObjects{constructor(){Me(this,d);Me(this,r,Object.create(null))}get(w,O=null){if(O){const q=Ce(this,d,xt).call(this,w);return q.capability.promise.then(()=>O(q.data)),null}const J=P(this,r)[w];if(!(J!=null&&J.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${w}.`);return J.data}has(w){const O=P(this,r)[w];return(O==null?void 0:O.capability.settled)||!1}resolve(w,O=null){const J=Ce(this,d,xt).call(this,w);J.data=O,J.capability.resolve()}clear(){var w;for(const O in P(this,r)){const{data:J}=P(this,r)[O];(w=J==null?void 0:J.bitmap)==null||w.close()}xe(this,r,Object.create(null))}}r=new WeakMap,d=new WeakSet,xt=function(w){var O;return(O=P(this,r))[w]||(O[w]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(w){Me(this,v,null);xe(this,v,w),this.onContinue=null}get promise(){return P(this,v).capability.promise}cancel(w=0){P(this,v).cancel(null,w)}get separateAnnots(){const{separateAnnots:w}=P(this,v).operatorList;if(!w)return!1;const{annotationCanvasMap:O}=P(this,v);return w.form||w.canvas&&(O==null?void 0:O.size)>0}}v=new WeakMap,exports.RenderTask=RenderTask;const _=class _{constructor({callback:w,params:O,objs:J,commonObjs:q,annotationCanvasMap:E,operatorList:G,pageIndex:ge,canvasFactory:fe,filterFactory:_e,useRequestAnimationFrame:ue=!1,pdfBug:ye=!1,pageColors:K=null}){this.callback=w,this.params=O,this.objs=J,this.commonObjs=q,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=G,this._pageIndex=ge,this.canvasFactory=fe,this.filterFactory=_e,this._pdfBug=ye,this.pageColors=K,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ue===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=O.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:w=!1,optionalContentConfig:O}){var ge,fe;if(this.cancelled)return;if(this._canvas){if(P(_,l).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");P(_,l).add(this._canvas)}this._pdfBug&&((ge=globalThis.StepperManager)!=null&&ge.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:J,viewport:q,transform:E,background:G}=this.params;this.gfx=new _canvas.CanvasGraphics(J,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:O},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:E,viewport:q,transparency:w,background:G}),this.operatorListIdx=0,this.graphicsReady=!0,(fe=this.graphicsReadyCallback)==null||fe.call(this)}cancel(w=null,O=0){var J;this.running=!1,this.cancelled=!0,(J=this.gfx)==null||J.endDrawing(),P(_,l).delete(this._canvas),this.callback(w||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,O))}operatorListChanged(){var w;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(w=this.stepper)==null||w.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),P(_,l).delete(this._canvas),this.callback())))}};l=new WeakMap,Me(_,l,new WeakSet);let InternalRenderTask=_;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,o,$)=>{var A,t,S,mr,R;Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var n=$(1),L=$(4),T=$(8);const I=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=I;class N{constructor(){Me(this,S);Me(this,A,!1);Me(this,t,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(j,m){const r=P(this,t).get(j);return r===void 0?m:Object.assign(m,r)}getRawValue(j){return P(this,t).get(j)}remove(j){if(P(this,t).delete(j),P(this,t).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const m of P(this,t).values())if(m instanceof L.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(j,m){const r=P(this,t).get(j);let d=!1;if(r!==void 0)for(const[x,v]of Object.entries(m))r[x]!==v&&(d=!0,r[x]=v);else d=!0,P(this,t).set(j,m);d&&Ce(this,S,mr).call(this),m instanceof L.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(m.constructor._type)}has(j){return P(this,t).has(j)}getAll(){return P(this,t).size>0?(0,n.objectFromMap)(P(this,t)):null}setAll(j){for(const[m,r]of Object.entries(j))this.setValue(m,r)}get size(){return P(this,t).size}resetModified(){P(this,A)&&(xe(this,A,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(P(this,t).size===0)return I;const j=new Map,m=new T.MurmurHash3_64,r=[],d=Object.create(null);let x=!1;for(const[v,l]of P(this,t)){const _=l instanceof L.AnnotationEditor?l.serialize(!1,d):l;_&&(j.set(v,_),m.update(`${v}:${JSON.stringify(_)}`),x||(x=!!_.bitmap))}if(x)for(const v of j.values())v.bitmap&&r.push(v.bitmap);return j.size>0?{map:j,hash:m.hexdigest(),transfers:r}:I}}A=new WeakMap,t=new WeakMap,S=new WeakSet,mr=function(){P(this,A)||(xe(this,A,!0),typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=N;class b extends N{constructor(m){super();Me(this,R);const{map:r,hash:d,transfers:x}=m.serializable,v=structuredClone(r,x?{transfer:x}:null);xe(this,R,{map:v,hash:d,transfers:x})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return P(this,R)}}R=new WeakMap,o.PrintAnnotationStorage=b},(s,o,$)=>{var b,A,t,S,F,R,C,j,m,r,d,x,v,l,_,Lt,Dt,O,qt,Nt,yr,_r,vr,Bt,br;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var n=$(5),L=$(1),T=$(6);const ue=class ue{constructor(K){Me(this,_);Me(this,b,"");Me(this,A,!1);Me(this,t,null);Me(this,S,null);Me(this,F,null);Me(this,R,!1);Me(this,C,null);Me(this,j,this.focusin.bind(this));Me(this,m,this.focusout.bind(this));Me(this,r,!1);Me(this,d,!1);Me(this,x,!1);Je(this,"_initialOptions",Object.create(null));Je(this,"_uiManager",null);Je(this,"_focusEventsAllowed",!0);Je(this,"_l10nPromise",null);Me(this,v,!1);Me(this,l,ue._zIndex++);this.constructor===ue&&(0,L.unreachable)("Cannot initialize AnnotationEditor."),this.parent=K.parent,this.id=K.id,this.width=this.height=null,this.pageIndex=K.parent.pageIndex,this.name=K.name,this.div=null,this._uiManager=K.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=K.isCentered,this._structTreeParentId=null;const{rotation:Q,rawDims:{pageWidth:le,pageHeight:X,pageX:f,pageY:a}}=this.parent.viewport;this.rotation=Q,this.pageRotation=(360+Q-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[le,X],this.pageTranslation=[f,a];const[g,y]=this.parentDimensions;this.x=K.x/g,this.y=K.y/y,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,L.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(K){const Q=new N({id:K.parent.getNextId(),parent:K.parent,uiManager:K._uiManager});Q.annotationElementId=K.annotationElementId,Q.deleted=!0,Q._uiManager.addToAnnotationStorage(Q)}static initialize(K,Q=null){if(ue._l10nPromise||(ue._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(X=>[X,K.get(X)]))),Q!=null&&Q.strings)for(const X of Q.strings)ue._l10nPromise.set(X,K.get(X));if(ue._borderLineWidth!==-1)return;const le=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(le.getPropertyValue("--outline-width"))||0}static updateDefaultParams(K,Q){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(K){return!1}static paste(K,Q){(0,L.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return P(this,v)}set _isDraggable(K){var Q;xe(this,v,K),(Q=this.div)==null||Q.classList.toggle("draggable",K)}center(){const[K,Q]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Q/(K*2),this.y+=this.width*K/(Q*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Q/(K*2),this.y-=this.width*K/(Q*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(K){this._uiManager.addCommands(K)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=P(this,l)}setParent(K){K!==null&&(this.pageIndex=K.pageIndex,this.pageDimensions=K.pageDimensions),this.parent=K}focusin(K){this._focusEventsAllowed&&(P(this,r)?xe(this,r,!1):this.parent.setSelected(this))}focusout(K){var le;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Q=K.relatedTarget;Q!=null&&Q.closest(`#${this.id}`)||(K.preventDefault(),(le=this.parent)!=null&&le.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(K,Q,le,X){const[f,a]=this.parentDimensions;[le,X]=this.screenToPageTranslation(le,X),this.x=(K+le)/f,this.y=(Q+X)/a,this.fixAndSetPosition()}translate(K,Q){Ce(this,_,Lt).call(this,this.parentDimensions,K,Q)}translateInPage(K,Q){Ce(this,_,Lt).call(this,this.pageDimensions,K,Q),this.div.scrollIntoView({block:"nearest"})}drag(K,Q){const[le,X]=this.parentDimensions;if(this.x+=K/le,this.y+=Q/X,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:k,y:D}=this.div.getBoundingClientRect();this.parent.findNewParent(this,k,D)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:f,y:a}=this;const[g,y]=Ce(this,_,Dt).call(this);f+=g,a+=y,this.div.style.left=`${(100*f).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[K,Q]=this.pageDimensions;let{x:le,y:X,width:f,height:a}=this;switch(f*=K,a*=Q,le*=K,X*=Q,this.rotation){case 0:le=Math.max(0,Math.min(K-f,le)),X=Math.max(0,Math.min(Q-a,X));break;case 90:le=Math.max(0,Math.min(K-a,le)),X=Math.min(Q,Math.max(f,X));break;case 180:le=Math.min(K,Math.max(f,le)),X=Math.min(Q,Math.max(a,X));break;case 270:le=Math.min(K,Math.max(a,le)),X=Math.max(0,Math.min(Q-f,X));break}this.x=le/=K,this.y=X/=Q;const[g,y]=Ce(this,_,Dt).call(this);le+=g,X+=y;const{style:k}=this.div;k.left=`${(100*le).toFixed(2)}%`,k.top=`${(100*X).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(K,Q){var le;return Ce(le=ue,O,qt).call(le,K,Q,this.parentRotation)}pageTranslationToScreen(K,Q){var le;return Ce(le=ue,O,qt).call(le,K,Q,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:K,pageDimensions:[Q,le]}=this,X=Q*K,f=le*K;return L.FeatureTest.isCSSRoundSupported?[Math.round(X),Math.round(f)]:[X,f]}setDims(K,Q){var f;const[le,X]=this.parentDimensions;this.div.style.width=`${(100*K/le).toFixed(2)}%`,P(this,R)||(this.div.style.height=`${(100*Q/X).toFixed(2)}%`),(f=P(this,t))==null||f.classList.toggle("small",K<ue.SMALL_EDITOR_SIZE||Q<ue.SMALL_EDITOR_SIZE)}fixDims(){const{style:K}=this.div,{height:Q,width:le}=K,X=le.endsWith("%"),f=!P(this,R)&&Q.endsWith("%");if(X&&f)return;const[a,g]=this.parentDimensions;X||(K.width=`${(100*parseFloat(le)/a).toFixed(2)}%`),!P(this,R)&&!f&&(K.height=`${(100*parseFloat(Q)/g).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(P(this,t))return;const K=xe(this,t,document.createElement("button"));K.className="altText";const Q=await ue._l10nPromise.get("editor_alt_text_button_label");K.textContent=Q,K.setAttribute("aria-label",Q),K.tabIndex="0",K.addEventListener("contextmenu",T.noContextMenu),K.addEventListener("pointerdown",le=>le.stopPropagation()),K.addEventListener("click",le=>{le.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),K.addEventListener("keydown",le=>{le.target===K&&le.key==="Enter"&&(le.preventDefault(),this._uiManager.editAltText(this))}),Ce(this,_,Bt).call(this),this.div.append(K),ue.SMALL_EDITOR_SIZE||(ue.SMALL_EDITOR_SIZE=Math.min(128,Math.round(K.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:P(this,b),decorative:P(this,A)}}set altTextData({altText:K,decorative:Q}){P(this,b)===K&&P(this,A)===Q||(xe(this,b,K),xe(this,A,Q),Ce(this,_,Bt).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",P(this,j)),this.div.addEventListener("focusout",P(this,m));const[K,Q]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Q/K).toFixed(2)}%`,this.div.style.maxHeight=`${(100*K/Q).toFixed(2)}%`);const[le,X]=this.getInitialTranslation();return this.translate(le,X),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(K){const{isMac:Q}=L.FeatureTest.platform;if(K.button!==0||K.ctrlKey&&Q){K.preventDefault();return}xe(this,r,!0),Ce(this,_,br).call(this,K)}moveInDOM(){var K;(K=this.parent)==null||K.moveEditorInDOM(this)}_setParentAndPosition(K,Q,le){K.changeParent(this),this.x=Q,this.y=le,this.fixAndSetPosition()}getRect(K,Q){const le=this.parentScale,[X,f]=this.pageDimensions,[a,g]=this.pageTranslation,y=K/le,k=Q/le,D=this.x*X,ee=this.y*f,se=this.width*X,B=this.height*f;switch(this.rotation){case 0:return[D+y+a,f-ee-k-B+g,D+y+se+a,f-ee-k+g];case 90:return[D+k+a,f-ee+y+g,D+k+B+a,f-ee+y+se+g];case 180:return[D-y-se+a,f-ee+k+g,D-y+a,f-ee+k+B+g];case 270:return[D-k-B+a,f-ee-y-se+g,D-k+a,f-ee-y+g];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(K,Q){const[le,X,f,a]=K,g=f-le,y=a-X;switch(this.rotation){case 0:return[le,Q-a,g,y];case 90:return[le,Q-X,y,g];case 180:return[f,Q-X,g,y];case 270:return[f,Q-a,y,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){xe(this,x,!0)}disableEditMode(){xe(this,x,!1)}isInEditMode(){return P(this,x)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var K,Q;(K=this.div)==null||K.addEventListener("focusin",P(this,j)),(Q=this.div)==null||Q.addEventListener("focusout",P(this,m))}serialize(K=!1,Q=null){(0,L.unreachable)("An editor must be serializable")}static deserialize(K,Q,le){const X=new this.prototype.constructor({parent:Q,id:Q.getNextId(),uiManager:le});X.rotation=K.rotation;const[f,a]=X.pageDimensions,[g,y,k,D]=X.getRectInCurrentCoords(K.rect,a);return X.x=g/f,X.y=y/a,X.width=k/f,X.height=D/a,X}remove(){var K;this.div.removeEventListener("focusin",P(this,j)),this.div.removeEventListener("focusout",P(this,m)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(K=P(this,t))==null||K.remove(),xe(this,t,null),xe(this,S,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ce(this,_,yr).call(this),P(this,C).classList.remove("hidden"))}select(){var K;this.makeResizable(),(K=this.div)==null||K.classList.add("selectedEditor")}unselect(){var K,Q,le;(K=P(this,C))==null||K.classList.add("hidden"),(Q=this.div)==null||Q.classList.remove("selectedEditor"),(le=this.div)!=null&&le.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(K,Q){}disableEditing(){P(this,t)&&(P(this,t).hidden=!0)}enableEditing(){P(this,t)&&(P(this,t).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return P(this,d)}set isEditing(K){xe(this,d,K),this.parent&&(K?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(K,Q){xe(this,R,!0);const le=K/Q,{style:X}=this.div;X.aspectRatio=le,X.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,A=new WeakMap,t=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakMap,C=new WeakMap,j=new WeakMap,m=new WeakMap,r=new WeakMap,d=new WeakMap,x=new WeakMap,v=new WeakMap,l=new WeakMap,_=new WeakSet,Lt=function([K,Q],le,X){[le,X]=this.screenToPageTranslation(le,X),this.x+=le/K,this.y+=X/Q,this.fixAndSetPosition()},Dt=function(){const[K,Q]=this.parentDimensions,{_borderLineWidth:le}=ue,X=le/K,f=le/Q;switch(this.rotation){case 90:return[-X,f];case 180:return[X,f];case 270:return[X,-f];default:return[-X,-f]}},O=new WeakSet,qt=function(K,Q,le){switch(le){case 90:return[Q,-K];case 180:return[-K,-Q];case 270:return[-Q,K];default:return[K,Q]}},Nt=function(K){switch(K){case 90:{const[Q,le]=this.pageDimensions;return[0,-Q/le,le/Q,0]}case 180:return[-1,0,0,-1];case 270:{const[Q,le]=this.pageDimensions;return[0,Q/le,-le/Q,0]}default:return[1,0,0,1]}},yr=function(){if(P(this,C))return;xe(this,C,document.createElement("div")),P(this,C).classList.add("resizers");const K=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||K.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Q of K){const le=document.createElement("div");P(this,C).append(le),le.classList.add("resizer",Q),le.addEventListener("pointerdown",Ce(this,_,_r).bind(this,Q)),le.addEventListener("contextmenu",T.noContextMenu)}this.div.prepend(P(this,C))},_r=function(K,Q){Q.preventDefault();const{isMac:le}=L.FeatureTest.platform;if(Q.button!==0||Q.ctrlKey&&le)return;const X=Ce(this,_,vr).bind(this,K),f=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};window.addEventListener("pointermove",X,a);const g=this.x,y=this.y,k=this.width,D=this.height,ee=this.parent.div.style.cursor,se=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Q.target).cursor;const B=()=>{this._isDraggable=f,window.removeEventListener("pointerup",B),window.removeEventListener("blur",B),window.removeEventListener("pointermove",X,a),this.parent.div.style.cursor=ee,this.div.style.cursor=se;const U=this.x,he=this.y,we=this.width,Ie=this.height;U===g&&he===y&&we===k&&Ie===D||this.addCommands({cmd:()=>{this.width=we,this.height=Ie,this.x=U,this.y=he;const[me,ve]=this.parentDimensions;this.setDims(me*we,ve*Ie),this.fixAndSetPosition()},undo:()=>{this.width=k,this.height=D,this.x=g,this.y=y;const[me,ve]=this.parentDimensions;this.setDims(me*k,ve*D),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",B),window.addEventListener("blur",B)},vr=function(K,Q){const[le,X]=this.parentDimensions,f=this.x,a=this.y,g=this.width,y=this.height,k=ue.MIN_SIZE/le,D=ue.MIN_SIZE/X,ee=e=>Math.round(e*1e4)/1e4,se=Ce(this,_,Nt).call(this,this.rotation),B=(e,h)=>[se[0]*e+se[2]*h,se[1]*e+se[3]*h],U=Ce(this,_,Nt).call(this,360-this.rotation),he=(e,h)=>[U[0]*e+U[2]*h,U[1]*e+U[3]*h];let we,Ie,me=!1,ve=!1;switch(K){case"topLeft":me=!0,we=(e,h)=>[0,0],Ie=(e,h)=>[e,h];break;case"topMiddle":we=(e,h)=>[e/2,0],Ie=(e,h)=>[e/2,h];break;case"topRight":me=!0,we=(e,h)=>[e,0],Ie=(e,h)=>[0,h];break;case"middleRight":ve=!0,we=(e,h)=>[e,h/2],Ie=(e,h)=>[0,h/2];break;case"bottomRight":me=!0,we=(e,h)=>[e,h],Ie=(e,h)=>[0,0];break;case"bottomMiddle":we=(e,h)=>[e/2,h],Ie=(e,h)=>[e/2,0];break;case"bottomLeft":me=!0,we=(e,h)=>[0,h],Ie=(e,h)=>[e,0];break;case"middleLeft":ve=!0,we=(e,h)=>[0,h/2],Ie=(e,h)=>[e,h/2];break}const re=we(g,y),ne=Ie(g,y);let Ee=B(...ne);const Te=ee(f+Ee[0]),oe=ee(a+Ee[1]);let Re=1,W=1,[te,Pe]=this.screenToPageTranslation(Q.movementX,Q.movementY);if([te,Pe]=he(te/le,Pe/X),me){const e=Math.hypot(g,y);Re=W=Math.max(Math.min(Math.hypot(ne[0]-re[0]-te,ne[1]-re[1]-Pe)/e,1/g,1/y),k/g,D/y)}else ve?Re=Math.max(k,Math.min(1,Math.abs(ne[0]-re[0]-te)))/g:W=Math.max(D,Math.min(1,Math.abs(ne[1]-re[1]-Pe)))/y;const Oe=ee(g*Re),qe=ee(y*W);Ee=B(...Ie(Oe,qe));const De=Te-Ee[0],Y=oe-Ee[1];this.width=Oe,this.height=qe,this.x=De,this.y=Y,this.setDims(le*Oe,X*qe),this.fixAndSetPosition()},Bt=async function(){var le;const K=P(this,t);if(!K)return;if(!P(this,b)&&!P(this,A)){K.classList.remove("done"),(le=P(this,S))==null||le.remove();return}ue._l10nPromise.get("editor_alt_text_edit_button_label").then(X=>{K.setAttribute("aria-label",X)});let Q=P(this,S);if(!Q){xe(this,S,Q=document.createElement("span")),Q.className="tooltip",Q.setAttribute("role","tooltip");const X=Q.id=`alt-text-tooltip-${this.id}`;K.setAttribute("aria-describedby",X);const f=100;K.addEventListener("mouseenter",()=>{xe(this,F,setTimeout(()=>{xe(this,F,null),P(this,S).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},f))}),K.addEventListener("mouseleave",()=>{var a;clearTimeout(P(this,F)),xe(this,F,null),(a=P(this,S))==null||a.classList.remove("show")})}K.classList.add("done"),Q.innerText=P(this,A)?await ue._l10nPromise.get("editor_alt_text_decorative_tooltip"):P(this,b),Q.parentNode||K.append(Q)},br=function(K){if(!this._isDraggable)return;const Q=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let le,X;Q&&(le={passive:!0,capture:!0},X=a=>{const[g,y]=this.screenToPageTranslation(a.movementX,a.movementY);this._uiManager.dragSelectedEditors(g,y)},window.addEventListener("pointermove",X,le));const f=()=>{if(window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),Q&&window.removeEventListener("pointermove",X,le),xe(this,r,!1),!this._uiManager.endDragSession()){const{isMac:a}=L.FeatureTest.platform;K.ctrlKey&&!a||K.shiftKey||K.metaKey&&a?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",f),window.addEventListener("blur",f)},Me(ue,O),Je(ue,"_borderLineWidth",-1),Je(ue,"_colorManager",new n.ColorManager),Je(ue,"_zIndex",1),Je(ue,"SMALL_EDITOR_SIZE",0);let I=ue;o.AnnotationEditor=I;class N extends I{constructor(K){super(K),this.annotationElementId=K.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,o,$)=>{var R,C,j,m,r,Ut,v,l,_,p,w,Ar,q,E,G,ge,fe,_e,ue,ye,K,Q,le,X,f,a,g,y,k,D,ee,se,B,U,he,we,Ie,me,ve,re,ne,Ee,Te,oe,Re,W,te,wr,jt,$t,At,Ht,Wt,tt,ft,Er,Sr,zt,dt,Gt;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=T,o.opacityToHex=I;var n=$(1),L=$(6);function T(c,H,pe){for(const V of pe)H.addEventListener(V,c[V].bind(c))}function I(c){return Math.round(Math.min(255,Math.max(1,255*c))).toString(16).padStart(2,"0")}class N{constructor(){Me(this,R,0)}getId(){return`${n.AnnotationEditorPrefix}${ht(this,R)._++}`}}R=new WeakMap;const x=class x{constructor(){Me(this,r);Me(this,C,(0,n.getUuid)());Me(this,j,0);Me(this,m,null)}static get _isSVGFittingCanvas(){const H='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',V=new OffscreenCanvas(1,3).getContext("2d"),de=new Image;de.src=H;const Se=de.decode().then(()=>(V.drawImage(de,0,0,1,1,0,0,1,3),new Uint32Array(V.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",Se)}async getFromFile(H){const{lastModified:pe,name:V,size:de,type:Se}=H;return Ce(this,r,Ut).call(this,`${pe}_${V}_${de}_${Se}`,H)}async getFromUrl(H){return Ce(this,r,Ut).call(this,H,H)}async getFromId(H){P(this,m)||xe(this,m,new Map);const pe=P(this,m).get(H);return pe?pe.bitmap?(pe.refCounter+=1,pe):pe.file?this.getFromFile(pe.file):this.getFromUrl(pe.url):null}getSvgUrl(H){const pe=P(this,m).get(H);return pe!=null&&pe.isSvg?pe.svgUrl:null}deleteId(H){P(this,m)||xe(this,m,new Map);const pe=P(this,m).get(H);pe&&(pe.refCounter-=1,pe.refCounter===0&&(pe.bitmap=null))}isValidId(H){return H.startsWith(`image_${P(this,C)}_`)}};C=new WeakMap,j=new WeakMap,m=new WeakMap,r=new WeakSet,Ut=async function(H,pe){P(this,m)||xe(this,m,new Map);let V=P(this,m).get(H);if(V===null)return null;if(V!=null&&V.bitmap)return V.refCounter+=1,V;try{V||(V={bitmap:null,id:`image_${P(this,C)}_${ht(this,j)._++}`,refCounter:0,isSvg:!1});let de;if(typeof pe=="string"){V.url=pe;const Se=await fetch(pe);if(!Se.ok)throw new Error(Se.statusText);de=await Se.blob()}else de=V.file=pe;if(de.type==="image/svg+xml"){const Se=x._isSVGFittingCanvas,Be=new FileReader,ae=new Image,ie=new Promise((be,Fe)=>{ae.onload=()=>{V.bitmap=ae,V.isSvg=!0,be()},Be.onload=async()=>{const ke=V.svgUrl=Be.result;ae.src=await Se?`${ke}#svgView(preserveAspectRatio(none))`:ke},ae.onerror=Be.onerror=Fe});Be.readAsDataURL(de),await ie}else V.bitmap=await createImageBitmap(de);V.refCounter=1}catch(de){console.error(de),V=null}return P(this,m).set(H,V),V&&P(this,m).set(V.id,V),V};let b=x;class A{constructor(H=128){Me(this,v,[]);Me(this,l,!1);Me(this,_);Me(this,p,-1);xe(this,_,H)}add({cmd:H,undo:pe,mustExec:V,type:de=NaN,overwriteIfSameType:Se=!1,keepUndo:Be=!1}){if(V&&H(),P(this,l))return;const ae={cmd:H,undo:pe,type:de};if(P(this,p)===-1){P(this,v).length>0&&(P(this,v).length=0),xe(this,p,0),P(this,v).push(ae);return}if(Se&&P(this,v)[P(this,p)].type===de){Be&&(ae.undo=P(this,v)[P(this,p)].undo),P(this,v)[P(this,p)]=ae;return}const ie=P(this,p)+1;ie===P(this,_)?P(this,v).splice(0,1):(xe(this,p,ie),ie<P(this,v).length&&P(this,v).splice(ie)),P(this,v).push(ae)}undo(){P(this,p)!==-1&&(xe(this,l,!0),P(this,v)[P(this,p)].undo(),xe(this,l,!1),xe(this,p,P(this,p)-1))}redo(){P(this,p)<P(this,v).length-1&&(xe(this,p,P(this,p)+1),xe(this,l,!0),P(this,v)[P(this,p)].cmd(),xe(this,l,!1))}hasSomethingToUndo(){return P(this,p)!==-1}hasSomethingToRedo(){return P(this,p)<P(this,v).length-1}destroy(){xe(this,v,null)}}v=new WeakMap,l=new WeakMap,_=new WeakMap,p=new WeakMap,o.CommandManager=A;class t{constructor(H){Me(this,w);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pe}=n.FeatureTest.platform;for(const[V,de,Se={}]of H)for(const Be of V){const ae=Be.startsWith("mac+");pe&&ae?(this.callbacks.set(Be.slice(4),{callback:de,options:Se}),this.allKeys.add(Be.split("+").at(-1))):!pe&&!ae&&(this.callbacks.set(Be,{callback:de,options:Se}),this.allKeys.add(Be.split("+").at(-1)))}}exec(H,pe){if(!this.allKeys.has(pe.key))return;const V=this.callbacks.get(Ce(this,w,Ar).call(this,pe));if(!V)return;const{callback:de,options:{bubbles:Se=!1,args:Be=[],checker:ae=null}}=V;ae&&!ae(H,pe)||(de.bind(H,...Be)(),Se||(pe.stopPropagation(),pe.preventDefault()))}}w=new WeakSet,Ar=function(H){H.altKey&&this.buffer.push("alt"),H.ctrlKey&&this.buffer.push("ctrl"),H.metaKey&&this.buffer.push("meta"),H.shiftKey&&this.buffer.push("shift"),this.buffer.push(H.key);const pe=this.buffer.join("+");return this.buffer.length=0,pe},o.KeyboardManager=t;const J=class J{get _colors(){const H=new Map([["CanvasText",null],["Canvas",null]]);return(0,L.getColorValues)(H),(0,n.shadow)(this,"_colors",H)}convert(H){const pe=(0,L.getRGB)(H);if(!window.matchMedia("(forced-colors: active)").matches)return pe;for(const[V,de]of this._colors)if(de.every((Se,Be)=>Se===pe[Be]))return J._colorsMapping.get(V);return pe}getHexCode(H){const pe=this._colors.get(H);return pe?n.Util.makeHexColor(...pe):H}};Je(J,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let S=J;o.ColorManager=S;const Ne=class Ne{constructor(H,pe,V,de,Se,Be){Me(this,te);Me(this,q,null);Me(this,E,new Map);Me(this,G,new Map);Me(this,ge,null);Me(this,fe,null);Me(this,_e,new A);Me(this,ue,0);Me(this,ye,new Set);Me(this,K,null);Me(this,Q,null);Me(this,le,new Set);Me(this,X,null);Me(this,f,new N);Me(this,a,!1);Me(this,g,!1);Me(this,y,null);Me(this,k,n.AnnotationEditorType.NONE);Me(this,D,new Set);Me(this,ee,null);Me(this,se,this.blur.bind(this));Me(this,B,this.focus.bind(this));Me(this,U,this.copy.bind(this));Me(this,he,this.cut.bind(this));Me(this,we,this.paste.bind(this));Me(this,Ie,this.keydown.bind(this));Me(this,me,this.onEditingAction.bind(this));Me(this,ve,this.onPageChanging.bind(this));Me(this,re,this.onScaleChanging.bind(this));Me(this,ne,this.onRotationChanging.bind(this));Me(this,Ee,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Me(this,Te,[0,0]);Me(this,oe,null);Me(this,Re,null);Me(this,W,null);xe(this,Re,H),xe(this,W,pe),xe(this,ge,V),this._eventBus=de,this._eventBus._on("editingaction",P(this,me)),this._eventBus._on("pagechanging",P(this,ve)),this._eventBus._on("scalechanging",P(this,re)),this._eventBus._on("rotationchanging",P(this,ne)),xe(this,fe,Se.annotationStorage),xe(this,X,Se.filterFactory),xe(this,ee,Be),this.viewParameters={realScale:L.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const H=Ne.prototype,pe=Se=>{const{activeElement:Be}=document;return Be&&P(Se,Re).contains(Be)&&Se.hasSomethingToControl()},V=this.TRANSLATE_SMALL,de=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new t([[["ctrl+a","mac+meta+a"],H.selectAll],[["ctrl+z","mac+meta+z"],H.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],H.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],H.delete],[["Escape","mac+Escape"],H.unselectAll],[["ArrowLeft","mac+ArrowLeft"],H.translateSelectedEditors,{args:[-V,0],checker:pe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],H.translateSelectedEditors,{args:[-de,0],checker:pe}],[["ArrowRight","mac+ArrowRight"],H.translateSelectedEditors,{args:[V,0],checker:pe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],H.translateSelectedEditors,{args:[de,0],checker:pe}],[["ArrowUp","mac+ArrowUp"],H.translateSelectedEditors,{args:[0,-V],checker:pe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],H.translateSelectedEditors,{args:[0,-de],checker:pe}],[["ArrowDown","mac+ArrowDown"],H.translateSelectedEditors,{args:[0,V],checker:pe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],H.translateSelectedEditors,{args:[0,de],checker:pe}]]))}destroy(){Ce(this,te,At).call(this),Ce(this,te,jt).call(this),this._eventBus._off("editingaction",P(this,me)),this._eventBus._off("pagechanging",P(this,ve)),this._eventBus._off("scalechanging",P(this,re)),this._eventBus._off("rotationchanging",P(this,ne));for(const H of P(this,G).values())H.destroy();P(this,G).clear(),P(this,E).clear(),P(this,le).clear(),xe(this,q,null),P(this,D).clear(),P(this,_e).destroy(),P(this,ge).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",P(this,ee)?P(this,X).addHCMFilter(P(this,ee).foreground,P(this,ee).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(P(this,Re)).direction)}editAltText(H){var pe;(pe=P(this,ge))==null||pe.editAltText(this,H)}onPageChanging({pageNumber:H}){xe(this,ue,H-1)}focusMainContainer(){P(this,Re).focus()}findParent(H,pe){for(const V of P(this,G).values()){const{x:de,y:Se,width:Be,height:ae}=V.div.getBoundingClientRect();if(H>=de&&H<=de+Be&&pe>=Se&&pe<=Se+ae)return V}return null}disableUserSelect(H=!1){P(this,W).classList.toggle("noUserSelect",H)}addShouldRescale(H){P(this,le).add(H)}removeShouldRescale(H){P(this,le).delete(H)}onScaleChanging({scale:H}){this.commitOrRemove(),this.viewParameters.realScale=H*L.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pe of P(this,le))pe.onScaleChanging()}onRotationChanging({pagesRotation:H}){this.commitOrRemove(),this.viewParameters.rotation=H}addToAnnotationStorage(H){!H.isEmpty()&&P(this,fe)&&!P(this,fe).has(H.id)&&P(this,fe).setValue(H.id,H)}blur(){if(!this.hasSelection)return;const{activeElement:H}=document;for(const pe of P(this,D))if(pe.div.contains(H)){xe(this,y,[pe,H]),pe._focusEventsAllowed=!1;break}}focus(){if(!P(this,y))return;const[H,pe]=P(this,y);xe(this,y,null),pe.addEventListener("focusin",()=>{H._focusEventsAllowed=!0},{once:!0}),pe.focus()}addEditListeners(){Ce(this,te,$t).call(this),Ce(this,te,Ht).call(this)}removeEditListeners(){Ce(this,te,At).call(this),Ce(this,te,Wt).call(this)}copy(H){var V;if(H.preventDefault(),(V=P(this,q))==null||V.commitOrRemove(),!this.hasSelection)return;const pe=[];for(const de of P(this,D)){const Se=de.serialize(!0);Se&&pe.push(Se)}pe.length!==0&&H.clipboardData.setData("application/pdfjs",JSON.stringify(pe))}cut(H){this.copy(H),this.delete()}paste(H){H.preventDefault();const{clipboardData:pe}=H;for(const Se of pe.items)for(const Be of P(this,Q))if(Be.isHandlingMimeForPasting(Se.type)){Be.paste(Se,this.currentLayer);return}let V=pe.getData("application/pdfjs");if(!V)return;try{V=JSON.parse(V)}catch(Se){(0,n.warn)(`paste: "${Se.message}".`);return}if(!Array.isArray(V))return;this.unselectAll();const de=this.currentLayer;try{const Se=[];for(const ie of V){const be=de.deserialize(ie);if(!be)return;Se.push(be)}const Be=()=>{for(const ie of Se)Ce(this,te,zt).call(this,ie);Ce(this,te,Gt).call(this,Se)},ae=()=>{for(const ie of Se)ie.remove()};this.addCommands({cmd:Be,undo:ae,mustExec:!0})}catch(Se){(0,n.warn)(`paste: "${Se.message}".`)}}keydown(H){var pe;(pe=this.getActive())!=null&&pe.shouldGetKeyboardEvents()||Ne._keyboardManager.exec(this,H)}onEditingAction(H){["undo","redo","delete","selectAll"].includes(H.name)&&this[H.name]()}setEditingState(H){H?(Ce(this,te,wr).call(this),Ce(this,te,$t).call(this),Ce(this,te,Ht).call(this),Ce(this,te,tt).call(this,{isEditing:P(this,k)!==n.AnnotationEditorType.NONE,isEmpty:Ce(this,te,dt).call(this),hasSomethingToUndo:P(this,_e).hasSomethingToUndo(),hasSomethingToRedo:P(this,_e).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ce(this,te,jt).call(this),Ce(this,te,At).call(this),Ce(this,te,Wt).call(this),Ce(this,te,tt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(H){if(!P(this,Q)){xe(this,Q,H);for(const pe of P(this,Q))Ce(this,te,ft).call(this,pe.defaultPropertiesToUpdate)}}getId(){return P(this,f).getId()}get currentLayer(){return P(this,G).get(P(this,ue))}getLayer(H){return P(this,G).get(H)}get currentPageIndex(){return P(this,ue)}addLayer(H){P(this,G).set(H.pageIndex,H),P(this,a)?H.enable():H.disable()}removeLayer(H){P(this,G).delete(H.pageIndex)}updateMode(H,pe=null){if(P(this,k)!==H){if(xe(this,k,H),H===n.AnnotationEditorType.NONE){this.setEditingState(!1),Ce(this,te,Sr).call(this);return}this.setEditingState(!0),Ce(this,te,Er).call(this),this.unselectAll();for(const V of P(this,G).values())V.updateMode(H);if(pe){for(const V of P(this,E).values())if(V.annotationElementId===pe){this.setSelected(V),V.enterInEditMode();break}}}}updateToolbar(H){H!==P(this,k)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:H})}updateParams(H,pe){if(P(this,Q)){if(H===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(H);return}for(const V of P(this,D))V.updateParams(H,pe);for(const V of P(this,Q))V.updateDefaultParams(H,pe)}}enableWaiting(H=!1){if(P(this,g)!==H){xe(this,g,H);for(const pe of P(this,G).values())H?pe.disableClick():pe.enableClick(),pe.div.classList.toggle("waiting",H)}}getEditors(H){const pe=[];for(const V of P(this,E).values())V.pageIndex===H&&pe.push(V);return pe}getEditor(H){return P(this,E).get(H)}addEditor(H){P(this,E).set(H.id,H)}removeEditor(H){var pe;P(this,E).delete(H.id),this.unselect(H),(!H.annotationElementId||!P(this,ye).has(H.annotationElementId))&&((pe=P(this,fe))==null||pe.remove(H.id))}addDeletedAnnotationElement(H){P(this,ye).add(H.annotationElementId),H.deleted=!0}isDeletedAnnotationElement(H){return P(this,ye).has(H)}removeDeletedAnnotationElement(H){P(this,ye).delete(H.annotationElementId),H.deleted=!1}setActiveEditor(H){P(this,q)!==H&&(xe(this,q,H),H&&Ce(this,te,ft).call(this,H.propertiesToUpdate))}toggleSelected(H){if(P(this,D).has(H)){P(this,D).delete(H),H.unselect(),Ce(this,te,tt).call(this,{hasSelectedEditor:this.hasSelection});return}P(this,D).add(H),H.select(),Ce(this,te,ft).call(this,H.propertiesToUpdate),Ce(this,te,tt).call(this,{hasSelectedEditor:!0})}setSelected(H){for(const pe of P(this,D))pe!==H&&pe.unselect();P(this,D).clear(),P(this,D).add(H),H.select(),Ce(this,te,ft).call(this,H.propertiesToUpdate),Ce(this,te,tt).call(this,{hasSelectedEditor:!0})}isSelected(H){return P(this,D).has(H)}unselect(H){H.unselect(),P(this,D).delete(H),Ce(this,te,tt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return P(this,D).size!==0}undo(){P(this,_e).undo(),Ce(this,te,tt).call(this,{hasSomethingToUndo:P(this,_e).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ce(this,te,dt).call(this)})}redo(){P(this,_e).redo(),Ce(this,te,tt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:P(this,_e).hasSomethingToRedo(),isEmpty:Ce(this,te,dt).call(this)})}addCommands(H){P(this,_e).add(H),Ce(this,te,tt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ce(this,te,dt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const H=[...P(this,D)],pe=()=>{for(const de of H)de.remove()},V=()=>{for(const de of H)Ce(this,te,zt).call(this,de)};this.addCommands({cmd:pe,undo:V,mustExec:!0})}commitOrRemove(){var H;(H=P(this,q))==null||H.commitOrRemove()}hasSomethingToControl(){return P(this,q)||this.hasSelection}selectAll(){for(const H of P(this,D))H.commit();Ce(this,te,Gt).call(this,P(this,E).values())}unselectAll(){if(P(this,q)){P(this,q).commitOrRemove();return}if(this.hasSelection){for(const H of P(this,D))H.unselect();P(this,D).clear(),Ce(this,te,tt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(H,pe,V=!1){if(V||this.commitOrRemove(),!this.hasSelection)return;P(this,Te)[0]+=H,P(this,Te)[1]+=pe;const[de,Se]=P(this,Te),Be=[...P(this,D)],ae=1e3;P(this,oe)&&clearTimeout(P(this,oe)),xe(this,oe,setTimeout(()=>{xe(this,oe,null),P(this,Te)[0]=P(this,Te)[1]=0,this.addCommands({cmd:()=>{for(const ie of Be)P(this,E).has(ie.id)&&ie.translateInPage(de,Se)},undo:()=>{for(const ie of Be)P(this,E).has(ie.id)&&ie.translateInPage(-de,-Se)},mustExec:!1})},ae));for(const ie of Be)ie.translateInPage(H,pe)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),xe(this,K,new Map);for(const H of P(this,D))P(this,K).set(H,{savedX:H.x,savedY:H.y,savedPageIndex:H.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!P(this,K))return!1;this.disableUserSelect(!1);const H=P(this,K);xe(this,K,null);let pe=!1;for(const[{x:de,y:Se,pageIndex:Be},ae]of H)ae.newX=de,ae.newY=Se,ae.newPageIndex=Be,pe||(pe=de!==ae.savedX||Se!==ae.savedY||Be!==ae.savedPageIndex);if(!pe)return!1;const V=(de,Se,Be,ae)=>{if(P(this,E).has(de.id)){const ie=P(this,G).get(ae);ie?de._setParentAndPosition(ie,Se,Be):(de.pageIndex=ae,de.x=Se,de.y=Be)}};return this.addCommands({cmd:()=>{for(const[de,{newX:Se,newY:Be,newPageIndex:ae}]of H)V(de,Se,Be,ae)},undo:()=>{for(const[de,{savedX:Se,savedY:Be,savedPageIndex:ae}]of H)V(de,Se,Be,ae)},mustExec:!0}),!0}dragSelectedEditors(H,pe){if(P(this,K))for(const V of P(this,K).keys())V.drag(H,pe)}rebuild(H){if(H.parent===null){const pe=this.getLayer(H.pageIndex);pe?(pe.changeParent(H),pe.addOrRebuild(H)):(this.addEditor(H),this.addToAnnotationStorage(H),H.rebuild())}else H.parent.addOrRebuild(H)}isActive(H){return P(this,q)===H}getActive(){return P(this,q)}getMode(){return P(this,k)}get imageManager(){return(0,n.shadow)(this,"imageManager",new b)}};q=new WeakMap,E=new WeakMap,G=new WeakMap,ge=new WeakMap,fe=new WeakMap,_e=new WeakMap,ue=new WeakMap,ye=new WeakMap,K=new WeakMap,Q=new WeakMap,le=new WeakMap,X=new WeakMap,f=new WeakMap,a=new WeakMap,g=new WeakMap,y=new WeakMap,k=new WeakMap,D=new WeakMap,ee=new WeakMap,se=new WeakMap,B=new WeakMap,U=new WeakMap,he=new WeakMap,we=new WeakMap,Ie=new WeakMap,me=new WeakMap,ve=new WeakMap,re=new WeakMap,ne=new WeakMap,Ee=new WeakMap,Te=new WeakMap,oe=new WeakMap,Re=new WeakMap,W=new WeakMap,te=new WeakSet,wr=function(){window.addEventListener("focus",P(this,B)),window.addEventListener("blur",P(this,se))},jt=function(){window.removeEventListener("focus",P(this,B)),window.removeEventListener("blur",P(this,se))},$t=function(){window.addEventListener("keydown",P(this,Ie),{capture:!0})},At=function(){window.removeEventListener("keydown",P(this,Ie),{capture:!0})},Ht=function(){document.addEventListener("copy",P(this,U)),document.addEventListener("cut",P(this,he)),document.addEventListener("paste",P(this,we))},Wt=function(){document.removeEventListener("copy",P(this,U)),document.removeEventListener("cut",P(this,he)),document.removeEventListener("paste",P(this,we))},tt=function(H){Object.entries(H).some(([V,de])=>P(this,Ee)[V]!==de)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(P(this,Ee),H)})},ft=function(H){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:H})},Er=function(){if(!P(this,a)){xe(this,a,!0);for(const H of P(this,G).values())H.enable()}},Sr=function(){if(this.unselectAll(),P(this,a)){xe(this,a,!1);for(const H of P(this,G).values())H.disable()}},zt=function(H){const pe=P(this,G).get(H.pageIndex);pe?pe.addOrRebuild(H):this.addEditor(H)},dt=function(){if(P(this,E).size===0)return!0;if(P(this,E).size===1)for(const H of P(this,E).values())return H.isEmpty();return!1},Gt=function(H){P(this,D).clear();for(const pe of H)pe.isEmpty()||(P(this,D).add(pe),pe.select());Ce(this,te,tt).call(this,{hasSelectedEditor:!0})},Je(Ne,"TRANSLATE_SMALL",1),Je(Ne,"TRANSLATE_BIG",10);let F=Ne;o.AnnotationEditorUIManager=F},(s,o,$)=>{var ue,ye,K,Q,le,X,f,a,g,y,k,D,ot,lt,Vt,wt,Et,pt,gt;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=p,o.getColorValues=E,o.getCurrentTransform=G,o.getCurrentTransformInverse=ge,o.getFilenameFromUrl=r,o.getPdfFilenameFromUrl=d,o.getRGB=q,o.getXfaPageViewport=J,o.isDataScheme=j,o.isPdfFile=m,o.isValidFetchUrl=v,o.loadScript=_,o.noContextMenu=l,o.setLayerDimensions=fe;var n=$(7),L=$(1);const T="http://www.w3.org/2000/svg",_e=class _e{};Je(_e,"CSS",96),Je(_e,"PDF",72),Je(_e,"PDF_TO_CSS_UNITS",_e.CSS/_e.PDF);let I=_e;o.PixelsPerInch=I;class N extends n.BaseFilterFactory{constructor({docId:re,ownerDocument:ne=globalThis.document}={}){super();Me(this,D);Me(this,ue);Me(this,ye);Me(this,K);Me(this,Q);Me(this,le);Me(this,X);Me(this,f);Me(this,a);Me(this,g);Me(this,y);Me(this,k,0);xe(this,K,re),xe(this,Q,ne)}addFilter(re){if(!re)return"none";let ne=P(this,D,ot).get(re);if(ne)return ne;let Ee,Te,oe,Re;if(re.length===1){const Oe=re[0],qe=new Array(256);for(let De=0;De<256;De++)qe[De]=Oe[De]/255;Re=Ee=Te=oe=qe.join(",")}else{const[Oe,qe,De]=re,Y=new Array(256),e=new Array(256),h=new Array(256);for(let Z=0;Z<256;Z++)Y[Z]=Oe[Z]/255,e[Z]=qe[Z]/255,h[Z]=De[Z]/255;Ee=Y.join(","),Te=e.join(","),oe=h.join(","),Re=`${Ee}${Te}${oe}`}if(ne=P(this,D,ot).get(Re),ne)return P(this,D,ot).set(re,ne),ne;const W=`g_${P(this,K)}_transfer_map_${ht(this,k)._++}`,te=`url(#${W})`;P(this,D,ot).set(re,te),P(this,D,ot).set(Re,te);const Pe=Ce(this,D,wt).call(this,W);return Ce(this,D,pt).call(this,Ee,Te,oe,Pe),te}addHCMFilter(re,ne){var qe;const Ee=`${re}-${ne}`;if(P(this,X)===Ee)return P(this,f);if(xe(this,X,Ee),xe(this,f,"none"),(qe=P(this,le))==null||qe.remove(),!re||!ne)return P(this,f);const Te=Ce(this,D,gt).call(this,re);re=L.Util.makeHexColor(...Te);const oe=Ce(this,D,gt).call(this,ne);if(ne=L.Util.makeHexColor(...oe),P(this,D,lt).style.color="",re==="#000000"&&ne==="#ffffff"||re===ne)return P(this,f);const Re=new Array(256);for(let De=0;De<=255;De++){const Y=De/255;Re[De]=Y<=.03928?Y/12.92:((Y+.055)/1.055)**2.4}const W=Re.join(","),te=`g_${P(this,K)}_hcm_filter`,Pe=xe(this,a,Ce(this,D,wt).call(this,te));Ce(this,D,pt).call(this,W,W,W,Pe),Ce(this,D,Vt).call(this,Pe);const Oe=(De,Y)=>{const e=Te[De]/255,h=oe[De]/255,Z=new Array(Y+1);for(let ce=0;ce<=Y;ce++)Z[ce]=e+ce/Y*(h-e);return Z.join(",")};return Ce(this,D,pt).call(this,Oe(0,5),Oe(1,5),Oe(2,5),Pe),xe(this,f,`url(#${te})`),P(this,f)}addHighlightHCMFilter(re,ne,Ee,Te){var h;const oe=`${re}-${ne}-${Ee}-${Te}`;if(P(this,g)===oe)return P(this,y);if(xe(this,g,oe),xe(this,y,"none"),(h=P(this,a))==null||h.remove(),!re||!ne)return P(this,y);const[Re,W]=[re,ne].map(Ce(this,D,gt).bind(this));let te=Math.round(.2126*Re[0]+.7152*Re[1]+.0722*Re[2]),Pe=Math.round(.2126*W[0]+.7152*W[1]+.0722*W[2]),[Oe,qe]=[Ee,Te].map(Ce(this,D,gt).bind(this));Pe<te&&([te,Pe,Oe,qe]=[Pe,te,qe,Oe]),P(this,D,lt).style.color="";const De=(Z,ce,z)=>{const M=new Array(256),u=(Pe-te)/z,Ae=Z/255,Ne=(ce-Z)/(255*z);let c=0;for(let H=0;H<=z;H++){const pe=Math.round(te+H*u),V=Ae+H*Ne;for(let de=c;de<=pe;de++)M[de]=V;c=pe+1}for(let H=c;H<256;H++)M[H]=M[c-1];return M.join(",")},Y=`g_${P(this,K)}_hcm_highlight_filter`,e=xe(this,a,Ce(this,D,wt).call(this,Y));return Ce(this,D,Vt).call(this,e),Ce(this,D,pt).call(this,De(Oe[0],qe[0],5),De(Oe[1],qe[1],5),De(Oe[2],qe[2],5),e),xe(this,y,`url(#${Y})`),P(this,y)}destroy(re=!1){re&&(P(this,f)||P(this,y))||(P(this,ye)&&(P(this,ye).parentNode.parentNode.remove(),xe(this,ye,null)),P(this,ue)&&(P(this,ue).clear(),xe(this,ue,null)),xe(this,k,0))}}ue=new WeakMap,ye=new WeakMap,K=new WeakMap,Q=new WeakMap,le=new WeakMap,X=new WeakMap,f=new WeakMap,a=new WeakMap,g=new WeakMap,y=new WeakMap,k=new WeakMap,D=new WeakSet,ot=function(){return P(this,ue)||xe(this,ue,new Map)},lt=function(){if(!P(this,ye)){const re=P(this,Q).createElement("div"),{style:ne}=re;ne.visibility="hidden",ne.contain="strict",ne.width=ne.height=0,ne.position="absolute",ne.top=ne.left=0,ne.zIndex=-1;const Ee=P(this,Q).createElementNS(T,"svg");Ee.setAttribute("width",0),Ee.setAttribute("height",0),xe(this,ye,P(this,Q).createElementNS(T,"defs")),re.append(Ee),Ee.append(P(this,ye)),P(this,Q).body.append(re)}return P(this,ye)},Vt=function(re){const ne=P(this,Q).createElementNS(T,"feColorMatrix");ne.setAttribute("type","matrix"),ne.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),re.append(ne)},wt=function(re){const ne=P(this,Q).createElementNS(T,"filter");return ne.setAttribute("color-interpolation-filters","sRGB"),ne.setAttribute("id",re),P(this,D,lt).append(ne),ne},Et=function(re,ne,Ee){const Te=P(this,Q).createElementNS(T,ne);Te.setAttribute("type","discrete"),Te.setAttribute("tableValues",Ee),re.append(Te)},pt=function(re,ne,Ee,Te){const oe=P(this,Q).createElementNS(T,"feComponentTransfer");Te.append(oe),Ce(this,D,Et).call(this,oe,"feFuncR",re),Ce(this,D,Et).call(this,oe,"feFuncG",ne),Ce(this,D,Et).call(this,oe,"feFuncB",Ee)},gt=function(re){return P(this,D,lt).style.color=re,q(getComputedStyle(P(this,D,lt)).getPropertyValue("color"))},o.DOMFilterFactory=N;class b extends n.BaseCanvasFactory{constructor({ownerDocument:ve=globalThis.document}={}){super(),this._document=ve}_createCanvas(ve,re){const ne=this._document.createElement("canvas");return ne.width=ve,ne.height=re,ne}}o.DOMCanvasFactory=b;async function A(me,ve=!1){if(v(me,document.baseURI)){const re=await fetch(me);if(!re.ok)throw new Error(re.statusText);return ve?new Uint8Array(await re.arrayBuffer()):(0,L.stringToBytes)(await re.text())}return new Promise((re,ne)=>{const Ee=new XMLHttpRequest;Ee.open("GET",me,!0),ve&&(Ee.responseType="arraybuffer"),Ee.onreadystatechange=()=>{if(Ee.readyState===XMLHttpRequest.DONE){if(Ee.status===200||Ee.status===0){let Te;if(ve&&Ee.response?Te=new Uint8Array(Ee.response):!ve&&Ee.responseText&&(Te=(0,L.stringToBytes)(Ee.responseText)),Te){re(Te);return}}ne(new Error(Ee.statusText))}},Ee.send(null)})}class t extends n.BaseCMapReaderFactory{_fetchData(ve,re){return A(ve,this.isCompressed).then(ne=>({cMapData:ne,compressionType:re}))}}o.DOMCMapReaderFactory=t;class S extends n.BaseStandardFontDataFactory{_fetchData(ve){return A(ve,!0)}}o.DOMStandardFontDataFactory=S;class F extends n.BaseSVGFactory{_createSVG(ve){return document.createElementNS(T,ve)}}o.DOMSVGFactory=F;class R{constructor({viewBox:ve,scale:re,rotation:ne,offsetX:Ee=0,offsetY:Te=0,dontFlip:oe=!1}){this.viewBox=ve,this.scale=re,this.rotation=ne,this.offsetX=Ee,this.offsetY=Te;const Re=(ve[2]+ve[0])/2,W=(ve[3]+ve[1])/2;let te,Pe,Oe,qe;switch(ne%=360,ne<0&&(ne+=360),ne){case 180:te=-1,Pe=0,Oe=0,qe=1;break;case 90:te=0,Pe=1,Oe=1,qe=0;break;case 270:te=0,Pe=-1,Oe=-1,qe=0;break;case 0:te=1,Pe=0,Oe=0,qe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}oe&&(Oe=-Oe,qe=-qe);let De,Y,e,h;te===0?(De=Math.abs(W-ve[1])*re+Ee,Y=Math.abs(Re-ve[0])*re+Te,e=(ve[3]-ve[1])*re,h=(ve[2]-ve[0])*re):(De=Math.abs(Re-ve[0])*re+Ee,Y=Math.abs(W-ve[1])*re+Te,e=(ve[2]-ve[0])*re,h=(ve[3]-ve[1])*re),this.transform=[te*re,Pe*re,Oe*re,qe*re,De-te*re*Re-Oe*re*W,Y-Pe*re*Re-qe*re*W],this.width=e,this.height=h}get rawDims(){const{viewBox:ve}=this;return(0,L.shadow)(this,"rawDims",{pageWidth:ve[2]-ve[0],pageHeight:ve[3]-ve[1],pageX:ve[0],pageY:ve[1]})}clone({scale:ve=this.scale,rotation:re=this.rotation,offsetX:ne=this.offsetX,offsetY:Ee=this.offsetY,dontFlip:Te=!1}={}){return new R({viewBox:this.viewBox.slice(),scale:ve,rotation:re,offsetX:ne,offsetY:Ee,dontFlip:Te})}convertToViewportPoint(ve,re){return L.Util.applyTransform([ve,re],this.transform)}convertToViewportRectangle(ve){const re=L.Util.applyTransform([ve[0],ve[1]],this.transform),ne=L.Util.applyTransform([ve[2],ve[3]],this.transform);return[re[0],re[1],ne[0],ne[1]]}convertToPdfPoint(ve,re){return L.Util.applyInverseTransform([ve,re],this.transform)}}o.PageViewport=R;class C extends L.BaseException{constructor(ve,re=0){super(ve,"RenderingCancelledException"),this.extraDelay=re}}o.RenderingCancelledException=C;function j(me){const ve=me.length;let re=0;for(;re<ve&&me[re].trim()==="";)re++;return me.substring(re,re+5).toLowerCase()==="data:"}function m(me){return typeof me=="string"&&/\.pdf$/i.test(me)}function r(me,ve=!1){return ve||([me]=me.split(/[#?]/,1)),me.substring(me.lastIndexOf("/")+1)}function d(me,ve="document.pdf"){if(typeof me!="string")return ve;if(j(me))return(0,L.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ve;const re=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ne=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ee=re.exec(me);let Te=ne.exec(Ee[1])||ne.exec(Ee[2])||ne.exec(Ee[3]);if(Te&&(Te=Te[0],Te.includes("%")))try{Te=ne.exec(decodeURIComponent(Te))[0]}catch{}return Te||ve}class x{constructor(){Je(this,"started",Object.create(null));Je(this,"times",[])}time(ve){ve in this.started&&(0,L.warn)(`Timer is already running for ${ve}`),this.started[ve]=Date.now()}timeEnd(ve){ve in this.started||(0,L.warn)(`Timer has not been started for ${ve}`),this.times.push({name:ve,start:this.started[ve],end:Date.now()}),delete this.started[ve]}toString(){const ve=[];let re=0;for(const{name:ne}of this.times)re=Math.max(ne.length,re);for(const{name:ne,start:Ee,end:Te}of this.times)ve.push(`${ne.padEnd(re)} ${Te-Ee}ms
`);return ve.join("")}}o.StatTimer=x;function v(me,ve){try{const{protocol:re}=ve?new URL(me,ve):new URL(me);return re==="http:"||re==="https:"}catch{return!1}}function l(me){me.preventDefault()}function _(me,ve=!1){return new Promise((re,ne)=>{const Ee=document.createElement("script");Ee.src=me,Ee.onload=function(Te){ve&&Ee.remove(),re(Te)},Ee.onerror=function(){ne(new Error(`Cannot load script at: ${Ee.src}`))},(document.head||document.documentElement).append(Ee)})}function p(me){console.log("Deprecated API usage: "+me)}let w;class O{static toDateObject(ve){if(!ve||typeof ve!="string")return null;w||(w=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const re=w.exec(ve);if(!re)return null;const ne=parseInt(re[1],10);let Ee=parseInt(re[2],10);Ee=Ee>=1&&Ee<=12?Ee-1:0;let Te=parseInt(re[3],10);Te=Te>=1&&Te<=31?Te:1;let oe=parseInt(re[4],10);oe=oe>=0&&oe<=23?oe:0;let Re=parseInt(re[5],10);Re=Re>=0&&Re<=59?Re:0;let W=parseInt(re[6],10);W=W>=0&&W<=59?W:0;const te=re[7]||"Z";let Pe=parseInt(re[8],10);Pe=Pe>=0&&Pe<=23?Pe:0;let Oe=parseInt(re[9],10)||0;return Oe=Oe>=0&&Oe<=59?Oe:0,te==="-"?(oe+=Pe,Re+=Oe):te==="+"&&(oe-=Pe,Re-=Oe),new Date(Date.UTC(ne,Ee,Te,oe,Re,W))}}o.PDFDateString=O;function J(me,{scale:ve=1,rotation:re=0}){const{width:ne,height:Ee}=me.attributes.style,Te=[0,0,parseInt(ne),parseInt(Ee)];return new R({viewBox:Te,scale:ve,rotation:re})}function q(me){if(me.startsWith("#")){const ve=parseInt(me.slice(1),16);return[(ve&16711680)>>16,(ve&65280)>>8,ve&255]}return me.startsWith("rgb(")?me.slice(4,-1).split(",").map(ve=>parseInt(ve)):me.startsWith("rgba(")?me.slice(5,-1).split(",").map(ve=>parseInt(ve)).slice(0,3):((0,L.warn)(`Not a valid color format: "${me}"`),[0,0,0])}function E(me){const ve=document.createElement("span");ve.style.visibility="hidden",document.body.append(ve);for(const re of me.keys()){ve.style.color=re;const ne=window.getComputedStyle(ve).color;me.set(re,q(ne))}ve.remove()}function G(me){const{a:ve,b:re,c:ne,d:Ee,e:Te,f:oe}=me.getTransform();return[ve,re,ne,Ee,Te,oe]}function ge(me){const{a:ve,b:re,c:ne,d:Ee,e:Te,f:oe}=me.getTransform().invertSelf();return[ve,re,ne,Ee,Te,oe]}function fe(me,ve,re=!1,ne=!0){if(ve instanceof R){const{pageWidth:Ee,pageHeight:Te}=ve.rawDims,{style:oe}=me,Re=L.FeatureTest.isCSSRoundSupported,W=`var(--scale-factor) * ${Ee}px`,te=`var(--scale-factor) * ${Te}px`,Pe=Re?`round(${W}, 1px)`:`calc(${W})`,Oe=Re?`round(${te}, 1px)`:`calc(${te})`;!re||ve.rotation%180===0?(oe.width=Pe,oe.height=Oe):(oe.width=Oe,oe.height=Pe)}ne&&me.setAttribute("data-main-rotation",ve.rotation)}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var n=$(1);class L{constructor(){this.constructor===L&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,S){return"none"}addHighlightHCMFilter(t,S,F,R){return"none"}destroy(t=!1){}}o.BaseFilterFactory=L;class T{constructor(){this.constructor===T&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,S){if(t<=0||S<=0)throw new Error("Invalid canvas size");const F=this._createCanvas(t,S);return{canvas:F,context:F.getContext("2d")}}reset(t,S,F){if(!t.canvas)throw new Error("Canvas is not specified");if(S<=0||F<=0)throw new Error("Invalid canvas size");t.canvas.width=S,t.canvas.height=F}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,S){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=T;class I{constructor({baseUrl:t=null,isCompressed:S=!0}){this.constructor===I&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=S}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const S=this.baseUrl+t+(this.isCompressed?".bcmap":""),F=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(S,F).catch(R=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${S}`)})}_fetchData(t,S){(0,n.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=I;class N{constructor({baseUrl:t=null}){this.constructor===N&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const S=`${this.baseUrl}${t}`;return this._fetchData(S).catch(F=>{throw new Error(`Unable to load font data at: ${S}`)})}_fetchData(t){(0,n.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=N;class b{constructor(){this.constructor===b&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,S,F=!1){if(t<=0||S<=0)throw new Error("Invalid SVG dimensions");const R=this._createSVG("svg:svg");return R.setAttribute("version","1.1"),F||(R.setAttribute("width",`${t}px`),R.setAttribute("height",`${S}px`)),R.setAttribute("preserveAspectRatio","none"),R.setAttribute("viewBox",`0 0 ${t} ${S}`),R}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,n.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=b},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var n=$(1);const L=3285377520,T=4294901760,I=65535;class N{constructor(A){this.h1=A?A&4294967295:L,this.h2=A?A&4294967295:L}update(A){let t,S;if(typeof A=="string"){t=new Uint8Array(A.length*2),S=0;for(let p=0,w=A.length;p<w;p++){const O=A.charCodeAt(p);O<=255?t[S++]=O:(t[S++]=O>>>8,t[S++]=O&255)}}else if((0,n.isArrayBuffer)(A))t=A.slice(),S=t.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const F=S>>2,R=S-F*4,C=new Uint32Array(t.buffer,0,F);let j=0,m=0,r=this.h1,d=this.h2;const x=3432918353,v=461845907,l=x&I,_=v&I;for(let p=0;p<F;p++)p&1?(j=C[p],j=j*x&T|j*l&I,j=j<<15|j>>>17,j=j*v&T|j*_&I,r^=j,r=r<<13|r>>>19,r=r*5+3864292196):(m=C[p],m=m*x&T|m*l&I,m=m<<15|m>>>17,m=m*v&T|m*_&I,d^=m,d=d<<13|d>>>19,d=d*5+3864292196);switch(j=0,R){case 3:j^=t[F*4+2]<<16;case 2:j^=t[F*4+1]<<8;case 1:j^=t[F*4],j=j*x&T|j*l&I,j=j<<15|j>>>17,j=j*v&T|j*_&I,F&1?r^=j:d^=j}this.h1=r,this.h2=d}hexdigest(){let A=this.h1,t=this.h2;return A^=t>>>1,A=A*3981806797&T|A*36045&I,t=t*4283543511&T|((t<<16|A>>>16)*2950163797&T)>>>16,A^=t>>>1,A=A*444984403&T|A*60499&I,t=t*3301882366&T|((t<<16|A>>>16)*3120437893&T)>>>16,A^=t>>>1,(A>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=N},(s,o,$)=>{var I;Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var n=$(1);class L{constructor({ownerDocument:b=globalThis.document,styleElement:A=null}){Me(this,I,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const A=this.styleElement.sheet;A.insertRule(b,A.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),P(this,I).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||P(this,I).has(b.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:A,src:t,style:S}=b,F=new FontFace(A,t,S);this.addNativeFontFace(F);try{await F.load(),P(this,I).add(A)}catch{(0,n.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(F)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const t=b.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(S){throw(0,n.warn)(`Failed to load font '${t.family}': '${S}'.`),b.disableFontFace=!0,S}}return}const A=b.createFontFaceRule();if(A){if(this.insertRule(A),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const S=this._queueLoadingCallback(t);this._prepareFontLoadEvent(b,S)})}}get isFontLoadingAPISupported(){var A;const b=!!((A=this._document)!=null&&A.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function A(){for((0,n.assert)(!S.done,"completeRequest() cannot be called twice."),S.done=!0;t.length>0&&t[0].done;){const F=t.shift();setTimeout(F.callback,0)}}const{loadingRequests:t}=this,S={done:!1,complete:A,callback:b};return t.push(S),S}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,A){function t(q,E){return q.charCodeAt(E)<<24|q.charCodeAt(E+1)<<16|q.charCodeAt(E+2)<<8|q.charCodeAt(E+3)&255}function S(q,E,G,ge){const fe=q.substring(0,E),_e=q.substring(E+G);return fe+ge+_e}let F,R;const C=this._document.createElement("canvas");C.width=1,C.height=1;const j=C.getContext("2d");let m=0;function r(q,E){if(++m>30){(0,n.warn)("Load test font never loaded."),E();return}if(j.font="30px "+q,j.fillText(".",0,20),j.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(r.bind(null,q,E))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=S(x,976,d.length,d);const l=16,_=1482184792;let p=t(x,l);for(F=0,R=d.length-3;F<R;F+=4)p=p-_+t(d,F)|0;F<d.length&&(p=p-_+t(d+"XXX",F)|0),x=S(x,l,4,(0,n.string32)(p));const w=`url(data:font/opentype;base64,${btoa(x)});`,O=`@font-face {font-family:"${d}";src:${w}}`;this.insertRule(O);const J=this._document.createElement("div");J.style.visibility="hidden",J.style.width=J.style.height="10px",J.style.position="absolute",J.style.top=J.style.left="0px";for(const q of[b.loadedName,d]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=q,J.append(E)}this._document.body.append(J),r(d,()=>{J.remove(),A.complete()})}}I=new WeakMap,o.FontLoader=L;class T{constructor(b,{isEvalSupported:A=!0,disableFontFace:t=!1,ignoreErrors:S=!1,inspectFont:F=null}){this.compiledGlyphs=Object.create(null);for(const R in b)this[R]=b[R];this.isEvalSupported=A!==!1,this.disableFontFace=t===!0,this.ignoreErrors=S===!0,this._inspectFont=F}createNativeFontFace(){var A;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return(A=this._inspectFont)==null||A.call(this,this),b}createFontFaceRule(){var S;if(!this.data||this.disableFontFace)return null;const b=(0,n.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(b)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${A}}`;else{let F=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(F+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${F}src:${A}}`}return(S=this._inspectFont)==null||S.call(this,this,A),t}getPathGenerator(b,A){if(this.compiledGlyphs[A]!==void 0)return this.compiledGlyphs[A];let t;try{t=b.get(this.loadedName+"_path_"+A)}catch(S){if(!this.ignoreErrors)throw S;return(0,n.warn)(`getPathGenerator - ignoring character: "${S}".`),this.compiledGlyphs[A]=function(F,R){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const S=[];for(const F of t){const R=F.args!==void 0?F.args.join(","):"";S.push("c.",F.cmd,"(",R,`);
`)}return this.compiledGlyphs[A]=new Function("c","size",S.join(""))}return this.compiledGlyphs[A]=function(S,F){for(const R of t)R.cmd==="scale"&&(R.args=[F,-F]),S[R.cmd].apply(S,R.args)}}}o.FontFaceObject=T},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var n=$(7);$(1);const L=function(A){return new Promise((t,S)=>{requireEmpty().readFile(A,(R,C)=>{if(R||!C){S(new Error(R));return}t(new Uint8Array(C))})})};class T extends n.BaseFilterFactory{}o.NodeFilterFactory=T;class I extends n.BaseCanvasFactory{_createCanvas(t,S){return require$$1.createCanvas(t,S)}}o.NodeCanvasFactory=I;class N extends n.BaseCMapReaderFactory{_fetchData(t,S){return L(t).then(F=>({cMapData:F,compressionType:S}))}}o.NodeCMapReaderFactory=N;class b extends n.BaseStandardFontDataFactory{_fetchData(t){return L(t)}}o.NodeStandardFontDataFactory=b},(s,o,$)=>{var ye,Xt,Yt;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var n=$(1),L=$(6),T=$(12),I=$(13);const N=16,b=100,A=4096,t=15,S=10,F=1e3,R=16;function C(X,f){if(X._removeMirroring)throw new Error("Context is already forwarding operations.");X.__originalSave=X.save,X.__originalRestore=X.restore,X.__originalRotate=X.rotate,X.__originalScale=X.scale,X.__originalTranslate=X.translate,X.__originalTransform=X.transform,X.__originalSetTransform=X.setTransform,X.__originalResetTransform=X.resetTransform,X.__originalClip=X.clip,X.__originalMoveTo=X.moveTo,X.__originalLineTo=X.lineTo,X.__originalBezierCurveTo=X.bezierCurveTo,X.__originalRect=X.rect,X.__originalClosePath=X.closePath,X.__originalBeginPath=X.beginPath,X._removeMirroring=()=>{X.save=X.__originalSave,X.restore=X.__originalRestore,X.rotate=X.__originalRotate,X.scale=X.__originalScale,X.translate=X.__originalTranslate,X.transform=X.__originalTransform,X.setTransform=X.__originalSetTransform,X.resetTransform=X.__originalResetTransform,X.clip=X.__originalClip,X.moveTo=X.__originalMoveTo,X.lineTo=X.__originalLineTo,X.bezierCurveTo=X.__originalBezierCurveTo,X.rect=X.__originalRect,X.closePath=X.__originalClosePath,X.beginPath=X.__originalBeginPath,delete X._removeMirroring},X.save=function(){f.save(),this.__originalSave()},X.restore=function(){f.restore(),this.__originalRestore()},X.translate=function(g,y){f.translate(g,y),this.__originalTranslate(g,y)},X.scale=function(g,y){f.scale(g,y),this.__originalScale(g,y)},X.transform=function(g,y,k,D,ee,se){f.transform(g,y,k,D,ee,se),this.__originalTransform(g,y,k,D,ee,se)},X.setTransform=function(g,y,k,D,ee,se){f.setTransform(g,y,k,D,ee,se),this.__originalSetTransform(g,y,k,D,ee,se)},X.resetTransform=function(){f.resetTransform(),this.__originalResetTransform()},X.rotate=function(g){f.rotate(g),this.__originalRotate(g)},X.clip=function(g){f.clip(g),this.__originalClip(g)},X.moveTo=function(a,g){f.moveTo(a,g),this.__originalMoveTo(a,g)},X.lineTo=function(a,g){f.lineTo(a,g),this.__originalLineTo(a,g)},X.bezierCurveTo=function(a,g,y,k,D,ee){f.bezierCurveTo(a,g,y,k,D,ee),this.__originalBezierCurveTo(a,g,y,k,D,ee)},X.rect=function(a,g,y,k){f.rect(a,g,y,k),this.__originalRect(a,g,y,k)},X.closePath=function(){f.closePath(),this.__originalClosePath()},X.beginPath=function(){f.beginPath(),this.__originalBeginPath()}}class j{constructor(f){this.canvasFactory=f,this.cache=Object.create(null)}getCanvas(f,a,g){let y;return this.cache[f]!==void 0?(y=this.cache[f],this.canvasFactory.reset(y,a,g)):(y=this.canvasFactory.create(a,g),this.cache[f]=y),y}delete(f){delete this.cache[f]}clear(){for(const f in this.cache){const a=this.cache[f];this.canvasFactory.destroy(a),delete this.cache[f]}}}function m(X,f,a,g,y,k,D,ee,se,B){const[U,he,we,Ie,me,ve]=(0,L.getCurrentTransform)(X);if(he===0&&we===0){const Ee=D*U+me,Te=Math.round(Ee),oe=ee*Ie+ve,Re=Math.round(oe),W=(D+se)*U+me,te=Math.abs(Math.round(W)-Te)||1,Pe=(ee+B)*Ie+ve,Oe=Math.abs(Math.round(Pe)-Re)||1;return X.setTransform(Math.sign(U),0,0,Math.sign(Ie),Te,Re),X.drawImage(f,a,g,y,k,0,0,te,Oe),X.setTransform(U,he,we,Ie,me,ve),[te,Oe]}if(U===0&&Ie===0){const Ee=ee*we+me,Te=Math.round(Ee),oe=D*he+ve,Re=Math.round(oe),W=(ee+B)*we+me,te=Math.abs(Math.round(W)-Te)||1,Pe=(D+se)*he+ve,Oe=Math.abs(Math.round(Pe)-Re)||1;return X.setTransform(0,Math.sign(he),Math.sign(we),0,Te,Re),X.drawImage(f,a,g,y,k,0,0,Oe,te),X.setTransform(U,he,we,Ie,me,ve),[Oe,te]}X.drawImage(f,a,g,y,k,D,ee,se,B);const re=Math.hypot(U,he),ne=Math.hypot(we,Ie);return[re*se,ne*B]}function r(X){const{width:f,height:a}=X;if(f>F||a>F)return null;const g=1e3,y=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=f+1;let D=new Uint8Array(k*(a+1)),ee,se,B;const U=f+7&-8;let he=new Uint8Array(U*a),we=0;for(const ne of X.data){let Ee=128;for(;Ee>0;)he[we++]=ne&Ee?0:255,Ee>>=1}let Ie=0;for(we=0,he[we]!==0&&(D[0]=1,++Ie),se=1;se<f;se++)he[we]!==he[we+1]&&(D[se]=he[we]?2:1,++Ie),we++;for(he[we]!==0&&(D[se]=2,++Ie),ee=1;ee<a;ee++){we=ee*U,B=ee*k,he[we-U]!==he[we]&&(D[B]=he[we]?1:8,++Ie);let ne=(he[we]?4:0)+(he[we-U]?8:0);for(se=1;se<f;se++)ne=(ne>>2)+(he[we+1]?4:0)+(he[we-U+1]?8:0),y[ne]&&(D[B+se]=y[ne],++Ie),we++;if(he[we-U]!==he[we]&&(D[B+se]=he[we]?2:4,++Ie),Ie>g)return null}for(we=U*(a-1),B=ee*k,he[we]!==0&&(D[B]=8,++Ie),se=1;se<f;se++)he[we]!==he[we+1]&&(D[B+se]=he[we]?4:8,++Ie),we++;if(he[we]!==0&&(D[B+se]=4,++Ie),Ie>g)return null;const me=new Int32Array([0,k,-1,0,-k,0,0,0,1]),ve=new Path2D;for(ee=0;Ie&&ee<=a;ee++){let ne=ee*k;const Ee=ne+f;for(;ne<Ee&&!D[ne];)ne++;if(ne===Ee)continue;ve.moveTo(ne%k,ee);const Te=ne;let oe=D[ne];do{const Re=me[oe];do ne+=Re;while(!D[ne]);const W=D[ne];W!==5&&W!==10?(oe=W,D[ne]=0):(oe=W&51*oe>>4,D[ne]&=oe>>2|oe<<2),ve.lineTo(ne%k,ne/k|0),D[ne]||--Ie}while(Te!==ne);--ee}return he=null,D=null,function(ne){ne.save(),ne.scale(1/f,-1/a),ne.translate(0,-a),ne.fill(ve),ne.beginPath(),ne.restore()}}class d{constructor(f,a){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,f,a])}clone(){const f=Object.create(this);return f.clipBox=this.clipBox.slice(),f}setCurrentPoint(f,a){this.x=f,this.y=a}updatePathMinMax(f,a,g){[a,g]=n.Util.applyTransform([a,g],f),this.minX=Math.min(this.minX,a),this.minY=Math.min(this.minY,g),this.maxX=Math.max(this.maxX,a),this.maxY=Math.max(this.maxY,g)}updateRectMinMax(f,a){const g=n.Util.applyTransform(a,f),y=n.Util.applyTransform(a.slice(2),f);this.minX=Math.min(this.minX,g[0],y[0]),this.minY=Math.min(this.minY,g[1],y[1]),this.maxX=Math.max(this.maxX,g[0],y[0]),this.maxY=Math.max(this.maxY,g[1],y[1])}updateScalingPathMinMax(f,a){n.Util.scaleMinMax(f,a),this.minX=Math.min(this.minX,a[0]),this.maxX=Math.max(this.maxX,a[1]),this.minY=Math.min(this.minY,a[2]),this.maxY=Math.max(this.maxY,a[3])}updateCurvePathMinMax(f,a,g,y,k,D,ee,se,B,U){const he=n.Util.bezierBoundingBox(a,g,y,k,D,ee,se,B);if(U){U[0]=Math.min(U[0],he[0],he[2]),U[1]=Math.max(U[1],he[0],he[2]),U[2]=Math.min(U[2],he[1],he[3]),U[3]=Math.max(U[3],he[1],he[3]);return}this.updateRectMinMax(f,he)}getPathBoundingBox(f=T.PathType.FILL,a=null){const g=[this.minX,this.minY,this.maxX,this.maxY];if(f===T.PathType.STROKE){a||(0,n.unreachable)("Stroke bounding box must include transform.");const y=n.Util.singularValueDecompose2dScale(a),k=y[0]*this.lineWidth/2,D=y[1]*this.lineWidth/2;g[0]-=k,g[1]-=D,g[2]+=k,g[3]+=D}return g}updateClipFromPath(){const f=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(f||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(f){this.clipBox=f,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(f=T.PathType.FILL,a=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(f,a))}}function x(X,f){if(typeof ImageData<"u"&&f instanceof ImageData){X.putImageData(f,0,0);return}const a=f.height,g=f.width,y=a%R,k=(a-y)/R,D=y===0?k:k+1,ee=X.createImageData(g,R);let se=0,B;const U=f.data,he=ee.data;let we,Ie,me,ve;if(f.kind===n.ImageKind.GRAYSCALE_1BPP){const re=U.byteLength,ne=new Uint32Array(he.buffer,0,he.byteLength>>2),Ee=ne.length,Te=g+7>>3,oe=4294967295,Re=n.FeatureTest.isLittleEndian?4278190080:255;for(we=0;we<D;we++){for(me=we<k?R:y,B=0,Ie=0;Ie<me;Ie++){const W=re-se;let te=0;const Pe=W>Te?g:W*8-7,Oe=Pe&-8;let qe=0,De=0;for(;te<Oe;te+=8)De=U[se++],ne[B++]=De&128?oe:Re,ne[B++]=De&64?oe:Re,ne[B++]=De&32?oe:Re,ne[B++]=De&16?oe:Re,ne[B++]=De&8?oe:Re,ne[B++]=De&4?oe:Re,ne[B++]=De&2?oe:Re,ne[B++]=De&1?oe:Re;for(;te<Pe;te++)qe===0&&(De=U[se++],qe=128),ne[B++]=De&qe?oe:Re,qe>>=1}for(;B<Ee;)ne[B++]=0;X.putImageData(ee,0,we*R)}}else if(f.kind===n.ImageKind.RGBA_32BPP){for(Ie=0,ve=g*R*4,we=0;we<k;we++)he.set(U.subarray(se,se+ve)),se+=ve,X.putImageData(ee,0,Ie),Ie+=R;we<D&&(ve=g*y*4,he.set(U.subarray(se,se+ve)),X.putImageData(ee,0,Ie))}else if(f.kind===n.ImageKind.RGB_24BPP)for(me=R,ve=g*me,we=0;we<D;we++){for(we>=k&&(me=y,ve=g*me),B=0,Ie=ve;Ie--;)he[B++]=U[se++],he[B++]=U[se++],he[B++]=U[se++],he[B++]=255;X.putImageData(ee,0,we*R)}else throw new Error(`bad image kind: ${f.kind}`)}function v(X,f){if(f.bitmap){X.drawImage(f.bitmap,0,0);return}const a=f.height,g=f.width,y=a%R,k=(a-y)/R,D=y===0?k:k+1,ee=X.createImageData(g,R);let se=0;const B=f.data,U=ee.data;for(let he=0;he<D;he++){const we=he<k?R:y;({srcPos:se}=(0,I.convertBlackAndWhiteToRGBA)({src:B,srcPos:se,dest:U,width:g,height:we,nonBlackColor:0})),X.putImageData(ee,0,he*R)}}function l(X,f){const a=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const g of a)X[g]!==void 0&&(f[g]=X[g]);X.setLineDash!==void 0&&(f.setLineDash(X.getLineDash()),f.lineDashOffset=X.lineDashOffset)}function _(X){if(X.strokeStyle=X.fillStyle="#000000",X.fillRule="nonzero",X.globalAlpha=1,X.lineWidth=1,X.lineCap="butt",X.lineJoin="miter",X.miterLimit=10,X.globalCompositeOperation="source-over",X.font="10px sans-serif",X.setLineDash!==void 0&&(X.setLineDash([]),X.lineDashOffset=0),!n.isNodeJS){const{filter:f}=X;f!=="none"&&f!==""&&(X.filter="none")}}function p(X,f,a,g){const y=X.length;for(let k=3;k<y;k+=4){const D=X[k];if(D===0)X[k-3]=f,X[k-2]=a,X[k-1]=g;else if(D<255){const ee=255-D;X[k-3]=X[k-3]*D+f*ee>>8,X[k-2]=X[k-2]*D+a*ee>>8,X[k-1]=X[k-1]*D+g*ee>>8}}}function w(X,f,a){const g=X.length,y=1/255;for(let k=3;k<g;k+=4){const D=a?a[X[k]]:X[k];f[k]=f[k]*D*y|0}}function O(X,f,a){const g=X.length;for(let y=3;y<g;y+=4){const k=X[y-3]*77+X[y-2]*152+X[y-1]*28;f[y]=a?f[y]*a[k>>8]>>8:f[y]*k>>16}}function J(X,f,a,g,y,k,D,ee,se,B,U){const he=!!k,we=he?k[0]:0,Ie=he?k[1]:0,me=he?k[2]:0,ve=y==="Luminosity"?O:w,ne=Math.min(g,Math.ceil(1048576/a));for(let Ee=0;Ee<g;Ee+=ne){const Te=Math.min(ne,g-Ee),oe=X.getImageData(ee-B,Ee+(se-U),a,Te),Re=f.getImageData(ee,Ee+se,a,Te);he&&p(oe.data,we,Ie,me),ve(oe.data,Re.data,D),f.putImageData(Re,ee,Ee+se)}}function q(X,f,a,g){const y=g[0],k=g[1],D=g[2]-y,ee=g[3]-k;D===0||ee===0||(J(f.context,a,D,ee,f.subtype,f.backdrop,f.transferMap,y,k,f.offsetX,f.offsetY),X.save(),X.globalAlpha=1,X.globalCompositeOperation="source-over",X.setTransform(1,0,0,1,0,0),X.drawImage(a.canvas,0,0),X.restore())}function E(X,f){const a=n.Util.singularValueDecompose2dScale(X);a[0]=Math.fround(a[0]),a[1]=Math.fround(a[1]);const g=Math.fround((globalThis.devicePixelRatio||1)*L.PixelsPerInch.PDF_TO_CSS_UNITS);return f!==void 0?f:a[0]<=g||a[1]<=g}const G=["butt","round","square"],ge=["miter","round","bevel"],fe={},_e={},le=class le{constructor(f,a,g,y,k,{optionalContentConfig:D,markedContentStack:ee=null},se,B){Me(this,ye);this.ctx=f,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=a,this.objs=g,this.canvasFactory=y,this.filterFactory=k,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ee||[],this.optionalContentConfig=D,this.cachedCanvases=new j(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=se,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=B,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(f,a=null){return typeof f=="string"?f.startsWith("g_")?this.commonObjs.get(f):this.objs.get(f):a}beginDrawing({transform:f,viewport:a,transparency:g=!1,background:y=null}){const k=this.ctx.canvas.width,D=this.ctx.canvas.height,ee=this.ctx.fillStyle;if(this.ctx.fillStyle=y||"#ffffff",this.ctx.fillRect(0,0,k,D),this.ctx.fillStyle=ee,g){const se=this.cachedCanvases.getCanvas("transparent",k,D);this.compositeCtx=this.ctx,this.transparentCanvas=se.canvas,this.ctx=se.context,this.ctx.save(),this.ctx.transform(...(0,L.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_(this.ctx),f&&(this.ctx.transform(...f),this.outputScaleX=f[0],this.outputScaleY=f[0]),this.ctx.transform(...a.transform),this.viewportScale=a.scale,this.baseTransform=(0,L.getCurrentTransform)(this.ctx)}executeOperatorList(f,a,g,y){const k=f.argsArray,D=f.fnArray;let ee=a||0;const se=k.length;if(se===ee)return ee;const B=se-ee>S&&typeof g=="function",U=B?Date.now()+t:0;let he=0;const we=this.commonObjs,Ie=this.objs;let me;for(;;){if(y!==void 0&&ee===y.nextBreakPoint)return y.breakIt(ee,g),ee;if(me=D[ee],me!==n.OPS.dependency)this[me].apply(this,k[ee]);else for(const ve of k[ee]){const re=ve.startsWith("g_")?we:Ie;if(!re.has(ve))return re.get(ve,g),ee}if(ee++,ee===se)return ee;if(B&&++he>S){if(Date.now()>U)return g(),ee;he=0}}}endDrawing(){Ce(this,ye,Xt).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const f of this._cachedBitmapsMap.values()){for(const a of f.values())typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement&&(a.width=a.height=0);f.clear()}this._cachedBitmapsMap.clear(),Ce(this,ye,Yt).call(this)}_scaleImage(f,a){const g=f.width,y=f.height;let k=Math.max(Math.hypot(a[0],a[1]),1),D=Math.max(Math.hypot(a[2],a[3]),1),ee=g,se=y,B="prescale1",U,he;for(;k>2&&ee>1||D>2&&se>1;){let we=ee,Ie=se;k>2&&ee>1&&(we=ee>=16384?Math.floor(ee/2)-1||1:Math.ceil(ee/2),k/=ee/we),D>2&&se>1&&(Ie=se>=16384?Math.floor(se/2)-1||1:Math.ceil(se)/2,D/=se/Ie),U=this.cachedCanvases.getCanvas(B,we,Ie),he=U.context,he.clearRect(0,0,we,Ie),he.drawImage(f,0,0,ee,se,0,0,we,Ie),f=U.canvas,ee=we,se=Ie,B=B==="prescale1"?"prescale2":"prescale1"}return{img:f,paintWidth:ee,paintHeight:se}}_createMaskCanvas(f){const a=this.ctx,{width:g,height:y}=f,k=this.current.fillColor,D=this.current.patternFill,ee=(0,L.getCurrentTransform)(a);let se,B,U,he;if((f.bitmap||f.data)&&f.count>1){const te=f.bitmap||f.data.buffer;B=JSON.stringify(D?ee:[ee.slice(0,4),k]),se=this._cachedBitmapsMap.get(te),se||(se=new Map,this._cachedBitmapsMap.set(te,se));const Pe=se.get(B);if(Pe&&!D){const Oe=Math.round(Math.min(ee[0],ee[2])+ee[4]),qe=Math.round(Math.min(ee[1],ee[3])+ee[5]);return{canvas:Pe,offsetX:Oe,offsetY:qe}}U=Pe}U||(he=this.cachedCanvases.getCanvas("maskCanvas",g,y),v(he.context,f));let we=n.Util.transform(ee,[1/g,0,0,-1/y,0,0]);we=n.Util.transform(we,[1,0,0,1,0,-y]);const Ie=n.Util.applyTransform([0,0],we),me=n.Util.applyTransform([g,y],we),ve=n.Util.normalizeRect([Ie[0],Ie[1],me[0],me[1]]),re=Math.round(ve[2]-ve[0])||1,ne=Math.round(ve[3]-ve[1])||1,Ee=this.cachedCanvases.getCanvas("fillCanvas",re,ne),Te=Ee.context,oe=Math.min(Ie[0],me[0]),Re=Math.min(Ie[1],me[1]);Te.translate(-oe,-Re),Te.transform(...we),U||(U=this._scaleImage(he.canvas,(0,L.getCurrentTransformInverse)(Te)),U=U.img,se&&D&&se.set(B,U)),Te.imageSmoothingEnabled=E((0,L.getCurrentTransform)(Te),f.interpolate),m(Te,U,0,0,U.width,U.height,0,0,g,y),Te.globalCompositeOperation="source-in";const W=n.Util.transform((0,L.getCurrentTransformInverse)(Te),[1,0,0,1,-oe,-Re]);return Te.fillStyle=D?k.getPattern(a,this,W,T.PathType.FILL):k,Te.fillRect(0,0,g,y),se&&!D&&(this.cachedCanvases.delete("fillCanvas"),se.set(B,Ee.canvas)),{canvas:Ee.canvas,offsetX:Math.round(oe),offsetY:Math.round(Re)}}setLineWidth(f){f!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=f,this.ctx.lineWidth=f}setLineCap(f){this.ctx.lineCap=G[f]}setLineJoin(f){this.ctx.lineJoin=ge[f]}setMiterLimit(f){this.ctx.miterLimit=f}setDash(f,a){const g=this.ctx;g.setLineDash!==void 0&&(g.setLineDash(f),g.lineDashOffset=a)}setRenderingIntent(f){}setFlatness(f){}setGState(f){for(const[a,g]of f)switch(a){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g[0],g[1]);break;case"CA":this.current.strokeAlpha=g;break;case"ca":this.current.fillAlpha=g,this.ctx.globalAlpha=g;break;case"BM":this.ctx.globalCompositeOperation=g;break;case"SMask":this.current.activeSMask=g?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(g);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const f=this.inSMaskMode;this.current.activeSMask&&!f?this.beginSMaskMode():!this.current.activeSMask&&f&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const f=this.ctx.canvas.width,a=this.ctx.canvas.height,g="smaskGroupAt"+this.groupLevel,y=this.cachedCanvases.getCanvas(g,f,a);this.suspendedCtx=this.ctx,this.ctx=y.context;const k=this.ctx;k.setTransform(...(0,L.getCurrentTransform)(this.suspendedCtx)),l(this.suspendedCtx,k),C(k,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),l(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(f){if(!this.current.activeSMask)return;f?(f[0]=Math.floor(f[0]),f[1]=Math.floor(f[1]),f[2]=Math.ceil(f[2]),f[3]=Math.ceil(f[3])):f=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const a=this.current.activeSMask,g=this.suspendedCtx;q(g,a,this.ctx,f),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(l(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const f=this.current;this.stateStack.push(f),this.current=f.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),l(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(f,a,g,y,k,D){this.ctx.transform(f,a,g,y,k,D),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(f,a,g){const y=this.ctx,k=this.current;let D=k.x,ee=k.y,se,B;const U=(0,L.getCurrentTransform)(y),he=U[0]===0&&U[3]===0||U[1]===0&&U[2]===0,we=he?g.slice(0):null;for(let Ie=0,me=0,ve=f.length;Ie<ve;Ie++)switch(f[Ie]|0){case n.OPS.rectangle:D=a[me++],ee=a[me++];const re=a[me++],ne=a[me++],Ee=D+re,Te=ee+ne;y.moveTo(D,ee),re===0||ne===0?y.lineTo(Ee,Te):(y.lineTo(Ee,ee),y.lineTo(Ee,Te),y.lineTo(D,Te)),he||k.updateRectMinMax(U,[D,ee,Ee,Te]),y.closePath();break;case n.OPS.moveTo:D=a[me++],ee=a[me++],y.moveTo(D,ee),he||k.updatePathMinMax(U,D,ee);break;case n.OPS.lineTo:D=a[me++],ee=a[me++],y.lineTo(D,ee),he||k.updatePathMinMax(U,D,ee);break;case n.OPS.curveTo:se=D,B=ee,D=a[me+4],ee=a[me+5],y.bezierCurveTo(a[me],a[me+1],a[me+2],a[me+3],D,ee),k.updateCurvePathMinMax(U,se,B,a[me],a[me+1],a[me+2],a[me+3],D,ee,we),me+=6;break;case n.OPS.curveTo2:se=D,B=ee,y.bezierCurveTo(D,ee,a[me],a[me+1],a[me+2],a[me+3]),k.updateCurvePathMinMax(U,se,B,D,ee,a[me],a[me+1],a[me+2],a[me+3],we),D=a[me+2],ee=a[me+3],me+=4;break;case n.OPS.curveTo3:se=D,B=ee,D=a[me+2],ee=a[me+3],y.bezierCurveTo(a[me],a[me+1],D,ee,D,ee),k.updateCurvePathMinMax(U,se,B,a[me],a[me+1],D,ee,D,ee,we),me+=4;break;case n.OPS.closePath:y.closePath();break}he&&k.updateScalingPathMinMax(U,we),k.setCurrentPoint(D,ee)}closePath(){this.ctx.closePath()}stroke(f=!0){const a=this.ctx,g=this.current.strokeColor;a.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof g=="object"&&(g!=null&&g.getPattern)?(a.save(),a.strokeStyle=g.getPattern(a,this,(0,L.getCurrentTransformInverse)(a),T.PathType.STROKE),this.rescaleAndStroke(!1),a.restore()):this.rescaleAndStroke(!0)),f&&this.consumePath(this.current.getClippedPathBoundingBox()),a.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(f=!0){const a=this.ctx,g=this.current.fillColor,y=this.current.patternFill;let k=!1;y&&(a.save(),a.fillStyle=g.getPattern(a,this,(0,L.getCurrentTransformInverse)(a),T.PathType.FILL),k=!0);const D=this.current.getClippedPathBoundingBox();this.contentVisible&&D!==null&&(this.pendingEOFill?(a.fill("evenodd"),this.pendingEOFill=!1):a.fill()),k&&a.restore(),f&&this.consumePath(D)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=fe}eoClip(){this.pendingClip=_e}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const f=this.pendingTextPaths,a=this.ctx;if(f===void 0){a.beginPath();return}a.save(),a.beginPath();for(const g of f)a.setTransform(...g.transform),a.translate(g.x,g.y),g.addToPath(a,g.fontSize);a.restore(),a.clip(),a.beginPath(),delete this.pendingTextPaths}setCharSpacing(f){this.current.charSpacing=f}setWordSpacing(f){this.current.wordSpacing=f}setHScale(f){this.current.textHScale=f/100}setLeading(f){this.current.leading=-f}setFont(f,a){var U;const g=this.commonObjs.get(f),y=this.current;if(!g)throw new Error(`Can't find font for ${f}`);if(y.fontMatrix=g.fontMatrix||n.FONT_IDENTITY_MATRIX,(y.fontMatrix[0]===0||y.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+f),a<0?(a=-a,y.fontDirection=-1):y.fontDirection=1,this.current.font=g,this.current.fontSize=a,g.isType3Font)return;const k=g.loadedName||"sans-serif",D=((U=g.systemFontInfo)==null?void 0:U.css)||`"${k}", ${g.fallbackName}`;let ee="normal";g.black?ee="900":g.bold&&(ee="bold");const se=g.italic?"italic":"normal";let B=a;a<N?B=N:a>b&&(B=b),this.current.fontSizeScale=a/B,this.ctx.font=`${se} ${ee} ${B}px ${D}`}setTextRenderingMode(f){this.current.textRenderingMode=f}setTextRise(f){this.current.textRise=f}moveText(f,a){this.current.x=this.current.lineX+=f,this.current.y=this.current.lineY+=a}setLeadingMoveText(f,a){this.setLeading(-a),this.moveText(f,a)}setTextMatrix(f,a,g,y,k,D){this.current.textMatrix=[f,a,g,y,k,D],this.current.textMatrixScale=Math.hypot(f,a),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(f,a,g,y){const k=this.ctx,D=this.current,ee=D.font,se=D.textRenderingMode,B=D.fontSize/D.fontSizeScale,U=se&n.TextRenderingMode.FILL_STROKE_MASK,he=!!(se&n.TextRenderingMode.ADD_TO_PATH_FLAG),we=D.patternFill&&!ee.missingFile;let Ie;(ee.disableFontFace||he||we)&&(Ie=ee.getPathGenerator(this.commonObjs,f)),ee.disableFontFace||we?(k.save(),k.translate(a,g),k.beginPath(),Ie(k,B),y&&k.setTransform(...y),(U===n.TextRenderingMode.FILL||U===n.TextRenderingMode.FILL_STROKE)&&k.fill(),(U===n.TextRenderingMode.STROKE||U===n.TextRenderingMode.FILL_STROKE)&&k.stroke(),k.restore()):((U===n.TextRenderingMode.FILL||U===n.TextRenderingMode.FILL_STROKE)&&k.fillText(f,a,g),(U===n.TextRenderingMode.STROKE||U===n.TextRenderingMode.FILL_STROKE)&&k.strokeText(f,a,g)),he&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,L.getCurrentTransform)(k),x:a,y:g,fontSize:B,addToPath:Ie})}get isFontSubpixelAAEnabled(){const{context:f}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);f.scale(1.5,1),f.fillText("I",0,10);const a=f.getImageData(0,0,10,10).data;let g=!1;for(let y=3;y<a.length;y+=4)if(a[y]>0&&a[y]<255){g=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",g)}showText(f){const a=this.current,g=a.font;if(g.isType3Font)return this.showType3Text(f);const y=a.fontSize;if(y===0)return;const k=this.ctx,D=a.fontSizeScale,ee=a.charSpacing,se=a.wordSpacing,B=a.fontDirection,U=a.textHScale*B,he=f.length,we=g.vertical,Ie=we?1:-1,me=g.defaultVMetrics,ve=y*a.fontMatrix[0],re=a.textRenderingMode===n.TextRenderingMode.FILL&&!g.disableFontFace&&!a.patternFill;k.save(),k.transform(...a.textMatrix),k.translate(a.x,a.y+a.textRise),B>0?k.scale(U,-1):k.scale(U,1);let ne;if(a.patternFill){k.save();const W=a.fillColor.getPattern(k,this,(0,L.getCurrentTransformInverse)(k),T.PathType.FILL);ne=(0,L.getCurrentTransform)(k),k.restore(),k.fillStyle=W}let Ee=a.lineWidth;const Te=a.textMatrixScale;if(Te===0||Ee===0){const W=a.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(W===n.TextRenderingMode.STROKE||W===n.TextRenderingMode.FILL_STROKE)&&(Ee=this.getSinglePixelWidth())}else Ee/=Te;if(D!==1&&(k.scale(D,D),Ee/=D),k.lineWidth=Ee,g.isInvalidPDFjsFont){const W=[];let te=0;for(const Pe of f)W.push(Pe.unicode),te+=Pe.width;k.fillText(W.join(""),0,0),a.x+=te*ve*U,k.restore(),this.compose();return}let oe=0,Re;for(Re=0;Re<he;++Re){const W=f[Re];if(typeof W=="number"){oe+=Ie*W*y/1e3;continue}let te=!1;const Pe=(W.isSpace?se:0)+ee,Oe=W.fontChar,qe=W.accent;let De,Y,e=W.width;if(we){const Z=W.vmetric||me,ce=-(W.vmetric?Z[1]:e*.5)*ve,z=Z[2]*ve;e=Z?-Z[0]:e,De=ce/D,Y=(oe+z)/D}else De=oe/D,Y=0;if(g.remeasure&&e>0){const Z=k.measureText(Oe).width*1e3/y*D;if(e<Z&&this.isFontSubpixelAAEnabled){const ce=e/Z;te=!0,k.save(),k.scale(ce,1),De/=ce}else e!==Z&&(De+=(e-Z)/2e3*y/D)}if(this.contentVisible&&(W.isInFont||g.missingFile)){if(re&&!qe)k.fillText(Oe,De,Y);else if(this.paintChar(Oe,De,Y,ne),qe){const Z=De+y*qe.offset.x/D,ce=Y-y*qe.offset.y/D;this.paintChar(qe.fontChar,Z,ce,ne)}}const h=we?e*ve-Pe*B:e*ve+Pe*B;oe+=h,te&&k.restore()}we?a.y-=oe:a.x+=oe*U,k.restore(),this.compose()}showType3Text(f){const a=this.ctx,g=this.current,y=g.font,k=g.fontSize,D=g.fontDirection,ee=y.vertical?1:-1,se=g.charSpacing,B=g.wordSpacing,U=g.textHScale*D,he=g.fontMatrix||n.FONT_IDENTITY_MATRIX,we=f.length,Ie=g.textRenderingMode===n.TextRenderingMode.INVISIBLE;let me,ve,re,ne;if(!(Ie||k===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,a.save(),a.transform(...g.textMatrix),a.translate(g.x,g.y),a.scale(U,D),me=0;me<we;++me){if(ve=f[me],typeof ve=="number"){ne=ee*ve*k/1e3,this.ctx.translate(ne,0),g.x+=ne*U;continue}const Ee=(ve.isSpace?B:0)+se,Te=y.charProcOperatorList[ve.operatorListId];if(!Te){(0,n.warn)(`Type3 character "${ve.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ve,this.save(),a.scale(k,k),a.transform(...he),this.executeOperatorList(Te),this.restore()),re=n.Util.applyTransform([ve.width,0],he)[0]*k+Ee,a.translate(re,0),g.x+=re*U}a.restore(),this.processingType3=null}}setCharWidth(f,a){}setCharWidthAndBounds(f,a,g,y,k,D){this.ctx.rect(g,y,k-g,D-y),this.ctx.clip(),this.endPath()}getColorN_Pattern(f){let a;if(f[0]==="TilingPattern"){const g=f[1],y=this.baseTransform||(0,L.getCurrentTransform)(this.ctx),k={createCanvasGraphics:D=>new le(D,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};a=new T.TilingPattern(f,g,this.ctx,k,y)}else a=this._getPattern(f[1],f[2]);return a}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(f,a,g){const y=n.Util.makeHexColor(f,a,g);this.ctx.strokeStyle=y,this.current.strokeColor=y}setFillRGBColor(f,a,g){const y=n.Util.makeHexColor(f,a,g);this.ctx.fillStyle=y,this.current.fillColor=y,this.current.patternFill=!1}_getPattern(f,a=null){let g;return this.cachedPatterns.has(f)?g=this.cachedPatterns.get(f):(g=(0,T.getShadingPattern)(this.getObject(f)),this.cachedPatterns.set(f,g)),a&&(g.matrix=a),g}shadingFill(f){if(!this.contentVisible)return;const a=this.ctx;this.save();const g=this._getPattern(f);a.fillStyle=g.getPattern(a,this,(0,L.getCurrentTransformInverse)(a),T.PathType.SHADING);const y=(0,L.getCurrentTransformInverse)(a);if(y){const{width:k,height:D}=a.canvas,[ee,se,B,U]=n.Util.getAxialAlignedBoundingBox([0,0,k,D],y);this.ctx.fillRect(ee,se,B-ee,U-se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(f,a){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(f)&&f.length===6&&this.transform(...f),this.baseTransform=(0,L.getCurrentTransform)(this.ctx),a)){const g=a[2]-a[0],y=a[3]-a[1];this.ctx.rect(a[0],a[1],g,y),this.current.updateRectMinMax((0,L.getCurrentTransform)(this.ctx),a),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(f){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const a=this.ctx;f.isolated||(0,n.info)("TODO: Support non-isolated groups."),f.knockout&&(0,n.warn)("Knockout groups not supported.");const g=(0,L.getCurrentTransform)(a);if(f.matrix&&a.transform(...f.matrix),!f.bbox)throw new Error("Bounding box is required.");let y=n.Util.getAxialAlignedBoundingBox(f.bbox,(0,L.getCurrentTransform)(a));const k=[0,0,a.canvas.width,a.canvas.height];y=n.Util.intersect(y,k)||[0,0,0,0];const D=Math.floor(y[0]),ee=Math.floor(y[1]);let se=Math.max(Math.ceil(y[2])-D,1),B=Math.max(Math.ceil(y[3])-ee,1),U=1,he=1;se>A&&(U=se/A,se=A),B>A&&(he=B/A,B=A),this.current.startNewPathAndClipBox([0,0,se,B]);let we="groupAt"+this.groupLevel;f.smask&&(we+="_smask_"+this.smaskCounter++%2);const Ie=this.cachedCanvases.getCanvas(we,se,B),me=Ie.context;me.scale(1/U,1/he),me.translate(-D,-ee),me.transform(...g),f.smask?this.smaskStack.push({canvas:Ie.canvas,context:me,offsetX:D,offsetY:ee,scaleX:U,scaleY:he,subtype:f.smask.subtype,backdrop:f.smask.backdrop,transferMap:f.smask.transferMap||null,startTransformInverse:null}):(a.setTransform(1,0,0,1,0,0),a.translate(D,ee),a.scale(U,he),a.save()),l(a,me),this.ctx=me,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}endGroup(f){if(!this.contentVisible)return;this.groupLevel--;const a=this.ctx,g=this.groupStack.pop();if(this.ctx=g,this.ctx.imageSmoothingEnabled=!1,f.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const y=(0,L.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...y);const k=n.Util.getAxialAlignedBoundingBox([0,0,a.canvas.width,a.canvas.height],y);this.ctx.drawImage(a.canvas,0,0),this.ctx.restore(),this.compose(k)}}beginAnnotation(f,a,g,y,k){if(Ce(this,ye,Xt).call(this),_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(a)&&a.length===4){const D=a[2]-a[0],ee=a[3]-a[1];if(k&&this.annotationCanvasMap){g=g.slice(),g[4]-=a[0],g[5]-=a[1],a=a.slice(),a[0]=a[1]=0,a[2]=D,a[3]=ee;const[se,B]=n.Util.singularValueDecompose2dScale((0,L.getCurrentTransform)(this.ctx)),{viewportScale:U}=this,he=Math.ceil(D*this.outputScaleX*U),we=Math.ceil(ee*this.outputScaleY*U);this.annotationCanvas=this.canvasFactory.create(he,we);const{canvas:Ie,context:me}=this.annotationCanvas;this.annotationCanvasMap.set(f,Ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=me,this.ctx.save(),this.ctx.setTransform(se,0,0,-B,0,ee*B),_(this.ctx)}else _(this.ctx),this.ctx.rect(a[0],a[1],D,ee),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...g),this.transform(...y)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ce(this,ye,Yt).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(f){if(!this.contentVisible)return;const a=f.count;f=this.getObject(f.data,f),f.count=a;const g=this.ctx,y=this.processingType3;if(y&&(y.compiled===void 0&&(y.compiled=r(f)),y.compiled)){y.compiled(g);return}const k=this._createMaskCanvas(f),D=k.canvas;g.save(),g.setTransform(1,0,0,1,0,0),g.drawImage(D,k.offsetX,k.offsetY),g.restore(),this.compose()}paintImageMaskXObjectRepeat(f,a,g=0,y=0,k,D){if(!this.contentVisible)return;f=this.getObject(f.data,f);const ee=this.ctx;ee.save();const se=(0,L.getCurrentTransform)(ee);ee.transform(a,g,y,k,0,0);const B=this._createMaskCanvas(f);ee.setTransform(1,0,0,1,B.offsetX-se[4],B.offsetY-se[5]);for(let U=0,he=D.length;U<he;U+=2){const we=n.Util.transform(se,[a,g,y,k,D[U],D[U+1]]),[Ie,me]=n.Util.applyTransform([0,0],we);ee.drawImage(B.canvas,Ie,me)}ee.restore(),this.compose()}paintImageMaskXObjectGroup(f){if(!this.contentVisible)return;const a=this.ctx,g=this.current.fillColor,y=this.current.patternFill;for(const k of f){const{data:D,width:ee,height:se,transform:B}=k,U=this.cachedCanvases.getCanvas("maskCanvas",ee,se),he=U.context;he.save();const we=this.getObject(D,k);v(he,we),he.globalCompositeOperation="source-in",he.fillStyle=y?g.getPattern(he,this,(0,L.getCurrentTransformInverse)(a),T.PathType.FILL):g,he.fillRect(0,0,ee,se),he.restore(),a.save(),a.transform(...B),a.scale(1,-1),m(a,U.canvas,0,0,ee,se,0,-1,1,1),a.restore()}this.compose()}paintImageXObject(f){if(!this.contentVisible)return;const a=this.getObject(f);if(!a){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(a)}paintImageXObjectRepeat(f,a,g,y){if(!this.contentVisible)return;const k=this.getObject(f);if(!k){(0,n.warn)("Dependent image isn't ready yet");return}const D=k.width,ee=k.height,se=[];for(let B=0,U=y.length;B<U;B+=2)se.push({transform:[a,0,0,g,y[B],y[B+1]],x:0,y:0,w:D,h:ee});this.paintInlineImageXObjectGroup(k,se)}applyTransferMapsToCanvas(f){return this.current.transferMaps!=="none"&&(f.filter=this.current.transferMaps,f.drawImage(f.canvas,0,0),f.filter="none"),f.canvas}applyTransferMapsToBitmap(f){if(this.current.transferMaps==="none")return f.bitmap;const{bitmap:a,width:g,height:y}=f,k=this.cachedCanvases.getCanvas("inlineImage",g,y),D=k.context;return D.filter=this.current.transferMaps,D.drawImage(a,0,0),D.filter="none",k.canvas}paintInlineImageXObject(f){if(!this.contentVisible)return;const a=f.width,g=f.height,y=this.ctx;if(this.save(),!n.isNodeJS){const{filter:ee}=y;ee!=="none"&&ee!==""&&(y.filter="none")}y.scale(1/a,-1/g);let k;if(f.bitmap)k=this.applyTransferMapsToBitmap(f);else if(typeof HTMLElement=="function"&&f instanceof HTMLElement||!f.data)k=f;else{const se=this.cachedCanvases.getCanvas("inlineImage",a,g).context;x(se,f),k=this.applyTransferMapsToCanvas(se)}const D=this._scaleImage(k,(0,L.getCurrentTransformInverse)(y));y.imageSmoothingEnabled=E((0,L.getCurrentTransform)(y),f.interpolate),m(y,D.img,0,0,D.paintWidth,D.paintHeight,0,-g,a,g),this.compose(),this.restore()}paintInlineImageXObjectGroup(f,a){if(!this.contentVisible)return;const g=this.ctx;let y;if(f.bitmap)y=f.bitmap;else{const k=f.width,D=f.height,se=this.cachedCanvases.getCanvas("inlineImage",k,D).context;x(se,f),y=this.applyTransferMapsToCanvas(se)}for(const k of a)g.save(),g.transform(...k.transform),g.scale(1,-1),m(g,y,k.x,k.y,k.w,k.h,0,-1,1,1),g.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(f){}markPointProps(f,a){}beginMarkedContent(f){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(f,a){f==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(a)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(f){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(f);const g=this.ctx;this.pendingClip&&(a||(this.pendingClip===_e?g.clip("evenodd"):g.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),g.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const f=(0,L.getCurrentTransform)(this.ctx);if(f[1]===0&&f[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(f[0]),Math.abs(f[3]));else{const a=Math.abs(f[0]*f[3]-f[2]*f[1]),g=Math.hypot(f[0],f[2]),y=Math.hypot(f[1],f[3]);this._cachedGetSinglePixelWidth=Math.max(g,y)/a}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:f}=this.current,{a,b:g,c:y,d:k}=this.ctx.getTransform();let D,ee;if(g===0&&y===0){const se=Math.abs(a),B=Math.abs(k);if(se===B)if(f===0)D=ee=1/se;else{const U=se*f;D=ee=U<1?1/U:1}else if(f===0)D=1/se,ee=1/B;else{const U=se*f,he=B*f;D=U<1?1/U:1,ee=he<1?1/he:1}}else{const se=Math.abs(a*k-g*y),B=Math.hypot(a,g),U=Math.hypot(y,k);if(f===0)D=U/se,ee=B/se;else{const he=f*se;D=U>he?U/he:1,ee=B>he?B/he:1}}this._cachedScaleForStroking[0]=D,this._cachedScaleForStroking[1]=ee}return this._cachedScaleForStroking}rescaleAndStroke(f){const{ctx:a}=this,{lineWidth:g}=this.current,[y,k]=this.getScaleForStroking();if(a.lineWidth=g||1,y===1&&k===1){a.stroke();return}const D=a.getLineDash();if(f&&a.save(),a.scale(y,k),D.length>0){const ee=Math.max(y,k);a.setLineDash(D.map(se=>se/ee)),a.lineDashOffset/=ee}a.stroke(),f&&a.restore()}isContentVisible(){for(let f=this.markedContentStack.length-1;f>=0;f--)if(!this.markedContentStack[f].visible)return!1;return!0}};ye=new WeakSet,Xt=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Yt=function(){if(this.pageColors){const f=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(f!=="none"){const a=this.ctx.filter;this.ctx.filter=f,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=a}}};let ue=le;o.CanvasGraphics=ue;for(const X in n.OPS)ue.prototype[X]!==void 0&&(ue.prototype[n.OPS[X]]=ue.prototype[X])},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=R;var n=$(1),L=$(6);const T={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=T;function I(r,d){if(!d)return;const x=d[2]-d[0],v=d[3]-d[1],l=new Path2D;l.rect(d[0],d[1],x,v),r.clip(l)}class N{constructor(){this.constructor===N&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class b extends N{constructor(d){super(),this._type=d[1],this._bbox=d[2],this._colorStops=d[3],this._p0=d[4],this._p1=d[5],this._r0=d[6],this._r1=d[7],this.matrix=null}_createGradient(d){let x;this._type==="axial"?x=d.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(x=d.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const v of this._colorStops)x.addColorStop(v[0],v[1]);return x}getPattern(d,x,v,l){let _;if(l===T.STROKE||l===T.FILL){const p=x.current.getClippedPathBoundingBox(l,(0,L.getCurrentTransform)(d))||[0,0,0,0],w=Math.ceil(p[2]-p[0])||1,O=Math.ceil(p[3]-p[1])||1,J=x.cachedCanvases.getCanvas("pattern",w,O,!0),q=J.context;q.clearRect(0,0,q.canvas.width,q.canvas.height),q.beginPath(),q.rect(0,0,q.canvas.width,q.canvas.height),q.translate(-p[0],-p[1]),v=n.Util.transform(v,[1,0,0,1,p[0],p[1]]),q.transform(...x.baseTransform),this.matrix&&q.transform(...this.matrix),I(q,this._bbox),q.fillStyle=this._createGradient(q),q.fill(),_=d.createPattern(J.canvas,"no-repeat");const E=new DOMMatrix(v);_.setTransform(E)}else I(d,this._bbox),_=this._createGradient(d);return _}}function A(r,d,x,v,l,_,p,w){const O=d.coords,J=d.colors,q=r.data,E=r.width*4;let G;O[x+1]>O[v+1]&&(G=x,x=v,v=G,G=_,_=p,p=G),O[v+1]>O[l+1]&&(G=v,v=l,l=G,G=p,p=w,w=G),O[x+1]>O[v+1]&&(G=x,x=v,v=G,G=_,_=p,p=G);const ge=(O[x]+d.offsetX)*d.scaleX,fe=(O[x+1]+d.offsetY)*d.scaleY,_e=(O[v]+d.offsetX)*d.scaleX,ue=(O[v+1]+d.offsetY)*d.scaleY,ye=(O[l]+d.offsetX)*d.scaleX,K=(O[l+1]+d.offsetY)*d.scaleY;if(fe>=K)return;const Q=J[_],le=J[_+1],X=J[_+2],f=J[p],a=J[p+1],g=J[p+2],y=J[w],k=J[w+1],D=J[w+2],ee=Math.round(fe),se=Math.round(K);let B,U,he,we,Ie,me,ve,re;for(let ne=ee;ne<=se;ne++){if(ne<ue){const W=ne<fe?0:(fe-ne)/(fe-ue);B=ge-(ge-_e)*W,U=Q-(Q-f)*W,he=le-(le-a)*W,we=X-(X-g)*W}else{let W;ne>K?W=1:ue===K?W=0:W=(ue-ne)/(ue-K),B=_e-(_e-ye)*W,U=f-(f-y)*W,he=a-(a-k)*W,we=g-(g-D)*W}let Ee;ne<fe?Ee=0:ne>K?Ee=1:Ee=(fe-ne)/(fe-K),Ie=ge-(ge-ye)*Ee,me=Q-(Q-y)*Ee,ve=le-(le-k)*Ee,re=X-(X-D)*Ee;const Te=Math.round(Math.min(B,Ie)),oe=Math.round(Math.max(B,Ie));let Re=E*ne+Te*4;for(let W=Te;W<=oe;W++)Ee=(B-W)/(B-Ie),Ee<0?Ee=0:Ee>1&&(Ee=1),q[Re++]=U-(U-me)*Ee|0,q[Re++]=he-(he-ve)*Ee|0,q[Re++]=we-(we-re)*Ee|0,q[Re++]=255}}function t(r,d,x){const v=d.coords,l=d.colors;let _,p;switch(d.type){case"lattice":const w=d.verticesPerRow,O=Math.floor(v.length/w)-1,J=w-1;for(_=0;_<O;_++){let q=_*w;for(let E=0;E<J;E++,q++)A(r,x,v[q],v[q+1],v[q+w],l[q],l[q+1],l[q+w]),A(r,x,v[q+w+1],v[q+1],v[q+w],l[q+w+1],l[q+1],l[q+w])}break;case"triangles":for(_=0,p=v.length;_<p;_+=3)A(r,x,v[_],v[_+1],v[_+2],l[_],l[_+1],l[_+2]);break;default:throw new Error("illegal figure")}}class S extends N{constructor(d){super(),this._coords=d[2],this._colors=d[3],this._figures=d[4],this._bounds=d[5],this._bbox=d[7],this._background=d[8],this.matrix=null}_createMeshCanvas(d,x,v){const w=Math.floor(this._bounds[0]),O=Math.floor(this._bounds[1]),J=Math.ceil(this._bounds[2])-w,q=Math.ceil(this._bounds[3])-O,E=Math.min(Math.ceil(Math.abs(J*d[0]*1.1)),3e3),G=Math.min(Math.ceil(Math.abs(q*d[1]*1.1)),3e3),ge=J/E,fe=q/G,_e={coords:this._coords,colors:this._colors,offsetX:-w,offsetY:-O,scaleX:1/ge,scaleY:1/fe},ue=E+2*2,ye=G+2*2,K=v.getCanvas("mesh",ue,ye,!1),Q=K.context,le=Q.createImageData(E,G);if(x){const f=le.data;for(let a=0,g=f.length;a<g;a+=4)f[a]=x[0],f[a+1]=x[1],f[a+2]=x[2],f[a+3]=255}for(const f of this._figures)t(le,f,_e);return Q.putImageData(le,2,2),{canvas:K.canvas,offsetX:w-2*ge,offsetY:O-2*fe,scaleX:ge,scaleY:fe}}getPattern(d,x,v,l){I(d,this._bbox);let _;if(l===T.SHADING)_=n.Util.singularValueDecompose2dScale((0,L.getCurrentTransform)(d));else if(_=n.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const w=n.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*w[0],_[1]*w[1]]}const p=this._createMeshCanvas(_,l===T.SHADING?null:this._background,x.cachedCanvases);return l!==T.SHADING&&(d.setTransform(...x.baseTransform),this.matrix&&d.transform(...this.matrix)),d.translate(p.offsetX,p.offsetY),d.scale(p.scaleX,p.scaleY),d.createPattern(p.canvas,"no-repeat")}}class F extends N{getPattern(){return"hotpink"}}function R(r){switch(r[0]){case"RadialAxial":return new b(r);case"Mesh":return new S(r);case"Dummy":return new F}throw new Error(`Unknown IR type: ${r[0]}`)}const C={COLORED:1,UNCOLORED:2},m=class m{constructor(d,x,v,l,_){this.operatorList=d[2],this.matrix=d[3]||[1,0,0,1,0,0],this.bbox=d[4],this.xstep=d[5],this.ystep=d[6],this.paintType=d[7],this.tilingType=d[8],this.color=x,this.ctx=v,this.canvasGraphicsFactory=l,this.baseTransform=_}createPatternCanvas(d){const x=this.operatorList,v=this.bbox,l=this.xstep,_=this.ystep,p=this.paintType,w=this.tilingType,O=this.color,J=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+w);const q=v[0],E=v[1],G=v[2],ge=v[3],fe=n.Util.singularValueDecompose2dScale(this.matrix),_e=n.Util.singularValueDecompose2dScale(this.baseTransform),ue=[fe[0]*_e[0],fe[1]*_e[1]],ye=this.getSizeAndScale(l,this.ctx.canvas.width,ue[0]),K=this.getSizeAndScale(_,this.ctx.canvas.height,ue[1]),Q=d.cachedCanvases.getCanvas("pattern",ye.size,K.size,!0),le=Q.context,X=J.createCanvasGraphics(le);X.groupLevel=d.groupLevel,this.setFillAndStrokeStyleToContext(X,p,O);let f=q,a=E,g=G,y=ge;return q<0&&(f=0,g+=Math.abs(q)),E<0&&(a=0,y+=Math.abs(E)),le.translate(-(ye.scale*f),-(K.scale*a)),X.transform(ye.scale,0,0,K.scale,0,0),le.save(),this.clipBbox(X,f,a,g,y),X.baseTransform=(0,L.getCurrentTransform)(X.ctx),X.executeOperatorList(x),X.endDrawing(),{canvas:Q.canvas,scaleX:ye.scale,scaleY:K.scale,offsetX:f,offsetY:a}}getSizeAndScale(d,x,v){d=Math.abs(d);const l=Math.max(m.MAX_PATTERN_SIZE,x);let _=Math.ceil(d*v);return _>=l?_=l:v=_/d,{scale:v,size:_}}clipBbox(d,x,v,l,_){const p=l-x,w=_-v;d.ctx.rect(x,v,p,w),d.current.updateRectMinMax((0,L.getCurrentTransform)(d.ctx),[x,v,l,_]),d.clip(),d.endPath()}setFillAndStrokeStyleToContext(d,x,v){const l=d.ctx,_=d.current;switch(x){case C.COLORED:const p=this.ctx;l.fillStyle=p.fillStyle,l.strokeStyle=p.strokeStyle,_.fillColor=p.fillStyle,_.strokeColor=p.strokeStyle;break;case C.UNCOLORED:const w=n.Util.makeHexColor(v[0],v[1],v[2]);l.fillStyle=w,l.strokeStyle=w,_.fillColor=w,_.strokeColor=w;break;default:throw new n.FormatError(`Unsupported paint type: ${x}`)}}getPattern(d,x,v,l){let _=v;l!==T.SHADING&&(_=n.Util.transform(_,x.baseTransform),this.matrix&&(_=n.Util.transform(_,this.matrix)));const p=this.createPatternCanvas(x);let w=new DOMMatrix(_);w=w.translate(p.offsetX,p.offsetY),w=w.scale(1/p.scaleX,1/p.scaleY);const O=d.createPattern(p.canvas,"repeat");return O.setTransform(w),O}};Je(m,"MAX_PATTERN_SIZE",3e3);let j=m;o.TilingPattern=j},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=T,o.convertToRGBA=L,o.grayToRGBA=N;var n=$(1);function L(b){switch(b.kind){case n.ImageKind.GRAYSCALE_1BPP:return T(b);case n.ImageKind.RGB_24BPP:return I(b)}return null}function T({src:b,srcPos:A=0,dest:t,width:S,height:F,nonBlackColor:R=4294967295,inverseDecode:C=!1}){const j=n.FeatureTest.isLittleEndian?4278190080:255,[m,r]=C?[R,j]:[j,R],d=S>>3,x=S&7,v=b.length;t=new Uint32Array(t.buffer);let l=0;for(let _=0;_<F;_++){for(const w=A+d;A<w;A++){const O=A<v?b[A]:255;t[l++]=O&128?r:m,t[l++]=O&64?r:m,t[l++]=O&32?r:m,t[l++]=O&16?r:m,t[l++]=O&8?r:m,t[l++]=O&4?r:m,t[l++]=O&2?r:m,t[l++]=O&1?r:m}if(x===0)continue;const p=A<v?b[A++]:255;for(let w=0;w<x;w++)t[l++]=p&1<<7-w?r:m}return{srcPos:A,destPos:l}}function I({src:b,srcPos:A=0,dest:t,destPos:S=0,width:F,height:R}){let C=0;const j=b.length>>2,m=new Uint32Array(b.buffer,A,j);if(n.FeatureTest.isLittleEndian){for(;C<j-2;C+=3,S+=4){const r=m[C],d=m[C+1],x=m[C+2];t[S]=r|4278190080,t[S+1]=r>>>24|d<<8|4278190080,t[S+2]=d>>>16|x<<16|4278190080,t[S+3]=x>>>8|4278190080}for(let r=C*4,d=b.length;r<d;r+=3)t[S++]=b[r]|b[r+1]<<8|b[r+2]<<16|4278190080}else{for(;C<j-2;C+=3,S+=4){const r=m[C],d=m[C+1],x=m[C+2];t[S]=r|255,t[S+1]=r<<24|d>>>8|255,t[S+2]=d<<16|x>>>16|255,t[S+3]=x<<8|255}for(let r=C*4,d=b.length;r<d;r+=3)t[S++]=b[r]<<24|b[r+1]<<16|b[r+2]<<8|255}return{srcPos:A,destPos:S}}function N(b,A){if(n.FeatureTest.isLittleEndian)for(let t=0,S=b.length;t<S;t++)A[t]=b[t]*65793|4278190080;else for(let t=0,S=b.length;t<S;t++)A[t]=b[t]*16843008|255}},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const $=Object.create(null);o.GlobalWorkerOptions=$,$.workerPort=null,$.workerSrc=""},(s,o,$)=>{var b,Rr,Tr,St;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var n=$(1);const L={DATA:1,ERROR:2},T={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function I(F){switch(F instanceof Error||typeof F=="object"&&F!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F.name){case"AbortException":return new n.AbortException(F.message);case"MissingPDFException":return new n.MissingPDFException(F.message);case"PasswordException":return new n.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new n.UnknownErrorException(F.message,F.details);default:return new n.UnknownErrorException(F.message,F.toString())}}class N{constructor(R,C,j){Me(this,b);this.sourceName=R,this.targetName=C,this.comObj=j,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=m=>{const r=m.data;if(r.targetName!==this.sourceName)return;if(r.stream){Ce(this,b,Tr).call(this,r);return}if(r.callback){const x=r.callbackId,v=this.callbackCapabilities[x];if(!v)throw new Error(`Cannot resolve callback ${x}`);if(delete this.callbackCapabilities[x],r.callback===L.DATA)v.resolve(r.data);else if(r.callback===L.ERROR)v.reject(I(r.reason));else throw new Error("Unexpected callback case");return}const d=this.actionHandler[r.action];if(!d)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const x=this.sourceName,v=r.sourceName;new Promise(function(l){l(d(r.data))}).then(function(l){j.postMessage({sourceName:x,targetName:v,callback:L.DATA,callbackId:r.callbackId,data:l})},function(l){j.postMessage({sourceName:x,targetName:v,callback:L.ERROR,callbackId:r.callbackId,reason:I(l)})});return}if(r.streamId){Ce(this,b,Rr).call(this,r);return}d(r.data)},j.addEventListener("message",this._onComObjOnMessage)}on(R,C){const j=this.actionHandler;if(j[R])throw new Error(`There is already an actionName called "${R}"`);j[R]=C}send(R,C,j){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:R,data:C},j)}sendWithPromise(R,C,j){const m=this.callbackId++,r=new n.PromiseCapability;this.callbackCapabilities[m]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:R,callbackId:m,data:C},j)}catch(d){r.reject(d)}return r.promise}sendWithStream(R,C,j,m){const r=this.streamId++,d=this.sourceName,x=this.targetName,v=this.comObj;return new ReadableStream({start:l=>{const _=new n.PromiseCapability;return this.streamControllers[r]={controller:l,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:d,targetName:x,action:R,streamId:r,data:C,desiredSize:l.desiredSize},m),_.promise},pull:l=>{const _=new n.PromiseCapability;return this.streamControllers[r].pullCall=_,v.postMessage({sourceName:d,targetName:x,stream:T.PULL,streamId:r,desiredSize:l.desiredSize}),_.promise},cancel:l=>{(0,n.assert)(l instanceof Error,"cancel must have a valid reason");const _=new n.PromiseCapability;return this.streamControllers[r].cancelCall=_,this.streamControllers[r].isClosed=!0,v.postMessage({sourceName:d,targetName:x,stream:T.CANCEL,streamId:r,reason:I(l)}),_.promise}},j)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,Rr=function(R){const C=R.streamId,j=this.sourceName,m=R.sourceName,r=this.comObj,d=this,x=this.actionHandler[R.action],v={enqueue(l,_=1,p){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=_,w>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),r.postMessage({sourceName:j,targetName:m,stream:T.ENQUEUE,streamId:C,chunk:l},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:j,targetName:m,stream:T.CLOSE,streamId:C}),delete d.streamSinks[C])},error(l){(0,n.assert)(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:j,targetName:m,stream:T.ERROR,streamId:C,reason:I(l)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:R.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[C]=v,new Promise(function(l){l(x(R.data,v))}).then(function(){r.postMessage({sourceName:j,targetName:m,stream:T.START_COMPLETE,streamId:C,success:!0})},function(l){r.postMessage({sourceName:j,targetName:m,stream:T.START_COMPLETE,streamId:C,reason:I(l)})})},Tr=function(R){const C=R.streamId,j=this.sourceName,m=R.sourceName,r=this.comObj,d=this.streamControllers[C],x=this.streamSinks[C];switch(R.stream){case T.START_COMPLETE:R.success?d.startCall.resolve():d.startCall.reject(I(R.reason));break;case T.PULL_COMPLETE:R.success?d.pullCall.resolve():d.pullCall.reject(I(R.reason));break;case T.PULL:if(!x){r.postMessage({sourceName:j,targetName:m,stream:T.PULL_COMPLETE,streamId:C,success:!0});break}x.desiredSize<=0&&R.desiredSize>0&&x.sinkCapability.resolve(),x.desiredSize=R.desiredSize,new Promise(function(v){var l;v((l=x.onPull)==null?void 0:l.call(x))}).then(function(){r.postMessage({sourceName:j,targetName:m,stream:T.PULL_COMPLETE,streamId:C,success:!0})},function(v){r.postMessage({sourceName:j,targetName:m,stream:T.PULL_COMPLETE,streamId:C,reason:I(v)})});break;case T.ENQUEUE:if((0,n.assert)(d,"enqueue should have stream controller"),d.isClosed)break;d.controller.enqueue(R.chunk);break;case T.CLOSE:if((0,n.assert)(d,"close should have stream controller"),d.isClosed)break;d.isClosed=!0,d.controller.close(),Ce(this,b,St).call(this,d,C);break;case T.ERROR:(0,n.assert)(d,"error should have stream controller"),d.controller.error(I(R.reason)),Ce(this,b,St).call(this,d,C);break;case T.CANCEL_COMPLETE:R.success?d.cancelCall.resolve():d.cancelCall.reject(I(R.reason)),Ce(this,b,St).call(this,d,C);break;case T.CANCEL:if(!x)break;new Promise(function(v){var l;v((l=x.onCancel)==null?void 0:l.call(x,I(R.reason)))}).then(function(){r.postMessage({sourceName:j,targetName:m,stream:T.CANCEL_COMPLETE,streamId:C,success:!0})},function(v){r.postMessage({sourceName:j,targetName:m,stream:T.CANCEL_COMPLETE,streamId:C,reason:I(v)})}),x.sinkCapability.reject(I(R.reason)),x.isCancelled=!0,delete this.streamSinks[C];break;default:throw new Error("Unexpected stream case")}},St=async function(R,C){var j,m,r;await Promise.allSettled([(j=R.startCall)==null?void 0:j.promise,(m=R.pullCall)==null?void 0:m.promise,(r=R.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[C]},o.MessageHandler=N},(s,o,$)=>{var T,I;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var n=$(1);class L{constructor({parsedData:b,rawData:A}){Me(this,T);Me(this,I);xe(this,T,b),xe(this,I,A)}getRaw(){return P(this,I)}get(b){return P(this,T).get(b)??null}getAll(){return(0,n.objectFromMap)(P(this,T))}has(b){return P(this,T).has(b)}}T=new WeakMap,I=new WeakMap,o.Metadata=L},(s,o,$)=>{var b,A,t,S,F,R,Kt;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var n=$(1),L=$(8);const T=Symbol("INTERNAL");class I{constructor(m,r){Me(this,b,!0);this.name=m,this.intent=r}get visible(){return P(this,b)}_setVisible(m,r){m!==T&&(0,n.unreachable)("Internal method `_setVisible` called."),xe(this,b,r)}}b=new WeakMap;class N{constructor(m){Me(this,R);Me(this,A,null);Me(this,t,new Map);Me(this,S,null);Me(this,F,null);if(this.name=null,this.creator=null,m!==null){this.name=m.name,this.creator=m.creator,xe(this,F,m.order);for(const r of m.groups)P(this,t).set(r.id,new I(r.name,r.intent));if(m.baseState==="OFF")for(const r of P(this,t).values())r._setVisible(T,!1);for(const r of m.on)P(this,t).get(r)._setVisible(T,!0);for(const r of m.off)P(this,t).get(r)._setVisible(T,!1);xe(this,S,this.getHash())}}isVisible(m){if(P(this,t).size===0)return!0;if(!m)return(0,n.warn)("Optional content group not defined."),!0;if(m.type==="OCG")return P(this,t).has(m.id)?P(this,t).get(m.id).visible:((0,n.warn)(`Optional content group not found: ${m.id}`),!0);if(m.type==="OCMD"){if(m.expression)return Ce(this,R,Kt).call(this,m.expression);if(!m.policy||m.policy==="AnyOn"){for(const r of m.ids){if(!P(this,t).has(r))return(0,n.warn)(`Optional content group not found: ${r}`),!0;if(P(this,t).get(r).visible)return!0}return!1}else if(m.policy==="AllOn"){for(const r of m.ids){if(!P(this,t).has(r))return(0,n.warn)(`Optional content group not found: ${r}`),!0;if(!P(this,t).get(r).visible)return!1}return!0}else if(m.policy==="AnyOff"){for(const r of m.ids){if(!P(this,t).has(r))return(0,n.warn)(`Optional content group not found: ${r}`),!0;if(!P(this,t).get(r).visible)return!0}return!1}else if(m.policy==="AllOff"){for(const r of m.ids){if(!P(this,t).has(r))return(0,n.warn)(`Optional content group not found: ${r}`),!0;if(P(this,t).get(r).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${m.policy}.`),!0}return(0,n.warn)(`Unknown group type ${m.type}.`),!0}setVisibility(m,r=!0){if(!P(this,t).has(m)){(0,n.warn)(`Optional content group not found: ${m}`);return}P(this,t).get(m)._setVisible(T,!!r),xe(this,A,null)}get hasInitialVisibility(){return P(this,S)===null||this.getHash()===P(this,S)}getOrder(){return P(this,t).size?P(this,F)?P(this,F).slice():[...P(this,t).keys()]:null}getGroups(){return P(this,t).size>0?(0,n.objectFromMap)(P(this,t)):null}getGroup(m){return P(this,t).get(m)||null}getHash(){if(P(this,A)!==null)return P(this,A);const m=new L.MurmurHash3_64;for(const[r,d]of P(this,t))m.update(`${r}:${d.visible}`);return xe(this,A,m.hexdigest())}}A=new WeakMap,t=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakSet,Kt=function(m){const r=m.length;if(r<2)return!0;const d=m[0];for(let x=1;x<r;x++){const v=m[x];let l;if(Array.isArray(v))l=Ce(this,R,Kt).call(this,v);else if(P(this,t).has(v))l=P(this,t).get(v).visible;else return(0,n.warn)(`Optional content group not found: ${v}`),!0;switch(d){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return d==="And"},o.OptionalContentConfig=N},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var n=$(1),L=$(6);class T{constructor({length:A,initialData:t,progressiveDone:S=!1,contentDispositionFilename:F=null,disableRange:R=!1,disableStream:C=!1},j){if((0,n.assert)(j,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=S,this._contentDispositionFilename=F,(t==null?void 0:t.length)>0){const m=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=j,this._isStreamingSupported=!C,this._isRangeSupported=!R,this._contentLength=A,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((m,r)=>{this._onReceiveData({begin:m,chunk:r})}),this._pdfDataRangeTransport.addProgressListener((m,r)=>{this._onProgress({loaded:m,total:r})}),this._pdfDataRangeTransport.addProgressiveReadListener(m=>{this._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:A,chunk:t}){const S=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(A===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(S):this._queuedChunks.push(S);else{const F=this._rangeReaders.some(function(R){return R._begin!==A?!1:(R._enqueue(S),!0)});(0,n.assert)(F,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var A;return((A=this._fullRequestReader)==null?void 0:A._loaded)??0}_onProgress(A){var t,S,F,R;A.total===void 0?(S=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||S.call(t,{loaded:A.loaded}):(R=(F=this._fullRequestReader)==null?void 0:F.onProgress)==null||R.call(F,{loaded:A.loaded,total:A.total})}_onProgressiveDone(){var A;(A=this._fullRequestReader)==null||A.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const t=this._rangeReaders.indexOf(A);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new I(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,t){if(t<=this._progressiveDataLength)return null;const S=new N(this,A,t);return this._pdfDataRangeTransport.requestDataRange(A,t),this._rangeReaders.push(S),S}cancelAllRequests(A){var t;(t=this._fullRequestReader)==null||t.cancel(A);for(const S of this._rangeReaders.slice(0))S.cancel(A);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=T;class I{constructor(A,t,S=!1,F=null){this._stream=A,this._done=S||!1,this._filename=(0,L.isPdfFile)(F)?F:null,this._queuedChunks=t||[],this._loaded=0;for(const R of this._queuedChunks)this._loaded+=R.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=new n.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class N{constructor(A,t,S){this._stream=A,this._begin=t,this._end=S,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(this._requests.length===0)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const A=new n.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var n=$(1),L=$(20);function T(S,F,R){return{method:"GET",headers:S,signal:R.signal,mode:"cors",credentials:F?"include":"same-origin",redirect:"follow"}}function I(S){const F=new Headers;for(const R in S){const C=S[R];C!==void 0&&F.append(R,C)}return F}function N(S){return S instanceof Uint8Array?S.buffer:S instanceof ArrayBuffer?S:((0,n.warn)(`getArrayBuffer - unexpected data format: ${S}`),new Uint8Array(S).buffer)}class b{constructor(F){this.source=F,this.isHttp=/^https?:/i.test(F.url),this.httpHeaders=this.isHttp&&F.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var F;return((F=this._fullRequestReader)==null?void 0:F._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A(this),this._fullRequestReader}getRangeReader(F,R){if(R<=this._progressiveDataLength)return null;const C=new t(this,F,R);return this._rangeRequestReaders.push(C),C}cancelAllRequests(F){var R;(R=this._fullRequestReader)==null||R.cancel(F);for(const C of this._rangeRequestReaders.slice(0))C.cancel(F)}}o.PDFFetchStream=b;class A{constructor(F){this._stream=F,this._reader=null,this._loaded=0,this._filename=null;const R=F.source;this._withCredentials=R.withCredentials||!1,this._contentLength=R.length,this._headersCapability=new n.PromiseCapability,this._disableRange=R.disableRange||!1,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._headers=I(this._stream.httpHeaders);const C=R.url;fetch(C,T(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,L.validateResponseStatus)(j.status))throw(0,L.createResponseStatusError)(j.status,C);this._reader=j.body.getReader(),this._headersCapability.resolve();const m=x=>j.headers.get(x),{allowRangeRequests:r,suggestedLength:d}=(0,L.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=d||this._contentLength,this._filename=(0,L.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;await this._headersCapability.promise;const{value:F,done:R}=await this._reader.read();return R?{value:F,done:R}:(this._loaded+=F.byteLength,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded,total:this._contentLength}),{value:N(F),done:!1})}cancel(F){var R;(R=this._reader)==null||R.cancel(F),this._abortController.abort()}}class t{constructor(F,R,C){this._stream=F,this._reader=null,this._loaded=0;const j=F.source;this._withCredentials=j.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!j.disableStream,this._abortController=new AbortController,this._headers=I(this._stream.httpHeaders),this._headers.append("Range",`bytes=${R}-${C-1}`);const m=j.url;fetch(m,T(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,L.validateResponseStatus)(r.status))throw(0,L.createResponseStatusError)(r.status,m);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;await this._readCapability.promise;const{value:F,done:R}=await this._reader.read();return R?{value:F,done:R}:(this._loaded+=F.byteLength,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded}),{value:N(F),done:!1})}cancel(F){var R;(R=this._reader)==null||R.cancel(F),this._abortController.abort()}}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=b,o.extractFilenameFromHeader=N,o.validateRangeRequestCapabilities=I,o.validateResponseStatus=A;var n=$(1),L=$(21),T=$(6);function I({getResponseHeader:t,isHttp:S,rangeChunkSize:F,disableRange:R}){const C={allowRangeRequests:!1,suggestedLength:void 0},j=parseInt(t("Content-Length"),10);return!Number.isInteger(j)||(C.suggestedLength=j,j<=2*F)||R||!S||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(C.allowRangeRequests=!0),C}function N(t){const S=t("Content-Disposition");if(S){let F=(0,L.getFilenameFromContentDispositionHeader)(S);if(F.includes("%"))try{F=decodeURIComponent(F)}catch{}if((0,T.isPdfFile)(F))return F}return null}function b(t,S){return t===404||t===0&&S.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+S+'".'):new n.UnexpectedResponseException(`Unexpected server response (${t}) while retrieving PDF "${S}".`,t)}function A(t){return t===200||t===206}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=L;var n=$(1);function L(T){let I=!0,N=b("filename\\*","i").exec(T);if(N){N=N[1];let j=F(N);return j=unescape(j),j=R(j),j=C(j),t(j)}if(N=S(T),N){const j=C(N);return t(j)}if(N=b("filename","i").exec(T),N){N=N[1];let j=F(N);return j=C(j),t(j)}function b(j,m){return new RegExp("(?:^|;)\\s*"+j+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function A(j,m){if(j){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const r=new TextDecoder(j,{fatal:!0}),d=(0,n.stringToBytes)(m);m=r.decode(d),I=!1}catch{}}return m}function t(j){return I&&/[\x80-\xff]/.test(j)&&(j=A("utf-8",j),I&&(j=A("iso-8859-1",j))),j}function S(j){const m=[];let r;const d=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(r=d.exec(j))!==null;){let[,v,l,_]=r;if(v=parseInt(v,10),v in m){if(v===0)break;continue}m[v]=[l,_]}const x=[];for(let v=0;v<m.length&&v in m;++v){let[l,_]=m[v];_=F(_),l&&(_=unescape(_),v===0&&(_=R(_))),x.push(_)}return x.join("")}function F(j){if(j.startsWith('"')){const m=j.slice(1).split('\\"');for(let r=0;r<m.length;++r){const d=m[r].indexOf('"');d!==-1&&(m[r]=m[r].slice(0,d),m.length=r+1),m[r]=m[r].replaceAll(/\\(.)/g,"$1")}j=m.join('"')}return j}function R(j){const m=j.indexOf("'");if(m===-1)return j;const r=j.slice(0,m),x=j.slice(m+1).replace(/^[^']*'/,"");return A(r,x)}function C(j){return!j.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(j)?j:j.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,r,d,x){if(d==="q"||d==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,l){return String.fromCharCode(parseInt(l,16))}),A(r,x);try{x=atob(x)}catch{}return A(r,x)})}return""}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var n=$(1),L=$(20);const T=200,I=206;function N(F){const R=F.response;return typeof R!="string"?R:(0,n.stringToBytes)(R).buffer}class b{constructor(R,C={}){this.url=R,this.isHttp=/^https?:/i.test(R),this.httpHeaders=this.isHttp&&C.httpHeaders||Object.create(null),this.withCredentials=C.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(R,C,j){const m={begin:R,end:C};for(const r in j)m[r]=j[r];return this.request(m)}requestFull(R){return this.request(R)}request(R){const C=new XMLHttpRequest,j=this.currXhrId++,m=this.pendingRequests[j]={xhr:C};C.open("GET",this.url),C.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const d=this.httpHeaders[r];d!==void 0&&C.setRequestHeader(r,d)}return this.isHttp&&"begin"in R&&"end"in R?(C.setRequestHeader("Range",`bytes=${R.begin}-${R.end-1}`),m.expectedStatus=I):m.expectedStatus=T,C.responseType="arraybuffer",R.onError&&(C.onerror=function(r){R.onError(C.status)}),C.onreadystatechange=this.onStateChange.bind(this,j),C.onprogress=this.onProgress.bind(this,j),m.onHeadersReceived=R.onHeadersReceived,m.onDone=R.onDone,m.onError=R.onError,m.onProgress=R.onProgress,C.send(null),j}onProgress(R,C){var m;const j=this.pendingRequests[R];j&&((m=j.onProgress)==null||m.call(j,C))}onStateChange(R,C){var v,l,_;const j=this.pendingRequests[R];if(!j)return;const m=j.xhr;if(m.readyState>=2&&j.onHeadersReceived&&(j.onHeadersReceived(),delete j.onHeadersReceived),m.readyState!==4||!(R in this.pendingRequests))return;if(delete this.pendingRequests[R],m.status===0&&this.isHttp){(v=j.onError)==null||v.call(j,m.status);return}const r=m.status||T;if(!(r===T&&j.expectedStatus===I)&&r!==j.expectedStatus){(l=j.onError)==null||l.call(j,m.status);return}const x=N(m);if(r===I){const p=m.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);j.onDone({begin:parseInt(w[1],10),chunk:x})}else x?j.onDone({begin:0,chunk:x}):(_=j.onError)==null||_.call(j,m.status)}getRequestXhr(R){return this.pendingRequests[R].xhr}isPendingRequest(R){return R in this.pendingRequests}abortRequest(R){const C=this.pendingRequests[R].xhr;delete this.pendingRequests[R],C.abort()}}class A{constructor(R){this._source=R,this._manager=new b(R.url,{httpHeaders:R.httpHeaders,withCredentials:R.withCredentials}),this._rangeChunkSize=R.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(R){const C=this._rangeRequestReaders.indexOf(R);C>=0&&this._rangeRequestReaders.splice(C,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new t(this._manager,this._source),this._fullRequestReader}getRangeReader(R,C){const j=new S(this._manager,R,C);return j.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(j),j}cancelAllRequests(R){var C;(C=this._fullRequestReader)==null||C.cancel(R);for(const j of this._rangeRequestReaders.slice(0))j.cancel(R)}}o.PDFNetworkStream=A;class t{constructor(R,C){this._manager=R;const j={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._fullRequestId=R.requestFull(j),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=C.disableRange||!1,this._contentLength=C.length,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const R=this._fullRequestId,C=this._manager.getRequestXhr(R),j=d=>C.getResponseHeader(d),{allowRangeRequests:m,suggestedLength:r}=(0,L.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,L.extractFilenameFromHeader)(j),this._isRangeSupported&&this._manager.abortRequest(R),this._headersReceivedCapability.resolve()}_onDone(R){if(R&&(this._requests.length>0?this._requests.shift().resolve({value:R.chunk,done:!1}):this._cachedChunks.push(R.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(R){this._storedError=(0,L.createResponseStatusError)(R,this._url),this._headersReceivedCapability.reject(this._storedError);for(const C of this._requests)C.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(R){var C;(C=this.onProgress)==null||C.call(this,{loaded:R.loaded,total:R.lengthComputable?R.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const R=new n.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0,this._headersReceivedCapability.reject(R);for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class S{constructor(R,C,j){this._manager=R;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._requestId=R.requestRange(C,j,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var R;(R=this.onClosed)==null||R.call(this,this)}_onDone(R){const C=R.chunk;this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunk=C,this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(R){this._storedError=(0,L.createResponseStatusError)(R,this._url);for(const C of this._requests)C.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(R){var C;this.isStreamingSupported||(C=this.onProgress)==null||C.call(this,{loaded:R.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const C=this._queuedChunk;return this._queuedChunk=null,{value:C,done:!1}}if(this._done)return{value:void 0,done:!0};const R=new n.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var n=$(1),L=$(20);const T=/^file:\/\/\/[a-zA-Z]:\//;function I(j){const m=requireUrl(),r=m.parse(j);return r.protocol==="file:"||r.host?r:/^[a-z]:[/\\]/i.test(j)?m.parse(`file:///${j}`):(r.host||(r.protocol="file:"),r)}class N{constructor(m){this.source=m,this.url=I(m.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var m;return((m=this._fullRequestReader)==null?void 0:m._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new R(this):new S(this),this._fullRequestReader}getRangeReader(m,r){if(r<=this._progressiveDataLength)return null;const d=this.isFsUrl?new C(this,m,r):new F(this,m,r);return this._rangeRequestReaders.push(d),d}cancelAllRequests(m){var r;(r=this._fullRequestReader)==null||r.cancel(m);for(const d of this._rangeRequestReaders.slice(0))d.cancel(m)}}o.PDFNodeStream=N;class b{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=m.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var d;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=m.length,(d=this.onProgress)==null||d.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const r=m.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var d;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=m.length,(d=this.onProgress)==null||d.call(this,{loaded:this._loaded}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function t(j,m){return{protocol:j.protocol,auth:j.auth,host:j.hostname,port:j.port,path:j.path,method:"GET",headers:m}}class S extends b{constructor(m){super(m);const r=d=>{if(d.statusCode===404){const _=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_,this._headersCapability.reject(_);return}this._headersCapability.resolve(),this._setReadableStream(d);const x=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:v,suggestedLength:l}=(0,L.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=l||this._contentLength,this._filename=(0,L.extractFilenameFromHeader)(x)};if(this._request=null,this._url.protocol==="http:"){const d=requireStreamHttp();this._request=d.request(t(this._url,m.httpHeaders),r)}else{const d=requireHttpsBrowserify();this._request=d.request(t(this._url,m.httpHeaders),r)}this._request.on("error",d=>{this._storedError=d,this._headersCapability.reject(d)}),this._request.end()}}class F extends A{constructor(m,r,d){super(m),this._httpHeaders={};for(const v in m.httpHeaders){const l=m.httpHeaders[v];l!==void 0&&(this._httpHeaders[v]=l)}this._httpHeaders.Range=`bytes=${r}-${d-1}`;const x=v=>{if(v.statusCode===404){const l=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(v)};if(this._request=null,this._url.protocol==="http:"){const v=requireStreamHttp();this._request=v.request(t(this._url,this._httpHeaders),x)}else{const v=requireHttpsBrowserify();this._request=v.request(t(this._url,this._httpHeaders),x)}this._request.on("error",v=>{this._storedError=v}),this._request.end()}}class R extends b{constructor(m){super(m);let r=decodeURIComponent(this._url.path);T.test(this._url.href)&&(r=r.replace(/^\//,""));const d=requireEmpty();d.lstat(r,(x,v)=>{if(x){x.code==="ENOENT"&&(x=new n.MissingPDFException(`Missing PDF "${r}".`)),this._storedError=x,this._headersCapability.reject(x);return}this._contentLength=v.size,this._setReadableStream(d.createReadStream(r)),this._headersCapability.resolve()})}}class C extends A{constructor(m,r,d){super(m);let x=decodeURIComponent(this._url.path);T.test(this._url.href)&&(x=x.replace(/^\//,""));const v=requireEmpty();this._setReadableStream(v.createReadStream(x,{start:r,end:d-1}))}}},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var n=$(6),L=$(1);const T={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/1999/xlink",b=["butt","round","square"],A=["miter","round","bevel"],t=function(v,l="",_=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_)return URL.createObjectURL(new Blob([v],{type:l}));const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let w=`data:${l};base64,`;for(let O=0,J=v.length;O<J;O+=3){const q=v[O]&255,E=v[O+1]&255,G=v[O+2]&255,ge=q>>2,fe=(q&3)<<4|E>>4,_e=O+1<J?(E&15)<<2|G>>6:64,ue=O+2<J?G&63:64;w+=p[ge]+p[fe]+p[_e]+p[ue]}return w},S=function(){const v=new Uint8Array([137,80,78,71,13,10,26,10]),l=12,_=new Int32Array(256);for(let G=0;G<256;G++){let ge=G;for(let fe=0;fe<8;fe++)ge=ge&1?3988292384^ge>>1&2147483647:ge>>1&2147483647;_[G]=ge}function p(G,ge,fe){let _e=-1;for(let ue=ge;ue<fe;ue++){const ye=(_e^G[ue])&255,K=_[ye];_e=_e>>>8^K}return _e^-1}function w(G,ge,fe,_e){let ue=_e;const ye=ge.length;fe[ue]=ye>>24&255,fe[ue+1]=ye>>16&255,fe[ue+2]=ye>>8&255,fe[ue+3]=ye&255,ue+=4,fe[ue]=G.charCodeAt(0)&255,fe[ue+1]=G.charCodeAt(1)&255,fe[ue+2]=G.charCodeAt(2)&255,fe[ue+3]=G.charCodeAt(3)&255,ue+=4,fe.set(ge,ue),ue+=ge.length;const K=p(fe,_e+4,ue);fe[ue]=K>>24&255,fe[ue+1]=K>>16&255,fe[ue+2]=K>>8&255,fe[ue+3]=K&255}function O(G,ge,fe){let _e=1,ue=0;for(let ye=ge;ye<fe;++ye)_e=(_e+(G[ye]&255))%65521,ue=(ue+_e)%65521;return ue<<16|_e}function J(G){if(!L.isNodeJS)return q(G);try{const ge=parseInt(process$1.versions.node)>=8?G:Buffer.from(G),fe=requireLib().deflateSync(ge,{level:9});return fe instanceof Uint8Array?fe:new Uint8Array(fe)}catch(ge){(0,L.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ge)}return q(G)}function q(G){let ge=G.length;const fe=65535,_e=Math.ceil(ge/fe),ue=new Uint8Array(2+ge+_e*5+4);let ye=0;ue[ye++]=120,ue[ye++]=156;let K=0;for(;ge>fe;)ue[ye++]=0,ue[ye++]=255,ue[ye++]=255,ue[ye++]=0,ue[ye++]=0,ue.set(G.subarray(K,K+fe),ye),ye+=fe,K+=fe,ge-=fe;ue[ye++]=1,ue[ye++]=ge&255,ue[ye++]=ge>>8&255,ue[ye++]=~ge&65535&255,ue[ye++]=(~ge&65535)>>8&255,ue.set(G.subarray(K),ye),ye+=G.length-K;const Q=O(G,0,G.length);return ue[ye++]=Q>>24&255,ue[ye++]=Q>>16&255,ue[ye++]=Q>>8&255,ue[ye++]=Q&255,ue}function E(G,ge,fe,_e){const ue=G.width,ye=G.height;let K,Q,le;const X=G.data;switch(ge){case L.ImageKind.GRAYSCALE_1BPP:Q=0,K=1,le=ue+7>>3;break;case L.ImageKind.RGB_24BPP:Q=2,K=8,le=ue*3;break;case L.ImageKind.RGBA_32BPP:Q=6,K=8,le=ue*4;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+le)*ye);let a=0,g=0;for(let B=0;B<ye;++B)f[a++]=0,f.set(X.subarray(g,g+le),a),g+=le,a+=le;if(ge===L.ImageKind.GRAYSCALE_1BPP&&_e){a=0;for(let B=0;B<ye;B++){a++;for(let U=0;U<le;U++)f[a++]^=255}}const y=new Uint8Array([ue>>24&255,ue>>16&255,ue>>8&255,ue&255,ye>>24&255,ye>>16&255,ye>>8&255,ye&255,K,Q,0,0,0]),k=J(f),D=v.length+l*3+y.length+k.length,ee=new Uint8Array(D);let se=0;return ee.set(v,se),se+=v.length,w("IHDR",y,ee,se),se+=l+y.length,w("IDATA",k,ee,se),se+=l+k.length,w("IEND",new Uint8Array(0),ee,se),t(ee,"image/png",fe)}return function(ge,fe,_e){const ue=ge.kind===void 0?L.ImageKind.GRAYSCALE_1BPP:ge.kind;return E(ge,ue,fe,_e)}}();class F{constructor(){this.fontSizeScale=1,this.fontWeight=T.fontWeight,this.fontSize=0,this.textMatrix=L.IDENTITY_MATRIX,this.fontMatrix=L.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=L.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=T.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(l,_){this.x=l,this.y=_}}function R(v){let l=[];const _=[];for(const p of v){if(p.fn==="save"){l.push({fnId:92,fn:"group",items:[]}),_.push(l),l=l.at(-1).items;continue}p.fn==="restore"?l=_.pop():l.push(p)}return l}function C(v){if(Number.isInteger(v))return v.toString();const l=v.toFixed(10);let _=l.length-1;if(l[_]!=="0")return l;do _--;while(l[_]==="0");return l.substring(0,l[_]==="."?_:_+1)}function j(v){if(v[4]===0&&v[5]===0){if(v[1]===0&&v[2]===0)return v[0]===1&&v[3]===1?"":`scale(${C(v[0])} ${C(v[3])})`;if(v[0]===v[3]&&v[1]===-v[2]){const l=Math.acos(v[0])*180/Math.PI;return`rotate(${C(l)})`}}else if(v[0]===1&&v[1]===0&&v[2]===0&&v[3]===1)return`translate(${C(v[4])} ${C(v[5])})`;return`matrix(${C(v[0])} ${C(v[1])} ${C(v[2])} ${C(v[3])} ${C(v[4])} ${C(v[5])})`}let m=0,r=0,d=0;class x{constructor(l,_,p=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new F,this.transformMatrix=L.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=l,this.objs=_,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const w in L.OPS)this._operatorIdMapping[L.OPS[w]]=w}getObject(l,_=null){return typeof l=="string"?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):_}save(){this.transformStack.push(this.transformMatrix);const l=this.current;this.extraStack.push(l),this.current=l.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(l){this.save(),this.executeOpTree(l),this.restore()}loadDependencies(l){const _=l.fnArray,p=l.argsArray;for(let w=0,O=_.length;w<O;w++)if(_[w]===L.OPS.dependency)for(const J of p[w]){const q=J.startsWith("g_")?this.commonObjs:this.objs,E=new Promise(G=>{q.get(J,G)});this.current.dependencies.push(E)}return Promise.all(this.current.dependencies)}transform(l,_,p,w,O,J){const q=[l,_,p,w,O,J];this.transformMatrix=L.Util.transform(this.transformMatrix,q),this.tgrp=null}getSVG(l,_){this.viewport=_;const p=this._initialize(_);return this.loadDependencies(l).then(()=>(this.transformMatrix=L.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(l)),p))}convertOpList(l){const _=this._operatorIdMapping,p=l.argsArray,w=l.fnArray,O=[];for(let J=0,q=w.length;J<q;J++){const E=w[J];O.push({fnId:E,fn:_[E],args:p[J]})}return R(O)}executeOpTree(l){for(const _ of l){const p=_.fn,w=_.fnId,O=_.args;switch(w|0){case L.OPS.beginText:this.beginText();break;case L.OPS.dependency:break;case L.OPS.setLeading:this.setLeading(O);break;case L.OPS.setLeadingMoveText:this.setLeadingMoveText(O[0],O[1]);break;case L.OPS.setFont:this.setFont(O);break;case L.OPS.showText:this.showText(O[0]);break;case L.OPS.showSpacedText:this.showText(O[0]);break;case L.OPS.endText:this.endText();break;case L.OPS.moveText:this.moveText(O[0],O[1]);break;case L.OPS.setCharSpacing:this.setCharSpacing(O[0]);break;case L.OPS.setWordSpacing:this.setWordSpacing(O[0]);break;case L.OPS.setHScale:this.setHScale(O[0]);break;case L.OPS.setTextMatrix:this.setTextMatrix(O[0],O[1],O[2],O[3],O[4],O[5]);break;case L.OPS.setTextRise:this.setTextRise(O[0]);break;case L.OPS.setTextRenderingMode:this.setTextRenderingMode(O[0]);break;case L.OPS.setLineWidth:this.setLineWidth(O[0]);break;case L.OPS.setLineJoin:this.setLineJoin(O[0]);break;case L.OPS.setLineCap:this.setLineCap(O[0]);break;case L.OPS.setMiterLimit:this.setMiterLimit(O[0]);break;case L.OPS.setFillRGBColor:this.setFillRGBColor(O[0],O[1],O[2]);break;case L.OPS.setStrokeRGBColor:this.setStrokeRGBColor(O[0],O[1],O[2]);break;case L.OPS.setStrokeColorN:this.setStrokeColorN(O);break;case L.OPS.setFillColorN:this.setFillColorN(O);break;case L.OPS.shadingFill:this.shadingFill(O[0]);break;case L.OPS.setDash:this.setDash(O[0],O[1]);break;case L.OPS.setRenderingIntent:this.setRenderingIntent(O[0]);break;case L.OPS.setFlatness:this.setFlatness(O[0]);break;case L.OPS.setGState:this.setGState(O[0]);break;case L.OPS.fill:this.fill();break;case L.OPS.eoFill:this.eoFill();break;case L.OPS.stroke:this.stroke();break;case L.OPS.fillStroke:this.fillStroke();break;case L.OPS.eoFillStroke:this.eoFillStroke();break;case L.OPS.clip:this.clip("nonzero");break;case L.OPS.eoClip:this.clip("evenodd");break;case L.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case L.OPS.paintImageXObject:this.paintImageXObject(O[0]);break;case L.OPS.paintInlineImageXObject:this.paintInlineImageXObject(O[0]);break;case L.OPS.paintImageMaskXObject:this.paintImageMaskXObject(O[0]);break;case L.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(O[0],O[1]);break;case L.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case L.OPS.closePath:this.closePath();break;case L.OPS.closeStroke:this.closeStroke();break;case L.OPS.closeFillStroke:this.closeFillStroke();break;case L.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case L.OPS.nextLine:this.nextLine();break;case L.OPS.transform:this.transform(O[0],O[1],O[2],O[3],O[4],O[5]);break;case L.OPS.constructPath:this.constructPath(O[0],O[1]);break;case L.OPS.endPath:this.endPath();break;case 92:this.group(_.items);break;default:(0,L.warn)(`Unimplemented operator ${p}`);break}}}setWordSpacing(l){this.current.wordSpacing=l}setCharSpacing(l){this.current.charSpacing=l}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(l,_,p,w,O,J){const q=this.current;q.textMatrix=q.lineMatrix=[l,_,p,w,O,J],q.textMatrixScale=Math.hypot(l,_),q.x=q.lineX=0,q.y=q.lineY=0,q.xcoords=[],q.ycoords=[],q.tspan=this.svgFactory.createElement("svg:tspan"),q.tspan.setAttributeNS(null,"font-family",q.fontFamily),q.tspan.setAttributeNS(null,"font-size",`${C(q.fontSize)}px`),q.tspan.setAttributeNS(null,"y",C(-q.y)),q.txtElement=this.svgFactory.createElement("svg:text"),q.txtElement.append(q.tspan)}beginText(){const l=this.current;l.x=l.lineX=0,l.y=l.lineY=0,l.textMatrix=L.IDENTITY_MATRIX,l.lineMatrix=L.IDENTITY_MATRIX,l.textMatrixScale=1,l.tspan=this.svgFactory.createElement("svg:tspan"),l.txtElement=this.svgFactory.createElement("svg:text"),l.txtgrp=this.svgFactory.createElement("svg:g"),l.xcoords=[],l.ycoords=[]}moveText(l,_){const p=this.current;p.x=p.lineX+=l,p.y=p.lineY+=_,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${C(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",C(-p.y))}showText(l){const _=this.current,p=_.font,w=_.fontSize;if(w===0)return;const O=_.fontSizeScale,J=_.charSpacing,q=_.wordSpacing,E=_.fontDirection,G=_.textHScale*E,ge=p.vertical,fe=ge?1:-1,_e=p.defaultVMetrics,ue=w*_.fontMatrix[0];let ye=0;for(const le of l){if(le===null){ye+=E*q;continue}else if(typeof le=="number"){ye+=fe*le*w/1e3;continue}const X=(le.isSpace?q:0)+J,f=le.fontChar;let a,g,y=le.width;if(ge){let D;const ee=le.vmetric||_e;D=le.vmetric?ee[1]:y*.5,D=-D*ue;const se=ee[2]*ue;y=ee?-ee[0]:y,a=D/O,g=(ye+se)/O}else a=ye/O,g=0;(le.isInFont||p.missingFile)&&(_.xcoords.push(_.x+a),ge&&_.ycoords.push(-_.y+g),_.tspan.textContent+=f);const k=ge?y*ue-X*E:y*ue+X*E;ye+=k}_.tspan.setAttributeNS(null,"x",_.xcoords.map(C).join(" ")),ge?_.tspan.setAttributeNS(null,"y",_.ycoords.map(C).join(" ")):_.tspan.setAttributeNS(null,"y",C(-_.y)),ge?_.y-=ye:_.x+=ye*G,_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${C(_.fontSize)}px`),_.fontStyle!==T.fontStyle&&_.tspan.setAttributeNS(null,"font-style",_.fontStyle),_.fontWeight!==T.fontWeight&&_.tspan.setAttributeNS(null,"font-weight",_.fontWeight);const K=_.textRenderingMode&L.TextRenderingMode.FILL_STROKE_MASK;if(K===L.TextRenderingMode.FILL||K===L.TextRenderingMode.FILL_STROKE?(_.fillColor!==T.fillColor&&_.tspan.setAttributeNS(null,"fill",_.fillColor),_.fillAlpha<1&&_.tspan.setAttributeNS(null,"fill-opacity",_.fillAlpha)):_.textRenderingMode===L.TextRenderingMode.ADD_TO_PATH?_.tspan.setAttributeNS(null,"fill","transparent"):_.tspan.setAttributeNS(null,"fill","none"),K===L.TextRenderingMode.STROKE||K===L.TextRenderingMode.FILL_STROKE){const le=1/(_.textMatrixScale||1);this._setStrokeAttributes(_.tspan,le)}let Q=_.textMatrix;_.textRise!==0&&(Q=Q.slice(),Q[5]+=_.textRise),_.txtElement.setAttributeNS(null,"transform",`${j(Q)} scale(${C(G)}, -1)`),_.txtElement.setAttributeNS(I,"xml:space","preserve"),_.txtElement.append(_.tspan),_.txtgrp.append(_.txtElement),this._ensureTransformGroup().append(_.txtElement)}setLeadingMoveText(l,_){this.setLeading(-_),this.moveText(l,_)}addFontStyle(l){if(!l.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const _=t(l.data,l.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${l.loadedName}"; src: url(${_}); }
`}setFont(l){const _=this.current,p=this.commonObjs.get(l[0]);let w=l[1];_.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),_.fontMatrix=p.fontMatrix||L.FONT_IDENTITY_MATRIX;let O="normal";p.black?O="900":p.bold&&(O="bold");const J=p.italic?"italic":"normal";w<0?(w=-w,_.fontDirection=-1):_.fontDirection=1,_.fontSize=w,_.fontFamily=p.loadedName,_.fontWeight=O,_.fontStyle=J,_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"y",C(-_.y)),_.xcoords=[],_.ycoords=[]}endText(){var _;const l=this.current;l.textRenderingMode&L.TextRenderingMode.ADD_TO_PATH_FLAG&&((_=l.txtElement)!=null&&_.hasChildNodes())&&(l.element=l.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(l){l>0&&(this.current.lineWidth=l)}setLineCap(l){this.current.lineCap=b[l]}setLineJoin(l){this.current.lineJoin=A[l]}setMiterLimit(l){this.current.miterLimit=l}setStrokeAlpha(l){this.current.strokeAlpha=l}setStrokeRGBColor(l,_,p){this.current.strokeColor=L.Util.makeHexColor(l,_,p)}setFillAlpha(l){this.current.fillAlpha=l}setFillRGBColor(l,_,p){this.current.fillColor=L.Util.makeHexColor(l,_,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(l){this.current.strokeColor=this._makeColorN_Pattern(l)}setFillColorN(l){this.current.fillColor=this._makeColorN_Pattern(l)}shadingFill(l){const{width:_,height:p}=this.viewport,w=L.Util.inverseTransform(this.transformMatrix),[O,J,q,E]=L.Util.getAxialAlignedBoundingBox([0,0,_,p],w),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",O),G.setAttributeNS(null,"y",J),G.setAttributeNS(null,"width",q-O),G.setAttributeNS(null,"height",E-J),G.setAttributeNS(null,"fill",this._makeShadingPattern(l)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(G)}_makeColorN_Pattern(l){return l[0]==="TilingPattern"?this._makeTilingPattern(l):this._makeShadingPattern(l)}_makeTilingPattern(l){const _=l[1],p=l[2],w=l[3]||L.IDENTITY_MATRIX,[O,J,q,E]=l[4],G=l[5],ge=l[6],fe=l[7],_e=`shading${d++}`,[ue,ye,K,Q]=L.Util.normalizeRect([...L.Util.applyTransform([O,J],w),...L.Util.applyTransform([q,E],w)]),[le,X]=L.Util.singularValueDecompose2dScale(w),f=G*le,a=ge*X,g=this.svgFactory.createElement("svg:pattern");g.setAttributeNS(null,"id",_e),g.setAttributeNS(null,"patternUnits","userSpaceOnUse"),g.setAttributeNS(null,"width",f),g.setAttributeNS(null,"height",a),g.setAttributeNS(null,"x",`${ue}`),g.setAttributeNS(null,"y",`${ye}`);const y=this.svg,k=this.transformMatrix,D=this.current.fillColor,ee=this.current.strokeColor,se=this.svgFactory.create(K-ue,Q-ye);if(this.svg=se,this.transformMatrix=w,fe===2){const B=L.Util.makeHexColor(..._);this.current.fillColor=B,this.current.strokeColor=B}return this.executeOpTree(this.convertOpList(p)),this.svg=y,this.transformMatrix=k,this.current.fillColor=D,this.current.strokeColor=ee,g.append(se.childNodes[0]),this.defs.append(g),`url(#${_e})`}_makeShadingPattern(l){switch(typeof l=="string"&&(l=this.objs.get(l)),l[0]){case"RadialAxial":const _=`shading${d++}`,p=l[3];let w;switch(l[1]){case"axial":const O=l[4],J=l[5];w=this.svgFactory.createElement("svg:linearGradient"),w.setAttributeNS(null,"id",_),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"x1",O[0]),w.setAttributeNS(null,"y1",O[1]),w.setAttributeNS(null,"x2",J[0]),w.setAttributeNS(null,"y2",J[1]);break;case"radial":const q=l[4],E=l[5],G=l[6],ge=l[7];w=this.svgFactory.createElement("svg:radialGradient"),w.setAttributeNS(null,"id",_),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"cx",E[0]),w.setAttributeNS(null,"cy",E[1]),w.setAttributeNS(null,"r",ge),w.setAttributeNS(null,"fx",q[0]),w.setAttributeNS(null,"fy",q[1]),w.setAttributeNS(null,"fr",G);break;default:throw new Error(`Unknown RadialAxial type: ${l[1]}`)}for(const O of p){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",O[0]),J.setAttributeNS(null,"stop-color",O[1]),w.append(J)}return this.defs.append(w),`url(#${_})`;case"Mesh":return(0,L.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${l[0]}`)}}setDash(l,_){this.current.dashArray=l,this.current.dashPhase=_}constructPath(l,_){const p=this.current;let w=p.x,O=p.y,J=[],q=0;for(const E of l)switch(E|0){case L.OPS.rectangle:w=_[q++],O=_[q++];const G=_[q++],ge=_[q++],fe=w+G,_e=O+ge;J.push("M",C(w),C(O),"L",C(fe),C(O),"L",C(fe),C(_e),"L",C(w),C(_e),"Z");break;case L.OPS.moveTo:w=_[q++],O=_[q++],J.push("M",C(w),C(O));break;case L.OPS.lineTo:w=_[q++],O=_[q++],J.push("L",C(w),C(O));break;case L.OPS.curveTo:w=_[q+4],O=_[q+5],J.push("C",C(_[q]),C(_[q+1]),C(_[q+2]),C(_[q+3]),C(w),C(O)),q+=6;break;case L.OPS.curveTo2:J.push("C",C(w),C(O),C(_[q]),C(_[q+1]),C(_[q+2]),C(_[q+3])),w=_[q+2],O=_[q+3],q+=4;break;case L.OPS.curveTo3:w=_[q+2],O=_[q+3],J.push("C",C(_[q]),C(_[q+1]),C(w),C(O),C(w),C(O)),q+=4;break;case L.OPS.closePath:J.push("Z");break}J=J.join(" "),p.path&&l.length>0&&l[0]!==L.OPS.rectangle&&l[0]!==L.OPS.moveTo?J=p.path.getAttributeNS(null,"d")+J:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(p.path)),p.path.setAttributeNS(null,"d",J),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(w,O)}endPath(){const l=this.current;if(l.path=null,!this.pendingClip)return;if(!l.element){this.pendingClip=null;return}const _=`clippath${m++}`,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",_),p.setAttributeNS(null,"transform",j(this.transformMatrix));const w=l.element.cloneNode(!0);if(this.pendingClip==="evenodd"?w.setAttributeNS(null,"clip-rule","evenodd"):w.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,p.append(w),this.defs.append(p),l.activeClipUrl){l.clipGroup=null;for(const O of this.extraStack)O.clipGroup=null;p.setAttributeNS(null,"clip-path",l.activeClipUrl)}l.activeClipUrl=`url(#${_})`,this.tgrp=null}clip(l){this.pendingClip=l}closePath(){const l=this.current;if(l.path){const _=`${l.path.getAttributeNS(null,"d")}Z`;l.path.setAttributeNS(null,"d",_)}}setLeading(l){this.current.leading=-l}setTextRise(l){this.current.textRise=l}setTextRenderingMode(l){this.current.textRenderingMode=l}setHScale(l){this.current.textHScale=l/100}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[_,p]of l)switch(_){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,L.warn)(`Unimplemented graphic state operator ${_}`);break}}fill(){const l=this.current;l.element&&(l.element.setAttributeNS(null,"fill",l.fillColor),l.element.setAttributeNS(null,"fill-opacity",l.fillAlpha),this.endPath())}stroke(){const l=this.current;l.element&&(this._setStrokeAttributes(l.element),l.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(l,_=1){const p=this.current;let w=p.dashArray;_!==1&&w.length>0&&(w=w.map(function(O){return _*O})),l.setAttributeNS(null,"stroke",p.strokeColor),l.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),l.setAttributeNS(null,"stroke-miterlimit",C(p.miterLimit)),l.setAttributeNS(null,"stroke-linecap",p.lineCap),l.setAttributeNS(null,"stroke-linejoin",p.lineJoin),l.setAttributeNS(null,"stroke-width",C(_*p.lineWidth)+"px"),l.setAttributeNS(null,"stroke-dasharray",w.map(C).join(" ")),l.setAttributeNS(null,"stroke-dashoffset",C(_*p.dashPhase)+"px")}eoFill(){var l;(l=this.current.element)==null||l.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var l;(l=this.current.element)==null||l.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width","1px"),l.setAttributeNS(null,"height","1px"),l.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(l)}paintImageXObject(l){const _=this.getObject(l);if(!_){(0,L.warn)(`Dependent image with object ID ${l} is not ready yet`);return}this.paintInlineImageXObject(_)}paintInlineImageXObject(l,_){const p=l.width,w=l.height,O=S(l,this.forceDataSchema,!!_),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",C(p)),J.setAttributeNS(null,"height",C(w)),this.current.element=J,this.clip("nonzero");const q=this.svgFactory.createElement("svg:image");q.setAttributeNS(N,"xlink:href",O),q.setAttributeNS(null,"x","0"),q.setAttributeNS(null,"y",C(-w)),q.setAttributeNS(null,"width",C(p)+"px"),q.setAttributeNS(null,"height",C(w)+"px"),q.setAttributeNS(null,"transform",`scale(${C(1/p)} ${C(-1/w)})`),_?_.append(q):this._ensureTransformGroup().append(q)}paintImageMaskXObject(l){const _=this.getObject(l.data,l);if(_.bitmap){(0,L.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const p=this.current,w=_.width,O=_.height,J=p.fillColor;p.maskId=`mask${r++}`;const q=this.svgFactory.createElement("svg:mask");q.setAttributeNS(null,"id",p.maskId);const E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width",C(w)),E.setAttributeNS(null,"height",C(O)),E.setAttributeNS(null,"fill",J),E.setAttributeNS(null,"mask",`url(#${p.maskId})`),this.defs.append(q),this._ensureTransformGroup().append(E),this.paintInlineImageXObject(_,q)}paintFormXObjectBegin(l,_){if(Array.isArray(l)&&l.length===6&&this.transform(l[0],l[1],l[2],l[3],l[4],l[5]),_){const p=_[2]-_[0],w=_[3]-_[1],O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x",_[0]),O.setAttributeNS(null,"y",_[1]),O.setAttributeNS(null,"width",C(p)),O.setAttributeNS(null,"height",C(w)),this.current.element=O,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(l){const _=this.svgFactory.create(l.width,l.height),p=this.svgFactory.createElement("svg:defs");_.append(p),this.defs=p;const w=this.svgFactory.createElement("svg:g");return w.setAttributeNS(null,"transform",j(l.transform)),_.append(w),this.svg=w,_}_ensureClipGroup(){if(!this.current.clipGroup){const l=this.svgFactory.createElement("svg:g");l.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(l),this.current.clipGroup=l}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",j(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=x},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class ${static textContent(L){const T=[],I={items:T,styles:Object.create(null)};function N(b){var S;if(!b)return;let A=null;const t=b.name;if(t==="#text")A=b.value;else if($.shouldBuildText(t))(S=b==null?void 0:b.attributes)!=null&&S.textContent?A=b.attributes.textContent:b.value&&(A=b.value);else return;if(A!==null&&T.push({str:A}),!!b.children)for(const F of b.children)N(F)}return N(L),I}static shouldBuildText(L){return!(L==="textarea"||L==="input"||L==="option"||L==="select")}}o.XfaText=$},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=j,o.updateTextLayer=m;var n=$(1),L=$(6);const T=1e5,I=30,N=.8,b=new Map;function A(r,d){let x;if(d&&n.FeatureTest.isOffscreenCanvasSupported)x=new OffscreenCanvas(r,r).getContext("2d",{alpha:!1});else{const v=document.createElement("canvas");v.width=v.height=r,x=v.getContext("2d",{alpha:!1})}return x}function t(r,d){const x=b.get(r);if(x)return x;const v=A(I,d);v.font=`${I}px ${r}`;const l=v.measureText("");let _=l.fontBoundingBoxAscent,p=Math.abs(l.fontBoundingBoxDescent);if(_){const O=_/(_+p);return b.set(r,O),v.canvas.width=v.canvas.height=0,O}v.strokeStyle="red",v.clearRect(0,0,I,I),v.strokeText("g",0,0);let w=v.getImageData(0,0,I,I).data;p=0;for(let O=w.length-1-3;O>=0;O-=4)if(w[O]>0){p=Math.ceil(O/4/I);break}v.clearRect(0,0,I,I),v.strokeText("A",0,I),w=v.getImageData(0,0,I,I).data,_=0;for(let O=0,J=w.length;O<J;O+=4)if(w[O]>0){_=I-Math.floor(O/4/I);break}if(v.canvas.width=v.canvas.height=0,_){const O=_/(_+p);return b.set(r,O),O}return b.set(r,N),N}function S(r,d,x){const v=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:d.str!=="",hasEOL:d.hasEOL,fontSize:0};r._textDivs.push(v);const _=n.Util.transform(r._transform,d.transform);let p=Math.atan2(_[1],_[0]);const w=x[d.fontName];w.vertical&&(p+=Math.PI/2);const O=Math.hypot(_[2],_[3]),J=O*t(w.fontFamily,r._isOffscreenCanvasSupported);let q,E;p===0?(q=_[4],E=_[5]-J):(q=_[4]+J*Math.sin(p),E=_[5]-J*Math.cos(p));const G="calc(var(--scale-factor)*",ge=v.style;r._container===r._rootContainer?(ge.left=`${(100*q/r._pageWidth).toFixed(2)}%`,ge.top=`${(100*E/r._pageHeight).toFixed(2)}%`):(ge.left=`${G}${q.toFixed(2)}px)`,ge.top=`${G}${E.toFixed(2)}px)`),ge.fontSize=`${G}${O.toFixed(2)}px)`,ge.fontFamily=w.fontFamily,l.fontSize=O,v.setAttribute("role","presentation"),v.textContent=d.str,v.dir=d.dir,r._fontInspectorEnabled&&(v.dataset.fontName=d.fontName),p!==0&&(l.angle=p*(180/Math.PI));let fe=!1;if(d.str.length>1)fe=!0;else if(d.str!==" "&&d.transform[0]!==d.transform[3]){const _e=Math.abs(d.transform[0]),ue=Math.abs(d.transform[3]);_e!==ue&&Math.max(_e,ue)/Math.min(_e,ue)>1.5&&(fe=!0)}fe&&(l.canvasWidth=w.vertical?d.height:d.width),r._textDivProperties.set(v,l),r._isReadableStream&&r._layoutText(v)}function F(r){const{div:d,scale:x,properties:v,ctx:l,prevFontSize:_,prevFontFamily:p}=r,{style:w}=d;let O="";if(v.canvasWidth!==0&&v.hasText){const{fontFamily:J}=w,{canvasWidth:q,fontSize:E}=v;(_!==E||p!==J)&&(l.font=`${E*x}px ${J}`,r.prevFontSize=E,r.prevFontFamily=J);const{width:G}=l.measureText(d.textContent);G>0&&(O=`scaleX(${q*x/G})`)}v.angle!==0&&(O=`rotate(${v.angle}deg) ${O}`),O.length>0&&(w.transform=O)}function R(r){if(r._canceled)return;const d=r._textDivs,x=r._capability;if(d.length>T){x.resolve();return}if(!r._isReadableStream)for(const l of d)r._layoutText(l);x.resolve()}class C{constructor({textContentSource:d,container:x,viewport:v,textDivs:l,textDivProperties:_,textContentItemsStr:p,isOffscreenCanvasSupported:w}){var G;this._textContentSource=d,this._isReadableStream=d instanceof ReadableStream,this._container=this._rootContainer=x,this._textDivs=l||[],this._textContentItemsStr=p||[],this._isOffscreenCanvasSupported=w,this._fontInspectorEnabled=!!((G=globalThis.FontInspector)!=null&&G.enabled),this._reader=null,this._textDivProperties=_||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:v.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:A(0,w)};const{pageWidth:O,pageHeight:J,pageX:q,pageY:E}=v.rawDims;this._transform=[1,0,0,-1,-q,E+J],this._pageWidth=O,this._pageHeight=J,(0,L.setLayerDimensions)(x,v),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(d,x){for(const v of d){if(v.str===void 0){if(v.type==="beginMarkedContentProps"||v.type==="beginMarkedContent"){const l=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),v.id!==null&&this._container.setAttribute("id",`${v.id}`),l.append(this._container)}else v.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(v.str),S(this,v,x)}}_layoutText(d){const x=this._layoutTextParams.properties=this._textDivProperties.get(d);if(this._layoutTextParams.div=d,F(this._layoutTextParams),x.hasText&&this._container.append(d),x.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this._container.append(v)}}_render(){const d=new n.PromiseCapability;let x=Object.create(null);if(this._isReadableStream){const v=()=>{this._reader.read().then(({value:l,done:_})=>{if(_){d.resolve();return}Object.assign(x,l.styles),this._processItems(l.items,x),v()},d.reject)};this._reader=this._textContentSource.getReader(),v()}else if(this._textContentSource){const{items:v,styles:l}=this._textContentSource;this._processItems(v,l),d.resolve()}else throw new Error('No "textContentSource" parameter specified.');d.promise.then(()=>{x=null,R(this)},this._capability.reject)}}o.TextLayerRenderTask=C;function j(r){!r.textContentSource&&(r.textContent||r.textContentStream)&&((0,L.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),r.textContentSource=r.textContent||r.textContentStream);const{container:d,viewport:x}=r,v=getComputedStyle(d),l=v.getPropertyValue("visibility"),_=parseFloat(v.getPropertyValue("--scale-factor"));l==="visible"&&(!_||Math.abs(_-x.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const p=new C(r);return p._render(),p}function m({container:r,viewport:d,textDivs:x,textDivProperties:v,isOffscreenCanvasSupported:l,mustRotate:_=!0,mustRescale:p=!0}){if(_&&(0,L.setLayerDimensions)(r,{rotation:d.rotation}),p){const w=A(0,l),J={prevFontSize:null,prevFontFamily:null,div:null,scale:d.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:w};for(const q of x)J.properties=v.get(q),J.div=q,F(J)}}},(s,o,$)=>{var t,S,F,R,C,j,m,r,d,x,v,Zt,Rt,Jt,Qt;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var n=$(1),L=$(4),T=$(28),I=$(33),N=$(6),b=$(34);const O=class O{constructor({uiManager:q,pageIndex:E,div:G,accessibilityManager:ge,annotationLayer:fe,viewport:_e,l10n:ue}){Me(this,v);Me(this,t);Me(this,S,!1);Me(this,F,null);Me(this,R,this.pointerup.bind(this));Me(this,C,this.pointerdown.bind(this));Me(this,j,new Map);Me(this,m,!1);Me(this,r,!1);Me(this,d,!1);Me(this,x);const ye=[T.FreeTextEditor,I.InkEditor,b.StampEditor];if(!O._initialized){O._initialized=!0;for(const K of ye)K.initialize(ue)}q.registerEditorTypes(ye),xe(this,x,q),this.pageIndex=E,this.div=G,xe(this,t,ge),xe(this,F,fe),this.viewport=_e,P(this,x).addLayer(this)}get isEmpty(){return P(this,j).size===0}updateToolbar(q){P(this,x).updateToolbar(q)}updateMode(q=P(this,x).getMode()){Ce(this,v,Qt).call(this),q===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),q!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",q===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",q===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",q===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(q){if(!q&&P(this,x).getMode()!==n.AnnotationEditorType.INK)return;if(!q){for(const G of P(this,j).values())if(G.isEmpty()){G.setInBackground();return}}Ce(this,v,Rt).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(q){P(this,x).setEditingState(q)}addCommands(q){P(this,x).addCommands(q)}enable(){this.div.style.pointerEvents="auto";const q=new Set;for(const G of P(this,j).values())G.enableEditing(),G.annotationElementId&&q.add(G.annotationElementId);if(!P(this,F))return;const E=P(this,F).getEditableAnnotations();for(const G of E){if(G.hide(),P(this,x).isDeletedAnnotationElement(G.data.id)||q.has(G.data.id))continue;const ge=this.deserialize(G);ge&&(this.addOrRebuild(ge),ge.enableEditing())}}disable(){var E;xe(this,d,!0),this.div.style.pointerEvents="none";const q=new Set;for(const G of P(this,j).values()){if(G.disableEditing(),!G.annotationElementId||G.serialize()!==null){q.add(G.annotationElementId);continue}(E=this.getEditableAnnotation(G.annotationElementId))==null||E.show(),G.remove()}if(P(this,F)){const G=P(this,F).getEditableAnnotations();for(const ge of G){const{id:fe}=ge.data;q.has(fe)||P(this,x).isDeletedAnnotationElement(fe)||ge.show()}}Ce(this,v,Qt).call(this),this.isEmpty&&(this.div.hidden=!0),xe(this,d,!1)}getEditableAnnotation(q){var E;return((E=P(this,F))==null?void 0:E.getEditableAnnotation(q))||null}setActiveEditor(q){P(this,x).getActive()!==q&&P(this,x).setActiveEditor(q)}enableClick(){this.div.addEventListener("pointerdown",P(this,C)),this.div.addEventListener("pointerup",P(this,R))}disableClick(){this.div.removeEventListener("pointerdown",P(this,C)),this.div.removeEventListener("pointerup",P(this,R))}attach(q){P(this,j).set(q.id,q);const{annotationElementId:E}=q;E&&P(this,x).isDeletedAnnotationElement(E)&&P(this,x).removeDeletedAnnotationElement(q)}detach(q){var E;P(this,j).delete(q.id),(E=P(this,t))==null||E.removePointerInTextLayer(q.contentDiv),!P(this,d)&&q.annotationElementId&&P(this,x).addDeletedAnnotationElement(q)}remove(q){this.detach(q),P(this,x).removeEditor(q),q.div.contains(document.activeElement)&&setTimeout(()=>{P(this,x).focusMainContainer()},0),q.div.remove(),q.isAttachedToDOM=!1,P(this,r)||this.addInkEditorIfNeeded(!1)}changeParent(q){var E;q.parent!==this&&(q.annotationElementId&&(P(this,x).addDeletedAnnotationElement(q.annotationElementId),L.AnnotationEditor.deleteAnnotationElement(q),q.annotationElementId=null),this.attach(q),(E=q.parent)==null||E.detach(q),q.setParent(this),q.div&&q.isAttachedToDOM&&(q.div.remove(),this.div.append(q.div)))}add(q){if(this.changeParent(q),P(this,x).addEditor(q),this.attach(q),!q.isAttachedToDOM){const E=q.render();this.div.append(E),q.isAttachedToDOM=!0}q.fixAndSetPosition(),q.onceAdded(),P(this,x).addToAnnotationStorage(q)}moveEditorInDOM(q){var G;if(!q.isAttachedToDOM)return;const{activeElement:E}=document;q.div.contains(E)&&(q._focusEventsAllowed=!1,setTimeout(()=>{q.div.contains(document.activeElement)?q._focusEventsAllowed=!0:(q.div.addEventListener("focusin",()=>{q._focusEventsAllowed=!0},{once:!0}),E.focus())},0)),q._structTreeParentId=(G=P(this,t))==null?void 0:G.moveElementInDOM(this.div,q.div,q.contentDiv,!0)}addOrRebuild(q){q.needsToBeRebuilt()?q.rebuild():this.add(q)}addUndoableEditor(q){const E=()=>q._uiManager.rebuild(q),G=()=>{q.remove()};this.addCommands({cmd:E,undo:G,mustExec:!1})}getNextId(){return P(this,x).getId()}pasteEditor(q,E){P(this,x).updateToolbar(q),P(this,x).updateMode(q);const{offsetX:G,offsetY:ge}=Ce(this,v,Jt).call(this),fe=this.getNextId(),_e=Ce(this,v,Zt).call(this,{parent:this,id:fe,x:G,y:ge,uiManager:P(this,x),isCentered:!0,...E});_e&&this.add(_e)}deserialize(q){switch(q.annotationType??q.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return T.FreeTextEditor.deserialize(q,this,P(this,x));case n.AnnotationEditorType.INK:return I.InkEditor.deserialize(q,this,P(this,x));case n.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(q,this,P(this,x))}return null}addNewEditor(){Ce(this,v,Rt).call(this,Ce(this,v,Jt).call(this),!0)}setSelected(q){P(this,x).setSelected(q)}toggleSelected(q){P(this,x).toggleSelected(q)}isSelected(q){return P(this,x).isSelected(q)}unselect(q){P(this,x).unselect(q)}pointerup(q){const{isMac:E}=n.FeatureTest.platform;if(!(q.button!==0||q.ctrlKey&&E)&&q.target===this.div&&P(this,m)){if(xe(this,m,!1),!P(this,S)){xe(this,S,!0);return}if(P(this,x).getMode()===n.AnnotationEditorType.STAMP){P(this,x).unselectAll();return}Ce(this,v,Rt).call(this,q,!1)}}pointerdown(q){if(P(this,m)){xe(this,m,!1);return}const{isMac:E}=n.FeatureTest.platform;if(q.button!==0||q.ctrlKey&&E||q.target!==this.div)return;xe(this,m,!0);const G=P(this,x).getActive();xe(this,S,!G||G.isEmpty())}findNewParent(q,E,G){const ge=P(this,x).findParent(E,G);return ge===null||ge===this?!1:(ge.changeParent(q),!0)}destroy(){var q,E;((q=P(this,x).getActive())==null?void 0:q.parent)===this&&(P(this,x).commitOrRemove(),P(this,x).setActiveEditor(null));for(const G of P(this,j).values())(E=P(this,t))==null||E.removePointerInTextLayer(G.contentDiv),G.setParent(null),G.isAttachedToDOM=!1,G.div.remove();this.div=null,P(this,j).clear(),P(this,x).removeLayer(this)}render({viewport:q}){this.viewport=q,(0,N.setLayerDimensions)(this.div,q);for(const E of P(this,x).getEditors(this.pageIndex))this.add(E);this.updateMode()}update({viewport:q}){P(this,x).commitOrRemove(),this.viewport=q,(0,N.setLayerDimensions)(this.div,{rotation:q.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:q,pageHeight:E}=this.viewport.rawDims;return[q,E]}};t=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakMap,C=new WeakMap,j=new WeakMap,m=new WeakMap,r=new WeakMap,d=new WeakMap,x=new WeakMap,v=new WeakSet,Zt=function(q){switch(P(this,x).getMode()){case n.AnnotationEditorType.FREETEXT:return new T.FreeTextEditor(q);case n.AnnotationEditorType.INK:return new I.InkEditor(q);case n.AnnotationEditorType.STAMP:return new b.StampEditor(q)}return null},Rt=function(q,E){const G=this.getNextId(),ge=Ce(this,v,Zt).call(this,{parent:this,id:G,x:q.offsetX,y:q.offsetY,uiManager:P(this,x),isCentered:E});return ge&&this.add(ge),ge},Jt=function(){const{x:q,y:E,width:G,height:ge}=this.div.getBoundingClientRect(),fe=Math.max(0,q),_e=Math.max(0,E),ue=Math.min(window.innerWidth,q+G),ye=Math.min(window.innerHeight,E+ge),K=(fe+ue)/2-q,Q=(_e+ye)/2-E,[le,X]=this.viewport.rotation%180===0?[K,Q]:[Q,K];return{offsetX:le,offsetY:X}},Qt=function(){xe(this,r,!0);for(const q of P(this,j).values())q.isEmpty()&&q.remove();xe(this,r,!1)},Je(O,"_initialized",!1);let A=O;o.AnnotationEditorLayer=A},(s,o,$)=>{var b,A,t,S,F,R,C,j,m,r,Pr,Cr,Ir,mt,er,Or,tr;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var n=$(1),L=$(5),T=$(4),I=$(29);const O=class O extends T.AnnotationEditor{constructor(E){super({...E,name:"freeTextEditor"});Me(this,r);Me(this,b,this.editorDivBlur.bind(this));Me(this,A,this.editorDivFocus.bind(this));Me(this,t,this.editorDivInput.bind(this));Me(this,S,this.editorDivKeydown.bind(this));Me(this,F);Me(this,R,"");Me(this,C,`${this.id}-editor`);Me(this,j);Me(this,m,null);xe(this,F,E.color||O._defaultColor||T.AnnotationEditor._defaultLineColor),xe(this,j,E.fontSize||O._defaultFontSize)}static get _keyboardManager(){const E=O.prototype,G=_e=>_e.isEmpty(),ge=L.AnnotationEditorUIManager.TRANSLATE_SMALL,fe=L.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new L.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],E.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],E.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],E._translateEmpty,{args:[-ge,0],checker:G}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],E._translateEmpty,{args:[-fe,0],checker:G}],[["ArrowRight","mac+ArrowRight"],E._translateEmpty,{args:[ge,0],checker:G}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],E._translateEmpty,{args:[fe,0],checker:G}],[["ArrowUp","mac+ArrowUp"],E._translateEmpty,{args:[0,-ge],checker:G}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],E._translateEmpty,{args:[0,-fe],checker:G}],[["ArrowDown","mac+ArrowDown"],E._translateEmpty,{args:[0,ge],checker:G}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],E._translateEmpty,{args:[0,fe],checker:G}]]))}static initialize(E){T.AnnotationEditor.initialize(E,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const G=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(G.getPropertyValue("--freetext-padding"))}static updateDefaultParams(E,G){switch(E){case n.AnnotationEditorParamsType.FREETEXT_SIZE:O._defaultFontSize=G;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:O._defaultColor=G;break}}updateParams(E,G){switch(E){case n.AnnotationEditorParamsType.FREETEXT_SIZE:Ce(this,r,Pr).call(this,G);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:Ce(this,r,Cr).call(this,G);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,O._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,O._defaultColor||T.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,P(this,j)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,P(this,F)]]}_translateEmpty(E,G){this._uiManager.translateSelectedEditors(E,G,!0)}getInitialTranslation(){const E=this.parentScale;return[-O._internalPadding*E,-(O._internalPadding+P(this,j))*E]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",P(this,S)),this.editorDiv.addEventListener("focus",P(this,A)),this.editorDiv.addEventListener("blur",P(this,b)),this.editorDiv.addEventListener("input",P(this,t)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",P(this,C)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",P(this,S)),this.editorDiv.removeEventListener("focus",P(this,A)),this.editorDiv.removeEventListener("blur",P(this,b)),this.editorDiv.removeEventListener("input",P(this,t)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(E){this._focusEventsAllowed&&(super.focusin(E),E.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var E;if(this.width){Ce(this,r,tr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(E=this._initialOptions)!=null&&E.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const E=P(this,R),G=xe(this,R,Ce(this,r,Ir).call(this).trimEnd());if(E===G)return;const ge=fe=>{if(xe(this,R,fe),!fe){this.remove();return}Ce(this,r,er).call(this),this._uiManager.rebuild(this),Ce(this,r,mt).call(this)};this.addCommands({cmd:()=>{ge(G)},undo:()=>{ge(E)},mustExec:!1}),Ce(this,r,mt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(E){this.enterInEditMode()}keydown(E){E.target===this.div&&E.key==="Enter"&&(this.enterInEditMode(),E.preventDefault())}editorDivKeydown(E){O._keyboardManager.exec(this,E)}editorDivFocus(E){this.isEditing=!0}editorDivBlur(E){this.isEditing=!1}editorDivInput(E){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let E,G;this.width&&(E=this.x,G=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",P(this,C)),this.enableEditing(),T.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(fe=>{var _e;return(_e=this.editorDiv)==null?void 0:_e.setAttribute("aria-label",fe)}),T.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(fe=>{var _e;return(_e=this.editorDiv)==null?void 0:_e.setAttribute("default-content",fe)}),this.editorDiv.contentEditable=!0;const{style:ge}=this.editorDiv;if(ge.fontSize=`calc(${P(this,j)}px * var(--scale-factor))`,ge.color=P(this,F),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,L.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[fe,_e]=this.parentDimensions;if(this.annotationElementId){const{position:ue}=P(this,m);let[ye,K]=this.getInitialTranslation();[ye,K]=this.pageTranslationToScreen(ye,K);const[Q,le]=this.pageDimensions,[X,f]=this.pageTranslation;let a,g;switch(this.rotation){case 0:a=E+(ue[0]-X)/Q,g=G+this.height-(ue[1]-f)/le;break;case 90:a=E+(ue[0]-X)/Q,g=G-(ue[1]-f)/le,[ye,K]=[K,-ye];break;case 180:a=E-this.width+(ue[0]-X)/Q,g=G-(ue[1]-f)/le,[ye,K]=[-ye,-K];break;case 270:a=E+(ue[0]-X-this.height*le)/Q,g=G+(ue[1]-f-this.width*Q)/le,[ye,K]=[-K,ye];break}this.setAt(a*fe,g*_e,ye,K)}else this.setAt(E*fe,G*_e,this.width*fe,this.height*_e);Ce(this,r,er).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(E,G,ge){let fe=null;if(E instanceof I.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ue,fontColor:ye},rect:K,rotation:Q,id:le},textContent:X,textPosition:f,parent:{page:{pageNumber:a}}}=E;if(!X||X.length===0)return null;fe=E={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(ye),fontSize:ue,value:X.join(`
`),position:f,pageIndex:a-1,rect:K,rotation:Q,id:le,deleted:!1}}const _e=super.deserialize(E,G,ge);return xe(_e,j,E.fontSize),xe(_e,F,n.Util.makeHexColor(...E.color)),xe(_e,R,E.value),_e.annotationElementId=E.id||null,xe(_e,m,fe),_e}serialize(E=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const G=O._internalPadding*this.parentScale,ge=this.getRect(G,G),fe=T.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:P(this,F)),_e={annotationType:n.AnnotationEditorType.FREETEXT,color:fe,fontSize:P(this,j),value:P(this,R),pageIndex:this.pageIndex,rect:ge,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return E?_e:this.annotationElementId&&!Ce(this,r,Or).call(this,_e)?null:(_e.id=this.annotationElementId,_e)}};b=new WeakMap,A=new WeakMap,t=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakMap,C=new WeakMap,j=new WeakMap,m=new WeakMap,r=new WeakSet,Pr=function(E){const G=fe=>{this.editorDiv.style.fontSize=`calc(${fe}px * var(--scale-factor))`,this.translate(0,-(fe-P(this,j))*this.parentScale),xe(this,j,fe),Ce(this,r,mt).call(this)},ge=P(this,j);this.addCommands({cmd:()=>{G(E)},undo:()=>{G(ge)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Cr=function(E){const G=P(this,F);this.addCommands({cmd:()=>{xe(this,F,this.editorDiv.style.color=E)},undo:()=>{xe(this,F,this.editorDiv.style.color=G)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ir=function(){const E=this.editorDiv.getElementsByTagName("div");if(E.length===0)return this.editorDiv.innerText;const G=[];for(const ge of E)G.push(ge.innerText.replace(/\r\n?|\n/,""));return G.join(`
`)},mt=function(){const[E,G]=this.parentDimensions;let ge;if(this.isAttachedToDOM)ge=this.div.getBoundingClientRect();else{const{currentLayer:fe,div:_e}=this,ue=_e.style.display;_e.style.display="hidden",fe.div.append(this.div),ge=_e.getBoundingClientRect(),_e.remove(),_e.style.display=ue}this.rotation%180===this.parentRotation%180?(this.width=ge.width/E,this.height=ge.height/G):(this.width=ge.height/E,this.height=ge.width/G),this.fixAndSetPosition()},er=function(){if(this.editorDiv.replaceChildren(),!!P(this,R))for(const E of P(this,R).split(`
`)){const G=document.createElement("div");G.append(E?document.createTextNode(E):document.createElement("br")),this.editorDiv.append(G)}},Or=function(E){const{value:G,fontSize:ge,color:fe,rect:_e,pageIndex:ue}=P(this,m);return E.value!==G||E.fontSize!==ge||E.rect.some((ye,K)=>Math.abs(ye-_e[K])>=1)||E.color.some((ye,K)=>ye!==fe[K])||E.pageIndex!==ue},tr=function(E=!1){if(!this.annotationElementId)return;if(Ce(this,r,mt).call(this),!E&&(this.width===0||this.height===0)){setTimeout(()=>Ce(this,r,tr).call(this,!0),0);return}const G=O._internalPadding*this.parentScale;P(this,m).rect=this.getRect(G,G)},Je(O,"_freeTextDefaultContent",""),Je(O,"_internalPadding",0),Je(O,"_defaultColor",null),Je(O,"_defaultFontSize",10),Je(O,"_type","freetext");let N=O;o.FreeTextEditor=N},(s,o,$)=>{var g,k,at,kr,se,B,U,he,we,Ie,me,ve,re,ne,Ee,Te,oe,Re,W,te,Pe,Oe,Mr,Tt,rr,nr,h,Z,ce,z,M,u,Ae,ir,c,H,pe,V,Fr,ar;Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0;var n=$(1),L=$(6),T=$(3),I=$(30),N=$(31),b=$(32);const A=1e3,t=9,S=new WeakSet;function F(Be){return{width:Be[2]-Be[0],height:Be[3]-Be[1]}}class R{static create(ae){switch(ae.data.annotationType){case n.AnnotationType.LINK:return new j(ae);case n.AnnotationType.TEXT:return new m(ae);case n.AnnotationType.WIDGET:switch(ae.data.fieldType){case"Tx":return new d(ae);case"Btn":return ae.data.radioButton?new l(ae):ae.data.checkBox?new v(ae):new _(ae);case"Ch":return new p(ae);case"Sig":return new x(ae)}return new r(ae);case n.AnnotationType.POPUP:return new w(ae);case n.AnnotationType.FREETEXT:return new J(ae);case n.AnnotationType.LINE:return new q(ae);case n.AnnotationType.SQUARE:return new E(ae);case n.AnnotationType.CIRCLE:return new G(ae);case n.AnnotationType.POLYLINE:return new ge(ae);case n.AnnotationType.CARET:return new _e(ae);case n.AnnotationType.INK:return new ue(ae);case n.AnnotationType.POLYGON:return new fe(ae);case n.AnnotationType.HIGHLIGHT:return new ye(ae);case n.AnnotationType.UNDERLINE:return new K(ae);case n.AnnotationType.SQUIGGLY:return new Q(ae);case n.AnnotationType.STRIKEOUT:return new le(ae);case n.AnnotationType.STAMP:return new X(ae);case n.AnnotationType.FILEATTACHMENT:return new f(ae);default:return new C(ae)}}}const y=class y{constructor(ae,{isRenderable:ie=!1,ignoreBorder:be=!1,createQuadrilaterals:Fe=!1}={}){Me(this,g,!1);this.isRenderable=ie,this.data=ae.data,this.layer=ae.layer,this.linkService=ae.linkService,this.downloadManager=ae.downloadManager,this.imageResourcesPath=ae.imageResourcesPath,this.renderForms=ae.renderForms,this.svgFactory=ae.svgFactory,this.annotationStorage=ae.annotationStorage,this.enableScripting=ae.enableScripting,this.hasJSActions=ae.hasJSActions,this._fieldObjects=ae.fieldObjects,this.parent=ae.parent,ie&&(this.container=this._createContainer(be)),Fe&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ae,contentsObj:ie,richText:be}){return!!(ae!=null&&ae.str||ie!=null&&ie.str||be!=null&&be.str)}get hasPopupData(){return y._hasPopupData(this.data)}_createContainer(ae){const{data:ie,parent:{page:be,viewport:Fe}}=this,ke=document.createElement("section");ke.setAttribute("data-annotation-id",ie.id),this instanceof r||(ke.tabIndex=A),ke.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ke.setAttribute("aria-haspopup","dialog"),ie.noRotate&&ke.classList.add("norotate");const{pageWidth:Le,pageHeight:Ue,pageX:je,pageY:We}=Fe.rawDims;if(!ie.rect||this instanceof w){const{rotation:Ge}=ie;return!ie.hasOwnCanvas&&Ge!==0&&this.setRotation(Ge,ke),ke}const{width:$e,height:Xe}=F(ie.rect),He=n.Util.normalizeRect([ie.rect[0],be.view[3]-ie.rect[1]+be.view[1],ie.rect[2],be.view[3]-ie.rect[3]+be.view[1]]);if(!ae&&ie.borderStyle.width>0){ke.style.borderWidth=`${ie.borderStyle.width}px`;const Ge=ie.borderStyle.horizontalCornerRadius,Ve=ie.borderStyle.verticalCornerRadius;if(Ge>0||Ve>0){const Ke=`calc(${Ge}px * var(--scale-factor)) / calc(${Ve}px * var(--scale-factor))`;ke.style.borderRadius=Ke}else if(this instanceof l){const Ke=`calc(${$e}px * var(--scale-factor)) / calc(${Xe}px * var(--scale-factor))`;ke.style.borderRadius=Ke}switch(ie.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:ke.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:ke.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:ke.style.borderBottomStyle="solid";break}const Ye=ie.borderColor||null;Ye?(xe(this,g,!0),ke.style.borderColor=n.Util.makeHexColor(Ye[0]|0,Ye[1]|0,Ye[2]|0)):ke.style.borderWidth=0}ke.style.left=`${100*(He[0]-je)/Le}%`,ke.style.top=`${100*(He[1]-We)/Ue}%`;const{rotation:ze}=ie;return ie.hasOwnCanvas||ze===0?(ke.style.width=`${100*$e/Le}%`,ke.style.height=`${100*Xe/Ue}%`):this.setRotation(ze,ke),ke}setRotation(ae,ie=this.container){if(!this.data.rect)return;const{pageWidth:be,pageHeight:Fe}=this.parent.viewport.rawDims,{width:ke,height:Le}=F(this.data.rect);let Ue,je;ae%180===0?(Ue=100*ke/be,je=100*Le/Fe):(Ue=100*Le/be,je=100*ke/Fe),ie.style.width=`${Ue}%`,ie.style.height=`${je}%`,ie.setAttribute("data-main-rotation",(360-ae)%360)}get _commonActions(){const ae=(ie,be,Fe)=>{const ke=Fe.detail[ie],Le=ke[0],Ue=ke.slice(1);Fe.target.style[be]=I.ColorConverters[`${Le}_HTML`](Ue),this.annotationStorage.setValue(this.data.id,{[be]:I.ColorConverters[`${Le}_rgb`](Ue)})};return(0,n.shadow)(this,"_commonActions",{display:ie=>{const{display:be}=ie.detail,Fe=be%2===1;this.container.style.visibility=Fe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Fe,noPrint:be===1||be===2})},print:ie=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ie.detail.print})},hidden:ie=>{const{hidden:be}=ie.detail;this.container.style.visibility=be?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:be,noView:be})},focus:ie=>{setTimeout(()=>ie.target.focus({preventScroll:!1}),0)},userName:ie=>{ie.target.title=ie.detail.userName},readonly:ie=>{ie.target.disabled=ie.detail.readonly},required:ie=>{this._setRequired(ie.target,ie.detail.required)},bgColor:ie=>{ae("bgColor","backgroundColor",ie)},fillColor:ie=>{ae("fillColor","backgroundColor",ie)},fgColor:ie=>{ae("fgColor","color",ie)},textColor:ie=>{ae("textColor","color",ie)},borderColor:ie=>{ae("borderColor","borderColor",ie)},strokeColor:ie=>{ae("strokeColor","borderColor",ie)},rotation:ie=>{const be=ie.detail.rotation;this.setRotation(be),this.annotationStorage.setValue(this.data.id,{rotation:be})}})}_dispatchEventFromSandbox(ae,ie){const be=this._commonActions;for(const Fe of Object.keys(ie.detail)){const ke=ae[Fe]||be[Fe];ke==null||ke(ie)}}_setDefaultPropertiesFromJS(ae){if(!this.enableScripting)return;const ie=this.annotationStorage.getRawValue(this.data.id);if(!ie)return;const be=this._commonActions;for(const[Fe,ke]of Object.entries(ie)){const Le=be[Fe];if(Le){const Ue={detail:{[Fe]:ke},target:ae};Le(Ue),delete ie[Fe]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ae}=this.data;if(!ae)return;const[ie,be,Fe,ke]=this.data.rect;if(ae.length===1){const[,{x:Ve,y:Ye},{x:Ke,y:Qe}]=ae[0];if(Fe===Ve&&ke===Ye&&ie===Ke&&be===Qe)return}const{style:Le}=this.container;let Ue;if(P(this,g)){const{borderColor:Ve,borderWidth:Ye}=Le;Le.borderWidth=0,Ue=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ve}" stroke-width="${Ye}">`],this.container.classList.add("hasBorder")}const je=Fe-ie,We=ke-be,{svgFactory:$e}=this,Xe=$e.createElement("svg");Xe.classList.add("quadrilateralsContainer"),Xe.setAttribute("width",0),Xe.setAttribute("height",0);const He=$e.createElement("defs");Xe.append(He);const ze=$e.createElement("clipPath"),Ge=`clippath_${this.data.id}`;ze.setAttribute("id",Ge),ze.setAttribute("clipPathUnits","objectBoundingBox"),He.append(ze);for(const[,{x:Ve,y:Ye},{x:Ke,y:Qe}]of ae){const Ze=$e.createElement("rect"),et=(Ke-ie)/je,nt=(ke-Ye)/We,rt=(Ve-Ke)/je,pr=(Ye-Qe)/We;Ze.setAttribute("x",et),Ze.setAttribute("y",nt),Ze.setAttribute("width",rt),Ze.setAttribute("height",pr),ze.append(Ze),Ue==null||Ue.push(`<rect vector-effect="non-scaling-stroke" x="${et}" y="${nt}" width="${rt}" height="${pr}"/>`)}P(this,g)&&(Ue.push("</g></svg>')"),Le.backgroundImage=Ue.join("")),this.container.append(Xe),this.container.style.clipPath=`url(#${Ge})`}_createPopup(){const{container:ae,data:ie}=this;ae.setAttribute("aria-haspopup","dialog");const be=new w({data:{color:ie.color,titleObj:ie.titleObj,modificationDate:ie.modificationDate,contentsObj:ie.contentsObj,richText:ie.richText,parentRect:ie.rect,borderStyle:0,id:`popup_${ie.id}`,rotation:ie.rotation},parent:this.parent,elements:[this]});this.parent.div.append(be.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ae,ie=null){const be=[];if(this._fieldObjects){const Fe=this._fieldObjects[ae];if(Fe)for(const{page:ke,id:Le,exportValues:Ue}of Fe){if(ke===-1||Le===ie)continue;const je=typeof Ue=="string"?Ue:null,We=document.querySelector(`[data-element-id="${Le}"]`);if(We&&!S.has(We)){(0,n.warn)(`_getElementsByName - element not allowed: ${Le}`);continue}be.push({id:Le,exportValue:je,domElement:We})}return be}for(const Fe of document.getElementsByName(ae)){const{exportValue:ke}=Fe,Le=Fe.getAttribute("data-element-id");Le!==ie&&S.has(Fe)&&be.push({id:Le,exportValue:ke,domElement:Fe})}return be}show(){var ae;this.container&&(this.container.hidden=!1),(ae=this.popup)==null||ae.maybeShow()}hide(){var ae;this.container&&(this.container.hidden=!0),(ae=this.popup)==null||ae.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ae=this.getElementsToTriggerPopup();if(Array.isArray(ae))for(const ie of ae)ie.classList.add("highlightArea");else ae.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ae,data:{id:ie}}=this;this.container.addEventListener("dblclick",()=>{var be;(be=this.linkService.eventBus)==null||be.dispatch("switchannotationeditormode",{source:this,mode:ae,editId:ie})})}};g=new WeakMap;let C=y;class j extends C{constructor(ie,be=null){super(ie,{isRenderable:!0,ignoreBorder:!!(be!=null&&be.ignoreBorder),createQuadrilaterals:!0});Me(this,k);this.isTooltipOnly=ie.data.isTooltipOnly}render(){const{data:ie,linkService:be}=this,Fe=document.createElement("a");Fe.setAttribute("data-element-id",ie.id);let ke=!1;return ie.url?(be.addLinkAttributes(Fe,ie.url,ie.newWindow),ke=!0):ie.action?(this._bindNamedAction(Fe,ie.action),ke=!0):ie.attachment?(this._bindAttachment(Fe,ie.attachment),ke=!0):ie.setOCGState?(Ce(this,k,kr).call(this,Fe,ie.setOCGState),ke=!0):ie.dest?(this._bindLink(Fe,ie.dest),ke=!0):(ie.actions&&(ie.actions.Action||ie.actions["Mouse Up"]||ie.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Fe,ie),ke=!0),ie.resetForm?(this._bindResetFormAction(Fe,ie.resetForm),ke=!0):this.isTooltipOnly&&!ke&&(this._bindLink(Fe,""),ke=!0)),this.container.classList.add("linkAnnotation"),ke&&this.container.append(Fe),this.container}_bindLink(ie,be){ie.href=this.linkService.getDestinationHash(be),ie.onclick=()=>(be&&this.linkService.goToDestination(be),!1),(be||be==="")&&Ce(this,k,at).call(this)}_bindNamedAction(ie,be){ie.href=this.linkService.getAnchorUrl(""),ie.onclick=()=>(this.linkService.executeNamedAction(be),!1),Ce(this,k,at).call(this)}_bindAttachment(ie,be){ie.href=this.linkService.getAnchorUrl(""),ie.onclick=()=>{var Fe;return(Fe=this.downloadManager)==null||Fe.openOrDownloadData(this.container,be.content,be.filename),!1},Ce(this,k,at).call(this)}_bindJSAction(ie,be){ie.href=this.linkService.getAnchorUrl("");const Fe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ke of Object.keys(be.actions)){const Le=Fe.get(ke);Le&&(ie[Le]=()=>{var Ue;return(Ue=this.linkService.eventBus)==null||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:be.id,name:ke}}),!1})}ie.onclick||(ie.onclick=()=>!1),Ce(this,k,at).call(this)}_bindResetFormAction(ie,be){const Fe=ie.onclick;if(Fe||(ie.href=this.linkService.getAnchorUrl("")),Ce(this,k,at).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Fe||(ie.onclick=()=>!1);return}ie.onclick=()=>{var Xe;Fe==null||Fe();const{fields:ke,refs:Le,include:Ue}=be,je=[];if(ke.length!==0||Le.length!==0){const He=new Set(Le);for(const ze of ke){const Ge=this._fieldObjects[ze]||[];for(const{id:Ve}of Ge)He.add(Ve)}for(const ze of Object.values(this._fieldObjects))for(const Ge of ze)He.has(Ge.id)===Ue&&je.push(Ge)}else for(const He of Object.values(this._fieldObjects))je.push(...He);const We=this.annotationStorage,$e=[];for(const He of je){const{id:ze}=He;switch($e.push(ze),He.type){case"text":{const Ve=He.defaultValue||"";We.setValue(ze,{value:Ve});break}case"checkbox":case"radiobutton":{const Ve=He.defaultValue===He.exportValues;We.setValue(ze,{value:Ve});break}case"combobox":case"listbox":{const Ve=He.defaultValue||"";We.setValue(ze,{value:Ve});break}default:continue}const Ge=document.querySelector(`[data-element-id="${ze}"]`);if(Ge){if(!S.has(Ge)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${ze}`);continue}}else continue;Ge.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Xe=this.linkService.eventBus)==null||Xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$e,name:"ResetForm"}})),!1}}}k=new WeakSet,at=function(){this.container.setAttribute("data-internal-link","")},kr=function(ie,be){ie.href=this.linkService.getAnchorUrl(""),ie.onclick=()=>(this.linkService.executeSetOCGState(be),!1),Ce(this,k,at).call(this)};class m extends C{constructor(ae){super(ae,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ae=document.createElement("img");return ae.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ae.alt="[{{type}} Annotation]",ae.dataset.l10nId="text_annotation_type",ae.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ae),this.container}}class r extends C{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ae){var ie;this.data.hasOwnCanvas&&(((ie=ae.previousSibling)==null?void 0:ie.nodeName)==="CANVAS"&&(ae.previousSibling.hidden=!0),ae.hidden=!1)}_getKeyModifier(ae){const{isWin:ie,isMac:be}=n.FeatureTest.platform;return ie&&ae.ctrlKey||be&&ae.metaKey}_setEventListener(ae,ie,be,Fe,ke){be.includes("mouse")?ae.addEventListener(be,Le=>{var Ue;(Ue=this.linkService.eventBus)==null||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Fe,value:ke(Le),shift:Le.shiftKey,modifier:this._getKeyModifier(Le)}})}):ae.addEventListener(be,Le=>{var Ue;if(be==="blur"){if(!ie.focused||!Le.relatedTarget)return;ie.focused=!1}else if(be==="focus"){if(ie.focused)return;ie.focused=!0}ke&&((Ue=this.linkService.eventBus)==null||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Fe,value:ke(Le)}}))})}_setEventListeners(ae,ie,be,Fe){var ke,Le,Ue;for(const[je,We]of be)(We==="Action"||(ke=this.data.actions)!=null&&ke[We])&&((We==="Focus"||We==="Blur")&&(ie||(ie={focused:!1})),this._setEventListener(ae,ie,je,We,Fe),We==="Focus"&&!((Le=this.data.actions)!=null&&Le.Blur)?this._setEventListener(ae,ie,"blur","Blur",null):We==="Blur"&&!((Ue=this.data.actions)!=null&&Ue.Focus)&&this._setEventListener(ae,ie,"focus","Focus",null))}_setBackgroundColor(ae){const ie=this.data.backgroundColor||null;ae.style.backgroundColor=ie===null?"transparent":n.Util.makeHexColor(ie[0],ie[1],ie[2])}_setTextStyle(ae){const ie=["left","center","right"],{fontColor:be}=this.data.defaultAppearanceData,Fe=this.data.defaultAppearanceData.fontSize||t,ke=ae.style;let Le;const Ue=2,je=We=>Math.round(10*We)/10;if(this.data.multiLine){const We=Math.abs(this.data.rect[3]-this.data.rect[1]-Ue),$e=Math.round(We/(n.LINE_FACTOR*Fe))||1,Xe=We/$e;Le=Math.min(Fe,je(Xe/n.LINE_FACTOR))}else{const We=Math.abs(this.data.rect[3]-this.data.rect[1]-Ue);Le=Math.min(Fe,je(We/n.LINE_FACTOR))}ke.fontSize=`calc(${Le}px * var(--scale-factor))`,ke.color=n.Util.makeHexColor(be[0],be[1],be[2]),this.data.textAlignment!==null&&(ke.textAlign=ie[this.data.textAlignment])}_setRequired(ae,ie){ie?ae.setAttribute("required",!0):ae.removeAttribute("required"),ae.setAttribute("aria-required",ie)}}class d extends r{constructor(ae){const ie=ae.renderForms||!ae.data.hasAppearance&&!!ae.data.fieldValue;super(ae,{isRenderable:ie})}setPropertyOnSiblings(ae,ie,be,Fe){const ke=this.annotationStorage;for(const Le of this._getElementsByName(ae.name,ae.id))Le.domElement&&(Le.domElement[ie]=be),ke.setValue(Le.id,{[Fe]:be})}render(){var Fe,ke;const ae=this.annotationStorage,ie=this.data.id;this.container.classList.add("textWidgetAnnotation");let be=null;if(this.renderForms){const Le=ae.getValue(ie,{value:this.data.fieldValue});let Ue=Le.value||"";const je=ae.getValue(ie,{charLimit:this.data.maxLen}).charLimit;je&&Ue.length>je&&(Ue=Ue.slice(0,je));let We=Le.formattedValue||((Fe=this.data.textContent)==null?void 0:Fe.join(`
`))||null;We&&this.data.comb&&(We=We.replaceAll(/\s+/g,""));const $e={userValue:Ue,formattedValue:We,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(be=document.createElement("textarea"),be.textContent=We??Ue,this.data.doNotScroll&&(be.style.overflowY="hidden")):(be=document.createElement("input"),be.type="text",be.setAttribute("value",We??Ue),this.data.doNotScroll&&(be.style.overflowX="hidden")),this.data.hasOwnCanvas&&(be.hidden=!0),S.add(be),be.setAttribute("data-element-id",ie),be.disabled=this.data.readOnly,be.name=this.data.fieldName,be.tabIndex=A,this._setRequired(be,this.data.required),je&&(be.maxLength=je),be.addEventListener("input",He=>{ae.setValue(ie,{value:He.target.value}),this.setPropertyOnSiblings(be,"value",He.target.value,"value"),$e.formattedValue=null}),be.addEventListener("resetform",He=>{const ze=this.data.defaultFieldValue??"";be.value=$e.userValue=ze,$e.formattedValue=null});let Xe=He=>{const{formattedValue:ze}=$e;ze!=null&&(He.target.value=ze),He.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){be.addEventListener("focus",ze=>{if($e.focused)return;const{target:Ge}=ze;$e.userValue&&(Ge.value=$e.userValue),$e.lastCommittedValue=Ge.value,$e.commitKey=1,$e.focused=!0}),be.addEventListener("updatefromsandbox",ze=>{this.showElementAndHideCanvas(ze.target);const Ge={value(Ve){$e.userValue=Ve.detail.value??"",ae.setValue(ie,{value:$e.userValue.toString()}),Ve.target.value=$e.userValue},formattedValue(Ve){const{formattedValue:Ye}=Ve.detail;$e.formattedValue=Ye,Ye!=null&&Ve.target!==document.activeElement&&(Ve.target.value=Ye),ae.setValue(ie,{formattedValue:Ye})},selRange(Ve){Ve.target.setSelectionRange(...Ve.detail.selRange)},charLimit:Ve=>{var Ze;const{charLimit:Ye}=Ve.detail,{target:Ke}=Ve;if(Ye===0){Ke.removeAttribute("maxLength");return}Ke.setAttribute("maxLength",Ye);let Qe=$e.userValue;!Qe||Qe.length<=Ye||(Qe=Qe.slice(0,Ye),Ke.value=$e.userValue=Qe,ae.setValue(ie,{value:Qe}),(Ze=this.linkService.eventBus)==null||Ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ie,name:"Keystroke",value:Qe,willCommit:!0,commitKey:1,selStart:Ke.selectionStart,selEnd:Ke.selectionEnd}}))}};this._dispatchEventFromSandbox(Ge,ze)}),be.addEventListener("keydown",ze=>{var Ye;$e.commitKey=1;let Ge=-1;if(ze.key==="Escape"?Ge=0:ze.key==="Enter"&&!this.data.multiLine?Ge=2:ze.key==="Tab"&&($e.commitKey=3),Ge===-1)return;const{value:Ve}=ze.target;$e.lastCommittedValue!==Ve&&($e.lastCommittedValue=Ve,$e.userValue=Ve,(Ye=this.linkService.eventBus)==null||Ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ie,name:"Keystroke",value:Ve,willCommit:!0,commitKey:Ge,selStart:ze.target.selectionStart,selEnd:ze.target.selectionEnd}}))});const He=Xe;Xe=null,be.addEventListener("blur",ze=>{var Ve;if(!$e.focused||!ze.relatedTarget)return;$e.focused=!1;const{value:Ge}=ze.target;$e.userValue=Ge,$e.lastCommittedValue!==Ge&&((Ve=this.linkService.eventBus)==null||Ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ie,name:"Keystroke",value:Ge,willCommit:!0,commitKey:$e.commitKey,selStart:ze.target.selectionStart,selEnd:ze.target.selectionEnd}})),He(ze)}),(ke=this.data.actions)!=null&&ke.Keystroke&&be.addEventListener("beforeinput",ze=>{var nt;$e.lastCommittedValue=null;const{data:Ge,target:Ve}=ze,{value:Ye,selectionStart:Ke,selectionEnd:Qe}=Ve;let Ze=Ke,et=Qe;switch(ze.inputType){case"deleteWordBackward":{const rt=Ye.substring(0,Ke).match(/\w*[^\w]*$/);rt&&(Ze-=rt[0].length);break}case"deleteWordForward":{const rt=Ye.substring(Ke).match(/^[^\w]*\w*/);rt&&(et+=rt[0].length);break}case"deleteContentBackward":Ke===Qe&&(Ze-=1);break;case"deleteContentForward":Ke===Qe&&(et+=1);break}ze.preventDefault(),(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ie,name:"Keystroke",value:Ye,change:Ge||"",willCommit:!1,selStart:Ze,selEnd:et}})}),this._setEventListeners(be,$e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ze=>ze.target.value)}if(Xe&&be.addEventListener("blur",Xe),this.data.comb){const ze=(this.data.rect[2]-this.data.rect[0])/je;be.classList.add("comb"),be.style.letterSpacing=`calc(${ze}px * var(--scale-factor) - 1ch)`}}else be=document.createElement("div"),be.textContent=this.data.fieldValue,be.style.verticalAlign="middle",be.style.display="table-cell";return this._setTextStyle(be),this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.append(be),this.container}}class x extends r{constructor(ae){super(ae,{isRenderable:!!ae.data.hasOwnCanvas})}}class v extends r{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){const ae=this.annotationStorage,ie=this.data,be=ie.id;let Fe=ae.getValue(be,{value:ie.exportValue===ie.fieldValue}).value;typeof Fe=="string"&&(Fe=Fe!=="Off",ae.setValue(be,{value:Fe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ke=document.createElement("input");return S.add(ke),ke.setAttribute("data-element-id",be),ke.disabled=ie.readOnly,this._setRequired(ke,this.data.required),ke.type="checkbox",ke.name=ie.fieldName,Fe&&ke.setAttribute("checked",!0),ke.setAttribute("exportValue",ie.exportValue),ke.tabIndex=A,ke.addEventListener("change",Le=>{const{name:Ue,checked:je}=Le.target;for(const We of this._getElementsByName(Ue,be)){const $e=je&&We.exportValue===ie.exportValue;We.domElement&&(We.domElement.checked=$e),ae.setValue(We.id,{value:$e})}ae.setValue(be,{value:je})}),ke.addEventListener("resetform",Le=>{const Ue=ie.defaultFieldValue||"Off";Le.target.checked=Ue===ie.exportValue}),this.enableScripting&&this.hasJSActions&&(ke.addEventListener("updatefromsandbox",Le=>{const Ue={value(je){je.target.checked=je.detail.value!=="Off",ae.setValue(be,{value:je.target.checked})}};this._dispatchEventFromSandbox(Ue,Le)}),this._setEventListeners(ke,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Le=>Le.target.checked)),this._setBackgroundColor(ke),this._setDefaultPropertiesFromJS(ke),this.container.append(ke),this.container}}class l extends r{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ae=this.annotationStorage,ie=this.data,be=ie.id;let Fe=ae.getValue(be,{value:ie.fieldValue===ie.buttonValue}).value;typeof Fe=="string"&&(Fe=Fe!==ie.buttonValue,ae.setValue(be,{value:Fe}));const ke=document.createElement("input");if(S.add(ke),ke.setAttribute("data-element-id",be),ke.disabled=ie.readOnly,this._setRequired(ke,this.data.required),ke.type="radio",ke.name=ie.fieldName,Fe&&ke.setAttribute("checked",!0),ke.tabIndex=A,ke.addEventListener("change",Le=>{const{name:Ue,checked:je}=Le.target;for(const We of this._getElementsByName(Ue,be))ae.setValue(We.id,{value:!1});ae.setValue(be,{value:je})}),ke.addEventListener("resetform",Le=>{const Ue=ie.defaultFieldValue;Le.target.checked=Ue!=null&&Ue===ie.buttonValue}),this.enableScripting&&this.hasJSActions){const Le=ie.buttonValue;ke.addEventListener("updatefromsandbox",Ue=>{const je={value:We=>{const $e=Le===We.detail.value;for(const Xe of this._getElementsByName(We.target.name)){const He=$e&&Xe.id===be;Xe.domElement&&(Xe.domElement.checked=He),ae.setValue(Xe.id,{value:He})}}};this._dispatchEventFromSandbox(je,Ue)}),this._setEventListeners(ke,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ue=>Ue.target.checked)}return this._setBackgroundColor(ke),this._setDefaultPropertiesFromJS(ke),this.container.append(ke),this.container}}class _ extends j{constructor(ae){super(ae,{ignoreBorder:ae.data.hasAppearance})}render(){const ae=super.render();ae.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ae.title=this.data.alternativeText);const ie=ae.lastChild;return this.enableScripting&&this.hasJSActions&&ie&&(this._setDefaultPropertiesFromJS(ie),ie.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({},be)})),ae}}class p extends r{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ae=this.annotationStorage,ie=this.data.id,be=ae.getValue(ie,{value:this.data.fieldValue}),Fe=document.createElement("select");S.add(Fe),Fe.setAttribute("data-element-id",ie),Fe.disabled=this.data.readOnly,this._setRequired(Fe,this.data.required),Fe.name=this.data.fieldName,Fe.tabIndex=A;let ke=this.data.combo&&this.data.options.length>0;this.data.combo||(Fe.size=this.data.options.length,this.data.multiSelect&&(Fe.multiple=!0)),Fe.addEventListener("resetform",$e=>{const Xe=this.data.defaultFieldValue;for(const He of Fe.options)He.selected=He.value===Xe});for(const $e of this.data.options){const Xe=document.createElement("option");Xe.textContent=$e.displayValue,Xe.value=$e.exportValue,be.value.includes($e.exportValue)&&(Xe.setAttribute("selected",!0),ke=!1),Fe.append(Xe)}let Le=null;if(ke){const $e=document.createElement("option");$e.value=" ",$e.setAttribute("hidden",!0),$e.setAttribute("selected",!0),Fe.prepend($e),Le=()=>{$e.remove(),Fe.removeEventListener("input",Le),Le=null},Fe.addEventListener("input",Le)}const Ue=$e=>{const Xe=$e?"value":"textContent",{options:He,multiple:ze}=Fe;return ze?Array.prototype.filter.call(He,Ge=>Ge.selected).map(Ge=>Ge[Xe]):He.selectedIndex===-1?null:He[He.selectedIndex][Xe]};let je=Ue(!1);const We=$e=>{const Xe=$e.target.options;return Array.prototype.map.call(Xe,He=>({displayValue:He.textContent,exportValue:He.value}))};return this.enableScripting&&this.hasJSActions?(Fe.addEventListener("updatefromsandbox",$e=>{const Xe={value(He){Le==null||Le();const ze=He.detail.value,Ge=new Set(Array.isArray(ze)?ze:[ze]);for(const Ve of Fe.options)Ve.selected=Ge.has(Ve.value);ae.setValue(ie,{value:Ue(!0)}),je=Ue(!1)},multipleSelection(He){Fe.multiple=!0},remove(He){const ze=Fe.options,Ge=He.detail.remove;ze[Ge].selected=!1,Fe.remove(Ge),ze.length>0&&Array.prototype.findIndex.call(ze,Ye=>Ye.selected)===-1&&(ze[0].selected=!0),ae.setValue(ie,{value:Ue(!0),items:We(He)}),je=Ue(!1)},clear(He){for(;Fe.length!==0;)Fe.remove(0);ae.setValue(ie,{value:null,items:[]}),je=Ue(!1)},insert(He){const{index:ze,displayValue:Ge,exportValue:Ve}=He.detail.insert,Ye=Fe.children[ze],Ke=document.createElement("option");Ke.textContent=Ge,Ke.value=Ve,Ye?Ye.before(Ke):Fe.append(Ke),ae.setValue(ie,{value:Ue(!0),items:We(He)}),je=Ue(!1)},items(He){const{items:ze}=He.detail;for(;Fe.length!==0;)Fe.remove(0);for(const Ge of ze){const{displayValue:Ve,exportValue:Ye}=Ge,Ke=document.createElement("option");Ke.textContent=Ve,Ke.value=Ye,Fe.append(Ke)}Fe.options.length>0&&(Fe.options[0].selected=!0),ae.setValue(ie,{value:Ue(!0),items:We(He)}),je=Ue(!1)},indices(He){const ze=new Set(He.detail.indices);for(const Ge of He.target.options)Ge.selected=ze.has(Ge.index);ae.setValue(ie,{value:Ue(!0)}),je=Ue(!1)},editable(He){He.target.disabled=!He.detail.editable}};this._dispatchEventFromSandbox(Xe,$e)}),Fe.addEventListener("input",$e=>{var He;const Xe=Ue(!0);ae.setValue(ie,{value:Xe}),$e.preventDefault(),(He=this.linkService.eventBus)==null||He.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ie,name:"Keystroke",value:je,changeEx:Xe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Fe,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],$e=>$e.target.value)):Fe.addEventListener("input",function($e){ae.setValue(ie,{value:Ue(!0)})}),this.data.combo&&this._setTextStyle(Fe),this._setBackgroundColor(Fe),this._setDefaultPropertiesFromJS(Fe),this.container.append(Fe),this.container}}class w extends C{constructor(ae){const{data:ie,elements:be}=ae;super(ae,{isRenderable:C._hasPopupData(ie)}),this.elements=be}render(){this.container.classList.add("popupAnnotation");const ae=new O({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ie=[];for(const be of this.elements)be.popup=ae,ie.push(be.data.id),be.addHighlightArea();return this.container.setAttribute("aria-controls",ie.map(be=>`${n.AnnotationPrefix}${be}`).join(",")),this.container}}class O{constructor({container:ae,color:ie,elements:be,titleObj:Fe,modificationDate:ke,contentsObj:Le,richText:Ue,parent:je,rect:We,parentRect:$e,open:Xe}){Me(this,Oe);Me(this,se,null);Me(this,B,Ce(this,Oe,Mr).bind(this));Me(this,U,Ce(this,Oe,nr).bind(this));Me(this,he,Ce(this,Oe,rr).bind(this));Me(this,we,Ce(this,Oe,Tt).bind(this));Me(this,Ie,null);Me(this,me,null);Me(this,ve,null);Me(this,re,null);Me(this,ne,null);Me(this,Ee,null);Me(this,Te,!1);Me(this,oe,null);Me(this,Re,null);Me(this,W,null);Me(this,te,null);Me(this,Pe,!1);var ze;xe(this,me,ae),xe(this,te,Fe),xe(this,ve,Le),xe(this,W,Ue),xe(this,ne,je),xe(this,Ie,ie),xe(this,Re,We),xe(this,Ee,$e),xe(this,re,be);const He=L.PDFDateString.toDateObject(ke);He&&xe(this,se,je.l10n.get("annotation_date_string",{date:He.toLocaleDateString(),time:He.toLocaleTimeString()})),this.trigger=be.flatMap(Ge=>Ge.getElementsToTriggerPopup());for(const Ge of this.trigger)Ge.addEventListener("click",P(this,we)),Ge.addEventListener("mouseenter",P(this,he)),Ge.addEventListener("mouseleave",P(this,U)),Ge.classList.add("popupTriggerArea");for(const Ge of be)(ze=Ge.container)==null||ze.addEventListener("keydown",P(this,B));P(this,me).hidden=!0,Xe&&Ce(this,Oe,Tt).call(this)}render(){if(P(this,oe))return;const{page:{view:ae},viewport:{rawDims:{pageWidth:ie,pageHeight:be,pageX:Fe,pageY:ke}}}=P(this,ne),Le=xe(this,oe,document.createElement("div"));if(Le.className="popup",P(this,Ie)){const Ze=Le.style.outlineColor=n.Util.makeHexColor(...P(this,Ie));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Le.style.backgroundColor=`color-mix(in srgb, ${Ze} 30%, white)`:Le.style.backgroundColor=n.Util.makeHexColor(...P(this,Ie).map(nt=>Math.floor(.7*(255-nt)+nt)))}const Ue=document.createElement("span");Ue.className="header";const je=document.createElement("h1");if(Ue.append(je),{dir:je.dir,str:je.textContent}=P(this,te),Le.append(Ue),P(this,se)){const Ze=document.createElement("span");Ze.classList.add("popupDate"),P(this,se).then(et=>{Ze.textContent=et}),Ue.append(Ze)}const We=P(this,ve),$e=P(this,W);if($e!=null&&$e.str&&(!(We!=null&&We.str)||We.str===$e.str))b.XfaLayer.render({xfaHtml:$e.html,intent:"richText",div:Le}),Le.lastChild.classList.add("richText","popupContent");else{const Ze=this._formatContents(We);Le.append(Ze)}let Xe=!!P(this,Ee),He=Xe?P(this,Ee):P(this,Re);for(const Ze of P(this,re))if(!He||n.Util.intersect(Ze.data.rect,He)!==null){He=Ze.data.rect,Xe=!0;break}const ze=n.Util.normalizeRect([He[0],ae[3]-He[1]+ae[1],He[2],ae[3]-He[3]+ae[1]]),Ve=Xe?He[2]-He[0]+5:0,Ye=ze[0]+Ve,Ke=ze[1],{style:Qe}=P(this,me);Qe.left=`${100*(Ye-Fe)/ie}%`,Qe.top=`${100*(Ke-ke)/be}%`,P(this,me).append(Le)}_formatContents({str:ae,dir:ie}){const be=document.createElement("p");be.classList.add("popupContent"),be.dir=ie;const Fe=ae.split(/(?:\r\n?|\n)/);for(let ke=0,Le=Fe.length;ke<Le;++ke){const Ue=Fe[ke];be.append(document.createTextNode(Ue)),ke<Le-1&&be.append(document.createElement("br"))}return be}forceHide(){xe(this,Pe,this.isVisible),P(this,Pe)&&(P(this,me).hidden=!0)}maybeShow(){P(this,Pe)&&(xe(this,Pe,!1),P(this,me).hidden=!1)}get isVisible(){return P(this,me).hidden===!1}}se=new WeakMap,B=new WeakMap,U=new WeakMap,he=new WeakMap,we=new WeakMap,Ie=new WeakMap,me=new WeakMap,ve=new WeakMap,re=new WeakMap,ne=new WeakMap,Ee=new WeakMap,Te=new WeakMap,oe=new WeakMap,Re=new WeakMap,W=new WeakMap,te=new WeakMap,Pe=new WeakMap,Oe=new WeakSet,Mr=function(ae){ae.altKey||ae.shiftKey||ae.ctrlKey||ae.metaKey||(ae.key==="Enter"||ae.key==="Escape"&&P(this,Te))&&Ce(this,Oe,Tt).call(this)},Tt=function(){xe(this,Te,!P(this,Te)),P(this,Te)?(Ce(this,Oe,rr).call(this),P(this,me).addEventListener("click",P(this,we)),P(this,me).addEventListener("keydown",P(this,B))):(Ce(this,Oe,nr).call(this),P(this,me).removeEventListener("click",P(this,we)),P(this,me).removeEventListener("keydown",P(this,B)))},rr=function(){P(this,oe)||this.render(),this.isVisible?P(this,Te)&&P(this,me).classList.add("focused"):(P(this,me).hidden=!1,P(this,me).style.zIndex=parseInt(P(this,me).style.zIndex)+1e3)},nr=function(){P(this,me).classList.remove("focused"),!(P(this,Te)||!this.isVisible)&&(P(this,me).hidden=!0,P(this,me).style.zIndex=parseInt(P(this,me).style.zIndex)-1e3)};class J extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ae.data.textContent,this.textPosition=ae.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ae=document.createElement("div");ae.classList.add("annotationTextContent"),ae.setAttribute("role","comment");for(const ie of this.textContent){const be=document.createElement("span");be.textContent=ie,ae.append(be)}this.container.append(ae)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=J;class q extends C{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0});Me(this,h,null)}render(){this.container.classList.add("lineAnnotation");const ie=this.data,{width:be,height:Fe}=F(ie.rect),ke=this.svgFactory.create(be,Fe,!0),Le=xe(this,h,this.svgFactory.createElement("svg:line"));return Le.setAttribute("x1",ie.rect[2]-ie.lineCoordinates[0]),Le.setAttribute("y1",ie.rect[3]-ie.lineCoordinates[1]),Le.setAttribute("x2",ie.rect[2]-ie.lineCoordinates[2]),Le.setAttribute("y2",ie.rect[3]-ie.lineCoordinates[3]),Le.setAttribute("stroke-width",ie.borderStyle.width||1),Le.setAttribute("stroke","transparent"),Le.setAttribute("fill","transparent"),ke.append(Le),this.container.append(ke),!ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,h)}addHighlightArea(){this.container.classList.add("highlightArea")}}h=new WeakMap;class E extends C{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0});Me(this,Z,null)}render(){this.container.classList.add("squareAnnotation");const ie=this.data,{width:be,height:Fe}=F(ie.rect),ke=this.svgFactory.create(be,Fe,!0),Le=ie.borderStyle.width,Ue=xe(this,Z,this.svgFactory.createElement("svg:rect"));return Ue.setAttribute("x",Le/2),Ue.setAttribute("y",Le/2),Ue.setAttribute("width",be-Le),Ue.setAttribute("height",Fe-Le),Ue.setAttribute("stroke-width",Le||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),ke.append(Ue),this.container.append(ke),!ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,Z)}addHighlightArea(){this.container.classList.add("highlightArea")}}Z=new WeakMap;class G extends C{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0});Me(this,ce,null)}render(){this.container.classList.add("circleAnnotation");const ie=this.data,{width:be,height:Fe}=F(ie.rect),ke=this.svgFactory.create(be,Fe,!0),Le=ie.borderStyle.width,Ue=xe(this,ce,this.svgFactory.createElement("svg:ellipse"));return Ue.setAttribute("cx",be/2),Ue.setAttribute("cy",Fe/2),Ue.setAttribute("rx",be/2-Le/2),Ue.setAttribute("ry",Fe/2-Le/2),Ue.setAttribute("stroke-width",Le||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),ke.append(Ue),this.container.append(ke),!ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,ce)}addHighlightArea(){this.container.classList.add("highlightArea")}}ce=new WeakMap;class ge extends C{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0});Me(this,z,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ie=this.data,{width:be,height:Fe}=F(ie.rect),ke=this.svgFactory.create(be,Fe,!0);let Le=[];for(const je of ie.vertices){const We=je.x-ie.rect[0],$e=ie.rect[3]-je.y;Le.push(We+","+$e)}Le=Le.join(" ");const Ue=xe(this,z,this.svgFactory.createElement(this.svgElementName));return Ue.setAttribute("points",Le),Ue.setAttribute("stroke-width",ie.borderStyle.width||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),ke.append(Ue),this.container.append(ke),!ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,z)}addHighlightArea(){this.container.classList.add("highlightArea")}}z=new WeakMap;class fe extends ge{constructor(ae){super(ae),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _e extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ue extends C{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0});Me(this,M,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ie=this.data,{width:be,height:Fe}=F(ie.rect),ke=this.svgFactory.create(be,Fe,!0);for(const Le of ie.inkLists){let Ue=[];for(const We of Le){const $e=We.x-ie.rect[0],Xe=ie.rect[3]-We.y;Ue.push(`${$e},${Xe}`)}Ue=Ue.join(" ");const je=this.svgFactory.createElement(this.svgElementName);P(this,M).push(je),je.setAttribute("points",Ue),je.setAttribute("stroke-width",ie.borderStyle.width||1),je.setAttribute("stroke","transparent"),je.setAttribute("fill","transparent"),!ie.popupRef&&this.hasPopupData&&this._createPopup(),ke.append(je)}return this.container.append(ke),this.container}getElementsToTriggerPopup(){return P(this,M)}addHighlightArea(){this.container.classList.add("highlightArea")}}M=new WeakMap,o.InkAnnotationElement=ue;class ye extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class K extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Q extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class le extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class X extends C{constructor(ae){super(ae,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=X;class f extends C{constructor(ie){var ke;super(ie,{isRenderable:!0});Me(this,Ae);Me(this,u,null);const{filename:be,content:Fe}=this.data.file;this.filename=(0,L.getFilenameFromUrl)(be,!0),this.content=Fe,(ke=this.linkService.eventBus)==null||ke.dispatch("fileattachmentannotation",{source:this,filename:be,content:Fe})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ie,data:be}=this;let Fe;be.hasAppearance||be.fillAlpha===0?Fe=document.createElement("div"):(Fe=document.createElement("img"),Fe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(be.name)?"paperclip":"pushpin"}.svg`,be.fillAlpha&&be.fillAlpha<1&&(Fe.style=`filter: opacity(${Math.round(be.fillAlpha*100)}%);`)),Fe.addEventListener("dblclick",Ce(this,Ae,ir).bind(this)),xe(this,u,Fe);const{isMac:ke}=n.FeatureTest.platform;return ie.addEventListener("keydown",Le=>{Le.key==="Enter"&&(ke?Le.metaKey:Le.ctrlKey)&&Ce(this,Ae,ir).call(this)}),!be.popupRef&&this.hasPopupData?this._createPopup():Fe.classList.add("popupTriggerArea"),ie.append(Fe),ie}getElementsToTriggerPopup(){return P(this,u)}addHighlightArea(){this.container.classList.add("highlightArea")}}u=new WeakMap,Ae=new WeakSet,ir=function(){var ie;(ie=this.downloadManager)==null||ie.openOrDownloadData(this.container,this.content,this.filename)};class a{constructor({div:ae,accessibilityManager:ie,annotationCanvasMap:be,l10n:Fe,page:ke,viewport:Le}){Me(this,V);Me(this,c,null);Me(this,H,null);Me(this,pe,new Map);this.div=ae,xe(this,c,ie),xe(this,H,be),this.l10n=Fe,this.page=ke,this.viewport=Le,this.zIndex=0,this.l10n||(this.l10n=N.NullL10n)}async render(ae){const{annotations:ie}=ae,be=this.div;(0,L.setLayerDimensions)(be,this.viewport);const Fe=new Map,ke={data:null,layer:be,linkService:ae.linkService,downloadManager:ae.downloadManager,imageResourcesPath:ae.imageResourcesPath||"",renderForms:ae.renderForms!==!1,svgFactory:new L.DOMSVGFactory,annotationStorage:ae.annotationStorage||new T.AnnotationStorage,enableScripting:ae.enableScripting===!0,hasJSActions:ae.hasJSActions,fieldObjects:ae.fieldObjects,parent:this,elements:null};for(const Le of ie){if(Le.noHTML)continue;const Ue=Le.annotationType===n.AnnotationType.POPUP;if(Ue){const $e=Fe.get(Le.id);if(!$e)continue;ke.elements=$e}else{const{width:$e,height:Xe}=F(Le.rect);if($e<=0||Xe<=0)continue}ke.data=Le;const je=R.create(ke);if(!je.isRenderable)continue;if(!Ue&&Le.popupRef){const $e=Fe.get(Le.popupRef);$e?$e.push(je):Fe.set(Le.popupRef,[je])}je.annotationEditorType>0&&P(this,pe).set(je.data.id,je);const We=je.render();Le.hidden&&(We.style.visibility="hidden"),Ce(this,V,Fr).call(this,We,Le.id)}Ce(this,V,ar).call(this),await this.l10n.translate(be)}update({viewport:ae}){const ie=this.div;this.viewport=ae,(0,L.setLayerDimensions)(ie,{rotation:ae.rotation}),Ce(this,V,ar).call(this),ie.hidden=!1}getEditableAnnotations(){return Array.from(P(this,pe).values())}getEditableAnnotation(ae){return P(this,pe).get(ae)}}c=new WeakMap,H=new WeakMap,pe=new WeakMap,V=new WeakSet,Fr=function(ae,ie){var Fe;const be=ae.firstChild||ae;be.id=`${n.AnnotationPrefix}${ie}`,this.div.append(ae),(Fe=P(this,c))==null||Fe.moveElementInDOM(this.div,ae,be,!1)},ar=function(){if(!P(this,H))return;const ae=this.div;for(const[ie,be]of P(this,H)){const Fe=ae.querySelector(`[data-annotation-id="${ie}"]`);if(!Fe)continue;const{firstChild:ke}=Fe;ke?ke.nodeName==="CANVAS"?ke.replaceWith(be):ke.before(be):Fe.append(be)}P(this,H).clear()},o.AnnotationLayer=a},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function $(T){return Math.floor(Math.max(0,Math.min(1,T))*255).toString(16).padStart(2,"0")}function n(T){return Math.max(0,Math.min(255,255*T))}class L{static CMYK_G([I,N,b,A]){return["G",1-Math.min(1,.3*I+.59*b+.11*N+A)]}static G_CMYK([I]){return["CMYK",0,0,0,1-I]}static G_RGB([I]){return["RGB",I,I,I]}static G_rgb([I]){return I=n(I),[I,I,I]}static G_HTML([I]){const N=$(I);return`#${N}${N}${N}`}static RGB_G([I,N,b]){return["G",.3*I+.59*N+.11*b]}static RGB_rgb(I){return I.map(n)}static RGB_HTML(I){return`#${I.map($).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([I,N,b,A]){return["RGB",1-Math.min(1,I+A),1-Math.min(1,b+A),1-Math.min(1,N+A)]}static CMYK_rgb([I,N,b,A]){return[n(1-Math.min(1,I+A)),n(1-Math.min(1,b+A)),n(1-Math.min(1,N+A))]}static CMYK_HTML(I){const N=this.CMYK_RGB(I).slice(1);return this.RGB_HTML(N)}static RGB_CMYK([I,N,b]){const A=1-I,t=1-N,S=1-b,F=Math.min(A,t,S);return["CMYK",A,t,S,F]}}o.ColorConverters=L},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=n;const $={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};$.print_progress_percent="{{progress}}%";function n(I,N){switch(I){case"find_match_count":I=`find_match_count[${N.total===1?"one":"other"}]`;break;case"find_match_count_limit":I=`find_match_count_limit[${N.limit===1?"one":"other"}]`;break}return $[I]||""}function L(I,N){return N?I.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,A)=>A in N?N[A]:"{{"+A+"}}"):I}const T={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(I,N=null,b=n(I,N)){return L(b,N)},async translate(I){}};o.NullL10n=T},(s,o,$)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var n=$(25);class L{static setupStorage(I,N,b,A,t){const S=A.getValue(N,{value:null});switch(b.name){case"textarea":if(S.value!==null&&(I.textContent=S.value),t==="print")break;I.addEventListener("input",F=>{A.setValue(N,{value:F.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if(S.value===b.attributes.xfaOn?I.setAttribute("checked",!0):S.value===b.attributes.xfaOff&&I.removeAttribute("checked"),t==="print")break;I.addEventListener("change",F=>{A.setValue(N,{value:F.target.checked?F.target.getAttribute("xfaOn"):F.target.getAttribute("xfaOff")})})}else{if(S.value!==null&&I.setAttribute("value",S.value),t==="print")break;I.addEventListener("input",F=>{A.setValue(N,{value:F.target.value})})}break;case"select":if(S.value!==null){I.setAttribute("value",S.value);for(const F of b.children)F.attributes.value===S.value?F.attributes.selected=!0:F.attributes.hasOwnProperty("selected")&&delete F.attributes.selected}I.addEventListener("input",F=>{const R=F.target.options,C=R.selectedIndex===-1?"":R[R.selectedIndex].value;A.setValue(N,{value:C})});break}}static setAttributes({html:I,element:N,storage:b=null,intent:A,linkService:t}){const{attributes:S}=N,F=I instanceof HTMLAnchorElement;S.type==="radio"&&(S.name=`${S.name}-${A}`);for(const[R,C]of Object.entries(S))if(C!=null)switch(R){case"class":C.length&&I.setAttribute(R,C.join(" "));break;case"dataId":break;case"id":I.setAttribute("data-element-id",C);break;case"style":Object.assign(I.style,C);break;case"textContent":I.textContent=C;break;default:(!F||R!=="href"&&R!=="newWindow")&&I.setAttribute(R,C)}F&&t.addLinkAttributes(I,S.href,S.newWindow),b&&S.dataId&&this.setupStorage(I,S.dataId,N,b)}static render(I){var j;const N=I.annotationStorage,b=I.linkService,A=I.xfaHtml,t=I.intent||"display",S=document.createElement(A.name);A.attributes&&this.setAttributes({html:S,element:A,intent:t,linkService:b});const F=[[A,-1,S]],R=I.div;if(R.append(S),I.viewport){const m=`matrix(${I.viewport.transform.join(",")})`;R.style.transform=m}t!=="richText"&&R.setAttribute("class","xfaLayer xfaFont");const C=[];for(;F.length>0;){const[m,r,d]=F.at(-1);if(r+1===m.children.length){F.pop();continue}const x=m.children[++F.at(-1)[1]];if(x===null)continue;const{name:v}=x;if(v==="#text"){const _=document.createTextNode(x.value);C.push(_),d.append(_);continue}const l=(j=x==null?void 0:x.attributes)!=null&&j.xmlns?document.createElementNS(x.attributes.xmlns,v):document.createElement(v);if(d.append(l),x.attributes&&this.setAttributes({html:l,element:x,storage:N,intent:t,linkService:b}),x.children&&x.children.length>0)F.push([x,-1,l]);else if(x.value){const _=document.createTextNode(x.value);n.XfaText.shouldBuildText(v)&&C.push(_),l.append(_)}}for(const m of R.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:C}}static update(I){const N=`matrix(${I.viewport.transform.join(",")})`;I.div.style.transform=N,I.div.hidden=!1}}o.XfaLayer=L},(s,o,$)=>{var A,t,S,F,R,C,j,m,r,d,x,v,l,_,p,xr,Lr,Dr,qr,sr,Nr,or,Br,Ur,jr,$r,Hr,it,lr,Pt,Ct,ut,ur,It,k,Wr,cr,zr,Gr,hr,Ot,ct;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0;var n=$(1),L=$(4),T=$(29),I=$(6),N=$(5);const Ie=class Ie extends L.AnnotationEditor{constructor(re){super({...re,name:"inkEditor"});Me(this,p);Me(this,A,0);Me(this,t,0);Me(this,S,this.canvasPointermove.bind(this));Me(this,F,this.canvasPointerleave.bind(this));Me(this,R,this.canvasPointerup.bind(this));Me(this,C,this.canvasPointerdown.bind(this));Me(this,j,new Path2D);Me(this,m,!1);Me(this,r,!1);Me(this,d,!1);Me(this,x,null);Me(this,v,0);Me(this,l,0);Me(this,_,null);this.color=re.color||null,this.thickness=re.thickness||null,this.opacity=re.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(re){L.AnnotationEditor.initialize(re,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(re,ne){switch(re){case n.AnnotationEditorParamsType.INK_THICKNESS:Ie._defaultThickness=ne;break;case n.AnnotationEditorParamsType.INK_COLOR:Ie._defaultColor=ne;break;case n.AnnotationEditorParamsType.INK_OPACITY:Ie._defaultOpacity=ne/100;break}}updateParams(re,ne){switch(re){case n.AnnotationEditorParamsType.INK_THICKNESS:Ce(this,p,xr).call(this,ne);break;case n.AnnotationEditorParamsType.INK_COLOR:Ce(this,p,Lr).call(this,ne);break;case n.AnnotationEditorParamsType.INK_OPACITY:Ce(this,p,Dr).call(this,ne);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Ie._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Ie._defaultColor||L.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ie._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ie._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Ie._defaultColor||L.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ie._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ce(this,p,Pt).call(this),Ce(this,p,Ct).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ce(this,p,ut).call(this)),Ce(this,p,ct).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,P(this,x).disconnect(),xe(this,x,null),super.remove())}setParent(re){!this.parent&&re?this._uiManager.removeShouldRescale(this):this.parent&&re===null&&this._uiManager.addShouldRescale(this),super.setParent(re)}onScaleChanging(){const[re,ne]=this.parentDimensions,Ee=this.width*re,Te=this.height*ne;this.setDimensions(Ee,Te)}enableEditMode(){P(this,m)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",P(this,C)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",P(this,C)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){P(this,m)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),xe(this,m,!0),this.div.classList.add("disabled"),Ce(this,p,ct).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(re){this._focusEventsAllowed&&(super.focusin(re),this.enableEditMode())}canvasPointerdown(re){re.button!==0||!this.isInEditMode()||P(this,m)||(this.setInForeground(),re.preventDefault(),re.type!=="mouse"&&this.div.focus(),Ce(this,p,Nr).call(this,re.offsetX,re.offsetY))}canvasPointermove(re){re.preventDefault(),Ce(this,p,or).call(this,re.offsetX,re.offsetY)}canvasPointerup(re){re.preventDefault(),Ce(this,p,lr).call(this,re)}canvasPointerleave(re){Ce(this,p,lr).call(this,re)}get isResizable(){return!this.isEmpty()&&P(this,m)}render(){if(this.div)return this.div;let re,ne;this.width&&(re=this.x,ne=this.y),super.render(),L.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(W=>{var te;return(te=this.div)==null?void 0:te.setAttribute("aria-label",W)});const[Ee,Te,oe,Re]=Ce(this,p,qr).call(this);if(this.setAt(Ee,Te,0,0),this.setDims(oe,Re),Ce(this,p,Pt).call(this),this.width){const[W,te]=this.parentDimensions;this.setAspectRatio(this.width*W,this.height*te),this.setAt(re*W,ne*te,this.width*W,this.height*te),xe(this,d,!0),Ce(this,p,ut).call(this),this.setDims(this.width*W,this.height*te),Ce(this,p,it).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ce(this,p,Ct).call(this),this.div}setDimensions(re,ne){const Ee=Math.round(re),Te=Math.round(ne);if(P(this,v)===Ee&&P(this,l)===Te)return;xe(this,v,Ee),xe(this,l,Te),this.canvas.style.visibility="hidden";const[oe,Re]=this.parentDimensions;this.width=re/oe,this.height=ne/Re,this.fixAndSetPosition(),P(this,m)&&Ce(this,p,ur).call(this,re,ne),Ce(this,p,ut).call(this),Ce(this,p,it).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(re,ne,Ee){var h,Z,ce;if(re instanceof T.InkAnnotationElement)return null;const Te=super.deserialize(re,ne,Ee);Te.thickness=re.thickness,Te.color=n.Util.makeHexColor(...re.color),Te.opacity=re.opacity;const[oe,Re]=Te.pageDimensions,W=Te.width*oe,te=Te.height*Re,Pe=Te.parentScale,Oe=re.thickness/2;xe(Te,m,!0),xe(Te,v,Math.round(W)),xe(Te,l,Math.round(te));const{paths:qe,rect:De,rotation:Y}=re;for(let{bezier:z}of qe){z=Ce(h=Ie,k,zr).call(h,z,De,Y);const M=[];Te.paths.push(M);let u=Pe*(z[0]-Oe),Ae=Pe*(z[1]-Oe);for(let c=2,H=z.length;c<H;c+=6){const pe=Pe*(z[c]-Oe),V=Pe*(z[c+1]-Oe),de=Pe*(z[c+2]-Oe),Se=Pe*(z[c+3]-Oe),Be=Pe*(z[c+4]-Oe),ae=Pe*(z[c+5]-Oe);M.push([[u,Ae],[pe,V],[de,Se],[Be,ae]]),u=Be,Ae=ae}const Ne=Ce(this,k,Wr).call(this,M);Te.bezierPath2D.push(Ne)}const e=Ce(Z=Te,p,hr).call(Z);return xe(Te,t,Math.max(L.AnnotationEditor.MIN_SIZE,e[2]-e[0])),xe(Te,A,Math.max(L.AnnotationEditor.MIN_SIZE,e[3]-e[1])),Ce(ce=Te,p,ur).call(ce,W,te),Te}serialize(){if(this.isEmpty())return null;const re=this.getRect(0,0),ne=L.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:ne,thickness:this.thickness,opacity:this.opacity,paths:Ce(this,p,Gr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,re),pageIndex:this.pageIndex,rect:re,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};A=new WeakMap,t=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakMap,C=new WeakMap,j=new WeakMap,m=new WeakMap,r=new WeakMap,d=new WeakMap,x=new WeakMap,v=new WeakMap,l=new WeakMap,_=new WeakMap,p=new WeakSet,xr=function(re){const ne=this.thickness;this.addCommands({cmd:()=>{this.thickness=re,Ce(this,p,ct).call(this)},undo:()=>{this.thickness=ne,Ce(this,p,ct).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Lr=function(re){const ne=this.color;this.addCommands({cmd:()=>{this.color=re,Ce(this,p,it).call(this)},undo:()=>{this.color=ne,Ce(this,p,it).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Dr=function(re){re/=100;const ne=this.opacity;this.addCommands({cmd:()=>{this.opacity=re,Ce(this,p,it).call(this)},undo:()=>{this.opacity=ne,Ce(this,p,it).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},qr=function(){const{parentRotation:re,parentDimensions:[ne,Ee]}=this;switch(re){case 90:return[0,Ee,Ee,ne];case 180:return[ne,Ee,ne,Ee];case 270:return[ne,0,Ee,ne];default:return[0,0,ne,Ee]}},sr=function(){const{ctx:re,color:ne,opacity:Ee,thickness:Te,parentScale:oe,scaleFactor:Re}=this;re.lineWidth=Te*oe/Re,re.lineCap="round",re.lineJoin="round",re.miterLimit=10,re.strokeStyle=`${ne}${(0,N.opacityToHex)(Ee)}`},Nr=function(re,ne){this.canvas.addEventListener("contextmenu",I.noContextMenu),this.canvas.addEventListener("pointerleave",P(this,F)),this.canvas.addEventListener("pointermove",P(this,S)),this.canvas.addEventListener("pointerup",P(this,R)),this.canvas.removeEventListener("pointerdown",P(this,C)),this.isEditing=!0,P(this,d)||(xe(this,d,!0),Ce(this,p,ut).call(this),this.thickness||(this.thickness=Ie._defaultThickness),this.color||(this.color=Ie._defaultColor||L.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ie._defaultOpacity)),this.currentPath.push([re,ne]),xe(this,r,!1),Ce(this,p,sr).call(this),xe(this,_,()=>{Ce(this,p,jr).call(this),P(this,_)&&window.requestAnimationFrame(P(this,_))}),window.requestAnimationFrame(P(this,_))},or=function(re,ne){const[Ee,Te]=this.currentPath.at(-1);if(this.currentPath.length>1&&re===Ee&&ne===Te)return;const oe=this.currentPath;let Re=P(this,j);if(oe.push([re,ne]),xe(this,r,!0),oe.length<=2){Re.moveTo(...oe[0]),Re.lineTo(re,ne);return}oe.length===3&&(xe(this,j,Re=new Path2D),Re.moveTo(...oe[0])),Ce(this,p,$r).call(this,Re,...oe.at(-3),...oe.at(-2),re,ne)},Br=function(){if(this.currentPath.length===0)return;const re=this.currentPath.at(-1);P(this,j).lineTo(...re)},Ur=function(re,ne){xe(this,_,null),re=Math.min(Math.max(re,0),this.canvas.width),ne=Math.min(Math.max(ne,0),this.canvas.height),Ce(this,p,or).call(this,re,ne),Ce(this,p,Br).call(this);let Ee;if(this.currentPath.length!==1)Ee=Ce(this,p,Hr).call(this);else{const te=[re,ne];Ee=[[te,te.slice(),te.slice(),te]]}const Te=P(this,j),oe=this.currentPath;this.currentPath=[],xe(this,j,new Path2D);const Re=()=>{this.allRawPaths.push(oe),this.paths.push(Ee),this.bezierPath2D.push(Te),this.rebuild()},W=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ce(this,p,Pt).call(this),Ce(this,p,Ct).call(this)),Ce(this,p,ct).call(this))};this.addCommands({cmd:Re,undo:W,mustExec:!0})},jr=function(){if(!P(this,r))return;xe(this,r,!1);const re=Math.ceil(this.thickness*this.parentScale),ne=this.currentPath.slice(-3),Ee=ne.map(Re=>Re[0]),Te=ne.map(Re=>Re[1]);Math.min(...Ee)-re,Math.max(...Ee)+re,Math.min(...Te)-re,Math.max(...Te)+re;const{ctx:oe}=this;oe.save(),oe.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Re of this.bezierPath2D)oe.stroke(Re);oe.stroke(P(this,j)),oe.restore()},$r=function(re,ne,Ee,Te,oe,Re,W){const te=(ne+Te)/2,Pe=(Ee+oe)/2,Oe=(Te+Re)/2,qe=(oe+W)/2;re.bezierCurveTo(te+2*(Te-te)/3,Pe+2*(oe-Pe)/3,Oe+2*(Te-Oe)/3,qe+2*(oe-qe)/3,Oe,qe)},Hr=function(){const re=this.currentPath;if(re.length<=2)return[[re[0],re[0],re.at(-1),re.at(-1)]];const ne=[];let Ee,[Te,oe]=re[0];for(Ee=1;Ee<re.length-2;Ee++){const[De,Y]=re[Ee],[e,h]=re[Ee+1],Z=(De+e)/2,ce=(Y+h)/2,z=[Te+2*(De-Te)/3,oe+2*(Y-oe)/3],M=[Z+2*(De-Z)/3,ce+2*(Y-ce)/3];ne.push([[Te,oe],z,M,[Z,ce]]),[Te,oe]=[Z,ce]}const[Re,W]=re[Ee],[te,Pe]=re[Ee+1],Oe=[Te+2*(Re-Te)/3,oe+2*(W-oe)/3],qe=[te+2*(Re-te)/3,Pe+2*(W-Pe)/3];return ne.push([[Te,oe],Oe,qe,[te,Pe]]),ne},it=function(){if(this.isEmpty()){Ce(this,p,It).call(this);return}Ce(this,p,sr).call(this);const{canvas:re,ctx:ne}=this;ne.setTransform(1,0,0,1,0,0),ne.clearRect(0,0,re.width,re.height),Ce(this,p,It).call(this);for(const Ee of this.bezierPath2D)ne.stroke(Ee)},lr=function(re){this.canvas.removeEventListener("pointerleave",P(this,F)),this.canvas.removeEventListener("pointermove",P(this,S)),this.canvas.removeEventListener("pointerup",P(this,R)),this.canvas.addEventListener("pointerdown",P(this,C)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",I.noContextMenu)},10),Ce(this,p,Ur).call(this,re.offsetX,re.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Pt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",L.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(re=>{var ne;return(ne=this.canvas)==null?void 0:ne.setAttribute("aria-label",re)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ct=function(){xe(this,x,new ResizeObserver(re=>{const ne=re[0].contentRect;ne.width&&ne.height&&this.setDimensions(ne.width,ne.height)})),P(this,x).observe(this.div)},ut=function(){if(!P(this,d))return;const[re,ne]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*re),this.canvas.height=Math.ceil(this.height*ne),Ce(this,p,It).call(this)},ur=function(re,ne){const Ee=Ce(this,p,Ot).call(this),Te=(re-Ee)/P(this,t),oe=(ne-Ee)/P(this,A);this.scaleFactor=Math.min(Te,oe)},It=function(){const re=Ce(this,p,Ot).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+re,this.translationY*this.scaleFactor+re)},k=new WeakSet,Wr=function(re){const ne=new Path2D;for(let Ee=0,Te=re.length;Ee<Te;Ee++){const[oe,Re,W,te]=re[Ee];Ee===0&&ne.moveTo(...oe),ne.bezierCurveTo(Re[0],Re[1],W[0],W[1],te[0],te[1])}return ne},cr=function(re,ne,Ee){const[Te,oe,Re,W]=ne;switch(Ee){case 0:for(let te=0,Pe=re.length;te<Pe;te+=2)re[te]+=Te,re[te+1]=W-re[te+1];break;case 90:for(let te=0,Pe=re.length;te<Pe;te+=2){const Oe=re[te];re[te]=re[te+1]+Te,re[te+1]=Oe+oe}break;case 180:for(let te=0,Pe=re.length;te<Pe;te+=2)re[te]=Re-re[te],re[te+1]+=oe;break;case 270:for(let te=0,Pe=re.length;te<Pe;te+=2){const Oe=re[te];re[te]=Re-re[te+1],re[te+1]=W-Oe}break;default:throw new Error("Invalid rotation")}return re},zr=function(re,ne,Ee){const[Te,oe,Re,W]=ne;switch(Ee){case 0:for(let te=0,Pe=re.length;te<Pe;te+=2)re[te]-=Te,re[te+1]=W-re[te+1];break;case 90:for(let te=0,Pe=re.length;te<Pe;te+=2){const Oe=re[te];re[te]=re[te+1]-oe,re[te+1]=Oe-Te}break;case 180:for(let te=0,Pe=re.length;te<Pe;te+=2)re[te]=Re-re[te],re[te+1]-=oe;break;case 270:for(let te=0,Pe=re.length;te<Pe;te+=2){const Oe=re[te];re[te]=W-re[te+1],re[te+1]=Re-Oe}break;default:throw new Error("Invalid rotation")}return re},Gr=function(re,ne,Ee,Te){var Pe,Oe;const oe=[],Re=this.thickness/2,W=re*ne+Re,te=re*Ee+Re;for(const qe of this.paths){const De=[],Y=[];for(let e=0,h=qe.length;e<h;e++){const[Z,ce,z,M]=qe[e],u=re*Z[0]+W,Ae=re*Z[1]+te,Ne=re*ce[0]+W,c=re*ce[1]+te,H=re*z[0]+W,pe=re*z[1]+te,V=re*M[0]+W,de=re*M[1]+te;e===0&&(De.push(u,Ae),Y.push(u,Ae)),De.push(Ne,c,H,pe,V,de),Y.push(Ne,c),e===h-1&&Y.push(V,de)}oe.push({bezier:Ce(Pe=Ie,k,cr).call(Pe,De,Te,this.rotation),points:Ce(Oe=Ie,k,cr).call(Oe,Y,Te,this.rotation)})}return oe},hr=function(){let re=1/0,ne=-1/0,Ee=1/0,Te=-1/0;for(const oe of this.paths)for(const[Re,W,te,Pe]of oe){const Oe=n.Util.bezierBoundingBox(...Re,...W,...te,...Pe);re=Math.min(re,Oe[0]),Ee=Math.min(Ee,Oe[1]),ne=Math.max(ne,Oe[2]),Te=Math.max(Te,Oe[3])}return[re,Ee,ne,Te]},Ot=function(){return P(this,m)?Math.ceil(this.thickness*this.parentScale):0},ct=function(re=!1){if(this.isEmpty())return;if(!P(this,m)){Ce(this,p,it).call(this);return}const ne=Ce(this,p,hr).call(this),Ee=Ce(this,p,Ot).call(this);xe(this,t,Math.max(L.AnnotationEditor.MIN_SIZE,ne[2]-ne[0])),xe(this,A,Math.max(L.AnnotationEditor.MIN_SIZE,ne[3]-ne[1]));const Te=Math.ceil(Ee+P(this,t)*this.scaleFactor),oe=Math.ceil(Ee+P(this,A)*this.scaleFactor),[Re,W]=this.parentDimensions;this.width=Te/Re,this.height=oe/W,this.setAspectRatio(Te,oe);const te=this.translationX,Pe=this.translationY;this.translationX=-ne[0],this.translationY=-ne[1],Ce(this,p,ut).call(this),Ce(this,p,it).call(this),xe(this,v,Te),xe(this,l,oe),this.setDims(Te,oe);const Oe=re?Ee/this.scaleFactor/2:0;this.translate(te-this.translationX-Oe,Pe-this.translationY-Oe)},Me(Ie,k),Je(Ie,"_defaultColor",null),Je(Ie,"_defaultOpacity",1),Je(Ie,"_defaultThickness",1),Je(Ie,"_type","ink");let b=Ie;o.InkEditor=b},(s,o,$)=>{var b,A,t,S,F,R,C,j,m,r,d,yt,_t,kt,fr,Vr,Xr,dr,Mt,Yr;Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0;var n=$(1),L=$(4),T=$(6),I=$(29);const E=class E extends L.AnnotationEditor{constructor(fe){super({...fe,name:"stampEditor"});Me(this,d);Me(this,b,null);Me(this,A,null);Me(this,t,null);Me(this,S,null);Me(this,F,null);Me(this,R,null);Me(this,C,null);Me(this,j,null);Me(this,m,!1);Me(this,r,!1);xe(this,S,fe.bitmapUrl),xe(this,F,fe.bitmapFile)}static initialize(fe){L.AnnotationEditor.initialize(fe)}static get supportedTypes(){const fe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",fe.map(_e=>`image/${_e}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(fe){return this.supportedTypes.includes(fe)}static paste(fe,_e){_e.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:fe.getAsFile()})}remove(){var fe,_e;P(this,A)&&(xe(this,b,null),this._uiManager.imageManager.deleteId(P(this,A)),(fe=P(this,R))==null||fe.remove(),xe(this,R,null),(_e=P(this,C))==null||_e.disconnect(),xe(this,C,null)),super.remove()}rebuild(){if(!this.parent){P(this,A)&&Ce(this,d,kt).call(this);return}super.rebuild(),this.div!==null&&(P(this,A)&&Ce(this,d,kt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(P(this,t)||P(this,b)||P(this,S)||P(this,F))}get isResizable(){return!0}render(){if(this.div)return this.div;let fe,_e;if(this.width&&(fe=this.x,_e=this.y),super.render(),this.div.hidden=!0,P(this,b)?Ce(this,d,fr).call(this):Ce(this,d,kt).call(this),this.width){const[ue,ye]=this.parentDimensions;this.setAt(fe*ue,_e*ye,this.width*ue,this.height*ye)}return this.div}static deserialize(fe,_e,ue){if(fe instanceof I.StampAnnotationElement)return null;const ye=super.deserialize(fe,_e,ue),{rect:K,bitmapUrl:Q,bitmapId:le,isSvg:X,accessibilityData:f}=fe;le&&ue.imageManager.isValidId(le)?xe(ye,A,le):xe(ye,S,Q),xe(ye,m,X);const[a,g]=ye.pageDimensions;return ye.width=(K[2]-K[0])/a,ye.height=(K[3]-K[1])/g,f&&(ye.altTextData=f),ye}serialize(fe=!1,_e=null){if(this.isEmpty())return null;const ue={annotationType:n.AnnotationEditorType.STAMP,bitmapId:P(this,A),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:P(this,m),structTreeParentId:this._structTreeParentId};if(fe)return ue.bitmapUrl=Ce(this,d,Mt).call(this,!0),ue.accessibilityData=this.altTextData,ue;const{decorative:ye,altText:K}=this.altTextData;if(!ye&&K&&(ue.accessibilityData={type:"Figure",alt:K}),_e===null)return ue;_e.stamps||(_e.stamps=new Map);const Q=P(this,m)?(ue.rect[2]-ue.rect[0])*(ue.rect[3]-ue.rect[1]):null;if(!_e.stamps.has(P(this,A)))_e.stamps.set(P(this,A),{area:Q,serialized:ue}),ue.bitmap=Ce(this,d,Mt).call(this,!1);else if(P(this,m)){const le=_e.stamps.get(P(this,A));Q>le.area&&(le.area=Q,le.serialized.bitmap.close(),le.serialized.bitmap=Ce(this,d,Mt).call(this,!1))}return ue}};b=new WeakMap,A=new WeakMap,t=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakMap,C=new WeakMap,j=new WeakMap,m=new WeakMap,r=new WeakMap,d=new WeakSet,yt=function(fe,_e=!1){if(!fe){this.remove();return}xe(this,b,fe.bitmap),_e||(xe(this,A,fe.id),xe(this,m,fe.isSvg)),Ce(this,d,fr).call(this)},_t=function(){xe(this,t,null),this._uiManager.enableWaiting(!1),P(this,R)&&this.div.focus()},kt=function(){if(P(this,A)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(P(this,A)).then(_e=>Ce(this,d,yt).call(this,_e,!0)).finally(()=>Ce(this,d,_t).call(this));return}if(P(this,S)){const _e=P(this,S);xe(this,S,null),this._uiManager.enableWaiting(!0),xe(this,t,this._uiManager.imageManager.getFromUrl(_e).then(ue=>Ce(this,d,yt).call(this,ue)).finally(()=>Ce(this,d,_t).call(this)));return}if(P(this,F)){const _e=P(this,F);xe(this,F,null),this._uiManager.enableWaiting(!0),xe(this,t,this._uiManager.imageManager.getFromFile(_e).then(ue=>Ce(this,d,yt).call(this,ue)).finally(()=>Ce(this,d,_t).call(this)));return}const fe=document.createElement("input");fe.type="file",fe.accept=E.supportedTypesStr,xe(this,t,new Promise(_e=>{fe.addEventListener("change",async()=>{if(!fe.files||fe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ue=await this._uiManager.imageManager.getFromFile(fe.files[0]);Ce(this,d,yt).call(this,ue)}_e()}),fe.addEventListener("cancel",()=>{this.remove(),_e()})}).finally(()=>Ce(this,d,_t).call(this))),fe.click()},fr=function(){const{div:fe}=this;let{width:_e,height:ue}=P(this,b);const[ye,K]=this.pageDimensions,Q=.75;if(this.width)_e=this.width*ye,ue=this.height*K;else if(_e>Q*ye||ue>Q*K){const a=Math.min(Q*ye/_e,Q*K/ue);_e*=a,ue*=a}const[le,X]=this.parentDimensions;this.setDims(_e*le/ye,ue*X/K),this._uiManager.enableWaiting(!1);const f=xe(this,R,document.createElement("canvas"));fe.append(f),fe.hidden=!1,Ce(this,d,dr).call(this,_e,ue),Ce(this,d,Yr).call(this),P(this,r)||(this.parent.addUndoableEditor(this),xe(this,r,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Vr=function(fe,_e){var Q;const[ue,ye]=this.parentDimensions;this.width=fe/ue,this.height=_e/ye,this.setDims(fe,_e),(Q=this._initialOptions)!=null&&Q.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,P(this,j)!==null&&clearTimeout(P(this,j)),xe(this,j,setTimeout(()=>{xe(this,j,null),Ce(this,d,dr).call(this,fe,_e)},200))},Xr=function(fe,_e){const{width:ue,height:ye}=P(this,b);let K=ue,Q=ye,le=P(this,b);for(;K>2*fe||Q>2*_e;){const X=K,f=Q;K>2*fe&&(K=K>=16384?Math.floor(K/2)-1:Math.ceil(K/2)),Q>2*_e&&(Q=Q>=16384?Math.floor(Q/2)-1:Math.ceil(Q/2));const a=new OffscreenCanvas(K,Q);a.getContext("2d").drawImage(le,0,0,X,f,0,0,K,Q),le=a.transferToImageBitmap()}return le},dr=function(fe,_e){fe=Math.ceil(fe),_e=Math.ceil(_e);const ue=P(this,R);if(!ue||ue.width===fe&&ue.height===_e)return;ue.width=fe,ue.height=_e;const ye=P(this,m)?P(this,b):Ce(this,d,Xr).call(this,fe,_e),K=ue.getContext("2d");K.filter=this._uiManager.hcmFilter,K.drawImage(ye,0,0,ye.width,ye.height,0,0,fe,_e)},Mt=function(fe){if(fe){if(P(this,m)){const ye=this._uiManager.imageManager.getSvgUrl(P(this,A));if(ye)return ye}const _e=document.createElement("canvas");return{width:_e.width,height:_e.height}=P(this,b),_e.getContext("2d").drawImage(P(this,b),0,0),_e.toDataURL()}if(P(this,m)){const[_e,ue]=this.pageDimensions,ye=Math.round(this.width*_e*T.PixelsPerInch.PDF_TO_CSS_UNITS),K=Math.round(this.height*ue*T.PixelsPerInch.PDF_TO_CSS_UNITS),Q=new OffscreenCanvas(ye,K);return Q.getContext("2d").drawImage(P(this,b),0,0,P(this,b).width,P(this,b).height,0,0,ye,K),Q.transferToImageBitmap()}return structuredClone(P(this,b))},Yr=function(){xe(this,C,new ResizeObserver(fe=>{const _e=fe[0].contentRect;_e.width&&_e.height&&Ce(this,d,Vr).call(this,_e.width,_e.height)})),P(this,C).observe(this.div)},Je(E,"_type","stamp");let N=E;o.StampEditor=N}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var o=__webpack_module_cache__[s];if(o!==void 0)return o.exports;var $=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s]($,$.exports,__w_pdfjs_require__),$.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return T.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return I.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return N.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return $.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return $.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return $.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return $.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return $.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return L.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return L.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return $.version}});var o=__w_pdfjs_require__(1),$=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),L=__w_pdfjs_require__(26),T=__w_pdfjs_require__(27),I=__w_pdfjs_require__(5),N=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),A=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;console.log("PDF Worker initialized");const loadedDocs=new Map;self.onmessage=async s=>{const{type:o,payload:$}=s.data;console.log("Worker received message:",o);try{if(o==="LOAD_DOCUMENT"){console.log("Loading document:",$.docId);const{docId:n,data:L}=$,I=await pdfExports.getDocument({data:L}).promise;loadedDocs.set(n,I),console.log("Document loaded successfully, sending DOC_LOADED message"),self.postMessage({type:"DOC_LOADED",payload:{docId:n}})}else if(o==="RENDER_TILE"){const{docId:n,pageIndex:L,scale:T,tileX:I,tileY:N,tileSize:b,canvas:A}=$,t=loadedDocs.get(n);if(!t){console.error(`Document ${n} not found in worker`);return}const S=await t.getPage(L),F=S.getViewport({scale:T}),R=A.getContext("2d");R.fillStyle="#ffffff",R.fillRect(0,0,A.width,A.height),R.translate(-I,-N),await S.render({canvasContext:R,viewport:F}).promise}}catch(n){console.error("Worker error:",n),self.postMessage({type:"ERROR",payload:{message:n.message}})}}})();
