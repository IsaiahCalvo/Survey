var bR=Object.defineProperty;var s_=us=>{throw TypeError(us)};var wR=(us,is,cs)=>is in us?bR(us,is,{enumerable:!0,configurable:!0,writable:!0,value:cs}):us[is]=cs;var r1=(us,is,cs)=>wR(us,typeof is!="symbol"?is+"":is,cs),Qw=(us,is,cs)=>is.has(us)||s_("Cannot "+cs);var pu=(us,is,cs)=>(Qw(us,is,"read from private field"),cs?cs.call(us):is.get(us)),Op=(us,is,cs)=>is.has(us)?s_("Cannot add the same private member more than once"):is instanceof WeakSet?is.add(us):is.set(us,cs),Fp=(us,is,cs,lo)=>(Qw(us,is,"write to private field"),lo?lo.call(us,cs):is.set(us,cs),cs),Ep=(us,is,cs)=>(Qw(us,is,"access private method"),cs);var v2=(us,is,cs,lo)=>({set _(co){Fp(us,is,co,cs)},get _(){return pu(us,is,lo)}});function _mergeNamespaces(us,is){for(var cs=0;cs<is.length;cs++){const lo=is[cs];if(typeof lo!="string"&&!Array.isArray(lo)){for(const co in lo)if(co!=="default"&&!(co in us)){const hs=Object.getOwnPropertyDescriptor(lo,co);hs&&Object.defineProperty(us,co,hs.get?hs:{enumerable:!0,get:()=>lo[co]})}}}return Object.freeze(Object.defineProperty(us,Symbol.toStringTag,{value:"Module"}))}(function(){const is=document.createElement("link").relList;if(is&&is.supports&&is.supports("modulepreload"))return;for(const co of document.querySelectorAll('link[rel="modulepreload"]'))lo(co);new MutationObserver(co=>{for(const hs of co)if(hs.type==="childList")for(const uo of hs.addedNodes)uo.tagName==="LINK"&&uo.rel==="modulepreload"&&lo(uo)}).observe(document,{childList:!0,subtree:!0});function cs(co){const hs={};return co.integrity&&(hs.integrity=co.integrity),co.referrerPolicy&&(hs.referrerPolicy=co.referrerPolicy),co.crossOrigin==="use-credentials"?hs.credentials="include":co.crossOrigin==="anonymous"?hs.credentials="omit":hs.credentials="same-origin",hs}function lo(co){if(co.ep)return;co.ep=!0;const hs=cs(co);fetch(co.href,hs)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(us){return us&&us.__esModule&&Object.prototype.hasOwnProperty.call(us,"default")?us.default:us}function getAugmentedNamespace(us){if(us.__esModule)return us;var is=us.default;if(typeof is=="function"){var cs=function lo(){return this instanceof lo?Reflect.construct(is,arguments,this.constructor):is.apply(this,arguments)};cs.prototype=is.prototype}else cs={};return Object.defineProperty(cs,"__esModule",{value:!0}),Object.keys(us).forEach(function(lo){var co=Object.getOwnPropertyDescriptor(us,lo);Object.defineProperty(cs,lo,co.get?co:{enumerable:!0,get:function(){return us[lo]}})}),cs}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(us){return us===null||typeof us!="object"?null:(us=z$2&&us[z$2]||us["@@iterator"],typeof us=="function"?us:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$2(us,is,cs){this.props=us,this.context=is,this.refs=D$3,this.updater=cs||B$3}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(us,is){if(typeof us!="object"&&typeof us!="function"&&us!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,us,is,"setState")};E$2.prototype.forceUpdate=function(us){this.updater.enqueueForceUpdate(this,us,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(us,is,cs){this.props=us,this.context=is,this.refs=D$3,this.updater=cs||B$3}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(us,is,cs){var lo,co={},hs=null,uo=null;if(is!=null)for(lo in is.ref!==void 0&&(uo=is.ref),is.key!==void 0&&(hs=""+is.key),is)J$1.call(is,lo)&&!L$2.hasOwnProperty(lo)&&(co[lo]=is[lo]);var xa=arguments.length-2;if(xa===1)co.children=cs;else if(1<xa){for(var ba=Array(xa),$a=0;$a<xa;$a++)ba[$a]=arguments[$a+2];co.children=ba}if(us&&us.defaultProps)for(lo in xa=us.defaultProps,xa)co[lo]===void 0&&(co[lo]=xa[lo]);return{$$typeof:l$2,type:us,key:hs,ref:uo,props:co,_owner:K$2.current}}function N$2(us,is){return{$$typeof:l$2,type:us.type,key:is,ref:us.ref,props:us.props,_owner:us._owner}}function O$2(us){return typeof us=="object"&&us!==null&&us.$$typeof===l$2}function escape$1(us){var is={"=":"=0",":":"=2"};return"$"+us.replace(/[=:]/g,function(cs){return is[cs]})}var P$2=/\/+/g;function Q$2(us,is){return typeof us=="object"&&us!==null&&us.key!=null?escape$1(""+us.key):is.toString(36)}function R$2(us,is,cs,lo,co){var hs=typeof us;(hs==="undefined"||hs==="boolean")&&(us=null);var uo=!1;if(us===null)uo=!0;else switch(hs){case"string":case"number":uo=!0;break;case"object":switch(us.$$typeof){case l$2:case n$2:uo=!0}}if(uo)return uo=us,co=co(uo),us=lo===""?"."+Q$2(uo,0):lo,I$2(co)?(cs="",us!=null&&(cs=us.replace(P$2,"$&/")+"/"),R$2(co,is,cs,"",function($a){return $a})):co!=null&&(O$2(co)&&(co=N$2(co,cs+(!co.key||uo&&uo.key===co.key?"":(""+co.key).replace(P$2,"$&/")+"/")+us)),is.push(co)),1;if(uo=0,lo=lo===""?".":lo+":",I$2(us))for(var xa=0;xa<us.length;xa++){hs=us[xa];var ba=lo+Q$2(hs,xa);uo+=R$2(hs,is,cs,ba,co)}else if(ba=A$2(us),typeof ba=="function")for(us=ba.call(us),xa=0;!(hs=us.next()).done;)hs=hs.value,ba=lo+Q$2(hs,xa++),uo+=R$2(hs,is,cs,ba,co);else if(hs==="object")throw is=String(us),Error("Objects are not valid as a React child (found: "+(is==="[object Object]"?"object with keys {"+Object.keys(us).join(", ")+"}":is)+"). If you meant to render a collection of children, use an array instead.");return uo}function S$2(us,is,cs){if(us==null)return us;var lo=[],co=0;return R$2(us,lo,"","",function(hs){return is.call(cs,hs,co++)}),lo}function T$2(us){if(us._status===-1){var is=us._result;is=is(),is.then(function(cs){(us._status===0||us._status===-1)&&(us._status=1,us._result=cs)},function(cs){(us._status===0||us._status===-1)&&(us._status=2,us._result=cs)}),us._status===-1&&(us._status=0,us._result=is)}if(us._status===1)return us._result.default;throw us._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(us,is,cs){S$2(us,function(){is.apply(this,arguments)},cs)},count:function(us){var is=0;return S$2(us,function(){is++}),is},toArray:function(us){return S$2(us,function(is){return is})||[]},only:function(us){if(!O$2(us))throw Error("React.Children.only expected to receive a single React element child.");return us}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(us,is,cs){if(us==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+us+".");var lo=C$2({},us.props),co=us.key,hs=us.ref,uo=us._owner;if(is!=null){if(is.ref!==void 0&&(hs=is.ref,uo=K$2.current),is.key!==void 0&&(co=""+is.key),us.type&&us.type.defaultProps)var xa=us.type.defaultProps;for(ba in is)J$1.call(is,ba)&&!L$2.hasOwnProperty(ba)&&(lo[ba]=is[ba]===void 0&&xa!==void 0?xa[ba]:is[ba])}var ba=arguments.length-2;if(ba===1)lo.children=cs;else if(1<ba){xa=Array(ba);for(var $a=0;$a<ba;$a++)xa[$a]=arguments[$a+2];lo.children=xa}return{$$typeof:l$2,type:us.type,key:co,ref:hs,props:lo,_owner:uo}};react_production_min.createContext=function(us){return us={$$typeof:u$2,_currentValue:us,_currentValue2:us,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},us.Provider={$$typeof:t$1,_context:us},us.Consumer=us};react_production_min.createElement=M$2;react_production_min.createFactory=function(us){var is=M$2.bind(null,us);return is.type=us,is};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(us){return{$$typeof:v$2,render:us}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(us){return{$$typeof:y$1,_payload:{_status:-1,_result:us},_init:T$2}};react_production_min.memo=function(us,is){return{$$typeof:x$1,type:us,compare:is===void 0?null:is}};react_production_min.startTransition=function(us){var is=V$2.transition;V$2.transition={};try{us()}finally{V$2.transition=is}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(us,is){return U$2.current.useCallback(us,is)};react_production_min.useContext=function(us){return U$2.current.useContext(us)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(us){return U$2.current.useDeferredValue(us)};react_production_min.useEffect=function(us,is){return U$2.current.useEffect(us,is)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(us,is,cs){return U$2.current.useImperativeHandle(us,is,cs)};react_production_min.useInsertionEffect=function(us,is){return U$2.current.useInsertionEffect(us,is)};react_production_min.useLayoutEffect=function(us,is){return U$2.current.useLayoutEffect(us,is)};react_production_min.useMemo=function(us,is){return U$2.current.useMemo(us,is)};react_production_min.useReducer=function(us,is,cs){return U$2.current.useReducer(us,is,cs)};react_production_min.useRef=function(us){return U$2.current.useRef(us)};react_production_min.useState=function(us){return U$2.current.useState(us)};react_production_min.useSyncExternalStore=function(us,is,cs){return U$2.current.useSyncExternalStore(us,is,cs)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$2(us,is,cs){var lo,co={},hs=null,uo=null;cs!==void 0&&(hs=""+cs),is.key!==void 0&&(hs=""+is.key),is.ref!==void 0&&(uo=is.ref);for(lo in is)m$2.call(is,lo)&&!p$2.hasOwnProperty(lo)&&(co[lo]=is[lo]);if(us&&us.defaultProps)for(lo in is=us.defaultProps,is)co[lo]===void 0&&(co[lo]=is[lo]);return{$$typeof:k$1,type:us,key:hs,ref:uo,props:co,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(us){function is(Mu,mu){var uu=Mu.length;Mu.push(mu);e:for(;0<uu;){var cu=uu-1>>>1,ru=Mu[cu];if(0<co(ru,mu))Mu[cu]=mu,Mu[uu]=ru,uu=cu;else break e}}function cs(Mu){return Mu.length===0?null:Mu[0]}function lo(Mu){if(Mu.length===0)return null;var mu=Mu[0],uu=Mu.pop();if(uu!==mu){Mu[0]=uu;e:for(var cu=0,ru=Mu.length,Yl=ru>>>1;cu<Yl;){var Hl=2*(cu+1)-1,Kl=Mu[Hl],_c=Hl+1,Ql=Mu[_c];if(0>co(Kl,uu))_c<ru&&0>co(Ql,Kl)?(Mu[cu]=Ql,Mu[_c]=uu,cu=_c):(Mu[cu]=Kl,Mu[Hl]=uu,cu=Hl);else if(_c<ru&&0>co(Ql,uu))Mu[cu]=Ql,Mu[_c]=uu,cu=_c;else break e}}return mu}function co(Mu,mu){var uu=Mu.sortIndex-mu.sortIndex;return uu!==0?uu:Mu.id-mu.id}if(typeof performance=="object"&&typeof performance.now=="function"){var hs=performance;us.unstable_now=function(){return hs.now()}}else{var uo=Date,xa=uo.now();us.unstable_now=function(){return uo.now()-xa}}var ba=[],$a=[],wl=1,Sl=null,Cl=3,_l=!1,Il=!1,Fl=!1,Ml=typeof setTimeout=="function"?setTimeout:null,Tl=typeof clearTimeout=="function"?clearTimeout:null,Dl=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Bl(Mu){for(var mu=cs($a);mu!==null;){if(mu.callback===null)lo($a);else if(mu.startTime<=Mu)lo($a),mu.sortIndex=mu.expirationTime,is(ba,mu);else break;mu=cs($a)}}function Ll(Mu){if(Fl=!1,Bl(Mu),!Il)if(cs(ba)!==null)Il=!0,Wu(Nl);else{var mu=cs($a);mu!==null&&qu(Ll,mu.startTime-Mu)}}function Nl(Mu,mu){Il=!1,Fl&&(Fl=!1,Tl(Vl),Vl=-1),_l=!0;var uu=Cl;try{for(Bl(mu),Sl=cs(ba);Sl!==null&&(!(Sl.expirationTime>mu)||Mu&&!nu());){var cu=Sl.callback;if(typeof cu=="function"){Sl.callback=null,Cl=Sl.priorityLevel;var ru=cu(Sl.expirationTime<=mu);mu=us.unstable_now(),typeof ru=="function"?Sl.callback=ru:Sl===cs(ba)&&lo(ba),Bl(mu)}else lo(ba);Sl=cs(ba)}if(Sl!==null)var Yl=!0;else{var Hl=cs($a);Hl!==null&&qu(Ll,Hl.startTime-mu),Yl=!1}return Yl}finally{Sl=null,Cl=uu,_l=!1}}var zl=!1,$l=null,Vl=-1,Gl=5,iu=-1;function nu(){return!(us.unstable_now()-iu<Gl)}function Jl(){if($l!==null){var Mu=us.unstable_now();iu=Mu;var mu=!0;try{mu=$l(!0,Mu)}finally{mu?lu():(zl=!1,$l=null)}}else zl=!1}var lu;if(typeof Dl=="function")lu=function(){Dl(Jl)};else if(typeof MessageChannel<"u"){var ju=new MessageChannel,zu=ju.port2;ju.port1.onmessage=Jl,lu=function(){zu.postMessage(null)}}else lu=function(){Ml(Jl,0)};function Wu(Mu){$l=Mu,zl||(zl=!0,lu())}function qu(Mu,mu){Vl=Ml(function(){Mu(us.unstable_now())},mu)}us.unstable_IdlePriority=5,us.unstable_ImmediatePriority=1,us.unstable_LowPriority=4,us.unstable_NormalPriority=3,us.unstable_Profiling=null,us.unstable_UserBlockingPriority=2,us.unstable_cancelCallback=function(Mu){Mu.callback=null},us.unstable_continueExecution=function(){Il||_l||(Il=!0,Wu(Nl))},us.unstable_forceFrameRate=function(Mu){0>Mu||125<Mu?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Gl=0<Mu?Math.floor(1e3/Mu):5},us.unstable_getCurrentPriorityLevel=function(){return Cl},us.unstable_getFirstCallbackNode=function(){return cs(ba)},us.unstable_next=function(Mu){switch(Cl){case 1:case 2:case 3:var mu=3;break;default:mu=Cl}var uu=Cl;Cl=mu;try{return Mu()}finally{Cl=uu}},us.unstable_pauseExecution=function(){},us.unstable_requestPaint=function(){},us.unstable_runWithPriority=function(Mu,mu){switch(Mu){case 1:case 2:case 3:case 4:case 5:break;default:Mu=3}var uu=Cl;Cl=Mu;try{return mu()}finally{Cl=uu}},us.unstable_scheduleCallback=function(Mu,mu,uu){var cu=us.unstable_now();switch(typeof uu=="object"&&uu!==null?(uu=uu.delay,uu=typeof uu=="number"&&0<uu?cu+uu:cu):uu=cu,Mu){case 1:var ru=-1;break;case 2:ru=250;break;case 5:ru=1073741823;break;case 4:ru=1e4;break;default:ru=5e3}return ru=uu+ru,Mu={id:wl++,callback:mu,priorityLevel:Mu,startTime:uu,expirationTime:ru,sortIndex:-1},uu>cu?(Mu.sortIndex=uu,is($a,Mu),cs(ba)===null&&Mu===cs($a)&&(Fl?(Tl(Vl),Vl=-1):Fl=!0,qu(Ll,uu-cu))):(Mu.sortIndex=ru,is(ba,Mu),Il||_l||(Il=!0,Wu(Nl))),Mu},us.unstable_shouldYield=nu,us.unstable_wrapCallback=function(Mu){var mu=Cl;return function(){var uu=Cl;Cl=mu;try{return Mu.apply(this,arguments)}finally{Cl=uu}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(us){for(var is="https://reactjs.org/docs/error-decoder.html?invariant="+us,cs=1;cs<arguments.length;cs++)is+="&args[]="+encodeURIComponent(arguments[cs]);return"Minified React error #"+us+"; visit "+is+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea$1={};function fa(us,is){ha(us,is),ha(us+"Capture",is)}function ha(us,is){for(ea$1[us]=is,us=0;us<is.length;us++)da.add(is[us])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(us){return ja.call(ma,us)?!0:ja.call(la,us)?!1:ka.test(us)?ma[us]=!0:(la[us]=!0,!1)}function pa(us,is,cs,lo){if(cs!==null&&cs.type===0)return!1;switch(typeof is){case"function":case"symbol":return!0;case"boolean":return lo?!1:cs!==null?!cs.acceptsBooleans:(us=us.toLowerCase().slice(0,5),us!=="data-"&&us!=="aria-");default:return!1}}function qa$1(us,is,cs,lo){if(is===null||typeof is>"u"||pa(us,is,cs,lo))return!0;if(lo)return!1;if(cs!==null)switch(cs.type){case 3:return!is;case 4:return is===!1;case 5:return isNaN(is);case 6:return isNaN(is)||1>is}return!1}function v$1(us,is,cs,lo,co,hs,uo){this.acceptsBooleans=is===2||is===3||is===4,this.attributeName=lo,this.attributeNamespace=co,this.mustUseProperty=cs,this.propertyName=us,this.type=is,this.sanitizeURL=hs,this.removeEmptyString=uo}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(us){z$1[us]=new v$1(us,0,!1,us,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(us){var is=us[0];z$1[is]=new v$1(is,1,!1,us[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(us){z$1[us]=new v$1(us,2,!1,us.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(us){z$1[us]=new v$1(us,2,!1,us,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(us){z$1[us]=new v$1(us,3,!1,us.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(us){z$1[us]=new v$1(us,3,!0,us,null,!1,!1)});["capture","download"].forEach(function(us){z$1[us]=new v$1(us,4,!1,us,null,!1,!1)});["cols","rows","size","span"].forEach(function(us){z$1[us]=new v$1(us,6,!1,us,null,!1,!1)});["rowSpan","start"].forEach(function(us){z$1[us]=new v$1(us,5,!1,us.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa(us){return us[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(us){var is=us.replace(ra$1,sa);z$1[is]=new v$1(is,1,!1,us,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(us){var is=us.replace(ra$1,sa);z$1[is]=new v$1(is,1,!1,us,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(us){var is=us.replace(ra$1,sa);z$1[is]=new v$1(is,1,!1,us,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(us){z$1[us]=new v$1(us,1,!1,us.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(us){z$1[us]=new v$1(us,1,!1,us.toLowerCase(),null,!0,!0)});function ta$1(us,is,cs,lo){var co=z$1.hasOwnProperty(is)?z$1[is]:null;(co!==null?co.type!==0:lo||!(2<is.length)||is[0]!=="o"&&is[0]!=="O"||is[1]!=="n"&&is[1]!=="N")&&(qa$1(is,cs,co,lo)&&(cs=null),lo||co===null?oa(is)&&(cs===null?us.removeAttribute(is):us.setAttribute(is,""+cs)):co.mustUseProperty?us[co.propertyName]=cs===null?co.type===3?!1:"":cs:(is=co.attributeName,lo=co.attributeNamespace,cs===null?us.removeAttribute(is):(co=co.type,cs=co===3||co===4&&cs===!0?"":""+cs,lo?us.setAttributeNS(lo,is,cs):us.setAttribute(is,cs))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(us){return us===null||typeof us!="object"?null:(us=Ja$1&&us[Ja$1]||us["@@iterator"],typeof us=="function"?us:null)}var A$1=Object.assign,La;function Ma(us){if(La===void 0)try{throw Error()}catch(cs){var is=cs.stack.trim().match(/\n( *(at )?)/);La=is&&is[1]||""}return`
`+La+us}var Na$1=!1;function Oa(us,is){if(!us||Na$1)return"";Na$1=!0;var cs=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(is)if(is=function(){throw Error()},Object.defineProperty(is.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(is,[])}catch($a){var lo=$a}Reflect.construct(us,[],is)}else{try{is.call()}catch($a){lo=$a}us.call(is.prototype)}else{try{throw Error()}catch($a){lo=$a}us()}}catch($a){if($a&&lo&&typeof $a.stack=="string"){for(var co=$a.stack.split(`
`),hs=lo.stack.split(`
`),uo=co.length-1,xa=hs.length-1;1<=uo&&0<=xa&&co[uo]!==hs[xa];)xa--;for(;1<=uo&&0<=xa;uo--,xa--)if(co[uo]!==hs[xa]){if(uo!==1||xa!==1)do if(uo--,xa--,0>xa||co[uo]!==hs[xa]){var ba=`
`+co[uo].replace(" at new "," at ");return us.displayName&&ba.includes("<anonymous>")&&(ba=ba.replace("<anonymous>",us.displayName)),ba}while(1<=uo&&0<=xa);break}}}finally{Na$1=!1,Error.prepareStackTrace=cs}return(us=us?us.displayName||us.name:"")?Ma(us):""}function Pa(us){switch(us.tag){case 5:return Ma(us.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return us=Oa(us.type,!1),us;case 11:return us=Oa(us.type.render,!1),us;case 1:return us=Oa(us.type,!0),us;default:return""}}function Qa$1(us){if(us==null)return null;if(typeof us=="function")return us.displayName||us.name||null;if(typeof us=="string")return us;switch(us){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za$1:return"StrictMode";case Ea:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof us=="object")switch(us.$$typeof){case Ca:return(us.displayName||"Context")+".Consumer";case Ba$1:return(us._context.displayName||"Context")+".Provider";case Da:var is=us.render;return us=us.displayName,us||(us=is.displayName||is.name||"",us=us!==""?"ForwardRef("+us+")":"ForwardRef"),us;case Ga$1:return is=us.displayName||null,is!==null?is:Qa$1(us.type)||"Memo";case Ha$1:is=us._payload,us=us._init;try{return Qa$1(us(is))}catch{}}return null}function Ra$1(us){var is=us.type;switch(us.tag){case 24:return"Cache";case 9:return(is.displayName||"Context")+".Consumer";case 10:return(is._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return us=is.render,us=us.displayName||us.name||"",is.displayName||(us!==""?"ForwardRef("+us+")":"ForwardRef");case 7:return"Fragment";case 5:return is;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(is);case 8:return is===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof is=="function")return is.displayName||is.name||null;if(typeof is=="string")return is}return null}function Sa(us){switch(typeof us){case"boolean":case"number":case"string":case"undefined":return us;case"object":return us;default:return""}}function Ta(us){var is=us.type;return(us=us.nodeName)&&us.toLowerCase()==="input"&&(is==="checkbox"||is==="radio")}function Ua$1(us){var is=Ta(us)?"checked":"value",cs=Object.getOwnPropertyDescriptor(us.constructor.prototype,is),lo=""+us[is];if(!us.hasOwnProperty(is)&&typeof cs<"u"&&typeof cs.get=="function"&&typeof cs.set=="function"){var co=cs.get,hs=cs.set;return Object.defineProperty(us,is,{configurable:!0,get:function(){return co.call(this)},set:function(uo){lo=""+uo,hs.call(this,uo)}}),Object.defineProperty(us,is,{enumerable:cs.enumerable}),{getValue:function(){return lo},setValue:function(uo){lo=""+uo},stopTracking:function(){us._valueTracker=null,delete us[is]}}}}function Va$1(us){us._valueTracker||(us._valueTracker=Ua$1(us))}function Wa$1(us){if(!us)return!1;var is=us._valueTracker;if(!is)return!0;var cs=is.getValue(),lo="";return us&&(lo=Ta(us)?us.checked?"true":"false":us.value),us=lo,us!==cs?(is.setValue(us),!0):!1}function Xa$1(us){if(us=us||(typeof document<"u"?document:void 0),typeof us>"u")return null;try{return us.activeElement||us.body}catch{return us.body}}function Ya$1(us,is){var cs=is.checked;return A$1({},is,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:cs??us._wrapperState.initialChecked})}function Za(us,is){var cs=is.defaultValue==null?"":is.defaultValue,lo=is.checked!=null?is.checked:is.defaultChecked;cs=Sa(is.value!=null?is.value:cs),us._wrapperState={initialChecked:lo,initialValue:cs,controlled:is.type==="checkbox"||is.type==="radio"?is.checked!=null:is.value!=null}}function ab(us,is){is=is.checked,is!=null&&ta$1(us,"checked",is,!1)}function bb(us,is){ab(us,is);var cs=Sa(is.value),lo=is.type;if(cs!=null)lo==="number"?(cs===0&&us.value===""||us.value!=cs)&&(us.value=""+cs):us.value!==""+cs&&(us.value=""+cs);else if(lo==="submit"||lo==="reset"){us.removeAttribute("value");return}is.hasOwnProperty("value")?cb(us,is.type,cs):is.hasOwnProperty("defaultValue")&&cb(us,is.type,Sa(is.defaultValue)),is.checked==null&&is.defaultChecked!=null&&(us.defaultChecked=!!is.defaultChecked)}function db(us,is,cs){if(is.hasOwnProperty("value")||is.hasOwnProperty("defaultValue")){var lo=is.type;if(!(lo!=="submit"&&lo!=="reset"||is.value!==void 0&&is.value!==null))return;is=""+us._wrapperState.initialValue,cs||is===us.value||(us.value=is),us.defaultValue=is}cs=us.name,cs!==""&&(us.name=""),us.defaultChecked=!!us._wrapperState.initialChecked,cs!==""&&(us.name=cs)}function cb(us,is,cs){(is!=="number"||Xa$1(us.ownerDocument)!==us)&&(cs==null?us.defaultValue=""+us._wrapperState.initialValue:us.defaultValue!==""+cs&&(us.defaultValue=""+cs))}var eb=Array.isArray;function fb(us,is,cs,lo){if(us=us.options,is){is={};for(var co=0;co<cs.length;co++)is["$"+cs[co]]=!0;for(cs=0;cs<us.length;cs++)co=is.hasOwnProperty("$"+us[cs].value),us[cs].selected!==co&&(us[cs].selected=co),co&&lo&&(us[cs].defaultSelected=!0)}else{for(cs=""+Sa(cs),is=null,co=0;co<us.length;co++){if(us[co].value===cs){us[co].selected=!0,lo&&(us[co].defaultSelected=!0);return}is!==null||us[co].disabled||(is=us[co])}is!==null&&(is.selected=!0)}}function gb(us,is){if(is.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},is,{value:void 0,defaultValue:void 0,children:""+us._wrapperState.initialValue})}function hb(us,is){var cs=is.value;if(cs==null){if(cs=is.children,is=is.defaultValue,cs!=null){if(is!=null)throw Error(p$1(92));if(eb(cs)){if(1<cs.length)throw Error(p$1(93));cs=cs[0]}is=cs}is==null&&(is=""),cs=is}us._wrapperState={initialValue:Sa(cs)}}function ib(us,is){var cs=Sa(is.value),lo=Sa(is.defaultValue);cs!=null&&(cs=""+cs,cs!==us.value&&(us.value=cs),is.defaultValue==null&&us.defaultValue!==cs&&(us.defaultValue=cs)),lo!=null&&(us.defaultValue=""+lo)}function jb(us){var is=us.textContent;is===us._wrapperState.initialValue&&is!==""&&is!==null&&(us.value=is)}function kb(us){switch(us){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(us,is){return us==null||us==="http://www.w3.org/1999/xhtml"?kb(is):us==="http://www.w3.org/2000/svg"&&is==="foreignObject"?"http://www.w3.org/1999/xhtml":us}var mb,nb=function(us){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(is,cs,lo,co){MSApp.execUnsafeLocalFunction(function(){return us(is,cs,lo,co)})}:us}(function(us,is){if(us.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in us)us.innerHTML=is;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+is.valueOf().toString()+"</svg>",is=mb.firstChild;us.firstChild;)us.removeChild(us.firstChild);for(;is.firstChild;)us.appendChild(is.firstChild)}});function ob(us,is){if(is){var cs=us.firstChild;if(cs&&cs===us.lastChild&&cs.nodeType===3){cs.nodeValue=is;return}}us.textContent=is}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(us){qb.forEach(function(is){is=is+us.charAt(0).toUpperCase()+us.substring(1),pb[is]=pb[us]})});function rb(us,is,cs){return is==null||typeof is=="boolean"||is===""?"":cs||typeof is!="number"||is===0||pb.hasOwnProperty(us)&&pb[us]?(""+is).trim():is+"px"}function sb(us,is){us=us.style;for(var cs in is)if(is.hasOwnProperty(cs)){var lo=cs.indexOf("--")===0,co=rb(cs,is[cs],lo);cs==="float"&&(cs="cssFloat"),lo?us.setProperty(cs,co):us[cs]=co}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(us,is){if(is){if(tb[us]&&(is.children!=null||is.dangerouslySetInnerHTML!=null))throw Error(p$1(137,us));if(is.dangerouslySetInnerHTML!=null){if(is.children!=null)throw Error(p$1(60));if(typeof is.dangerouslySetInnerHTML!="object"||!("__html"in is.dangerouslySetInnerHTML))throw Error(p$1(61))}if(is.style!=null&&typeof is.style!="object")throw Error(p$1(62))}}function vb(us,is){if(us.indexOf("-")===-1)return typeof is.is=="string";switch(us){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(us){return us=us.target||us.srcElement||window,us.correspondingUseElement&&(us=us.correspondingUseElement),us.nodeType===3?us.parentNode:us}var yb=null,zb=null,Ab=null;function Bb(us){if(us=Cb(us)){if(typeof yb!="function")throw Error(p$1(280));var is=us.stateNode;is&&(is=Db(is),yb(us.stateNode,us.type,is))}}function Eb(us){zb?Ab?Ab.push(us):Ab=[us]:zb=us}function Fb(){if(zb){var us=zb,is=Ab;if(Ab=zb=null,Bb(us),is)for(us=0;us<is.length;us++)Bb(is[us])}}function Gb(us,is){return us(is)}function Hb(){}var Ib=!1;function Jb(us,is,cs){if(Ib)return us(is,cs);Ib=!0;try{return Gb(us,is,cs)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(us,is){var cs=us.stateNode;if(cs===null)return null;var lo=Db(cs);if(lo===null)return null;cs=lo[is];e:switch(is){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(lo=!lo.disabled)||(us=us.type,lo=!(us==="button"||us==="input"||us==="select"||us==="textarea")),us=!lo;break e;default:us=!1}if(us)return null;if(cs&&typeof cs!="function")throw Error(p$1(231,is,typeof cs));return cs}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(us,is,cs,lo,co,hs,uo,xa,ba){var $a=Array.prototype.slice.call(arguments,3);try{is.apply(cs,$a)}catch(wl){this.onError(wl)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(us){Ob=!0,Pb=us}};function Tb(us,is,cs,lo,co,hs,uo,xa,ba){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(us,is,cs,lo,co,hs,uo,xa,ba){if(Tb.apply(this,arguments),Ob){if(Ob){var $a=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=$a)}}function Vb(us){var is=us,cs=us;if(us.alternate)for(;is.return;)is=is.return;else{us=is;do is=us,is.flags&4098&&(cs=is.return),us=is.return;while(us)}return is.tag===3?cs:null}function Wb(us){if(us.tag===13){var is=us.memoizedState;if(is===null&&(us=us.alternate,us!==null&&(is=us.memoizedState)),is!==null)return is.dehydrated}return null}function Xb(us){if(Vb(us)!==us)throw Error(p$1(188))}function Yb(us){var is=us.alternate;if(!is){if(is=Vb(us),is===null)throw Error(p$1(188));return is!==us?null:us}for(var cs=us,lo=is;;){var co=cs.return;if(co===null)break;var hs=co.alternate;if(hs===null){if(lo=co.return,lo!==null){cs=lo;continue}break}if(co.child===hs.child){for(hs=co.child;hs;){if(hs===cs)return Xb(co),us;if(hs===lo)return Xb(co),is;hs=hs.sibling}throw Error(p$1(188))}if(cs.return!==lo.return)cs=co,lo=hs;else{for(var uo=!1,xa=co.child;xa;){if(xa===cs){uo=!0,cs=co,lo=hs;break}if(xa===lo){uo=!0,lo=co,cs=hs;break}xa=xa.sibling}if(!uo){for(xa=hs.child;xa;){if(xa===cs){uo=!0,cs=hs,lo=co;break}if(xa===lo){uo=!0,lo=hs,cs=co;break}xa=xa.sibling}if(!uo)throw Error(p$1(189))}}if(cs.alternate!==lo)throw Error(p$1(190))}if(cs.tag!==3)throw Error(p$1(188));return cs.stateNode.current===cs?us:is}function Zb(us){return us=Yb(us),us!==null?$b(us):null}function $b(us){if(us.tag===5||us.tag===6)return us;for(us=us.child;us!==null;){var is=$b(us);if(is!==null)return is;us=us.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(us){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,us,void 0,(us.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(us){return us>>>=0,us===0?32:31-(pc(us)/qc|0)|0}var rc=64,sc=4194304;function tc(us){switch(us&-us){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return us&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return us&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return us}}function uc(us,is){var cs=us.pendingLanes;if(cs===0)return 0;var lo=0,co=us.suspendedLanes,hs=us.pingedLanes,uo=cs&268435455;if(uo!==0){var xa=uo&~co;xa!==0?lo=tc(xa):(hs&=uo,hs!==0&&(lo=tc(hs)))}else uo=cs&~co,uo!==0?lo=tc(uo):hs!==0&&(lo=tc(hs));if(lo===0)return 0;if(is!==0&&is!==lo&&!(is&co)&&(co=lo&-lo,hs=is&-is,co>=hs||co===16&&(hs&4194240)!==0))return is;if(lo&4&&(lo|=cs&16),is=us.entangledLanes,is!==0)for(us=us.entanglements,is&=lo;0<is;)cs=31-oc(is),co=1<<cs,lo|=us[cs],is&=~co;return lo}function vc(us,is){switch(us){case 1:case 2:case 4:return is+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return is+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(us,is){for(var cs=us.suspendedLanes,lo=us.pingedLanes,co=us.expirationTimes,hs=us.pendingLanes;0<hs;){var uo=31-oc(hs),xa=1<<uo,ba=co[uo];ba===-1?(!(xa&cs)||xa&lo)&&(co[uo]=vc(xa,is)):ba<=is&&(us.expiredLanes|=xa),hs&=~xa}}function xc(us){return us=us.pendingLanes&-1073741825,us!==0?us:us&1073741824?1073741824:0}function yc(){var us=rc;return rc<<=1,!(rc&4194240)&&(rc=64),us}function zc(us){for(var is=[],cs=0;31>cs;cs++)is.push(us);return is}function Ac(us,is,cs){us.pendingLanes|=is,is!==536870912&&(us.suspendedLanes=0,us.pingedLanes=0),us=us.eventTimes,is=31-oc(is),us[is]=cs}function Bc(us,is){var cs=us.pendingLanes&~is;us.pendingLanes=is,us.suspendedLanes=0,us.pingedLanes=0,us.expiredLanes&=is,us.mutableReadLanes&=is,us.entangledLanes&=is,is=us.entanglements;var lo=us.eventTimes;for(us=us.expirationTimes;0<cs;){var co=31-oc(cs),hs=1<<co;is[co]=0,lo[co]=-1,us[co]=-1,cs&=~hs}}function Cc(us,is){var cs=us.entangledLanes|=is;for(us=us.entanglements;cs;){var lo=31-oc(cs),co=1<<lo;co&is|us[lo]&is&&(us[lo]|=is),cs&=~co}}var C$1=0;function Dc(us){return us&=-us,1<us?4<us?us&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(us,is){switch(us){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(is.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(is.pointerId)}}function Tc(us,is,cs,lo,co,hs){return us===null||us.nativeEvent!==hs?(us={blockedOn:is,domEventName:cs,eventSystemFlags:lo,nativeEvent:hs,targetContainers:[co]},is!==null&&(is=Cb(is),is!==null&&Fc(is)),us):(us.eventSystemFlags|=lo,is=us.targetContainers,co!==null&&is.indexOf(co)===-1&&is.push(co),us)}function Uc(us,is,cs,lo,co){switch(is){case"focusin":return Lc=Tc(Lc,us,is,cs,lo,co),!0;case"dragenter":return Mc=Tc(Mc,us,is,cs,lo,co),!0;case"mouseover":return Nc=Tc(Nc,us,is,cs,lo,co),!0;case"pointerover":var hs=co.pointerId;return Oc.set(hs,Tc(Oc.get(hs)||null,us,is,cs,lo,co)),!0;case"gotpointercapture":return hs=co.pointerId,Pc.set(hs,Tc(Pc.get(hs)||null,us,is,cs,lo,co)),!0}return!1}function Vc(us){var is=Wc(us.target);if(is!==null){var cs=Vb(is);if(cs!==null){if(is=cs.tag,is===13){if(is=Wb(cs),is!==null){us.blockedOn=is,Ic(us.priority,function(){Gc(cs)});return}}else if(is===3&&cs.stateNode.current.memoizedState.isDehydrated){us.blockedOn=cs.tag===3?cs.stateNode.containerInfo:null;return}}}us.blockedOn=null}function Xc(us){if(us.blockedOn!==null)return!1;for(var is=us.targetContainers;0<is.length;){var cs=Yc(us.domEventName,us.eventSystemFlags,is[0],us.nativeEvent);if(cs===null){cs=us.nativeEvent;var lo=new cs.constructor(cs.type,cs);wb=lo,cs.target.dispatchEvent(lo),wb=null}else return is=Cb(cs),is!==null&&Fc(is),us.blockedOn=cs,!1;is.shift()}return!0}function Zc(us,is,cs){Xc(us)&&cs.delete(is)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(us,is){us.blockedOn===is&&(us.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(us){function is(co){return ad(co,us)}if(0<Kc.length){ad(Kc[0],us);for(var cs=1;cs<Kc.length;cs++){var lo=Kc[cs];lo.blockedOn===us&&(lo.blockedOn=null)}}for(Lc!==null&&ad(Lc,us),Mc!==null&&ad(Mc,us),Nc!==null&&ad(Nc,us),Oc.forEach(is),Pc.forEach(is),cs=0;cs<Qc.length;cs++)lo=Qc[cs],lo.blockedOn===us&&(lo.blockedOn=null);for(;0<Qc.length&&(cs=Qc[0],cs.blockedOn===null);)Vc(cs),cs.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(us,is,cs,lo){var co=C$1,hs=cd.transition;cd.transition=null;try{C$1=1,fd(us,is,cs,lo)}finally{C$1=co,cd.transition=hs}}function gd(us,is,cs,lo){var co=C$1,hs=cd.transition;cd.transition=null;try{C$1=4,fd(us,is,cs,lo)}finally{C$1=co,cd.transition=hs}}function fd(us,is,cs,lo){if(dd){var co=Yc(us,is,cs,lo);if(co===null)hd(us,is,lo,id,cs),Sc(us,lo);else if(Uc(co,us,is,cs,lo))lo.stopPropagation();else if(Sc(us,lo),is&4&&-1<Rc.indexOf(us)){for(;co!==null;){var hs=Cb(co);if(hs!==null&&Ec(hs),hs=Yc(us,is,cs,lo),hs===null&&hd(us,is,lo,id,cs),hs===co)break;co=hs}co!==null&&lo.stopPropagation()}else hd(us,is,lo,null,cs)}}var id=null;function Yc(us,is,cs,lo){if(id=null,us=xb(lo),us=Wc(us),us!==null)if(is=Vb(us),is===null)us=null;else if(cs=is.tag,cs===13){if(us=Wb(is),us!==null)return us;us=null}else if(cs===3){if(is.stateNode.current.memoizedState.isDehydrated)return is.tag===3?is.stateNode.containerInfo:null;us=null}else is!==us&&(us=null);return id=us,null}function jd(us){switch(us){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var us,is=ld,cs=is.length,lo,co="value"in kd?kd.value:kd.textContent,hs=co.length;for(us=0;us<cs&&is[us]===co[us];us++);var uo=cs-us;for(lo=1;lo<=uo&&is[cs-lo]===co[hs-lo];lo++);return md=co.slice(us,1<lo?1-lo:void 0)}function od(us){var is=us.keyCode;return"charCode"in us?(us=us.charCode,us===0&&is===13&&(us=13)):us=is,us===10&&(us=13),32<=us||us===13?us:0}function pd(){return!0}function qd(){return!1}function rd(us){function is(cs,lo,co,hs,uo){this._reactName=cs,this._targetInst=co,this.type=lo,this.nativeEvent=hs,this.target=uo,this.currentTarget=null;for(var xa in us)us.hasOwnProperty(xa)&&(cs=us[xa],this[xa]=cs?cs(hs):hs[xa]);return this.isDefaultPrevented=(hs.defaultPrevented!=null?hs.defaultPrevented:hs.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(is.prototype,{preventDefault:function(){this.defaultPrevented=!0;var cs=this.nativeEvent;cs&&(cs.preventDefault?cs.preventDefault():typeof cs.returnValue!="unknown"&&(cs.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var cs=this.nativeEvent;cs&&(cs.stopPropagation?cs.stopPropagation():typeof cs.cancelBubble!="unknown"&&(cs.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),is}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(us){return us.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(us){return us.relatedTarget===void 0?us.fromElement===us.srcElement?us.toElement:us.fromElement:us.relatedTarget},movementX:function(us){return"movementX"in us?us.movementX:(us!==yd&&(yd&&us.type==="mousemove"?(wd=us.screenX-yd.screenX,xd=us.screenY-yd.screenY):xd=wd=0,yd=us),wd)},movementY:function(us){return"movementY"in us?us.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(us){return"clipboardData"in us?us.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(us){var is=this.nativeEvent;return is.getModifierState?is.getModifierState(us):(us=Od[us])?!!is[us]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(us){if(us.key){var is=Md[us.key]||us.key;if(is!=="Unidentified")return is}return us.type==="keypress"?(us=od(us),us===13?"Enter":String.fromCharCode(us)):us.type==="keydown"||us.type==="keyup"?Nd[us.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(us){return us.type==="keypress"?od(us):0},keyCode:function(us){return us.type==="keydown"||us.type==="keyup"?us.keyCode:0},which:function(us){return us.type==="keypress"?od(us):us.type==="keydown"||us.type==="keyup"?us.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(us){return"deltaX"in us?us.deltaX:"wheelDeltaX"in us?-us.wheelDeltaX:0},deltaY:function(us){return"deltaY"in us?us.deltaY:"wheelDeltaY"in us?-us.wheelDeltaY:"wheelDelta"in us?-us.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(us,is){switch(us){case"keyup":return $d.indexOf(is.keyCode)!==-1;case"keydown":return is.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(us){return us=us.detail,typeof us=="object"&&"data"in us?us.data:null}var ie$1=!1;function je$1(us,is){switch(us){case"compositionend":return he$1(is);case"keypress":return is.which!==32?null:(fe$1=!0,ee$1);case"textInput":return us=is.data,us===ee$1&&fe$1?null:us;default:return null}}function ke$1(us,is){if(ie$1)return us==="compositionend"||!ae$1&&ge$1(us,is)?(us=nd(),md=ld=kd=null,ie$1=!1,us):null;switch(us){case"paste":return null;case"keypress":if(!(is.ctrlKey||is.altKey||is.metaKey)||is.ctrlKey&&is.altKey){if(is.char&&1<is.char.length)return is.char;if(is.which)return String.fromCharCode(is.which)}return null;case"compositionend":return de$1&&is.locale!=="ko"?null:is.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(us){var is=us&&us.nodeName&&us.nodeName.toLowerCase();return is==="input"?!!le$1[us.type]:is==="textarea"}function ne$1(us,is,cs,lo){Eb(lo),is=oe$1(is,"onChange"),0<is.length&&(cs=new td("onChange","change",null,cs,lo),us.push({event:cs,listeners:is}))}var pe$1=null,qe$1=null;function re$1(us){se$1(us,0)}function te$1(us){var is=ue$1(us);if(Wa$1(is))return us}function ve$1(us,is){if(us==="change")return is}var we$1=!1;if(ia$1){var xe$1;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(us){if(us.propertyName==="value"&&te$1(qe$1)){var is=[];ne$1(is,qe$1,us,xb(us)),Jb(re$1,is)}}function Ce$1(us,is,cs){us==="focusin"?(Ae$1(),pe$1=is,qe$1=cs,pe$1.attachEvent("onpropertychange",Be$1)):us==="focusout"&&Ae$1()}function De$1(us){if(us==="selectionchange"||us==="keyup"||us==="keydown")return te$1(qe$1)}function Ee$1(us,is){if(us==="click")return te$1(is)}function Fe$1(us,is){if(us==="input"||us==="change")return te$1(is)}function Ge$1(us,is){return us===is&&(us!==0||1/us===1/is)||us!==us&&is!==is}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(us,is){if(He$1(us,is))return!0;if(typeof us!="object"||us===null||typeof is!="object"||is===null)return!1;var cs=Object.keys(us),lo=Object.keys(is);if(cs.length!==lo.length)return!1;for(lo=0;lo<cs.length;lo++){var co=cs[lo];if(!ja.call(is,co)||!He$1(us[co],is[co]))return!1}return!0}function Je$1(us){for(;us&&us.firstChild;)us=us.firstChild;return us}function Ke$1(us,is){var cs=Je$1(us);us=0;for(var lo;cs;){if(cs.nodeType===3){if(lo=us+cs.textContent.length,us<=is&&lo>=is)return{node:cs,offset:is-us};us=lo}e:{for(;cs;){if(cs.nextSibling){cs=cs.nextSibling;break e}cs=cs.parentNode}cs=void 0}cs=Je$1(cs)}}function Le$1(us,is){return us&&is?us===is?!0:us&&us.nodeType===3?!1:is&&is.nodeType===3?Le$1(us,is.parentNode):"contains"in us?us.contains(is):us.compareDocumentPosition?!!(us.compareDocumentPosition(is)&16):!1:!1}function Me$1(){for(var us=window,is=Xa$1();is instanceof us.HTMLIFrameElement;){try{var cs=typeof is.contentWindow.location.href=="string"}catch{cs=!1}if(cs)us=is.contentWindow;else break;is=Xa$1(us.document)}return is}function Ne$1(us){var is=us&&us.nodeName&&us.nodeName.toLowerCase();return is&&(is==="input"&&(us.type==="text"||us.type==="search"||us.type==="tel"||us.type==="url"||us.type==="password")||is==="textarea"||us.contentEditable==="true")}function Oe$1(us){var is=Me$1(),cs=us.focusedElem,lo=us.selectionRange;if(is!==cs&&cs&&cs.ownerDocument&&Le$1(cs.ownerDocument.documentElement,cs)){if(lo!==null&&Ne$1(cs)){if(is=lo.start,us=lo.end,us===void 0&&(us=is),"selectionStart"in cs)cs.selectionStart=is,cs.selectionEnd=Math.min(us,cs.value.length);else if(us=(is=cs.ownerDocument||document)&&is.defaultView||window,us.getSelection){us=us.getSelection();var co=cs.textContent.length,hs=Math.min(lo.start,co);lo=lo.end===void 0?hs:Math.min(lo.end,co),!us.extend&&hs>lo&&(co=lo,lo=hs,hs=co),co=Ke$1(cs,hs);var uo=Ke$1(cs,lo);co&&uo&&(us.rangeCount!==1||us.anchorNode!==co.node||us.anchorOffset!==co.offset||us.focusNode!==uo.node||us.focusOffset!==uo.offset)&&(is=is.createRange(),is.setStart(co.node,co.offset),us.removeAllRanges(),hs>lo?(us.addRange(is),us.extend(uo.node,uo.offset)):(is.setEnd(uo.node,uo.offset),us.addRange(is)))}}for(is=[],us=cs;us=us.parentNode;)us.nodeType===1&&is.push({element:us,left:us.scrollLeft,top:us.scrollTop});for(typeof cs.focus=="function"&&cs.focus(),cs=0;cs<is.length;cs++)us=is[cs],us.element.scrollLeft=us.left,us.element.scrollTop=us.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(us,is,cs){var lo=cs.window===cs?cs.document:cs.nodeType===9?cs:cs.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa$1(lo)||(lo=Qe$1,"selectionStart"in lo&&Ne$1(lo)?lo={start:lo.selectionStart,end:lo.selectionEnd}:(lo=(lo.ownerDocument&&lo.ownerDocument.defaultView||window).getSelection(),lo={anchorNode:lo.anchorNode,anchorOffset:lo.anchorOffset,focusNode:lo.focusNode,focusOffset:lo.focusOffset}),Se$1&&Ie$1(Se$1,lo)||(Se$1=lo,lo=oe$1(Re$1,"onSelect"),0<lo.length&&(is=new td("onSelect","select",null,is,cs),us.push({event:is,listeners:lo}),is.target=Qe$1)))}function Ve$1(us,is){var cs={};return cs[us.toLowerCase()]=is.toLowerCase(),cs["Webkit"+us]="webkit"+is,cs["Moz"+us]="moz"+is,cs}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$1&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(us){if(Xe$1[us])return Xe$1[us];if(!We$1[us])return us;var is=We$1[us],cs;for(cs in is)if(is.hasOwnProperty(cs)&&cs in Ye$1)return Xe$1[us]=is[cs];return us}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(us,is){df.set(us,is),fa(is,[us])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(us,is,cs){var lo=us.type||"unknown-event";us.currentTarget=cs,Ub(lo,is,void 0,us),us.currentTarget=null}function se$1(us,is){is=(is&4)!==0;for(var cs=0;cs<us.length;cs++){var lo=us[cs],co=lo.event;lo=lo.listeners;e:{var hs=void 0;if(is)for(var uo=lo.length-1;0<=uo;uo--){var xa=lo[uo],ba=xa.instance,$a=xa.currentTarget;if(xa=xa.listener,ba!==hs&&co.isPropagationStopped())break e;nf(co,xa,$a),hs=ba}else for(uo=0;uo<lo.length;uo++){if(xa=lo[uo],ba=xa.instance,$a=xa.currentTarget,xa=xa.listener,ba!==hs&&co.isPropagationStopped())break e;nf(co,xa,$a),hs=ba}}}if(Qb)throw us=Rb,Qb=!1,Rb=null,us}function D$2(us,is){var cs=is[of];cs===void 0&&(cs=is[of]=new Set);var lo=us+"__bubble";cs.has(lo)||(pf(is,us,2,!1),cs.add(lo))}function qf(us,is,cs){var lo=0;is&&(lo|=4),pf(cs,us,lo,is)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(us){if(!us[rf]){us[rf]=!0,da.forEach(function(cs){cs!=="selectionchange"&&(mf.has(cs)||qf(cs,!1,us),qf(cs,!0,us))});var is=us.nodeType===9?us:us.ownerDocument;is===null||is[rf]||(is[rf]=!0,qf("selectionchange",!1,is))}}function pf(us,is,cs,lo){switch(jd(is)){case 1:var co=ed;break;case 4:co=gd;break;default:co=fd}cs=co.bind(null,is,cs,us),co=void 0,!Lb||is!=="touchstart"&&is!=="touchmove"&&is!=="wheel"||(co=!0),lo?co!==void 0?us.addEventListener(is,cs,{capture:!0,passive:co}):us.addEventListener(is,cs,!0):co!==void 0?us.addEventListener(is,cs,{passive:co}):us.addEventListener(is,cs,!1)}function hd(us,is,cs,lo,co){var hs=lo;if(!(is&1)&&!(is&2)&&lo!==null)e:for(;;){if(lo===null)return;var uo=lo.tag;if(uo===3||uo===4){var xa=lo.stateNode.containerInfo;if(xa===co||xa.nodeType===8&&xa.parentNode===co)break;if(uo===4)for(uo=lo.return;uo!==null;){var ba=uo.tag;if((ba===3||ba===4)&&(ba=uo.stateNode.containerInfo,ba===co||ba.nodeType===8&&ba.parentNode===co))return;uo=uo.return}for(;xa!==null;){if(uo=Wc(xa),uo===null)return;if(ba=uo.tag,ba===5||ba===6){lo=hs=uo;continue e}xa=xa.parentNode}}lo=lo.return}Jb(function(){var $a=hs,wl=xb(cs),Sl=[];e:{var Cl=df.get(us);if(Cl!==void 0){var _l=td,Il=us;switch(us){case"keypress":if(od(cs)===0)break e;case"keydown":case"keyup":_l=Rd;break;case"focusin":Il="focus",_l=Fd;break;case"focusout":Il="blur",_l=Fd;break;case"beforeblur":case"afterblur":_l=Fd;break;case"click":if(cs.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_l=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_l=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_l=Vd;break;case $e$1:case af:case bf:_l=Hd;break;case cf:_l=Xd;break;case"scroll":_l=vd;break;case"wheel":_l=Zd;break;case"copy":case"cut":case"paste":_l=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_l=Td}var Fl=(is&4)!==0,Ml=!Fl&&us==="scroll",Tl=Fl?Cl!==null?Cl+"Capture":null:Cl;Fl=[];for(var Dl=$a,Bl;Dl!==null;){Bl=Dl;var Ll=Bl.stateNode;if(Bl.tag===5&&Ll!==null&&(Bl=Ll,Tl!==null&&(Ll=Kb(Dl,Tl),Ll!=null&&Fl.push(tf(Dl,Ll,Bl)))),Ml)break;Dl=Dl.return}0<Fl.length&&(Cl=new _l(Cl,Il,null,cs,wl),Sl.push({event:Cl,listeners:Fl}))}}if(!(is&7)){e:{if(Cl=us==="mouseover"||us==="pointerover",_l=us==="mouseout"||us==="pointerout",Cl&&cs!==wb&&(Il=cs.relatedTarget||cs.fromElement)&&(Wc(Il)||Il[uf]))break e;if((_l||Cl)&&(Cl=wl.window===wl?wl:(Cl=wl.ownerDocument)?Cl.defaultView||Cl.parentWindow:window,_l?(Il=cs.relatedTarget||cs.toElement,_l=$a,Il=Il?Wc(Il):null,Il!==null&&(Ml=Vb(Il),Il!==Ml||Il.tag!==5&&Il.tag!==6)&&(Il=null)):(_l=null,Il=$a),_l!==Il)){if(Fl=Bd,Ll="onMouseLeave",Tl="onMouseEnter",Dl="mouse",(us==="pointerout"||us==="pointerover")&&(Fl=Td,Ll="onPointerLeave",Tl="onPointerEnter",Dl="pointer"),Ml=_l==null?Cl:ue$1(_l),Bl=Il==null?Cl:ue$1(Il),Cl=new Fl(Ll,Dl+"leave",_l,cs,wl),Cl.target=Ml,Cl.relatedTarget=Bl,Ll=null,Wc(wl)===$a&&(Fl=new Fl(Tl,Dl+"enter",Il,cs,wl),Fl.target=Bl,Fl.relatedTarget=Ml,Ll=Fl),Ml=Ll,_l&&Il)t:{for(Fl=_l,Tl=Il,Dl=0,Bl=Fl;Bl;Bl=vf(Bl))Dl++;for(Bl=0,Ll=Tl;Ll;Ll=vf(Ll))Bl++;for(;0<Dl-Bl;)Fl=vf(Fl),Dl--;for(;0<Bl-Dl;)Tl=vf(Tl),Bl--;for(;Dl--;){if(Fl===Tl||Tl!==null&&Fl===Tl.alternate)break t;Fl=vf(Fl),Tl=vf(Tl)}Fl=null}else Fl=null;_l!==null&&wf(Sl,Cl,_l,Fl,!1),Il!==null&&Ml!==null&&wf(Sl,Ml,Il,Fl,!0)}}e:{if(Cl=$a?ue$1($a):window,_l=Cl.nodeName&&Cl.nodeName.toLowerCase(),_l==="select"||_l==="input"&&Cl.type==="file")var Nl=ve$1;else if(me$1(Cl))if(we$1)Nl=Fe$1;else{Nl=De$1;var zl=Ce$1}else(_l=Cl.nodeName)&&_l.toLowerCase()==="input"&&(Cl.type==="checkbox"||Cl.type==="radio")&&(Nl=Ee$1);if(Nl&&(Nl=Nl(us,$a))){ne$1(Sl,Nl,cs,wl);break e}zl&&zl(us,Cl,$a),us==="focusout"&&(zl=Cl._wrapperState)&&zl.controlled&&Cl.type==="number"&&cb(Cl,"number",Cl.value)}switch(zl=$a?ue$1($a):window,us){case"focusin":(me$1(zl)||zl.contentEditable==="true")&&(Qe$1=zl,Re$1=$a,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(Sl,cs,wl);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(Sl,cs,wl)}var $l;if(ae$1)e:{switch(us){case"compositionstart":var Vl="onCompositionStart";break e;case"compositionend":Vl="onCompositionEnd";break e;case"compositionupdate":Vl="onCompositionUpdate";break e}Vl=void 0}else ie$1?ge$1(us,cs)&&(Vl="onCompositionEnd"):us==="keydown"&&cs.keyCode===229&&(Vl="onCompositionStart");Vl&&(de$1&&cs.locale!=="ko"&&(ie$1||Vl!=="onCompositionStart"?Vl==="onCompositionEnd"&&ie$1&&($l=nd()):(kd=wl,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),zl=oe$1($a,Vl),0<zl.length&&(Vl=new Ld(Vl,us,null,cs,wl),Sl.push({event:Vl,listeners:zl}),$l?Vl.data=$l:($l=he$1(cs),$l!==null&&(Vl.data=$l)))),($l=ce$1?je$1(us,cs):ke$1(us,cs))&&($a=oe$1($a,"onBeforeInput"),0<$a.length&&(wl=new Ld("onBeforeInput","beforeinput",null,cs,wl),Sl.push({event:wl,listeners:$a}),wl.data=$l))}se$1(Sl,is)})}function tf(us,is,cs){return{instance:us,listener:is,currentTarget:cs}}function oe$1(us,is){for(var cs=is+"Capture",lo=[];us!==null;){var co=us,hs=co.stateNode;co.tag===5&&hs!==null&&(co=hs,hs=Kb(us,cs),hs!=null&&lo.unshift(tf(us,hs,co)),hs=Kb(us,is),hs!=null&&lo.push(tf(us,hs,co))),us=us.return}return lo}function vf(us){if(us===null)return null;do us=us.return;while(us&&us.tag!==5);return us||null}function wf(us,is,cs,lo,co){for(var hs=is._reactName,uo=[];cs!==null&&cs!==lo;){var xa=cs,ba=xa.alternate,$a=xa.stateNode;if(ba!==null&&ba===lo)break;xa.tag===5&&$a!==null&&(xa=$a,co?(ba=Kb(cs,hs),ba!=null&&uo.unshift(tf(cs,ba,xa))):co||(ba=Kb(cs,hs),ba!=null&&uo.push(tf(cs,ba,xa)))),cs=cs.return}uo.length!==0&&us.push({event:is,listeners:uo})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(us){return(typeof us=="string"?us:""+us).replace(xf,`
`).replace(yf,"")}function Af(us,is,cs){if(is=zf(is),zf(us)!==is&&cs)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(us,is){return us==="textarea"||us==="noscript"||typeof is.children=="string"||typeof is.children=="number"||typeof is.dangerouslySetInnerHTML=="object"&&is.dangerouslySetInnerHTML!==null&&is.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(us){return Hf.resolve(null).then(us).catch(If)}:Ff;function If(us){setTimeout(function(){throw us})}function Kf(us,is){var cs=is,lo=0;do{var co=cs.nextSibling;if(us.removeChild(cs),co&&co.nodeType===8)if(cs=co.data,cs==="/$"){if(lo===0){us.removeChild(co),bd(is);return}lo--}else cs!=="$"&&cs!=="$?"&&cs!=="$!"||lo++;cs=co}while(cs);bd(is)}function Lf(us){for(;us!=null;us=us.nextSibling){var is=us.nodeType;if(is===1||is===3)break;if(is===8){if(is=us.data,is==="$"||is==="$!"||is==="$?")break;if(is==="/$")return null}}return us}function Mf(us){us=us.previousSibling;for(var is=0;us;){if(us.nodeType===8){var cs=us.data;if(cs==="$"||cs==="$!"||cs==="$?"){if(is===0)return us;is--}else cs==="/$"&&is++}us=us.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(us){var is=us[Of];if(is)return is;for(var cs=us.parentNode;cs;){if(is=cs[uf]||cs[Of]){if(cs=is.alternate,is.child!==null||cs!==null&&cs.child!==null)for(us=Mf(us);us!==null;){if(cs=us[Of])return cs;us=Mf(us)}return is}us=cs,cs=us.parentNode}return null}function Cb(us){return us=us[Of]||us[uf],!us||us.tag!==5&&us.tag!==6&&us.tag!==13&&us.tag!==3?null:us}function ue$1(us){if(us.tag===5||us.tag===6)return us.stateNode;throw Error(p$1(33))}function Db(us){return us[Pf]||null}var Sf=[],Tf=-1;function Uf(us){return{current:us}}function E$1(us){0>Tf||(us.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(us,is){Tf++,Sf[Tf]=us.current,us.current=is}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(us,is){var cs=us.type.contextTypes;if(!cs)return Vf;var lo=us.stateNode;if(lo&&lo.__reactInternalMemoizedUnmaskedChildContext===is)return lo.__reactInternalMemoizedMaskedChildContext;var co={},hs;for(hs in cs)co[hs]=is[hs];return lo&&(us=us.stateNode,us.__reactInternalMemoizedUnmaskedChildContext=is,us.__reactInternalMemoizedMaskedChildContext=co),co}function Zf(us){return us=us.childContextTypes,us!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(us,is,cs){if(H$1.current!==Vf)throw Error(p$1(168));G$1(H$1,is),G$1(Wf,cs)}function bg(us,is,cs){var lo=us.stateNode;if(is=is.childContextTypes,typeof lo.getChildContext!="function")return cs;lo=lo.getChildContext();for(var co in lo)if(!(co in is))throw Error(p$1(108,Ra$1(us)||"Unknown",co));return A$1({},cs,lo)}function cg(us){return us=(us=us.stateNode)&&us.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,us),G$1(Wf,Wf.current),!0}function dg(us,is,cs){var lo=us.stateNode;if(!lo)throw Error(p$1(169));cs?(us=bg(us,is,Xf),lo.__reactInternalMemoizedMergedChildContext=us,E$1(Wf),E$1(H$1),G$1(H$1,us)):E$1(Wf),G$1(Wf,cs)}var eg=null,fg=!1,gg=!1;function hg(us){eg===null?eg=[us]:eg.push(us)}function ig(us){fg=!0,hg(us)}function jg(){if(!gg&&eg!==null){gg=!0;var us=0,is=C$1;try{var cs=eg;for(C$1=1;us<cs.length;us++){var lo=cs[us];do lo=lo(!0);while(lo!==null)}eg=null,fg=!1}catch(co){throw eg!==null&&(eg=eg.slice(us+1)),ac(fc,jg),co}finally{C$1=is,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(us,is){kg[lg++]=ng,kg[lg++]=mg,mg=us,ng=is}function ug(us,is,cs){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=us;var lo=rg;us=sg;var co=32-oc(lo)-1;lo&=~(1<<co),cs+=1;var hs=32-oc(is)+co;if(30<hs){var uo=co-co%5;hs=(lo&(1<<uo)-1).toString(32),lo>>=uo,co-=uo,rg=1<<32-oc(is)+co|cs<<co|lo,sg=hs+us}else rg=1<<hs|cs<<co|lo,sg=us}function vg(us){us.return!==null&&(tg(us,1),ug(us,1,0))}function wg(us){for(;us===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;us===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(us,is){var cs=Bg(5,null,null,0);cs.elementType="DELETED",cs.stateNode=is,cs.return=us,is=us.deletions,is===null?(us.deletions=[cs],us.flags|=16):is.push(cs)}function Cg(us,is){switch(us.tag){case 5:var cs=us.type;return is=is.nodeType!==1||cs.toLowerCase()!==is.nodeName.toLowerCase()?null:is,is!==null?(us.stateNode=is,xg=us,yg=Lf(is.firstChild),!0):!1;case 6:return is=us.pendingProps===""||is.nodeType!==3?null:is,is!==null?(us.stateNode=is,xg=us,yg=null,!0):!1;case 13:return is=is.nodeType!==8?null:is,is!==null?(cs=qg!==null?{id:rg,overflow:sg}:null,us.memoizedState={dehydrated:is,treeContext:cs,retryLane:1073741824},cs=Bg(18,null,null,0),cs.stateNode=is,cs.return=us,us.child=cs,xg=us,yg=null,!0):!1;default:return!1}}function Dg(us){return(us.mode&1)!==0&&(us.flags&128)===0}function Eg(us){if(I$1){var is=yg;if(is){var cs=is;if(!Cg(us,is)){if(Dg(us))throw Error(p$1(418));is=Lf(cs.nextSibling);var lo=xg;is&&Cg(us,is)?Ag(lo,cs):(us.flags=us.flags&-4097|2,I$1=!1,xg=us)}}else{if(Dg(us))throw Error(p$1(418));us.flags=us.flags&-4097|2,I$1=!1,xg=us}}}function Fg(us){for(us=us.return;us!==null&&us.tag!==5&&us.tag!==3&&us.tag!==13;)us=us.return;xg=us}function Gg(us){if(us!==xg)return!1;if(!I$1)return Fg(us),I$1=!0,!1;var is;if((is=us.tag!==3)&&!(is=us.tag!==5)&&(is=us.type,is=is!=="head"&&is!=="body"&&!Ef(us.type,us.memoizedProps)),is&&(is=yg)){if(Dg(us))throw Hg(),Error(p$1(418));for(;is;)Ag(us,is),is=Lf(is.nextSibling)}if(Fg(us),us.tag===13){if(us=us.memoizedState,us=us!==null?us.dehydrated:null,!us)throw Error(p$1(317));e:{for(us=us.nextSibling,is=0;us;){if(us.nodeType===8){var cs=us.data;if(cs==="/$"){if(is===0){yg=Lf(us.nextSibling);break e}is--}else cs!=="$"&&cs!=="$!"&&cs!=="$?"||is++}us=us.nextSibling}yg=null}}else yg=xg?Lf(us.stateNode.nextSibling):null;return!0}function Hg(){for(var us=yg;us;)us=Lf(us.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(us){zg===null?zg=[us]:zg.push(us)}var Kg=ua.ReactCurrentBatchConfig;function Lg(us,is,cs){if(us=cs.ref,us!==null&&typeof us!="function"&&typeof us!="object"){if(cs._owner){if(cs=cs._owner,cs){if(cs.tag!==1)throw Error(p$1(309));var lo=cs.stateNode}if(!lo)throw Error(p$1(147,us));var co=lo,hs=""+us;return is!==null&&is.ref!==null&&typeof is.ref=="function"&&is.ref._stringRef===hs?is.ref:(is=function(uo){var xa=co.refs;uo===null?delete xa[hs]:xa[hs]=uo},is._stringRef=hs,is)}if(typeof us!="string")throw Error(p$1(284));if(!cs._owner)throw Error(p$1(290,us))}return us}function Mg(us,is){throw us=Object.prototype.toString.call(is),Error(p$1(31,us==="[object Object]"?"object with keys {"+Object.keys(is).join(", ")+"}":us))}function Ng(us){var is=us._init;return is(us._payload)}function Og(us){function is(Tl,Dl){if(us){var Bl=Tl.deletions;Bl===null?(Tl.deletions=[Dl],Tl.flags|=16):Bl.push(Dl)}}function cs(Tl,Dl){if(!us)return null;for(;Dl!==null;)is(Tl,Dl),Dl=Dl.sibling;return null}function lo(Tl,Dl){for(Tl=new Map;Dl!==null;)Dl.key!==null?Tl.set(Dl.key,Dl):Tl.set(Dl.index,Dl),Dl=Dl.sibling;return Tl}function co(Tl,Dl){return Tl=Pg(Tl,Dl),Tl.index=0,Tl.sibling=null,Tl}function hs(Tl,Dl,Bl){return Tl.index=Bl,us?(Bl=Tl.alternate,Bl!==null?(Bl=Bl.index,Bl<Dl?(Tl.flags|=2,Dl):Bl):(Tl.flags|=2,Dl)):(Tl.flags|=1048576,Dl)}function uo(Tl){return us&&Tl.alternate===null&&(Tl.flags|=2),Tl}function xa(Tl,Dl,Bl,Ll){return Dl===null||Dl.tag!==6?(Dl=Qg(Bl,Tl.mode,Ll),Dl.return=Tl,Dl):(Dl=co(Dl,Bl),Dl.return=Tl,Dl)}function ba(Tl,Dl,Bl,Ll){var Nl=Bl.type;return Nl===ya?wl(Tl,Dl,Bl.props.children,Ll,Bl.key):Dl!==null&&(Dl.elementType===Nl||typeof Nl=="object"&&Nl!==null&&Nl.$$typeof===Ha$1&&Ng(Nl)===Dl.type)?(Ll=co(Dl,Bl.props),Ll.ref=Lg(Tl,Dl,Bl),Ll.return=Tl,Ll):(Ll=Rg(Bl.type,Bl.key,Bl.props,null,Tl.mode,Ll),Ll.ref=Lg(Tl,Dl,Bl),Ll.return=Tl,Ll)}function $a(Tl,Dl,Bl,Ll){return Dl===null||Dl.tag!==4||Dl.stateNode.containerInfo!==Bl.containerInfo||Dl.stateNode.implementation!==Bl.implementation?(Dl=Sg(Bl,Tl.mode,Ll),Dl.return=Tl,Dl):(Dl=co(Dl,Bl.children||[]),Dl.return=Tl,Dl)}function wl(Tl,Dl,Bl,Ll,Nl){return Dl===null||Dl.tag!==7?(Dl=Tg(Bl,Tl.mode,Ll,Nl),Dl.return=Tl,Dl):(Dl=co(Dl,Bl),Dl.return=Tl,Dl)}function Sl(Tl,Dl,Bl){if(typeof Dl=="string"&&Dl!==""||typeof Dl=="number")return Dl=Qg(""+Dl,Tl.mode,Bl),Dl.return=Tl,Dl;if(typeof Dl=="object"&&Dl!==null){switch(Dl.$$typeof){case va:return Bl=Rg(Dl.type,Dl.key,Dl.props,null,Tl.mode,Bl),Bl.ref=Lg(Tl,null,Dl),Bl.return=Tl,Bl;case wa:return Dl=Sg(Dl,Tl.mode,Bl),Dl.return=Tl,Dl;case Ha$1:var Ll=Dl._init;return Sl(Tl,Ll(Dl._payload),Bl)}if(eb(Dl)||Ka$1(Dl))return Dl=Tg(Dl,Tl.mode,Bl,null),Dl.return=Tl,Dl;Mg(Tl,Dl)}return null}function Cl(Tl,Dl,Bl,Ll){var Nl=Dl!==null?Dl.key:null;if(typeof Bl=="string"&&Bl!==""||typeof Bl=="number")return Nl!==null?null:xa(Tl,Dl,""+Bl,Ll);if(typeof Bl=="object"&&Bl!==null){switch(Bl.$$typeof){case va:return Bl.key===Nl?ba(Tl,Dl,Bl,Ll):null;case wa:return Bl.key===Nl?$a(Tl,Dl,Bl,Ll):null;case Ha$1:return Nl=Bl._init,Cl(Tl,Dl,Nl(Bl._payload),Ll)}if(eb(Bl)||Ka$1(Bl))return Nl!==null?null:wl(Tl,Dl,Bl,Ll,null);Mg(Tl,Bl)}return null}function _l(Tl,Dl,Bl,Ll,Nl){if(typeof Ll=="string"&&Ll!==""||typeof Ll=="number")return Tl=Tl.get(Bl)||null,xa(Dl,Tl,""+Ll,Nl);if(typeof Ll=="object"&&Ll!==null){switch(Ll.$$typeof){case va:return Tl=Tl.get(Ll.key===null?Bl:Ll.key)||null,ba(Dl,Tl,Ll,Nl);case wa:return Tl=Tl.get(Ll.key===null?Bl:Ll.key)||null,$a(Dl,Tl,Ll,Nl);case Ha$1:var zl=Ll._init;return _l(Tl,Dl,Bl,zl(Ll._payload),Nl)}if(eb(Ll)||Ka$1(Ll))return Tl=Tl.get(Bl)||null,wl(Dl,Tl,Ll,Nl,null);Mg(Dl,Ll)}return null}function Il(Tl,Dl,Bl,Ll){for(var Nl=null,zl=null,$l=Dl,Vl=Dl=0,Gl=null;$l!==null&&Vl<Bl.length;Vl++){$l.index>Vl?(Gl=$l,$l=null):Gl=$l.sibling;var iu=Cl(Tl,$l,Bl[Vl],Ll);if(iu===null){$l===null&&($l=Gl);break}us&&$l&&iu.alternate===null&&is(Tl,$l),Dl=hs(iu,Dl,Vl),zl===null?Nl=iu:zl.sibling=iu,zl=iu,$l=Gl}if(Vl===Bl.length)return cs(Tl,$l),I$1&&tg(Tl,Vl),Nl;if($l===null){for(;Vl<Bl.length;Vl++)$l=Sl(Tl,Bl[Vl],Ll),$l!==null&&(Dl=hs($l,Dl,Vl),zl===null?Nl=$l:zl.sibling=$l,zl=$l);return I$1&&tg(Tl,Vl),Nl}for($l=lo(Tl,$l);Vl<Bl.length;Vl++)Gl=_l($l,Tl,Vl,Bl[Vl],Ll),Gl!==null&&(us&&Gl.alternate!==null&&$l.delete(Gl.key===null?Vl:Gl.key),Dl=hs(Gl,Dl,Vl),zl===null?Nl=Gl:zl.sibling=Gl,zl=Gl);return us&&$l.forEach(function(nu){return is(Tl,nu)}),I$1&&tg(Tl,Vl),Nl}function Fl(Tl,Dl,Bl,Ll){var Nl=Ka$1(Bl);if(typeof Nl!="function")throw Error(p$1(150));if(Bl=Nl.call(Bl),Bl==null)throw Error(p$1(151));for(var zl=Nl=null,$l=Dl,Vl=Dl=0,Gl=null,iu=Bl.next();$l!==null&&!iu.done;Vl++,iu=Bl.next()){$l.index>Vl?(Gl=$l,$l=null):Gl=$l.sibling;var nu=Cl(Tl,$l,iu.value,Ll);if(nu===null){$l===null&&($l=Gl);break}us&&$l&&nu.alternate===null&&is(Tl,$l),Dl=hs(nu,Dl,Vl),zl===null?Nl=nu:zl.sibling=nu,zl=nu,$l=Gl}if(iu.done)return cs(Tl,$l),I$1&&tg(Tl,Vl),Nl;if($l===null){for(;!iu.done;Vl++,iu=Bl.next())iu=Sl(Tl,iu.value,Ll),iu!==null&&(Dl=hs(iu,Dl,Vl),zl===null?Nl=iu:zl.sibling=iu,zl=iu);return I$1&&tg(Tl,Vl),Nl}for($l=lo(Tl,$l);!iu.done;Vl++,iu=Bl.next())iu=_l($l,Tl,Vl,iu.value,Ll),iu!==null&&(us&&iu.alternate!==null&&$l.delete(iu.key===null?Vl:iu.key),Dl=hs(iu,Dl,Vl),zl===null?Nl=iu:zl.sibling=iu,zl=iu);return us&&$l.forEach(function(Jl){return is(Tl,Jl)}),I$1&&tg(Tl,Vl),Nl}function Ml(Tl,Dl,Bl,Ll){if(typeof Bl=="object"&&Bl!==null&&Bl.type===ya&&Bl.key===null&&(Bl=Bl.props.children),typeof Bl=="object"&&Bl!==null){switch(Bl.$$typeof){case va:e:{for(var Nl=Bl.key,zl=Dl;zl!==null;){if(zl.key===Nl){if(Nl=Bl.type,Nl===ya){if(zl.tag===7){cs(Tl,zl.sibling),Dl=co(zl,Bl.props.children),Dl.return=Tl,Tl=Dl;break e}}else if(zl.elementType===Nl||typeof Nl=="object"&&Nl!==null&&Nl.$$typeof===Ha$1&&Ng(Nl)===zl.type){cs(Tl,zl.sibling),Dl=co(zl,Bl.props),Dl.ref=Lg(Tl,zl,Bl),Dl.return=Tl,Tl=Dl;break e}cs(Tl,zl);break}else is(Tl,zl);zl=zl.sibling}Bl.type===ya?(Dl=Tg(Bl.props.children,Tl.mode,Ll,Bl.key),Dl.return=Tl,Tl=Dl):(Ll=Rg(Bl.type,Bl.key,Bl.props,null,Tl.mode,Ll),Ll.ref=Lg(Tl,Dl,Bl),Ll.return=Tl,Tl=Ll)}return uo(Tl);case wa:e:{for(zl=Bl.key;Dl!==null;){if(Dl.key===zl)if(Dl.tag===4&&Dl.stateNode.containerInfo===Bl.containerInfo&&Dl.stateNode.implementation===Bl.implementation){cs(Tl,Dl.sibling),Dl=co(Dl,Bl.children||[]),Dl.return=Tl,Tl=Dl;break e}else{cs(Tl,Dl);break}else is(Tl,Dl);Dl=Dl.sibling}Dl=Sg(Bl,Tl.mode,Ll),Dl.return=Tl,Tl=Dl}return uo(Tl);case Ha$1:return zl=Bl._init,Ml(Tl,Dl,zl(Bl._payload),Ll)}if(eb(Bl))return Il(Tl,Dl,Bl,Ll);if(Ka$1(Bl))return Fl(Tl,Dl,Bl,Ll);Mg(Tl,Bl)}return typeof Bl=="string"&&Bl!==""||typeof Bl=="number"?(Bl=""+Bl,Dl!==null&&Dl.tag===6?(cs(Tl,Dl.sibling),Dl=co(Dl,Bl),Dl.return=Tl,Tl=Dl):(cs(Tl,Dl),Dl=Qg(Bl,Tl.mode,Ll),Dl.return=Tl,Tl=Dl),uo(Tl)):cs(Tl,Dl)}return Ml}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah$1(us){var is=Wg.current;E$1(Wg),us._currentValue=is}function bh(us,is,cs){for(;us!==null;){var lo=us.alternate;if((us.childLanes&is)!==is?(us.childLanes|=is,lo!==null&&(lo.childLanes|=is)):lo!==null&&(lo.childLanes&is)!==is&&(lo.childLanes|=is),us===cs)break;us=us.return}}function ch$1(us,is){Xg=us,Zg=Yg=null,us=us.dependencies,us!==null&&us.firstContext!==null&&(us.lanes&is&&(dh$1=!0),us.firstContext=null)}function eh(us){var is=us._currentValue;if(Zg!==us)if(us={context:us,memoizedValue:is,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=us,Xg.dependencies={lanes:0,firstContext:us}}else Yg=Yg.next=us;return is}var fh$1=null;function gh$1(us){fh$1===null?fh$1=[us]:fh$1.push(us)}function hh$1(us,is,cs,lo){var co=is.interleaved;return co===null?(cs.next=cs,gh$1(is)):(cs.next=co.next,co.next=cs),is.interleaved=cs,ih(us,lo)}function ih(us,is){us.lanes|=is;var cs=us.alternate;for(cs!==null&&(cs.lanes|=is),cs=us,us=us.return;us!==null;)us.childLanes|=is,cs=us.alternate,cs!==null&&(cs.childLanes|=is),cs=us,us=us.return;return cs.tag===3?cs.stateNode:null}var jh=!1;function kh(us){us.updateQueue={baseState:us.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh$1(us,is){us=us.updateQueue,is.updateQueue===us&&(is.updateQueue={baseState:us.baseState,firstBaseUpdate:us.firstBaseUpdate,lastBaseUpdate:us.lastBaseUpdate,shared:us.shared,effects:us.effects})}function mh$1(us,is){return{eventTime:us,lane:is,tag:0,payload:null,callback:null,next:null}}function nh$1(us,is,cs){var lo=us.updateQueue;if(lo===null)return null;if(lo=lo.shared,K$1&2){var co=lo.pending;return co===null?is.next=is:(is.next=co.next,co.next=is),lo.pending=is,ih(us,cs)}return co=lo.interleaved,co===null?(is.next=is,gh$1(lo)):(is.next=co.next,co.next=is),lo.interleaved=is,ih(us,cs)}function oh$1(us,is,cs){if(is=is.updateQueue,is!==null&&(is=is.shared,(cs&4194240)!==0)){var lo=is.lanes;lo&=us.pendingLanes,cs|=lo,is.lanes=cs,Cc(us,cs)}}function ph$1(us,is){var cs=us.updateQueue,lo=us.alternate;if(lo!==null&&(lo=lo.updateQueue,cs===lo)){var co=null,hs=null;if(cs=cs.firstBaseUpdate,cs!==null){do{var uo={eventTime:cs.eventTime,lane:cs.lane,tag:cs.tag,payload:cs.payload,callback:cs.callback,next:null};hs===null?co=hs=uo:hs=hs.next=uo,cs=cs.next}while(cs!==null);hs===null?co=hs=is:hs=hs.next=is}else co=hs=is;cs={baseState:lo.baseState,firstBaseUpdate:co,lastBaseUpdate:hs,shared:lo.shared,effects:lo.effects},us.updateQueue=cs;return}us=cs.lastBaseUpdate,us===null?cs.firstBaseUpdate=is:us.next=is,cs.lastBaseUpdate=is}function qh(us,is,cs,lo){var co=us.updateQueue;jh=!1;var hs=co.firstBaseUpdate,uo=co.lastBaseUpdate,xa=co.shared.pending;if(xa!==null){co.shared.pending=null;var ba=xa,$a=ba.next;ba.next=null,uo===null?hs=$a:uo.next=$a,uo=ba;var wl=us.alternate;wl!==null&&(wl=wl.updateQueue,xa=wl.lastBaseUpdate,xa!==uo&&(xa===null?wl.firstBaseUpdate=$a:xa.next=$a,wl.lastBaseUpdate=ba))}if(hs!==null){var Sl=co.baseState;uo=0,wl=$a=ba=null,xa=hs;do{var Cl=xa.lane,_l=xa.eventTime;if((lo&Cl)===Cl){wl!==null&&(wl=wl.next={eventTime:_l,lane:0,tag:xa.tag,payload:xa.payload,callback:xa.callback,next:null});e:{var Il=us,Fl=xa;switch(Cl=is,_l=cs,Fl.tag){case 1:if(Il=Fl.payload,typeof Il=="function"){Sl=Il.call(_l,Sl,Cl);break e}Sl=Il;break e;case 3:Il.flags=Il.flags&-65537|128;case 0:if(Il=Fl.payload,Cl=typeof Il=="function"?Il.call(_l,Sl,Cl):Il,Cl==null)break e;Sl=A$1({},Sl,Cl);break e;case 2:jh=!0}}xa.callback!==null&&xa.lane!==0&&(us.flags|=64,Cl=co.effects,Cl===null?co.effects=[xa]:Cl.push(xa))}else _l={eventTime:_l,lane:Cl,tag:xa.tag,payload:xa.payload,callback:xa.callback,next:null},wl===null?($a=wl=_l,ba=Sl):wl=wl.next=_l,uo|=Cl;if(xa=xa.next,xa===null){if(xa=co.shared.pending,xa===null)break;Cl=xa,xa=Cl.next,Cl.next=null,co.lastBaseUpdate=Cl,co.shared.pending=null}}while(!0);if(wl===null&&(ba=Sl),co.baseState=ba,co.firstBaseUpdate=$a,co.lastBaseUpdate=wl,is=co.shared.interleaved,is!==null){co=is;do uo|=co.lane,co=co.next;while(co!==is)}else hs===null&&(co.shared.lanes=0);rh|=uo,us.lanes=uo,us.memoizedState=Sl}}function sh(us,is,cs){if(us=is.effects,is.effects=null,us!==null)for(is=0;is<us.length;is++){var lo=us[is],co=lo.callback;if(co!==null){if(lo.callback=null,lo=cs,typeof co!="function")throw Error(p$1(191,co));co.call(lo)}}}var th={},uh$1=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh$1(us){if(us===th)throw Error(p$1(174));return us}function yh$1(us,is){switch(G$1(wh,is),G$1(vh$1,us),G$1(uh$1,th),us=is.nodeType,us){case 9:case 11:is=(is=is.documentElement)?is.namespaceURI:lb(null,"");break;default:us=us===8?is.parentNode:is,is=us.namespaceURI||null,us=us.tagName,is=lb(is,us)}E$1(uh$1),G$1(uh$1,is)}function zh(){E$1(uh$1),E$1(vh$1),E$1(wh)}function Ah(us){xh$1(wh.current);var is=xh$1(uh$1.current),cs=lb(is,us.type);is!==cs&&(G$1(vh$1,us),G$1(uh$1,cs))}function Bh(us){vh$1.current===us&&(E$1(uh$1),E$1(vh$1))}var L$1=Uf(0);function Ch$1(us){for(var is=us;is!==null;){if(is.tag===13){var cs=is.memoizedState;if(cs!==null&&(cs=cs.dehydrated,cs===null||cs.data==="$?"||cs.data==="$!"))return is}else if(is.tag===19&&is.memoizedProps.revealOrder!==void 0){if(is.flags&128)return is}else if(is.child!==null){is.child.return=is,is=is.child;continue}if(is===us)break;for(;is.sibling===null;){if(is.return===null||is.return===us)return null;is=is.return}is.sibling.return=is.return,is=is.sibling}return null}var Dh=[];function Eh(){for(var us=0;us<Dh.length;us++)Dh[us]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(us,is){if(is===null)return!1;for(var cs=0;cs<is.length&&cs<us.length;cs++)if(!He$1(us[cs],is[cs]))return!1;return!0}function Nh(us,is,cs,lo,co,hs){if(Hh=hs,M$1=is,is.memoizedState=null,is.updateQueue=null,is.lanes=0,Fh.current=us===null||us.memoizedState===null?Oh:Ph,us=cs(lo,co),Jh){hs=0;do{if(Jh=!1,Kh=0,25<=hs)throw Error(p$1(301));hs+=1,O$1=N$1=null,is.updateQueue=null,Fh.current=Qh,us=cs(lo,co)}while(Jh)}if(Fh.current=Rh,is=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,is)throw Error(p$1(300));return us}function Sh(){var us=Kh!==0;return Kh=0,us}function Th(){var us={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=us:O$1=O$1.next=us,O$1}function Uh(){if(N$1===null){var us=M$1.alternate;us=us!==null?us.memoizedState:null}else us=N$1.next;var is=O$1===null?M$1.memoizedState:O$1.next;if(is!==null)O$1=is,N$1=us;else{if(us===null)throw Error(p$1(310));N$1=us,us={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=us:O$1=O$1.next=us}return O$1}function Vh(us,is){return typeof is=="function"?is(us):is}function Wh(us){var is=Uh(),cs=is.queue;if(cs===null)throw Error(p$1(311));cs.lastRenderedReducer=us;var lo=N$1,co=lo.baseQueue,hs=cs.pending;if(hs!==null){if(co!==null){var uo=co.next;co.next=hs.next,hs.next=uo}lo.baseQueue=co=hs,cs.pending=null}if(co!==null){hs=co.next,lo=lo.baseState;var xa=uo=null,ba=null,$a=hs;do{var wl=$a.lane;if((Hh&wl)===wl)ba!==null&&(ba=ba.next={lane:0,action:$a.action,hasEagerState:$a.hasEagerState,eagerState:$a.eagerState,next:null}),lo=$a.hasEagerState?$a.eagerState:us(lo,$a.action);else{var Sl={lane:wl,action:$a.action,hasEagerState:$a.hasEagerState,eagerState:$a.eagerState,next:null};ba===null?(xa=ba=Sl,uo=lo):ba=ba.next=Sl,M$1.lanes|=wl,rh|=wl}$a=$a.next}while($a!==null&&$a!==hs);ba===null?uo=lo:ba.next=xa,He$1(lo,is.memoizedState)||(dh$1=!0),is.memoizedState=lo,is.baseState=uo,is.baseQueue=ba,cs.lastRenderedState=lo}if(us=cs.interleaved,us!==null){co=us;do hs=co.lane,M$1.lanes|=hs,rh|=hs,co=co.next;while(co!==us)}else co===null&&(cs.lanes=0);return[is.memoizedState,cs.dispatch]}function Xh(us){var is=Uh(),cs=is.queue;if(cs===null)throw Error(p$1(311));cs.lastRenderedReducer=us;var lo=cs.dispatch,co=cs.pending,hs=is.memoizedState;if(co!==null){cs.pending=null;var uo=co=co.next;do hs=us(hs,uo.action),uo=uo.next;while(uo!==co);He$1(hs,is.memoizedState)||(dh$1=!0),is.memoizedState=hs,is.baseQueue===null&&(is.baseState=hs),cs.lastRenderedState=hs}return[hs,lo]}function Yh(){}function Zh(us,is){var cs=M$1,lo=Uh(),co=is(),hs=!He$1(lo.memoizedState,co);if(hs&&(lo.memoizedState=co,dh$1=!0),lo=lo.queue,$h(ai$1.bind(null,cs,lo,us),[us]),lo.getSnapshot!==is||hs||O$1!==null&&O$1.memoizedState.tag&1){if(cs.flags|=2048,bi$1(9,ci$1.bind(null,cs,lo,co,is),void 0,null),Q$1===null)throw Error(p$1(349));Hh&30||di$1(cs,is,co)}return co}function di$1(us,is,cs){us.flags|=16384,us={getSnapshot:is,value:cs},is=M$1.updateQueue,is===null?(is={lastEffect:null,stores:null},M$1.updateQueue=is,is.stores=[us]):(cs=is.stores,cs===null?is.stores=[us]:cs.push(us))}function ci$1(us,is,cs,lo){is.value=cs,is.getSnapshot=lo,ei$1(is)&&fi$1(us)}function ai$1(us,is,cs){return cs(function(){ei$1(is)&&fi$1(us)})}function ei$1(us){var is=us.getSnapshot;us=us.value;try{var cs=is();return!He$1(us,cs)}catch{return!0}}function fi$1(us){var is=ih(us,1);is!==null&&gi$1(is,us,1,-1)}function hi$1(us){var is=Th();return typeof us=="function"&&(us=us()),is.memoizedState=is.baseState=us,us={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:us},is.queue=us,us=us.dispatch=ii$1.bind(null,M$1,us),[is.memoizedState,us]}function bi$1(us,is,cs,lo){return us={tag:us,create:is,destroy:cs,deps:lo,next:null},is=M$1.updateQueue,is===null?(is={lastEffect:null,stores:null},M$1.updateQueue=is,is.lastEffect=us.next=us):(cs=is.lastEffect,cs===null?is.lastEffect=us.next=us:(lo=cs.next,cs.next=us,us.next=lo,is.lastEffect=us)),us}function ji$1(){return Uh().memoizedState}function ki$1(us,is,cs,lo){var co=Th();M$1.flags|=us,co.memoizedState=bi$1(1|is,cs,void 0,lo===void 0?null:lo)}function li$1(us,is,cs,lo){var co=Uh();lo=lo===void 0?null:lo;var hs=void 0;if(N$1!==null){var uo=N$1.memoizedState;if(hs=uo.destroy,lo!==null&&Mh(lo,uo.deps)){co.memoizedState=bi$1(is,cs,hs,lo);return}}M$1.flags|=us,co.memoizedState=bi$1(1|is,cs,hs,lo)}function mi$1(us,is){return ki$1(8390656,8,us,is)}function $h(us,is){return li$1(2048,8,us,is)}function ni$1(us,is){return li$1(4,2,us,is)}function oi$1(us,is){return li$1(4,4,us,is)}function pi$1(us,is){if(typeof is=="function")return us=us(),is(us),function(){is(null)};if(is!=null)return us=us(),is.current=us,function(){is.current=null}}function qi$1(us,is,cs){return cs=cs!=null?cs.concat([us]):null,li$1(4,4,pi$1.bind(null,is,us),cs)}function ri$1(){}function si$1(us,is){var cs=Uh();is=is===void 0?null:is;var lo=cs.memoizedState;return lo!==null&&is!==null&&Mh(is,lo[1])?lo[0]:(cs.memoizedState=[us,is],us)}function ti$1(us,is){var cs=Uh();is=is===void 0?null:is;var lo=cs.memoizedState;return lo!==null&&is!==null&&Mh(is,lo[1])?lo[0]:(us=us(),cs.memoizedState=[us,is],us)}function ui$1(us,is,cs){return Hh&21?(He$1(cs,is)||(cs=yc(),M$1.lanes|=cs,rh|=cs,us.baseState=!0),is):(us.baseState&&(us.baseState=!1,dh$1=!0),us.memoizedState=cs)}function vi$1(us,is){var cs=C$1;C$1=cs!==0&&4>cs?cs:4,us(!0);var lo=Gh.transition;Gh.transition={};try{us(!1),is()}finally{C$1=cs,Gh.transition=lo}}function wi$1(){return Uh().memoizedState}function xi$1(us,is,cs){var lo=yi$1(us);if(cs={lane:lo,action:cs,hasEagerState:!1,eagerState:null,next:null},zi$1(us))Ai$1(is,cs);else if(cs=hh$1(us,is,cs,lo),cs!==null){var co=R$1();gi$1(cs,us,lo,co),Bi$1(cs,is,lo)}}function ii$1(us,is,cs){var lo=yi$1(us),co={lane:lo,action:cs,hasEagerState:!1,eagerState:null,next:null};if(zi$1(us))Ai$1(is,co);else{var hs=us.alternate;if(us.lanes===0&&(hs===null||hs.lanes===0)&&(hs=is.lastRenderedReducer,hs!==null))try{var uo=is.lastRenderedState,xa=hs(uo,cs);if(co.hasEagerState=!0,co.eagerState=xa,He$1(xa,uo)){var ba=is.interleaved;ba===null?(co.next=co,gh$1(is)):(co.next=ba.next,ba.next=co),is.interleaved=co;return}}catch{}finally{}cs=hh$1(us,is,co,lo),cs!==null&&(co=R$1(),gi$1(cs,us,lo,co),Bi$1(cs,is,lo))}}function zi$1(us){var is=us.alternate;return us===M$1||is!==null&&is===M$1}function Ai$1(us,is){Jh=Ih=!0;var cs=us.pending;cs===null?is.next=is:(is.next=cs.next,cs.next=is),us.pending=is}function Bi$1(us,is,cs){if(cs&4194240){var lo=is.lanes;lo&=us.pendingLanes,cs|=lo,is.lanes=cs,Cc(us,cs)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(us,is){return Th().memoizedState=[us,is===void 0?null:is],us},useContext:eh,useEffect:mi$1,useImperativeHandle:function(us,is,cs){return cs=cs!=null?cs.concat([us]):null,ki$1(4194308,4,pi$1.bind(null,is,us),cs)},useLayoutEffect:function(us,is){return ki$1(4194308,4,us,is)},useInsertionEffect:function(us,is){return ki$1(4,2,us,is)},useMemo:function(us,is){var cs=Th();return is=is===void 0?null:is,us=us(),cs.memoizedState=[us,is],us},useReducer:function(us,is,cs){var lo=Th();return is=cs!==void 0?cs(is):is,lo.memoizedState=lo.baseState=is,us={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:is},lo.queue=us,us=us.dispatch=xi$1.bind(null,M$1,us),[lo.memoizedState,us]},useRef:function(us){var is=Th();return us={current:us},is.memoizedState=us},useState:hi$1,useDebugValue:ri$1,useDeferredValue:function(us){return Th().memoizedState=us},useTransition:function(){var us=hi$1(!1),is=us[0];return us=vi$1.bind(null,us[1]),Th().memoizedState=us,[is,us]},useMutableSource:function(){},useSyncExternalStore:function(us,is,cs){var lo=M$1,co=Th();if(I$1){if(cs===void 0)throw Error(p$1(407));cs=cs()}else{if(cs=is(),Q$1===null)throw Error(p$1(349));Hh&30||di$1(lo,is,cs)}co.memoizedState=cs;var hs={value:cs,getSnapshot:is};return co.queue=hs,mi$1(ai$1.bind(null,lo,hs,us),[us]),lo.flags|=2048,bi$1(9,ci$1.bind(null,lo,hs,cs,is),void 0,null),cs},useId:function(){var us=Th(),is=Q$1.identifierPrefix;if(I$1){var cs=sg,lo=rg;cs=(lo&~(1<<32-oc(lo)-1)).toString(32)+cs,is=":"+is+"R"+cs,cs=Kh++,0<cs&&(is+="H"+cs.toString(32)),is+=":"}else cs=Lh++,is=":"+is+"r"+cs.toString(32)+":";return us.memoizedState=is},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh,useRef:ji$1,useState:function(){return Wh(Vh)},useDebugValue:ri$1,useDeferredValue:function(us){var is=Uh();return ui$1(is,N$1.memoizedState,us)},useTransition:function(){var us=Wh(Vh)[0],is=Uh().memoizedState;return[us,is]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh,useRef:ji$1,useState:function(){return Xh(Vh)},useDebugValue:ri$1,useDeferredValue:function(us){var is=Uh();return N$1===null?is.memoizedState=us:ui$1(is,N$1.memoizedState,us)},useTransition:function(){var us=Xh(Vh)[0],is=Uh().memoizedState;return[us,is]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1};function Ci$1(us,is){if(us&&us.defaultProps){is=A$1({},is),us=us.defaultProps;for(var cs in us)is[cs]===void 0&&(is[cs]=us[cs]);return is}return is}function Di$1(us,is,cs,lo){is=us.memoizedState,cs=cs(lo,is),cs=cs==null?is:A$1({},is,cs),us.memoizedState=cs,us.lanes===0&&(us.updateQueue.baseState=cs)}var Ei$1={isMounted:function(us){return(us=us._reactInternals)?Vb(us)===us:!1},enqueueSetState:function(us,is,cs){us=us._reactInternals;var lo=R$1(),co=yi$1(us),hs=mh$1(lo,co);hs.payload=is,cs!=null&&(hs.callback=cs),is=nh$1(us,hs,co),is!==null&&(gi$1(is,us,co,lo),oh$1(is,us,co))},enqueueReplaceState:function(us,is,cs){us=us._reactInternals;var lo=R$1(),co=yi$1(us),hs=mh$1(lo,co);hs.tag=1,hs.payload=is,cs!=null&&(hs.callback=cs),is=nh$1(us,hs,co),is!==null&&(gi$1(is,us,co,lo),oh$1(is,us,co))},enqueueForceUpdate:function(us,is){us=us._reactInternals;var cs=R$1(),lo=yi$1(us),co=mh$1(cs,lo);co.tag=2,is!=null&&(co.callback=is),is=nh$1(us,co,lo),is!==null&&(gi$1(is,us,lo,cs),oh$1(is,us,lo))}};function Fi$1(us,is,cs,lo,co,hs,uo){return us=us.stateNode,typeof us.shouldComponentUpdate=="function"?us.shouldComponentUpdate(lo,hs,uo):is.prototype&&is.prototype.isPureReactComponent?!Ie$1(cs,lo)||!Ie$1(co,hs):!0}function Gi$1(us,is,cs){var lo=!1,co=Vf,hs=is.contextType;return typeof hs=="object"&&hs!==null?hs=eh(hs):(co=Zf(is)?Xf:H$1.current,lo=is.contextTypes,hs=(lo=lo!=null)?Yf(us,co):Vf),is=new is(cs,hs),us.memoizedState=is.state!==null&&is.state!==void 0?is.state:null,is.updater=Ei$1,us.stateNode=is,is._reactInternals=us,lo&&(us=us.stateNode,us.__reactInternalMemoizedUnmaskedChildContext=co,us.__reactInternalMemoizedMaskedChildContext=hs),is}function Hi$1(us,is,cs,lo){us=is.state,typeof is.componentWillReceiveProps=="function"&&is.componentWillReceiveProps(cs,lo),typeof is.UNSAFE_componentWillReceiveProps=="function"&&is.UNSAFE_componentWillReceiveProps(cs,lo),is.state!==us&&Ei$1.enqueueReplaceState(is,is.state,null)}function Ii$1(us,is,cs,lo){var co=us.stateNode;co.props=cs,co.state=us.memoizedState,co.refs={},kh(us);var hs=is.contextType;typeof hs=="object"&&hs!==null?co.context=eh(hs):(hs=Zf(is)?Xf:H$1.current,co.context=Yf(us,hs)),co.state=us.memoizedState,hs=is.getDerivedStateFromProps,typeof hs=="function"&&(Di$1(us,is,hs,cs),co.state=us.memoizedState),typeof is.getDerivedStateFromProps=="function"||typeof co.getSnapshotBeforeUpdate=="function"||typeof co.UNSAFE_componentWillMount!="function"&&typeof co.componentWillMount!="function"||(is=co.state,typeof co.componentWillMount=="function"&&co.componentWillMount(),typeof co.UNSAFE_componentWillMount=="function"&&co.UNSAFE_componentWillMount(),is!==co.state&&Ei$1.enqueueReplaceState(co,co.state,null),qh(us,cs,co,lo),co.state=us.memoizedState),typeof co.componentDidMount=="function"&&(us.flags|=4194308)}function Ji$1(us,is){try{var cs="",lo=is;do cs+=Pa(lo),lo=lo.return;while(lo);var co=cs}catch(hs){co=`
Error generating stack: `+hs.message+`
`+hs.stack}return{value:us,source:is,stack:co,digest:null}}function Ki$1(us,is,cs){return{value:us,source:null,stack:cs??null,digest:is??null}}function Li$1(us,is){try{console.error(is.value)}catch(cs){setTimeout(function(){throw cs})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(us,is,cs){cs=mh$1(-1,cs),cs.tag=3,cs.payload={element:null};var lo=is.value;return cs.callback=function(){Oi$1||(Oi$1=!0,Pi$1=lo),Li$1(us,is)},cs}function Qi$1(us,is,cs){cs=mh$1(-1,cs),cs.tag=3;var lo=us.type.getDerivedStateFromError;if(typeof lo=="function"){var co=is.value;cs.payload=function(){return lo(co)},cs.callback=function(){Li$1(us,is)}}var hs=us.stateNode;return hs!==null&&typeof hs.componentDidCatch=="function"&&(cs.callback=function(){Li$1(us,is),typeof lo!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var uo=is.stack;this.componentDidCatch(is.value,{componentStack:uo!==null?uo:""})}),cs}function Si$1(us,is,cs){var lo=us.pingCache;if(lo===null){lo=us.pingCache=new Mi$1;var co=new Set;lo.set(is,co)}else co=lo.get(is),co===void 0&&(co=new Set,lo.set(is,co));co.has(cs)||(co.add(cs),us=Ti$1.bind(null,us,is,cs),is.then(us,us))}function Ui$1(us){do{var is;if((is=us.tag===13)&&(is=us.memoizedState,is=is!==null?is.dehydrated!==null:!0),is)return us;us=us.return}while(us!==null);return null}function Vi$1(us,is,cs,lo,co){return us.mode&1?(us.flags|=65536,us.lanes=co,us):(us===is?us.flags|=65536:(us.flags|=128,cs.flags|=131072,cs.flags&=-52805,cs.tag===1&&(cs.alternate===null?cs.tag=17:(is=mh$1(-1,1),is.tag=2,nh$1(cs,is,1))),cs.lanes|=1),us)}var Wi$1=ua.ReactCurrentOwner,dh$1=!1;function Xi$1(us,is,cs,lo){is.child=us===null?Vg(is,null,cs,lo):Ug(is,us.child,cs,lo)}function Yi$1(us,is,cs,lo,co){cs=cs.render;var hs=is.ref;return ch$1(is,co),lo=Nh(us,is,cs,lo,hs,co),cs=Sh(),us!==null&&!dh$1?(is.updateQueue=us.updateQueue,is.flags&=-2053,us.lanes&=~co,Zi$1(us,is,co)):(I$1&&cs&&vg(is),is.flags|=1,Xi$1(us,is,lo,co),is.child)}function $i$1(us,is,cs,lo,co){if(us===null){var hs=cs.type;return typeof hs=="function"&&!aj(hs)&&hs.defaultProps===void 0&&cs.compare===null&&cs.defaultProps===void 0?(is.tag=15,is.type=hs,bj(us,is,hs,lo,co)):(us=Rg(cs.type,null,lo,is,is.mode,co),us.ref=is.ref,us.return=is,is.child=us)}if(hs=us.child,!(us.lanes&co)){var uo=hs.memoizedProps;if(cs=cs.compare,cs=cs!==null?cs:Ie$1,cs(uo,lo)&&us.ref===is.ref)return Zi$1(us,is,co)}return is.flags|=1,us=Pg(hs,lo),us.ref=is.ref,us.return=is,is.child=us}function bj(us,is,cs,lo,co){if(us!==null){var hs=us.memoizedProps;if(Ie$1(hs,lo)&&us.ref===is.ref)if(dh$1=!1,is.pendingProps=lo=hs,(us.lanes&co)!==0)us.flags&131072&&(dh$1=!0);else return is.lanes=us.lanes,Zi$1(us,is,co)}return cj(us,is,cs,lo,co)}function dj(us,is,cs){var lo=is.pendingProps,co=lo.children,hs=us!==null?us.memoizedState:null;if(lo.mode==="hidden")if(!(is.mode&1))is.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=cs;else{if(!(cs&1073741824))return us=hs!==null?hs.baseLanes|cs:cs,is.lanes=is.childLanes=1073741824,is.memoizedState={baseLanes:us,cachePool:null,transitions:null},is.updateQueue=null,G$1(ej,fj),fj|=us,null;is.memoizedState={baseLanes:0,cachePool:null,transitions:null},lo=hs!==null?hs.baseLanes:cs,G$1(ej,fj),fj|=lo}else hs!==null?(lo=hs.baseLanes|cs,is.memoizedState=null):lo=cs,G$1(ej,fj),fj|=lo;return Xi$1(us,is,co,cs),is.child}function gj(us,is){var cs=is.ref;(us===null&&cs!==null||us!==null&&us.ref!==cs)&&(is.flags|=512,is.flags|=2097152)}function cj(us,is,cs,lo,co){var hs=Zf(cs)?Xf:H$1.current;return hs=Yf(is,hs),ch$1(is,co),cs=Nh(us,is,cs,lo,hs,co),lo=Sh(),us!==null&&!dh$1?(is.updateQueue=us.updateQueue,is.flags&=-2053,us.lanes&=~co,Zi$1(us,is,co)):(I$1&&lo&&vg(is),is.flags|=1,Xi$1(us,is,cs,co),is.child)}function hj(us,is,cs,lo,co){if(Zf(cs)){var hs=!0;cg(is)}else hs=!1;if(ch$1(is,co),is.stateNode===null)ij(us,is),Gi$1(is,cs,lo),Ii$1(is,cs,lo,co),lo=!0;else if(us===null){var uo=is.stateNode,xa=is.memoizedProps;uo.props=xa;var ba=uo.context,$a=cs.contextType;typeof $a=="object"&&$a!==null?$a=eh($a):($a=Zf(cs)?Xf:H$1.current,$a=Yf(is,$a));var wl=cs.getDerivedStateFromProps,Sl=typeof wl=="function"||typeof uo.getSnapshotBeforeUpdate=="function";Sl||typeof uo.UNSAFE_componentWillReceiveProps!="function"&&typeof uo.componentWillReceiveProps!="function"||(xa!==lo||ba!==$a)&&Hi$1(is,uo,lo,$a),jh=!1;var Cl=is.memoizedState;uo.state=Cl,qh(is,lo,uo,co),ba=is.memoizedState,xa!==lo||Cl!==ba||Wf.current||jh?(typeof wl=="function"&&(Di$1(is,cs,wl,lo),ba=is.memoizedState),(xa=jh||Fi$1(is,cs,xa,lo,Cl,ba,$a))?(Sl||typeof uo.UNSAFE_componentWillMount!="function"&&typeof uo.componentWillMount!="function"||(typeof uo.componentWillMount=="function"&&uo.componentWillMount(),typeof uo.UNSAFE_componentWillMount=="function"&&uo.UNSAFE_componentWillMount()),typeof uo.componentDidMount=="function"&&(is.flags|=4194308)):(typeof uo.componentDidMount=="function"&&(is.flags|=4194308),is.memoizedProps=lo,is.memoizedState=ba),uo.props=lo,uo.state=ba,uo.context=$a,lo=xa):(typeof uo.componentDidMount=="function"&&(is.flags|=4194308),lo=!1)}else{uo=is.stateNode,lh$1(us,is),xa=is.memoizedProps,$a=is.type===is.elementType?xa:Ci$1(is.type,xa),uo.props=$a,Sl=is.pendingProps,Cl=uo.context,ba=cs.contextType,typeof ba=="object"&&ba!==null?ba=eh(ba):(ba=Zf(cs)?Xf:H$1.current,ba=Yf(is,ba));var _l=cs.getDerivedStateFromProps;(wl=typeof _l=="function"||typeof uo.getSnapshotBeforeUpdate=="function")||typeof uo.UNSAFE_componentWillReceiveProps!="function"&&typeof uo.componentWillReceiveProps!="function"||(xa!==Sl||Cl!==ba)&&Hi$1(is,uo,lo,ba),jh=!1,Cl=is.memoizedState,uo.state=Cl,qh(is,lo,uo,co);var Il=is.memoizedState;xa!==Sl||Cl!==Il||Wf.current||jh?(typeof _l=="function"&&(Di$1(is,cs,_l,lo),Il=is.memoizedState),($a=jh||Fi$1(is,cs,$a,lo,Cl,Il,ba)||!1)?(wl||typeof uo.UNSAFE_componentWillUpdate!="function"&&typeof uo.componentWillUpdate!="function"||(typeof uo.componentWillUpdate=="function"&&uo.componentWillUpdate(lo,Il,ba),typeof uo.UNSAFE_componentWillUpdate=="function"&&uo.UNSAFE_componentWillUpdate(lo,Il,ba)),typeof uo.componentDidUpdate=="function"&&(is.flags|=4),typeof uo.getSnapshotBeforeUpdate=="function"&&(is.flags|=1024)):(typeof uo.componentDidUpdate!="function"||xa===us.memoizedProps&&Cl===us.memoizedState||(is.flags|=4),typeof uo.getSnapshotBeforeUpdate!="function"||xa===us.memoizedProps&&Cl===us.memoizedState||(is.flags|=1024),is.memoizedProps=lo,is.memoizedState=Il),uo.props=lo,uo.state=Il,uo.context=ba,lo=$a):(typeof uo.componentDidUpdate!="function"||xa===us.memoizedProps&&Cl===us.memoizedState||(is.flags|=4),typeof uo.getSnapshotBeforeUpdate!="function"||xa===us.memoizedProps&&Cl===us.memoizedState||(is.flags|=1024),lo=!1)}return jj(us,is,cs,lo,hs,co)}function jj(us,is,cs,lo,co,hs){gj(us,is);var uo=(is.flags&128)!==0;if(!lo&&!uo)return co&&dg(is,cs,!1),Zi$1(us,is,hs);lo=is.stateNode,Wi$1.current=is;var xa=uo&&typeof cs.getDerivedStateFromError!="function"?null:lo.render();return is.flags|=1,us!==null&&uo?(is.child=Ug(is,us.child,null,hs),is.child=Ug(is,null,xa,hs)):Xi$1(us,is,xa,hs),is.memoizedState=lo.state,co&&dg(is,cs,!0),is.child}function kj(us){var is=us.stateNode;is.pendingContext?ag(us,is.pendingContext,is.pendingContext!==is.context):is.context&&ag(us,is.context,!1),yh$1(us,is.containerInfo)}function lj(us,is,cs,lo,co){return Ig(),Jg(co),is.flags|=256,Xi$1(us,is,cs,lo),is.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(us){return{baseLanes:us,cachePool:null,transitions:null}}function oj(us,is,cs){var lo=is.pendingProps,co=L$1.current,hs=!1,uo=(is.flags&128)!==0,xa;if((xa=uo)||(xa=us!==null&&us.memoizedState===null?!1:(co&2)!==0),xa?(hs=!0,is.flags&=-129):(us===null||us.memoizedState!==null)&&(co|=1),G$1(L$1,co&1),us===null)return Eg(is),us=is.memoizedState,us!==null&&(us=us.dehydrated,us!==null)?(is.mode&1?us.data==="$!"?is.lanes=8:is.lanes=1073741824:is.lanes=1,null):(uo=lo.children,us=lo.fallback,hs?(lo=is.mode,hs=is.child,uo={mode:"hidden",children:uo},!(lo&1)&&hs!==null?(hs.childLanes=0,hs.pendingProps=uo):hs=pj(uo,lo,0,null),us=Tg(us,lo,cs,null),hs.return=is,us.return=is,hs.sibling=us,is.child=hs,is.child.memoizedState=nj(cs),is.memoizedState=mj,us):qj(is,uo));if(co=us.memoizedState,co!==null&&(xa=co.dehydrated,xa!==null))return rj(us,is,uo,lo,xa,co,cs);if(hs){hs=lo.fallback,uo=is.mode,co=us.child,xa=co.sibling;var ba={mode:"hidden",children:lo.children};return!(uo&1)&&is.child!==co?(lo=is.child,lo.childLanes=0,lo.pendingProps=ba,is.deletions=null):(lo=Pg(co,ba),lo.subtreeFlags=co.subtreeFlags&14680064),xa!==null?hs=Pg(xa,hs):(hs=Tg(hs,uo,cs,null),hs.flags|=2),hs.return=is,lo.return=is,lo.sibling=hs,is.child=lo,lo=hs,hs=is.child,uo=us.child.memoizedState,uo=uo===null?nj(cs):{baseLanes:uo.baseLanes|cs,cachePool:null,transitions:uo.transitions},hs.memoizedState=uo,hs.childLanes=us.childLanes&~cs,is.memoizedState=mj,lo}return hs=us.child,us=hs.sibling,lo=Pg(hs,{mode:"visible",children:lo.children}),!(is.mode&1)&&(lo.lanes=cs),lo.return=is,lo.sibling=null,us!==null&&(cs=is.deletions,cs===null?(is.deletions=[us],is.flags|=16):cs.push(us)),is.child=lo,is.memoizedState=null,lo}function qj(us,is){return is=pj({mode:"visible",children:is},us.mode,0,null),is.return=us,us.child=is}function sj(us,is,cs,lo){return lo!==null&&Jg(lo),Ug(is,us.child,null,cs),us=qj(is,is.pendingProps.children),us.flags|=2,is.memoizedState=null,us}function rj(us,is,cs,lo,co,hs,uo){if(cs)return is.flags&256?(is.flags&=-257,lo=Ki$1(Error(p$1(422))),sj(us,is,uo,lo)):is.memoizedState!==null?(is.child=us.child,is.flags|=128,null):(hs=lo.fallback,co=is.mode,lo=pj({mode:"visible",children:lo.children},co,0,null),hs=Tg(hs,co,uo,null),hs.flags|=2,lo.return=is,hs.return=is,lo.sibling=hs,is.child=lo,is.mode&1&&Ug(is,us.child,null,uo),is.child.memoizedState=nj(uo),is.memoizedState=mj,hs);if(!(is.mode&1))return sj(us,is,uo,null);if(co.data==="$!"){if(lo=co.nextSibling&&co.nextSibling.dataset,lo)var xa=lo.dgst;return lo=xa,hs=Error(p$1(419)),lo=Ki$1(hs,lo,void 0),sj(us,is,uo,lo)}if(xa=(uo&us.childLanes)!==0,dh$1||xa){if(lo=Q$1,lo!==null){switch(uo&-uo){case 4:co=2;break;case 16:co=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:co=32;break;case 536870912:co=268435456;break;default:co=0}co=co&(lo.suspendedLanes|uo)?0:co,co!==0&&co!==hs.retryLane&&(hs.retryLane=co,ih(us,co),gi$1(lo,us,co,-1))}return tj(),lo=Ki$1(Error(p$1(421))),sj(us,is,uo,lo)}return co.data==="$?"?(is.flags|=128,is.child=us.child,is=uj.bind(null,us),co._reactRetry=is,null):(us=hs.treeContext,yg=Lf(co.nextSibling),xg=is,I$1=!0,zg=null,us!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=us.id,sg=us.overflow,qg=is),is=qj(is,lo.children),is.flags|=4096,is)}function vj(us,is,cs){us.lanes|=is;var lo=us.alternate;lo!==null&&(lo.lanes|=is),bh(us.return,is,cs)}function wj(us,is,cs,lo,co){var hs=us.memoizedState;hs===null?us.memoizedState={isBackwards:is,rendering:null,renderingStartTime:0,last:lo,tail:cs,tailMode:co}:(hs.isBackwards=is,hs.rendering=null,hs.renderingStartTime=0,hs.last=lo,hs.tail=cs,hs.tailMode=co)}function xj(us,is,cs){var lo=is.pendingProps,co=lo.revealOrder,hs=lo.tail;if(Xi$1(us,is,lo.children,cs),lo=L$1.current,lo&2)lo=lo&1|2,is.flags|=128;else{if(us!==null&&us.flags&128)e:for(us=is.child;us!==null;){if(us.tag===13)us.memoizedState!==null&&vj(us,cs,is);else if(us.tag===19)vj(us,cs,is);else if(us.child!==null){us.child.return=us,us=us.child;continue}if(us===is)break e;for(;us.sibling===null;){if(us.return===null||us.return===is)break e;us=us.return}us.sibling.return=us.return,us=us.sibling}lo&=1}if(G$1(L$1,lo),!(is.mode&1))is.memoizedState=null;else switch(co){case"forwards":for(cs=is.child,co=null;cs!==null;)us=cs.alternate,us!==null&&Ch$1(us)===null&&(co=cs),cs=cs.sibling;cs=co,cs===null?(co=is.child,is.child=null):(co=cs.sibling,cs.sibling=null),wj(is,!1,co,cs,hs);break;case"backwards":for(cs=null,co=is.child,is.child=null;co!==null;){if(us=co.alternate,us!==null&&Ch$1(us)===null){is.child=co;break}us=co.sibling,co.sibling=cs,cs=co,co=us}wj(is,!0,cs,null,hs);break;case"together":wj(is,!1,null,null,void 0);break;default:is.memoizedState=null}return is.child}function ij(us,is){!(is.mode&1)&&us!==null&&(us.alternate=null,is.alternate=null,is.flags|=2)}function Zi$1(us,is,cs){if(us!==null&&(is.dependencies=us.dependencies),rh|=is.lanes,!(cs&is.childLanes))return null;if(us!==null&&is.child!==us.child)throw Error(p$1(153));if(is.child!==null){for(us=is.child,cs=Pg(us,us.pendingProps),is.child=cs,cs.return=is;us.sibling!==null;)us=us.sibling,cs=cs.sibling=Pg(us,us.pendingProps),cs.return=is;cs.sibling=null}return is.child}function yj(us,is,cs){switch(is.tag){case 3:kj(is),Ig();break;case 5:Ah(is);break;case 1:Zf(is.type)&&cg(is);break;case 4:yh$1(is,is.stateNode.containerInfo);break;case 10:var lo=is.type._context,co=is.memoizedProps.value;G$1(Wg,lo._currentValue),lo._currentValue=co;break;case 13:if(lo=is.memoizedState,lo!==null)return lo.dehydrated!==null?(G$1(L$1,L$1.current&1),is.flags|=128,null):cs&is.child.childLanes?oj(us,is,cs):(G$1(L$1,L$1.current&1),us=Zi$1(us,is,cs),us!==null?us.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(lo=(cs&is.childLanes)!==0,us.flags&128){if(lo)return xj(us,is,cs);is.flags|=128}if(co=is.memoizedState,co!==null&&(co.rendering=null,co.tail=null,co.lastEffect=null),G$1(L$1,L$1.current),lo)break;return null;case 22:case 23:return is.lanes=0,dj(us,is,cs)}return Zi$1(us,is,cs)}var zj,Aj,Bj,Cj;zj=function(us,is){for(var cs=is.child;cs!==null;){if(cs.tag===5||cs.tag===6)us.appendChild(cs.stateNode);else if(cs.tag!==4&&cs.child!==null){cs.child.return=cs,cs=cs.child;continue}if(cs===is)break;for(;cs.sibling===null;){if(cs.return===null||cs.return===is)return;cs=cs.return}cs.sibling.return=cs.return,cs=cs.sibling}};Aj=function(){};Bj=function(us,is,cs,lo){var co=us.memoizedProps;if(co!==lo){us=is.stateNode,xh$1(uh$1.current);var hs=null;switch(cs){case"input":co=Ya$1(us,co),lo=Ya$1(us,lo),hs=[];break;case"select":co=A$1({},co,{value:void 0}),lo=A$1({},lo,{value:void 0}),hs=[];break;case"textarea":co=gb(us,co),lo=gb(us,lo),hs=[];break;default:typeof co.onClick!="function"&&typeof lo.onClick=="function"&&(us.onclick=Bf)}ub(cs,lo);var uo;cs=null;for($a in co)if(!lo.hasOwnProperty($a)&&co.hasOwnProperty($a)&&co[$a]!=null)if($a==="style"){var xa=co[$a];for(uo in xa)xa.hasOwnProperty(uo)&&(cs||(cs={}),cs[uo]="")}else $a!=="dangerouslySetInnerHTML"&&$a!=="children"&&$a!=="suppressContentEditableWarning"&&$a!=="suppressHydrationWarning"&&$a!=="autoFocus"&&(ea$1.hasOwnProperty($a)?hs||(hs=[]):(hs=hs||[]).push($a,null));for($a in lo){var ba=lo[$a];if(xa=co!=null?co[$a]:void 0,lo.hasOwnProperty($a)&&ba!==xa&&(ba!=null||xa!=null))if($a==="style")if(xa){for(uo in xa)!xa.hasOwnProperty(uo)||ba&&ba.hasOwnProperty(uo)||(cs||(cs={}),cs[uo]="");for(uo in ba)ba.hasOwnProperty(uo)&&xa[uo]!==ba[uo]&&(cs||(cs={}),cs[uo]=ba[uo])}else cs||(hs||(hs=[]),hs.push($a,cs)),cs=ba;else $a==="dangerouslySetInnerHTML"?(ba=ba?ba.__html:void 0,xa=xa?xa.__html:void 0,ba!=null&&xa!==ba&&(hs=hs||[]).push($a,ba)):$a==="children"?typeof ba!="string"&&typeof ba!="number"||(hs=hs||[]).push($a,""+ba):$a!=="suppressContentEditableWarning"&&$a!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty($a)?(ba!=null&&$a==="onScroll"&&D$2("scroll",us),hs||xa===ba||(hs=[])):(hs=hs||[]).push($a,ba))}cs&&(hs=hs||[]).push("style",cs);var $a=hs;(is.updateQueue=$a)&&(is.flags|=4)}};Cj=function(us,is,cs,lo){cs!==lo&&(is.flags|=4)};function Dj(us,is){if(!I$1)switch(us.tailMode){case"hidden":is=us.tail;for(var cs=null;is!==null;)is.alternate!==null&&(cs=is),is=is.sibling;cs===null?us.tail=null:cs.sibling=null;break;case"collapsed":cs=us.tail;for(var lo=null;cs!==null;)cs.alternate!==null&&(lo=cs),cs=cs.sibling;lo===null?is||us.tail===null?us.tail=null:us.tail.sibling=null:lo.sibling=null}}function S$1(us){var is=us.alternate!==null&&us.alternate.child===us.child,cs=0,lo=0;if(is)for(var co=us.child;co!==null;)cs|=co.lanes|co.childLanes,lo|=co.subtreeFlags&14680064,lo|=co.flags&14680064,co.return=us,co=co.sibling;else for(co=us.child;co!==null;)cs|=co.lanes|co.childLanes,lo|=co.subtreeFlags,lo|=co.flags,co.return=us,co=co.sibling;return us.subtreeFlags|=lo,us.childLanes=cs,is}function Ej(us,is,cs){var lo=is.pendingProps;switch(wg(is),is.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(is),null;case 1:return Zf(is.type)&&$f(),S$1(is),null;case 3:return lo=is.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),lo.pendingContext&&(lo.context=lo.pendingContext,lo.pendingContext=null),(us===null||us.child===null)&&(Gg(is)?is.flags|=4:us===null||us.memoizedState.isDehydrated&&!(is.flags&256)||(is.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(us,is),S$1(is),null;case 5:Bh(is);var co=xh$1(wh.current);if(cs=is.type,us!==null&&is.stateNode!=null)Bj(us,is,cs,lo,co),us.ref!==is.ref&&(is.flags|=512,is.flags|=2097152);else{if(!lo){if(is.stateNode===null)throw Error(p$1(166));return S$1(is),null}if(us=xh$1(uh$1.current),Gg(is)){lo=is.stateNode,cs=is.type;var hs=is.memoizedProps;switch(lo[Of]=is,lo[Pf]=hs,us=(is.mode&1)!==0,cs){case"dialog":D$2("cancel",lo),D$2("close",lo);break;case"iframe":case"object":case"embed":D$2("load",lo);break;case"video":case"audio":for(co=0;co<lf.length;co++)D$2(lf[co],lo);break;case"source":D$2("error",lo);break;case"img":case"image":case"link":D$2("error",lo),D$2("load",lo);break;case"details":D$2("toggle",lo);break;case"input":Za(lo,hs),D$2("invalid",lo);break;case"select":lo._wrapperState={wasMultiple:!!hs.multiple},D$2("invalid",lo);break;case"textarea":hb(lo,hs),D$2("invalid",lo)}ub(cs,hs),co=null;for(var uo in hs)if(hs.hasOwnProperty(uo)){var xa=hs[uo];uo==="children"?typeof xa=="string"?lo.textContent!==xa&&(hs.suppressHydrationWarning!==!0&&Af(lo.textContent,xa,us),co=["children",xa]):typeof xa=="number"&&lo.textContent!==""+xa&&(hs.suppressHydrationWarning!==!0&&Af(lo.textContent,xa,us),co=["children",""+xa]):ea$1.hasOwnProperty(uo)&&xa!=null&&uo==="onScroll"&&D$2("scroll",lo)}switch(cs){case"input":Va$1(lo),db(lo,hs,!0);break;case"textarea":Va$1(lo),jb(lo);break;case"select":case"option":break;default:typeof hs.onClick=="function"&&(lo.onclick=Bf)}lo=co,is.updateQueue=lo,lo!==null&&(is.flags|=4)}else{uo=co.nodeType===9?co:co.ownerDocument,us==="http://www.w3.org/1999/xhtml"&&(us=kb(cs)),us==="http://www.w3.org/1999/xhtml"?cs==="script"?(us=uo.createElement("div"),us.innerHTML="<script><\/script>",us=us.removeChild(us.firstChild)):typeof lo.is=="string"?us=uo.createElement(cs,{is:lo.is}):(us=uo.createElement(cs),cs==="select"&&(uo=us,lo.multiple?uo.multiple=!0:lo.size&&(uo.size=lo.size))):us=uo.createElementNS(us,cs),us[Of]=is,us[Pf]=lo,zj(us,is,!1,!1),is.stateNode=us;e:{switch(uo=vb(cs,lo),cs){case"dialog":D$2("cancel",us),D$2("close",us),co=lo;break;case"iframe":case"object":case"embed":D$2("load",us),co=lo;break;case"video":case"audio":for(co=0;co<lf.length;co++)D$2(lf[co],us);co=lo;break;case"source":D$2("error",us),co=lo;break;case"img":case"image":case"link":D$2("error",us),D$2("load",us),co=lo;break;case"details":D$2("toggle",us),co=lo;break;case"input":Za(us,lo),co=Ya$1(us,lo),D$2("invalid",us);break;case"option":co=lo;break;case"select":us._wrapperState={wasMultiple:!!lo.multiple},co=A$1({},lo,{value:void 0}),D$2("invalid",us);break;case"textarea":hb(us,lo),co=gb(us,lo),D$2("invalid",us);break;default:co=lo}ub(cs,co),xa=co;for(hs in xa)if(xa.hasOwnProperty(hs)){var ba=xa[hs];hs==="style"?sb(us,ba):hs==="dangerouslySetInnerHTML"?(ba=ba?ba.__html:void 0,ba!=null&&nb(us,ba)):hs==="children"?typeof ba=="string"?(cs!=="textarea"||ba!=="")&&ob(us,ba):typeof ba=="number"&&ob(us,""+ba):hs!=="suppressContentEditableWarning"&&hs!=="suppressHydrationWarning"&&hs!=="autoFocus"&&(ea$1.hasOwnProperty(hs)?ba!=null&&hs==="onScroll"&&D$2("scroll",us):ba!=null&&ta$1(us,hs,ba,uo))}switch(cs){case"input":Va$1(us),db(us,lo,!1);break;case"textarea":Va$1(us),jb(us);break;case"option":lo.value!=null&&us.setAttribute("value",""+Sa(lo.value));break;case"select":us.multiple=!!lo.multiple,hs=lo.value,hs!=null?fb(us,!!lo.multiple,hs,!1):lo.defaultValue!=null&&fb(us,!!lo.multiple,lo.defaultValue,!0);break;default:typeof co.onClick=="function"&&(us.onclick=Bf)}switch(cs){case"button":case"input":case"select":case"textarea":lo=!!lo.autoFocus;break e;case"img":lo=!0;break e;default:lo=!1}}lo&&(is.flags|=4)}is.ref!==null&&(is.flags|=512,is.flags|=2097152)}return S$1(is),null;case 6:if(us&&is.stateNode!=null)Cj(us,is,us.memoizedProps,lo);else{if(typeof lo!="string"&&is.stateNode===null)throw Error(p$1(166));if(cs=xh$1(wh.current),xh$1(uh$1.current),Gg(is)){if(lo=is.stateNode,cs=is.memoizedProps,lo[Of]=is,(hs=lo.nodeValue!==cs)&&(us=xg,us!==null))switch(us.tag){case 3:Af(lo.nodeValue,cs,(us.mode&1)!==0);break;case 5:us.memoizedProps.suppressHydrationWarning!==!0&&Af(lo.nodeValue,cs,(us.mode&1)!==0)}hs&&(is.flags|=4)}else lo=(cs.nodeType===9?cs:cs.ownerDocument).createTextNode(lo),lo[Of]=is,is.stateNode=lo}return S$1(is),null;case 13:if(E$1(L$1),lo=is.memoizedState,us===null||us.memoizedState!==null&&us.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&is.mode&1&&!(is.flags&128))Hg(),Ig(),is.flags|=98560,hs=!1;else if(hs=Gg(is),lo!==null&&lo.dehydrated!==null){if(us===null){if(!hs)throw Error(p$1(318));if(hs=is.memoizedState,hs=hs!==null?hs.dehydrated:null,!hs)throw Error(p$1(317));hs[Of]=is}else Ig(),!(is.flags&128)&&(is.memoizedState=null),is.flags|=4;S$1(is),hs=!1}else zg!==null&&(Fj(zg),zg=null),hs=!0;if(!hs)return is.flags&65536?is:null}return is.flags&128?(is.lanes=cs,is):(lo=lo!==null,lo!==(us!==null&&us.memoizedState!==null)&&lo&&(is.child.flags|=8192,is.mode&1&&(us===null||L$1.current&1?T$1===0&&(T$1=3):tj())),is.updateQueue!==null&&(is.flags|=4),S$1(is),null);case 4:return zh(),Aj(us,is),us===null&&sf(is.stateNode.containerInfo),S$1(is),null;case 10:return ah$1(is.type._context),S$1(is),null;case 17:return Zf(is.type)&&$f(),S$1(is),null;case 19:if(E$1(L$1),hs=is.memoizedState,hs===null)return S$1(is),null;if(lo=(is.flags&128)!==0,uo=hs.rendering,uo===null)if(lo)Dj(hs,!1);else{if(T$1!==0||us!==null&&us.flags&128)for(us=is.child;us!==null;){if(uo=Ch$1(us),uo!==null){for(is.flags|=128,Dj(hs,!1),lo=uo.updateQueue,lo!==null&&(is.updateQueue=lo,is.flags|=4),is.subtreeFlags=0,lo=cs,cs=is.child;cs!==null;)hs=cs,us=lo,hs.flags&=14680066,uo=hs.alternate,uo===null?(hs.childLanes=0,hs.lanes=us,hs.child=null,hs.subtreeFlags=0,hs.memoizedProps=null,hs.memoizedState=null,hs.updateQueue=null,hs.dependencies=null,hs.stateNode=null):(hs.childLanes=uo.childLanes,hs.lanes=uo.lanes,hs.child=uo.child,hs.subtreeFlags=0,hs.deletions=null,hs.memoizedProps=uo.memoizedProps,hs.memoizedState=uo.memoizedState,hs.updateQueue=uo.updateQueue,hs.type=uo.type,us=uo.dependencies,hs.dependencies=us===null?null:{lanes:us.lanes,firstContext:us.firstContext}),cs=cs.sibling;return G$1(L$1,L$1.current&1|2),is.child}us=us.sibling}hs.tail!==null&&B$2()>Gj&&(is.flags|=128,lo=!0,Dj(hs,!1),is.lanes=4194304)}else{if(!lo)if(us=Ch$1(uo),us!==null){if(is.flags|=128,lo=!0,cs=us.updateQueue,cs!==null&&(is.updateQueue=cs,is.flags|=4),Dj(hs,!0),hs.tail===null&&hs.tailMode==="hidden"&&!uo.alternate&&!I$1)return S$1(is),null}else 2*B$2()-hs.renderingStartTime>Gj&&cs!==1073741824&&(is.flags|=128,lo=!0,Dj(hs,!1),is.lanes=4194304);hs.isBackwards?(uo.sibling=is.child,is.child=uo):(cs=hs.last,cs!==null?cs.sibling=uo:is.child=uo,hs.last=uo)}return hs.tail!==null?(is=hs.tail,hs.rendering=is,hs.tail=is.sibling,hs.renderingStartTime=B$2(),is.sibling=null,cs=L$1.current,G$1(L$1,lo?cs&1|2:cs&1),is):(S$1(is),null);case 22:case 23:return Hj(),lo=is.memoizedState!==null,us!==null&&us.memoizedState!==null!==lo&&(is.flags|=8192),lo&&is.mode&1?fj&1073741824&&(S$1(is),is.subtreeFlags&6&&(is.flags|=8192)):S$1(is),null;case 24:return null;case 25:return null}throw Error(p$1(156,is.tag))}function Ij(us,is){switch(wg(is),is.tag){case 1:return Zf(is.type)&&$f(),us=is.flags,us&65536?(is.flags=us&-65537|128,is):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),us=is.flags,us&65536&&!(us&128)?(is.flags=us&-65537|128,is):null;case 5:return Bh(is),null;case 13:if(E$1(L$1),us=is.memoizedState,us!==null&&us.dehydrated!==null){if(is.alternate===null)throw Error(p$1(340));Ig()}return us=is.flags,us&65536?(is.flags=us&-65537|128,is):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah$1(is.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(us,is){var cs=us.ref;if(cs!==null)if(typeof cs=="function")try{cs(null)}catch(lo){W$1(us,is,lo)}else cs.current=null}function Mj(us,is,cs){try{cs()}catch(lo){W$1(us,is,lo)}}var Nj=!1;function Oj(us,is){if(Cf=dd,us=Me$1(),Ne$1(us)){if("selectionStart"in us)var cs={start:us.selectionStart,end:us.selectionEnd};else e:{cs=(cs=us.ownerDocument)&&cs.defaultView||window;var lo=cs.getSelection&&cs.getSelection();if(lo&&lo.rangeCount!==0){cs=lo.anchorNode;var co=lo.anchorOffset,hs=lo.focusNode;lo=lo.focusOffset;try{cs.nodeType,hs.nodeType}catch{cs=null;break e}var uo=0,xa=-1,ba=-1,$a=0,wl=0,Sl=us,Cl=null;t:for(;;){for(var _l;Sl!==cs||co!==0&&Sl.nodeType!==3||(xa=uo+co),Sl!==hs||lo!==0&&Sl.nodeType!==3||(ba=uo+lo),Sl.nodeType===3&&(uo+=Sl.nodeValue.length),(_l=Sl.firstChild)!==null;)Cl=Sl,Sl=_l;for(;;){if(Sl===us)break t;if(Cl===cs&&++$a===co&&(xa=uo),Cl===hs&&++wl===lo&&(ba=uo),(_l=Sl.nextSibling)!==null)break;Sl=Cl,Cl=Sl.parentNode}Sl=_l}cs=xa===-1||ba===-1?null:{start:xa,end:ba}}else cs=null}cs=cs||{start:0,end:0}}else cs=null;for(Df={focusedElem:us,selectionRange:cs},dd=!1,V$1=is;V$1!==null;)if(is=V$1,us=is.child,(is.subtreeFlags&1028)!==0&&us!==null)us.return=is,V$1=us;else for(;V$1!==null;){is=V$1;try{var Il=is.alternate;if(is.flags&1024)switch(is.tag){case 0:case 11:case 15:break;case 1:if(Il!==null){var Fl=Il.memoizedProps,Ml=Il.memoizedState,Tl=is.stateNode,Dl=Tl.getSnapshotBeforeUpdate(is.elementType===is.type?Fl:Ci$1(is.type,Fl),Ml);Tl.__reactInternalSnapshotBeforeUpdate=Dl}break;case 3:var Bl=is.stateNode.containerInfo;Bl.nodeType===1?Bl.textContent="":Bl.nodeType===9&&Bl.documentElement&&Bl.removeChild(Bl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Ll){W$1(is,is.return,Ll)}if(us=is.sibling,us!==null){us.return=is.return,V$1=us;break}V$1=is.return}return Il=Nj,Nj=!1,Il}function Pj(us,is,cs){var lo=is.updateQueue;if(lo=lo!==null?lo.lastEffect:null,lo!==null){var co=lo=lo.next;do{if((co.tag&us)===us){var hs=co.destroy;co.destroy=void 0,hs!==void 0&&Mj(is,cs,hs)}co=co.next}while(co!==lo)}}function Qj(us,is){if(is=is.updateQueue,is=is!==null?is.lastEffect:null,is!==null){var cs=is=is.next;do{if((cs.tag&us)===us){var lo=cs.create;cs.destroy=lo()}cs=cs.next}while(cs!==is)}}function Rj(us){var is=us.ref;if(is!==null){var cs=us.stateNode;switch(us.tag){case 5:us=cs;break;default:us=cs}typeof is=="function"?is(us):is.current=us}}function Sj(us){var is=us.alternate;is!==null&&(us.alternate=null,Sj(is)),us.child=null,us.deletions=null,us.sibling=null,us.tag===5&&(is=us.stateNode,is!==null&&(delete is[Of],delete is[Pf],delete is[of],delete is[Qf],delete is[Rf])),us.stateNode=null,us.return=null,us.dependencies=null,us.memoizedProps=null,us.memoizedState=null,us.pendingProps=null,us.stateNode=null,us.updateQueue=null}function Tj(us){return us.tag===5||us.tag===3||us.tag===4}function Uj(us){e:for(;;){for(;us.sibling===null;){if(us.return===null||Tj(us.return))return null;us=us.return}for(us.sibling.return=us.return,us=us.sibling;us.tag!==5&&us.tag!==6&&us.tag!==18;){if(us.flags&2||us.child===null||us.tag===4)continue e;us.child.return=us,us=us.child}if(!(us.flags&2))return us.stateNode}}function Vj(us,is,cs){var lo=us.tag;if(lo===5||lo===6)us=us.stateNode,is?cs.nodeType===8?cs.parentNode.insertBefore(us,is):cs.insertBefore(us,is):(cs.nodeType===8?(is=cs.parentNode,is.insertBefore(us,cs)):(is=cs,is.appendChild(us)),cs=cs._reactRootContainer,cs!=null||is.onclick!==null||(is.onclick=Bf));else if(lo!==4&&(us=us.child,us!==null))for(Vj(us,is,cs),us=us.sibling;us!==null;)Vj(us,is,cs),us=us.sibling}function Wj(us,is,cs){var lo=us.tag;if(lo===5||lo===6)us=us.stateNode,is?cs.insertBefore(us,is):cs.appendChild(us);else if(lo!==4&&(us=us.child,us!==null))for(Wj(us,is,cs),us=us.sibling;us!==null;)Wj(us,is,cs),us=us.sibling}var X$1=null,Xj=!1;function Yj(us,is,cs){for(cs=cs.child;cs!==null;)Zj(us,is,cs),cs=cs.sibling}function Zj(us,is,cs){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,cs)}catch{}switch(cs.tag){case 5:U$1||Lj(cs,is);case 6:var lo=X$1,co=Xj;X$1=null,Yj(us,is,cs),X$1=lo,Xj=co,X$1!==null&&(Xj?(us=X$1,cs=cs.stateNode,us.nodeType===8?us.parentNode.removeChild(cs):us.removeChild(cs)):X$1.removeChild(cs.stateNode));break;case 18:X$1!==null&&(Xj?(us=X$1,cs=cs.stateNode,us.nodeType===8?Kf(us.parentNode,cs):us.nodeType===1&&Kf(us,cs),bd(us)):Kf(X$1,cs.stateNode));break;case 4:lo=X$1,co=Xj,X$1=cs.stateNode.containerInfo,Xj=!0,Yj(us,is,cs),X$1=lo,Xj=co;break;case 0:case 11:case 14:case 15:if(!U$1&&(lo=cs.updateQueue,lo!==null&&(lo=lo.lastEffect,lo!==null))){co=lo=lo.next;do{var hs=co,uo=hs.destroy;hs=hs.tag,uo!==void 0&&(hs&2||hs&4)&&Mj(cs,is,uo),co=co.next}while(co!==lo)}Yj(us,is,cs);break;case 1:if(!U$1&&(Lj(cs,is),lo=cs.stateNode,typeof lo.componentWillUnmount=="function"))try{lo.props=cs.memoizedProps,lo.state=cs.memoizedState,lo.componentWillUnmount()}catch(xa){W$1(cs,is,xa)}Yj(us,is,cs);break;case 21:Yj(us,is,cs);break;case 22:cs.mode&1?(U$1=(lo=U$1)||cs.memoizedState!==null,Yj(us,is,cs),U$1=lo):Yj(us,is,cs);break;default:Yj(us,is,cs)}}function ak(us){var is=us.updateQueue;if(is!==null){us.updateQueue=null;var cs=us.stateNode;cs===null&&(cs=us.stateNode=new Kj),is.forEach(function(lo){var co=bk.bind(null,us,lo);cs.has(lo)||(cs.add(lo),lo.then(co,co))})}}function ck(us,is){var cs=is.deletions;if(cs!==null)for(var lo=0;lo<cs.length;lo++){var co=cs[lo];try{var hs=us,uo=is,xa=uo;e:for(;xa!==null;){switch(xa.tag){case 5:X$1=xa.stateNode,Xj=!1;break e;case 3:X$1=xa.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=xa.stateNode.containerInfo,Xj=!0;break e}xa=xa.return}if(X$1===null)throw Error(p$1(160));Zj(hs,uo,co),X$1=null,Xj=!1;var ba=co.alternate;ba!==null&&(ba.return=null),co.return=null}catch($a){W$1(co,is,$a)}}if(is.subtreeFlags&12854)for(is=is.child;is!==null;)dk(is,us),is=is.sibling}function dk(us,is){var cs=us.alternate,lo=us.flags;switch(us.tag){case 0:case 11:case 14:case 15:if(ck(is,us),ek(us),lo&4){try{Pj(3,us,us.return),Qj(3,us)}catch(Fl){W$1(us,us.return,Fl)}try{Pj(5,us,us.return)}catch(Fl){W$1(us,us.return,Fl)}}break;case 1:ck(is,us),ek(us),lo&512&&cs!==null&&Lj(cs,cs.return);break;case 5:if(ck(is,us),ek(us),lo&512&&cs!==null&&Lj(cs,cs.return),us.flags&32){var co=us.stateNode;try{ob(co,"")}catch(Fl){W$1(us,us.return,Fl)}}if(lo&4&&(co=us.stateNode,co!=null)){var hs=us.memoizedProps,uo=cs!==null?cs.memoizedProps:hs,xa=us.type,ba=us.updateQueue;if(us.updateQueue=null,ba!==null)try{xa==="input"&&hs.type==="radio"&&hs.name!=null&&ab(co,hs),vb(xa,uo);var $a=vb(xa,hs);for(uo=0;uo<ba.length;uo+=2){var wl=ba[uo],Sl=ba[uo+1];wl==="style"?sb(co,Sl):wl==="dangerouslySetInnerHTML"?nb(co,Sl):wl==="children"?ob(co,Sl):ta$1(co,wl,Sl,$a)}switch(xa){case"input":bb(co,hs);break;case"textarea":ib(co,hs);break;case"select":var Cl=co._wrapperState.wasMultiple;co._wrapperState.wasMultiple=!!hs.multiple;var _l=hs.value;_l!=null?fb(co,!!hs.multiple,_l,!1):Cl!==!!hs.multiple&&(hs.defaultValue!=null?fb(co,!!hs.multiple,hs.defaultValue,!0):fb(co,!!hs.multiple,hs.multiple?[]:"",!1))}co[Pf]=hs}catch(Fl){W$1(us,us.return,Fl)}}break;case 6:if(ck(is,us),ek(us),lo&4){if(us.stateNode===null)throw Error(p$1(162));co=us.stateNode,hs=us.memoizedProps;try{co.nodeValue=hs}catch(Fl){W$1(us,us.return,Fl)}}break;case 3:if(ck(is,us),ek(us),lo&4&&cs!==null&&cs.memoizedState.isDehydrated)try{bd(is.containerInfo)}catch(Fl){W$1(us,us.return,Fl)}break;case 4:ck(is,us),ek(us);break;case 13:ck(is,us),ek(us),co=us.child,co.flags&8192&&(hs=co.memoizedState!==null,co.stateNode.isHidden=hs,!hs||co.alternate!==null&&co.alternate.memoizedState!==null||(fk=B$2())),lo&4&&ak(us);break;case 22:if(wl=cs!==null&&cs.memoizedState!==null,us.mode&1?(U$1=($a=U$1)||wl,ck(is,us),U$1=$a):ck(is,us),ek(us),lo&8192){if($a=us.memoizedState!==null,(us.stateNode.isHidden=$a)&&!wl&&us.mode&1)for(V$1=us,wl=us.child;wl!==null;){for(Sl=V$1=wl;V$1!==null;){switch(Cl=V$1,_l=Cl.child,Cl.tag){case 0:case 11:case 14:case 15:Pj(4,Cl,Cl.return);break;case 1:Lj(Cl,Cl.return);var Il=Cl.stateNode;if(typeof Il.componentWillUnmount=="function"){lo=Cl,cs=Cl.return;try{is=lo,Il.props=is.memoizedProps,Il.state=is.memoizedState,Il.componentWillUnmount()}catch(Fl){W$1(lo,cs,Fl)}}break;case 5:Lj(Cl,Cl.return);break;case 22:if(Cl.memoizedState!==null){gk(Sl);continue}}_l!==null?(_l.return=Cl,V$1=_l):gk(Sl)}wl=wl.sibling}e:for(wl=null,Sl=us;;){if(Sl.tag===5){if(wl===null){wl=Sl;try{co=Sl.stateNode,$a?(hs=co.style,typeof hs.setProperty=="function"?hs.setProperty("display","none","important"):hs.display="none"):(xa=Sl.stateNode,ba=Sl.memoizedProps.style,uo=ba!=null&&ba.hasOwnProperty("display")?ba.display:null,xa.style.display=rb("display",uo))}catch(Fl){W$1(us,us.return,Fl)}}}else if(Sl.tag===6){if(wl===null)try{Sl.stateNode.nodeValue=$a?"":Sl.memoizedProps}catch(Fl){W$1(us,us.return,Fl)}}else if((Sl.tag!==22&&Sl.tag!==23||Sl.memoizedState===null||Sl===us)&&Sl.child!==null){Sl.child.return=Sl,Sl=Sl.child;continue}if(Sl===us)break e;for(;Sl.sibling===null;){if(Sl.return===null||Sl.return===us)break e;wl===Sl&&(wl=null),Sl=Sl.return}wl===Sl&&(wl=null),Sl.sibling.return=Sl.return,Sl=Sl.sibling}}break;case 19:ck(is,us),ek(us),lo&4&&ak(us);break;case 21:break;default:ck(is,us),ek(us)}}function ek(us){var is=us.flags;if(is&2){try{e:{for(var cs=us.return;cs!==null;){if(Tj(cs)){var lo=cs;break e}cs=cs.return}throw Error(p$1(160))}switch(lo.tag){case 5:var co=lo.stateNode;lo.flags&32&&(ob(co,""),lo.flags&=-33);var hs=Uj(us);Wj(us,hs,co);break;case 3:case 4:var uo=lo.stateNode.containerInfo,xa=Uj(us);Vj(us,xa,uo);break;default:throw Error(p$1(161))}}catch(ba){W$1(us,us.return,ba)}us.flags&=-3}is&4096&&(us.flags&=-4097)}function hk(us,is,cs){V$1=us,ik(us)}function ik(us,is,cs){for(var lo=(us.mode&1)!==0;V$1!==null;){var co=V$1,hs=co.child;if(co.tag===22&&lo){var uo=co.memoizedState!==null||Jj;if(!uo){var xa=co.alternate,ba=xa!==null&&xa.memoizedState!==null||U$1;xa=Jj;var $a=U$1;if(Jj=uo,(U$1=ba)&&!$a)for(V$1=co;V$1!==null;)uo=V$1,ba=uo.child,uo.tag===22&&uo.memoizedState!==null?jk(co):ba!==null?(ba.return=uo,V$1=ba):jk(co);for(;hs!==null;)V$1=hs,ik(hs),hs=hs.sibling;V$1=co,Jj=xa,U$1=$a}kk(us)}else co.subtreeFlags&8772&&hs!==null?(hs.return=co,V$1=hs):kk(us)}}function kk(us){for(;V$1!==null;){var is=V$1;if(is.flags&8772){var cs=is.alternate;try{if(is.flags&8772)switch(is.tag){case 0:case 11:case 15:U$1||Qj(5,is);break;case 1:var lo=is.stateNode;if(is.flags&4&&!U$1)if(cs===null)lo.componentDidMount();else{var co=is.elementType===is.type?cs.memoizedProps:Ci$1(is.type,cs.memoizedProps);lo.componentDidUpdate(co,cs.memoizedState,lo.__reactInternalSnapshotBeforeUpdate)}var hs=is.updateQueue;hs!==null&&sh(is,hs,lo);break;case 3:var uo=is.updateQueue;if(uo!==null){if(cs=null,is.child!==null)switch(is.child.tag){case 5:cs=is.child.stateNode;break;case 1:cs=is.child.stateNode}sh(is,uo,cs)}break;case 5:var xa=is.stateNode;if(cs===null&&is.flags&4){cs=xa;var ba=is.memoizedProps;switch(is.type){case"button":case"input":case"select":case"textarea":ba.autoFocus&&cs.focus();break;case"img":ba.src&&(cs.src=ba.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(is.memoizedState===null){var $a=is.alternate;if($a!==null){var wl=$a.memoizedState;if(wl!==null){var Sl=wl.dehydrated;Sl!==null&&bd(Sl)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||is.flags&512&&Rj(is)}catch(Cl){W$1(is,is.return,Cl)}}if(is===us){V$1=null;break}if(cs=is.sibling,cs!==null){cs.return=is.return,V$1=cs;break}V$1=is.return}}function gk(us){for(;V$1!==null;){var is=V$1;if(is===us){V$1=null;break}var cs=is.sibling;if(cs!==null){cs.return=is.return,V$1=cs;break}V$1=is.return}}function jk(us){for(;V$1!==null;){var is=V$1;try{switch(is.tag){case 0:case 11:case 15:var cs=is.return;try{Qj(4,is)}catch(ba){W$1(is,cs,ba)}break;case 1:var lo=is.stateNode;if(typeof lo.componentDidMount=="function"){var co=is.return;try{lo.componentDidMount()}catch(ba){W$1(is,co,ba)}}var hs=is.return;try{Rj(is)}catch(ba){W$1(is,hs,ba)}break;case 5:var uo=is.return;try{Rj(is)}catch(ba){W$1(is,uo,ba)}}}catch(ba){W$1(is,is.return,ba)}if(is===us){V$1=null;break}var xa=is.sibling;if(xa!==null){xa.return=is.return,V$1=xa;break}V$1=is.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi$1(us){return us.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(us=C$1,us!==0||(us=window.event,us=us===void 0?16:jd(us.type)),us):1}function gi$1(us,is,cs,lo){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(us,cs,lo),(!(K$1&2)||us!==Q$1)&&(us===Q$1&&(!(K$1&2)&&(qk|=cs),T$1===4&&Ck(us,Z$1)),Dk(us,lo),cs===1&&K$1===0&&!(is.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(us,is){var cs=us.callbackNode;wc(us,is);var lo=uc(us,us===Q$1?Z$1:0);if(lo===0)cs!==null&&bc(cs),us.callbackNode=null,us.callbackPriority=0;else if(is=lo&-lo,us.callbackPriority!==is){if(cs!=null&&bc(cs),is===1)us.tag===0?ig(Ek.bind(null,us)):hg(Ek.bind(null,us)),Jf(function(){!(K$1&6)&&jg()}),cs=null;else{switch(Dc(lo)){case 1:cs=fc;break;case 4:cs=gc;break;case 16:cs=hc;break;case 536870912:cs=jc;break;default:cs=hc}cs=Fk(cs,Gk.bind(null,us))}us.callbackPriority=is,us.callbackNode=cs}}function Gk(us,is){if(Ak=-1,Bk=0,K$1&6)throw Error(p$1(327));var cs=us.callbackNode;if(Hk()&&us.callbackNode!==cs)return null;var lo=uc(us,us===Q$1?Z$1:0);if(lo===0)return null;if(lo&30||lo&us.expiredLanes||is)is=Ik(us,lo);else{is=lo;var co=K$1;K$1|=2;var hs=Jk();(Q$1!==us||Z$1!==is)&&(uk=null,Gj=B$2()+500,Kk(us,is));do try{Lk();break}catch(xa){Mk(us,xa)}while(!0);$g(),mk.current=hs,K$1=co,Y$1!==null?is=0:(Q$1=null,Z$1=0,is=T$1)}if(is!==0){if(is===2&&(co=xc(us),co!==0&&(lo=co,is=Nk(us,co))),is===1)throw cs=pk,Kk(us,0),Ck(us,lo),Dk(us,B$2()),cs;if(is===6)Ck(us,lo);else{if(co=us.current.alternate,!(lo&30)&&!Ok(co)&&(is=Ik(us,lo),is===2&&(hs=xc(us),hs!==0&&(lo=hs,is=Nk(us,hs))),is===1))throw cs=pk,Kk(us,0),Ck(us,lo),Dk(us,B$2()),cs;switch(us.finishedWork=co,us.finishedLanes=lo,is){case 0:case 1:throw Error(p$1(345));case 2:Pk(us,tk,uk);break;case 3:if(Ck(us,lo),(lo&130023424)===lo&&(is=fk+500-B$2(),10<is)){if(uc(us,0)!==0)break;if(co=us.suspendedLanes,(co&lo)!==lo){R$1(),us.pingedLanes|=us.suspendedLanes&co;break}us.timeoutHandle=Ff(Pk.bind(null,us,tk,uk),is);break}Pk(us,tk,uk);break;case 4:if(Ck(us,lo),(lo&4194240)===lo)break;for(is=us.eventTimes,co=-1;0<lo;){var uo=31-oc(lo);hs=1<<uo,uo=is[uo],uo>co&&(co=uo),lo&=~hs}if(lo=co,lo=B$2()-lo,lo=(120>lo?120:480>lo?480:1080>lo?1080:1920>lo?1920:3e3>lo?3e3:4320>lo?4320:1960*lk(lo/1960))-lo,10<lo){us.timeoutHandle=Ff(Pk.bind(null,us,tk,uk),lo);break}Pk(us,tk,uk);break;case 5:Pk(us,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(us,B$2()),us.callbackNode===cs?Gk.bind(null,us):null}function Nk(us,is){var cs=sk;return us.current.memoizedState.isDehydrated&&(Kk(us,is).flags|=256),us=Ik(us,is),us!==2&&(is=tk,tk=cs,is!==null&&Fj(is)),us}function Fj(us){tk===null?tk=us:tk.push.apply(tk,us)}function Ok(us){for(var is=us;;){if(is.flags&16384){var cs=is.updateQueue;if(cs!==null&&(cs=cs.stores,cs!==null))for(var lo=0;lo<cs.length;lo++){var co=cs[lo],hs=co.getSnapshot;co=co.value;try{if(!He$1(hs(),co))return!1}catch{return!1}}}if(cs=is.child,is.subtreeFlags&16384&&cs!==null)cs.return=is,is=cs;else{if(is===us)break;for(;is.sibling===null;){if(is.return===null||is.return===us)return!0;is=is.return}is.sibling.return=is.return,is=is.sibling}}return!0}function Ck(us,is){for(is&=~rk,is&=~qk,us.suspendedLanes|=is,us.pingedLanes&=~is,us=us.expirationTimes;0<is;){var cs=31-oc(is),lo=1<<cs;us[cs]=-1,is&=~lo}}function Ek(us){if(K$1&6)throw Error(p$1(327));Hk();var is=uc(us,0);if(!(is&1))return Dk(us,B$2()),null;var cs=Ik(us,is);if(us.tag!==0&&cs===2){var lo=xc(us);lo!==0&&(is=lo,cs=Nk(us,lo))}if(cs===1)throw cs=pk,Kk(us,0),Ck(us,is),Dk(us,B$2()),cs;if(cs===6)throw Error(p$1(345));return us.finishedWork=us.current.alternate,us.finishedLanes=is,Pk(us,tk,uk),Dk(us,B$2()),null}function Qk(us,is){var cs=K$1;K$1|=1;try{return us(is)}finally{K$1=cs,K$1===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(us){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var is=K$1;K$1|=1;var cs=ok.transition,lo=C$1;try{if(ok.transition=null,C$1=1,us)return us()}finally{C$1=lo,ok.transition=cs,K$1=is,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(us,is){us.finishedWork=null,us.finishedLanes=0;var cs=us.timeoutHandle;if(cs!==-1&&(us.timeoutHandle=-1,Gf(cs)),Y$1!==null)for(cs=Y$1.return;cs!==null;){var lo=cs;switch(wg(lo),lo.tag){case 1:lo=lo.type.childContextTypes,lo!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(lo);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah$1(lo.type._context);break;case 22:case 23:Hj()}cs=cs.return}if(Q$1=us,Y$1=us=Pg(us.current,null),Z$1=fj=is,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh$1!==null){for(is=0;is<fh$1.length;is++)if(cs=fh$1[is],lo=cs.interleaved,lo!==null){cs.interleaved=null;var co=lo.next,hs=cs.pending;if(hs!==null){var uo=hs.next;hs.next=co,lo.next=uo}cs.pending=lo}fh$1=null}return us}function Mk(us,is){do{var cs=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var lo=M$1.memoizedState;lo!==null;){var co=lo.queue;co!==null&&(co.pending=null),lo=lo.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,cs===null||cs.return===null){T$1=1,pk=is,Y$1=null;break}e:{var hs=us,uo=cs.return,xa=cs,ba=is;if(is=Z$1,xa.flags|=32768,ba!==null&&typeof ba=="object"&&typeof ba.then=="function"){var $a=ba,wl=xa,Sl=wl.tag;if(!(wl.mode&1)&&(Sl===0||Sl===11||Sl===15)){var Cl=wl.alternate;Cl?(wl.updateQueue=Cl.updateQueue,wl.memoizedState=Cl.memoizedState,wl.lanes=Cl.lanes):(wl.updateQueue=null,wl.memoizedState=null)}var _l=Ui$1(uo);if(_l!==null){_l.flags&=-257,Vi$1(_l,uo,xa,hs,is),_l.mode&1&&Si$1(hs,$a,is),is=_l,ba=$a;var Il=is.updateQueue;if(Il===null){var Fl=new Set;Fl.add(ba),is.updateQueue=Fl}else Il.add(ba);break e}else{if(!(is&1)){Si$1(hs,$a,is),tj();break e}ba=Error(p$1(426))}}else if(I$1&&xa.mode&1){var Ml=Ui$1(uo);if(Ml!==null){!(Ml.flags&65536)&&(Ml.flags|=256),Vi$1(Ml,uo,xa,hs,is),Jg(Ji$1(ba,xa));break e}}hs=ba=Ji$1(ba,xa),T$1!==4&&(T$1=2),sk===null?sk=[hs]:sk.push(hs),hs=uo;do{switch(hs.tag){case 3:hs.flags|=65536,is&=-is,hs.lanes|=is;var Tl=Ni$1(hs,ba,is);ph$1(hs,Tl);break e;case 1:xa=ba;var Dl=hs.type,Bl=hs.stateNode;if(!(hs.flags&128)&&(typeof Dl.getDerivedStateFromError=="function"||Bl!==null&&typeof Bl.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(Bl)))){hs.flags|=65536,is&=-is,hs.lanes|=is;var Ll=Qi$1(hs,xa,is);ph$1(hs,Ll);break e}}hs=hs.return}while(hs!==null)}Sk(cs)}catch(Nl){is=Nl,Y$1===cs&&cs!==null&&(Y$1=cs=cs.return);continue}break}while(!0)}function Jk(){var us=mk.current;return mk.current=Rh,us===null?Rh:us}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(us,is){var cs=K$1;K$1|=2;var lo=Jk();(Q$1!==us||Z$1!==is)&&(uk=null,Kk(us,is));do try{Tk();break}catch(co){Mk(us,co)}while(!0);if($g(),K$1=cs,mk.current=lo,Y$1!==null)throw Error(p$1(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(us){var is=Vk(us.alternate,us,fj);us.memoizedProps=us.pendingProps,is===null?Sk(us):Y$1=is,nk.current=null}function Sk(us){var is=us;do{var cs=is.alternate;if(us=is.return,is.flags&32768){if(cs=Ij(cs,is),cs!==null){cs.flags&=32767,Y$1=cs;return}if(us!==null)us.flags|=32768,us.subtreeFlags=0,us.deletions=null;else{T$1=6,Y$1=null;return}}else if(cs=Ej(cs,is,fj),cs!==null){Y$1=cs;return}if(is=is.sibling,is!==null){Y$1=is;return}Y$1=is=us}while(is!==null);T$1===0&&(T$1=5)}function Pk(us,is,cs){var lo=C$1,co=ok.transition;try{ok.transition=null,C$1=1,Wk(us,is,cs,lo)}finally{ok.transition=co,C$1=lo}return null}function Wk(us,is,cs,lo){do Hk();while(wk!==null);if(K$1&6)throw Error(p$1(327));cs=us.finishedWork;var co=us.finishedLanes;if(cs===null)return null;if(us.finishedWork=null,us.finishedLanes=0,cs===us.current)throw Error(p$1(177));us.callbackNode=null,us.callbackPriority=0;var hs=cs.lanes|cs.childLanes;if(Bc(us,hs),us===Q$1&&(Y$1=Q$1=null,Z$1=0),!(cs.subtreeFlags&2064)&&!(cs.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),hs=(cs.flags&15990)!==0,cs.subtreeFlags&15990||hs){hs=ok.transition,ok.transition=null;var uo=C$1;C$1=1;var xa=K$1;K$1|=4,nk.current=null,Oj(us,cs),dk(cs,us),Oe$1(Df),dd=!!Cf,Df=Cf=null,us.current=cs,hk(cs),dc(),K$1=xa,C$1=uo,ok.transition=hs}else us.current=cs;if(vk&&(vk=!1,wk=us,xk=co),hs=us.pendingLanes,hs===0&&(Ri$1=null),mc(cs.stateNode),Dk(us,B$2()),is!==null)for(lo=us.onRecoverableError,cs=0;cs<is.length;cs++)co=is[cs],lo(co.value,{componentStack:co.stack,digest:co.digest});if(Oi$1)throw Oi$1=!1,us=Pi$1,Pi$1=null,us;return xk&1&&us.tag!==0&&Hk(),hs=us.pendingLanes,hs&1?us===zk?yk++:(yk=0,zk=us):yk=0,jg(),null}function Hk(){if(wk!==null){var us=Dc(xk),is=ok.transition,cs=C$1;try{if(ok.transition=null,C$1=16>us?16:us,wk===null)var lo=!1;else{if(us=wk,wk=null,xk=0,K$1&6)throw Error(p$1(331));var co=K$1;for(K$1|=4,V$1=us.current;V$1!==null;){var hs=V$1,uo=hs.child;if(V$1.flags&16){var xa=hs.deletions;if(xa!==null){for(var ba=0;ba<xa.length;ba++){var $a=xa[ba];for(V$1=$a;V$1!==null;){var wl=V$1;switch(wl.tag){case 0:case 11:case 15:Pj(8,wl,hs)}var Sl=wl.child;if(Sl!==null)Sl.return=wl,V$1=Sl;else for(;V$1!==null;){wl=V$1;var Cl=wl.sibling,_l=wl.return;if(Sj(wl),wl===$a){V$1=null;break}if(Cl!==null){Cl.return=_l,V$1=Cl;break}V$1=_l}}}var Il=hs.alternate;if(Il!==null){var Fl=Il.child;if(Fl!==null){Il.child=null;do{var Ml=Fl.sibling;Fl.sibling=null,Fl=Ml}while(Fl!==null)}}V$1=hs}}if(hs.subtreeFlags&2064&&uo!==null)uo.return=hs,V$1=uo;else e:for(;V$1!==null;){if(hs=V$1,hs.flags&2048)switch(hs.tag){case 0:case 11:case 15:Pj(9,hs,hs.return)}var Tl=hs.sibling;if(Tl!==null){Tl.return=hs.return,V$1=Tl;break e}V$1=hs.return}}var Dl=us.current;for(V$1=Dl;V$1!==null;){uo=V$1;var Bl=uo.child;if(uo.subtreeFlags&2064&&Bl!==null)Bl.return=uo,V$1=Bl;else e:for(uo=Dl;V$1!==null;){if(xa=V$1,xa.flags&2048)try{switch(xa.tag){case 0:case 11:case 15:Qj(9,xa)}}catch(Nl){W$1(xa,xa.return,Nl)}if(xa===uo){V$1=null;break e}var Ll=xa.sibling;if(Ll!==null){Ll.return=xa.return,V$1=Ll;break e}V$1=xa.return}}if(K$1=co,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,us)}catch{}lo=!0}return lo}finally{C$1=cs,ok.transition=is}}return!1}function Xk(us,is,cs){is=Ji$1(cs,is),is=Ni$1(us,is,1),us=nh$1(us,is,1),is=R$1(),us!==null&&(Ac(us,1,is),Dk(us,is))}function W$1(us,is,cs){if(us.tag===3)Xk(us,us,cs);else for(;is!==null;){if(is.tag===3){Xk(is,us,cs);break}else if(is.tag===1){var lo=is.stateNode;if(typeof is.type.getDerivedStateFromError=="function"||typeof lo.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(lo))){us=Ji$1(cs,us),us=Qi$1(is,us,1),is=nh$1(is,us,1),us=R$1(),is!==null&&(Ac(is,1,us),Dk(is,us));break}}is=is.return}}function Ti$1(us,is,cs){var lo=us.pingCache;lo!==null&&lo.delete(is),is=R$1(),us.pingedLanes|=us.suspendedLanes&cs,Q$1===us&&(Z$1&cs)===cs&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(us,0):rk|=cs),Dk(us,is)}function Yk(us,is){is===0&&(us.mode&1?(is=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):is=1);var cs=R$1();us=ih(us,is),us!==null&&(Ac(us,is,cs),Dk(us,cs))}function uj(us){var is=us.memoizedState,cs=0;is!==null&&(cs=is.retryLane),Yk(us,cs)}function bk(us,is){var cs=0;switch(us.tag){case 13:var lo=us.stateNode,co=us.memoizedState;co!==null&&(cs=co.retryLane);break;case 19:lo=us.stateNode;break;default:throw Error(p$1(314))}lo!==null&&lo.delete(is),Yk(us,cs)}var Vk;Vk=function(us,is,cs){if(us!==null)if(us.memoizedProps!==is.pendingProps||Wf.current)dh$1=!0;else{if(!(us.lanes&cs)&&!(is.flags&128))return dh$1=!1,yj(us,is,cs);dh$1=!!(us.flags&131072)}else dh$1=!1,I$1&&is.flags&1048576&&ug(is,ng,is.index);switch(is.lanes=0,is.tag){case 2:var lo=is.type;ij(us,is),us=is.pendingProps;var co=Yf(is,H$1.current);ch$1(is,cs),co=Nh(null,is,lo,us,co,cs);var hs=Sh();return is.flags|=1,typeof co=="object"&&co!==null&&typeof co.render=="function"&&co.$$typeof===void 0?(is.tag=1,is.memoizedState=null,is.updateQueue=null,Zf(lo)?(hs=!0,cg(is)):hs=!1,is.memoizedState=co.state!==null&&co.state!==void 0?co.state:null,kh(is),co.updater=Ei$1,is.stateNode=co,co._reactInternals=is,Ii$1(is,lo,us,cs),is=jj(null,is,lo,!0,hs,cs)):(is.tag=0,I$1&&hs&&vg(is),Xi$1(null,is,co,cs),is=is.child),is;case 16:lo=is.elementType;e:{switch(ij(us,is),us=is.pendingProps,co=lo._init,lo=co(lo._payload),is.type=lo,co=is.tag=Zk(lo),us=Ci$1(lo,us),co){case 0:is=cj(null,is,lo,us,cs);break e;case 1:is=hj(null,is,lo,us,cs);break e;case 11:is=Yi$1(null,is,lo,us,cs);break e;case 14:is=$i$1(null,is,lo,Ci$1(lo.type,us),cs);break e}throw Error(p$1(306,lo,""))}return is;case 0:return lo=is.type,co=is.pendingProps,co=is.elementType===lo?co:Ci$1(lo,co),cj(us,is,lo,co,cs);case 1:return lo=is.type,co=is.pendingProps,co=is.elementType===lo?co:Ci$1(lo,co),hj(us,is,lo,co,cs);case 3:e:{if(kj(is),us===null)throw Error(p$1(387));lo=is.pendingProps,hs=is.memoizedState,co=hs.element,lh$1(us,is),qh(is,lo,null,cs);var uo=is.memoizedState;if(lo=uo.element,hs.isDehydrated)if(hs={element:lo,isDehydrated:!1,cache:uo.cache,pendingSuspenseBoundaries:uo.pendingSuspenseBoundaries,transitions:uo.transitions},is.updateQueue.baseState=hs,is.memoizedState=hs,is.flags&256){co=Ji$1(Error(p$1(423)),is),is=lj(us,is,lo,cs,co);break e}else if(lo!==co){co=Ji$1(Error(p$1(424)),is),is=lj(us,is,lo,cs,co);break e}else for(yg=Lf(is.stateNode.containerInfo.firstChild),xg=is,I$1=!0,zg=null,cs=Vg(is,null,lo,cs),is.child=cs;cs;)cs.flags=cs.flags&-3|4096,cs=cs.sibling;else{if(Ig(),lo===co){is=Zi$1(us,is,cs);break e}Xi$1(us,is,lo,cs)}is=is.child}return is;case 5:return Ah(is),us===null&&Eg(is),lo=is.type,co=is.pendingProps,hs=us!==null?us.memoizedProps:null,uo=co.children,Ef(lo,co)?uo=null:hs!==null&&Ef(lo,hs)&&(is.flags|=32),gj(us,is),Xi$1(us,is,uo,cs),is.child;case 6:return us===null&&Eg(is),null;case 13:return oj(us,is,cs);case 4:return yh$1(is,is.stateNode.containerInfo),lo=is.pendingProps,us===null?is.child=Ug(is,null,lo,cs):Xi$1(us,is,lo,cs),is.child;case 11:return lo=is.type,co=is.pendingProps,co=is.elementType===lo?co:Ci$1(lo,co),Yi$1(us,is,lo,co,cs);case 7:return Xi$1(us,is,is.pendingProps,cs),is.child;case 8:return Xi$1(us,is,is.pendingProps.children,cs),is.child;case 12:return Xi$1(us,is,is.pendingProps.children,cs),is.child;case 10:e:{if(lo=is.type._context,co=is.pendingProps,hs=is.memoizedProps,uo=co.value,G$1(Wg,lo._currentValue),lo._currentValue=uo,hs!==null)if(He$1(hs.value,uo)){if(hs.children===co.children&&!Wf.current){is=Zi$1(us,is,cs);break e}}else for(hs=is.child,hs!==null&&(hs.return=is);hs!==null;){var xa=hs.dependencies;if(xa!==null){uo=hs.child;for(var ba=xa.firstContext;ba!==null;){if(ba.context===lo){if(hs.tag===1){ba=mh$1(-1,cs&-cs),ba.tag=2;var $a=hs.updateQueue;if($a!==null){$a=$a.shared;var wl=$a.pending;wl===null?ba.next=ba:(ba.next=wl.next,wl.next=ba),$a.pending=ba}}hs.lanes|=cs,ba=hs.alternate,ba!==null&&(ba.lanes|=cs),bh(hs.return,cs,is),xa.lanes|=cs;break}ba=ba.next}}else if(hs.tag===10)uo=hs.type===is.type?null:hs.child;else if(hs.tag===18){if(uo=hs.return,uo===null)throw Error(p$1(341));uo.lanes|=cs,xa=uo.alternate,xa!==null&&(xa.lanes|=cs),bh(uo,cs,is),uo=hs.sibling}else uo=hs.child;if(uo!==null)uo.return=hs;else for(uo=hs;uo!==null;){if(uo===is){uo=null;break}if(hs=uo.sibling,hs!==null){hs.return=uo.return,uo=hs;break}uo=uo.return}hs=uo}Xi$1(us,is,co.children,cs),is=is.child}return is;case 9:return co=is.type,lo=is.pendingProps.children,ch$1(is,cs),co=eh(co),lo=lo(co),is.flags|=1,Xi$1(us,is,lo,cs),is.child;case 14:return lo=is.type,co=Ci$1(lo,is.pendingProps),co=Ci$1(lo.type,co),$i$1(us,is,lo,co,cs);case 15:return bj(us,is,is.type,is.pendingProps,cs);case 17:return lo=is.type,co=is.pendingProps,co=is.elementType===lo?co:Ci$1(lo,co),ij(us,is),is.tag=1,Zf(lo)?(us=!0,cg(is)):us=!1,ch$1(is,cs),Gi$1(is,lo,co),Ii$1(is,lo,co,cs),jj(null,is,lo,!0,us,cs);case 19:return xj(us,is,cs);case 22:return dj(us,is,cs)}throw Error(p$1(156,is.tag))};function Fk(us,is){return ac(us,is)}function $k(us,is,cs,lo){this.tag=us,this.key=cs,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=is,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=lo,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(us,is,cs,lo){return new $k(us,is,cs,lo)}function aj(us){return us=us.prototype,!(!us||!us.isReactComponent)}function Zk(us){if(typeof us=="function")return aj(us)?1:0;if(us!=null){if(us=us.$$typeof,us===Da)return 11;if(us===Ga$1)return 14}return 2}function Pg(us,is){var cs=us.alternate;return cs===null?(cs=Bg(us.tag,is,us.key,us.mode),cs.elementType=us.elementType,cs.type=us.type,cs.stateNode=us.stateNode,cs.alternate=us,us.alternate=cs):(cs.pendingProps=is,cs.type=us.type,cs.flags=0,cs.subtreeFlags=0,cs.deletions=null),cs.flags=us.flags&14680064,cs.childLanes=us.childLanes,cs.lanes=us.lanes,cs.child=us.child,cs.memoizedProps=us.memoizedProps,cs.memoizedState=us.memoizedState,cs.updateQueue=us.updateQueue,is=us.dependencies,cs.dependencies=is===null?null:{lanes:is.lanes,firstContext:is.firstContext},cs.sibling=us.sibling,cs.index=us.index,cs.ref=us.ref,cs}function Rg(us,is,cs,lo,co,hs){var uo=2;if(lo=us,typeof us=="function")aj(us)&&(uo=1);else if(typeof us=="string")uo=5;else e:switch(us){case ya:return Tg(cs.children,co,hs,is);case za$1:uo=8,co|=8;break;case Aa:return us=Bg(12,cs,is,co|2),us.elementType=Aa,us.lanes=hs,us;case Ea:return us=Bg(13,cs,is,co),us.elementType=Ea,us.lanes=hs,us;case Fa$1:return us=Bg(19,cs,is,co),us.elementType=Fa$1,us.lanes=hs,us;case Ia$1:return pj(cs,co,hs,is);default:if(typeof us=="object"&&us!==null)switch(us.$$typeof){case Ba$1:uo=10;break e;case Ca:uo=9;break e;case Da:uo=11;break e;case Ga$1:uo=14;break e;case Ha$1:uo=16,lo=null;break e}throw Error(p$1(130,us==null?us:typeof us,""))}return is=Bg(uo,cs,is,co),is.elementType=us,is.type=lo,is.lanes=hs,is}function Tg(us,is,cs,lo){return us=Bg(7,us,lo,is),us.lanes=cs,us}function pj(us,is,cs,lo){return us=Bg(22,us,lo,is),us.elementType=Ia$1,us.lanes=cs,us.stateNode={isHidden:!1},us}function Qg(us,is,cs){return us=Bg(6,us,null,is),us.lanes=cs,us}function Sg(us,is,cs){return is=Bg(4,us.children!==null?us.children:[],us.key,is),is.lanes=cs,is.stateNode={containerInfo:us.containerInfo,pendingChildren:null,implementation:us.implementation},is}function al(us,is,cs,lo,co){this.tag=is,this.containerInfo=us,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=lo,this.onRecoverableError=co,this.mutableSourceEagerHydrationData=null}function bl(us,is,cs,lo,co,hs,uo,xa,ba){return us=new al(us,is,cs,xa,ba),is===1?(is=1,hs===!0&&(is|=8)):is=0,hs=Bg(3,null,null,is),us.current=hs,hs.stateNode=us,hs.memoizedState={element:lo,isDehydrated:cs,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(hs),us}function cl(us,is,cs){var lo=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:lo==null?null:""+lo,children:us,containerInfo:is,implementation:cs}}function dl(us){if(!us)return Vf;us=us._reactInternals;e:{if(Vb(us)!==us||us.tag!==1)throw Error(p$1(170));var is=us;do{switch(is.tag){case 3:is=is.stateNode.context;break e;case 1:if(Zf(is.type)){is=is.stateNode.__reactInternalMemoizedMergedChildContext;break e}}is=is.return}while(is!==null);throw Error(p$1(171))}if(us.tag===1){var cs=us.type;if(Zf(cs))return bg(us,cs,is)}return is}function el(us,is,cs,lo,co,hs,uo,xa,ba){return us=bl(cs,lo,!0,us,co,hs,uo,xa,ba),us.context=dl(null),cs=us.current,lo=R$1(),co=yi$1(cs),hs=mh$1(lo,co),hs.callback=is??null,nh$1(cs,hs,co),us.current.lanes=co,Ac(us,co,lo),Dk(us,lo),us}function fl(us,is,cs,lo){var co=is.current,hs=R$1(),uo=yi$1(co);return cs=dl(cs),is.context===null?is.context=cs:is.pendingContext=cs,is=mh$1(hs,uo),is.payload={element:us},lo=lo===void 0?null:lo,lo!==null&&(is.callback=lo),us=nh$1(co,is,uo),us!==null&&(gi$1(us,co,uo,hs),oh$1(us,co,uo)),uo}function gl(us){if(us=us.current,!us.child)return null;switch(us.child.tag){case 5:return us.child.stateNode;default:return us.child.stateNode}}function hl(us,is){if(us=us.memoizedState,us!==null&&us.dehydrated!==null){var cs=us.retryLane;us.retryLane=cs!==0&&cs<is?cs:is}}function il(us,is){hl(us,is),(us=us.alternate)&&hl(us,is)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(us){console.error(us)};function ll(us){this._internalRoot=us}ml.prototype.render=ll.prototype.render=function(us){var is=this._internalRoot;if(is===null)throw Error(p$1(409));fl(us,is,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var us=this._internalRoot;if(us!==null){this._internalRoot=null;var is=us.containerInfo;Rk(function(){fl(null,us,null,null)}),is[uf]=null}};function ml(us){this._internalRoot=us}ml.prototype.unstable_scheduleHydration=function(us){if(us){var is=Hc();us={blockedOn:null,target:us,priority:is};for(var cs=0;cs<Qc.length&&is!==0&&is<Qc[cs].priority;cs++);Qc.splice(cs,0,us),cs===0&&Vc(us)}};function nl(us){return!(!us||us.nodeType!==1&&us.nodeType!==9&&us.nodeType!==11)}function ol(us){return!(!us||us.nodeType!==1&&us.nodeType!==9&&us.nodeType!==11&&(us.nodeType!==8||us.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(us,is,cs,lo,co){if(co){if(typeof lo=="function"){var hs=lo;lo=function(){var $a=gl(uo);hs.call($a)}}var uo=el(is,lo,us,0,null,!1,!1,"",pl);return us._reactRootContainer=uo,us[uf]=uo.current,sf(us.nodeType===8?us.parentNode:us),Rk(),uo}for(;co=us.lastChild;)us.removeChild(co);if(typeof lo=="function"){var xa=lo;lo=function(){var $a=gl(ba);xa.call($a)}}var ba=bl(us,0,!1,null,null,!1,!1,"",pl);return us._reactRootContainer=ba,us[uf]=ba.current,sf(us.nodeType===8?us.parentNode:us),Rk(function(){fl(is,ba,cs,lo)}),ba}function rl(us,is,cs,lo,co){var hs=cs._reactRootContainer;if(hs){var uo=hs;if(typeof co=="function"){var xa=co;co=function(){var ba=gl(uo);xa.call(ba)}}fl(is,uo,us,co)}else uo=ql(cs,is,us,co,lo);return gl(uo)}Ec=function(us){switch(us.tag){case 3:var is=us.stateNode;if(is.current.memoizedState.isDehydrated){var cs=tc(is.pendingLanes);cs!==0&&(Cc(is,cs|1),Dk(is,B$2()),!(K$1&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var lo=ih(us,1);if(lo!==null){var co=R$1();gi$1(lo,us,1,co)}}),il(us,1)}};Fc=function(us){if(us.tag===13){var is=ih(us,134217728);if(is!==null){var cs=R$1();gi$1(is,us,134217728,cs)}il(us,134217728)}};Gc=function(us){if(us.tag===13){var is=yi$1(us),cs=ih(us,is);if(cs!==null){var lo=R$1();gi$1(cs,us,is,lo)}il(us,is)}};Hc=function(){return C$1};Ic=function(us,is){var cs=C$1;try{return C$1=us,is()}finally{C$1=cs}};yb=function(us,is,cs){switch(is){case"input":if(bb(us,cs),is=cs.name,cs.type==="radio"&&is!=null){for(cs=us;cs.parentNode;)cs=cs.parentNode;for(cs=cs.querySelectorAll("input[name="+JSON.stringify(""+is)+'][type="radio"]'),is=0;is<cs.length;is++){var lo=cs[is];if(lo!==us&&lo.form===us.form){var co=Db(lo);if(!co)throw Error(p$1(90));Wa$1(lo),bb(lo,co)}}}break;case"textarea":ib(us,cs);break;case"select":is=cs.value,is!=null&&fb(us,!!cs.multiple,is,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(us){return us=Zb(us),us===null?null:us.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(us,is){var cs=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(is))throw Error(p$1(200));return cl(us,is,null,cs)};reactDom_production_min.createRoot=function(us,is){if(!nl(us))throw Error(p$1(299));var cs=!1,lo="",co=kl;return is!=null&&(is.unstable_strictMode===!0&&(cs=!0),is.identifierPrefix!==void 0&&(lo=is.identifierPrefix),is.onRecoverableError!==void 0&&(co=is.onRecoverableError)),is=bl(us,1,!1,null,null,cs,!1,lo,co),us[uf]=is.current,sf(us.nodeType===8?us.parentNode:us),new ll(is)};reactDom_production_min.findDOMNode=function(us){if(us==null)return null;if(us.nodeType===1)return us;var is=us._reactInternals;if(is===void 0)throw typeof us.render=="function"?Error(p$1(188)):(us=Object.keys(us).join(","),Error(p$1(268,us)));return us=Zb(is),us=us===null?null:us.stateNode,us};reactDom_production_min.flushSync=function(us){return Rk(us)};reactDom_production_min.hydrate=function(us,is,cs){if(!ol(is))throw Error(p$1(200));return rl(null,us,is,!0,cs)};reactDom_production_min.hydrateRoot=function(us,is,cs){if(!nl(us))throw Error(p$1(405));var lo=cs!=null&&cs.hydratedSources||null,co=!1,hs="",uo=kl;if(cs!=null&&(cs.unstable_strictMode===!0&&(co=!0),cs.identifierPrefix!==void 0&&(hs=cs.identifierPrefix),cs.onRecoverableError!==void 0&&(uo=cs.onRecoverableError)),is=el(is,null,us,1,cs??null,co,!1,hs,uo),us[uf]=is.current,sf(us),lo)for(us=0;us<lo.length;us++)cs=lo[us],co=cs._getVersion,co=co(cs._source),is.mutableSourceEagerHydrationData==null?is.mutableSourceEagerHydrationData=[cs,co]:is.mutableSourceEagerHydrationData.push(cs,co);return new ml(is)};reactDom_production_min.render=function(us,is,cs){if(!ol(is))throw Error(p$1(200));return rl(null,us,is,!1,cs)};reactDom_production_min.unmountComponentAtNode=function(us){if(!ol(us))throw Error(p$1(40));return us._reactRootContainer?(Rk(function(){rl(null,null,us,!1,function(){us._reactRootContainer=null,us[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(us,is,cs,lo){if(!ol(cs))throw Error(p$1(200));if(us==null||us._reactInternals===void 0)throw Error(p$1(38));return rl(us,is,cs,!1,lo)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(us){console.error(us)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;function getDefaultExportFromCjs(us){return us&&us.__esModule&&Object.prototype.hasOwnProperty.call(us,"default")?us.default:us}var browser$2={exports:{}},process=browser$2.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(us){if(cachedSetTimeout===setTimeout)return setTimeout(us,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(us,0);try{return cachedSetTimeout(us,0)}catch{try{return cachedSetTimeout.call(null,us,0)}catch{return cachedSetTimeout.call(this,us,0)}}}function runClearTimeout(us){if(cachedClearTimeout===clearTimeout)return clearTimeout(us);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(us);try{return cachedClearTimeout(us)}catch{try{return cachedClearTimeout.call(null,us)}catch{return cachedClearTimeout.call(this,us)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var us=runTimeout(cleanUpNextTick);draining=!0;for(var is=queue.length;is;){for(currentQueue=queue,queue=[];++queueIndex<is;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,is=queue.length}currentQueue=null,draining=!1,runClearTimeout(us)}}process.nextTick=function(us){var is=new Array(arguments.length-1);if(arguments.length>1)for(var cs=1;cs<arguments.length;cs++)is[cs-1]=arguments[cs];queue.push(new Item(us,is)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(us,is){this.fun=us,this.array=is}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$3(){}process.on=noop$3;process.addListener=noop$3;process.once=noop$3;process.off=noop$3;process.removeListener=noop$3;process.removeAllListeners=noop$3;process.emit=noop$3;process.prependListener=noop$3;process.prependOnceListener=noop$3;process.listeners=function(us){return[]};process.binding=function(us){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(us){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$2.exports;const process$1=getDefaultExportFromCjs(browserExports);var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len$2=code.length;i$3<len$2;++i$3)lookup$2[i$3]=code[i$3],revLookup[code.charCodeAt(i$3)]=i$3;revLookup[45]=62;revLookup[95]=63;function getLens(us){var is=us.length;if(is%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var cs=us.indexOf("=");cs===-1&&(cs=is);var lo=cs===is?0:4-cs%4;return[cs,lo]}function byteLength(us){var is=getLens(us),cs=is[0],lo=is[1];return(cs+lo)*3/4-lo}function _byteLength(us,is,cs){return(is+cs)*3/4-cs}function toByteArray(us){var is,cs=getLens(us),lo=cs[0],co=cs[1],hs=new Arr(_byteLength(us,lo,co)),uo=0,xa=co>0?lo-4:lo,ba;for(ba=0;ba<xa;ba+=4)is=revLookup[us.charCodeAt(ba)]<<18|revLookup[us.charCodeAt(ba+1)]<<12|revLookup[us.charCodeAt(ba+2)]<<6|revLookup[us.charCodeAt(ba+3)],hs[uo++]=is>>16&255,hs[uo++]=is>>8&255,hs[uo++]=is&255;return co===2&&(is=revLookup[us.charCodeAt(ba)]<<2|revLookup[us.charCodeAt(ba+1)]>>4,hs[uo++]=is&255),co===1&&(is=revLookup[us.charCodeAt(ba)]<<10|revLookup[us.charCodeAt(ba+1)]<<4|revLookup[us.charCodeAt(ba+2)]>>2,hs[uo++]=is>>8&255,hs[uo++]=is&255),hs}function tripletToBase64(us){return lookup$2[us>>18&63]+lookup$2[us>>12&63]+lookup$2[us>>6&63]+lookup$2[us&63]}function encodeChunk(us,is,cs){for(var lo,co=[],hs=is;hs<cs;hs+=3)lo=(us[hs]<<16&16711680)+(us[hs+1]<<8&65280)+(us[hs+2]&255),co.push(tripletToBase64(lo));return co.join("")}function fromByteArray(us){for(var is,cs=us.length,lo=cs%3,co=[],hs=16383,uo=0,xa=cs-lo;uo<xa;uo+=hs)co.push(encodeChunk(us,uo,uo+hs>xa?xa:uo+hs));return lo===1?(is=us[cs-1],co.push(lookup$2[is>>2]+lookup$2[is<<4&63]+"==")):lo===2&&(is=(us[cs-2]<<8)+us[cs-1],co.push(lookup$2[is>>10]+lookup$2[is>>4&63]+lookup$2[is<<2&63]+"=")),co.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(us,is,cs,lo,co){var hs,uo,xa=co*8-lo-1,ba=(1<<xa)-1,$a=ba>>1,wl=-7,Sl=cs?co-1:0,Cl=cs?-1:1,_l=us[is+Sl];for(Sl+=Cl,hs=_l&(1<<-wl)-1,_l>>=-wl,wl+=xa;wl>0;hs=hs*256+us[is+Sl],Sl+=Cl,wl-=8);for(uo=hs&(1<<-wl)-1,hs>>=-wl,wl+=lo;wl>0;uo=uo*256+us[is+Sl],Sl+=Cl,wl-=8);if(hs===0)hs=1-$a;else{if(hs===ba)return uo?NaN:(_l?-1:1)*(1/0);uo=uo+Math.pow(2,lo),hs=hs-$a}return(_l?-1:1)*uo*Math.pow(2,hs-lo)};ieee754.write=function(us,is,cs,lo,co,hs){var uo,xa,ba,$a=hs*8-co-1,wl=(1<<$a)-1,Sl=wl>>1,Cl=co===23?Math.pow(2,-24)-Math.pow(2,-77):0,_l=lo?0:hs-1,Il=lo?1:-1,Fl=is<0||is===0&&1/is<0?1:0;for(is=Math.abs(is),isNaN(is)||is===1/0?(xa=isNaN(is)?1:0,uo=wl):(uo=Math.floor(Math.log(is)/Math.LN2),is*(ba=Math.pow(2,-uo))<1&&(uo--,ba*=2),uo+Sl>=1?is+=Cl/ba:is+=Cl*Math.pow(2,1-Sl),is*ba>=2&&(uo++,ba/=2),uo+Sl>=wl?(xa=0,uo=wl):uo+Sl>=1?(xa=(is*ba-1)*Math.pow(2,co),uo=uo+Sl):(xa=is*Math.pow(2,Sl-1)*Math.pow(2,co),uo=0));co>=8;us[cs+_l]=xa&255,_l+=Il,xa/=256,co-=8);for(uo=uo<<co|xa,$a+=co;$a>0;us[cs+_l]=uo&255,_l+=Il,uo/=256,$a-=8);us[cs+_l-Il]|=Fl*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(us){const is=base64Js,cs=ieee754,lo=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;us.Buffer=wl,us.SlowBuffer=Nl,us.INSPECT_MAX_BYTES=50;const co=2147483647;us.kMaxLength=co;const{Uint8Array:hs,ArrayBuffer:uo,SharedArrayBuffer:xa}=globalThis;wl.TYPED_ARRAY_SUPPORT=ba(),!wl.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ba(){try{const hu=new hs(1),Zl={foo:function(){return 42}};return Object.setPrototypeOf(Zl,hs.prototype),Object.setPrototypeOf(hu,Zl),hu.foo()===42}catch{return!1}}Object.defineProperty(wl.prototype,"parent",{enumerable:!0,get:function(){if(wl.isBuffer(this))return this.buffer}}),Object.defineProperty(wl.prototype,"offset",{enumerable:!0,get:function(){if(wl.isBuffer(this))return this.byteOffset}});function $a(hu){if(hu>co)throw new RangeError('The value "'+hu+'" is invalid for option "size"');const Zl=new hs(hu);return Object.setPrototypeOf(Zl,wl.prototype),Zl}function wl(hu,Zl,eu){if(typeof hu=="number"){if(typeof Zl=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Il(hu)}return Sl(hu,Zl,eu)}wl.poolSize=8192;function Sl(hu,Zl,eu){if(typeof hu=="string")return Fl(hu,Zl);if(uo.isView(hu))return Tl(hu);if(hu==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof hu);if(Lu(hu,uo)||hu&&Lu(hu.buffer,uo)||typeof xa<"u"&&(Lu(hu,xa)||hu&&Lu(hu.buffer,xa)))return Dl(hu,Zl,eu);if(typeof hu=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Nu=hu.valueOf&&hu.valueOf();if(Nu!=null&&Nu!==hu)return wl.from(Nu,Zl,eu);const Zu=Bl(hu);if(Zu)return Zu;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof hu[Symbol.toPrimitive]=="function")return wl.from(hu[Symbol.toPrimitive]("string"),Zl,eu);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof hu)}wl.from=function(hu,Zl,eu){return Sl(hu,Zl,eu)},Object.setPrototypeOf(wl.prototype,hs.prototype),Object.setPrototypeOf(wl,hs);function Cl(hu){if(typeof hu!="number")throw new TypeError('"size" argument must be of type number');if(hu<0)throw new RangeError('The value "'+hu+'" is invalid for option "size"')}function _l(hu,Zl,eu){return Cl(hu),hu<=0?$a(hu):Zl!==void 0?typeof eu=="string"?$a(hu).fill(Zl,eu):$a(hu).fill(Zl):$a(hu)}wl.alloc=function(hu,Zl,eu){return _l(hu,Zl,eu)};function Il(hu){return Cl(hu),$a(hu<0?0:Ll(hu)|0)}wl.allocUnsafe=function(hu){return Il(hu)},wl.allocUnsafeSlow=function(hu){return Il(hu)};function Fl(hu,Zl){if((typeof Zl!="string"||Zl==="")&&(Zl="utf8"),!wl.isEncoding(Zl))throw new TypeError("Unknown encoding: "+Zl);const eu=zl(hu,Zl)|0;let Nu=$a(eu);const Zu=Nu.write(hu,Zl);return Zu!==eu&&(Nu=Nu.slice(0,Zu)),Nu}function Ml(hu){const Zl=hu.length<0?0:Ll(hu.length)|0,eu=$a(Zl);for(let Nu=0;Nu<Zl;Nu+=1)eu[Nu]=hu[Nu]&255;return eu}function Tl(hu){if(Lu(hu,hs)){const Zl=new hs(hu);return Dl(Zl.buffer,Zl.byteOffset,Zl.byteLength)}return Ml(hu)}function Dl(hu,Zl,eu){if(Zl<0||hu.byteLength<Zl)throw new RangeError('"offset" is outside of buffer bounds');if(hu.byteLength<Zl+(eu||0))throw new RangeError('"length" is outside of buffer bounds');let Nu;return Zl===void 0&&eu===void 0?Nu=new hs(hu):eu===void 0?Nu=new hs(hu,Zl):Nu=new hs(hu,Zl,eu),Object.setPrototypeOf(Nu,wl.prototype),Nu}function Bl(hu){if(wl.isBuffer(hu)){const Zl=Ll(hu.length)|0,eu=$a(Zl);return eu.length===0||hu.copy(eu,0,0,Zl),eu}if(hu.length!==void 0)return typeof hu.length!="number"||up(hu.length)?$a(0):Ml(hu);if(hu.type==="Buffer"&&Array.isArray(hu.data))return Ml(hu.data)}function Ll(hu){if(hu>=co)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+co.toString(16)+" bytes");return hu|0}function Nl(hu){return+hu!=hu&&(hu=0),wl.alloc(+hu)}wl.isBuffer=function(Zl){return Zl!=null&&Zl._isBuffer===!0&&Zl!==wl.prototype},wl.compare=function(Zl,eu){if(Lu(Zl,hs)&&(Zl=wl.from(Zl,Zl.offset,Zl.byteLength)),Lu(eu,hs)&&(eu=wl.from(eu,eu.offset,eu.byteLength)),!wl.isBuffer(Zl)||!wl.isBuffer(eu))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Zl===eu)return 0;let Nu=Zl.length,Zu=eu.length;for(let Vu=0,yu=Math.min(Nu,Zu);Vu<yu;++Vu)if(Zl[Vu]!==eu[Vu]){Nu=Zl[Vu],Zu=eu[Vu];break}return Nu<Zu?-1:Zu<Nu?1:0},wl.isEncoding=function(Zl){switch(String(Zl).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},wl.concat=function(Zl,eu){if(!Array.isArray(Zl))throw new TypeError('"list" argument must be an Array of Buffers');if(Zl.length===0)return wl.alloc(0);let Nu;if(eu===void 0)for(eu=0,Nu=0;Nu<Zl.length;++Nu)eu+=Zl[Nu].length;const Zu=wl.allocUnsafe(eu);let Vu=0;for(Nu=0;Nu<Zl.length;++Nu){let yu=Zl[Nu];if(Lu(yu,hs))Vu+yu.length>Zu.length?(wl.isBuffer(yu)||(yu=wl.from(yu)),yu.copy(Zu,Vu)):hs.prototype.set.call(Zu,yu,Vu);else if(wl.isBuffer(yu))yu.copy(Zu,Vu);else throw new TypeError('"list" argument must be an Array of Buffers');Vu+=yu.length}return Zu};function zl(hu,Zl){if(wl.isBuffer(hu))return hu.length;if(uo.isView(hu)||Lu(hu,uo))return hu.byteLength;if(typeof hu!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof hu);const eu=hu.length,Nu=arguments.length>2&&arguments[2]===!0;if(!Nu&&eu===0)return 0;let Zu=!1;for(;;)switch(Zl){case"ascii":case"latin1":case"binary":return eu;case"utf8":case"utf-8":return Ou(hu).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eu*2;case"hex":return eu>>>1;case"base64":return np(hu).length;default:if(Zu)return Nu?-1:Ou(hu).length;Zl=(""+Zl).toLowerCase(),Zu=!0}}wl.byteLength=zl;function $l(hu,Zl,eu){let Nu=!1;if((Zl===void 0||Zl<0)&&(Zl=0),Zl>this.length||((eu===void 0||eu>this.length)&&(eu=this.length),eu<=0)||(eu>>>=0,Zl>>>=0,eu<=Zl))return"";for(hu||(hu="utf8");;)switch(hu){case"hex":return ru(this,Zl,eu);case"utf8":case"utf-8":return qu(this,Zl,eu);case"ascii":return uu(this,Zl,eu);case"latin1":case"binary":return cu(this,Zl,eu);case"base64":return Wu(this,Zl,eu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yl(this,Zl,eu);default:if(Nu)throw new TypeError("Unknown encoding: "+hu);hu=(hu+"").toLowerCase(),Nu=!0}}wl.prototype._isBuffer=!0;function Vl(hu,Zl,eu){const Nu=hu[Zl];hu[Zl]=hu[eu],hu[eu]=Nu}wl.prototype.swap16=function(){const Zl=this.length;if(Zl%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let eu=0;eu<Zl;eu+=2)Vl(this,eu,eu+1);return this},wl.prototype.swap32=function(){const Zl=this.length;if(Zl%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let eu=0;eu<Zl;eu+=4)Vl(this,eu,eu+3),Vl(this,eu+1,eu+2);return this},wl.prototype.swap64=function(){const Zl=this.length;if(Zl%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let eu=0;eu<Zl;eu+=8)Vl(this,eu,eu+7),Vl(this,eu+1,eu+6),Vl(this,eu+2,eu+5),Vl(this,eu+3,eu+4);return this},wl.prototype.toString=function(){const Zl=this.length;return Zl===0?"":arguments.length===0?qu(this,0,Zl):$l.apply(this,arguments)},wl.prototype.toLocaleString=wl.prototype.toString,wl.prototype.equals=function(Zl){if(!wl.isBuffer(Zl))throw new TypeError("Argument must be a Buffer");return this===Zl?!0:wl.compare(this,Zl)===0},wl.prototype.inspect=function(){let Zl="";const eu=us.INSPECT_MAX_BYTES;return Zl=this.toString("hex",0,eu).replace(/(.{2})/g,"$1 ").trim(),this.length>eu&&(Zl+=" ... "),"<Buffer "+Zl+">"},lo&&(wl.prototype[lo]=wl.prototype.inspect),wl.prototype.compare=function(Zl,eu,Nu,Zu,Vu){if(Lu(Zl,hs)&&(Zl=wl.from(Zl,Zl.offset,Zl.byteLength)),!wl.isBuffer(Zl))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Zl);if(eu===void 0&&(eu=0),Nu===void 0&&(Nu=Zl?Zl.length:0),Zu===void 0&&(Zu=0),Vu===void 0&&(Vu=this.length),eu<0||Nu>Zl.length||Zu<0||Vu>this.length)throw new RangeError("out of range index");if(Zu>=Vu&&eu>=Nu)return 0;if(Zu>=Vu)return-1;if(eu>=Nu)return 1;if(eu>>>=0,Nu>>>=0,Zu>>>=0,Vu>>>=0,this===Zl)return 0;let yu=Vu-Zu,Hu=Nu-eu;const Sp=Math.min(yu,Hu),Np=this.slice(Zu,Vu),Lp=Zl.slice(eu,Nu);for(let Ku=0;Ku<Sp;++Ku)if(Np[Ku]!==Lp[Ku]){yu=Np[Ku],Hu=Lp[Ku];break}return yu<Hu?-1:Hu<yu?1:0};function Gl(hu,Zl,eu,Nu,Zu){if(hu.length===0)return-1;if(typeof eu=="string"?(Nu=eu,eu=0):eu>2147483647?eu=2147483647:eu<-2147483648&&(eu=-2147483648),eu=+eu,up(eu)&&(eu=Zu?0:hu.length-1),eu<0&&(eu=hu.length+eu),eu>=hu.length){if(Zu)return-1;eu=hu.length-1}else if(eu<0)if(Zu)eu=0;else return-1;if(typeof Zl=="string"&&(Zl=wl.from(Zl,Nu)),wl.isBuffer(Zl))return Zl.length===0?-1:iu(hu,Zl,eu,Nu,Zu);if(typeof Zl=="number")return Zl=Zl&255,typeof hs.prototype.indexOf=="function"?Zu?hs.prototype.indexOf.call(hu,Zl,eu):hs.prototype.lastIndexOf.call(hu,Zl,eu):iu(hu,[Zl],eu,Nu,Zu);throw new TypeError("val must be string, number or Buffer")}function iu(hu,Zl,eu,Nu,Zu){let Vu=1,yu=hu.length,Hu=Zl.length;if(Nu!==void 0&&(Nu=String(Nu).toLowerCase(),Nu==="ucs2"||Nu==="ucs-2"||Nu==="utf16le"||Nu==="utf-16le")){if(hu.length<2||Zl.length<2)return-1;Vu=2,yu/=2,Hu/=2,eu/=2}function Sp(Lp,Ku){return Vu===1?Lp[Ku]:Lp.readUInt16BE(Ku*Vu)}let Np;if(Zu){let Lp=-1;for(Np=eu;Np<yu;Np++)if(Sp(hu,Np)===Sp(Zl,Lp===-1?0:Np-Lp)){if(Lp===-1&&(Lp=Np),Np-Lp+1===Hu)return Lp*Vu}else Lp!==-1&&(Np-=Np-Lp),Lp=-1}else for(eu+Hu>yu&&(eu=yu-Hu),Np=eu;Np>=0;Np--){let Lp=!0;for(let Ku=0;Ku<Hu;Ku++)if(Sp(hu,Np+Ku)!==Sp(Zl,Ku)){Lp=!1;break}if(Lp)return Np}return-1}wl.prototype.includes=function(Zl,eu,Nu){return this.indexOf(Zl,eu,Nu)!==-1},wl.prototype.indexOf=function(Zl,eu,Nu){return Gl(this,Zl,eu,Nu,!0)},wl.prototype.lastIndexOf=function(Zl,eu,Nu){return Gl(this,Zl,eu,Nu,!1)};function nu(hu,Zl,eu,Nu){eu=Number(eu)||0;const Zu=hu.length-eu;Nu?(Nu=Number(Nu),Nu>Zu&&(Nu=Zu)):Nu=Zu;const Vu=Zl.length;Nu>Vu/2&&(Nu=Vu/2);let yu;for(yu=0;yu<Nu;++yu){const Hu=parseInt(Zl.substr(yu*2,2),16);if(up(Hu))return yu;hu[eu+yu]=Hu}return yu}function Jl(hu,Zl,eu,Nu){return Eu(Ou(Zl,hu.length-eu),hu,eu,Nu)}function lu(hu,Zl,eu,Nu){return Eu(ip(Zl),hu,eu,Nu)}function ju(hu,Zl,eu,Nu){return Eu(np(Zl),hu,eu,Nu)}function zu(hu,Zl,eu,Nu){return Eu($u(Zl,hu.length-eu),hu,eu,Nu)}wl.prototype.write=function(Zl,eu,Nu,Zu){if(eu===void 0)Zu="utf8",Nu=this.length,eu=0;else if(Nu===void 0&&typeof eu=="string")Zu=eu,Nu=this.length,eu=0;else if(isFinite(eu))eu=eu>>>0,isFinite(Nu)?(Nu=Nu>>>0,Zu===void 0&&(Zu="utf8")):(Zu=Nu,Nu=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Vu=this.length-eu;if((Nu===void 0||Nu>Vu)&&(Nu=Vu),Zl.length>0&&(Nu<0||eu<0)||eu>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zu||(Zu="utf8");let yu=!1;for(;;)switch(Zu){case"hex":return nu(this,Zl,eu,Nu);case"utf8":case"utf-8":return Jl(this,Zl,eu,Nu);case"ascii":case"latin1":case"binary":return lu(this,Zl,eu,Nu);case"base64":return ju(this,Zl,eu,Nu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zu(this,Zl,eu,Nu);default:if(yu)throw new TypeError("Unknown encoding: "+Zu);Zu=(""+Zu).toLowerCase(),yu=!0}},wl.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Wu(hu,Zl,eu){return Zl===0&&eu===hu.length?is.fromByteArray(hu):is.fromByteArray(hu.slice(Zl,eu))}function qu(hu,Zl,eu){eu=Math.min(hu.length,eu);const Nu=[];let Zu=Zl;for(;Zu<eu;){const Vu=hu[Zu];let yu=null,Hu=Vu>239?4:Vu>223?3:Vu>191?2:1;if(Zu+Hu<=eu){let Sp,Np,Lp,Ku;switch(Hu){case 1:Vu<128&&(yu=Vu);break;case 2:Sp=hu[Zu+1],(Sp&192)===128&&(Ku=(Vu&31)<<6|Sp&63,Ku>127&&(yu=Ku));break;case 3:Sp=hu[Zu+1],Np=hu[Zu+2],(Sp&192)===128&&(Np&192)===128&&(Ku=(Vu&15)<<12|(Sp&63)<<6|Np&63,Ku>2047&&(Ku<55296||Ku>57343)&&(yu=Ku));break;case 4:Sp=hu[Zu+1],Np=hu[Zu+2],Lp=hu[Zu+3],(Sp&192)===128&&(Np&192)===128&&(Lp&192)===128&&(Ku=(Vu&15)<<18|(Sp&63)<<12|(Np&63)<<6|Lp&63,Ku>65535&&Ku<1114112&&(yu=Ku))}}yu===null?(yu=65533,Hu=1):yu>65535&&(yu-=65536,Nu.push(yu>>>10&1023|55296),yu=56320|yu&1023),Nu.push(yu),Zu+=Hu}return mu(Nu)}const Mu=4096;function mu(hu){const Zl=hu.length;if(Zl<=Mu)return String.fromCharCode.apply(String,hu);let eu="",Nu=0;for(;Nu<Zl;)eu+=String.fromCharCode.apply(String,hu.slice(Nu,Nu+=Mu));return eu}function uu(hu,Zl,eu){let Nu="";eu=Math.min(hu.length,eu);for(let Zu=Zl;Zu<eu;++Zu)Nu+=String.fromCharCode(hu[Zu]&127);return Nu}function cu(hu,Zl,eu){let Nu="";eu=Math.min(hu.length,eu);for(let Zu=Zl;Zu<eu;++Zu)Nu+=String.fromCharCode(hu[Zu]);return Nu}function ru(hu,Zl,eu){const Nu=hu.length;(!Zl||Zl<0)&&(Zl=0),(!eu||eu<0||eu>Nu)&&(eu=Nu);let Zu="";for(let Vu=Zl;Vu<eu;++Vu)Zu+=mp[hu[Vu]];return Zu}function Yl(hu,Zl,eu){const Nu=hu.slice(Zl,eu);let Zu="";for(let Vu=0;Vu<Nu.length-1;Vu+=2)Zu+=String.fromCharCode(Nu[Vu]+Nu[Vu+1]*256);return Zu}wl.prototype.slice=function(Zl,eu){const Nu=this.length;Zl=~~Zl,eu=eu===void 0?Nu:~~eu,Zl<0?(Zl+=Nu,Zl<0&&(Zl=0)):Zl>Nu&&(Zl=Nu),eu<0?(eu+=Nu,eu<0&&(eu=0)):eu>Nu&&(eu=Nu),eu<Zl&&(eu=Zl);const Zu=this.subarray(Zl,eu);return Object.setPrototypeOf(Zu,wl.prototype),Zu};function Hl(hu,Zl,eu){if(hu%1!==0||hu<0)throw new RangeError("offset is not uint");if(hu+Zl>eu)throw new RangeError("Trying to access beyond buffer length")}wl.prototype.readUintLE=wl.prototype.readUIntLE=function(Zl,eu,Nu){Zl=Zl>>>0,eu=eu>>>0,Nu||Hl(Zl,eu,this.length);let Zu=this[Zl],Vu=1,yu=0;for(;++yu<eu&&(Vu*=256);)Zu+=this[Zl+yu]*Vu;return Zu},wl.prototype.readUintBE=wl.prototype.readUIntBE=function(Zl,eu,Nu){Zl=Zl>>>0,eu=eu>>>0,Nu||Hl(Zl,eu,this.length);let Zu=this[Zl+--eu],Vu=1;for(;eu>0&&(Vu*=256);)Zu+=this[Zl+--eu]*Vu;return Zu},wl.prototype.readUint8=wl.prototype.readUInt8=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,1,this.length),this[Zl]},wl.prototype.readUint16LE=wl.prototype.readUInt16LE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,2,this.length),this[Zl]|this[Zl+1]<<8},wl.prototype.readUint16BE=wl.prototype.readUInt16BE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,2,this.length),this[Zl]<<8|this[Zl+1]},wl.prototype.readUint32LE=wl.prototype.readUInt32LE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,4,this.length),(this[Zl]|this[Zl+1]<<8|this[Zl+2]<<16)+this[Zl+3]*16777216},wl.prototype.readUint32BE=wl.prototype.readUInt32BE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,4,this.length),this[Zl]*16777216+(this[Zl+1]<<16|this[Zl+2]<<8|this[Zl+3])},wl.prototype.readBigUInt64LE=Rp(function(Zl){Zl=Zl>>>0,Gu(Zl,"offset");const eu=this[Zl],Nu=this[Zl+7];(eu===void 0||Nu===void 0)&&Uu(Zl,this.length-8);const Zu=eu+this[++Zl]*2**8+this[++Zl]*2**16+this[++Zl]*2**24,Vu=this[++Zl]+this[++Zl]*2**8+this[++Zl]*2**16+Nu*2**24;return BigInt(Zu)+(BigInt(Vu)<<BigInt(32))}),wl.prototype.readBigUInt64BE=Rp(function(Zl){Zl=Zl>>>0,Gu(Zl,"offset");const eu=this[Zl],Nu=this[Zl+7];(eu===void 0||Nu===void 0)&&Uu(Zl,this.length-8);const Zu=eu*2**24+this[++Zl]*2**16+this[++Zl]*2**8+this[++Zl],Vu=this[++Zl]*2**24+this[++Zl]*2**16+this[++Zl]*2**8+Nu;return(BigInt(Zu)<<BigInt(32))+BigInt(Vu)}),wl.prototype.readIntLE=function(Zl,eu,Nu){Zl=Zl>>>0,eu=eu>>>0,Nu||Hl(Zl,eu,this.length);let Zu=this[Zl],Vu=1,yu=0;for(;++yu<eu&&(Vu*=256);)Zu+=this[Zl+yu]*Vu;return Vu*=128,Zu>=Vu&&(Zu-=Math.pow(2,8*eu)),Zu},wl.prototype.readIntBE=function(Zl,eu,Nu){Zl=Zl>>>0,eu=eu>>>0,Nu||Hl(Zl,eu,this.length);let Zu=eu,Vu=1,yu=this[Zl+--Zu];for(;Zu>0&&(Vu*=256);)yu+=this[Zl+--Zu]*Vu;return Vu*=128,yu>=Vu&&(yu-=Math.pow(2,8*eu)),yu},wl.prototype.readInt8=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,1,this.length),this[Zl]&128?(255-this[Zl]+1)*-1:this[Zl]},wl.prototype.readInt16LE=function(Zl,eu){Zl=Zl>>>0,eu||Hl(Zl,2,this.length);const Nu=this[Zl]|this[Zl+1]<<8;return Nu&32768?Nu|4294901760:Nu},wl.prototype.readInt16BE=function(Zl,eu){Zl=Zl>>>0,eu||Hl(Zl,2,this.length);const Nu=this[Zl+1]|this[Zl]<<8;return Nu&32768?Nu|4294901760:Nu},wl.prototype.readInt32LE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,4,this.length),this[Zl]|this[Zl+1]<<8|this[Zl+2]<<16|this[Zl+3]<<24},wl.prototype.readInt32BE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,4,this.length),this[Zl]<<24|this[Zl+1]<<16|this[Zl+2]<<8|this[Zl+3]},wl.prototype.readBigInt64LE=Rp(function(Zl){Zl=Zl>>>0,Gu(Zl,"offset");const eu=this[Zl],Nu=this[Zl+7];(eu===void 0||Nu===void 0)&&Uu(Zl,this.length-8);const Zu=this[Zl+4]+this[Zl+5]*2**8+this[Zl+6]*2**16+(Nu<<24);return(BigInt(Zu)<<BigInt(32))+BigInt(eu+this[++Zl]*2**8+this[++Zl]*2**16+this[++Zl]*2**24)}),wl.prototype.readBigInt64BE=Rp(function(Zl){Zl=Zl>>>0,Gu(Zl,"offset");const eu=this[Zl],Nu=this[Zl+7];(eu===void 0||Nu===void 0)&&Uu(Zl,this.length-8);const Zu=(eu<<24)+this[++Zl]*2**16+this[++Zl]*2**8+this[++Zl];return(BigInt(Zu)<<BigInt(32))+BigInt(this[++Zl]*2**24+this[++Zl]*2**16+this[++Zl]*2**8+Nu)}),wl.prototype.readFloatLE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,4,this.length),cs.read(this,Zl,!0,23,4)},wl.prototype.readFloatBE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,4,this.length),cs.read(this,Zl,!1,23,4)},wl.prototype.readDoubleLE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,8,this.length),cs.read(this,Zl,!0,52,8)},wl.prototype.readDoubleBE=function(Zl,eu){return Zl=Zl>>>0,eu||Hl(Zl,8,this.length),cs.read(this,Zl,!1,52,8)};function Kl(hu,Zl,eu,Nu,Zu,Vu){if(!wl.isBuffer(hu))throw new TypeError('"buffer" argument must be a Buffer instance');if(Zl>Zu||Zl<Vu)throw new RangeError('"value" argument is out of bounds');if(eu+Nu>hu.length)throw new RangeError("Index out of range")}wl.prototype.writeUintLE=wl.prototype.writeUIntLE=function(Zl,eu,Nu,Zu){if(Zl=+Zl,eu=eu>>>0,Nu=Nu>>>0,!Zu){const Hu=Math.pow(2,8*Nu)-1;Kl(this,Zl,eu,Nu,Hu,0)}let Vu=1,yu=0;for(this[eu]=Zl&255;++yu<Nu&&(Vu*=256);)this[eu+yu]=Zl/Vu&255;return eu+Nu},wl.prototype.writeUintBE=wl.prototype.writeUIntBE=function(Zl,eu,Nu,Zu){if(Zl=+Zl,eu=eu>>>0,Nu=Nu>>>0,!Zu){const Hu=Math.pow(2,8*Nu)-1;Kl(this,Zl,eu,Nu,Hu,0)}let Vu=Nu-1,yu=1;for(this[eu+Vu]=Zl&255;--Vu>=0&&(yu*=256);)this[eu+Vu]=Zl/yu&255;return eu+Nu},wl.prototype.writeUint8=wl.prototype.writeUInt8=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,1,255,0),this[eu]=Zl&255,eu+1},wl.prototype.writeUint16LE=wl.prototype.writeUInt16LE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,2,65535,0),this[eu]=Zl&255,this[eu+1]=Zl>>>8,eu+2},wl.prototype.writeUint16BE=wl.prototype.writeUInt16BE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,2,65535,0),this[eu]=Zl>>>8,this[eu+1]=Zl&255,eu+2},wl.prototype.writeUint32LE=wl.prototype.writeUInt32LE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,4,4294967295,0),this[eu+3]=Zl>>>24,this[eu+2]=Zl>>>16,this[eu+1]=Zl>>>8,this[eu]=Zl&255,eu+4},wl.prototype.writeUint32BE=wl.prototype.writeUInt32BE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,4,4294967295,0),this[eu]=Zl>>>24,this[eu+1]=Zl>>>16,this[eu+2]=Zl>>>8,this[eu+3]=Zl&255,eu+4};function _c(hu,Zl,eu,Nu,Zu){Xu(Zl,Nu,Zu,hu,eu,7);let Vu=Number(Zl&BigInt(4294967295));hu[eu++]=Vu,Vu=Vu>>8,hu[eu++]=Vu,Vu=Vu>>8,hu[eu++]=Vu,Vu=Vu>>8,hu[eu++]=Vu;let yu=Number(Zl>>BigInt(32)&BigInt(4294967295));return hu[eu++]=yu,yu=yu>>8,hu[eu++]=yu,yu=yu>>8,hu[eu++]=yu,yu=yu>>8,hu[eu++]=yu,eu}function Ql(hu,Zl,eu,Nu,Zu){Xu(Zl,Nu,Zu,hu,eu,7);let Vu=Number(Zl&BigInt(4294967295));hu[eu+7]=Vu,Vu=Vu>>8,hu[eu+6]=Vu,Vu=Vu>>8,hu[eu+5]=Vu,Vu=Vu>>8,hu[eu+4]=Vu;let yu=Number(Zl>>BigInt(32)&BigInt(4294967295));return hu[eu+3]=yu,yu=yu>>8,hu[eu+2]=yu,yu=yu>>8,hu[eu+1]=yu,yu=yu>>8,hu[eu]=yu,eu+8}wl.prototype.writeBigUInt64LE=Rp(function(Zl,eu=0){return _c(this,Zl,eu,BigInt(0),BigInt("0xffffffffffffffff"))}),wl.prototype.writeBigUInt64BE=Rp(function(Zl,eu=0){return Ql(this,Zl,eu,BigInt(0),BigInt("0xffffffffffffffff"))}),wl.prototype.writeIntLE=function(Zl,eu,Nu,Zu){if(Zl=+Zl,eu=eu>>>0,!Zu){const Sp=Math.pow(2,8*Nu-1);Kl(this,Zl,eu,Nu,Sp-1,-Sp)}let Vu=0,yu=1,Hu=0;for(this[eu]=Zl&255;++Vu<Nu&&(yu*=256);)Zl<0&&Hu===0&&this[eu+Vu-1]!==0&&(Hu=1),this[eu+Vu]=(Zl/yu>>0)-Hu&255;return eu+Nu},wl.prototype.writeIntBE=function(Zl,eu,Nu,Zu){if(Zl=+Zl,eu=eu>>>0,!Zu){const Sp=Math.pow(2,8*Nu-1);Kl(this,Zl,eu,Nu,Sp-1,-Sp)}let Vu=Nu-1,yu=1,Hu=0;for(this[eu+Vu]=Zl&255;--Vu>=0&&(yu*=256);)Zl<0&&Hu===0&&this[eu+Vu+1]!==0&&(Hu=1),this[eu+Vu]=(Zl/yu>>0)-Hu&255;return eu+Nu},wl.prototype.writeInt8=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,1,127,-128),Zl<0&&(Zl=255+Zl+1),this[eu]=Zl&255,eu+1},wl.prototype.writeInt16LE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,2,32767,-32768),this[eu]=Zl&255,this[eu+1]=Zl>>>8,eu+2},wl.prototype.writeInt16BE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,2,32767,-32768),this[eu]=Zl>>>8,this[eu+1]=Zl&255,eu+2},wl.prototype.writeInt32LE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,4,2147483647,-2147483648),this[eu]=Zl&255,this[eu+1]=Zl>>>8,this[eu+2]=Zl>>>16,this[eu+3]=Zl>>>24,eu+4},wl.prototype.writeInt32BE=function(Zl,eu,Nu){return Zl=+Zl,eu=eu>>>0,Nu||Kl(this,Zl,eu,4,2147483647,-2147483648),Zl<0&&(Zl=4294967295+Zl+1),this[eu]=Zl>>>24,this[eu+1]=Zl>>>16,this[eu+2]=Zl>>>8,this[eu+3]=Zl&255,eu+4},wl.prototype.writeBigInt64LE=Rp(function(Zl,eu=0){return _c(this,Zl,eu,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),wl.prototype.writeBigInt64BE=Rp(function(Zl,eu=0){return Ql(this,Zl,eu,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function su(hu,Zl,eu,Nu,Zu,Vu){if(eu+Nu>hu.length)throw new RangeError("Index out of range");if(eu<0)throw new RangeError("Index out of range")}function gu(hu,Zl,eu,Nu,Zu){return Zl=+Zl,eu=eu>>>0,Zu||su(hu,Zl,eu,4),cs.write(hu,Zl,eu,Nu,23,4),eu+4}wl.prototype.writeFloatLE=function(Zl,eu,Nu){return gu(this,Zl,eu,!0,Nu)},wl.prototype.writeFloatBE=function(Zl,eu,Nu){return gu(this,Zl,eu,!1,Nu)};function Cu(hu,Zl,eu,Nu,Zu){return Zl=+Zl,eu=eu>>>0,Zu||su(hu,Zl,eu,8),cs.write(hu,Zl,eu,Nu,52,8),eu+8}wl.prototype.writeDoubleLE=function(Zl,eu,Nu){return Cu(this,Zl,eu,!0,Nu)},wl.prototype.writeDoubleBE=function(Zl,eu,Nu){return Cu(this,Zl,eu,!1,Nu)},wl.prototype.copy=function(Zl,eu,Nu,Zu){if(!wl.isBuffer(Zl))throw new TypeError("argument should be a Buffer");if(Nu||(Nu=0),!Zu&&Zu!==0&&(Zu=this.length),eu>=Zl.length&&(eu=Zl.length),eu||(eu=0),Zu>0&&Zu<Nu&&(Zu=Nu),Zu===Nu||Zl.length===0||this.length===0)return 0;if(eu<0)throw new RangeError("targetStart out of bounds");if(Nu<0||Nu>=this.length)throw new RangeError("Index out of range");if(Zu<0)throw new RangeError("sourceEnd out of bounds");Zu>this.length&&(Zu=this.length),Zl.length-eu<Zu-Nu&&(Zu=Zl.length-eu+Nu);const Vu=Zu-Nu;return this===Zl&&typeof hs.prototype.copyWithin=="function"?this.copyWithin(eu,Nu,Zu):hs.prototype.set.call(Zl,this.subarray(Nu,Zu),eu),Vu},wl.prototype.fill=function(Zl,eu,Nu,Zu){if(typeof Zl=="string"){if(typeof eu=="string"?(Zu=eu,eu=0,Nu=this.length):typeof Nu=="string"&&(Zu=Nu,Nu=this.length),Zu!==void 0&&typeof Zu!="string")throw new TypeError("encoding must be a string");if(typeof Zu=="string"&&!wl.isEncoding(Zu))throw new TypeError("Unknown encoding: "+Zu);if(Zl.length===1){const yu=Zl.charCodeAt(0);(Zu==="utf8"&&yu<128||Zu==="latin1")&&(Zl=yu)}}else typeof Zl=="number"?Zl=Zl&255:typeof Zl=="boolean"&&(Zl=Number(Zl));if(eu<0||this.length<eu||this.length<Nu)throw new RangeError("Out of range index");if(Nu<=eu)return this;eu=eu>>>0,Nu=Nu===void 0?this.length:Nu>>>0,Zl||(Zl=0);let Vu;if(typeof Zl=="number")for(Vu=eu;Vu<Nu;++Vu)this[Vu]=Zl;else{const yu=wl.isBuffer(Zl)?Zl:wl.from(Zl,Zu),Hu=yu.length;if(Hu===0)throw new TypeError('The value "'+Zl+'" is invalid for argument "value"');for(Vu=0;Vu<Nu-eu;++Vu)this[Vu+eu]=yu[Vu%Hu]}return this};const vu={};function fu(hu,Zl,eu){vu[hu]=class extends eu{constructor(){super(),Object.defineProperty(this,"message",{value:Zl.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${hu}]`,this.stack,delete this.name}get code(){return hu}set code(Zu){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Zu,writable:!0})}toString(){return`${this.name} [${hu}]: ${this.message}`}}}fu("ERR_BUFFER_OUT_OF_BOUNDS",function(hu){return hu?`${hu} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fu("ERR_INVALID_ARG_TYPE",function(hu,Zl){return`The "${hu}" argument must be of type number. Received type ${typeof Zl}`},TypeError),fu("ERR_OUT_OF_RANGE",function(hu,Zl,eu){let Nu=`The value of "${hu}" is out of range.`,Zu=eu;return Number.isInteger(eu)&&Math.abs(eu)>2**32?Zu=Fu(String(eu)):typeof eu=="bigint"&&(Zu=String(eu),(eu>BigInt(2)**BigInt(32)||eu<-(BigInt(2)**BigInt(32)))&&(Zu=Fu(Zu)),Zu+="n"),Nu+=` It must be ${Zl}. Received ${Zu}`,Nu},RangeError);function Fu(hu){let Zl="",eu=hu.length;const Nu=hu[0]==="-"?1:0;for(;eu>=Nu+4;eu-=3)Zl=`_${hu.slice(eu-3,eu)}${Zl}`;return`${hu.slice(0,eu)}${Zl}`}function _f(hu,Zl,eu){Gu(Zl,"offset"),(hu[Zl]===void 0||hu[Zl+eu]===void 0)&&Uu(Zl,hu.length-(eu+1))}function Xu(hu,Zl,eu,Nu,Zu,Vu){if(hu>eu||hu<Zl){const yu=typeof Zl=="bigint"?"n":"";let Hu;throw Zl===0||Zl===BigInt(0)?Hu=`>= 0${yu} and < 2${yu} ** ${(Vu+1)*8}${yu}`:Hu=`>= -(2${yu} ** ${(Vu+1)*8-1}${yu}) and < 2 ** ${(Vu+1)*8-1}${yu}`,new vu.ERR_OUT_OF_RANGE("value",Hu,hu)}_f(Nu,Zu,Vu)}function Gu(hu,Zl){if(typeof hu!="number")throw new vu.ERR_INVALID_ARG_TYPE(Zl,"number",hu)}function Uu(hu,Zl,eu){throw Math.floor(hu)!==hu?(Gu(hu,eu),new vu.ERR_OUT_OF_RANGE("offset","an integer",hu)):Zl<0?new vu.ERR_BUFFER_OUT_OF_BOUNDS:new vu.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Zl}`,hu)}const Au=/[^+/0-9A-Za-z-_]/g;function Pu(hu){if(hu=hu.split("=")[0],hu=hu.trim().replace(Au,""),hu.length<2)return"";for(;hu.length%4!==0;)hu=hu+"=";return hu}function Ou(hu,Zl){Zl=Zl||1/0;let eu;const Nu=hu.length;let Zu=null;const Vu=[];for(let yu=0;yu<Nu;++yu){if(eu=hu.charCodeAt(yu),eu>55295&&eu<57344){if(!Zu){if(eu>56319){(Zl-=3)>-1&&Vu.push(239,191,189);continue}else if(yu+1===Nu){(Zl-=3)>-1&&Vu.push(239,191,189);continue}Zu=eu;continue}if(eu<56320){(Zl-=3)>-1&&Vu.push(239,191,189),Zu=eu;continue}eu=(Zu-55296<<10|eu-56320)+65536}else Zu&&(Zl-=3)>-1&&Vu.push(239,191,189);if(Zu=null,eu<128){if((Zl-=1)<0)break;Vu.push(eu)}else if(eu<2048){if((Zl-=2)<0)break;Vu.push(eu>>6|192,eu&63|128)}else if(eu<65536){if((Zl-=3)<0)break;Vu.push(eu>>12|224,eu>>6&63|128,eu&63|128)}else if(eu<1114112){if((Zl-=4)<0)break;Vu.push(eu>>18|240,eu>>12&63|128,eu>>6&63|128,eu&63|128)}else throw new Error("Invalid code point")}return Vu}function ip(hu){const Zl=[];for(let eu=0;eu<hu.length;++eu)Zl.push(hu.charCodeAt(eu)&255);return Zl}function $u(hu,Zl){let eu,Nu,Zu;const Vu=[];for(let yu=0;yu<hu.length&&!((Zl-=2)<0);++yu)eu=hu.charCodeAt(yu),Nu=eu>>8,Zu=eu%256,Vu.push(Zu),Vu.push(Nu);return Vu}function np(hu){return is.toByteArray(Pu(hu))}function Eu(hu,Zl,eu,Nu){let Zu;for(Zu=0;Zu<Nu&&!(Zu+eu>=Zl.length||Zu>=hu.length);++Zu)Zl[Zu+eu]=hu[Zu];return Zu}function Lu(hu,Zl){return hu instanceof Zl||hu!=null&&hu.constructor!=null&&hu.constructor.name!=null&&hu.constructor.name===Zl.name}function up(hu){return hu!==hu}const mp=function(){const hu="0123456789abcdef",Zl=new Array(256);for(let eu=0;eu<16;++eu){const Nu=eu*16;for(let Zu=0;Zu<16;++Zu)Zl[Nu+Zu]=hu[eu]+hu[Zu]}return Zl}();function Rp(hu){return typeof BigInt>"u"?kp:hu}function kp(){throw new Error("BigInt not supported")}})(buffer);const Buffer=buffer.Buffer,Blob$1=buffer.Blob,BlobOptions=buffer.BlobOptions,Buffer$1=buffer.Buffer,File$1=buffer.File,FileOptions=buffer.FileOptions,INSPECT_MAX_BYTES=buffer.INSPECT_MAX_BYTES,SlowBuffer=buffer.SlowBuffer,TranscodeEncoding=buffer.TranscodeEncoding,atob$1=buffer.atob,btoa$1=buffer.btoa,constants$2=buffer.constants,isAscii=buffer.isAscii,isUtf8=buffer.isUtf8,kMaxLength=buffer.kMaxLength,kStringMaxLength=buffer.kStringMaxLength,resolveObjectURL=buffer.resolveObjectURL,transcode=buffer.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$2,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));function commonjsRequire(us){throw new Error('Could not dynamically require "'+us+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},empty_1,hasRequiredEmpty;function requireEmpty(){if(hasRequiredEmpty)return empty_1;hasRequiredEmpty=1;var us=null;return empty_1=us,empty_1}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);var url={exports:{}},punycode={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode.exports;var hasRequiredPunycode;function requirePunycode(){return hasRequiredPunycode||(hasRequiredPunycode=1,function(us,is){(function(cs){var lo=is&&!is.nodeType&&is,co=us&&!us.nodeType&&us,hs=typeof globalThis=="object"&&globalThis;(hs.global===hs||hs.window===hs||hs.self===hs)&&(cs=hs);var uo,xa=2147483647,ba=36,$a=1,wl=26,Sl=38,Cl=700,_l=72,Il=128,Fl="-",Ml=/^xn--/,Tl=/[^\x20-\x7E]/,Dl=/[\x2E\u3002\uFF0E\uFF61]/g,Bl={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ll=ba-$a,Nl=Math.floor,zl=String.fromCharCode,$l;function Vl(uu){throw new RangeError(Bl[uu])}function Gl(uu,cu){for(var ru=uu.length,Yl=[];ru--;)Yl[ru]=cu(uu[ru]);return Yl}function iu(uu,cu){var ru=uu.split("@"),Yl="";ru.length>1&&(Yl=ru[0]+"@",uu=ru[1]),uu=uu.replace(Dl,".");var Hl=uu.split("."),Kl=Gl(Hl,cu).join(".");return Yl+Kl}function nu(uu){for(var cu=[],ru=0,Yl=uu.length,Hl,Kl;ru<Yl;)Hl=uu.charCodeAt(ru++),Hl>=55296&&Hl<=56319&&ru<Yl?(Kl=uu.charCodeAt(ru++),(Kl&64512)==56320?cu.push(((Hl&1023)<<10)+(Kl&1023)+65536):(cu.push(Hl),ru--)):cu.push(Hl);return cu}function Jl(uu){return Gl(uu,function(cu){var ru="";return cu>65535&&(cu-=65536,ru+=zl(cu>>>10&1023|55296),cu=56320|cu&1023),ru+=zl(cu),ru}).join("")}function lu(uu){return uu-48<10?uu-22:uu-65<26?uu-65:uu-97<26?uu-97:ba}function ju(uu,cu){return uu+22+75*(uu<26)-((cu!=0)<<5)}function zu(uu,cu,ru){var Yl=0;for(uu=ru?Nl(uu/Cl):uu>>1,uu+=Nl(uu/cu);uu>Ll*wl>>1;Yl+=ba)uu=Nl(uu/Ll);return Nl(Yl+(Ll+1)*uu/(uu+Sl))}function Wu(uu){var cu=[],ru=uu.length,Yl,Hl=0,Kl=Il,_c=_l,Ql,su,gu,Cu,vu,fu,Fu,_f,Xu;for(Ql=uu.lastIndexOf(Fl),Ql<0&&(Ql=0),su=0;su<Ql;++su)uu.charCodeAt(su)>=128&&Vl("not-basic"),cu.push(uu.charCodeAt(su));for(gu=Ql>0?Ql+1:0;gu<ru;){for(Cu=Hl,vu=1,fu=ba;gu>=ru&&Vl("invalid-input"),Fu=lu(uu.charCodeAt(gu++)),(Fu>=ba||Fu>Nl((xa-Hl)/vu))&&Vl("overflow"),Hl+=Fu*vu,_f=fu<=_c?$a:fu>=_c+wl?wl:fu-_c,!(Fu<_f);fu+=ba)Xu=ba-_f,vu>Nl(xa/Xu)&&Vl("overflow"),vu*=Xu;Yl=cu.length+1,_c=zu(Hl-Cu,Yl,Cu==0),Nl(Hl/Yl)>xa-Kl&&Vl("overflow"),Kl+=Nl(Hl/Yl),Hl%=Yl,cu.splice(Hl++,0,Kl)}return Jl(cu)}function qu(uu){var cu,ru,Yl,Hl,Kl,_c,Ql,su,gu,Cu,vu,fu=[],Fu,_f,Xu,Gu;for(uu=nu(uu),Fu=uu.length,cu=Il,ru=0,Kl=_l,_c=0;_c<Fu;++_c)vu=uu[_c],vu<128&&fu.push(zl(vu));for(Yl=Hl=fu.length,Hl&&fu.push(Fl);Yl<Fu;){for(Ql=xa,_c=0;_c<Fu;++_c)vu=uu[_c],vu>=cu&&vu<Ql&&(Ql=vu);for(_f=Yl+1,Ql-cu>Nl((xa-ru)/_f)&&Vl("overflow"),ru+=(Ql-cu)*_f,cu=Ql,_c=0;_c<Fu;++_c)if(vu=uu[_c],vu<cu&&++ru>xa&&Vl("overflow"),vu==cu){for(su=ru,gu=ba;Cu=gu<=Kl?$a:gu>=Kl+wl?wl:gu-Kl,!(su<Cu);gu+=ba)Gu=su-Cu,Xu=ba-Cu,fu.push(zl(ju(Cu+Gu%Xu,0))),su=Nl(Gu/Xu);fu.push(zl(ju(su,0))),Kl=zu(ru,_f,Yl==Hl),ru=0,++Yl}++ru,++cu}return fu.join("")}function Mu(uu){return iu(uu,function(cu){return Ml.test(cu)?Wu(cu.slice(4).toLowerCase()):cu})}function mu(uu){return iu(uu,function(cu){return Tl.test(cu)?"xn--"+qu(cu):cu})}if(uo={version:"1.4.1",ucs2:{decode:nu,encode:Jl},decode:Wu,encode:qu,toASCII:mu,toUnicode:Mu},lo&&co)if(us.exports==lo)co.exports=uo;else for($l in uo)uo.hasOwnProperty($l)&&(lo[$l]=uo[$l]);else cs.punycode=uo})(commonjsGlobal)}(punycode,punycode.exports)),punycode.exports}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var objectInspect,hasRequiredObjectInspect;function requireObjectInspect(){if(hasRequiredObjectInspect)return objectInspect;hasRequiredObjectInspect=1;var us=typeof Map=="function"&&Map.prototype,is=Object.getOwnPropertyDescriptor&&us?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cs=us&&is&&typeof is.get=="function"?is.get:null,lo=us&&Map.prototype.forEach,co=typeof Set=="function"&&Set.prototype,hs=Object.getOwnPropertyDescriptor&&co?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,uo=co&&hs&&typeof hs.get=="function"?hs.get:null,xa=co&&Set.prototype.forEach,ba=typeof WeakMap=="function"&&WeakMap.prototype,$a=ba?WeakMap.prototype.has:null,wl=typeof WeakSet=="function"&&WeakSet.prototype,Sl=wl?WeakSet.prototype.has:null,Cl=typeof WeakRef=="function"&&WeakRef.prototype,_l=Cl?WeakRef.prototype.deref:null,Il=Boolean.prototype.valueOf,Fl=Object.prototype.toString,Ml=Function.prototype.toString,Tl=String.prototype.match,Dl=String.prototype.slice,Bl=String.prototype.replace,Ll=String.prototype.toUpperCase,Nl=String.prototype.toLowerCase,zl=RegExp.prototype.test,$l=Array.prototype.concat,Vl=Array.prototype.join,Gl=Array.prototype.slice,iu=Math.floor,nu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jl=Object.getOwnPropertySymbols,lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ju=typeof Symbol=="function"&&typeof Symbol.iterator=="object",zu=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ju||!0)?Symbol.toStringTag:null,Wu=Object.prototype.propertyIsEnumerable,qu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(yu){return yu.__proto__}:null);function Mu(yu,Hu){if(yu===1/0||yu===-1/0||yu!==yu||yu&&yu>-1e3&&yu<1e3||zl.call(/e/,Hu))return Hu;var Sp=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof yu=="number"){var Np=yu<0?-iu(-yu):iu(yu);if(Np!==yu){var Lp=String(Np),Ku=Dl.call(Hu,Lp.length+1);return Bl.call(Lp,Sp,"$&_")+"."+Bl.call(Bl.call(Ku,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Bl.call(Hu,Sp,"$&_")}var mu=require$$1,uu=mu.custom,cu=_f(uu)?uu:null,ru={__proto__:null,double:'"',single:"'"},Yl={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};objectInspect=function yu(Hu,Sp,Np,Lp){var Ku=Sp||{};if(Uu(Ku,"quoteStyle")&&!Uu(ru,Ku.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Uu(Ku,"maxStringLength")&&(typeof Ku.maxStringLength=="number"?Ku.maxStringLength<0&&Ku.maxStringLength!==1/0:Ku.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var wp=Uu(Ku,"customInspect")?Ku.customInspect:!0;if(typeof wp!="boolean"&&wp!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Uu(Ku,"indent")&&Ku.indent!==null&&Ku.indent!=="	"&&!(parseInt(Ku.indent,10)===Ku.indent&&Ku.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Uu(Ku,"numericSeparator")&&typeof Ku.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Bp=Ku.numericSeparator;if(typeof Hu>"u")return"undefined";if(Hu===null)return"null";if(typeof Hu=="boolean")return Hu?"true":"false";if(typeof Hu=="string")return mp(Hu,Ku);if(typeof Hu=="number"){if(Hu===0)return 1/0/Hu>0?"0":"-0";var Pp=String(Hu);return Bp?Mu(Hu,Pp):Pp}if(typeof Hu=="bigint"){var n0=String(Hu)+"n";return Bp?Mu(Hu,n0):n0}var Jp=typeof Ku.depth>"u"?5:Ku.depth;if(typeof Np>"u"&&(Np=0),Np>=Jp&&Jp>0&&typeof Hu=="object")return Ql(Hu)?"[Array]":"[Object]";var Ju=Nu(Ku,Np);if(typeof Lp>"u")Lp=[];else if(Ou(Lp,Hu)>=0)return"[Circular]";function _d(Y0,_m,Em){if(_m&&(Lp=Gl.call(Lp),Lp.push(_m)),Em){var om={depth:Ku.depth};return Uu(Ku,"quoteStyle")&&(om.quoteStyle=Ku.quoteStyle),yu(Y0,om,Np+1,Lp)}return yu(Y0,Ku,Np+1,Lp)}if(typeof Hu=="function"&&!gu(Hu)){var hp=Pu(Hu),xp=Vu(Hu,_d);return"[Function"+(hp?": "+hp:" (anonymous)")+"]"+(xp.length>0?" { "+Vl.call(xp,", ")+" }":"")}if(_f(Hu)){var Ru=ju?Bl.call(String(Hu),/^(Symbol\(.*\))_[^)]*$/,"$1"):lu.call(Hu);return typeof Hu=="object"&&!ju?kp(Ru):Ru}if(up(Hu)){for(var sp="<"+Nl.call(String(Hu.nodeName)),lp=Hu.attributes||[],Ip=0;Ip<lp.length;Ip++)sp+=" "+lp[Ip].name+"="+Hl(Kl(lp[Ip].value),"double",Ku);return sp+=">",Hu.childNodes&&Hu.childNodes.length&&(sp+="..."),sp+="</"+Nl.call(String(Hu.nodeName))+">",sp}if(Ql(Hu)){if(Hu.length===0)return"[]";var _p=Vu(Hu,_d);return Ju&&!eu(_p)?"["+Zu(_p,Ju)+"]":"[ "+Vl.call(_p,", ")+" ]"}if(Cu(Hu)){var Mp=Vu(Hu,_d);return!("cause"in Error.prototype)&&"cause"in Hu&&!Wu.call(Hu,"cause")?"{ ["+String(Hu)+"] "+Vl.call($l.call("[cause]: "+_d(Hu.cause),Mp),", ")+" }":Mp.length===0?"["+String(Hu)+"]":"{ ["+String(Hu)+"] "+Vl.call(Mp,", ")+" }"}if(typeof Hu=="object"&&wp){if(cu&&typeof Hu[cu]=="function"&&mu)return mu(Hu,{depth:Jp-Np});if(wp!=="symbol"&&typeof Hu.inspect=="function")return Hu.inspect()}if(ip(Hu)){var d0=[];return lo&&lo.call(Hu,function(Y0,_m){d0.push(_d(_m,Hu,!0)+" => "+_d(Y0,Hu))}),Zl("Map",cs.call(Hu),d0,Ju)}if(Eu(Hu)){var dp=[];return xa&&xa.call(Hu,function(Y0){dp.push(_d(Y0,Hu))}),Zl("Set",uo.call(Hu),dp,Ju)}if($u(Hu))return hu("WeakMap");if(Lu(Hu))return hu("WeakSet");if(np(Hu))return hu("WeakRef");if(fu(Hu))return kp(_d(Number(Hu)));if(Xu(Hu))return kp(_d(nu.call(Hu)));if(Fu(Hu))return kp(Il.call(Hu));if(vu(Hu))return kp(_d(String(Hu)));if(typeof window<"u"&&Hu===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Hu===globalThis||typeof globalThis<"u"&&Hu===globalThis)return"{ [object globalThis] }";if(!su(Hu)&&!gu(Hu)){var a0=Vu(Hu,_d),Dp=qu?qu(Hu)===Object.prototype:Hu instanceof Object||Hu.constructor===Object,_0=Hu instanceof Object?"":"null prototype",E0=!Dp&&zu&&Object(Hu)===Hu&&zu in Hu?Dl.call(Au(Hu),8,-1):_0?"Object":"",P0=Dp||typeof Hu.constructor!="function"?"":Hu.constructor.name?Hu.constructor.name+" ":"",sm=P0+(E0||_0?"["+Vl.call($l.call([],E0||[],_0||[]),": ")+"] ":"");return a0.length===0?sm+"{}":Ju?sm+"{"+Zu(a0,Ju)+"}":sm+"{ "+Vl.call(a0,", ")+" }"}return String(Hu)};function Hl(yu,Hu,Sp){var Np=Sp.quoteStyle||Hu,Lp=ru[Np];return Lp+yu+Lp}function Kl(yu){return Bl.call(String(yu),/"/g,"&quot;")}function _c(yu){return!zu||!(typeof yu=="object"&&(zu in yu||typeof yu[zu]<"u"))}function Ql(yu){return Au(yu)==="[object Array]"&&_c(yu)}function su(yu){return Au(yu)==="[object Date]"&&_c(yu)}function gu(yu){return Au(yu)==="[object RegExp]"&&_c(yu)}function Cu(yu){return Au(yu)==="[object Error]"&&_c(yu)}function vu(yu){return Au(yu)==="[object String]"&&_c(yu)}function fu(yu){return Au(yu)==="[object Number]"&&_c(yu)}function Fu(yu){return Au(yu)==="[object Boolean]"&&_c(yu)}function _f(yu){if(ju)return yu&&typeof yu=="object"&&yu instanceof Symbol;if(typeof yu=="symbol")return!0;if(!yu||typeof yu!="object"||!lu)return!1;try{return lu.call(yu),!0}catch{}return!1}function Xu(yu){if(!yu||typeof yu!="object"||!nu)return!1;try{return nu.call(yu),!0}catch{}return!1}var Gu=Object.prototype.hasOwnProperty||function(yu){return yu in this};function Uu(yu,Hu){return Gu.call(yu,Hu)}function Au(yu){return Fl.call(yu)}function Pu(yu){if(yu.name)return yu.name;var Hu=Tl.call(Ml.call(yu),/^function\s*([\w$]+)/);return Hu?Hu[1]:null}function Ou(yu,Hu){if(yu.indexOf)return yu.indexOf(Hu);for(var Sp=0,Np=yu.length;Sp<Np;Sp++)if(yu[Sp]===Hu)return Sp;return-1}function ip(yu){if(!cs||!yu||typeof yu!="object")return!1;try{cs.call(yu);try{uo.call(yu)}catch{return!0}return yu instanceof Map}catch{}return!1}function $u(yu){if(!$a||!yu||typeof yu!="object")return!1;try{$a.call(yu,$a);try{Sl.call(yu,Sl)}catch{return!0}return yu instanceof WeakMap}catch{}return!1}function np(yu){if(!_l||!yu||typeof yu!="object")return!1;try{return _l.call(yu),!0}catch{}return!1}function Eu(yu){if(!uo||!yu||typeof yu!="object")return!1;try{uo.call(yu);try{cs.call(yu)}catch{return!0}return yu instanceof Set}catch{}return!1}function Lu(yu){if(!Sl||!yu||typeof yu!="object")return!1;try{Sl.call(yu,Sl);try{$a.call(yu,$a)}catch{return!0}return yu instanceof WeakSet}catch{}return!1}function up(yu){return!yu||typeof yu!="object"?!1:typeof HTMLElement<"u"&&yu instanceof HTMLElement?!0:typeof yu.nodeName=="string"&&typeof yu.getAttribute=="function"}function mp(yu,Hu){if(yu.length>Hu.maxStringLength){var Sp=yu.length-Hu.maxStringLength,Np="... "+Sp+" more character"+(Sp>1?"s":"");return mp(Dl.call(yu,0,Hu.maxStringLength),Hu)+Np}var Lp=Yl[Hu.quoteStyle||"single"];Lp.lastIndex=0;var Ku=Bl.call(Bl.call(yu,Lp,"\\$1"),/[\x00-\x1f]/g,Rp);return Hl(Ku,"single",Hu)}function Rp(yu){var Hu=yu.charCodeAt(0),Sp={8:"b",9:"t",10:"n",12:"f",13:"r"}[Hu];return Sp?"\\"+Sp:"\\x"+(Hu<16?"0":"")+Ll.call(Hu.toString(16))}function kp(yu){return"Object("+yu+")"}function hu(yu){return yu+" { ? }"}function Zl(yu,Hu,Sp,Np){var Lp=Np?Zu(Sp,Np):Vl.call(Sp,", ");return yu+" ("+Hu+") {"+Lp+"}"}function eu(yu){for(var Hu=0;Hu<yu.length;Hu++)if(Ou(yu[Hu],`
`)>=0)return!1;return!0}function Nu(yu,Hu){var Sp;if(yu.indent==="	")Sp="	";else if(typeof yu.indent=="number"&&yu.indent>0)Sp=Vl.call(Array(yu.indent+1)," ");else return null;return{base:Sp,prev:Vl.call(Array(Hu+1),Sp)}}function Zu(yu,Hu){if(yu.length===0)return"";var Sp=`
`+Hu.prev+Hu.base;return Sp+Vl.call(yu,","+Sp)+`
`+Hu.prev}function Vu(yu,Hu){var Sp=Ql(yu),Np=[];if(Sp){Np.length=yu.length;for(var Lp=0;Lp<yu.length;Lp++)Np[Lp]=Uu(yu,Lp)?Hu(yu[Lp],yu):""}var Ku=typeof Jl=="function"?Jl(yu):[],wp;if(ju){wp={};for(var Bp=0;Bp<Ku.length;Bp++)wp["$"+Ku[Bp]]=Ku[Bp]}for(var Pp in yu)Uu(yu,Pp)&&(Sp&&String(Number(Pp))===Pp&&Pp<yu.length||ju&&wp["$"+Pp]instanceof Symbol||(zl.call(/[^\w$]/,Pp)?Np.push(Hu(Pp,yu)+": "+Hu(yu[Pp],yu)):Np.push(Pp+": "+Hu(yu[Pp],yu))));if(typeof Jl=="function")for(var n0=0;n0<Ku.length;n0++)Wu.call(yu,Ku[n0])&&Np.push("["+Hu(Ku[n0])+"]: "+Hu(yu[Ku[n0]],yu));return Np}return objectInspect}var sideChannelList,hasRequiredSideChannelList;function requireSideChannelList(){if(hasRequiredSideChannelList)return sideChannelList;hasRequiredSideChannelList=1;var us=requireObjectInspect(),is=requireType(),cs=function(xa,ba,$a){for(var wl=xa,Sl;(Sl=wl.next)!=null;wl=Sl)if(Sl.key===ba)return wl.next=Sl.next,$a||(Sl.next=xa.next,xa.next=Sl),Sl},lo=function(xa,ba){if(xa){var $a=cs(xa,ba);return $a&&$a.value}},co=function(xa,ba,$a){var wl=cs(xa,ba);wl?wl.value=$a:xa.next={key:ba,next:xa.next,value:$a}},hs=function(xa,ba){return xa?!!cs(xa,ba):!1},uo=function(xa,ba){if(xa)return cs(xa,ba,!0)};return sideChannelList=function(){var ba,$a={assert:function(wl){if(!$a.has(wl))throw new is("Side channel does not contain "+us(wl))},delete:function(wl){var Sl=ba&&ba.next,Cl=uo(ba,wl);return Cl&&Sl&&Sl===Cl&&(ba=void 0),!!Cl},get:function(wl){return lo(ba,wl)},has:function(wl){return hs(ba,wl)},set:function(wl,Sl){ba||(ba={next:void 0}),co(ba,wl,Sl)}};return $a},sideChannelList}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range$1,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$1=RangeError),range$1}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max$1,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max$1=Math.max),max$1}var min$1,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min$1=Math.min),min$1}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(is){return is!==is}),_isNaN}var sign,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign;hasRequiredSign=1;var us=require_isNaN();return sign=function(cs){return us(cs)||cs===0?cs:cs<0?-1:1},sign}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var us=requireGOPD();if(us)try{us([],"length")}catch{us=null}return gopd=us,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var us=Object.defineProperty||!1;if(us)try{us({},"a",{value:1})}catch{us=!1}return esDefineProperty=us,esDefineProperty}var shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var is={},cs=Symbol("test"),lo=Object(cs);if(typeof cs=="string"||Object.prototype.toString.call(cs)!=="[object Symbol]"||Object.prototype.toString.call(lo)!=="[object Symbol]")return!1;var co=42;is[cs]=co;for(var hs in is)return!1;if(typeof Object.keys=="function"&&Object.keys(is).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(is).length!==0)return!1;var uo=Object.getOwnPropertySymbols(is);if(uo.length!==1||uo[0]!==cs||!Object.prototype.propertyIsEnumerable.call(is,cs))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var xa=Object.getOwnPropertyDescriptor(is,cs);if(xa.value!==co||xa.enumerable!==!0)return!1}return!0}),shams$1}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var us=typeof Symbol<"u"&&Symbol,is=requireShams$1();return hasSymbols=function(){return typeof us!="function"||typeof Symbol!="function"||typeof us("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:is()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var us=requireEsObjectAtoms();return Object_getPrototypeOf=us.getPrototypeOf||null,Object_getPrototypeOf}var implementation$4,hasRequiredImplementation$4;function requireImplementation$4(){if(hasRequiredImplementation$4)return implementation$4;hasRequiredImplementation$4=1;var us="Function.prototype.bind called on incompatible ",is=Object.prototype.toString,cs=Math.max,lo="[object Function]",co=function(ba,$a){for(var wl=[],Sl=0;Sl<ba.length;Sl+=1)wl[Sl]=ba[Sl];for(var Cl=0;Cl<$a.length;Cl+=1)wl[Cl+ba.length]=$a[Cl];return wl},hs=function(ba,$a){for(var wl=[],Sl=$a,Cl=0;Sl<ba.length;Sl+=1,Cl+=1)wl[Cl]=ba[Sl];return wl},uo=function(xa,ba){for(var $a="",wl=0;wl<xa.length;wl+=1)$a+=xa[wl],wl+1<xa.length&&($a+=ba);return $a};return implementation$4=function(ba){var $a=this;if(typeof $a!="function"||is.apply($a)!==lo)throw new TypeError(us+$a);for(var wl=hs(arguments,1),Sl,Cl=function(){if(this instanceof Sl){var Tl=$a.apply(this,co(wl,arguments));return Object(Tl)===Tl?Tl:this}return $a.apply(ba,co(wl,arguments))},_l=cs(0,$a.length-wl.length),Il=[],Fl=0;Fl<_l;Fl++)Il[Fl]="$"+Fl;if(Sl=Function("binder","return function ("+uo(Il,",")+"){ return binder.apply(this,arguments); }")(Cl),$a.prototype){var Ml=function(){};Ml.prototype=$a.prototype,Sl.prototype=new Ml,Ml.prototype=null}return Sl},implementation$4}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var us=requireImplementation$4();return functionBind=Function.prototype.bind||us,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var us=requireFunctionBind(),is=requireFunctionApply(),cs=requireFunctionCall(),lo=requireReflectApply();return actualApply=lo||us.call(cs,is),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var us=requireFunctionBind(),is=requireType(),cs=requireFunctionCall(),lo=requireActualApply();return callBindApplyHelpers=function(hs){if(hs.length<1||typeof hs[0]!="function")throw new is("a function is required");return lo(us,cs,hs)},callBindApplyHelpers}var get$1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var us=requireCallBindApplyHelpers(),is=requireGopd(),cs;try{cs=[].__proto__===Array.prototype}catch(uo){if(!uo||typeof uo!="object"||!("code"in uo)||uo.code!=="ERR_PROTO_ACCESS")throw uo}var lo=!!cs&&is&&is(Object.prototype,"__proto__"),co=Object,hs=co.getPrototypeOf;return get$1=lo&&typeof lo.get=="function"?us([lo.get]):typeof hs=="function"?function(xa){return hs(xa==null?xa:co(xa))}:!1,get$1}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var us=requireReflect_getPrototypeOf(),is=requireObject_getPrototypeOf(),cs=requireGet();return getProto=us?function(co){return us(co)}:is?function(co){if(!co||typeof co!="object"&&typeof co!="function")throw new TypeError("getProto: not an object");return is(co)}:cs?function(co){return cs(co)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var us=Function.prototype.call,is=Object.prototype.hasOwnProperty,cs=requireFunctionBind();return hasown=cs.call(us,is),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var us,is=requireEsObjectAtoms(),cs=requireEsErrors(),lo=require_eval(),co=requireRange(),hs=requireRef(),uo=requireSyntax(),xa=requireType(),ba=requireUri(),$a=requireAbs(),wl=requireFloor(),Sl=requireMax(),Cl=requireMin(),_l=requirePow(),Il=requireRound(),Fl=requireSign(),Ml=Function,Tl=function(gu){try{return Ml('"use strict"; return ('+gu+").constructor;")()}catch{}},Dl=requireGopd(),Bl=requireEsDefineProperty(),Ll=function(){throw new xa},Nl=Dl?function(){try{return arguments.callee,Ll}catch{try{return Dl(arguments,"callee").get}catch{return Ll}}}():Ll,zl=requireHasSymbols()(),$l=requireGetProto(),Vl=requireObject_getPrototypeOf(),Gl=requireReflect_getPrototypeOf(),iu=requireFunctionApply(),nu=requireFunctionCall(),Jl={},lu=typeof Uint8Array>"u"||!$l?us:$l(Uint8Array),ju={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?us:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?us:ArrayBuffer,"%ArrayIteratorPrototype%":zl&&$l?$l([][Symbol.iterator]()):us,"%AsyncFromSyncIteratorPrototype%":us,"%AsyncFunction%":Jl,"%AsyncGenerator%":Jl,"%AsyncGeneratorFunction%":Jl,"%AsyncIteratorPrototype%":Jl,"%Atomics%":typeof Atomics>"u"?us:Atomics,"%BigInt%":typeof BigInt>"u"?us:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?us:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?us:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?us:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":cs,"%eval%":eval,"%EvalError%":lo,"%Float16Array%":typeof Float16Array>"u"?us:Float16Array,"%Float32Array%":typeof Float32Array>"u"?us:Float32Array,"%Float64Array%":typeof Float64Array>"u"?us:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?us:FinalizationRegistry,"%Function%":Ml,"%GeneratorFunction%":Jl,"%Int8Array%":typeof Int8Array>"u"?us:Int8Array,"%Int16Array%":typeof Int16Array>"u"?us:Int16Array,"%Int32Array%":typeof Int32Array>"u"?us:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zl&&$l?$l($l([][Symbol.iterator]())):us,"%JSON%":typeof JSON=="object"?JSON:us,"%Map%":typeof Map>"u"?us:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zl||!$l?us:$l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":is,"%Object.getOwnPropertyDescriptor%":Dl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?us:Promise,"%Proxy%":typeof Proxy>"u"?us:Proxy,"%RangeError%":co,"%ReferenceError%":hs,"%Reflect%":typeof Reflect>"u"?us:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?us:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zl||!$l?us:$l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?us:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zl&&$l?$l(""[Symbol.iterator]()):us,"%Symbol%":zl?Symbol:us,"%SyntaxError%":uo,"%ThrowTypeError%":Nl,"%TypedArray%":lu,"%TypeError%":xa,"%Uint8Array%":typeof Uint8Array>"u"?us:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?us:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?us:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?us:Uint32Array,"%URIError%":ba,"%WeakMap%":typeof WeakMap>"u"?us:WeakMap,"%WeakRef%":typeof WeakRef>"u"?us:WeakRef,"%WeakSet%":typeof WeakSet>"u"?us:WeakSet,"%Function.prototype.call%":nu,"%Function.prototype.apply%":iu,"%Object.defineProperty%":Bl,"%Object.getPrototypeOf%":Vl,"%Math.abs%":$a,"%Math.floor%":wl,"%Math.max%":Sl,"%Math.min%":Cl,"%Math.pow%":_l,"%Math.round%":Il,"%Math.sign%":Fl,"%Reflect.getPrototypeOf%":Gl};if($l)try{null.error}catch(gu){var zu=$l($l(gu));ju["%Error.prototype%"]=zu}var Wu=function gu(Cu){var vu;if(Cu==="%AsyncFunction%")vu=Tl("async function () {}");else if(Cu==="%GeneratorFunction%")vu=Tl("function* () {}");else if(Cu==="%AsyncGeneratorFunction%")vu=Tl("async function* () {}");else if(Cu==="%AsyncGenerator%"){var fu=gu("%AsyncGeneratorFunction%");fu&&(vu=fu.prototype)}else if(Cu==="%AsyncIteratorPrototype%"){var Fu=gu("%AsyncGenerator%");Fu&&$l&&(vu=$l(Fu.prototype))}return ju[Cu]=vu,vu},qu={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Mu=requireFunctionBind(),mu=requireHasown(),uu=Mu.call(nu,Array.prototype.concat),cu=Mu.call(iu,Array.prototype.splice),ru=Mu.call(nu,String.prototype.replace),Yl=Mu.call(nu,String.prototype.slice),Hl=Mu.call(nu,RegExp.prototype.exec),Kl=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_c=/\\(\\)?/g,Ql=function(Cu){var vu=Yl(Cu,0,1),fu=Yl(Cu,-1);if(vu==="%"&&fu!=="%")throw new uo("invalid intrinsic syntax, expected closing `%`");if(fu==="%"&&vu!=="%")throw new uo("invalid intrinsic syntax, expected opening `%`");var Fu=[];return ru(Cu,Kl,function(_f,Xu,Gu,Uu){Fu[Fu.length]=Gu?ru(Uu,_c,"$1"):Xu||_f}),Fu},su=function(Cu,vu){var fu=Cu,Fu;if(mu(qu,fu)&&(Fu=qu[fu],fu="%"+Fu[0]+"%"),mu(ju,fu)){var _f=ju[fu];if(_f===Jl&&(_f=Wu(fu)),typeof _f>"u"&&!vu)throw new xa("intrinsic "+Cu+" exists, but is not available. Please file an issue!");return{alias:Fu,name:fu,value:_f}}throw new uo("intrinsic "+Cu+" does not exist!")};return getIntrinsic=function(Cu,vu){if(typeof Cu!="string"||Cu.length===0)throw new xa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vu!="boolean")throw new xa('"allowMissing" argument must be a boolean');if(Hl(/^%?[^%]*%?$/,Cu)===null)throw new uo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fu=Ql(Cu),Fu=fu.length>0?fu[0]:"",_f=su("%"+Fu+"%",vu),Xu=_f.name,Gu=_f.value,Uu=!1,Au=_f.alias;Au&&(Fu=Au[0],cu(fu,uu([0,1],Au)));for(var Pu=1,Ou=!0;Pu<fu.length;Pu+=1){var ip=fu[Pu],$u=Yl(ip,0,1),np=Yl(ip,-1);if(($u==='"'||$u==="'"||$u==="`"||np==='"'||np==="'"||np==="`")&&$u!==np)throw new uo("property names with quotes must have matching quotes");if((ip==="constructor"||!Ou)&&(Uu=!0),Fu+="."+ip,Xu="%"+Fu+"%",mu(ju,Xu))Gu=ju[Xu];else if(Gu!=null){if(!(ip in Gu)){if(!vu)throw new xa("base intrinsic for "+Cu+" exists, but the property is not available.");return}if(Dl&&Pu+1>=fu.length){var Eu=Dl(Gu,ip);Ou=!!Eu,Ou&&"get"in Eu&&!("originalValue"in Eu.get)?Gu=Eu.get:Gu=Gu[ip]}else Ou=mu(Gu,ip),Gu=Gu[ip];Ou&&!Uu&&(ju[Xu]=Gu)}}return Gu},getIntrinsic}var callBound$1,hasRequiredCallBound$1;function requireCallBound$1(){if(hasRequiredCallBound$1)return callBound$1;hasRequiredCallBound$1=1;var us=requireGetIntrinsic(),is=requireCallBindApplyHelpers(),cs=is([us("%String.prototype.indexOf%")]);return callBound$1=function(co,hs){var uo=us(co,!!hs);return typeof uo=="function"&&cs(co,".prototype.")>-1?is([uo]):uo},callBound$1}var sideChannelMap,hasRequiredSideChannelMap;function requireSideChannelMap(){if(hasRequiredSideChannelMap)return sideChannelMap;hasRequiredSideChannelMap=1;var us=requireGetIntrinsic(),is=requireCallBound$1(),cs=requireObjectInspect(),lo=requireType(),co=us("%Map%",!0),hs=is("Map.prototype.get",!0),uo=is("Map.prototype.set",!0),xa=is("Map.prototype.has",!0),ba=is("Map.prototype.delete",!0),$a=is("Map.prototype.size",!0);return sideChannelMap=!!co&&function(){var Sl,Cl={assert:function(_l){if(!Cl.has(_l))throw new lo("Side channel does not contain "+cs(_l))},delete:function(_l){if(Sl){var Il=ba(Sl,_l);return $a(Sl)===0&&(Sl=void 0),Il}return!1},get:function(_l){if(Sl)return hs(Sl,_l)},has:function(_l){return Sl?xa(Sl,_l):!1},set:function(_l,Il){Sl||(Sl=new co),uo(Sl,_l,Il)}};return Cl},sideChannelMap}var sideChannelWeakmap,hasRequiredSideChannelWeakmap;function requireSideChannelWeakmap(){if(hasRequiredSideChannelWeakmap)return sideChannelWeakmap;hasRequiredSideChannelWeakmap=1;var us=requireGetIntrinsic(),is=requireCallBound$1(),cs=requireObjectInspect(),lo=requireSideChannelMap(),co=requireType(),hs=us("%WeakMap%",!0),uo=is("WeakMap.prototype.get",!0),xa=is("WeakMap.prototype.set",!0),ba=is("WeakMap.prototype.has",!0),$a=is("WeakMap.prototype.delete",!0);return sideChannelWeakmap=hs?function(){var Sl,Cl,_l={assert:function(Il){if(!_l.has(Il))throw new co("Side channel does not contain "+cs(Il))},delete:function(Il){if(hs&&Il&&(typeof Il=="object"||typeof Il=="function")){if(Sl)return $a(Sl,Il)}else if(lo&&Cl)return Cl.delete(Il);return!1},get:function(Il){return hs&&Il&&(typeof Il=="object"||typeof Il=="function")&&Sl?uo(Sl,Il):Cl&&Cl.get(Il)},has:function(Il){return hs&&Il&&(typeof Il=="object"||typeof Il=="function")&&Sl?ba(Sl,Il):!!Cl&&Cl.has(Il)},set:function(Il,Fl){hs&&Il&&(typeof Il=="object"||typeof Il=="function")?(Sl||(Sl=new hs),xa(Sl,Il,Fl)):lo&&(Cl||(Cl=lo()),Cl.set(Il,Fl))}};return _l}:lo,sideChannelWeakmap}var sideChannel,hasRequiredSideChannel;function requireSideChannel(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var us=requireType(),is=requireObjectInspect(),cs=requireSideChannelList(),lo=requireSideChannelMap(),co=requireSideChannelWeakmap(),hs=co||lo||cs;return sideChannel=function(){var xa,ba={assert:function($a){if(!ba.has($a))throw new us("Side channel does not contain "+is($a))},delete:function($a){return!!xa&&xa.delete($a)},get:function($a){return xa&&xa.get($a)},has:function($a){return!!xa&&xa.has($a)},set:function($a,wl){xa||(xa=hs()),xa.set($a,wl)}};return ba},sideChannel}var formats,hasRequiredFormats;function requireFormats(){if(hasRequiredFormats)return formats;hasRequiredFormats=1;var us=String.prototype.replace,is=/%20/g,cs={RFC1738:"RFC1738",RFC3986:"RFC3986"};return formats={default:cs.RFC3986,formatters:{RFC1738:function(lo){return us.call(lo,is,"+")},RFC3986:function(lo){return String(lo)}},RFC1738:cs.RFC1738,RFC3986:cs.RFC3986},formats}var utils$7,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$7;hasRequiredUtils=1;var us=requireFormats(),is=Object.prototype.hasOwnProperty,cs=Array.isArray,lo=function(){for(var Ml=[],Tl=0;Tl<256;++Tl)Ml.push("%"+((Tl<16?"0":"")+Tl.toString(16)).toUpperCase());return Ml}(),co=function(Tl){for(;Tl.length>1;){var Dl=Tl.pop(),Bl=Dl.obj[Dl.prop];if(cs(Bl)){for(var Ll=[],Nl=0;Nl<Bl.length;++Nl)typeof Bl[Nl]<"u"&&Ll.push(Bl[Nl]);Dl.obj[Dl.prop]=Ll}}},hs=function(Tl,Dl){for(var Bl=Dl&&Dl.plainObjects?{__proto__:null}:{},Ll=0;Ll<Tl.length;++Ll)typeof Tl[Ll]<"u"&&(Bl[Ll]=Tl[Ll]);return Bl},uo=function Ml(Tl,Dl,Bl){if(!Dl)return Tl;if(typeof Dl!="object"&&typeof Dl!="function"){if(cs(Tl))Tl.push(Dl);else if(Tl&&typeof Tl=="object")(Bl&&(Bl.plainObjects||Bl.allowPrototypes)||!is.call(Object.prototype,Dl))&&(Tl[Dl]=!0);else return[Tl,Dl];return Tl}if(!Tl||typeof Tl!="object")return[Tl].concat(Dl);var Ll=Tl;return cs(Tl)&&!cs(Dl)&&(Ll=hs(Tl,Bl)),cs(Tl)&&cs(Dl)?(Dl.forEach(function(Nl,zl){if(is.call(Tl,zl)){var $l=Tl[zl];$l&&typeof $l=="object"&&Nl&&typeof Nl=="object"?Tl[zl]=Ml($l,Nl,Bl):Tl.push(Nl)}else Tl[zl]=Nl}),Tl):Object.keys(Dl).reduce(function(Nl,zl){var $l=Dl[zl];return is.call(Nl,zl)?Nl[zl]=Ml(Nl[zl],$l,Bl):Nl[zl]=$l,Nl},Ll)},xa=function(Tl,Dl){return Object.keys(Dl).reduce(function(Bl,Ll){return Bl[Ll]=Dl[Ll],Bl},Tl)},ba=function(Ml,Tl,Dl){var Bl=Ml.replace(/\+/g," ");if(Dl==="iso-8859-1")return Bl.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Bl)}catch{return Bl}},$a=1024,wl=function(Tl,Dl,Bl,Ll,Nl){if(Tl.length===0)return Tl;var zl=Tl;if(typeof Tl=="symbol"?zl=Symbol.prototype.toString.call(Tl):typeof Tl!="string"&&(zl=String(Tl)),Bl==="iso-8859-1")return escape(zl).replace(/%u[0-9a-f]{4}/gi,function(lu){return"%26%23"+parseInt(lu.slice(2),16)+"%3B"});for(var $l="",Vl=0;Vl<zl.length;Vl+=$a){for(var Gl=zl.length>=$a?zl.slice(Vl,Vl+$a):zl,iu=[],nu=0;nu<Gl.length;++nu){var Jl=Gl.charCodeAt(nu);if(Jl===45||Jl===46||Jl===95||Jl===126||Jl>=48&&Jl<=57||Jl>=65&&Jl<=90||Jl>=97&&Jl<=122||Nl===us.RFC1738&&(Jl===40||Jl===41)){iu[iu.length]=Gl.charAt(nu);continue}if(Jl<128){iu[iu.length]=lo[Jl];continue}if(Jl<2048){iu[iu.length]=lo[192|Jl>>6]+lo[128|Jl&63];continue}if(Jl<55296||Jl>=57344){iu[iu.length]=lo[224|Jl>>12]+lo[128|Jl>>6&63]+lo[128|Jl&63];continue}nu+=1,Jl=65536+((Jl&1023)<<10|Gl.charCodeAt(nu)&1023),iu[iu.length]=lo[240|Jl>>18]+lo[128|Jl>>12&63]+lo[128|Jl>>6&63]+lo[128|Jl&63]}$l+=iu.join("")}return $l},Sl=function(Tl){for(var Dl=[{obj:{o:Tl},prop:"o"}],Bl=[],Ll=0;Ll<Dl.length;++Ll)for(var Nl=Dl[Ll],zl=Nl.obj[Nl.prop],$l=Object.keys(zl),Vl=0;Vl<$l.length;++Vl){var Gl=$l[Vl],iu=zl[Gl];typeof iu=="object"&&iu!==null&&Bl.indexOf(iu)===-1&&(Dl.push({obj:zl,prop:Gl}),Bl.push(iu))}return co(Dl),Tl},Cl=function(Tl){return Object.prototype.toString.call(Tl)==="[object RegExp]"},_l=function(Tl){return!Tl||typeof Tl!="object"?!1:!!(Tl.constructor&&Tl.constructor.isBuffer&&Tl.constructor.isBuffer(Tl))},Il=function(Tl,Dl){return[].concat(Tl,Dl)},Fl=function(Tl,Dl){if(cs(Tl)){for(var Bl=[],Ll=0;Ll<Tl.length;Ll+=1)Bl.push(Dl(Tl[Ll]));return Bl}return Dl(Tl)};return utils$7={arrayToObject:hs,assign:xa,combine:Il,compact:Sl,decode:ba,encode:wl,isBuffer:_l,isRegExp:Cl,maybeMap:Fl,merge:uo},utils$7}var stringify_1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify_1;hasRequiredStringify=1;var us=requireSideChannel(),is=requireUtils(),cs=requireFormats(),lo=Object.prototype.hasOwnProperty,co={brackets:function(Ml){return Ml+"[]"},comma:"comma",indices:function(Ml,Tl){return Ml+"["+Tl+"]"},repeat:function(Ml){return Ml}},hs=Array.isArray,uo=Array.prototype.push,xa=function(Fl,Ml){uo.apply(Fl,hs(Ml)?Ml:[Ml])},ba=Date.prototype.toISOString,$a=cs.default,wl={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:is.encode,encodeValuesOnly:!1,filter:void 0,format:$a,formatter:cs.formatters[$a],indices:!1,serializeDate:function(Ml){return ba.call(Ml)},skipNulls:!1,strictNullHandling:!1},Sl=function(Ml){return typeof Ml=="string"||typeof Ml=="number"||typeof Ml=="boolean"||typeof Ml=="symbol"||typeof Ml=="bigint"},Cl={},_l=function Fl(Ml,Tl,Dl,Bl,Ll,Nl,zl,$l,Vl,Gl,iu,nu,Jl,lu,ju,zu,Wu,qu){for(var Mu=Ml,mu=qu,uu=0,cu=!1;(mu=mu.get(Cl))!==void 0&&!cu;){var ru=mu.get(Ml);if(uu+=1,typeof ru<"u"){if(ru===uu)throw new RangeError("Cyclic object value");cu=!0}typeof mu.get(Cl)>"u"&&(uu=0)}if(typeof Gl=="function"?Mu=Gl(Tl,Mu):Mu instanceof Date?Mu=Jl(Mu):Dl==="comma"&&hs(Mu)&&(Mu=is.maybeMap(Mu,function(Xu){return Xu instanceof Date?Jl(Xu):Xu})),Mu===null){if(Nl)return Vl&&!zu?Vl(Tl,wl.encoder,Wu,"key",lu):Tl;Mu=""}if(Sl(Mu)||is.isBuffer(Mu)){if(Vl){var Yl=zu?Tl:Vl(Tl,wl.encoder,Wu,"key",lu);return[ju(Yl)+"="+ju(Vl(Mu,wl.encoder,Wu,"value",lu))]}return[ju(Tl)+"="+ju(String(Mu))]}var Hl=[];if(typeof Mu>"u")return Hl;var Kl;if(Dl==="comma"&&hs(Mu))zu&&Vl&&(Mu=is.maybeMap(Mu,Vl)),Kl=[{value:Mu.length>0?Mu.join(",")||null:void 0}];else if(hs(Gl))Kl=Gl;else{var _c=Object.keys(Mu);Kl=iu?_c.sort(iu):_c}var Ql=$l?String(Tl).replace(/\./g,"%2E"):String(Tl),su=Bl&&hs(Mu)&&Mu.length===1?Ql+"[]":Ql;if(Ll&&hs(Mu)&&Mu.length===0)return su+"[]";for(var gu=0;gu<Kl.length;++gu){var Cu=Kl[gu],vu=typeof Cu=="object"&&Cu&&typeof Cu.value<"u"?Cu.value:Mu[Cu];if(!(zl&&vu===null)){var fu=nu&&$l?String(Cu).replace(/\./g,"%2E"):String(Cu),Fu=hs(Mu)?typeof Dl=="function"?Dl(su,fu):su:su+(nu?"."+fu:"["+fu+"]");qu.set(Ml,uu);var _f=us();_f.set(Cl,qu),xa(Hl,Fl(vu,Fu,Dl,Bl,Ll,Nl,zl,$l,Dl==="comma"&&zu&&hs(Mu)?null:Vl,Gl,iu,nu,Jl,lu,ju,zu,Wu,_f))}}return Hl},Il=function(Ml){if(!Ml)return wl;if(typeof Ml.allowEmptyArrays<"u"&&typeof Ml.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Ml.encodeDotInKeys<"u"&&typeof Ml.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(Ml.encoder!==null&&typeof Ml.encoder<"u"&&typeof Ml.encoder!="function")throw new TypeError("Encoder has to be a function.");var Tl=Ml.charset||wl.charset;if(typeof Ml.charset<"u"&&Ml.charset!=="utf-8"&&Ml.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Dl=cs.default;if(typeof Ml.format<"u"){if(!lo.call(cs.formatters,Ml.format))throw new TypeError("Unknown format option provided.");Dl=Ml.format}var Bl=cs.formatters[Dl],Ll=wl.filter;(typeof Ml.filter=="function"||hs(Ml.filter))&&(Ll=Ml.filter);var Nl;if(Ml.arrayFormat in co?Nl=Ml.arrayFormat:"indices"in Ml?Nl=Ml.indices?"indices":"repeat":Nl=wl.arrayFormat,"commaRoundTrip"in Ml&&typeof Ml.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var zl=typeof Ml.allowDots>"u"?Ml.encodeDotInKeys===!0?!0:wl.allowDots:!!Ml.allowDots;return{addQueryPrefix:typeof Ml.addQueryPrefix=="boolean"?Ml.addQueryPrefix:wl.addQueryPrefix,allowDots:zl,allowEmptyArrays:typeof Ml.allowEmptyArrays=="boolean"?!!Ml.allowEmptyArrays:wl.allowEmptyArrays,arrayFormat:Nl,charset:Tl,charsetSentinel:typeof Ml.charsetSentinel=="boolean"?Ml.charsetSentinel:wl.charsetSentinel,commaRoundTrip:!!Ml.commaRoundTrip,delimiter:typeof Ml.delimiter>"u"?wl.delimiter:Ml.delimiter,encode:typeof Ml.encode=="boolean"?Ml.encode:wl.encode,encodeDotInKeys:typeof Ml.encodeDotInKeys=="boolean"?Ml.encodeDotInKeys:wl.encodeDotInKeys,encoder:typeof Ml.encoder=="function"?Ml.encoder:wl.encoder,encodeValuesOnly:typeof Ml.encodeValuesOnly=="boolean"?Ml.encodeValuesOnly:wl.encodeValuesOnly,filter:Ll,format:Dl,formatter:Bl,serializeDate:typeof Ml.serializeDate=="function"?Ml.serializeDate:wl.serializeDate,skipNulls:typeof Ml.skipNulls=="boolean"?Ml.skipNulls:wl.skipNulls,sort:typeof Ml.sort=="function"?Ml.sort:null,strictNullHandling:typeof Ml.strictNullHandling=="boolean"?Ml.strictNullHandling:wl.strictNullHandling}};return stringify_1=function(Fl,Ml){var Tl=Fl,Dl=Il(Ml),Bl,Ll;typeof Dl.filter=="function"?(Ll=Dl.filter,Tl=Ll("",Tl)):hs(Dl.filter)&&(Ll=Dl.filter,Bl=Ll);var Nl=[];if(typeof Tl!="object"||Tl===null)return"";var zl=co[Dl.arrayFormat],$l=zl==="comma"&&Dl.commaRoundTrip;Bl||(Bl=Object.keys(Tl)),Dl.sort&&Bl.sort(Dl.sort);for(var Vl=us(),Gl=0;Gl<Bl.length;++Gl){var iu=Bl[Gl],nu=Tl[iu];Dl.skipNulls&&nu===null||xa(Nl,_l(nu,iu,zl,$l,Dl.allowEmptyArrays,Dl.strictNullHandling,Dl.skipNulls,Dl.encodeDotInKeys,Dl.encode?Dl.encoder:null,Dl.filter,Dl.sort,Dl.allowDots,Dl.serializeDate,Dl.format,Dl.formatter,Dl.encodeValuesOnly,Dl.charset,Vl))}var Jl=Nl.join(Dl.delimiter),lu=Dl.addQueryPrefix===!0?"?":"";return Dl.charsetSentinel&&(Dl.charset==="iso-8859-1"?lu+="utf8=%26%2310003%3B&":lu+="utf8=%E2%9C%93&"),Jl.length>0?lu+Jl:""},stringify_1}var parse$1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$1;hasRequiredParse=1;var us=requireUtils(),is=Object.prototype.hasOwnProperty,cs=Array.isArray,lo={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:us.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},co=function(Cl){return Cl.replace(/&#(\d+);/g,function(_l,Il){return String.fromCharCode(parseInt(Il,10))})},hs=function(Cl,_l,Il){if(Cl&&typeof Cl=="string"&&_l.comma&&Cl.indexOf(",")>-1)return Cl.split(",");if(_l.throwOnLimitExceeded&&Il>=_l.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_l.arrayLimit+" element"+(_l.arrayLimit===1?"":"s")+" allowed in an array.");return Cl},uo="utf8=%26%2310003%3B",xa="utf8=%E2%9C%93",ba=function(_l,Il){var Fl={__proto__:null},Ml=Il.ignoreQueryPrefix?_l.replace(/^\?/,""):_l;Ml=Ml.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var Tl=Il.parameterLimit===1/0?void 0:Il.parameterLimit,Dl=Ml.split(Il.delimiter,Il.throwOnLimitExceeded?Tl+1:Tl);if(Il.throwOnLimitExceeded&&Dl.length>Tl)throw new RangeError("Parameter limit exceeded. Only "+Tl+" parameter"+(Tl===1?"":"s")+" allowed.");var Bl=-1,Ll,Nl=Il.charset;if(Il.charsetSentinel)for(Ll=0;Ll<Dl.length;++Ll)Dl[Ll].indexOf("utf8=")===0&&(Dl[Ll]===xa?Nl="utf-8":Dl[Ll]===uo&&(Nl="iso-8859-1"),Bl=Ll,Ll=Dl.length);for(Ll=0;Ll<Dl.length;++Ll)if(Ll!==Bl){var zl=Dl[Ll],$l=zl.indexOf("]="),Vl=$l===-1?zl.indexOf("="):$l+1,Gl,iu;Vl===-1?(Gl=Il.decoder(zl,lo.decoder,Nl,"key"),iu=Il.strictNullHandling?null:""):(Gl=Il.decoder(zl.slice(0,Vl),lo.decoder,Nl,"key"),iu=us.maybeMap(hs(zl.slice(Vl+1),Il,cs(Fl[Gl])?Fl[Gl].length:0),function(Jl){return Il.decoder(Jl,lo.decoder,Nl,"value")})),iu&&Il.interpretNumericEntities&&Nl==="iso-8859-1"&&(iu=co(String(iu))),zl.indexOf("[]=")>-1&&(iu=cs(iu)?[iu]:iu);var nu=is.call(Fl,Gl);nu&&Il.duplicates==="combine"?Fl[Gl]=us.combine(Fl[Gl],iu):(!nu||Il.duplicates==="last")&&(Fl[Gl]=iu)}return Fl},$a=function(Cl,_l,Il,Fl){var Ml=0;if(Cl.length>0&&Cl[Cl.length-1]==="[]"){var Tl=Cl.slice(0,-1).join("");Ml=Array.isArray(_l)&&_l[Tl]?_l[Tl].length:0}for(var Dl=Fl?_l:hs(_l,Il,Ml),Bl=Cl.length-1;Bl>=0;--Bl){var Ll,Nl=Cl[Bl];if(Nl==="[]"&&Il.parseArrays)Ll=Il.allowEmptyArrays&&(Dl===""||Il.strictNullHandling&&Dl===null)?[]:us.combine([],Dl);else{Ll=Il.plainObjects?{__proto__:null}:{};var zl=Nl.charAt(0)==="["&&Nl.charAt(Nl.length-1)==="]"?Nl.slice(1,-1):Nl,$l=Il.decodeDotInKeys?zl.replace(/%2E/g,"."):zl,Vl=parseInt($l,10);!Il.parseArrays&&$l===""?Ll={0:Dl}:!isNaN(Vl)&&Nl!==$l&&String(Vl)===$l&&Vl>=0&&Il.parseArrays&&Vl<=Il.arrayLimit?(Ll=[],Ll[Vl]=Dl):$l!=="__proto__"&&(Ll[$l]=Dl)}Dl=Ll}return Dl},wl=function(_l,Il,Fl,Ml){if(_l){var Tl=Fl.allowDots?_l.replace(/\.([^.[]+)/g,"[$1]"):_l,Dl=/(\[[^[\]]*])/,Bl=/(\[[^[\]]*])/g,Ll=Fl.depth>0&&Dl.exec(Tl),Nl=Ll?Tl.slice(0,Ll.index):Tl,zl=[];if(Nl){if(!Fl.plainObjects&&is.call(Object.prototype,Nl)&&!Fl.allowPrototypes)return;zl.push(Nl)}for(var $l=0;Fl.depth>0&&(Ll=Bl.exec(Tl))!==null&&$l<Fl.depth;){if($l+=1,!Fl.plainObjects&&is.call(Object.prototype,Ll[1].slice(1,-1))&&!Fl.allowPrototypes)return;zl.push(Ll[1])}if(Ll){if(Fl.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+Fl.depth+" and strictDepth is true");zl.push("["+Tl.slice(Ll.index)+"]")}return $a(zl,Il,Fl,Ml)}},Sl=function(_l){if(!_l)return lo;if(typeof _l.allowEmptyArrays<"u"&&typeof _l.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _l.decodeDotInKeys<"u"&&typeof _l.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_l.decoder!==null&&typeof _l.decoder<"u"&&typeof _l.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _l.charset<"u"&&_l.charset!=="utf-8"&&_l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _l.throwOnLimitExceeded<"u"&&typeof _l.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var Il=typeof _l.charset>"u"?lo.charset:_l.charset,Fl=typeof _l.duplicates>"u"?lo.duplicates:_l.duplicates;if(Fl!=="combine"&&Fl!=="first"&&Fl!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var Ml=typeof _l.allowDots>"u"?_l.decodeDotInKeys===!0?!0:lo.allowDots:!!_l.allowDots;return{allowDots:Ml,allowEmptyArrays:typeof _l.allowEmptyArrays=="boolean"?!!_l.allowEmptyArrays:lo.allowEmptyArrays,allowPrototypes:typeof _l.allowPrototypes=="boolean"?_l.allowPrototypes:lo.allowPrototypes,allowSparse:typeof _l.allowSparse=="boolean"?_l.allowSparse:lo.allowSparse,arrayLimit:typeof _l.arrayLimit=="number"?_l.arrayLimit:lo.arrayLimit,charset:Il,charsetSentinel:typeof _l.charsetSentinel=="boolean"?_l.charsetSentinel:lo.charsetSentinel,comma:typeof _l.comma=="boolean"?_l.comma:lo.comma,decodeDotInKeys:typeof _l.decodeDotInKeys=="boolean"?_l.decodeDotInKeys:lo.decodeDotInKeys,decoder:typeof _l.decoder=="function"?_l.decoder:lo.decoder,delimiter:typeof _l.delimiter=="string"||us.isRegExp(_l.delimiter)?_l.delimiter:lo.delimiter,depth:typeof _l.depth=="number"||_l.depth===!1?+_l.depth:lo.depth,duplicates:Fl,ignoreQueryPrefix:_l.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _l.interpretNumericEntities=="boolean"?_l.interpretNumericEntities:lo.interpretNumericEntities,parameterLimit:typeof _l.parameterLimit=="number"?_l.parameterLimit:lo.parameterLimit,parseArrays:_l.parseArrays!==!1,plainObjects:typeof _l.plainObjects=="boolean"?_l.plainObjects:lo.plainObjects,strictDepth:typeof _l.strictDepth=="boolean"?!!_l.strictDepth:lo.strictDepth,strictNullHandling:typeof _l.strictNullHandling=="boolean"?_l.strictNullHandling:lo.strictNullHandling,throwOnLimitExceeded:typeof _l.throwOnLimitExceeded=="boolean"?_l.throwOnLimitExceeded:!1}};return parse$1=function(Cl,_l){var Il=Sl(_l);if(Cl===""||Cl===null||typeof Cl>"u")return Il.plainObjects?{__proto__:null}:{};for(var Fl=typeof Cl=="string"?ba(Cl,Il):Cl,Ml=Il.plainObjects?{__proto__:null}:{},Tl=Object.keys(Fl),Dl=0;Dl<Tl.length;++Dl){var Bl=Tl[Dl],Ll=wl(Bl,Fl[Bl],Il,typeof Cl=="string");Ml=us.merge(Ml,Ll,Il)}return Il.allowSparse===!0?Ml:us.compact(Ml)},parse$1}var lib$1,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var us=requireStringify(),is=requireParse(),cs=requireFormats();return lib$1={formats:cs,parse:is,stringify:us},lib$1}var hasRequiredUrl;function requireUrl(){return hasRequiredUrl||(hasRequiredUrl=1,function(us,is){Object.defineProperty(is,"__esModule",{value:!0});var cs=requirePunycode(),lo=requireLib$1();function co($u){return $u&&typeof $u=="object"&&"default"in $u?$u:{default:$u}}var hs=co(cs),uo=co(lo),xa=hs.default;function ba(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var $a=/^([a-z0-9.+-]+:)/i,wl=/:[0-9]*$/,Sl=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Cl=["<",">",'"',"`"," ","\r",`
`,"	"],_l=["{","}","|","\\","^","`"].concat(Cl),Il=["'"].concat(_l),Fl=["%","/","?",";","#"].concat(Il),Ml=["/","?","#"],Tl=255,Dl=/^[+a-z0-9A-Z_-]{0,63}$/,Bl=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ll={javascript:!0,"javascript:":!0},Nl={javascript:!0,"javascript:":!0},zl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$l=uo.default;function Vl($u,np,Eu){if($u&&typeof $u=="object"&&$u instanceof ba)return $u;var Lu=new ba;return Lu.parse($u,np,Eu),Lu}ba.prototype.parse=function($u,np,Eu){if(typeof $u!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $u);var Lu=$u.indexOf("?"),up=Lu!==-1&&Lu<$u.indexOf("#")?"?":"#",mp=$u.split(up),Rp=/\\/g;mp[0]=mp[0].replace(Rp,"/"),$u=mp.join(up);var kp=$u;if(kp=kp.trim(),!Eu&&$u.split("#").length===1){var hu=Sl.exec(kp);if(hu)return this.path=kp,this.href=kp,this.pathname=hu[1],hu[2]?(this.search=hu[2],np?this.query=$l.parse(this.search.substr(1)):this.query=this.search.substr(1)):np&&(this.search="",this.query={}),this}var Zl=$a.exec(kp);if(Zl){Zl=Zl[0];var eu=Zl.toLowerCase();this.protocol=eu,kp=kp.substr(Zl.length)}if(Eu||Zl||kp.match(/^\/\/[^@/]+@[^@/]+/)){var Nu=kp.substr(0,2)==="//";Nu&&!(Zl&&Nl[Zl])&&(kp=kp.substr(2),this.slashes=!0)}if(!Nl[Zl]&&(Nu||Zl&&!zl[Zl])){for(var Zu=-1,Vu=0;Vu<Ml.length;Vu++){var yu=kp.indexOf(Ml[Vu]);yu!==-1&&(Zu===-1||yu<Zu)&&(Zu=yu)}var Hu,Sp;Zu===-1?Sp=kp.lastIndexOf("@"):Sp=kp.lastIndexOf("@",Zu),Sp!==-1&&(Hu=kp.slice(0,Sp),kp=kp.slice(Sp+1),this.auth=decodeURIComponent(Hu)),Zu=-1;for(var Vu=0;Vu<Fl.length;Vu++){var yu=kp.indexOf(Fl[Vu]);yu!==-1&&(Zu===-1||yu<Zu)&&(Zu=yu)}Zu===-1&&(Zu=kp.length),this.host=kp.slice(0,Zu),kp=kp.slice(Zu),this.parseHost(),this.hostname=this.hostname||"";var Np=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Np)for(var Lp=this.hostname.split(/\./),Vu=0,Ku=Lp.length;Vu<Ku;Vu++){var wp=Lp[Vu];if(wp&&!wp.match(Dl)){for(var Bp="",Pp=0,n0=wp.length;Pp<n0;Pp++)wp.charCodeAt(Pp)>127?Bp+="x":Bp+=wp[Pp];if(!Bp.match(Dl)){var Jp=Lp.slice(0,Vu),Ju=Lp.slice(Vu+1),_d=wp.match(Bl);_d&&(Jp.push(_d[1]),Ju.unshift(_d[2])),Ju.length&&(kp="/"+Ju.join(".")+kp),this.hostname=Jp.join(".");break}}}this.hostname.length>Tl?this.hostname="":this.hostname=this.hostname.toLowerCase(),Np||(this.hostname=xa.toASCII(this.hostname));var hp=this.port?":"+this.port:"",xp=this.hostname||"";this.host=xp+hp,this.href+=this.host,Np&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),kp[0]!=="/"&&(kp="/"+kp))}if(!Ll[eu])for(var Vu=0,Ku=Il.length;Vu<Ku;Vu++){var Ru=Il[Vu];if(kp.indexOf(Ru)!==-1){var sp=encodeURIComponent(Ru);sp===Ru&&(sp=escape(Ru)),kp=kp.split(Ru).join(sp)}}var lp=kp.indexOf("#");lp!==-1&&(this.hash=kp.substr(lp),kp=kp.slice(0,lp));var Ip=kp.indexOf("?");if(Ip!==-1?(this.search=kp.substr(Ip),this.query=kp.substr(Ip+1),np&&(this.query=$l.parse(this.query)),kp=kp.slice(0,Ip)):np&&(this.search="",this.query={}),kp&&(this.pathname=kp),zl[eu]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var hp=this.pathname||"",_p=this.search||"";this.path=hp+_p}return this.href=this.format(),this};function Gl($u){return typeof $u=="string"&&($u=Vl($u)),$u instanceof ba?$u.format():ba.prototype.format.call($u)}ba.prototype.format=function(){var $u=this.auth||"";$u&&($u=encodeURIComponent($u),$u=$u.replace(/%3A/i,":"),$u+="@");var np=this.protocol||"",Eu=this.pathname||"",Lu=this.hash||"",up=!1,mp="";this.host?up=$u+this.host:this.hostname&&(up=$u+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(up+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(mp=$l.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Rp=this.search||mp&&"?"+mp||"";return np&&np.substr(-1)!==":"&&(np+=":"),this.slashes||(!np||zl[np])&&up!==!1?(up="//"+(up||""),Eu&&Eu.charAt(0)!=="/"&&(Eu="/"+Eu)):up||(up=""),Lu&&Lu.charAt(0)!=="#"&&(Lu="#"+Lu),Rp&&Rp.charAt(0)!=="?"&&(Rp="?"+Rp),Eu=Eu.replace(/[?#]/g,function(kp){return encodeURIComponent(kp)}),Rp=Rp.replace("#","%23"),np+up+Eu+Rp+Lu};function iu($u,np){return Vl($u,!1,!0).resolve(np)}ba.prototype.resolve=function($u){return this.resolveObject(Vl($u,!1,!0)).format()};function nu($u,np){return $u?Vl($u,!1,!0).resolveObject(np):np}ba.prototype.resolveObject=function($u){if(typeof $u=="string"){var np=new ba;np.parse($u,!1,!0),$u=np}for(var Eu=new ba,Lu=Object.keys(this),up=0;up<Lu.length;up++){var mp=Lu[up];Eu[mp]=this[mp]}if(Eu.hash=$u.hash,$u.href==="")return Eu.href=Eu.format(),Eu;if($u.slashes&&!$u.protocol){for(var Rp=Object.keys($u),kp=0;kp<Rp.length;kp++){var hu=Rp[kp];hu!=="protocol"&&(Eu[hu]=$u[hu])}return zl[Eu.protocol]&&Eu.hostname&&!Eu.pathname&&(Eu.pathname="/",Eu.path=Eu.pathname),Eu.href=Eu.format(),Eu}if($u.protocol&&$u.protocol!==Eu.protocol){if(!zl[$u.protocol]){for(var Zl=Object.keys($u),eu=0;eu<Zl.length;eu++){var Nu=Zl[eu];Eu[Nu]=$u[Nu]}return Eu.href=Eu.format(),Eu}if(Eu.protocol=$u.protocol,!$u.host&&!Nl[$u.protocol]){for(var Ku=($u.pathname||"").split("/");Ku.length&&!($u.host=Ku.shift()););$u.host||($u.host=""),$u.hostname||($u.hostname=""),Ku[0]!==""&&Ku.unshift(""),Ku.length<2&&Ku.unshift(""),Eu.pathname=Ku.join("/")}else Eu.pathname=$u.pathname;if(Eu.search=$u.search,Eu.query=$u.query,Eu.host=$u.host||"",Eu.auth=$u.auth,Eu.hostname=$u.hostname||$u.host,Eu.port=$u.port,Eu.pathname||Eu.search){var Zu=Eu.pathname||"",Vu=Eu.search||"";Eu.path=Zu+Vu}return Eu.slashes=Eu.slashes||$u.slashes,Eu.href=Eu.format(),Eu}var yu=Eu.pathname&&Eu.pathname.charAt(0)==="/",Hu=$u.host||$u.pathname&&$u.pathname.charAt(0)==="/",Sp=Hu||yu||Eu.host&&$u.pathname,Np=Sp,Lp=Eu.pathname&&Eu.pathname.split("/")||[],Ku=$u.pathname&&$u.pathname.split("/")||[],wp=Eu.protocol&&!zl[Eu.protocol];if(wp&&(Eu.hostname="",Eu.port=null,Eu.host&&(Lp[0]===""?Lp[0]=Eu.host:Lp.unshift(Eu.host)),Eu.host="",$u.protocol&&($u.hostname=null,$u.port=null,$u.host&&(Ku[0]===""?Ku[0]=$u.host:Ku.unshift($u.host)),$u.host=null),Sp=Sp&&(Ku[0]===""||Lp[0]==="")),Hu)Eu.host=$u.host||$u.host===""?$u.host:Eu.host,Eu.hostname=$u.hostname||$u.hostname===""?$u.hostname:Eu.hostname,Eu.search=$u.search,Eu.query=$u.query,Lp=Ku;else if(Ku.length)Lp||(Lp=[]),Lp.pop(),Lp=Lp.concat(Ku),Eu.search=$u.search,Eu.query=$u.query;else if($u.search!=null){if(wp){Eu.host=Lp.shift(),Eu.hostname=Eu.host;var Bp=Eu.host&&Eu.host.indexOf("@")>0?Eu.host.split("@"):!1;Bp&&(Eu.auth=Bp.shift(),Eu.hostname=Bp.shift(),Eu.host=Eu.hostname)}return Eu.search=$u.search,Eu.query=$u.query,(Eu.pathname!==null||Eu.search!==null)&&(Eu.path=(Eu.pathname?Eu.pathname:"")+(Eu.search?Eu.search:"")),Eu.href=Eu.format(),Eu}if(!Lp.length)return Eu.pathname=null,Eu.search?Eu.path="/"+Eu.search:Eu.path=null,Eu.href=Eu.format(),Eu;for(var Pp=Lp.slice(-1)[0],n0=(Eu.host||$u.host||Lp.length>1)&&(Pp==="."||Pp==="..")||Pp==="",Jp=0,Ju=Lp.length;Ju>=0;Ju--)Pp=Lp[Ju],Pp==="."?Lp.splice(Ju,1):Pp===".."?(Lp.splice(Ju,1),Jp++):Jp&&(Lp.splice(Ju,1),Jp--);if(!Sp&&!Np)for(;Jp--;Jp)Lp.unshift("..");Sp&&Lp[0]!==""&&(!Lp[0]||Lp[0].charAt(0)!=="/")&&Lp.unshift(""),n0&&Lp.join("/").substr(-1)!=="/"&&Lp.push("");var _d=Lp[0]===""||Lp[0]&&Lp[0].charAt(0)==="/";if(wp){Eu.hostname=_d?"":Lp.length?Lp.shift():"",Eu.host=Eu.hostname;var Bp=Eu.host&&Eu.host.indexOf("@")>0?Eu.host.split("@"):!1;Bp&&(Eu.auth=Bp.shift(),Eu.hostname=Bp.shift(),Eu.host=Eu.hostname)}return Sp=Sp||Eu.host&&Lp.length,Sp&&!_d&&Lp.unshift(""),Lp.length>0?Eu.pathname=Lp.join("/"):(Eu.pathname=null,Eu.path=null),(Eu.pathname!==null||Eu.search!==null)&&(Eu.path=(Eu.pathname?Eu.pathname:"")+(Eu.search?Eu.search:"")),Eu.auth=$u.auth||Eu.auth,Eu.slashes=Eu.slashes||$u.slashes,Eu.href=Eu.format(),Eu},ba.prototype.parseHost=function(){var $u=this.host,np=wl.exec($u);np&&(np=np[0],np!==":"&&(this.port=np.substr(1)),$u=$u.substr(0,$u.length-np.length)),$u&&(this.hostname=$u)};var Jl=Vl,lu=iu,ju=nu,zu=Gl,Wu=ba;function qu($u,np){for(var Eu=0,Lu=$u.length-1;Lu>=0;Lu--){var up=$u[Lu];up==="."?$u.splice(Lu,1):up===".."?($u.splice(Lu,1),Eu++):Eu&&($u.splice(Lu,1),Eu--)}if(np)for(;Eu--;Eu)$u.unshift("..");return $u}function Mu(){for(var $u="",np=!1,Eu=arguments.length-1;Eu>=-1&&!np;Eu--){var Lu=Eu>=0?arguments[Eu]:"/";if(typeof Lu!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Lu)continue;$u=Lu+"/"+$u,np=Lu.charAt(0)==="/"}return $u=qu(mu($u.split("/"),function(up){return!!up}),!np).join("/"),(np?"/":"")+$u||"."}function mu($u,np){if($u.filter)return $u.filter(np);for(var Eu=[],Lu=0;Lu<$u.length;Lu++)np($u[Lu],Lu,$u)&&Eu.push($u[Lu]);return Eu}var uu=function($u){function np(){var Lu=this||self;return delete $u.prototype.__magic__,Lu}if(typeof globalThis=="object")return globalThis;if(this)return np();$u.defineProperty($u.prototype,"__magic__",{configurable:!0,get:np});var Eu=__magic__;return Eu}(Object),cu=zu,ru=Jl,Yl=lu,Hl=Wu,Kl=uu.URL,_c=uu.URLSearchParams,Ql=/%/g,su=/\\/g,gu=/\n/g,Cu=/\r/g,vu=/\t/g,fu=47;function Fu($u){var np=$u??null;return!!(np!==null&&(np!=null&&np.href)&&(np!=null&&np.origin))}function _f($u){if($u.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var np=$u.pathname,Eu=0;Eu<np.length;Eu++)if(np[Eu]==="%"){var Lu=np.codePointAt(Eu+2)|32;if(np[Eu+1]==="2"&&Lu===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(np)}function Xu($u){return $u.includes("%")&&($u=$u.replace(Ql,"%25")),$u.includes("\\")&&($u=$u.replace(su,"%5C")),$u.includes(`
`)&&($u=$u.replace(gu,"%0A")),$u.includes("\r")&&($u=$u.replace(Cu,"%0D")),$u.includes("	")&&($u=$u.replace(vu,"%09")),$u}var Gu=function(np){if(typeof np>"u")throw new TypeError('The "domain" argument must be specified');return new Kl("http://"+np).hostname},Uu=function(np){if(typeof np>"u")throw new TypeError('The "domain" argument must be specified');return new Kl("http://"+np).hostname},Au=function(np){var Eu=new Kl("file://"),Lu=Mu(np),up=np.charCodeAt(np.length-1);return up===fu&&Lu[Lu.length-1]!=="/"&&(Lu+="/"),Eu.pathname=Xu(Lu),Eu},Pu=function(np){if(!Fu(np)&&typeof np!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof np+" ("+np+")");var Eu=new Kl(np);if(Eu.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return _f(Eu)},Ou=function(np,Eu){var Lu,up,mp,Rp;if(Eu===void 0&&(Eu={}),!(np instanceof Kl))return cu(np);if(typeof Eu!="object"||Eu===null)throw new TypeError('The "options" argument must be of type object.');var kp=(Lu=Eu.auth)!=null?Lu:!0,hu=(up=Eu.fragment)!=null?up:!0,Zl=(mp=Eu.search)!=null?mp:!0;(Rp=Eu.unicode)!=null;var eu=new Kl(np.toString());return kp||(eu.username="",eu.password=""),hu||(eu.hash=""),Zl||(eu.search=""),eu.toString()},ip={format:Ou,parse:ru,resolve:Yl,resolveObject:ju,Url:Hl,URL:Kl,URLSearchParams:_c,domainToASCII:Gu,domainToUnicode:Uu,pathToFileURL:Au,fileURLToPath:Pu};is.URL=Kl,is.URLSearchParams=_c,is.Url=Hl,is.default=ip,is.domainToASCII=Gu,is.domainToUnicode=Uu,is.fileURLToPath=Pu,is.format=Ou,is.parse=ru,is.pathToFileURL=Au,is.resolve=Yl,is.resolveObject=ju,is=us.exports=ip}(url,url.exports)),url.exports}var streamHttp={},request={exports:{}},capability={},hasRequiredCapability;function requireCapability(){return hasRequiredCapability||(hasRequiredCapability=1,function(us){us.fetch=co(globalThis.fetch)&&co(globalThis.ReadableStream),us.writableStream=co(globalThis.WritableStream),us.abortController=co(globalThis.AbortController);var is;function cs(){if(is!==void 0)return is;if(globalThis.XMLHttpRequest){is=new globalThis.XMLHttpRequest;try{is.open("GET",globalThis.XDomainRequest?"/":"https://example.com")}catch{is=null}}else is=null;return is}function lo(hs){var uo=cs();if(!uo)return!1;try{return uo.responseType=hs,uo.responseType===hs}catch{}return!1}us.arraybuffer=us.fetch||lo("arraybuffer"),us.msstream=!us.fetch&&lo("ms-stream"),us.mozchunkedarraybuffer=!us.fetch&&lo("moz-chunked-arraybuffer"),us.overrideMimeType=us.fetch||(cs()?co(cs().overrideMimeType):!1);function co(hs){return typeof hs=="function"}is=null}(capability)),capability}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(is,cs){cs&&(is.super_=cs,is.prototype=Object.create(cs.prototype,{constructor:{value:is,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(is,cs){if(cs){is.super_=cs;var lo=function(){};lo.prototype=cs.prototype,is.prototype=new lo,is.prototype.constructor=is}}),inherits_browser.exports}var response={},readableBrowser={exports:{}},events$3={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events$3.exports;hasRequiredEvents=1;var us=typeof Reflect=="object"?Reflect:null,is=us&&typeof us.apply=="function"?us.apply:function(Nl,zl,$l){return Function.prototype.apply.call(Nl,zl,$l)},cs;us&&typeof us.ownKeys=="function"?cs=us.ownKeys:Object.getOwnPropertySymbols?cs=function(Nl){return Object.getOwnPropertyNames(Nl).concat(Object.getOwnPropertySymbols(Nl))}:cs=function(Nl){return Object.getOwnPropertyNames(Nl)};function lo(Ll){console&&console.warn&&console.warn(Ll)}var co=Number.isNaN||function(Nl){return Nl!==Nl};function hs(){hs.init.call(this)}events$3.exports=hs,events$3.exports.once=Tl,hs.EventEmitter=hs,hs.prototype._events=void 0,hs.prototype._eventsCount=0,hs.prototype._maxListeners=void 0;var uo=10;function xa(Ll){if(typeof Ll!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ll)}Object.defineProperty(hs,"defaultMaxListeners",{enumerable:!0,get:function(){return uo},set:function(Ll){if(typeof Ll!="number"||Ll<0||co(Ll))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ll+".");uo=Ll}}),hs.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},hs.prototype.setMaxListeners=function(Nl){if(typeof Nl!="number"||Nl<0||co(Nl))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Nl+".");return this._maxListeners=Nl,this};function ba(Ll){return Ll._maxListeners===void 0?hs.defaultMaxListeners:Ll._maxListeners}hs.prototype.getMaxListeners=function(){return ba(this)},hs.prototype.emit=function(Nl){for(var zl=[],$l=1;$l<arguments.length;$l++)zl.push(arguments[$l]);var Vl=Nl==="error",Gl=this._events;if(Gl!==void 0)Vl=Vl&&Gl.error===void 0;else if(!Vl)return!1;if(Vl){var iu;if(zl.length>0&&(iu=zl[0]),iu instanceof Error)throw iu;var nu=new Error("Unhandled error."+(iu?" ("+iu.message+")":""));throw nu.context=iu,nu}var Jl=Gl[Nl];if(Jl===void 0)return!1;if(typeof Jl=="function")is(Jl,this,zl);else for(var lu=Jl.length,ju=Il(Jl,lu),$l=0;$l<lu;++$l)is(ju[$l],this,zl);return!0};function $a(Ll,Nl,zl,$l){var Vl,Gl,iu;if(xa(zl),Gl=Ll._events,Gl===void 0?(Gl=Ll._events=Object.create(null),Ll._eventsCount=0):(Gl.newListener!==void 0&&(Ll.emit("newListener",Nl,zl.listener?zl.listener:zl),Gl=Ll._events),iu=Gl[Nl]),iu===void 0)iu=Gl[Nl]=zl,++Ll._eventsCount;else if(typeof iu=="function"?iu=Gl[Nl]=$l?[zl,iu]:[iu,zl]:$l?iu.unshift(zl):iu.push(zl),Vl=ba(Ll),Vl>0&&iu.length>Vl&&!iu.warned){iu.warned=!0;var nu=new Error("Possible EventEmitter memory leak detected. "+iu.length+" "+String(Nl)+" listeners added. Use emitter.setMaxListeners() to increase limit");nu.name="MaxListenersExceededWarning",nu.emitter=Ll,nu.type=Nl,nu.count=iu.length,lo(nu)}return Ll}hs.prototype.addListener=function(Nl,zl){return $a(this,Nl,zl,!1)},hs.prototype.on=hs.prototype.addListener,hs.prototype.prependListener=function(Nl,zl){return $a(this,Nl,zl,!0)};function wl(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Sl(Ll,Nl,zl){var $l={fired:!1,wrapFn:void 0,target:Ll,type:Nl,listener:zl},Vl=wl.bind($l);return Vl.listener=zl,$l.wrapFn=Vl,Vl}hs.prototype.once=function(Nl,zl){return xa(zl),this.on(Nl,Sl(this,Nl,zl)),this},hs.prototype.prependOnceListener=function(Nl,zl){return xa(zl),this.prependListener(Nl,Sl(this,Nl,zl)),this},hs.prototype.removeListener=function(Nl,zl){var $l,Vl,Gl,iu,nu;if(xa(zl),Vl=this._events,Vl===void 0)return this;if($l=Vl[Nl],$l===void 0)return this;if($l===zl||$l.listener===zl)--this._eventsCount===0?this._events=Object.create(null):(delete Vl[Nl],Vl.removeListener&&this.emit("removeListener",Nl,$l.listener||zl));else if(typeof $l!="function"){for(Gl=-1,iu=$l.length-1;iu>=0;iu--)if($l[iu]===zl||$l[iu].listener===zl){nu=$l[iu].listener,Gl=iu;break}if(Gl<0)return this;Gl===0?$l.shift():Fl($l,Gl),$l.length===1&&(Vl[Nl]=$l[0]),Vl.removeListener!==void 0&&this.emit("removeListener",Nl,nu||zl)}return this},hs.prototype.off=hs.prototype.removeListener,hs.prototype.removeAllListeners=function(Nl){var zl,$l,Vl;if($l=this._events,$l===void 0)return this;if($l.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$l[Nl]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $l[Nl]),this;if(arguments.length===0){var Gl=Object.keys($l),iu;for(Vl=0;Vl<Gl.length;++Vl)iu=Gl[Vl],iu!=="removeListener"&&this.removeAllListeners(iu);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(zl=$l[Nl],typeof zl=="function")this.removeListener(Nl,zl);else if(zl!==void 0)for(Vl=zl.length-1;Vl>=0;Vl--)this.removeListener(Nl,zl[Vl]);return this};function Cl(Ll,Nl,zl){var $l=Ll._events;if($l===void 0)return[];var Vl=$l[Nl];return Vl===void 0?[]:typeof Vl=="function"?zl?[Vl.listener||Vl]:[Vl]:zl?Ml(Vl):Il(Vl,Vl.length)}hs.prototype.listeners=function(Nl){return Cl(this,Nl,!0)},hs.prototype.rawListeners=function(Nl){return Cl(this,Nl,!1)},hs.listenerCount=function(Ll,Nl){return typeof Ll.listenerCount=="function"?Ll.listenerCount(Nl):_l.call(Ll,Nl)},hs.prototype.listenerCount=_l;function _l(Ll){var Nl=this._events;if(Nl!==void 0){var zl=Nl[Ll];if(typeof zl=="function")return 1;if(zl!==void 0)return zl.length}return 0}hs.prototype.eventNames=function(){return this._eventsCount>0?cs(this._events):[]};function Il(Ll,Nl){for(var zl=new Array(Nl),$l=0;$l<Nl;++$l)zl[$l]=Ll[$l];return zl}function Fl(Ll,Nl){for(;Nl+1<Ll.length;Nl++)Ll[Nl]=Ll[Nl+1];Ll.pop()}function Ml(Ll){for(var Nl=new Array(Ll.length),zl=0;zl<Nl.length;++zl)Nl[zl]=Ll[zl].listener||Ll[zl];return Nl}function Tl(Ll,Nl){return new Promise(function(zl,$l){function Vl(iu){Ll.removeListener(Nl,Gl),$l(iu)}function Gl(){typeof Ll.removeListener=="function"&&Ll.removeListener("error",Vl),zl([].slice.call(arguments))}Bl(Ll,Nl,Gl,{once:!0}),Nl!=="error"&&Dl(Ll,Vl,{once:!0})})}function Dl(Ll,Nl,zl){typeof Ll.on=="function"&&Bl(Ll,"error",Nl,zl)}function Bl(Ll,Nl,zl,$l){if(typeof Ll.on=="function")$l.once?Ll.once(Nl,zl):Ll.on(Nl,zl);else if(typeof Ll.addEventListener=="function")Ll.addEventListener(Nl,function Vl(Gl){$l.once&&Ll.removeEventListener(Nl,Vl),zl(Gl)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Ll)}return events$3.exports}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}const require$$0$1=getAugmentedNamespace(dist);var util={},types={},shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var us=requireShams$1();return shams=function(){return us()&&!!Symbol.toStringTag},shams}var isArguments$1,hasRequiredIsArguments$1;function requireIsArguments$1(){if(hasRequiredIsArguments$1)return isArguments$1;hasRequiredIsArguments$1=1;var us=requireShams()(),is=requireCallBound$1(),cs=is("Object.prototype.toString"),lo=function(xa){return us&&xa&&typeof xa=="object"&&Symbol.toStringTag in xa?!1:cs(xa)==="[object Arguments]"},co=function(xa){return lo(xa)?!0:xa!==null&&typeof xa=="object"&&"length"in xa&&typeof xa.length=="number"&&xa.length>=0&&cs(xa)!=="[object Array]"&&"callee"in xa&&cs(xa.callee)==="[object Function]"},hs=function(){return lo(arguments)}();return lo.isLegacyArguments=co,isArguments$1=hs?lo:co,isArguments$1}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var us=requireCallBound$1(),is=requireShams()(),cs=requireHasown(),lo=requireGopd(),co;if(is){var hs=us("RegExp.prototype.exec"),uo={},xa=function(){throw uo},ba={toString:xa,valueOf:xa};typeof Symbol.toPrimitive=="symbol"&&(ba[Symbol.toPrimitive]=xa),co=function(Cl){if(!Cl||typeof Cl!="object")return!1;var _l=lo(Cl,"lastIndex"),Il=_l&&cs(_l,"value");if(!Il)return!1;try{hs(Cl,ba)}catch(Fl){return Fl===uo}}}else{var $a=us("Object.prototype.toString"),wl="[object RegExp]";co=function(Cl){return!Cl||typeof Cl!="object"&&typeof Cl!="function"?!1:$a(Cl)===wl}}return isRegex=co,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var us=requireCallBound$1(),is=requireIsRegex(),cs=us("RegExp.prototype.exec"),lo=requireType();return safeRegexTest=function(hs){if(!is(hs))throw new lo("`regex` must be a RegExp");return function(xa){return cs(hs,xa)!==null}},safeRegexTest}var generatorFunction,hasRequiredGeneratorFunction;function requireGeneratorFunction(){if(hasRequiredGeneratorFunction)return generatorFunction;hasRequiredGeneratorFunction=1;const us=(function*(){}).constructor;return generatorFunction=()=>us,generatorFunction}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var us=requireCallBound$1(),is=requireSafeRegexTest(),cs=is(/^\s*(?:function)?\*/),lo=requireShams()(),co=requireGetProto(),hs=us("Object.prototype.toString"),uo=us("Function.prototype.toString"),xa=requireGeneratorFunction();return isGeneratorFunction=function($a){if(typeof $a!="function")return!1;if(cs(uo($a)))return!0;if(!lo){var wl=hs($a);return wl==="[object GeneratorFunction]"}if(!co)return!1;var Sl=xa();return Sl&&co($a)===Sl.prototype},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var us=Function.prototype.toString,is=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,cs,lo;if(typeof is=="function"&&typeof Object.defineProperty=="function")try{cs=Object.defineProperty({},"length",{get:function(){throw lo}}),lo={},is(function(){throw 42},null,cs)}catch(Dl){Dl!==lo&&(is=null)}else is=null;var co=/^\s*class\b/,hs=function(Bl){try{var Ll=us.call(Bl);return co.test(Ll)}catch{return!1}},uo=function(Bl){try{return hs(Bl)?!1:(us.call(Bl),!0)}catch{return!1}},xa=Object.prototype.toString,ba="[object Object]",$a="[object Function]",wl="[object GeneratorFunction]",Sl="[object HTMLAllCollection]",Cl="[object HTML document.all class]",_l="[object HTMLCollection]",Il=typeof Symbol=="function"&&!!Symbol.toStringTag,Fl=!(0 in[,]),Ml=function(){return!1};if(typeof document=="object"){var Tl=document.all;xa.call(Tl)===xa.call(document.all)&&(Ml=function(Bl){if((Fl||!Bl)&&(typeof Bl>"u"||typeof Bl=="object"))try{var Ll=xa.call(Bl);return(Ll===Sl||Ll===Cl||Ll===_l||Ll===ba)&&Bl("")==null}catch{}return!1})}return isCallable=is?function(Bl){if(Ml(Bl))return!0;if(!Bl||typeof Bl!="function"&&typeof Bl!="object")return!1;try{is(Bl,null,cs)}catch(Ll){if(Ll!==lo)return!1}return!hs(Bl)&&uo(Bl)}:function(Bl){if(Ml(Bl))return!0;if(!Bl||typeof Bl!="function"&&typeof Bl!="object")return!1;if(Il)return uo(Bl);if(hs(Bl))return!1;var Ll=xa.call(Bl);return Ll!==$a&&Ll!==wl&&!/^\[object HTML/.test(Ll)?!1:uo(Bl)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var us=requireIsCallable(),is=Object.prototype.toString,cs=Object.prototype.hasOwnProperty,lo=function(ba,$a,wl){for(var Sl=0,Cl=ba.length;Sl<Cl;Sl++)cs.call(ba,Sl)&&(wl==null?$a(ba[Sl],Sl,ba):$a.call(wl,ba[Sl],Sl,ba))},co=function(ba,$a,wl){for(var Sl=0,Cl=ba.length;Sl<Cl;Sl++)wl==null?$a(ba.charAt(Sl),Sl,ba):$a.call(wl,ba.charAt(Sl),Sl,ba)},hs=function(ba,$a,wl){for(var Sl in ba)cs.call(ba,Sl)&&(wl==null?$a(ba[Sl],Sl,ba):$a.call(wl,ba[Sl],Sl,ba))};function uo(xa){return is.call(xa)==="[object Array]"}return forEach=function(ba,$a,wl){if(!us($a))throw new TypeError("iterator must be a function");var Sl;arguments.length>=3&&(Sl=wl),uo(ba)?lo(ba,$a,Sl):typeof ba=="string"?co(ba,$a,Sl):hs(ba,$a,Sl)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var us=requirePossibleTypedArrayNames(),is=globalThis;return availableTypedArrays=function(){for(var lo=[],co=0;co<us.length;co++)typeof is[us[co]]=="function"&&(lo[lo.length]=us[co]);return lo},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var us=requireEsDefineProperty(),is=requireSyntax(),cs=requireType(),lo=requireGopd();return defineDataProperty=function(hs,uo,xa){if(!hs||typeof hs!="object"&&typeof hs!="function")throw new cs("`obj` must be an object or a function`");if(typeof uo!="string"&&typeof uo!="symbol")throw new cs("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new cs("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new cs("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new cs("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new cs("`loose`, if provided, must be a boolean");var ba=arguments.length>3?arguments[3]:null,$a=arguments.length>4?arguments[4]:null,wl=arguments.length>5?arguments[5]:null,Sl=arguments.length>6?arguments[6]:!1,Cl=!!lo&&lo(hs,uo);if(us)us(hs,uo,{configurable:wl===null&&Cl?Cl.configurable:!wl,enumerable:ba===null&&Cl?Cl.enumerable:!ba,value:xa,writable:$a===null&&Cl?Cl.writable:!$a});else if(Sl||!ba&&!$a&&!wl)hs[uo]=xa;else throw new is("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var us=requireEsDefineProperty(),is=function(){return!!us};return is.hasArrayLengthDefineBug=function(){if(!us)return null;try{return us([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=is,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var us=requireGetIntrinsic(),is=requireDefineDataProperty(),cs=requireHasPropertyDescriptors()(),lo=requireGopd(),co=requireType(),hs=us("%Math.floor%");return setFunctionLength=function(xa,ba){if(typeof xa!="function")throw new co("`fn` is not a function");if(typeof ba!="number"||ba<0||ba>4294967295||hs(ba)!==ba)throw new co("`length` must be a positive 32-bit integer");var $a=arguments.length>2&&!!arguments[2],wl=!0,Sl=!0;if("length"in xa&&lo){var Cl=lo(xa,"length");Cl&&!Cl.configurable&&(wl=!1),Cl&&!Cl.writable&&(Sl=!1)}return(wl||Sl||!$a)&&(cs?is(xa,"length",ba,!0,!0):is(xa,"length",ba)),xa},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var us=requireFunctionBind(),is=requireFunctionApply(),cs=requireActualApply();return applyBind=function(){return cs(us,is,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(us){var is=requireSetFunctionLength(),cs=requireEsDefineProperty(),lo=requireCallBindApplyHelpers(),co=requireApplyBind();us.exports=function(uo){var xa=lo(arguments),ba=uo.length-(arguments.length-1);return is(xa,1+(ba>0?ba:0),!0)},cs?cs(us.exports,"apply",{value:co}):us.exports.apply=co}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var us=requireForEach(),is=requireAvailableTypedArrays(),cs=requireCallBind(),lo=requireCallBound$1(),co=requireGopd(),hs=requireGetProto(),uo=lo("Object.prototype.toString"),xa=requireShams()(),ba=globalThis,$a=is(),wl=lo("String.prototype.slice"),Sl=lo("Array.prototype.indexOf",!0)||function(Ml,Tl){for(var Dl=0;Dl<Ml.length;Dl+=1)if(Ml[Dl]===Tl)return Dl;return-1},Cl={__proto__:null};xa&&co&&hs?us($a,function(Fl){var Ml=new ba[Fl];if(Symbol.toStringTag in Ml&&hs){var Tl=hs(Ml),Dl=co(Tl,Symbol.toStringTag);if(!Dl&&Tl){var Bl=hs(Tl);Dl=co(Bl,Symbol.toStringTag)}Cl["$"+Fl]=cs(Dl.get)}}):us($a,function(Fl){var Ml=new ba[Fl],Tl=Ml.slice||Ml.set;Tl&&(Cl["$"+Fl]=cs(Tl))});var _l=function(Ml){var Tl=!1;return us(Cl,function(Dl,Bl){if(!Tl)try{"$"+Dl(Ml)===Bl&&(Tl=wl(Bl,1))}catch{}}),Tl},Il=function(Ml){var Tl=!1;return us(Cl,function(Dl,Bl){if(!Tl)try{Dl(Ml),Tl=wl(Bl,1)}catch{}}),Tl};return whichTypedArray=function(Ml){if(!Ml||typeof Ml!="object")return!1;if(!xa){var Tl=wl(uo(Ml),8,-1);return Sl($a,Tl)>-1?Tl:Tl!=="Object"?!1:Il(Ml)}return co?_l(Ml):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var us=requireWhichTypedArray();return isTypedArray=function(cs){return!!us(cs)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(us){var is=requireIsArguments$1(),cs=requireIsGeneratorFunction(),lo=requireWhichTypedArray(),co=requireIsTypedArray();function hs(Pu){return Pu.call.bind(Pu)}var uo=typeof BigInt<"u",xa=typeof Symbol<"u",ba=hs(Object.prototype.toString),$a=hs(Number.prototype.valueOf),wl=hs(String.prototype.valueOf),Sl=hs(Boolean.prototype.valueOf);if(uo)var Cl=hs(BigInt.prototype.valueOf);if(xa)var _l=hs(Symbol.prototype.valueOf);function Il(Pu,Ou){if(typeof Pu!="object")return!1;try{return Ou(Pu),!0}catch{return!1}}us.isArgumentsObject=is,us.isGeneratorFunction=cs,us.isTypedArray=co;function Fl(Pu){return typeof Promise<"u"&&Pu instanceof Promise||Pu!==null&&typeof Pu=="object"&&typeof Pu.then=="function"&&typeof Pu.catch=="function"}us.isPromise=Fl;function Ml(Pu){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Pu):co(Pu)||Yl(Pu)}us.isArrayBufferView=Ml;function Tl(Pu){return lo(Pu)==="Uint8Array"}us.isUint8Array=Tl;function Dl(Pu){return lo(Pu)==="Uint8ClampedArray"}us.isUint8ClampedArray=Dl;function Bl(Pu){return lo(Pu)==="Uint16Array"}us.isUint16Array=Bl;function Ll(Pu){return lo(Pu)==="Uint32Array"}us.isUint32Array=Ll;function Nl(Pu){return lo(Pu)==="Int8Array"}us.isInt8Array=Nl;function zl(Pu){return lo(Pu)==="Int16Array"}us.isInt16Array=zl;function $l(Pu){return lo(Pu)==="Int32Array"}us.isInt32Array=$l;function Vl(Pu){return lo(Pu)==="Float32Array"}us.isFloat32Array=Vl;function Gl(Pu){return lo(Pu)==="Float64Array"}us.isFloat64Array=Gl;function iu(Pu){return lo(Pu)==="BigInt64Array"}us.isBigInt64Array=iu;function nu(Pu){return lo(Pu)==="BigUint64Array"}us.isBigUint64Array=nu;function Jl(Pu){return ba(Pu)==="[object Map]"}Jl.working=typeof Map<"u"&&Jl(new Map);function lu(Pu){return typeof Map>"u"?!1:Jl.working?Jl(Pu):Pu instanceof Map}us.isMap=lu;function ju(Pu){return ba(Pu)==="[object Set]"}ju.working=typeof Set<"u"&&ju(new Set);function zu(Pu){return typeof Set>"u"?!1:ju.working?ju(Pu):Pu instanceof Set}us.isSet=zu;function Wu(Pu){return ba(Pu)==="[object WeakMap]"}Wu.working=typeof WeakMap<"u"&&Wu(new WeakMap);function qu(Pu){return typeof WeakMap>"u"?!1:Wu.working?Wu(Pu):Pu instanceof WeakMap}us.isWeakMap=qu;function Mu(Pu){return ba(Pu)==="[object WeakSet]"}Mu.working=typeof WeakSet<"u"&&Mu(new WeakSet);function mu(Pu){return Mu(Pu)}us.isWeakSet=mu;function uu(Pu){return ba(Pu)==="[object ArrayBuffer]"}uu.working=typeof ArrayBuffer<"u"&&uu(new ArrayBuffer);function cu(Pu){return typeof ArrayBuffer>"u"?!1:uu.working?uu(Pu):Pu instanceof ArrayBuffer}us.isArrayBuffer=cu;function ru(Pu){return ba(Pu)==="[object DataView]"}ru.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ru(new DataView(new ArrayBuffer(1),0,1));function Yl(Pu){return typeof DataView>"u"?!1:ru.working?ru(Pu):Pu instanceof DataView}us.isDataView=Yl;var Hl=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Kl(Pu){return ba(Pu)==="[object SharedArrayBuffer]"}function _c(Pu){return typeof Hl>"u"?!1:(typeof Kl.working>"u"&&(Kl.working=Kl(new Hl)),Kl.working?Kl(Pu):Pu instanceof Hl)}us.isSharedArrayBuffer=_c;function Ql(Pu){return ba(Pu)==="[object AsyncFunction]"}us.isAsyncFunction=Ql;function su(Pu){return ba(Pu)==="[object Map Iterator]"}us.isMapIterator=su;function gu(Pu){return ba(Pu)==="[object Set Iterator]"}us.isSetIterator=gu;function Cu(Pu){return ba(Pu)==="[object Generator]"}us.isGeneratorObject=Cu;function vu(Pu){return ba(Pu)==="[object WebAssembly.Module]"}us.isWebAssemblyCompiledModule=vu;function fu(Pu){return Il(Pu,$a)}us.isNumberObject=fu;function Fu(Pu){return Il(Pu,wl)}us.isStringObject=Fu;function _f(Pu){return Il(Pu,Sl)}us.isBooleanObject=_f;function Xu(Pu){return uo&&Il(Pu,Cl)}us.isBigIntObject=Xu;function Gu(Pu){return xa&&Il(Pu,_l)}us.isSymbolObject=Gu;function Uu(Pu){return fu(Pu)||Fu(Pu)||_f(Pu)||Xu(Pu)||Gu(Pu)}us.isBoxedPrimitive=Uu;function Au(Pu){return typeof Uint8Array<"u"&&(cu(Pu)||_c(Pu))}us.isAnyArrayBuffer=Au,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Pu){Object.defineProperty(us,Pu,{enumerable:!1,value:function(){throw new Error(Pu+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(is){return is&&typeof is=="object"&&typeof is.copy=="function"&&typeof is.fill=="function"&&typeof is.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(us){var is={},cs=Object.getOwnPropertyDescriptors||function(Hl){for(var Kl=Object.keys(Hl),_c={},Ql=0;Ql<Kl.length;Ql++)_c[Kl[Ql]]=Object.getOwnPropertyDescriptor(Hl,Kl[Ql]);return _c},lo=/%[sdj%]/g;us.format=function(Yl){if(!zl(Yl)){for(var Hl=[],Kl=0;Kl<arguments.length;Kl++)Hl.push(xa(arguments[Kl]));return Hl.join(" ")}for(var Kl=1,_c=arguments,Ql=_c.length,su=String(Yl).replace(lo,function(Cu){if(Cu==="%%")return"%";if(Kl>=Ql)return Cu;switch(Cu){case"%s":return String(_c[Kl++]);case"%d":return Number(_c[Kl++]);case"%j":try{return JSON.stringify(_c[Kl++])}catch{return"[Circular]"}default:return Cu}}),gu=_c[Kl];Kl<Ql;gu=_c[++Kl])Bl(gu)||!iu(gu)?su+=" "+gu:su+=" "+xa(gu);return su},us.deprecate=function(Yl,Hl){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return Yl;if(typeof process$1>"u")return function(){return us.deprecate(Yl,Hl).apply(this,arguments)};var Kl=!1;function _c(){if(!Kl){if(process$1.throwDeprecation)throw new Error(Hl);process$1.traceDeprecation?console.trace(Hl):console.error(Hl),Kl=!0}return Yl.apply(this,arguments)}return _c};var co={},hs=/^$/;if(is.NODE_DEBUG){var uo=is.NODE_DEBUG;uo=uo.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),hs=new RegExp("^"+uo+"$","i")}us.debuglog=function(Yl){if(Yl=Yl.toUpperCase(),!co[Yl])if(hs.test(Yl)){var Hl=process$1.pid;co[Yl]=function(){var Kl=us.format.apply(us,arguments);console.error("%s %d: %s",Yl,Hl,Kl)}}else co[Yl]=function(){};return co[Yl]};function xa(Yl,Hl){var Kl={seen:[],stylize:$a};return arguments.length>=3&&(Kl.depth=arguments[2]),arguments.length>=4&&(Kl.colors=arguments[3]),Dl(Hl)?Kl.showHidden=Hl:Hl&&us._extend(Kl,Hl),Vl(Kl.showHidden)&&(Kl.showHidden=!1),Vl(Kl.depth)&&(Kl.depth=2),Vl(Kl.colors)&&(Kl.colors=!1),Vl(Kl.customInspect)&&(Kl.customInspect=!0),Kl.colors&&(Kl.stylize=ba),Sl(Kl,Yl,Kl.depth)}us.inspect=xa,xa.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},xa.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ba(Yl,Hl){var Kl=xa.styles[Hl];return Kl?"\x1B["+xa.colors[Kl][0]+"m"+Yl+"\x1B["+xa.colors[Kl][1]+"m":Yl}function $a(Yl,Hl){return Yl}function wl(Yl){var Hl={};return Yl.forEach(function(Kl,_c){Hl[Kl]=!0}),Hl}function Sl(Yl,Hl,Kl){if(Yl.customInspect&&Hl&&lu(Hl.inspect)&&Hl.inspect!==us.inspect&&!(Hl.constructor&&Hl.constructor.prototype===Hl)){var _c=Hl.inspect(Kl,Yl);return zl(_c)||(_c=Sl(Yl,_c,Kl)),_c}var Ql=Cl(Yl,Hl);if(Ql)return Ql;var su=Object.keys(Hl),gu=wl(su);if(Yl.showHidden&&(su=Object.getOwnPropertyNames(Hl)),Jl(Hl)&&(su.indexOf("message")>=0||su.indexOf("description")>=0))return _l(Hl);if(su.length===0){if(lu(Hl)){var Cu=Hl.name?": "+Hl.name:"";return Yl.stylize("[Function"+Cu+"]","special")}if(Gl(Hl))return Yl.stylize(RegExp.prototype.toString.call(Hl),"regexp");if(nu(Hl))return Yl.stylize(Date.prototype.toString.call(Hl),"date");if(Jl(Hl))return _l(Hl)}var vu="",fu=!1,Fu=["{","}"];if(Tl(Hl)&&(fu=!0,Fu=["[","]"]),lu(Hl)){var _f=Hl.name?": "+Hl.name:"";vu=" [Function"+_f+"]"}if(Gl(Hl)&&(vu=" "+RegExp.prototype.toString.call(Hl)),nu(Hl)&&(vu=" "+Date.prototype.toUTCString.call(Hl)),Jl(Hl)&&(vu=" "+_l(Hl)),su.length===0&&(!fu||Hl.length==0))return Fu[0]+vu+Fu[1];if(Kl<0)return Gl(Hl)?Yl.stylize(RegExp.prototype.toString.call(Hl),"regexp"):Yl.stylize("[Object]","special");Yl.seen.push(Hl);var Xu;return fu?Xu=Il(Yl,Hl,Kl,gu,su):Xu=su.map(function(Gu){return Fl(Yl,Hl,Kl,gu,Gu,fu)}),Yl.seen.pop(),Ml(Xu,vu,Fu)}function Cl(Yl,Hl){if(Vl(Hl))return Yl.stylize("undefined","undefined");if(zl(Hl)){var Kl="'"+JSON.stringify(Hl).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Yl.stylize(Kl,"string")}if(Nl(Hl))return Yl.stylize(""+Hl,"number");if(Dl(Hl))return Yl.stylize(""+Hl,"boolean");if(Bl(Hl))return Yl.stylize("null","null")}function _l(Yl){return"["+Error.prototype.toString.call(Yl)+"]"}function Il(Yl,Hl,Kl,_c,Ql){for(var su=[],gu=0,Cu=Hl.length;gu<Cu;++gu)mu(Hl,String(gu))?su.push(Fl(Yl,Hl,Kl,_c,String(gu),!0)):su.push("");return Ql.forEach(function(vu){vu.match(/^\d+$/)||su.push(Fl(Yl,Hl,Kl,_c,vu,!0))}),su}function Fl(Yl,Hl,Kl,_c,Ql,su){var gu,Cu,vu;if(vu=Object.getOwnPropertyDescriptor(Hl,Ql)||{value:Hl[Ql]},vu.get?vu.set?Cu=Yl.stylize("[Getter/Setter]","special"):Cu=Yl.stylize("[Getter]","special"):vu.set&&(Cu=Yl.stylize("[Setter]","special")),mu(_c,Ql)||(gu="["+Ql+"]"),Cu||(Yl.seen.indexOf(vu.value)<0?(Bl(Kl)?Cu=Sl(Yl,vu.value,null):Cu=Sl(Yl,vu.value,Kl-1),Cu.indexOf(`
`)>-1&&(su?Cu=Cu.split(`
`).map(function(fu){return"  "+fu}).join(`
`).slice(2):Cu=`
`+Cu.split(`
`).map(function(fu){return"   "+fu}).join(`
`))):Cu=Yl.stylize("[Circular]","special")),Vl(gu)){if(su&&Ql.match(/^\d+$/))return Cu;gu=JSON.stringify(""+Ql),gu.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(gu=gu.slice(1,-1),gu=Yl.stylize(gu,"name")):(gu=gu.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),gu=Yl.stylize(gu,"string"))}return gu+": "+Cu}function Ml(Yl,Hl,Kl){var _c=Yl.reduce(function(Ql,su){return su.indexOf(`
`)>=0,Ql+su.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _c>60?Kl[0]+(Hl===""?"":Hl+`
 `)+" "+Yl.join(`,
  `)+" "+Kl[1]:Kl[0]+Hl+" "+Yl.join(", ")+" "+Kl[1]}us.types=requireTypes();function Tl(Yl){return Array.isArray(Yl)}us.isArray=Tl;function Dl(Yl){return typeof Yl=="boolean"}us.isBoolean=Dl;function Bl(Yl){return Yl===null}us.isNull=Bl;function Ll(Yl){return Yl==null}us.isNullOrUndefined=Ll;function Nl(Yl){return typeof Yl=="number"}us.isNumber=Nl;function zl(Yl){return typeof Yl=="string"}us.isString=zl;function $l(Yl){return typeof Yl=="symbol"}us.isSymbol=$l;function Vl(Yl){return Yl===void 0}us.isUndefined=Vl;function Gl(Yl){return iu(Yl)&&zu(Yl)==="[object RegExp]"}us.isRegExp=Gl,us.types.isRegExp=Gl;function iu(Yl){return typeof Yl=="object"&&Yl!==null}us.isObject=iu;function nu(Yl){return iu(Yl)&&zu(Yl)==="[object Date]"}us.isDate=nu,us.types.isDate=nu;function Jl(Yl){return iu(Yl)&&(zu(Yl)==="[object Error]"||Yl instanceof Error)}us.isError=Jl,us.types.isNativeError=Jl;function lu(Yl){return typeof Yl=="function"}us.isFunction=lu;function ju(Yl){return Yl===null||typeof Yl=="boolean"||typeof Yl=="number"||typeof Yl=="string"||typeof Yl=="symbol"||typeof Yl>"u"}us.isPrimitive=ju,us.isBuffer=requireIsBufferBrowser();function zu(Yl){return Object.prototype.toString.call(Yl)}function Wu(Yl){return Yl<10?"0"+Yl.toString(10):Yl.toString(10)}var qu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Mu(){var Yl=new Date,Hl=[Wu(Yl.getHours()),Wu(Yl.getMinutes()),Wu(Yl.getSeconds())].join(":");return[Yl.getDate(),qu[Yl.getMonth()],Hl].join(" ")}us.log=function(){console.log("%s - %s",Mu(),us.format.apply(us,arguments))},us.inherits=requireInherits_browser(),us._extend=function(Yl,Hl){if(!Hl||!iu(Hl))return Yl;for(var Kl=Object.keys(Hl),_c=Kl.length;_c--;)Yl[Kl[_c]]=Hl[Kl[_c]];return Yl};function mu(Yl,Hl){return Object.prototype.hasOwnProperty.call(Yl,Hl)}var uu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;us.promisify=function(Hl){if(typeof Hl!="function")throw new TypeError('The "original" argument must be of type Function');if(uu&&Hl[uu]){var Kl=Hl[uu];if(typeof Kl!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Kl,uu,{value:Kl,enumerable:!1,writable:!1,configurable:!0}),Kl}function Kl(){for(var _c,Ql,su=new Promise(function(vu,fu){_c=vu,Ql=fu}),gu=[],Cu=0;Cu<arguments.length;Cu++)gu.push(arguments[Cu]);gu.push(function(vu,fu){vu?Ql(vu):_c(fu)});try{Hl.apply(this,gu)}catch(vu){Ql(vu)}return su}return Object.setPrototypeOf(Kl,Object.getPrototypeOf(Hl)),uu&&Object.defineProperty(Kl,uu,{value:Kl,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Kl,cs(Hl))},us.promisify.custom=uu;function cu(Yl,Hl){if(!Yl){var Kl=new Error("Promise was rejected with a falsy value");Kl.reason=Yl,Yl=Kl}return Hl(Yl)}function ru(Yl){if(typeof Yl!="function")throw new TypeError('The "original" argument must be of type Function');function Hl(){for(var Kl=[],_c=0;_c<arguments.length;_c++)Kl.push(arguments[_c]);var Ql=Kl.pop();if(typeof Ql!="function")throw new TypeError("The last argument must be of type Function");var su=this,gu=function(){return Ql.apply(su,arguments)};Yl.apply(this,Kl).then(function(Cu){process$1.nextTick(gu.bind(null,null,Cu))},function(Cu){process$1.nextTick(cu.bind(null,Cu,gu))})}return Object.setPrototypeOf(Hl,Object.getPrototypeOf(Yl)),Object.defineProperties(Hl,cs(Yl)),Hl}us.callbackify=ru}(util)),util}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function us(Il,Fl){var Ml=Object.keys(Il);if(Object.getOwnPropertySymbols){var Tl=Object.getOwnPropertySymbols(Il);Fl&&(Tl=Tl.filter(function(Dl){return Object.getOwnPropertyDescriptor(Il,Dl).enumerable})),Ml.push.apply(Ml,Tl)}return Ml}function is(Il){for(var Fl=1;Fl<arguments.length;Fl++){var Ml=arguments[Fl]!=null?arguments[Fl]:{};Fl%2?us(Object(Ml),!0).forEach(function(Tl){cs(Il,Tl,Ml[Tl])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Il,Object.getOwnPropertyDescriptors(Ml)):us(Object(Ml)).forEach(function(Tl){Object.defineProperty(Il,Tl,Object.getOwnPropertyDescriptor(Ml,Tl))})}return Il}function cs(Il,Fl,Ml){return Fl=uo(Fl),Fl in Il?Object.defineProperty(Il,Fl,{value:Ml,enumerable:!0,configurable:!0,writable:!0}):Il[Fl]=Ml,Il}function lo(Il,Fl){if(!(Il instanceof Fl))throw new TypeError("Cannot call a class as a function")}function co(Il,Fl){for(var Ml=0;Ml<Fl.length;Ml++){var Tl=Fl[Ml];Tl.enumerable=Tl.enumerable||!1,Tl.configurable=!0,"value"in Tl&&(Tl.writable=!0),Object.defineProperty(Il,uo(Tl.key),Tl)}}function hs(Il,Fl,Ml){return Fl&&co(Il.prototype,Fl),Object.defineProperty(Il,"prototype",{writable:!1}),Il}function uo(Il){var Fl=xa(Il,"string");return typeof Fl=="symbol"?Fl:String(Fl)}function xa(Il,Fl){if(typeof Il!="object"||Il===null)return Il;var Ml=Il[Symbol.toPrimitive];if(Ml!==void 0){var Tl=Ml.call(Il,Fl);if(typeof Tl!="object")return Tl;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Il)}var ba=require$$0$1,$a=ba.Buffer,wl=requireUtil(),Sl=wl.inspect,Cl=Sl&&Sl.custom||"inspect";function _l(Il,Fl,Ml){$a.prototype.copy.call(Il,Fl,Ml)}return buffer_list=function(){function Il(){lo(this,Il),this.head=null,this.tail=null,this.length=0}return hs(Il,[{key:"push",value:function(Ml){var Tl={data:Ml,next:null};this.length>0?this.tail.next=Tl:this.head=Tl,this.tail=Tl,++this.length}},{key:"unshift",value:function(Ml){var Tl={data:Ml,next:this.head};this.length===0&&(this.tail=Tl),this.head=Tl,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Ml=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ml}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Ml){if(this.length===0)return"";for(var Tl=this.head,Dl=""+Tl.data;Tl=Tl.next;)Dl+=Ml+Tl.data;return Dl}},{key:"concat",value:function(Ml){if(this.length===0)return $a.alloc(0);for(var Tl=$a.allocUnsafe(Ml>>>0),Dl=this.head,Bl=0;Dl;)_l(Dl.data,Tl,Bl),Bl+=Dl.data.length,Dl=Dl.next;return Tl}},{key:"consume",value:function(Ml,Tl){var Dl;return Ml<this.head.data.length?(Dl=this.head.data.slice(0,Ml),this.head.data=this.head.data.slice(Ml)):Ml===this.head.data.length?Dl=this.shift():Dl=Tl?this._getString(Ml):this._getBuffer(Ml),Dl}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Ml){var Tl=this.head,Dl=1,Bl=Tl.data;for(Ml-=Bl.length;Tl=Tl.next;){var Ll=Tl.data,Nl=Ml>Ll.length?Ll.length:Ml;if(Nl===Ll.length?Bl+=Ll:Bl+=Ll.slice(0,Ml),Ml-=Nl,Ml===0){Nl===Ll.length?(++Dl,Tl.next?this.head=Tl.next:this.head=this.tail=null):(this.head=Tl,Tl.data=Ll.slice(Nl));break}++Dl}return this.length-=Dl,Bl}},{key:"_getBuffer",value:function(Ml){var Tl=$a.allocUnsafe(Ml),Dl=this.head,Bl=1;for(Dl.data.copy(Tl),Ml-=Dl.data.length;Dl=Dl.next;){var Ll=Dl.data,Nl=Ml>Ll.length?Ll.length:Ml;if(Ll.copy(Tl,Tl.length-Ml,0,Nl),Ml-=Nl,Ml===0){Nl===Ll.length?(++Bl,Dl.next?this.head=Dl.next:this.head=this.tail=null):(this.head=Dl,Dl.data=Ll.slice(Nl));break}++Bl}return this.length-=Bl,Tl}},{key:Cl,value:function(Ml,Tl){return Sl(this,is(is({},Tl),{},{depth:0,customInspect:!1}))}}]),Il}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function us(uo,xa){var ba=this,$a=this._readableState&&this._readableState.destroyed,wl=this._writableState&&this._writableState.destroyed;return $a||wl?(xa?xa(uo):uo&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(co,this,uo)):process$1.nextTick(co,this,uo)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(uo||null,function(Sl){!xa&&Sl?ba._writableState?ba._writableState.errorEmitted?process$1.nextTick(cs,ba):(ba._writableState.errorEmitted=!0,process$1.nextTick(is,ba,Sl)):process$1.nextTick(is,ba,Sl):xa?(process$1.nextTick(cs,ba),xa(Sl)):process$1.nextTick(cs,ba)}),this)}function is(uo,xa){co(uo,xa),cs(uo)}function cs(uo){uo._writableState&&!uo._writableState.emitClose||uo._readableState&&!uo._readableState.emitClose||uo.emit("close")}function lo(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function co(uo,xa){uo.emit("error",xa)}function hs(uo,xa){var ba=uo._readableState,$a=uo._writableState;ba&&ba.autoDestroy||$a&&$a.autoDestroy?uo.destroy(xa):uo.emit("error",xa)}return destroy_1={destroy:us,undestroy:lo,errorOrDestroy:hs},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function us(xa,ba){xa.prototype=Object.create(ba.prototype),xa.prototype.constructor=xa,xa.__proto__=ba}var is={};function cs(xa,ba,$a){$a||($a=Error);function wl(Cl,_l,Il){return typeof ba=="string"?ba:ba(Cl,_l,Il)}var Sl=function(Cl){us(_l,Cl);function _l(Il,Fl,Ml){return Cl.call(this,wl(Il,Fl,Ml))||this}return _l}($a);Sl.prototype.name=$a.name,Sl.prototype.code=xa,is[xa]=Sl}function lo(xa,ba){if(Array.isArray(xa)){var $a=xa.length;return xa=xa.map(function(wl){return String(wl)}),$a>2?"one of ".concat(ba," ").concat(xa.slice(0,$a-1).join(", "),", or ")+xa[$a-1]:$a===2?"one of ".concat(ba," ").concat(xa[0]," or ").concat(xa[1]):"of ".concat(ba," ").concat(xa[0])}else return"of ".concat(ba," ").concat(String(xa))}function co(xa,ba,$a){return xa.substr(0,ba.length)===ba}function hs(xa,ba,$a){return($a===void 0||$a>xa.length)&&($a=xa.length),xa.substring($a-ba.length,$a)===ba}function uo(xa,ba,$a){return typeof $a!="number"&&($a=0),$a+ba.length>xa.length?!1:xa.indexOf(ba,$a)!==-1}return cs("ERR_INVALID_OPT_VALUE",function(xa,ba){return'The value "'+ba+'" is invalid for option "'+xa+'"'},TypeError),cs("ERR_INVALID_ARG_TYPE",function(xa,ba,$a){var wl;typeof ba=="string"&&co(ba,"not ")?(wl="must not be",ba=ba.replace(/^not /,"")):wl="must be";var Sl;if(hs(xa," argument"))Sl="The ".concat(xa," ").concat(wl," ").concat(lo(ba,"type"));else{var Cl=uo(xa,".")?"property":"argument";Sl='The "'.concat(xa,'" ').concat(Cl," ").concat(wl," ").concat(lo(ba,"type"))}return Sl+=". Received type ".concat(typeof $a),Sl},TypeError),cs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),cs("ERR_METHOD_NOT_IMPLEMENTED",function(xa){return"The "+xa+" method is not implemented"}),cs("ERR_STREAM_PREMATURE_CLOSE","Premature close"),cs("ERR_STREAM_DESTROYED",function(xa){return"Cannot call "+xa+" after a stream was destroyed"}),cs("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),cs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),cs("ERR_STREAM_WRITE_AFTER_END","write after end"),cs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),cs("ERR_UNKNOWN_ENCODING",function(xa){return"Unknown encoding: "+xa},TypeError),cs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=is,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var us=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function is(lo,co,hs){return lo.highWaterMark!=null?lo.highWaterMark:co?lo[hs]:null}function cs(lo,co,hs,uo){var xa=is(co,uo,hs);if(xa!=null){if(!(isFinite(xa)&&Math.floor(xa)===xa)||xa<0){var ba=uo?hs:"highWaterMark";throw new us(ba,xa)}return Math.floor(xa)}return lo.objectMode?16:16*1024}return state={getHighWaterMark:cs},state}var browser$1,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1,browser$1=us;function us(cs,lo){if(is("noDeprecation"))return cs;var co=!1;function hs(){if(!co){if(is("throwDeprecation"))throw new Error(lo);is("traceDeprecation")?console.trace(lo):console.warn(lo),co=!0}return cs.apply(this,arguments)}return hs}function is(cs){try{if(!globalThis.localStorage)return!1}catch{return!1}var lo=globalThis.localStorage[cs];return lo==null?!1:String(lo).toLowerCase()==="true"}return browser$1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=Vl;function us(_c){var Ql=this;this.next=null,this.entry=null,this.finish=function(){Kl(Ql,_c)}}var is;Vl.WritableState=zl;var cs={deprecate:requireBrowser$1()},lo=requireStreamBrowser(),co=require$$0$1.Buffer,hs=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function uo(_c){return co.from(_c)}function xa(_c){return co.isBuffer(_c)||_c instanceof hs}var ba=requireDestroy(),$a=requireState(),wl=$a.getHighWaterMark,Sl=requireErrorsBrowser().codes,Cl=Sl.ERR_INVALID_ARG_TYPE,_l=Sl.ERR_METHOD_NOT_IMPLEMENTED,Il=Sl.ERR_MULTIPLE_CALLBACK,Fl=Sl.ERR_STREAM_CANNOT_PIPE,Ml=Sl.ERR_STREAM_DESTROYED,Tl=Sl.ERR_STREAM_NULL_VALUES,Dl=Sl.ERR_STREAM_WRITE_AFTER_END,Bl=Sl.ERR_UNKNOWN_ENCODING,Ll=ba.errorOrDestroy;requireInherits_browser()(Vl,lo);function Nl(){}function zl(_c,Ql,su){is=is||require_stream_duplex(),_c=_c||{},typeof su!="boolean"&&(su=Ql instanceof is),this.objectMode=!!_c.objectMode,su&&(this.objectMode=this.objectMode||!!_c.writableObjectMode),this.highWaterMark=wl(this,_c,"writableHighWaterMark",su),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var gu=_c.decodeStrings===!1;this.decodeStrings=!gu,this.defaultEncoding=_c.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Cu){Wu(Ql,Cu)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_c.emitClose!==!1,this.autoDestroy=!!_c.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new us(this)}zl.prototype.getBuffer=function(){for(var Ql=this.bufferedRequest,su=[];Ql;)su.push(Ql),Ql=Ql.next;return su},function(){try{Object.defineProperty(zl.prototype,"buffer",{get:cs.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $l;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($l=Function.prototype[Symbol.hasInstance],Object.defineProperty(Vl,Symbol.hasInstance,{value:function(Ql){return $l.call(this,Ql)?!0:this!==Vl?!1:Ql&&Ql._writableState instanceof zl}})):$l=function(Ql){return Ql instanceof this};function Vl(_c){is=is||require_stream_duplex();var Ql=this instanceof is;if(!Ql&&!$l.call(Vl,this))return new Vl(_c);this._writableState=new zl(_c,this,Ql),this.writable=!0,_c&&(typeof _c.write=="function"&&(this._write=_c.write),typeof _c.writev=="function"&&(this._writev=_c.writev),typeof _c.destroy=="function"&&(this._destroy=_c.destroy),typeof _c.final=="function"&&(this._final=_c.final)),lo.call(this)}Vl.prototype.pipe=function(){Ll(this,new Fl)};function Gl(_c,Ql){var su=new Dl;Ll(_c,su),process$1.nextTick(Ql,su)}function iu(_c,Ql,su,gu){var Cu;return su===null?Cu=new Tl:typeof su!="string"&&!Ql.objectMode&&(Cu=new Cl("chunk",["string","Buffer"],su)),Cu?(Ll(_c,Cu),process$1.nextTick(gu,Cu),!1):!0}Vl.prototype.write=function(_c,Ql,su){var gu=this._writableState,Cu=!1,vu=!gu.objectMode&&xa(_c);return vu&&!co.isBuffer(_c)&&(_c=uo(_c)),typeof Ql=="function"&&(su=Ql,Ql=null),vu?Ql="buffer":Ql||(Ql=gu.defaultEncoding),typeof su!="function"&&(su=Nl),gu.ending?Gl(this,su):(vu||iu(this,gu,_c,su))&&(gu.pendingcb++,Cu=Jl(this,gu,vu,_c,Ql,su)),Cu},Vl.prototype.cork=function(){this._writableState.corked++},Vl.prototype.uncork=function(){var _c=this._writableState;_c.corked&&(_c.corked--,!_c.writing&&!_c.corked&&!_c.bufferProcessing&&_c.bufferedRequest&&mu(this,_c))},Vl.prototype.setDefaultEncoding=function(Ql){if(typeof Ql=="string"&&(Ql=Ql.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ql+"").toLowerCase())>-1))throw new Bl(Ql);return this._writableState.defaultEncoding=Ql,this},Object.defineProperty(Vl.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function nu(_c,Ql,su){return!_c.objectMode&&_c.decodeStrings!==!1&&typeof Ql=="string"&&(Ql=co.from(Ql,su)),Ql}Object.defineProperty(Vl.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Jl(_c,Ql,su,gu,Cu,vu){if(!su){var fu=nu(Ql,gu,Cu);gu!==fu&&(su=!0,Cu="buffer",gu=fu)}var Fu=Ql.objectMode?1:gu.length;Ql.length+=Fu;var _f=Ql.length<Ql.highWaterMark;if(_f||(Ql.needDrain=!0),Ql.writing||Ql.corked){var Xu=Ql.lastBufferedRequest;Ql.lastBufferedRequest={chunk:gu,encoding:Cu,isBuf:su,callback:vu,next:null},Xu?Xu.next=Ql.lastBufferedRequest:Ql.bufferedRequest=Ql.lastBufferedRequest,Ql.bufferedRequestCount+=1}else lu(_c,Ql,!1,Fu,gu,Cu,vu);return _f}function lu(_c,Ql,su,gu,Cu,vu,fu){Ql.writelen=gu,Ql.writecb=fu,Ql.writing=!0,Ql.sync=!0,Ql.destroyed?Ql.onwrite(new Ml("write")):su?_c._writev(Cu,Ql.onwrite):_c._write(Cu,vu,Ql.onwrite),Ql.sync=!1}function ju(_c,Ql,su,gu,Cu){--Ql.pendingcb,su?(process$1.nextTick(Cu,gu),process$1.nextTick(Yl,_c,Ql),_c._writableState.errorEmitted=!0,Ll(_c,gu)):(Cu(gu),_c._writableState.errorEmitted=!0,Ll(_c,gu),Yl(_c,Ql))}function zu(_c){_c.writing=!1,_c.writecb=null,_c.length-=_c.writelen,_c.writelen=0}function Wu(_c,Ql){var su=_c._writableState,gu=su.sync,Cu=su.writecb;if(typeof Cu!="function")throw new Il;if(zu(su),Ql)ju(_c,su,gu,Ql,Cu);else{var vu=uu(su)||_c.destroyed;!vu&&!su.corked&&!su.bufferProcessing&&su.bufferedRequest&&mu(_c,su),gu?process$1.nextTick(qu,_c,su,vu,Cu):qu(_c,su,vu,Cu)}}function qu(_c,Ql,su,gu){su||Mu(_c,Ql),Ql.pendingcb--,gu(),Yl(_c,Ql)}function Mu(_c,Ql){Ql.length===0&&Ql.needDrain&&(Ql.needDrain=!1,_c.emit("drain"))}function mu(_c,Ql){Ql.bufferProcessing=!0;var su=Ql.bufferedRequest;if(_c._writev&&su&&su.next){var gu=Ql.bufferedRequestCount,Cu=new Array(gu),vu=Ql.corkedRequestsFree;vu.entry=su;for(var fu=0,Fu=!0;su;)Cu[fu]=su,su.isBuf||(Fu=!1),su=su.next,fu+=1;Cu.allBuffers=Fu,lu(_c,Ql,!0,Ql.length,Cu,"",vu.finish),Ql.pendingcb++,Ql.lastBufferedRequest=null,vu.next?(Ql.corkedRequestsFree=vu.next,vu.next=null):Ql.corkedRequestsFree=new us(Ql),Ql.bufferedRequestCount=0}else{for(;su;){var _f=su.chunk,Xu=su.encoding,Gu=su.callback,Uu=Ql.objectMode?1:_f.length;if(lu(_c,Ql,!1,Uu,_f,Xu,Gu),su=su.next,Ql.bufferedRequestCount--,Ql.writing)break}su===null&&(Ql.lastBufferedRequest=null)}Ql.bufferedRequest=su,Ql.bufferProcessing=!1}Vl.prototype._write=function(_c,Ql,su){su(new _l("_write()"))},Vl.prototype._writev=null,Vl.prototype.end=function(_c,Ql,su){var gu=this._writableState;return typeof _c=="function"?(su=_c,_c=null,Ql=null):typeof Ql=="function"&&(su=Ql,Ql=null),_c!=null&&this.write(_c,Ql),gu.corked&&(gu.corked=1,this.uncork()),gu.ending||Hl(this,gu,su),this},Object.defineProperty(Vl.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function uu(_c){return _c.ending&&_c.length===0&&_c.bufferedRequest===null&&!_c.finished&&!_c.writing}function cu(_c,Ql){_c._final(function(su){Ql.pendingcb--,su&&Ll(_c,su),Ql.prefinished=!0,_c.emit("prefinish"),Yl(_c,Ql)})}function ru(_c,Ql){!Ql.prefinished&&!Ql.finalCalled&&(typeof _c._final=="function"&&!Ql.destroyed?(Ql.pendingcb++,Ql.finalCalled=!0,process$1.nextTick(cu,_c,Ql)):(Ql.prefinished=!0,_c.emit("prefinish")))}function Yl(_c,Ql){var su=uu(Ql);if(su&&(ru(_c,Ql),Ql.pendingcb===0&&(Ql.finished=!0,_c.emit("finish"),Ql.autoDestroy))){var gu=_c._readableState;(!gu||gu.autoDestroy&&gu.endEmitted)&&_c.destroy()}return su}function Hl(_c,Ql,su){Ql.ending=!0,Yl(_c,Ql),su&&(Ql.finished?process$1.nextTick(su):_c.once("finish",su)),Ql.ended=!0,_c.writable=!1}function Kl(_c,Ql,su){var gu=_c.entry;for(_c.entry=null;gu;){var Cu=gu.callback;Ql.pendingcb--,Cu(su),gu=gu.next}Ql.corkedRequestsFree.next=_c}return Object.defineProperty(Vl.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ql){this._writableState&&(this._writableState.destroyed=Ql)}}),Vl.prototype.destroy=ba.destroy,Vl.prototype._undestroy=ba.undestroy,Vl.prototype._destroy=function(_c,Ql){Ql(_c)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var us=Object.keys||function($a){var wl=[];for(var Sl in $a)wl.push(Sl);return wl};_stream_duplex=uo;var is=require_stream_readable(),cs=require_stream_writable();requireInherits_browser()(uo,is);for(var lo=us(cs.prototype),co=0;co<lo.length;co++){var hs=lo[co];uo.prototype[hs]||(uo.prototype[hs]=cs.prototype[hs])}function uo($a){if(!(this instanceof uo))return new uo($a);is.call(this,$a),cs.call(this,$a),this.allowHalfOpen=!0,$a&&($a.readable===!1&&(this.readable=!1),$a.writable===!1&&(this.writable=!1),$a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",xa)))}Object.defineProperty(uo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(uo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(uo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xa(){this._writableState.ended||process$1.nextTick(ba,this)}function ba($a){$a.end()}return Object.defineProperty(uo.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(wl){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=wl,this._writableState.destroyed=wl)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(us,is){var cs=require$$0$1,lo=cs.Buffer;function co(uo,xa){for(var ba in uo)xa[ba]=uo[ba]}lo.from&&lo.alloc&&lo.allocUnsafe&&lo.allocUnsafeSlow?us.exports=cs:(co(cs,is),is.Buffer=hs);function hs(uo,xa,ba){return lo(uo,xa,ba)}hs.prototype=Object.create(lo.prototype),co(lo,hs),hs.from=function(uo,xa,ba){if(typeof uo=="number")throw new TypeError("Argument must not be a number");return lo(uo,xa,ba)},hs.alloc=function(uo,xa,ba){if(typeof uo!="number")throw new TypeError("Argument must be a number");var $a=lo(uo);return xa!==void 0?typeof ba=="string"?$a.fill(xa,ba):$a.fill(xa):$a.fill(0),$a},hs.allocUnsafe=function(uo){if(typeof uo!="number")throw new TypeError("Argument must be a number");return lo(uo)},hs.allocUnsafeSlow=function(uo){if(typeof uo!="number")throw new TypeError("Argument must be a number");return cs.SlowBuffer(uo)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var us=requireSafeBuffer().Buffer,is=us.isEncoding||function(Tl){switch(Tl=""+Tl,Tl&&Tl.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function cs(Tl){if(!Tl)return"utf8";for(var Dl;;)switch(Tl){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Tl;default:if(Dl)return;Tl=(""+Tl).toLowerCase(),Dl=!0}}function lo(Tl){var Dl=cs(Tl);if(typeof Dl!="string"&&(us.isEncoding===is||!is(Tl)))throw new Error("Unknown encoding: "+Tl);return Dl||Tl}string_decoder.StringDecoder=co;function co(Tl){this.encoding=lo(Tl);var Dl;switch(this.encoding){case"utf16le":this.text=Sl,this.end=Cl,Dl=4;break;case"utf8":this.fillLast=ba,Dl=4;break;case"base64":this.text=_l,this.end=Il,Dl=3;break;default:this.write=Fl,this.end=Ml;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=us.allocUnsafe(Dl)}co.prototype.write=function(Tl){if(Tl.length===0)return"";var Dl,Bl;if(this.lastNeed){if(Dl=this.fillLast(Tl),Dl===void 0)return"";Bl=this.lastNeed,this.lastNeed=0}else Bl=0;return Bl<Tl.length?Dl?Dl+this.text(Tl,Bl):this.text(Tl,Bl):Dl||""},co.prototype.end=wl,co.prototype.text=$a,co.prototype.fillLast=function(Tl){if(this.lastNeed<=Tl.length)return Tl.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Tl.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Tl.length),this.lastNeed-=Tl.length};function hs(Tl){return Tl<=127?0:Tl>>5===6?2:Tl>>4===14?3:Tl>>3===30?4:Tl>>6===2?-1:-2}function uo(Tl,Dl,Bl){var Ll=Dl.length-1;if(Ll<Bl)return 0;var Nl=hs(Dl[Ll]);return Nl>=0?(Nl>0&&(Tl.lastNeed=Nl-1),Nl):--Ll<Bl||Nl===-2?0:(Nl=hs(Dl[Ll]),Nl>=0?(Nl>0&&(Tl.lastNeed=Nl-2),Nl):--Ll<Bl||Nl===-2?0:(Nl=hs(Dl[Ll]),Nl>=0?(Nl>0&&(Nl===2?Nl=0:Tl.lastNeed=Nl-3),Nl):0))}function xa(Tl,Dl,Bl){if((Dl[0]&192)!==128)return Tl.lastNeed=0,"";if(Tl.lastNeed>1&&Dl.length>1){if((Dl[1]&192)!==128)return Tl.lastNeed=1,"";if(Tl.lastNeed>2&&Dl.length>2&&(Dl[2]&192)!==128)return Tl.lastNeed=2,""}}function ba(Tl){var Dl=this.lastTotal-this.lastNeed,Bl=xa(this,Tl);if(Bl!==void 0)return Bl;if(this.lastNeed<=Tl.length)return Tl.copy(this.lastChar,Dl,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Tl.copy(this.lastChar,Dl,0,Tl.length),this.lastNeed-=Tl.length}function $a(Tl,Dl){var Bl=uo(this,Tl,Dl);if(!this.lastNeed)return Tl.toString("utf8",Dl);this.lastTotal=Bl;var Ll=Tl.length-(Bl-this.lastNeed);return Tl.copy(this.lastChar,0,Ll),Tl.toString("utf8",Dl,Ll)}function wl(Tl){var Dl=Tl&&Tl.length?this.write(Tl):"";return this.lastNeed?Dl+"":Dl}function Sl(Tl,Dl){if((Tl.length-Dl)%2===0){var Bl=Tl.toString("utf16le",Dl);if(Bl){var Ll=Bl.charCodeAt(Bl.length-1);if(Ll>=55296&&Ll<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Tl[Tl.length-2],this.lastChar[1]=Tl[Tl.length-1],Bl.slice(0,-1)}return Bl}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Tl[Tl.length-1],Tl.toString("utf16le",Dl,Tl.length-1)}function Cl(Tl){var Dl=Tl&&Tl.length?this.write(Tl):"";if(this.lastNeed){var Bl=this.lastTotal-this.lastNeed;return Dl+this.lastChar.toString("utf16le",0,Bl)}return Dl}function _l(Tl,Dl){var Bl=(Tl.length-Dl)%3;return Bl===0?Tl.toString("base64",Dl):(this.lastNeed=3-Bl,this.lastTotal=3,Bl===1?this.lastChar[0]=Tl[Tl.length-1]:(this.lastChar[0]=Tl[Tl.length-2],this.lastChar[1]=Tl[Tl.length-1]),Tl.toString("base64",Dl,Tl.length-Bl))}function Il(Tl){var Dl=Tl&&Tl.length?this.write(Tl):"";return this.lastNeed?Dl+this.lastChar.toString("base64",0,3-this.lastNeed):Dl}function Fl(Tl){return Tl.toString(this.encoding)}function Ml(Tl){return Tl&&Tl.length?this.write(Tl):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var us=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function is(hs){var uo=!1;return function(){if(!uo){uo=!0;for(var xa=arguments.length,ba=new Array(xa),$a=0;$a<xa;$a++)ba[$a]=arguments[$a];hs.apply(this,ba)}}}function cs(){}function lo(hs){return hs.setHeader&&typeof hs.abort=="function"}function co(hs,uo,xa){if(typeof uo=="function")return co(hs,null,uo);uo||(uo={}),xa=is(xa||cs);var ba=uo.readable||uo.readable!==!1&&hs.readable,$a=uo.writable||uo.writable!==!1&&hs.writable,wl=function(){hs.writable||Cl()},Sl=hs._writableState&&hs._writableState.finished,Cl=function(){$a=!1,Sl=!0,ba||xa.call(hs)},_l=hs._readableState&&hs._readableState.endEmitted,Il=function(){ba=!1,_l=!0,$a||xa.call(hs)},Fl=function(Bl){xa.call(hs,Bl)},Ml=function(){var Bl;if(ba&&!_l)return(!hs._readableState||!hs._readableState.ended)&&(Bl=new us),xa.call(hs,Bl);if($a&&!Sl)return(!hs._writableState||!hs._writableState.ended)&&(Bl=new us),xa.call(hs,Bl)},Tl=function(){hs.req.on("finish",Cl)};return lo(hs)?(hs.on("complete",Cl),hs.on("abort",Ml),hs.req?Tl():hs.on("request",Tl)):$a&&!hs._writableState&&(hs.on("end",wl),hs.on("close",wl)),hs.on("end",Il),hs.on("finish",Cl),uo.error!==!1&&hs.on("error",Fl),hs.on("close",Ml),function(){hs.removeListener("complete",Cl),hs.removeListener("abort",Ml),hs.removeListener("request",Tl),hs.req&&hs.req.removeListener("finish",Cl),hs.removeListener("end",wl),hs.removeListener("close",wl),hs.removeListener("finish",Cl),hs.removeListener("end",Il),hs.removeListener("error",Fl),hs.removeListener("close",Ml)}}return endOfStream=co,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var us;function is(Bl,Ll,Nl){return Ll=cs(Ll),Ll in Bl?Object.defineProperty(Bl,Ll,{value:Nl,enumerable:!0,configurable:!0,writable:!0}):Bl[Ll]=Nl,Bl}function cs(Bl){var Ll=lo(Bl,"string");return typeof Ll=="symbol"?Ll:String(Ll)}function lo(Bl,Ll){if(typeof Bl!="object"||Bl===null)return Bl;var Nl=Bl[Symbol.toPrimitive];if(Nl!==void 0){var zl=Nl.call(Bl,Ll);if(typeof zl!="object")return zl;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ll==="string"?String:Number)(Bl)}var co=requireEndOfStream(),hs=Symbol("lastResolve"),uo=Symbol("lastReject"),xa=Symbol("error"),ba=Symbol("ended"),$a=Symbol("lastPromise"),wl=Symbol("handlePromise"),Sl=Symbol("stream");function Cl(Bl,Ll){return{value:Bl,done:Ll}}function _l(Bl){var Ll=Bl[hs];if(Ll!==null){var Nl=Bl[Sl].read();Nl!==null&&(Bl[$a]=null,Bl[hs]=null,Bl[uo]=null,Ll(Cl(Nl,!1)))}}function Il(Bl){process$1.nextTick(_l,Bl)}function Fl(Bl,Ll){return function(Nl,zl){Bl.then(function(){if(Ll[ba]){Nl(Cl(void 0,!0));return}Ll[wl](Nl,zl)},zl)}}var Ml=Object.getPrototypeOf(function(){}),Tl=Object.setPrototypeOf((us={get stream(){return this[Sl]},next:function(){var Ll=this,Nl=this[xa];if(Nl!==null)return Promise.reject(Nl);if(this[ba])return Promise.resolve(Cl(void 0,!0));if(this[Sl].destroyed)return new Promise(function(Gl,iu){process$1.nextTick(function(){Ll[xa]?iu(Ll[xa]):Gl(Cl(void 0,!0))})});var zl=this[$a],$l;if(zl)$l=new Promise(Fl(zl,this));else{var Vl=this[Sl].read();if(Vl!==null)return Promise.resolve(Cl(Vl,!1));$l=new Promise(this[wl])}return this[$a]=$l,$l}},is(us,Symbol.asyncIterator,function(){return this}),is(us,"return",function(){var Ll=this;return new Promise(function(Nl,zl){Ll[Sl].destroy(null,function($l){if($l){zl($l);return}Nl(Cl(void 0,!0))})})}),us),Ml),Dl=function(Ll){var Nl,zl=Object.create(Tl,(Nl={},is(Nl,Sl,{value:Ll,writable:!0}),is(Nl,hs,{value:null,writable:!0}),is(Nl,uo,{value:null,writable:!0}),is(Nl,xa,{value:null,writable:!0}),is(Nl,ba,{value:Ll._readableState.endEmitted,writable:!0}),is(Nl,wl,{value:function(Vl,Gl){var iu=zl[Sl].read();iu?(zl[$a]=null,zl[hs]=null,zl[uo]=null,Vl(Cl(iu,!1))):(zl[hs]=Vl,zl[uo]=Gl)},writable:!0}),Nl));return zl[$a]=null,co(Ll,function($l){if($l&&$l.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Vl=zl[uo];Vl!==null&&(zl[$a]=null,zl[hs]=null,zl[uo]=null,Vl($l)),zl[xa]=$l;return}var Gl=zl[hs];Gl!==null&&(zl[$a]=null,zl[hs]=null,zl[uo]=null,Gl(Cl(void 0,!0))),zl[ba]=!0}),Ll.on("readable",Il.bind(null,zl)),zl};return async_iterator=Dl,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Gl;var us;Gl.ReadableState=Vl,requireEvents().EventEmitter;var is=function(fu,Fu){return fu.listeners(Fu).length},cs=requireStreamBrowser(),lo=require$$0$1.Buffer,co=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function hs(vu){return lo.from(vu)}function uo(vu){return lo.isBuffer(vu)||vu instanceof co}var xa=requireUtil(),ba;xa&&xa.debuglog?ba=xa.debuglog("stream"):ba=function(){};var $a=requireBuffer_list(),wl=requireDestroy(),Sl=requireState(),Cl=Sl.getHighWaterMark,_l=requireErrorsBrowser().codes,Il=_l.ERR_INVALID_ARG_TYPE,Fl=_l.ERR_STREAM_PUSH_AFTER_EOF,Ml=_l.ERR_METHOD_NOT_IMPLEMENTED,Tl=_l.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Dl,Bl,Ll;requireInherits_browser()(Gl,cs);var Nl=wl.errorOrDestroy,zl=["error","close","destroy","pause","resume"];function $l(vu,fu,Fu){if(typeof vu.prependListener=="function")return vu.prependListener(fu,Fu);!vu._events||!vu._events[fu]?vu.on(fu,Fu):Array.isArray(vu._events[fu])?vu._events[fu].unshift(Fu):vu._events[fu]=[Fu,vu._events[fu]]}function Vl(vu,fu,Fu){us=us||require_stream_duplex(),vu=vu||{},typeof Fu!="boolean"&&(Fu=fu instanceof us),this.objectMode=!!vu.objectMode,Fu&&(this.objectMode=this.objectMode||!!vu.readableObjectMode),this.highWaterMark=Cl(this,vu,"readableHighWaterMark",Fu),this.buffer=new $a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=vu.emitClose!==!1,this.autoDestroy=!!vu.autoDestroy,this.destroyed=!1,this.defaultEncoding=vu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,vu.encoding&&(Dl||(Dl=requireString_decoder().StringDecoder),this.decoder=new Dl(vu.encoding),this.encoding=vu.encoding)}function Gl(vu){if(us=us||require_stream_duplex(),!(this instanceof Gl))return new Gl(vu);var fu=this instanceof us;this._readableState=new Vl(vu,this,fu),this.readable=!0,vu&&(typeof vu.read=="function"&&(this._read=vu.read),typeof vu.destroy=="function"&&(this._destroy=vu.destroy)),cs.call(this)}Object.defineProperty(Gl.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(fu){this._readableState&&(this._readableState.destroyed=fu)}}),Gl.prototype.destroy=wl.destroy,Gl.prototype._undestroy=wl.undestroy,Gl.prototype._destroy=function(vu,fu){fu(vu)},Gl.prototype.push=function(vu,fu){var Fu=this._readableState,_f;return Fu.objectMode?_f=!0:typeof vu=="string"&&(fu=fu||Fu.defaultEncoding,fu!==Fu.encoding&&(vu=lo.from(vu,fu),fu=""),_f=!0),iu(this,vu,fu,!1,_f)},Gl.prototype.unshift=function(vu){return iu(this,vu,null,!0,!1)};function iu(vu,fu,Fu,_f,Xu){ba("readableAddChunk",fu);var Gu=vu._readableState;if(fu===null)Gu.reading=!1,Wu(vu,Gu);else{var Uu;if(Xu||(Uu=Jl(Gu,fu)),Uu)Nl(vu,Uu);else if(Gu.objectMode||fu&&fu.length>0)if(typeof fu!="string"&&!Gu.objectMode&&Object.getPrototypeOf(fu)!==lo.prototype&&(fu=hs(fu)),_f)Gu.endEmitted?Nl(vu,new Tl):nu(vu,Gu,fu,!0);else if(Gu.ended)Nl(vu,new Fl);else{if(Gu.destroyed)return!1;Gu.reading=!1,Gu.decoder&&!Fu?(fu=Gu.decoder.write(fu),Gu.objectMode||fu.length!==0?nu(vu,Gu,fu,!1):mu(vu,Gu)):nu(vu,Gu,fu,!1)}else _f||(Gu.reading=!1,mu(vu,Gu))}return!Gu.ended&&(Gu.length<Gu.highWaterMark||Gu.length===0)}function nu(vu,fu,Fu,_f){fu.flowing&&fu.length===0&&!fu.sync?(fu.awaitDrain=0,vu.emit("data",Fu)):(fu.length+=fu.objectMode?1:Fu.length,_f?fu.buffer.unshift(Fu):fu.buffer.push(Fu),fu.needReadable&&qu(vu)),mu(vu,fu)}function Jl(vu,fu){var Fu;return!uo(fu)&&typeof fu!="string"&&fu!==void 0&&!vu.objectMode&&(Fu=new Il("chunk",["string","Buffer","Uint8Array"],fu)),Fu}Gl.prototype.isPaused=function(){return this._readableState.flowing===!1},Gl.prototype.setEncoding=function(vu){Dl||(Dl=requireString_decoder().StringDecoder);var fu=new Dl(vu);this._readableState.decoder=fu,this._readableState.encoding=this._readableState.decoder.encoding;for(var Fu=this._readableState.buffer.head,_f="";Fu!==null;)_f+=fu.write(Fu.data),Fu=Fu.next;return this._readableState.buffer.clear(),_f!==""&&this._readableState.buffer.push(_f),this._readableState.length=_f.length,this};var lu=1073741824;function ju(vu){return vu>=lu?vu=lu:(vu--,vu|=vu>>>1,vu|=vu>>>2,vu|=vu>>>4,vu|=vu>>>8,vu|=vu>>>16,vu++),vu}function zu(vu,fu){return vu<=0||fu.length===0&&fu.ended?0:fu.objectMode?1:vu!==vu?fu.flowing&&fu.length?fu.buffer.head.data.length:fu.length:(vu>fu.highWaterMark&&(fu.highWaterMark=ju(vu)),vu<=fu.length?vu:fu.ended?fu.length:(fu.needReadable=!0,0))}Gl.prototype.read=function(vu){ba("read",vu),vu=parseInt(vu,10);var fu=this._readableState,Fu=vu;if(vu!==0&&(fu.emittedReadable=!1),vu===0&&fu.needReadable&&((fu.highWaterMark!==0?fu.length>=fu.highWaterMark:fu.length>0)||fu.ended))return ba("read: emitReadable",fu.length,fu.ended),fu.length===0&&fu.ended?su(this):qu(this),null;if(vu=zu(vu,fu),vu===0&&fu.ended)return fu.length===0&&su(this),null;var _f=fu.needReadable;ba("need readable",_f),(fu.length===0||fu.length-vu<fu.highWaterMark)&&(_f=!0,ba("length less than watermark",_f)),fu.ended||fu.reading?(_f=!1,ba("reading or ended",_f)):_f&&(ba("do read"),fu.reading=!0,fu.sync=!0,fu.length===0&&(fu.needReadable=!0),this._read(fu.highWaterMark),fu.sync=!1,fu.reading||(vu=zu(Fu,fu)));var Xu;return vu>0?Xu=Ql(vu,fu):Xu=null,Xu===null?(fu.needReadable=fu.length<=fu.highWaterMark,vu=0):(fu.length-=vu,fu.awaitDrain=0),fu.length===0&&(fu.ended||(fu.needReadable=!0),Fu!==vu&&fu.ended&&su(this)),Xu!==null&&this.emit("data",Xu),Xu};function Wu(vu,fu){if(ba("onEofChunk"),!fu.ended){if(fu.decoder){var Fu=fu.decoder.end();Fu&&Fu.length&&(fu.buffer.push(Fu),fu.length+=fu.objectMode?1:Fu.length)}fu.ended=!0,fu.sync?qu(vu):(fu.needReadable=!1,fu.emittedReadable||(fu.emittedReadable=!0,Mu(vu)))}}function qu(vu){var fu=vu._readableState;ba("emitReadable",fu.needReadable,fu.emittedReadable),fu.needReadable=!1,fu.emittedReadable||(ba("emitReadable",fu.flowing),fu.emittedReadable=!0,process$1.nextTick(Mu,vu))}function Mu(vu){var fu=vu._readableState;ba("emitReadable_",fu.destroyed,fu.length,fu.ended),!fu.destroyed&&(fu.length||fu.ended)&&(vu.emit("readable"),fu.emittedReadable=!1),fu.needReadable=!fu.flowing&&!fu.ended&&fu.length<=fu.highWaterMark,_c(vu)}function mu(vu,fu){fu.readingMore||(fu.readingMore=!0,process$1.nextTick(uu,vu,fu))}function uu(vu,fu){for(;!fu.reading&&!fu.ended&&(fu.length<fu.highWaterMark||fu.flowing&&fu.length===0);){var Fu=fu.length;if(ba("maybeReadMore read 0"),vu.read(0),Fu===fu.length)break}fu.readingMore=!1}Gl.prototype._read=function(vu){Nl(this,new Ml("_read()"))},Gl.prototype.pipe=function(vu,fu){var Fu=this,_f=this._readableState;switch(_f.pipesCount){case 0:_f.pipes=vu;break;case 1:_f.pipes=[_f.pipes,vu];break;default:_f.pipes.push(vu);break}_f.pipesCount+=1,ba("pipe count=%d opts=%j",_f.pipesCount,fu);var Xu=(!fu||fu.end!==!1)&&vu!==process$1.stdout&&vu!==process$1.stderr,Gu=Xu?Au:up;_f.endEmitted?process$1.nextTick(Gu):Fu.once("end",Gu),vu.on("unpipe",Uu);function Uu(mp,Rp){ba("onunpipe"),mp===Fu&&Rp&&Rp.hasUnpiped===!1&&(Rp.hasUnpiped=!0,ip())}function Au(){ba("onend"),vu.end()}var Pu=cu(Fu);vu.on("drain",Pu);var Ou=!1;function ip(){ba("cleanup"),vu.removeListener("close",Eu),vu.removeListener("finish",Lu),vu.removeListener("drain",Pu),vu.removeListener("error",np),vu.removeListener("unpipe",Uu),Fu.removeListener("end",Au),Fu.removeListener("end",up),Fu.removeListener("data",$u),Ou=!0,_f.awaitDrain&&(!vu._writableState||vu._writableState.needDrain)&&Pu()}Fu.on("data",$u);function $u(mp){ba("ondata");var Rp=vu.write(mp);ba("dest.write",Rp),Rp===!1&&((_f.pipesCount===1&&_f.pipes===vu||_f.pipesCount>1&&Cu(_f.pipes,vu)!==-1)&&!Ou&&(ba("false write response, pause",_f.awaitDrain),_f.awaitDrain++),Fu.pause())}function np(mp){ba("onerror",mp),up(),vu.removeListener("error",np),is(vu,"error")===0&&Nl(vu,mp)}$l(vu,"error",np);function Eu(){vu.removeListener("finish",Lu),up()}vu.once("close",Eu);function Lu(){ba("onfinish"),vu.removeListener("close",Eu),up()}vu.once("finish",Lu);function up(){ba("unpipe"),Fu.unpipe(vu)}return vu.emit("pipe",Fu),_f.flowing||(ba("pipe resume"),Fu.resume()),vu};function cu(vu){return function(){var Fu=vu._readableState;ba("pipeOnDrain",Fu.awaitDrain),Fu.awaitDrain&&Fu.awaitDrain--,Fu.awaitDrain===0&&is(vu,"data")&&(Fu.flowing=!0,_c(vu))}}Gl.prototype.unpipe=function(vu){var fu=this._readableState,Fu={hasUnpiped:!1};if(fu.pipesCount===0)return this;if(fu.pipesCount===1)return vu&&vu!==fu.pipes?this:(vu||(vu=fu.pipes),fu.pipes=null,fu.pipesCount=0,fu.flowing=!1,vu&&vu.emit("unpipe",this,Fu),this);if(!vu){var _f=fu.pipes,Xu=fu.pipesCount;fu.pipes=null,fu.pipesCount=0,fu.flowing=!1;for(var Gu=0;Gu<Xu;Gu++)_f[Gu].emit("unpipe",this,{hasUnpiped:!1});return this}var Uu=Cu(fu.pipes,vu);return Uu===-1?this:(fu.pipes.splice(Uu,1),fu.pipesCount-=1,fu.pipesCount===1&&(fu.pipes=fu.pipes[0]),vu.emit("unpipe",this,Fu),this)},Gl.prototype.on=function(vu,fu){var Fu=cs.prototype.on.call(this,vu,fu),_f=this._readableState;return vu==="data"?(_f.readableListening=this.listenerCount("readable")>0,_f.flowing!==!1&&this.resume()):vu==="readable"&&!_f.endEmitted&&!_f.readableListening&&(_f.readableListening=_f.needReadable=!0,_f.flowing=!1,_f.emittedReadable=!1,ba("on readable",_f.length,_f.reading),_f.length?qu(this):_f.reading||process$1.nextTick(Yl,this)),Fu},Gl.prototype.addListener=Gl.prototype.on,Gl.prototype.removeListener=function(vu,fu){var Fu=cs.prototype.removeListener.call(this,vu,fu);return vu==="readable"&&process$1.nextTick(ru,this),Fu},Gl.prototype.removeAllListeners=function(vu){var fu=cs.prototype.removeAllListeners.apply(this,arguments);return(vu==="readable"||vu===void 0)&&process$1.nextTick(ru,this),fu};function ru(vu){var fu=vu._readableState;fu.readableListening=vu.listenerCount("readable")>0,fu.resumeScheduled&&!fu.paused?fu.flowing=!0:vu.listenerCount("data")>0&&vu.resume()}function Yl(vu){ba("readable nexttick read 0"),vu.read(0)}Gl.prototype.resume=function(){var vu=this._readableState;return vu.flowing||(ba("resume"),vu.flowing=!vu.readableListening,Hl(this,vu)),vu.paused=!1,this};function Hl(vu,fu){fu.resumeScheduled||(fu.resumeScheduled=!0,process$1.nextTick(Kl,vu,fu))}function Kl(vu,fu){ba("resume",fu.reading),fu.reading||vu.read(0),fu.resumeScheduled=!1,vu.emit("resume"),_c(vu),fu.flowing&&!fu.reading&&vu.read(0)}Gl.prototype.pause=function(){return ba("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ba("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function _c(vu){var fu=vu._readableState;for(ba("flow",fu.flowing);fu.flowing&&vu.read()!==null;);}Gl.prototype.wrap=function(vu){var fu=this,Fu=this._readableState,_f=!1;vu.on("end",function(){if(ba("wrapped end"),Fu.decoder&&!Fu.ended){var Uu=Fu.decoder.end();Uu&&Uu.length&&fu.push(Uu)}fu.push(null)}),vu.on("data",function(Uu){if(ba("wrapped data"),Fu.decoder&&(Uu=Fu.decoder.write(Uu)),!(Fu.objectMode&&Uu==null)&&!(!Fu.objectMode&&(!Uu||!Uu.length))){var Au=fu.push(Uu);Au||(_f=!0,vu.pause())}});for(var Xu in vu)this[Xu]===void 0&&typeof vu[Xu]=="function"&&(this[Xu]=function(Au){return function(){return vu[Au].apply(vu,arguments)}}(Xu));for(var Gu=0;Gu<zl.length;Gu++)vu.on(zl[Gu],this.emit.bind(this,zl[Gu]));return this._read=function(Uu){ba("wrapped _read",Uu),_f&&(_f=!1,vu.resume())},this},typeof Symbol=="function"&&(Gl.prototype[Symbol.asyncIterator]=function(){return Bl===void 0&&(Bl=requireAsync_iterator()),Bl(this)}),Object.defineProperty(Gl.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Gl.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Gl.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fu){this._readableState&&(this._readableState.flowing=fu)}}),Gl._fromList=Ql,Object.defineProperty(Gl.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ql(vu,fu){if(fu.length===0)return null;var Fu;return fu.objectMode?Fu=fu.buffer.shift():!vu||vu>=fu.length?(fu.decoder?Fu=fu.buffer.join(""):fu.buffer.length===1?Fu=fu.buffer.first():Fu=fu.buffer.concat(fu.length),fu.buffer.clear()):Fu=fu.buffer.consume(vu,fu.decoder),Fu}function su(vu){var fu=vu._readableState;ba("endReadable",fu.endEmitted),fu.endEmitted||(fu.ended=!0,process$1.nextTick(gu,fu,vu))}function gu(vu,fu){if(ba("endReadableNT",vu.endEmitted,vu.length),!vu.endEmitted&&vu.length===0&&(vu.endEmitted=!0,fu.readable=!1,fu.emit("end"),vu.autoDestroy)){var Fu=fu._writableState;(!Fu||Fu.autoDestroy&&Fu.finished)&&fu.destroy()}}typeof Symbol=="function"&&(Gl.from=function(vu,fu){return Ll===void 0&&(Ll=requireFromBrowser()),Ll(Gl,vu,fu)});function Cu(vu,fu){for(var Fu=0,_f=vu.length;Fu<_f;Fu++)if(vu[Fu]===fu)return Fu;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=xa;var us=requireErrorsBrowser().codes,is=us.ERR_METHOD_NOT_IMPLEMENTED,cs=us.ERR_MULTIPLE_CALLBACK,lo=us.ERR_TRANSFORM_ALREADY_TRANSFORMING,co=us.ERR_TRANSFORM_WITH_LENGTH_0,hs=require_stream_duplex();requireInherits_browser()(xa,hs);function uo(wl,Sl){var Cl=this._transformState;Cl.transforming=!1;var _l=Cl.writecb;if(_l===null)return this.emit("error",new cs);Cl.writechunk=null,Cl.writecb=null,Sl!=null&&this.push(Sl),_l(wl);var Il=this._readableState;Il.reading=!1,(Il.needReadable||Il.length<Il.highWaterMark)&&this._read(Il.highWaterMark)}function xa(wl){if(!(this instanceof xa))return new xa(wl);hs.call(this,wl),this._transformState={afterTransform:uo.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,wl&&(typeof wl.transform=="function"&&(this._transform=wl.transform),typeof wl.flush=="function"&&(this._flush=wl.flush)),this.on("prefinish",ba)}function ba(){var wl=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(Sl,Cl){$a(wl,Sl,Cl)}):$a(this,null,null)}xa.prototype.push=function(wl,Sl){return this._transformState.needTransform=!1,hs.prototype.push.call(this,wl,Sl)},xa.prototype._transform=function(wl,Sl,Cl){Cl(new is("_transform()"))},xa.prototype._write=function(wl,Sl,Cl){var _l=this._transformState;if(_l.writecb=Cl,_l.writechunk=wl,_l.writeencoding=Sl,!_l.transforming){var Il=this._readableState;(_l.needTransform||Il.needReadable||Il.length<Il.highWaterMark)&&this._read(Il.highWaterMark)}},xa.prototype._read=function(wl){var Sl=this._transformState;Sl.writechunk!==null&&!Sl.transforming?(Sl.transforming=!0,this._transform(Sl.writechunk,Sl.writeencoding,Sl.afterTransform)):Sl.needTransform=!0},xa.prototype._destroy=function(wl,Sl){hs.prototype._destroy.call(this,wl,function(Cl){Sl(Cl)})};function $a(wl,Sl,Cl){if(Sl)return wl.emit("error",Sl);if(Cl!=null&&wl.push(Cl),wl._writableState.length)throw new co;if(wl._transformState.transforming)throw new lo;return wl.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=is;var us=require_stream_transform();requireInherits_browser()(is,us);function is(cs){if(!(this instanceof is))return new is(cs);us.call(this,cs)}return is.prototype._transform=function(cs,lo,co){co(null,cs)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var us;function is(Cl){var _l=!1;return function(){_l||(_l=!0,Cl.apply(void 0,arguments))}}var cs=requireErrorsBrowser().codes,lo=cs.ERR_MISSING_ARGS,co=cs.ERR_STREAM_DESTROYED;function hs(Cl){if(Cl)throw Cl}function uo(Cl){return Cl.setHeader&&typeof Cl.abort=="function"}function xa(Cl,_l,Il,Fl){Fl=is(Fl);var Ml=!1;Cl.on("close",function(){Ml=!0}),us===void 0&&(us=requireEndOfStream()),us(Cl,{readable:_l,writable:Il},function(Dl){if(Dl)return Fl(Dl);Ml=!0,Fl()});var Tl=!1;return function(Dl){if(!Ml&&!Tl){if(Tl=!0,uo(Cl))return Cl.abort();if(typeof Cl.destroy=="function")return Cl.destroy();Fl(Dl||new co("pipe"))}}}function ba(Cl){Cl()}function $a(Cl,_l){return Cl.pipe(_l)}function wl(Cl){return!Cl.length||typeof Cl[Cl.length-1]!="function"?hs:Cl.pop()}function Sl(){for(var Cl=arguments.length,_l=new Array(Cl),Il=0;Il<Cl;Il++)_l[Il]=arguments[Il];var Fl=wl(_l);if(Array.isArray(_l[0])&&(_l=_l[0]),_l.length<2)throw new lo("streams");var Ml,Tl=_l.map(function(Dl,Bl){var Ll=Bl<_l.length-1,Nl=Bl>0;return xa(Dl,Ll,Nl,function(zl){Ml||(Ml=zl),zl&&Tl.forEach(ba),!Ll&&(Tl.forEach(ba),Fl(Ml))})});return _l.reduce($a)}return pipeline_1=Sl,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(us,is){is=us.exports=require_stream_readable(),is.Stream=is,is.Readable=is,is.Writable=require_stream_writable(),is.Duplex=require_stream_duplex(),is.Transform=require_stream_transform(),is.PassThrough=require_stream_passthrough(),is.finished=requireEndOfStream(),is.pipeline=requirePipeline()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var hasRequiredResponse;function requireResponse(){if(hasRequiredResponse)return response;hasRequiredResponse=1;var us=requireCapability(),is=requireInherits_browser(),cs=requireReadableBrowser(),lo=response.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},co=response.IncomingMessage=function(hs,uo,xa,ba){var $a=this;if(cs.Readable.call($a),$a._mode=xa,$a.headers={},$a.rawHeaders=[],$a.trailers={},$a.rawTrailers=[],$a.on("end",function(){process$1.nextTick(function(){$a.emit("close")})}),xa==="fetch"){let Fl=function(){Sl.read().then(function(Ml){if(!$a._destroyed){if(ba(Ml.done),Ml.done){$a.push(null);return}$a.push(Buffer.from(Ml.value)),Fl()}}).catch(function(Ml){ba(!0),$a._destroyed||$a.emit("error",Ml)})};if($a._fetchResponse=uo,$a.url=uo.url,$a.statusCode=uo.status,$a.statusMessage=uo.statusText,uo.headers.forEach(function(Ml,Tl){$a.headers[Tl.toLowerCase()]=Ml,$a.rawHeaders.push(Tl,Ml)}),us.writableStream){var wl=new WritableStream({write:function(Ml){return ba(!1),new Promise(function(Tl,Dl){$a._destroyed?Dl():$a.push(Buffer.from(Ml))?Tl():$a._resumeFetch=Tl})},close:function(){ba(!0),$a._destroyed||$a.push(null)},abort:function(Ml){ba(!0),$a._destroyed||$a.emit("error",Ml)}});try{uo.body.pipeTo(wl).catch(function(Ml){ba(!0),$a._destroyed||$a.emit("error",Ml)});return}catch{}}var Sl=uo.body.getReader();Fl()}else{$a._xhr=hs,$a._pos=0,$a.url=hs.responseURL,$a.statusCode=hs.status,$a.statusMessage=hs.statusText;var Cl=hs.getAllResponseHeaders().split(/\r?\n/);if(Cl.forEach(function(Fl){var Ml=Fl.match(/^([^:]+):\s*(.*)/);if(Ml){var Tl=Ml[1].toLowerCase();Tl==="set-cookie"?($a.headers[Tl]===void 0&&($a.headers[Tl]=[]),$a.headers[Tl].push(Ml[2])):$a.headers[Tl]!==void 0?$a.headers[Tl]+=", "+Ml[2]:$a.headers[Tl]=Ml[2],$a.rawHeaders.push(Ml[1],Ml[2])}}),$a._charset="x-user-defined",!us.overrideMimeType){var _l=$a.rawHeaders["mime-type"];if(_l){var Il=_l.match(/;\s*charset=([^;])(;|$)/);Il&&($a._charset=Il[1].toLowerCase())}$a._charset||($a._charset="utf-8")}}};return is(co,cs.Readable),co.prototype._read=function(){var hs=this,uo=hs._resumeFetch;uo&&(hs._resumeFetch=null,uo())},co.prototype._onXHRProgress=function(hs){var uo=this,xa=uo._xhr,ba=null;switch(uo._mode){case"text":if(ba=xa.responseText,ba.length>uo._pos){var $a=ba.substr(uo._pos);if(uo._charset==="x-user-defined"){for(var wl=Buffer.alloc($a.length),Sl=0;Sl<$a.length;Sl++)wl[Sl]=$a.charCodeAt(Sl)&255;uo.push(wl)}else uo.push($a,uo._charset);uo._pos=ba.length}break;case"arraybuffer":if(xa.readyState!==lo.DONE||!xa.response)break;ba=xa.response,uo.push(Buffer.from(new Uint8Array(ba)));break;case"moz-chunked-arraybuffer":if(ba=xa.response,xa.readyState!==lo.LOADING||!ba)break;uo.push(Buffer.from(new Uint8Array(ba)));break;case"ms-stream":if(ba=xa.response,xa.readyState!==lo.LOADING)break;var Cl=new globalThis.MSStreamReader;Cl.onprogress=function(){Cl.result.byteLength>uo._pos&&(uo.push(Buffer.from(new Uint8Array(Cl.result.slice(uo._pos)))),uo._pos=Cl.result.byteLength)},Cl.onload=function(){hs(!0),uo.push(null)},Cl.readAsArrayBuffer(ba);break}uo._xhr.readyState===lo.DONE&&uo._mode!=="ms-stream"&&(hs(!0),uo.push(null))},response}var hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request.exports;hasRequiredRequest=1;var us=requireCapability(),is=requireInherits_browser(),cs=requireResponse(),lo=requireReadableBrowser(),co=cs.IncomingMessage,hs=cs.readyStates;function uo(wl,Sl){return us.fetch&&Sl?"fetch":us.mozchunkedarraybuffer?"moz-chunked-arraybuffer":us.msstream?"ms-stream":us.arraybuffer&&wl?"arraybuffer":"text"}var xa=request.exports=function(wl){var Sl=this;lo.Writable.call(Sl),Sl._opts=wl,Sl._body=[],Sl._headers={},wl.auth&&Sl.setHeader("Authorization","Basic "+Buffer.from(wl.auth).toString("base64")),Object.keys(wl.headers).forEach(function(Il){Sl.setHeader(Il,wl.headers[Il])});var Cl,_l=!0;if(wl.mode==="disable-fetch"||"requestTimeout"in wl&&!us.abortController)_l=!1,Cl=!0;else if(wl.mode==="prefer-streaming")Cl=!1;else if(wl.mode==="allow-wrong-content-type")Cl=!us.overrideMimeType;else if(!wl.mode||wl.mode==="default"||wl.mode==="prefer-fast")Cl=!0;else throw new Error("Invalid value for opts.mode");Sl._mode=uo(Cl,_l),Sl._fetchTimer=null,Sl._socketTimeout=null,Sl._socketTimer=null,Sl.on("finish",function(){Sl._onFinish()})};is(xa,lo.Writable),xa.prototype.setHeader=function(wl,Sl){var Cl=this,_l=wl.toLowerCase();$a.indexOf(_l)===-1&&(Cl._headers[_l]={name:wl,value:Sl})},xa.prototype.getHeader=function(wl){var Sl=this._headers[wl.toLowerCase()];return Sl?Sl.value:null},xa.prototype.removeHeader=function(wl){var Sl=this;delete Sl._headers[wl.toLowerCase()]},xa.prototype._onFinish=function(){var wl=this;if(!wl._destroyed){var Sl=wl._opts;"timeout"in Sl&&Sl.timeout!==0&&wl.setTimeout(Sl.timeout);var Cl=wl._headers,_l=null;Sl.method!=="GET"&&Sl.method!=="HEAD"&&(_l=new Blob(wl._body,{type:(Cl["content-type"]||{}).value||""}));var Il=[];if(Object.keys(Cl).forEach(function(Dl){var Bl=Cl[Dl].name,Ll=Cl[Dl].value;Array.isArray(Ll)?Ll.forEach(function(Nl){Il.push([Bl,Nl])}):Il.push([Bl,Ll])}),wl._mode==="fetch"){var Fl=null;if(us.abortController){var Ml=new AbortController;Fl=Ml.signal,wl._fetchAbortController=Ml,"requestTimeout"in Sl&&Sl.requestTimeout!==0&&(wl._fetchTimer=globalThis.setTimeout(function(){wl.emit("requestTimeout"),wl._fetchAbortController&&wl._fetchAbortController.abort()},Sl.requestTimeout))}globalThis.fetch(wl._opts.url,{method:wl._opts.method,headers:Il,body:_l||void 0,mode:"cors",credentials:Sl.withCredentials?"include":"same-origin",signal:Fl}).then(function(Dl){wl._fetchResponse=Dl,wl._resetTimers(!1),wl._connect()},function(Dl){wl._resetTimers(!0),wl._destroyed||wl.emit("error",Dl)})}else{var Tl=wl._xhr=new globalThis.XMLHttpRequest;try{Tl.open(wl._opts.method,wl._opts.url,!0)}catch(Dl){process$1.nextTick(function(){wl.emit("error",Dl)});return}"responseType"in Tl&&(Tl.responseType=wl._mode),"withCredentials"in Tl&&(Tl.withCredentials=!!Sl.withCredentials),wl._mode==="text"&&"overrideMimeType"in Tl&&Tl.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in Sl&&(Tl.timeout=Sl.requestTimeout,Tl.ontimeout=function(){wl.emit("requestTimeout")}),Il.forEach(function(Dl){Tl.setRequestHeader(Dl[0],Dl[1])}),wl._response=null,Tl.onreadystatechange=function(){switch(Tl.readyState){case hs.LOADING:case hs.DONE:wl._onXHRProgress();break}},wl._mode==="moz-chunked-arraybuffer"&&(Tl.onprogress=function(){wl._onXHRProgress()}),Tl.onerror=function(){wl._destroyed||(wl._resetTimers(!0),wl.emit("error",new Error("XHR error")))};try{Tl.send(_l)}catch(Dl){process$1.nextTick(function(){wl.emit("error",Dl)});return}}}};function ba(wl){try{var Sl=wl.status;return Sl!==null&&Sl!==0}catch{return!1}}xa.prototype._onXHRProgress=function(){var wl=this;wl._resetTimers(!1),!(!ba(wl._xhr)||wl._destroyed)&&(wl._response||wl._connect(),wl._response._onXHRProgress(wl._resetTimers.bind(wl)))},xa.prototype._connect=function(){var wl=this;wl._destroyed||(wl._response=new co(wl._xhr,wl._fetchResponse,wl._mode,wl._resetTimers.bind(wl)),wl._response.on("error",function(Sl){wl.emit("error",Sl)}),wl.emit("response",wl._response))},xa.prototype._write=function(wl,Sl,Cl){var _l=this;_l._body.push(wl),Cl()},xa.prototype._resetTimers=function(wl){var Sl=this;globalThis.clearTimeout(Sl._socketTimer),Sl._socketTimer=null,wl?(globalThis.clearTimeout(Sl._fetchTimer),Sl._fetchTimer=null):Sl._socketTimeout&&(Sl._socketTimer=globalThis.setTimeout(function(){Sl.emit("timeout")},Sl._socketTimeout))},xa.prototype.abort=xa.prototype.destroy=function(wl){var Sl=this;Sl._destroyed=!0,Sl._resetTimers(!0),Sl._response&&(Sl._response._destroyed=!0),Sl._xhr?Sl._xhr.abort():Sl._fetchAbortController&&Sl._fetchAbortController.abort(),wl&&Sl.emit("error",wl)},xa.prototype.end=function(wl,Sl,Cl){var _l=this;typeof wl=="function"&&(Cl=wl,wl=void 0),lo.Writable.prototype.end.call(_l,wl,Sl,Cl)},xa.prototype.setTimeout=function(wl,Sl){var Cl=this;Sl&&Cl.once("timeout",Sl),Cl._socketTimeout=wl,Cl._resetTimers(!1)},xa.prototype.flushHeaders=function(){},xa.prototype.setNoDelay=function(){},xa.prototype.setSocketKeepAlive=function(){};var $a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return request.exports}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=is;var us=Object.prototype.hasOwnProperty;function is(){for(var cs={},lo=0;lo<arguments.length;lo++){var co=arguments[lo];for(var hs in co)us.call(co,hs)&&(cs[hs]=co[hs])}return cs}return immutable}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),browser}var hasRequiredStreamHttp;function requireStreamHttp(){return hasRequiredStreamHttp||(hasRequiredStreamHttp=1,function(us){var is=requireRequest(),cs=requireResponse(),lo=requireImmutable(),co=requireBrowser(),hs=requireUrl(),uo=us;uo.request=function(xa,ba){typeof xa=="string"?xa=hs.parse(xa):xa=lo(xa);var $a=globalThis.location.protocol.search(/^https?:$/)===-1?"http:":"",wl=xa.protocol||$a,Sl=xa.hostname||xa.host,Cl=xa.port,_l=xa.path||"/";Sl&&Sl.indexOf(":")!==-1&&(Sl="["+Sl+"]"),xa.url=(Sl?wl+"//"+Sl:"")+(Cl?":"+Cl:"")+_l,xa.method=(xa.method||"GET").toUpperCase(),xa.headers=xa.headers||{};var Il=new is(xa);return ba&&Il.on("response",ba),Il},uo.get=function(ba,$a){var wl=uo.request(ba,$a);return wl.end(),wl},uo.ClientRequest=is,uo.IncomingMessage=cs.IncomingMessage,uo.Agent=function(){},uo.Agent.defaultMaxSockets=4,uo.globalAgent=new uo.Agent,uo.STATUS_CODES=co,uo.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(streamHttp)),streamHttp}var httpsBrowserify={exports:{}},hasRequiredHttpsBrowserify;function requireHttpsBrowserify(){return hasRequiredHttpsBrowserify||(hasRequiredHttpsBrowserify=1,function(us){var is=requireStreamHttp(),cs=requireUrl(),lo=us.exports;for(var co in is)is.hasOwnProperty(co)&&(lo[co]=is[co]);lo.request=function(uo,xa){return uo=hs(uo),is.request.call(this,uo,xa)},lo.get=function(uo,xa){return uo=hs(uo),is.get.call(this,uo,xa)};function hs(uo){if(typeof uo=="string"&&(uo=cs.parse(uo)),uo.protocol||(uo.protocol="https:"),uo.protocol!=="https:")throw new Error('Protocol "'+uo.protocol+'" not supported. Expected "https:"');return uo}}(httpsBrowserify)),httpsBrowserify.exports}var lib={},streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=cs;var us=requireEvents().EventEmitter,is=requireInherits_browser();is(cs,us),cs.Readable=require_stream_readable(),cs.Writable=require_stream_writable(),cs.Duplex=require_stream_duplex(),cs.Transform=require_stream_transform(),cs.PassThrough=require_stream_passthrough(),cs.finished=requireEndOfStream(),cs.pipeline=requirePipeline(),cs.Stream=cs;function cs(){us.call(this)}return cs.prototype.pipe=function(lo,co){var hs=this;function uo(_l){lo.writable&&lo.write(_l)===!1&&hs.pause&&hs.pause()}hs.on("data",uo);function xa(){hs.readable&&hs.resume&&hs.resume()}lo.on("drain",xa),!lo._isStdio&&(!co||co.end!==!1)&&(hs.on("end",$a),hs.on("close",wl));var ba=!1;function $a(){ba||(ba=!0,lo.end())}function wl(){ba||(ba=!0,typeof lo.destroy=="function"&&lo.destroy())}function Sl(_l){if(Cl(),us.listenerCount(this,"error")===0)throw _l}hs.on("error",Sl),lo.on("error",Sl);function Cl(){hs.removeListener("data",uo),lo.removeListener("drain",xa),hs.removeListener("end",$a),hs.removeListener("close",wl),hs.removeListener("error",Sl),lo.removeListener("error",Sl),hs.removeListener("end",Cl),hs.removeListener("close",Cl),lo.removeListener("close",Cl)}return hs.on("end",Cl),hs.on("close",Cl),lo.on("close",Cl),lo.emit("pipe",hs),lo},streamBrowserify}var binding={},assert={exports:{}},errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function us(Dl){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Bl){return typeof Bl}:function(Bl){return Bl&&typeof Symbol=="function"&&Bl.constructor===Symbol&&Bl!==Symbol.prototype?"symbol":typeof Bl},us(Dl)}function is(Dl,Bl,Ll){return Object.defineProperty(Dl,"prototype",{writable:!1}),Dl}function cs(Dl,Bl){if(!(Dl instanceof Bl))throw new TypeError("Cannot call a class as a function")}function lo(Dl,Bl){if(typeof Bl!="function"&&Bl!==null)throw new TypeError("Super expression must either be null or a function");Dl.prototype=Object.create(Bl&&Bl.prototype,{constructor:{value:Dl,writable:!0,configurable:!0}}),Object.defineProperty(Dl,"prototype",{writable:!1}),Bl&&co(Dl,Bl)}function co(Dl,Bl){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Nl,zl){return Nl.__proto__=zl,Nl},co(Dl,Bl)}function hs(Dl){var Bl=ba();return function(){var Nl=$a(Dl),zl;if(Bl){var $l=$a(this).constructor;zl=Reflect.construct(Nl,arguments,$l)}else zl=Nl.apply(this,arguments);return uo(this,zl)}}function uo(Dl,Bl){if(Bl&&(us(Bl)==="object"||typeof Bl=="function"))return Bl;if(Bl!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(Dl)}function xa(Dl){if(Dl===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dl}function ba(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $a(Dl){return $a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ll){return Ll.__proto__||Object.getPrototypeOf(Ll)},$a(Dl)}var wl={},Sl,Cl;function _l(Dl,Bl,Ll){Ll||(Ll=Error);function Nl($l,Vl,Gl){return typeof Bl=="string"?Bl:Bl($l,Vl,Gl)}var zl=function($l){lo(Gl,$l);var Vl=hs(Gl);function Gl(iu,nu,Jl){var lu;return cs(this,Gl),lu=Vl.call(this,Nl(iu,nu,Jl)),lu.code=Dl,lu}return is(Gl)}(Ll);wl[Dl]=zl}function Il(Dl,Bl){if(Array.isArray(Dl)){var Ll=Dl.length;return Dl=Dl.map(function(Nl){return String(Nl)}),Ll>2?"one of ".concat(Bl," ").concat(Dl.slice(0,Ll-1).join(", "),", or ")+Dl[Ll-1]:Ll===2?"one of ".concat(Bl," ").concat(Dl[0]," or ").concat(Dl[1]):"of ".concat(Bl," ").concat(Dl[0])}else return"of ".concat(Bl," ").concat(String(Dl))}function Fl(Dl,Bl,Ll){return Dl.substr(0,Bl.length)===Bl}function Ml(Dl,Bl,Ll){return(Ll===void 0||Ll>Dl.length)&&(Ll=Dl.length),Dl.substring(Ll-Bl.length,Ll)===Bl}function Tl(Dl,Bl,Ll){return typeof Ll!="number"&&(Ll=0),Ll+Bl.length>Dl.length?!1:Dl.indexOf(Bl,Ll)!==-1}return _l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),_l("ERR_INVALID_ARG_TYPE",function(Dl,Bl,Ll){Sl===void 0&&(Sl=requireAssert()),Sl(typeof Dl=="string","'name' must be a string");var Nl;typeof Bl=="string"&&Fl(Bl,"not ")?(Nl="must not be",Bl=Bl.replace(/^not /,"")):Nl="must be";var zl;if(Ml(Dl," argument"))zl="The ".concat(Dl," ").concat(Nl," ").concat(Il(Bl,"type"));else{var $l=Tl(Dl,".")?"property":"argument";zl='The "'.concat(Dl,'" ').concat($l," ").concat(Nl," ").concat(Il(Bl,"type"))}return zl+=". Received type ".concat(us(Ll)),zl},TypeError),_l("ERR_INVALID_ARG_VALUE",function(Dl,Bl){var Ll=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Cl===void 0&&(Cl=requireUtil());var Nl=Cl.inspect(Bl);return Nl.length>128&&(Nl="".concat(Nl.slice(0,128),"...")),"The argument '".concat(Dl,"' ").concat(Ll,". Received ").concat(Nl)},TypeError),_l("ERR_INVALID_RETURN_VALUE",function(Dl,Bl,Ll){var Nl;return Ll&&Ll.constructor&&Ll.constructor.name?Nl="instance of ".concat(Ll.constructor.name):Nl="type ".concat(us(Ll)),"Expected ".concat(Dl,' to be returned from the "').concat(Bl,'"')+" function but got ".concat(Nl,".")},TypeError),_l("ERR_MISSING_ARGS",function(){for(var Dl=arguments.length,Bl=new Array(Dl),Ll=0;Ll<Dl;Ll++)Bl[Ll]=arguments[Ll];Sl===void 0&&(Sl=requireAssert()),Sl(Bl.length>0,"At least one arg needs to be specified");var Nl="The ",zl=Bl.length;switch(Bl=Bl.map(function($l){return'"'.concat($l,'"')}),zl){case 1:Nl+="".concat(Bl[0]," argument");break;case 2:Nl+="".concat(Bl[0]," and ").concat(Bl[1]," arguments");break;default:Nl+=Bl.slice(0,zl-1).join(", "),Nl+=", and ".concat(Bl[zl-1]," arguments");break}return"".concat(Nl," must be specified")},TypeError),errors.codes=wl,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function us(mu,uu){var cu=Object.keys(mu);if(Object.getOwnPropertySymbols){var ru=Object.getOwnPropertySymbols(mu);uu&&(ru=ru.filter(function(Yl){return Object.getOwnPropertyDescriptor(mu,Yl).enumerable})),cu.push.apply(cu,ru)}return cu}function is(mu){for(var uu=1;uu<arguments.length;uu++){var cu=arguments[uu]!=null?arguments[uu]:{};uu%2?us(Object(cu),!0).forEach(function(ru){cs(mu,ru,cu[ru])}):Object.getOwnPropertyDescriptors?Object.defineProperties(mu,Object.getOwnPropertyDescriptors(cu)):us(Object(cu)).forEach(function(ru){Object.defineProperty(mu,ru,Object.getOwnPropertyDescriptor(cu,ru))})}return mu}function cs(mu,uu,cu){return uu=uo(uu),uu in mu?Object.defineProperty(mu,uu,{value:cu,enumerable:!0,configurable:!0,writable:!0}):mu[uu]=cu,mu}function lo(mu,uu){if(!(mu instanceof uu))throw new TypeError("Cannot call a class as a function")}function co(mu,uu){for(var cu=0;cu<uu.length;cu++){var ru=uu[cu];ru.enumerable=ru.enumerable||!1,ru.configurable=!0,"value"in ru&&(ru.writable=!0),Object.defineProperty(mu,uo(ru.key),ru)}}function hs(mu,uu,cu){return uu&&co(mu.prototype,uu),Object.defineProperty(mu,"prototype",{writable:!1}),mu}function uo(mu){var uu=xa(mu,"string");return Dl(uu)==="symbol"?uu:String(uu)}function xa(mu,uu){if(Dl(mu)!=="object"||mu===null)return mu;var cu=mu[Symbol.toPrimitive];if(cu!==void 0){var ru=cu.call(mu,uu);if(Dl(ru)!=="object")return ru;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(mu)}function ba(mu,uu){if(typeof uu!="function"&&uu!==null)throw new TypeError("Super expression must either be null or a function");mu.prototype=Object.create(uu&&uu.prototype,{constructor:{value:mu,writable:!0,configurable:!0}}),Object.defineProperty(mu,"prototype",{writable:!1}),uu&&Ml(mu,uu)}function $a(mu){var uu=Il();return function(){var ru=Tl(mu),Yl;if(uu){var Hl=Tl(this).constructor;Yl=Reflect.construct(ru,arguments,Hl)}else Yl=ru.apply(this,arguments);return wl(this,Yl)}}function wl(mu,uu){if(uu&&(Dl(uu)==="object"||typeof uu=="function"))return uu;if(uu!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sl(mu)}function Sl(mu){if(mu===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mu}function Cl(mu){var uu=typeof Map=="function"?new Map:void 0;return Cl=function(ru){if(ru===null||!Fl(ru))return ru;if(typeof ru!="function")throw new TypeError("Super expression must either be null or a function");if(typeof uu<"u"){if(uu.has(ru))return uu.get(ru);uu.set(ru,Yl)}function Yl(){return _l(ru,arguments,Tl(this).constructor)}return Yl.prototype=Object.create(ru.prototype,{constructor:{value:Yl,enumerable:!1,writable:!0,configurable:!0}}),Ml(Yl,ru)},Cl(mu)}function _l(mu,uu,cu){return Il()?_l=Reflect.construct.bind():_l=function(Yl,Hl,Kl){var _c=[null];_c.push.apply(_c,Hl);var Ql=Function.bind.apply(Yl,_c),su=new Ql;return Kl&&Ml(su,Kl.prototype),su},_l.apply(null,arguments)}function Il(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fl(mu){return Function.toString.call(mu).indexOf("[native code]")!==-1}function Ml(mu,uu){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ru,Yl){return ru.__proto__=Yl,ru},Ml(mu,uu)}function Tl(mu){return Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(cu){return cu.__proto__||Object.getPrototypeOf(cu)},Tl(mu)}function Dl(mu){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(uu){return typeof uu}:function(uu){return uu&&typeof Symbol=="function"&&uu.constructor===Symbol&&uu!==Symbol.prototype?"symbol":typeof uu},Dl(mu)}var Bl=requireUtil(),Ll=Bl.inspect,Nl=requireErrors(),zl=Nl.codes.ERR_INVALID_ARG_TYPE;function $l(mu,uu,cu){return(cu===void 0||cu>mu.length)&&(cu=mu.length),mu.substring(cu-uu.length,cu)===uu}function Vl(mu,uu){if(uu=Math.floor(uu),mu.length==0||uu==0)return"";var cu=mu.length*uu;for(uu=Math.floor(Math.log(uu)/Math.log(2));uu;)mu+=mu,uu--;return mu+=mu.substring(0,cu-mu.length),mu}var Gl="",iu="",nu="",Jl="",lu={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},ju=10;function zu(mu){var uu=Object.keys(mu),cu=Object.create(Object.getPrototypeOf(mu));return uu.forEach(function(ru){cu[ru]=mu[ru]}),Object.defineProperty(cu,"message",{value:mu.message}),cu}function Wu(mu){return Ll(mu,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function qu(mu,uu,cu){var ru="",Yl="",Hl=0,Kl="",_c=!1,Ql=Wu(mu),su=Ql.split(`
`),gu=Wu(uu).split(`
`),Cu=0,vu="";if(cu==="strictEqual"&&Dl(mu)==="object"&&Dl(uu)==="object"&&mu!==null&&uu!==null&&(cu="strictEqualObject"),su.length===1&&gu.length===1&&su[0]!==gu[0]){var fu=su[0].length+gu[0].length;if(fu<=ju){if((Dl(mu)!=="object"||mu===null)&&(Dl(uu)!=="object"||uu===null)&&(mu!==0||uu!==0))return"".concat(lu[cu],`

`)+"".concat(su[0]," !== ").concat(gu[0],`
`)}else if(cu!=="strictEqualObject"){var Fu=process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80;if(fu<Fu){for(;su[0][Cu]===gu[0][Cu];)Cu++;Cu>2&&(vu=`
  `.concat(Vl(" ",Cu),"^"),Cu=0)}}}for(var _f=su[su.length-1],Xu=gu[gu.length-1];_f===Xu&&(Cu++<2?Kl=`
  `.concat(_f).concat(Kl):ru=_f,su.pop(),gu.pop(),!(su.length===0||gu.length===0));)_f=su[su.length-1],Xu=gu[gu.length-1];var Gu=Math.max(su.length,gu.length);if(Gu===0){var Uu=Ql.split(`
`);if(Uu.length>30)for(Uu[26]="".concat(Gl,"...").concat(Jl);Uu.length>27;)Uu.pop();return"".concat(lu.notIdentical,`

`).concat(Uu.join(`
`),`
`)}Cu>3&&(Kl=`
`.concat(Gl,"...").concat(Jl).concat(Kl),_c=!0),ru!==""&&(Kl=`
  `.concat(ru).concat(Kl),ru="");var Au=0,Pu=lu[cu]+`
`.concat(iu,"+ actual").concat(Jl," ").concat(nu,"- expected").concat(Jl),Ou=" ".concat(Gl,"...").concat(Jl," Lines skipped");for(Cu=0;Cu<Gu;Cu++){var ip=Cu-Hl;if(su.length<Cu+1)ip>1&&Cu>2&&(ip>4?(Yl+=`
`.concat(Gl,"...").concat(Jl),_c=!0):ip>3&&(Yl+=`
  `.concat(gu[Cu-2]),Au++),Yl+=`
  `.concat(gu[Cu-1]),Au++),Hl=Cu,ru+=`
`.concat(nu,"-").concat(Jl," ").concat(gu[Cu]),Au++;else if(gu.length<Cu+1)ip>1&&Cu>2&&(ip>4?(Yl+=`
`.concat(Gl,"...").concat(Jl),_c=!0):ip>3&&(Yl+=`
  `.concat(su[Cu-2]),Au++),Yl+=`
  `.concat(su[Cu-1]),Au++),Hl=Cu,Yl+=`
`.concat(iu,"+").concat(Jl," ").concat(su[Cu]),Au++;else{var $u=gu[Cu],np=su[Cu],Eu=np!==$u&&(!$l(np,",")||np.slice(0,-1)!==$u);Eu&&$l($u,",")&&$u.slice(0,-1)===np&&(Eu=!1,np+=","),Eu?(ip>1&&Cu>2&&(ip>4?(Yl+=`
`.concat(Gl,"...").concat(Jl),_c=!0):ip>3&&(Yl+=`
  `.concat(su[Cu-2]),Au++),Yl+=`
  `.concat(su[Cu-1]),Au++),Hl=Cu,Yl+=`
`.concat(iu,"+").concat(Jl," ").concat(np),ru+=`
`.concat(nu,"-").concat(Jl," ").concat($u),Au+=2):(Yl+=ru,ru="",(ip===1||Cu===0)&&(Yl+=`
  `.concat(np),Au++))}if(Au>20&&Cu<Gu-2)return"".concat(Pu).concat(Ou,`
`).concat(Yl,`
`).concat(Gl,"...").concat(Jl).concat(ru,`
`)+"".concat(Gl,"...").concat(Jl)}return"".concat(Pu).concat(_c?Ou:"",`
`).concat(Yl).concat(ru).concat(Kl).concat(vu)}var Mu=function(mu,uu){ba(ru,mu);var cu=$a(ru);function ru(Yl){var Hl;if(lo(this,ru),Dl(Yl)!=="object"||Yl===null)throw new zl("options","Object",Yl);var Kl=Yl.message,_c=Yl.operator,Ql=Yl.stackStartFn,su=Yl.actual,gu=Yl.expected,Cu=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Kl!=null)Hl=cu.call(this,String(Kl));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&process$1.stderr.getColorDepth()!==1?(Gl="\x1B[34m",iu="\x1B[32m",Jl="\x1B[39m",nu="\x1B[31m"):(Gl="",iu="",Jl="",nu="")),Dl(su)==="object"&&su!==null&&Dl(gu)==="object"&&gu!==null&&"stack"in su&&su instanceof Error&&"stack"in gu&&gu instanceof Error&&(su=zu(su),gu=zu(gu)),_c==="deepStrictEqual"||_c==="strictEqual")Hl=cu.call(this,qu(su,gu,_c));else if(_c==="notDeepStrictEqual"||_c==="notStrictEqual"){var vu=lu[_c],fu=Wu(su).split(`
`);if(_c==="notStrictEqual"&&Dl(su)==="object"&&su!==null&&(vu=lu.notStrictEqualObject),fu.length>30)for(fu[26]="".concat(Gl,"...").concat(Jl);fu.length>27;)fu.pop();fu.length===1?Hl=cu.call(this,"".concat(vu," ").concat(fu[0])):Hl=cu.call(this,"".concat(vu,`

`).concat(fu.join(`
`),`
`))}else{var Fu=Wu(su),_f="",Xu=lu[_c];_c==="notDeepEqual"||_c==="notEqual"?(Fu="".concat(lu[_c],`

`).concat(Fu),Fu.length>1024&&(Fu="".concat(Fu.slice(0,1021),"..."))):(_f="".concat(Wu(gu)),Fu.length>512&&(Fu="".concat(Fu.slice(0,509),"...")),_f.length>512&&(_f="".concat(_f.slice(0,509),"...")),_c==="deepEqual"||_c==="equal"?Fu="".concat(Xu,`

`).concat(Fu,`

should equal

`):_f=" ".concat(_c," ").concat(_f)),Hl=cu.call(this,"".concat(Fu).concat(_f))}return Error.stackTraceLimit=Cu,Hl.generatedMessage=!Kl,Object.defineProperty(Sl(Hl),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Hl.code="ERR_ASSERTION",Hl.actual=su,Hl.expected=gu,Hl.operator=_c,Error.captureStackTrace&&Error.captureStackTrace(Sl(Hl),Ql),Hl.stack,Hl.name="AssertionError",wl(Hl)}return hs(ru,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:uu,value:function(Hl,Kl){return Ll(this,is(is({},Kl),{},{customInspect:!1,depth:0}))}}]),ru}(Cl(Error),Ll.custom);return assertion_error=Mu,assertion_error}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var us=Object.prototype.toString;return isArguments=function(cs){var lo=us.call(cs),co=lo==="[object Arguments]";return co||(co=lo!=="[object Array]"&&cs!==null&&typeof cs=="object"&&typeof cs.length=="number"&&cs.length>=0&&us.call(cs.callee)==="[object Function]"),co},isArguments}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var us;if(!Object.keys){var is=Object.prototype.hasOwnProperty,cs=Object.prototype.toString,lo=requireIsArguments(),co=Object.prototype.propertyIsEnumerable,hs=!co.call({toString:null},"toString"),uo=co.call(function(){},"prototype"),xa=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ba=function(Cl){var _l=Cl.constructor;return _l&&_l.prototype===Cl},$a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},wl=function(){if(typeof window>"u")return!1;for(var Cl in window)try{if(!$a["$"+Cl]&&is.call(window,Cl)&&window[Cl]!==null&&typeof window[Cl]=="object")try{ba(window[Cl])}catch{return!0}}catch{return!0}return!1}(),Sl=function(Cl){if(typeof window>"u"||!wl)return ba(Cl);try{return ba(Cl)}catch{return!1}};us=function(_l){var Il=_l!==null&&typeof _l=="object",Fl=cs.call(_l)==="[object Function]",Ml=lo(_l),Tl=Il&&cs.call(_l)==="[object String]",Dl=[];if(!Il&&!Fl&&!Ml)throw new TypeError("Object.keys called on a non-object");var Bl=uo&&Fl;if(Tl&&_l.length>0&&!is.call(_l,0))for(var Ll=0;Ll<_l.length;++Ll)Dl.push(String(Ll));if(Ml&&_l.length>0)for(var Nl=0;Nl<_l.length;++Nl)Dl.push(String(Nl));else for(var zl in _l)!(Bl&&zl==="prototype")&&is.call(_l,zl)&&Dl.push(String(zl));if(hs)for(var $l=Sl(_l),Vl=0;Vl<xa.length;++Vl)!($l&&xa[Vl]==="constructor")&&is.call(_l,xa[Vl])&&Dl.push(xa[Vl]);return Dl}}return implementation$3=us,implementation$3}var objectKeys,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var us=Array.prototype.slice,is=requireIsArguments(),cs=Object.keys,lo=cs?function(uo){return cs(uo)}:requireImplementation$3(),co=Object.keys;return lo.shim=function(){if(Object.keys){var uo=function(){var xa=Object.keys(arguments);return xa&&xa.length===arguments.length}(1,2);uo||(Object.keys=function(ba){return is(ba)?co(us.call(ba)):co(ba)})}else Object.keys=lo;return Object.keys||lo},objectKeys=lo,objectKeys}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var us=requireObjectKeys(),is=requireShams$1()(),cs=requireCallBound$1(),lo=requireEsObjectAtoms(),co=cs("Array.prototype.push"),hs=cs("Object.prototype.propertyIsEnumerable"),uo=is?lo.getOwnPropertySymbols:null;return implementation$2=function(ba,$a){if(ba==null)throw new TypeError("target must be an object");var wl=lo(ba);if(arguments.length===1)return wl;for(var Sl=1;Sl<arguments.length;++Sl){var Cl=lo(arguments[Sl]),_l=us(Cl),Il=is&&(lo.getOwnPropertySymbols||uo);if(Il)for(var Fl=Il(Cl),Ml=0;Ml<Fl.length;++Ml){var Tl=Fl[Ml];hs(Cl,Tl)&&co(_l,Tl)}for(var Dl=0;Dl<_l.length;++Dl){var Bl=_l[Dl];if(hs(Cl,Bl)){var Ll=Cl[Bl];wl[Bl]=Ll}}}return wl},implementation$2}var polyfill$2,hasRequiredPolyfill$2;function requirePolyfill$2(){if(hasRequiredPolyfill$2)return polyfill$2;hasRequiredPolyfill$2=1;var us=requireImplementation$2(),is=function(){if(!Object.assign)return!1;for(var lo="abcdefghijklmnopqrst",co=lo.split(""),hs={},uo=0;uo<co.length;++uo)hs[co[uo]]=co[uo];var xa=Object.assign({},hs),ba="";for(var $a in xa)ba+=$a;return lo!==ba},cs=function(){if(!Object.assign||!Object.preventExtensions)return!1;var lo=Object.preventExtensions({1:2});try{Object.assign(lo,"xy")}catch{return lo[1]==="y"}return!1};return polyfill$2=function(){return!Object.assign||is()||cs()?us:Object.assign},polyfill$2}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var us=function(is){return is!==is};return implementation$1=function(cs,lo){return cs===0&&lo===0?1/cs===1/lo:!!(cs===lo||us(cs)&&us(lo))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var us=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:us},polyfill$1}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var us=requireGetIntrinsic(),is=requireCallBind(),cs=is(us("String.prototype.indexOf"));return callBound=function(co,hs){var uo=us(co,!!hs);return typeof uo=="function"&&cs(co,".prototype.")>-1?is(uo):uo},callBound}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var us=requireObjectKeys(),is=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",cs=Object.prototype.toString,lo=Array.prototype.concat,co=requireDefineDataProperty(),hs=function($a){return typeof $a=="function"&&cs.call($a)==="[object Function]"},uo=requireHasPropertyDescriptors()(),xa=function($a,wl,Sl,Cl){if(wl in $a){if(Cl===!0){if($a[wl]===Sl)return}else if(!hs(Cl)||!Cl())return}uo?co($a,wl,Sl,!0):co($a,wl,Sl)},ba=function($a,wl){var Sl=arguments.length>2?arguments[2]:{},Cl=us(wl);is&&(Cl=lo.call(Cl,Object.getOwnPropertySymbols(wl)));for(var _l=0;_l<Cl.length;_l+=1)xa($a,Cl[_l],wl[Cl[_l]],Sl[Cl[_l]])};return ba.supportsDescriptors=!!uo,defineProperties_1=ba,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var us=requirePolyfill$1(),is=requireDefineProperties();return shim$1=function(){var lo=us();return is(Object,{is:lo},{is:function(){return Object.is!==lo}}),lo},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var us=requireDefineProperties(),is=requireCallBind(),cs=requireImplementation$1(),lo=requirePolyfill$1(),co=requireShim$1(),hs=is(lo(),Object);return us(hs,{getPolyfill:lo,implementation:cs,shim:co}),objectIs=hs,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(is){return is!==is}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var us=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:us},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var us=requireDefineProperties(),is=requirePolyfill();return shim=function(){var lo=is();return us(Number,{isNaN:lo},{isNaN:function(){return Number.isNaN!==lo}}),lo},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var us=requireCallBind(),is=requireDefineProperties(),cs=requireImplementation(),lo=requirePolyfill(),co=requireShim(),hs=us(lo(),Number);return is(hs,{getPolyfill:lo,implementation:cs,shim:co}),isNan=hs,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function us(Eu,Lu){return hs(Eu)||co(Eu,Lu)||cs(Eu,Lu)||is()}function is(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cs(Eu,Lu){if(Eu){if(typeof Eu=="string")return lo(Eu,Lu);var up=Object.prototype.toString.call(Eu).slice(8,-1);if(up==="Object"&&Eu.constructor&&(up=Eu.constructor.name),up==="Map"||up==="Set")return Array.from(Eu);if(up==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(up))return lo(Eu,Lu)}}function lo(Eu,Lu){(Lu==null||Lu>Eu.length)&&(Lu=Eu.length);for(var up=0,mp=new Array(Lu);up<Lu;up++)mp[up]=Eu[up];return mp}function co(Eu,Lu){var up=Eu==null?null:typeof Symbol<"u"&&Eu[Symbol.iterator]||Eu["@@iterator"];if(up!=null){var mp,Rp,kp,hu,Zl=[],eu=!0,Nu=!1;try{if(kp=(up=up.call(Eu)).next,Lu!==0)for(;!(eu=(mp=kp.call(up)).done)&&(Zl.push(mp.value),Zl.length!==Lu);eu=!0);}catch(Zu){Nu=!0,Rp=Zu}finally{try{if(!eu&&up.return!=null&&(hu=up.return(),Object(hu)!==hu))return}finally{if(Nu)throw Rp}}return Zl}}function hs(Eu){if(Array.isArray(Eu))return Eu}function uo(Eu){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lu){return typeof Lu}:function(Lu){return Lu&&typeof Symbol=="function"&&Lu.constructor===Symbol&&Lu!==Symbol.prototype?"symbol":typeof Lu},uo(Eu)}var xa=/a/g.flags!==void 0,ba=function(Lu){var up=[];return Lu.forEach(function(mp){return up.push(mp)}),up},$a=function(Lu){var up=[];return Lu.forEach(function(mp,Rp){return up.push([Rp,mp])}),up},wl=Object.is?Object.is:requireObjectIs(),Sl=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Cl=Number.isNaN?Number.isNaN:requireIsNan();function _l(Eu){return Eu.call.bind(Eu)}var Il=_l(Object.prototype.hasOwnProperty),Fl=_l(Object.prototype.propertyIsEnumerable),Ml=_l(Object.prototype.toString),Tl=requireUtil().types,Dl=Tl.isAnyArrayBuffer,Bl=Tl.isArrayBufferView,Ll=Tl.isDate,Nl=Tl.isMap,zl=Tl.isRegExp,$l=Tl.isSet,Vl=Tl.isNativeError,Gl=Tl.isBoxedPrimitive,iu=Tl.isNumberObject,nu=Tl.isStringObject,Jl=Tl.isBooleanObject,lu=Tl.isBigIntObject,ju=Tl.isSymbolObject,zu=Tl.isFloat32Array,Wu=Tl.isFloat64Array;function qu(Eu){if(Eu.length===0||Eu.length>10)return!0;for(var Lu=0;Lu<Eu.length;Lu++){var up=Eu.charCodeAt(Lu);if(up<48||up>57)return!0}return Eu.length===10&&Eu>=Math.pow(2,32)}function Mu(Eu){return Object.keys(Eu).filter(qu).concat(Sl(Eu).filter(Object.prototype.propertyIsEnumerable.bind(Eu)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function mu(Eu,Lu){if(Eu===Lu)return 0;for(var up=Eu.length,mp=Lu.length,Rp=0,kp=Math.min(up,mp);Rp<kp;++Rp)if(Eu[Rp]!==Lu[Rp]){up=Eu[Rp],mp=Lu[Rp];break}return up<mp?-1:mp<up?1:0}var uu=!0,cu=!1,ru=0,Yl=1,Hl=2,Kl=3;function _c(Eu,Lu){return xa?Eu.source===Lu.source&&Eu.flags===Lu.flags:RegExp.prototype.toString.call(Eu)===RegExp.prototype.toString.call(Lu)}function Ql(Eu,Lu){if(Eu.byteLength!==Lu.byteLength)return!1;for(var up=0;up<Eu.byteLength;up++)if(Eu[up]!==Lu[up])return!1;return!0}function su(Eu,Lu){return Eu.byteLength!==Lu.byteLength?!1:mu(new Uint8Array(Eu.buffer,Eu.byteOffset,Eu.byteLength),new Uint8Array(Lu.buffer,Lu.byteOffset,Lu.byteLength))===0}function gu(Eu,Lu){return Eu.byteLength===Lu.byteLength&&mu(new Uint8Array(Eu),new Uint8Array(Lu))===0}function Cu(Eu,Lu){return iu(Eu)?iu(Lu)&&wl(Number.prototype.valueOf.call(Eu),Number.prototype.valueOf.call(Lu)):nu(Eu)?nu(Lu)&&String.prototype.valueOf.call(Eu)===String.prototype.valueOf.call(Lu):Jl(Eu)?Jl(Lu)&&Boolean.prototype.valueOf.call(Eu)===Boolean.prototype.valueOf.call(Lu):lu(Eu)?lu(Lu)&&BigInt.prototype.valueOf.call(Eu)===BigInt.prototype.valueOf.call(Lu):ju(Lu)&&Symbol.prototype.valueOf.call(Eu)===Symbol.prototype.valueOf.call(Lu)}function vu(Eu,Lu,up,mp){if(Eu===Lu)return Eu!==0?!0:up?wl(Eu,Lu):!0;if(up){if(uo(Eu)!=="object")return typeof Eu=="number"&&Cl(Eu)&&Cl(Lu);if(uo(Lu)!=="object"||Eu===null||Lu===null||Object.getPrototypeOf(Eu)!==Object.getPrototypeOf(Lu))return!1}else{if(Eu===null||uo(Eu)!=="object")return Lu===null||uo(Lu)!=="object"?Eu==Lu:!1;if(Lu===null||uo(Lu)!=="object")return!1}var Rp=Ml(Eu),kp=Ml(Lu);if(Rp!==kp)return!1;if(Array.isArray(Eu)){if(Eu.length!==Lu.length)return!1;var hu=Mu(Eu),Zl=Mu(Lu);return hu.length!==Zl.length?!1:Fu(Eu,Lu,up,mp,Yl,hu)}if(Rp==="[object Object]"&&(!Nl(Eu)&&Nl(Lu)||!$l(Eu)&&$l(Lu)))return!1;if(Ll(Eu)){if(!Ll(Lu)||Date.prototype.getTime.call(Eu)!==Date.prototype.getTime.call(Lu))return!1}else if(zl(Eu)){if(!zl(Lu)||!_c(Eu,Lu))return!1}else if(Vl(Eu)||Eu instanceof Error){if(Eu.message!==Lu.message||Eu.name!==Lu.name)return!1}else if(Bl(Eu)){if(!up&&(zu(Eu)||Wu(Eu))){if(!Ql(Eu,Lu))return!1}else if(!su(Eu,Lu))return!1;var eu=Mu(Eu),Nu=Mu(Lu);return eu.length!==Nu.length?!1:Fu(Eu,Lu,up,mp,ru,eu)}else{if($l(Eu))return!$l(Lu)||Eu.size!==Lu.size?!1:Fu(Eu,Lu,up,mp,Hl);if(Nl(Eu))return!Nl(Lu)||Eu.size!==Lu.size?!1:Fu(Eu,Lu,up,mp,Kl);if(Dl(Eu)){if(!gu(Eu,Lu))return!1}else if(Gl(Eu)&&!Cu(Eu,Lu))return!1}return Fu(Eu,Lu,up,mp,ru)}function fu(Eu,Lu){return Lu.filter(function(up){return Fl(Eu,up)})}function Fu(Eu,Lu,up,mp,Rp,kp){if(arguments.length===5){kp=Object.keys(Eu);var hu=Object.keys(Lu);if(kp.length!==hu.length)return!1}for(var Zl=0;Zl<kp.length;Zl++)if(!Il(Lu,kp[Zl]))return!1;if(up&&arguments.length===5){var eu=Sl(Eu);if(eu.length!==0){var Nu=0;for(Zl=0;Zl<eu.length;Zl++){var Zu=eu[Zl];if(Fl(Eu,Zu)){if(!Fl(Lu,Zu))return!1;kp.push(Zu),Nu++}else if(Fl(Lu,Zu))return!1}var Vu=Sl(Lu);if(eu.length!==Vu.length&&fu(Lu,Vu).length!==Nu)return!1}else{var yu=Sl(Lu);if(yu.length!==0&&fu(Lu,yu).length!==0)return!1}}if(kp.length===0&&(Rp===ru||Rp===Yl&&Eu.length===0||Eu.size===0))return!0;if(mp===void 0)mp={val1:new Map,val2:new Map,position:0};else{var Hu=mp.val1.get(Eu);if(Hu!==void 0){var Sp=mp.val2.get(Lu);if(Sp!==void 0)return Hu===Sp}mp.position++}mp.val1.set(Eu,mp.position),mp.val2.set(Lu,mp.position);var Np=ip(Eu,Lu,up,kp,mp,Rp);return mp.val1.delete(Eu),mp.val2.delete(Lu),Np}function _f(Eu,Lu,up,mp){for(var Rp=ba(Eu),kp=0;kp<Rp.length;kp++){var hu=Rp[kp];if(vu(Lu,hu,up,mp))return Eu.delete(hu),!0}return!1}function Xu(Eu){switch(uo(Eu)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Eu=+Eu;case"number":if(Cl(Eu))return!1}return!0}function Gu(Eu,Lu,up){var mp=Xu(up);return mp??(Lu.has(mp)&&!Eu.has(mp))}function Uu(Eu,Lu,up,mp,Rp){var kp=Xu(up);if(kp!=null)return kp;var hu=Lu.get(kp);return hu===void 0&&!Lu.has(kp)||!vu(mp,hu,!1,Rp)?!1:!Eu.has(kp)&&vu(mp,hu,!1,Rp)}function Au(Eu,Lu,up,mp){for(var Rp=null,kp=ba(Eu),hu=0;hu<kp.length;hu++){var Zl=kp[hu];if(uo(Zl)==="object"&&Zl!==null)Rp===null&&(Rp=new Set),Rp.add(Zl);else if(!Lu.has(Zl)){if(up||!Gu(Eu,Lu,Zl))return!1;Rp===null&&(Rp=new Set),Rp.add(Zl)}}if(Rp!==null){for(var eu=ba(Lu),Nu=0;Nu<eu.length;Nu++){var Zu=eu[Nu];if(uo(Zu)==="object"&&Zu!==null){if(!_f(Rp,Zu,up,mp))return!1}else if(!up&&!Eu.has(Zu)&&!_f(Rp,Zu,up,mp))return!1}return Rp.size===0}return!0}function Pu(Eu,Lu,up,mp,Rp,kp){for(var hu=ba(Eu),Zl=0;Zl<hu.length;Zl++){var eu=hu[Zl];if(vu(up,eu,Rp,kp)&&vu(mp,Lu.get(eu),Rp,kp))return Eu.delete(eu),!0}return!1}function Ou(Eu,Lu,up,mp){for(var Rp=null,kp=$a(Eu),hu=0;hu<kp.length;hu++){var Zl=us(kp[hu],2),eu=Zl[0],Nu=Zl[1];if(uo(eu)==="object"&&eu!==null)Rp===null&&(Rp=new Set),Rp.add(eu);else{var Zu=Lu.get(eu);if(Zu===void 0&&!Lu.has(eu)||!vu(Nu,Zu,up,mp)){if(up||!Uu(Eu,Lu,eu,Nu,mp))return!1;Rp===null&&(Rp=new Set),Rp.add(eu)}}}if(Rp!==null){for(var Vu=$a(Lu),yu=0;yu<Vu.length;yu++){var Hu=us(Vu[yu],2),Sp=Hu[0],Np=Hu[1];if(uo(Sp)==="object"&&Sp!==null){if(!Pu(Rp,Eu,Sp,Np,up,mp))return!1}else if(!up&&(!Eu.has(Sp)||!vu(Eu.get(Sp),Np,!1,mp))&&!Pu(Rp,Eu,Sp,Np,!1,mp))return!1}return Rp.size===0}return!0}function ip(Eu,Lu,up,mp,Rp,kp){var hu=0;if(kp===Hl){if(!Au(Eu,Lu,up,Rp))return!1}else if(kp===Kl){if(!Ou(Eu,Lu,up,Rp))return!1}else if(kp===Yl)for(;hu<Eu.length;hu++)if(Il(Eu,hu)){if(!Il(Lu,hu)||!vu(Eu[hu],Lu[hu],up,Rp))return!1}else{if(Il(Lu,hu))return!1;for(var Zl=Object.keys(Eu);hu<Zl.length;hu++){var eu=Zl[hu];if(!Il(Lu,eu)||!vu(Eu[eu],Lu[eu],up,Rp))return!1}return Zl.length===Object.keys(Lu).length}for(hu=0;hu<mp.length;hu++){var Nu=mp[hu];if(!vu(Eu[Nu],Lu[Nu],up,Rp))return!1}return!0}function $u(Eu,Lu){return vu(Eu,Lu,cu)}function np(Eu,Lu){return vu(Eu,Lu,uu)}return comparisons={isDeepEqual:$u,isDeepStrictEqual:np},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert.exports;hasRequiredAssert=1;function us(Hl){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kl){return typeof Kl}:function(Kl){return Kl&&typeof Symbol=="function"&&Kl.constructor===Symbol&&Kl!==Symbol.prototype?"symbol":typeof Kl},us(Hl)}function is(Hl,Kl,_c){return Object.defineProperty(Hl,"prototype",{writable:!1}),Hl}function cs(Hl,Kl){if(!(Hl instanceof Kl))throw new TypeError("Cannot call a class as a function")}var lo=requireErrors(),co=lo.codes,hs=co.ERR_AMBIGUOUS_ARGUMENT,uo=co.ERR_INVALID_ARG_TYPE,xa=co.ERR_INVALID_ARG_VALUE,ba=co.ERR_INVALID_RETURN_VALUE,$a=co.ERR_MISSING_ARGS,wl=requireAssertion_error(),Sl=requireUtil(),Cl=Sl.inspect,_l=requireUtil().types,Il=_l.isPromise,Fl=_l.isRegExp,Ml=requirePolyfill$2()(),Tl=requirePolyfill$1()(),Dl=requireCallBound()("RegExp.prototype.test"),Bl,Ll;function Nl(){var Hl=requireComparisons();Bl=Hl.isDeepEqual,Ll=Hl.isDeepStrictEqual}var zl=!1,$l=assert.exports=Jl,Vl={};function Gl(Hl){throw Hl.message instanceof Error?Hl.message:new wl(Hl)}function iu(Hl,Kl,_c,Ql,su){var gu=arguments.length,Cu;if(gu===0)Cu="Failed";else if(gu===1)_c=Hl,Hl=void 0;else{if(zl===!1){zl=!0;var vu=process$1.emitWarning?process$1.emitWarning:console.warn.bind(console);vu("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}gu===2&&(Ql="!=")}if(_c instanceof Error)throw _c;var fu={actual:Hl,expected:Kl,operator:Ql===void 0?"fail":Ql,stackStartFn:su||iu};_c!==void 0&&(fu.message=_c);var Fu=new wl(fu);throw Cu&&(Fu.message=Cu,Fu.generatedMessage=!0),Fu}$l.fail=iu,$l.AssertionError=wl;function nu(Hl,Kl,_c,Ql){if(!_c){var su=!1;if(Kl===0)su=!0,Ql="No value argument passed to `assert.ok()`";else if(Ql instanceof Error)throw Ql;var gu=new wl({actual:_c,expected:!0,message:Ql,operator:"==",stackStartFn:Hl});throw gu.generatedMessage=su,gu}}function Jl(){for(var Hl=arguments.length,Kl=new Array(Hl),_c=0;_c<Hl;_c++)Kl[_c]=arguments[_c];nu.apply(void 0,[Jl,Kl.length].concat(Kl))}$l.ok=Jl,$l.equal=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Kl!=_c&&Gl({actual:Kl,expected:_c,message:Ql,operator:"==",stackStartFn:Hl})},$l.notEqual=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Kl==_c&&Gl({actual:Kl,expected:_c,message:Ql,operator:"!=",stackStartFn:Hl})},$l.deepEqual=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Bl===void 0&&Nl(),Bl(Kl,_c)||Gl({actual:Kl,expected:_c,message:Ql,operator:"deepEqual",stackStartFn:Hl})},$l.notDeepEqual=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Bl===void 0&&Nl(),Bl(Kl,_c)&&Gl({actual:Kl,expected:_c,message:Ql,operator:"notDeepEqual",stackStartFn:Hl})},$l.deepStrictEqual=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Bl===void 0&&Nl(),Ll(Kl,_c)||Gl({actual:Kl,expected:_c,message:Ql,operator:"deepStrictEqual",stackStartFn:Hl})},$l.notDeepStrictEqual=lu;function lu(Hl,Kl,_c){if(arguments.length<2)throw new $a("actual","expected");Bl===void 0&&Nl(),Ll(Hl,Kl)&&Gl({actual:Hl,expected:Kl,message:_c,operator:"notDeepStrictEqual",stackStartFn:lu})}$l.strictEqual=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Tl(Kl,_c)||Gl({actual:Kl,expected:_c,message:Ql,operator:"strictEqual",stackStartFn:Hl})},$l.notStrictEqual=function Hl(Kl,_c,Ql){if(arguments.length<2)throw new $a("actual","expected");Tl(Kl,_c)&&Gl({actual:Kl,expected:_c,message:Ql,operator:"notStrictEqual",stackStartFn:Hl})};var ju=is(function Hl(Kl,_c,Ql){var su=this;cs(this,Hl),_c.forEach(function(gu){gu in Kl&&(Ql!==void 0&&typeof Ql[gu]=="string"&&Fl(Kl[gu])&&Dl(Kl[gu],Ql[gu])?su[gu]=Ql[gu]:su[gu]=Kl[gu])})});function zu(Hl,Kl,_c,Ql,su,gu){if(!(_c in Hl)||!Ll(Hl[_c],Kl[_c])){if(!Ql){var Cu=new ju(Hl,su),vu=new ju(Kl,su,Hl),fu=new wl({actual:Cu,expected:vu,operator:"deepStrictEqual",stackStartFn:gu});throw fu.actual=Hl,fu.expected=Kl,fu.operator=gu.name,fu}Gl({actual:Hl,expected:Kl,message:Ql,operator:gu.name,stackStartFn:gu})}}function Wu(Hl,Kl,_c,Ql){if(typeof Kl!="function"){if(Fl(Kl))return Dl(Kl,Hl);if(arguments.length===2)throw new uo("expected",["Function","RegExp"],Kl);if(us(Hl)!=="object"||Hl===null){var su=new wl({actual:Hl,expected:Kl,message:_c,operator:"deepStrictEqual",stackStartFn:Ql});throw su.operator=Ql.name,su}var gu=Object.keys(Kl);if(Kl instanceof Error)gu.push("name","message");else if(gu.length===0)throw new xa("error",Kl,"may not be an empty object");return Bl===void 0&&Nl(),gu.forEach(function(Cu){typeof Hl[Cu]=="string"&&Fl(Kl[Cu])&&Dl(Kl[Cu],Hl[Cu])||zu(Hl,Kl,Cu,_c,gu,Ql)}),!0}return Kl.prototype!==void 0&&Hl instanceof Kl?!0:Error.isPrototypeOf(Kl)?!1:Kl.call({},Hl)===!0}function qu(Hl){if(typeof Hl!="function")throw new uo("fn","Function",Hl);try{Hl()}catch(Kl){return Kl}return Vl}function Mu(Hl){return Il(Hl)||Hl!==null&&us(Hl)==="object"&&typeof Hl.then=="function"&&typeof Hl.catch=="function"}function mu(Hl){return Promise.resolve().then(function(){var Kl;if(typeof Hl=="function"){if(Kl=Hl(),!Mu(Kl))throw new ba("instance of Promise","promiseFn",Kl)}else if(Mu(Hl))Kl=Hl;else throw new uo("promiseFn",["Function","Promise"],Hl);return Promise.resolve().then(function(){return Kl}).then(function(){return Vl}).catch(function(_c){return _c})})}function uu(Hl,Kl,_c,Ql){if(typeof _c=="string"){if(arguments.length===4)throw new uo("error",["Object","Error","Function","RegExp"],_c);if(us(Kl)==="object"&&Kl!==null){if(Kl.message===_c)throw new hs("error/message",'The error message "'.concat(Kl.message,'" is identical to the message.'))}else if(Kl===_c)throw new hs("error/message",'The error "'.concat(Kl,'" is identical to the message.'));Ql=_c,_c=void 0}else if(_c!=null&&us(_c)!=="object"&&typeof _c!="function")throw new uo("error",["Object","Error","Function","RegExp"],_c);if(Kl===Vl){var su="";_c&&_c.name&&(su+=" (".concat(_c.name,")")),su+=Ql?": ".concat(Ql):".";var gu=Hl.name==="rejects"?"rejection":"exception";Gl({actual:void 0,expected:_c,operator:Hl.name,message:"Missing expected ".concat(gu).concat(su),stackStartFn:Hl})}if(_c&&!Wu(Kl,_c,Ql,Hl))throw Kl}function cu(Hl,Kl,_c,Ql){if(Kl!==Vl){if(typeof _c=="string"&&(Ql=_c,_c=void 0),!_c||Wu(Kl,_c)){var su=Ql?": ".concat(Ql):".",gu=Hl.name==="doesNotReject"?"rejection":"exception";Gl({actual:Kl,expected:_c,operator:Hl.name,message:"Got unwanted ".concat(gu).concat(su,`
`)+'Actual message: "'.concat(Kl&&Kl.message,'"'),stackStartFn:Hl})}throw Kl}}$l.throws=function Hl(Kl){for(var _c=arguments.length,Ql=new Array(_c>1?_c-1:0),su=1;su<_c;su++)Ql[su-1]=arguments[su];uu.apply(void 0,[Hl,qu(Kl)].concat(Ql))},$l.rejects=function Hl(Kl){for(var _c=arguments.length,Ql=new Array(_c>1?_c-1:0),su=1;su<_c;su++)Ql[su-1]=arguments[su];return mu(Kl).then(function(gu){return uu.apply(void 0,[Hl,gu].concat(Ql))})},$l.doesNotThrow=function Hl(Kl){for(var _c=arguments.length,Ql=new Array(_c>1?_c-1:0),su=1;su<_c;su++)Ql[su-1]=arguments[su];cu.apply(void 0,[Hl,qu(Kl)].concat(Ql))},$l.doesNotReject=function Hl(Kl){for(var _c=arguments.length,Ql=new Array(_c>1?_c-1:0),su=1;su<_c;su++)Ql[su-1]=arguments[su];return mu(Kl).then(function(gu){return cu.apply(void 0,[Hl,gu].concat(Ql))})},$l.ifError=function Hl(Kl){if(Kl!=null){var _c="ifError got unwanted exception: ";us(Kl)==="object"&&typeof Kl.message=="string"?Kl.message.length===0&&Kl.constructor?_c+=Kl.constructor.name:_c+=Kl.message:_c+=Cl(Kl);var Ql=new wl({actual:Kl,expected:null,operator:"ifError",message:_c,stackStartFn:Hl}),su=Kl.stack;if(typeof su=="string"){var gu=su.split(`
`);gu.shift();for(var Cu=Ql.stack.split(`
`),vu=0;vu<gu.length;vu++){var fu=Cu.indexOf(gu[vu]);if(fu!==-1){Cu=Cu.slice(0,fu);break}}Ql.stack="".concat(Cu.join(`
`),`
`).concat(gu.join(`
`))}throw Ql}};function ru(Hl,Kl,_c,Ql,su){if(!Fl(Kl))throw new uo("regexp","RegExp",Kl);var gu=su==="match";if(typeof Hl!="string"||Dl(Kl,Hl)!==gu){if(_c instanceof Error)throw _c;var Cu=!_c;_c=_c||(typeof Hl!="string"?'The "string" argument must be of type string. Received type '+"".concat(us(Hl)," (").concat(Cl(Hl),")"):(gu?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(Cl(Kl),`. Input:

`).concat(Cl(Hl),`
`));var vu=new wl({actual:Hl,expected:Kl,message:_c,operator:su,stackStartFn:Ql});throw vu.generatedMessage=Cu,vu}}$l.match=function Hl(Kl,_c,Ql){ru(Kl,_c,Ql,Hl,"match")},$l.doesNotMatch=function Hl(Kl,_c,Ql){ru(Kl,_c,Ql,Hl,"doesNotMatch")};function Yl(){for(var Hl=arguments.length,Kl=new Array(Hl),_c=0;_c<Hl;_c++)Kl[_c]=arguments[_c];nu.apply(void 0,[Yl,Kl.length].concat(Kl))}return $l.strict=Ml(Yl,$l,{equal:$l.strictEqual,deepEqual:$l.deepStrictEqual,notEqual:$l.notStrictEqual,notDeepEqual:$l.notDeepStrictEqual}),$l.strict.strict=$l.strict,assert.exports}function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,deflate$4={},common={};(function(us){var is=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function cs(hs,uo){return Object.prototype.hasOwnProperty.call(hs,uo)}us.assign=function(hs){for(var uo=Array.prototype.slice.call(arguments,1);uo.length;){var xa=uo.shift();if(xa){if(typeof xa!="object")throw new TypeError(xa+"must be non-object");for(var ba in xa)cs(xa,ba)&&(hs[ba]=xa[ba])}}return hs},us.shrinkBuf=function(hs,uo){return hs.length===uo?hs:hs.subarray?hs.subarray(0,uo):(hs.length=uo,hs)};var lo={arraySet:function(hs,uo,xa,ba,$a){if(uo.subarray&&hs.subarray){hs.set(uo.subarray(xa,xa+ba),$a);return}for(var wl=0;wl<ba;wl++)hs[$a+wl]=uo[xa+wl]},flattenChunks:function(hs){var uo,xa,ba,$a,wl,Sl;for(ba=0,uo=0,xa=hs.length;uo<xa;uo++)ba+=hs[uo].length;for(Sl=new Uint8Array(ba),$a=0,uo=0,xa=hs.length;uo<xa;uo++)wl=hs[uo],Sl.set(wl,$a),$a+=wl.length;return Sl}},co={arraySet:function(hs,uo,xa,ba,$a){for(var wl=0;wl<ba;wl++)hs[$a+wl]=uo[xa+wl]},flattenChunks:function(hs){return[].concat.apply([],hs)}};us.setTyped=function(hs){hs?(us.Buf8=Uint8Array,us.Buf16=Uint16Array,us.Buf32=Int32Array,us.assign(us,lo)):(us.Buf8=Array,us.Buf16=Array,us.Buf32=Array,us.assign(us,co))},us.setTyped(is)})(common);var trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(us){for(var is=us.length;--is>=0;)us[is]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(us,is,cs,lo,co){this.static_tree=us,this.extra_bits=is,this.extra_base=cs,this.elems=lo,this.max_length=co,this.has_stree=us&&us.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(us,is){this.dyn_tree=us,this.max_code=0,this.stat_desc=is}function d_code(us){return us<256?_dist_code[us]:_dist_code[256+(us>>>7)]}function put_short(us,is){us.pending_buf[us.pending++]=is&255,us.pending_buf[us.pending++]=is>>>8&255}function send_bits(us,is,cs){us.bi_valid>Buf_size-cs?(us.bi_buf|=is<<us.bi_valid&65535,put_short(us,us.bi_buf),us.bi_buf=is>>Buf_size-us.bi_valid,us.bi_valid+=cs-Buf_size):(us.bi_buf|=is<<us.bi_valid&65535,us.bi_valid+=cs)}function send_code(us,is,cs){send_bits(us,cs[is*2],cs[is*2+1])}function bi_reverse(us,is){var cs=0;do cs|=us&1,us>>>=1,cs<<=1;while(--is>0);return cs>>>1}function bi_flush(us){us.bi_valid===16?(put_short(us,us.bi_buf),us.bi_buf=0,us.bi_valid=0):us.bi_valid>=8&&(us.pending_buf[us.pending++]=us.bi_buf&255,us.bi_buf>>=8,us.bi_valid-=8)}function gen_bitlen(us,is){var cs=is.dyn_tree,lo=is.max_code,co=is.stat_desc.static_tree,hs=is.stat_desc.has_stree,uo=is.stat_desc.extra_bits,xa=is.stat_desc.extra_base,ba=is.stat_desc.max_length,$a,wl,Sl,Cl,_l,Il,Fl=0;for(Cl=0;Cl<=MAX_BITS$1;Cl++)us.bl_count[Cl]=0;for(cs[us.heap[us.heap_max]*2+1]=0,$a=us.heap_max+1;$a<HEAP_SIZE$1;$a++)wl=us.heap[$a],Cl=cs[cs[wl*2+1]*2+1]+1,Cl>ba&&(Cl=ba,Fl++),cs[wl*2+1]=Cl,!(wl>lo)&&(us.bl_count[Cl]++,_l=0,wl>=xa&&(_l=uo[wl-xa]),Il=cs[wl*2],us.opt_len+=Il*(Cl+_l),hs&&(us.static_len+=Il*(co[wl*2+1]+_l)));if(Fl!==0){do{for(Cl=ba-1;us.bl_count[Cl]===0;)Cl--;us.bl_count[Cl]--,us.bl_count[Cl+1]+=2,us.bl_count[ba]--,Fl-=2}while(Fl>0);for(Cl=ba;Cl!==0;Cl--)for(wl=us.bl_count[Cl];wl!==0;)Sl=us.heap[--$a],!(Sl>lo)&&(cs[Sl*2+1]!==Cl&&(us.opt_len+=(Cl-cs[Sl*2+1])*cs[Sl*2],cs[Sl*2+1]=Cl),wl--)}}function gen_codes(us,is,cs){var lo=new Array(MAX_BITS$1+1),co=0,hs,uo;for(hs=1;hs<=MAX_BITS$1;hs++)lo[hs]=co=co+cs[hs-1]<<1;for(uo=0;uo<=is;uo++){var xa=us[uo*2+1];xa!==0&&(us[uo*2]=bi_reverse(lo[xa]++,xa))}}function tr_static_init(){var us,is,cs,lo,co,hs=new Array(MAX_BITS$1+1);for(cs=0,lo=0;lo<LENGTH_CODES$1-1;lo++)for(base_length[lo]=cs,us=0;us<1<<extra_lbits[lo];us++)_length_code[cs++]=lo;for(_length_code[cs-1]=lo,co=0,lo=0;lo<16;lo++)for(base_dist[lo]=co,us=0;us<1<<extra_dbits[lo];us++)_dist_code[co++]=lo;for(co>>=7;lo<D_CODES$1;lo++)for(base_dist[lo]=co<<7,us=0;us<1<<extra_dbits[lo]-7;us++)_dist_code[256+co++]=lo;for(is=0;is<=MAX_BITS$1;is++)hs[is]=0;for(us=0;us<=143;)static_ltree[us*2+1]=8,us++,hs[8]++;for(;us<=255;)static_ltree[us*2+1]=9,us++,hs[9]++;for(;us<=279;)static_ltree[us*2+1]=7,us++,hs[7]++;for(;us<=287;)static_ltree[us*2+1]=8,us++,hs[8]++;for(gen_codes(static_ltree,L_CODES$1+1,hs),us=0;us<D_CODES$1;us++)static_dtree[us*2+1]=5,static_dtree[us*2]=bi_reverse(us,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(us){var is;for(is=0;is<L_CODES$1;is++)us.dyn_ltree[is*2]=0;for(is=0;is<D_CODES$1;is++)us.dyn_dtree[is*2]=0;for(is=0;is<BL_CODES$1;is++)us.bl_tree[is*2]=0;us.dyn_ltree[END_BLOCK*2]=1,us.opt_len=us.static_len=0,us.last_lit=us.matches=0}function bi_windup(us){us.bi_valid>8?put_short(us,us.bi_buf):us.bi_valid>0&&(us.pending_buf[us.pending++]=us.bi_buf),us.bi_buf=0,us.bi_valid=0}function copy_block(us,is,cs,lo){bi_windup(us),put_short(us,cs),put_short(us,~cs),utils$6.arraySet(us.pending_buf,us.window,is,cs,us.pending),us.pending+=cs}function smaller(us,is,cs,lo){var co=is*2,hs=cs*2;return us[co]<us[hs]||us[co]===us[hs]&&lo[is]<=lo[cs]}function pqdownheap(us,is,cs){for(var lo=us.heap[cs],co=cs<<1;co<=us.heap_len&&(co<us.heap_len&&smaller(is,us.heap[co+1],us.heap[co],us.depth)&&co++,!smaller(is,lo,us.heap[co],us.depth));)us.heap[cs]=us.heap[co],cs=co,co<<=1;us.heap[cs]=lo}function compress_block(us,is,cs){var lo,co,hs=0,uo,xa;if(us.last_lit!==0)do lo=us.pending_buf[us.d_buf+hs*2]<<8|us.pending_buf[us.d_buf+hs*2+1],co=us.pending_buf[us.l_buf+hs],hs++,lo===0?send_code(us,co,is):(uo=_length_code[co],send_code(us,uo+LITERALS$1+1,is),xa=extra_lbits[uo],xa!==0&&(co-=base_length[uo],send_bits(us,co,xa)),lo--,uo=d_code(lo),send_code(us,uo,cs),xa=extra_dbits[uo],xa!==0&&(lo-=base_dist[uo],send_bits(us,lo,xa)));while(hs<us.last_lit);send_code(us,END_BLOCK,is)}function build_tree(us,is){var cs=is.dyn_tree,lo=is.stat_desc.static_tree,co=is.stat_desc.has_stree,hs=is.stat_desc.elems,uo,xa,ba=-1,$a;for(us.heap_len=0,us.heap_max=HEAP_SIZE$1,uo=0;uo<hs;uo++)cs[uo*2]!==0?(us.heap[++us.heap_len]=ba=uo,us.depth[uo]=0):cs[uo*2+1]=0;for(;us.heap_len<2;)$a=us.heap[++us.heap_len]=ba<2?++ba:0,cs[$a*2]=1,us.depth[$a]=0,us.opt_len--,co&&(us.static_len-=lo[$a*2+1]);for(is.max_code=ba,uo=us.heap_len>>1;uo>=1;uo--)pqdownheap(us,cs,uo);$a=hs;do uo=us.heap[1],us.heap[1]=us.heap[us.heap_len--],pqdownheap(us,cs,1),xa=us.heap[1],us.heap[--us.heap_max]=uo,us.heap[--us.heap_max]=xa,cs[$a*2]=cs[uo*2]+cs[xa*2],us.depth[$a]=(us.depth[uo]>=us.depth[xa]?us.depth[uo]:us.depth[xa])+1,cs[uo*2+1]=cs[xa*2+1]=$a,us.heap[1]=$a++,pqdownheap(us,cs,1);while(us.heap_len>=2);us.heap[--us.heap_max]=us.heap[1],gen_bitlen(us,is),gen_codes(cs,ba,us.bl_count)}function scan_tree(us,is,cs){var lo,co=-1,hs,uo=is[0*2+1],xa=0,ba=7,$a=4;for(uo===0&&(ba=138,$a=3),is[(cs+1)*2+1]=65535,lo=0;lo<=cs;lo++)hs=uo,uo=is[(lo+1)*2+1],!(++xa<ba&&hs===uo)&&(xa<$a?us.bl_tree[hs*2]+=xa:hs!==0?(hs!==co&&us.bl_tree[hs*2]++,us.bl_tree[REP_3_6*2]++):xa<=10?us.bl_tree[REPZ_3_10*2]++:us.bl_tree[REPZ_11_138*2]++,xa=0,co=hs,uo===0?(ba=138,$a=3):hs===uo?(ba=6,$a=3):(ba=7,$a=4))}function send_tree(us,is,cs){var lo,co=-1,hs,uo=is[0*2+1],xa=0,ba=7,$a=4;for(uo===0&&(ba=138,$a=3),lo=0;lo<=cs;lo++)if(hs=uo,uo=is[(lo+1)*2+1],!(++xa<ba&&hs===uo)){if(xa<$a)do send_code(us,hs,us.bl_tree);while(--xa!==0);else hs!==0?(hs!==co&&(send_code(us,hs,us.bl_tree),xa--),send_code(us,REP_3_6,us.bl_tree),send_bits(us,xa-3,2)):xa<=10?(send_code(us,REPZ_3_10,us.bl_tree),send_bits(us,xa-3,3)):(send_code(us,REPZ_11_138,us.bl_tree),send_bits(us,xa-11,7));xa=0,co=hs,uo===0?(ba=138,$a=3):hs===uo?(ba=6,$a=3):(ba=7,$a=4)}}function build_bl_tree(us){var is;for(scan_tree(us,us.dyn_ltree,us.l_desc.max_code),scan_tree(us,us.dyn_dtree,us.d_desc.max_code),build_tree(us,us.bl_desc),is=BL_CODES$1-1;is>=3&&us.bl_tree[bl_order[is]*2+1]===0;is--);return us.opt_len+=3*(is+1)+5+5+4,is}function send_all_trees(us,is,cs,lo){var co;for(send_bits(us,is-257,5),send_bits(us,cs-1,5),send_bits(us,lo-4,4),co=0;co<lo;co++)send_bits(us,us.bl_tree[bl_order[co]*2+1],3);send_tree(us,us.dyn_ltree,is-1),send_tree(us,us.dyn_dtree,cs-1)}function detect_data_type(us){var is=4093624447,cs;for(cs=0;cs<=31;cs++,is>>>=1)if(is&1&&us.dyn_ltree[cs*2]!==0)return Z_BINARY;if(us.dyn_ltree[9*2]!==0||us.dyn_ltree[10*2]!==0||us.dyn_ltree[13*2]!==0)return Z_TEXT;for(cs=32;cs<LITERALS$1;cs++)if(us.dyn_ltree[cs*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(us){static_init_done||(tr_static_init(),static_init_done=!0),us.l_desc=new TreeDesc(us.dyn_ltree,static_l_desc),us.d_desc=new TreeDesc(us.dyn_dtree,static_d_desc),us.bl_desc=new TreeDesc(us.bl_tree,static_bl_desc),us.bi_buf=0,us.bi_valid=0,init_block(us)}function _tr_stored_block(us,is,cs,lo){send_bits(us,(STORED_BLOCK<<1)+(lo?1:0),3),copy_block(us,is,cs)}function _tr_align(us){send_bits(us,STATIC_TREES<<1,3),send_code(us,END_BLOCK,static_ltree),bi_flush(us)}function _tr_flush_block(us,is,cs,lo){var co,hs,uo=0;us.level>0?(us.strm.data_type===Z_UNKNOWN$1&&(us.strm.data_type=detect_data_type(us)),build_tree(us,us.l_desc),build_tree(us,us.d_desc),uo=build_bl_tree(us),co=us.opt_len+3+7>>>3,hs=us.static_len+3+7>>>3,hs<=co&&(co=hs)):co=hs=cs+5,cs+4<=co&&is!==-1?_tr_stored_block(us,is,cs,lo):us.strategy===Z_FIXED$1||hs===co?(send_bits(us,(STATIC_TREES<<1)+(lo?1:0),3),compress_block(us,static_ltree,static_dtree)):(send_bits(us,(DYN_TREES<<1)+(lo?1:0),3),send_all_trees(us,us.l_desc.max_code+1,us.d_desc.max_code+1,uo+1),compress_block(us,us.dyn_ltree,us.dyn_dtree)),init_block(us),lo&&bi_windup(us)}function _tr_tally(us,is,cs){return us.pending_buf[us.d_buf+us.last_lit*2]=is>>>8&255,us.pending_buf[us.d_buf+us.last_lit*2+1]=is&255,us.pending_buf[us.l_buf+us.last_lit]=cs&255,us.last_lit++,is===0?us.dyn_ltree[cs*2]++:(us.matches++,is--,us.dyn_ltree[(_length_code[cs]+LITERALS$1+1)*2]++,us.dyn_dtree[d_code(is)*2]++),us.last_lit===us.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(us,is,cs,lo){for(var co=us&65535|0,hs=us>>>16&65535|0,uo=0;cs!==0;){uo=cs>2e3?2e3:cs,cs-=uo;do co=co+is[lo++]|0,hs=hs+co|0;while(--uo);co%=65521,hs%=65521}return co|hs<<16|0}var adler32_1=adler32$2;function makeTable(){for(var us,is=[],cs=0;cs<256;cs++){us=cs;for(var lo=0;lo<8;lo++)us=us&1?3988292384^us>>>1:us>>>1;is[cs]=us}return is}var crcTable=makeTable();function crc32$2(us,is,cs,lo){var co=crcTable,hs=lo+cs;us^=-1;for(var uo=lo;uo<hs;uo++)us=us>>>8^co[(us^is[uo])&255];return us^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(us,is){return us.msg=msg$2[is],is}function rank(us){return(us<<1)-(us>4?9:0)}function zero(us){for(var is=us.length;--is>=0;)us[is]=0}function flush_pending(us){var is=us.state,cs=is.pending;cs>us.avail_out&&(cs=us.avail_out),cs!==0&&(utils$5.arraySet(us.output,is.pending_buf,is.pending_out,cs,us.next_out),us.next_out+=cs,is.pending_out+=cs,us.total_out+=cs,us.avail_out-=cs,is.pending-=cs,is.pending===0&&(is.pending_out=0))}function flush_block_only(us,is){trees._tr_flush_block(us,us.block_start>=0?us.block_start:-1,us.strstart-us.block_start,is),us.block_start=us.strstart,flush_pending(us.strm)}function put_byte(us,is){us.pending_buf[us.pending++]=is}function putShortMSB(us,is){us.pending_buf[us.pending++]=is>>>8&255,us.pending_buf[us.pending++]=is&255}function read_buf(us,is,cs,lo){var co=us.avail_in;return co>lo&&(co=lo),co===0?0:(us.avail_in-=co,utils$5.arraySet(is,us.input,us.next_in,co,cs),us.state.wrap===1?us.adler=adler32$1(us.adler,is,co,cs):us.state.wrap===2&&(us.adler=crc32$1(us.adler,is,co,cs)),us.next_in+=co,us.total_in+=co,co)}function longest_match(us,is){var cs=us.max_chain_length,lo=us.strstart,co,hs,uo=us.prev_length,xa=us.nice_match,ba=us.strstart>us.w_size-MIN_LOOKAHEAD?us.strstart-(us.w_size-MIN_LOOKAHEAD):0,$a=us.window,wl=us.w_mask,Sl=us.prev,Cl=us.strstart+MAX_MATCH,_l=$a[lo+uo-1],Il=$a[lo+uo];us.prev_length>=us.good_match&&(cs>>=2),xa>us.lookahead&&(xa=us.lookahead);do if(co=is,!($a[co+uo]!==Il||$a[co+uo-1]!==_l||$a[co]!==$a[lo]||$a[++co]!==$a[lo+1])){lo+=2,co++;do;while($a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&$a[++lo]===$a[++co]&&lo<Cl);if(hs=MAX_MATCH-(Cl-lo),lo=Cl-MAX_MATCH,hs>uo){if(us.match_start=is,uo=hs,hs>=xa)break;_l=$a[lo+uo-1],Il=$a[lo+uo]}}while((is=Sl[is&wl])>ba&&--cs!==0);return uo<=us.lookahead?uo:us.lookahead}function fill_window(us){var is=us.w_size,cs,lo,co,hs,uo;do{if(hs=us.window_size-us.lookahead-us.strstart,us.strstart>=is+(is-MIN_LOOKAHEAD)){utils$5.arraySet(us.window,us.window,is,is,0),us.match_start-=is,us.strstart-=is,us.block_start-=is,lo=us.hash_size,cs=lo;do co=us.head[--cs],us.head[cs]=co>=is?co-is:0;while(--lo);lo=is,cs=lo;do co=us.prev[--cs],us.prev[cs]=co>=is?co-is:0;while(--lo);hs+=is}if(us.strm.avail_in===0)break;if(lo=read_buf(us.strm,us.window,us.strstart+us.lookahead,hs),us.lookahead+=lo,us.lookahead+us.insert>=MIN_MATCH)for(uo=us.strstart-us.insert,us.ins_h=us.window[uo],us.ins_h=(us.ins_h<<us.hash_shift^us.window[uo+1])&us.hash_mask;us.insert&&(us.ins_h=(us.ins_h<<us.hash_shift^us.window[uo+MIN_MATCH-1])&us.hash_mask,us.prev[uo&us.w_mask]=us.head[us.ins_h],us.head[us.ins_h]=uo,uo++,us.insert--,!(us.lookahead+us.insert<MIN_MATCH)););}while(us.lookahead<MIN_LOOKAHEAD&&us.strm.avail_in!==0)}function deflate_stored(us,is){var cs=65535;for(cs>us.pending_buf_size-5&&(cs=us.pending_buf_size-5);;){if(us.lookahead<=1){if(fill_window(us),us.lookahead===0&&is===Z_NO_FLUSH$1)return BS_NEED_MORE;if(us.lookahead===0)break}us.strstart+=us.lookahead,us.lookahead=0;var lo=us.block_start+cs;if((us.strstart===0||us.strstart>=lo)&&(us.lookahead=us.strstart-lo,us.strstart=lo,flush_block_only(us,!1),us.strm.avail_out===0)||us.strstart-us.block_start>=us.w_size-MIN_LOOKAHEAD&&(flush_block_only(us,!1),us.strm.avail_out===0))return BS_NEED_MORE}return us.insert=0,is===Z_FINISH$2?(flush_block_only(us,!0),us.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(us.strstart>us.block_start&&(flush_block_only(us,!1),us.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(us,is){for(var cs,lo;;){if(us.lookahead<MIN_LOOKAHEAD){if(fill_window(us),us.lookahead<MIN_LOOKAHEAD&&is===Z_NO_FLUSH$1)return BS_NEED_MORE;if(us.lookahead===0)break}if(cs=0,us.lookahead>=MIN_MATCH&&(us.ins_h=(us.ins_h<<us.hash_shift^us.window[us.strstart+MIN_MATCH-1])&us.hash_mask,cs=us.prev[us.strstart&us.w_mask]=us.head[us.ins_h],us.head[us.ins_h]=us.strstart),cs!==0&&us.strstart-cs<=us.w_size-MIN_LOOKAHEAD&&(us.match_length=longest_match(us,cs)),us.match_length>=MIN_MATCH)if(lo=trees._tr_tally(us,us.strstart-us.match_start,us.match_length-MIN_MATCH),us.lookahead-=us.match_length,us.match_length<=us.max_lazy_match&&us.lookahead>=MIN_MATCH){us.match_length--;do us.strstart++,us.ins_h=(us.ins_h<<us.hash_shift^us.window[us.strstart+MIN_MATCH-1])&us.hash_mask,cs=us.prev[us.strstart&us.w_mask]=us.head[us.ins_h],us.head[us.ins_h]=us.strstart;while(--us.match_length!==0);us.strstart++}else us.strstart+=us.match_length,us.match_length=0,us.ins_h=us.window[us.strstart],us.ins_h=(us.ins_h<<us.hash_shift^us.window[us.strstart+1])&us.hash_mask;else lo=trees._tr_tally(us,0,us.window[us.strstart]),us.lookahead--,us.strstart++;if(lo&&(flush_block_only(us,!1),us.strm.avail_out===0))return BS_NEED_MORE}return us.insert=us.strstart<MIN_MATCH-1?us.strstart:MIN_MATCH-1,is===Z_FINISH$2?(flush_block_only(us,!0),us.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):us.last_lit&&(flush_block_only(us,!1),us.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(us,is){for(var cs,lo,co;;){if(us.lookahead<MIN_LOOKAHEAD){if(fill_window(us),us.lookahead<MIN_LOOKAHEAD&&is===Z_NO_FLUSH$1)return BS_NEED_MORE;if(us.lookahead===0)break}if(cs=0,us.lookahead>=MIN_MATCH&&(us.ins_h=(us.ins_h<<us.hash_shift^us.window[us.strstart+MIN_MATCH-1])&us.hash_mask,cs=us.prev[us.strstart&us.w_mask]=us.head[us.ins_h],us.head[us.ins_h]=us.strstart),us.prev_length=us.match_length,us.prev_match=us.match_start,us.match_length=MIN_MATCH-1,cs!==0&&us.prev_length<us.max_lazy_match&&us.strstart-cs<=us.w_size-MIN_LOOKAHEAD&&(us.match_length=longest_match(us,cs),us.match_length<=5&&(us.strategy===Z_FILTERED||us.match_length===MIN_MATCH&&us.strstart-us.match_start>4096)&&(us.match_length=MIN_MATCH-1)),us.prev_length>=MIN_MATCH&&us.match_length<=us.prev_length){co=us.strstart+us.lookahead-MIN_MATCH,lo=trees._tr_tally(us,us.strstart-1-us.prev_match,us.prev_length-MIN_MATCH),us.lookahead-=us.prev_length-1,us.prev_length-=2;do++us.strstart<=co&&(us.ins_h=(us.ins_h<<us.hash_shift^us.window[us.strstart+MIN_MATCH-1])&us.hash_mask,cs=us.prev[us.strstart&us.w_mask]=us.head[us.ins_h],us.head[us.ins_h]=us.strstart);while(--us.prev_length!==0);if(us.match_available=0,us.match_length=MIN_MATCH-1,us.strstart++,lo&&(flush_block_only(us,!1),us.strm.avail_out===0))return BS_NEED_MORE}else if(us.match_available){if(lo=trees._tr_tally(us,0,us.window[us.strstart-1]),lo&&flush_block_only(us,!1),us.strstart++,us.lookahead--,us.strm.avail_out===0)return BS_NEED_MORE}else us.match_available=1,us.strstart++,us.lookahead--}return us.match_available&&(lo=trees._tr_tally(us,0,us.window[us.strstart-1]),us.match_available=0),us.insert=us.strstart<MIN_MATCH-1?us.strstart:MIN_MATCH-1,is===Z_FINISH$2?(flush_block_only(us,!0),us.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):us.last_lit&&(flush_block_only(us,!1),us.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(us,is){for(var cs,lo,co,hs,uo=us.window;;){if(us.lookahead<=MAX_MATCH){if(fill_window(us),us.lookahead<=MAX_MATCH&&is===Z_NO_FLUSH$1)return BS_NEED_MORE;if(us.lookahead===0)break}if(us.match_length=0,us.lookahead>=MIN_MATCH&&us.strstart>0&&(co=us.strstart-1,lo=uo[co],lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co])){hs=us.strstart+MAX_MATCH;do;while(lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co]&&lo===uo[++co]&&co<hs);us.match_length=MAX_MATCH-(hs-co),us.match_length>us.lookahead&&(us.match_length=us.lookahead)}if(us.match_length>=MIN_MATCH?(cs=trees._tr_tally(us,1,us.match_length-MIN_MATCH),us.lookahead-=us.match_length,us.strstart+=us.match_length,us.match_length=0):(cs=trees._tr_tally(us,0,us.window[us.strstart]),us.lookahead--,us.strstart++),cs&&(flush_block_only(us,!1),us.strm.avail_out===0))return BS_NEED_MORE}return us.insert=0,is===Z_FINISH$2?(flush_block_only(us,!0),us.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):us.last_lit&&(flush_block_only(us,!1),us.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(us,is){for(var cs;;){if(us.lookahead===0&&(fill_window(us),us.lookahead===0)){if(is===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(us.match_length=0,cs=trees._tr_tally(us,0,us.window[us.strstart]),us.lookahead--,us.strstart++,cs&&(flush_block_only(us,!1),us.strm.avail_out===0))return BS_NEED_MORE}return us.insert=0,is===Z_FINISH$2?(flush_block_only(us,!0),us.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):us.last_lit&&(flush_block_only(us,!1),us.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(us,is,cs,lo,co){this.good_length=us,this.max_lazy=is,this.nice_length=cs,this.max_chain=lo,this.func=co}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(us){us.window_size=2*us.w_size,zero(us.head),us.max_lazy_match=configuration_table[us.level].max_lazy,us.good_match=configuration_table[us.level].good_length,us.nice_match=configuration_table[us.level].nice_length,us.max_chain_length=configuration_table[us.level].max_chain,us.strstart=0,us.block_start=0,us.lookahead=0,us.insert=0,us.match_length=us.prev_length=MIN_MATCH-1,us.match_available=0,us.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(us){var is;return!us||!us.state?err(us,Z_STREAM_ERROR$1):(us.total_in=us.total_out=0,us.data_type=Z_UNKNOWN,is=us.state,is.pending=0,is.pending_out=0,is.wrap<0&&(is.wrap=-is.wrap),is.status=is.wrap?INIT_STATE:BUSY_STATE,us.adler=is.wrap===2?0:1,is.last_flush=Z_NO_FLUSH$1,trees._tr_init(is),Z_OK$2)}function deflateReset(us){var is=deflateResetKeep(us);return is===Z_OK$2&&lm_init(us.state),is}function deflateSetHeader(us,is){return!us||!us.state||us.state.wrap!==2?Z_STREAM_ERROR$1:(us.state.gzhead=is,Z_OK$2)}function deflateInit2(us,is,cs,lo,co,hs){if(!us)return Z_STREAM_ERROR$1;var uo=1;if(is===Z_DEFAULT_COMPRESSION$1&&(is=6),lo<0?(uo=0,lo=-lo):lo>15&&(uo=2,lo-=16),co<1||co>MAX_MEM_LEVEL||cs!==Z_DEFLATED$2||lo<8||lo>15||is<0||is>9||hs<0||hs>Z_FIXED)return err(us,Z_STREAM_ERROR$1);lo===8&&(lo=9);var xa=new DeflateState;return us.state=xa,xa.strm=us,xa.wrap=uo,xa.gzhead=null,xa.w_bits=lo,xa.w_size=1<<xa.w_bits,xa.w_mask=xa.w_size-1,xa.hash_bits=co+7,xa.hash_size=1<<xa.hash_bits,xa.hash_mask=xa.hash_size-1,xa.hash_shift=~~((xa.hash_bits+MIN_MATCH-1)/MIN_MATCH),xa.window=new utils$5.Buf8(xa.w_size*2),xa.head=new utils$5.Buf16(xa.hash_size),xa.prev=new utils$5.Buf16(xa.w_size),xa.lit_bufsize=1<<co+6,xa.pending_buf_size=xa.lit_bufsize*4,xa.pending_buf=new utils$5.Buf8(xa.pending_buf_size),xa.d_buf=1*xa.lit_bufsize,xa.l_buf=3*xa.lit_bufsize,xa.level=is,xa.strategy=hs,xa.method=cs,deflateReset(us)}function deflateInit(us,is){return deflateInit2(us,is,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$3(us,is){var cs,lo,co,hs;if(!us||!us.state||is>Z_BLOCK$1||is<0)return us?err(us,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(lo=us.state,!us.output||!us.input&&us.avail_in!==0||lo.status===FINISH_STATE&&is!==Z_FINISH$2)return err(us,us.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(lo.strm=us,cs=lo.last_flush,lo.last_flush=is,lo.status===INIT_STATE)if(lo.wrap===2)us.adler=0,put_byte(lo,31),put_byte(lo,139),put_byte(lo,8),lo.gzhead?(put_byte(lo,(lo.gzhead.text?1:0)+(lo.gzhead.hcrc?2:0)+(lo.gzhead.extra?4:0)+(lo.gzhead.name?8:0)+(lo.gzhead.comment?16:0)),put_byte(lo,lo.gzhead.time&255),put_byte(lo,lo.gzhead.time>>8&255),put_byte(lo,lo.gzhead.time>>16&255),put_byte(lo,lo.gzhead.time>>24&255),put_byte(lo,lo.level===9?2:lo.strategy>=Z_HUFFMAN_ONLY||lo.level<2?4:0),put_byte(lo,lo.gzhead.os&255),lo.gzhead.extra&&lo.gzhead.extra.length&&(put_byte(lo,lo.gzhead.extra.length&255),put_byte(lo,lo.gzhead.extra.length>>8&255)),lo.gzhead.hcrc&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending,0)),lo.gzindex=0,lo.status=EXTRA_STATE):(put_byte(lo,0),put_byte(lo,0),put_byte(lo,0),put_byte(lo,0),put_byte(lo,0),put_byte(lo,lo.level===9?2:lo.strategy>=Z_HUFFMAN_ONLY||lo.level<2?4:0),put_byte(lo,OS_CODE),lo.status=BUSY_STATE);else{var uo=Z_DEFLATED$2+(lo.w_bits-8<<4)<<8,xa=-1;lo.strategy>=Z_HUFFMAN_ONLY||lo.level<2?xa=0:lo.level<6?xa=1:lo.level===6?xa=2:xa=3,uo|=xa<<6,lo.strstart!==0&&(uo|=PRESET_DICT),uo+=31-uo%31,lo.status=BUSY_STATE,putShortMSB(lo,uo),lo.strstart!==0&&(putShortMSB(lo,us.adler>>>16),putShortMSB(lo,us.adler&65535)),us.adler=1}if(lo.status===EXTRA_STATE)if(lo.gzhead.extra){for(co=lo.pending;lo.gzindex<(lo.gzhead.extra.length&65535)&&!(lo.pending===lo.pending_buf_size&&(lo.gzhead.hcrc&&lo.pending>co&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending-co,co)),flush_pending(us),co=lo.pending,lo.pending===lo.pending_buf_size));)put_byte(lo,lo.gzhead.extra[lo.gzindex]&255),lo.gzindex++;lo.gzhead.hcrc&&lo.pending>co&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending-co,co)),lo.gzindex===lo.gzhead.extra.length&&(lo.gzindex=0,lo.status=NAME_STATE)}else lo.status=NAME_STATE;if(lo.status===NAME_STATE)if(lo.gzhead.name){co=lo.pending;do{if(lo.pending===lo.pending_buf_size&&(lo.gzhead.hcrc&&lo.pending>co&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending-co,co)),flush_pending(us),co=lo.pending,lo.pending===lo.pending_buf_size)){hs=1;break}lo.gzindex<lo.gzhead.name.length?hs=lo.gzhead.name.charCodeAt(lo.gzindex++)&255:hs=0,put_byte(lo,hs)}while(hs!==0);lo.gzhead.hcrc&&lo.pending>co&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending-co,co)),hs===0&&(lo.gzindex=0,lo.status=COMMENT_STATE)}else lo.status=COMMENT_STATE;if(lo.status===COMMENT_STATE)if(lo.gzhead.comment){co=lo.pending;do{if(lo.pending===lo.pending_buf_size&&(lo.gzhead.hcrc&&lo.pending>co&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending-co,co)),flush_pending(us),co=lo.pending,lo.pending===lo.pending_buf_size)){hs=1;break}lo.gzindex<lo.gzhead.comment.length?hs=lo.gzhead.comment.charCodeAt(lo.gzindex++)&255:hs=0,put_byte(lo,hs)}while(hs!==0);lo.gzhead.hcrc&&lo.pending>co&&(us.adler=crc32$1(us.adler,lo.pending_buf,lo.pending-co,co)),hs===0&&(lo.status=HCRC_STATE)}else lo.status=HCRC_STATE;if(lo.status===HCRC_STATE&&(lo.gzhead.hcrc?(lo.pending+2>lo.pending_buf_size&&flush_pending(us),lo.pending+2<=lo.pending_buf_size&&(put_byte(lo,us.adler&255),put_byte(lo,us.adler>>8&255),us.adler=0,lo.status=BUSY_STATE)):lo.status=BUSY_STATE),lo.pending!==0){if(flush_pending(us),us.avail_out===0)return lo.last_flush=-1,Z_OK$2}else if(us.avail_in===0&&rank(is)<=rank(cs)&&is!==Z_FINISH$2)return err(us,Z_BUF_ERROR$1);if(lo.status===FINISH_STATE&&us.avail_in!==0)return err(us,Z_BUF_ERROR$1);if(us.avail_in!==0||lo.lookahead!==0||is!==Z_NO_FLUSH$1&&lo.status!==FINISH_STATE){var ba=lo.strategy===Z_HUFFMAN_ONLY?deflate_huff(lo,is):lo.strategy===Z_RLE?deflate_rle(lo,is):configuration_table[lo.level].func(lo,is);if((ba===BS_FINISH_STARTED||ba===BS_FINISH_DONE)&&(lo.status=FINISH_STATE),ba===BS_NEED_MORE||ba===BS_FINISH_STARTED)return us.avail_out===0&&(lo.last_flush=-1),Z_OK$2;if(ba===BS_BLOCK_DONE&&(is===Z_PARTIAL_FLUSH?trees._tr_align(lo):is!==Z_BLOCK$1&&(trees._tr_stored_block(lo,0,0,!1),is===Z_FULL_FLUSH&&(zero(lo.head),lo.lookahead===0&&(lo.strstart=0,lo.block_start=0,lo.insert=0))),flush_pending(us),us.avail_out===0))return lo.last_flush=-1,Z_OK$2}return is!==Z_FINISH$2?Z_OK$2:lo.wrap<=0?Z_STREAM_END$2:(lo.wrap===2?(put_byte(lo,us.adler&255),put_byte(lo,us.adler>>8&255),put_byte(lo,us.adler>>16&255),put_byte(lo,us.adler>>24&255),put_byte(lo,us.total_in&255),put_byte(lo,us.total_in>>8&255),put_byte(lo,us.total_in>>16&255),put_byte(lo,us.total_in>>24&255)):(putShortMSB(lo,us.adler>>>16),putShortMSB(lo,us.adler&65535)),flush_pending(us),lo.wrap>0&&(lo.wrap=-lo.wrap),lo.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(us){var is;return!us||!us.state?Z_STREAM_ERROR$1:(is=us.state.status,is!==INIT_STATE&&is!==EXTRA_STATE&&is!==NAME_STATE&&is!==COMMENT_STATE&&is!==HCRC_STATE&&is!==BUSY_STATE&&is!==FINISH_STATE?err(us,Z_STREAM_ERROR$1):(us.state=null,is===BUSY_STATE?err(us,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(us,is){var cs=is.length,lo,co,hs,uo,xa,ba,$a,wl;if(!us||!us.state||(lo=us.state,uo=lo.wrap,uo===2||uo===1&&lo.status!==INIT_STATE||lo.lookahead))return Z_STREAM_ERROR$1;for(uo===1&&(us.adler=adler32$1(us.adler,is,cs,0)),lo.wrap=0,cs>=lo.w_size&&(uo===0&&(zero(lo.head),lo.strstart=0,lo.block_start=0,lo.insert=0),wl=new utils$5.Buf8(lo.w_size),utils$5.arraySet(wl,is,cs-lo.w_size,lo.w_size,0),is=wl,cs=lo.w_size),xa=us.avail_in,ba=us.next_in,$a=us.input,us.avail_in=cs,us.next_in=0,us.input=is,fill_window(lo);lo.lookahead>=MIN_MATCH;){co=lo.strstart,hs=lo.lookahead-(MIN_MATCH-1);do lo.ins_h=(lo.ins_h<<lo.hash_shift^lo.window[co+MIN_MATCH-1])&lo.hash_mask,lo.prev[co&lo.w_mask]=lo.head[lo.ins_h],lo.head[lo.ins_h]=co,co++;while(--hs);lo.strstart=co,lo.lookahead=MIN_MATCH-1,fill_window(lo)}return lo.strstart+=lo.lookahead,lo.block_start=lo.strstart,lo.insert=lo.lookahead,lo.lookahead=0,lo.match_length=lo.prev_length=MIN_MATCH-1,lo.match_available=0,us.next_in=ba,us.input=$a,us.avail_in=xa,lo.wrap=uo,Z_OK$2}deflate$4.deflateInit=deflateInit;deflate$4.deflateInit2=deflateInit2;deflate$4.deflateReset=deflateReset;deflate$4.deflateResetKeep=deflateResetKeep;deflate$4.deflateSetHeader=deflateSetHeader;deflate$4.deflate=deflate$3;deflate$4.deflateEnd=deflateEnd;deflate$4.deflateSetDictionary=deflateSetDictionary;deflate$4.deflateInfo="pako deflate (from Nodeca project)";var inflate$4={},BAD$1=30,TYPE$1=12,inffast=function(is,cs){var lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,Nl,zl,$l,Vl,Gl,iu,nu;lo=is.state,co=is.next_in,iu=is.input,hs=co+(is.avail_in-5),uo=is.next_out,nu=is.output,xa=uo-(cs-is.avail_out),ba=uo+(is.avail_out-257),$a=lo.dmax,wl=lo.wsize,Sl=lo.whave,Cl=lo.wnext,_l=lo.window,Il=lo.hold,Fl=lo.bits,Ml=lo.lencode,Tl=lo.distcode,Dl=(1<<lo.lenbits)-1,Bl=(1<<lo.distbits)-1;e:do{Fl<15&&(Il+=iu[co++]<<Fl,Fl+=8,Il+=iu[co++]<<Fl,Fl+=8),Ll=Ml[Il&Dl];t:for(;;){if(Nl=Ll>>>24,Il>>>=Nl,Fl-=Nl,Nl=Ll>>>16&255,Nl===0)nu[uo++]=Ll&65535;else if(Nl&16){zl=Ll&65535,Nl&=15,Nl&&(Fl<Nl&&(Il+=iu[co++]<<Fl,Fl+=8),zl+=Il&(1<<Nl)-1,Il>>>=Nl,Fl-=Nl),Fl<15&&(Il+=iu[co++]<<Fl,Fl+=8,Il+=iu[co++]<<Fl,Fl+=8),Ll=Tl[Il&Bl];r:for(;;){if(Nl=Ll>>>24,Il>>>=Nl,Fl-=Nl,Nl=Ll>>>16&255,Nl&16){if($l=Ll&65535,Nl&=15,Fl<Nl&&(Il+=iu[co++]<<Fl,Fl+=8,Fl<Nl&&(Il+=iu[co++]<<Fl,Fl+=8)),$l+=Il&(1<<Nl)-1,$l>$a){is.msg="invalid distance too far back",lo.mode=BAD$1;break e}if(Il>>>=Nl,Fl-=Nl,Nl=uo-xa,$l>Nl){if(Nl=$l-Nl,Nl>Sl&&lo.sane){is.msg="invalid distance too far back",lo.mode=BAD$1;break e}if(Vl=0,Gl=_l,Cl===0){if(Vl+=wl-Nl,Nl<zl){zl-=Nl;do nu[uo++]=_l[Vl++];while(--Nl);Vl=uo-$l,Gl=nu}}else if(Cl<Nl){if(Vl+=wl+Cl-Nl,Nl-=Cl,Nl<zl){zl-=Nl;do nu[uo++]=_l[Vl++];while(--Nl);if(Vl=0,Cl<zl){Nl=Cl,zl-=Nl;do nu[uo++]=_l[Vl++];while(--Nl);Vl=uo-$l,Gl=nu}}}else if(Vl+=Cl-Nl,Nl<zl){zl-=Nl;do nu[uo++]=_l[Vl++];while(--Nl);Vl=uo-$l,Gl=nu}for(;zl>2;)nu[uo++]=Gl[Vl++],nu[uo++]=Gl[Vl++],nu[uo++]=Gl[Vl++],zl-=3;zl&&(nu[uo++]=Gl[Vl++],zl>1&&(nu[uo++]=Gl[Vl++]))}else{Vl=uo-$l;do nu[uo++]=nu[Vl++],nu[uo++]=nu[Vl++],nu[uo++]=nu[Vl++],zl-=3;while(zl>2);zl&&(nu[uo++]=nu[Vl++],zl>1&&(nu[uo++]=nu[Vl++]))}}else if(Nl&64){is.msg="invalid distance code",lo.mode=BAD$1;break e}else{Ll=Tl[(Ll&65535)+(Il&(1<<Nl)-1)];continue r}break}}else if(Nl&64)if(Nl&32){lo.mode=TYPE$1;break e}else{is.msg="invalid literal/length code",lo.mode=BAD$1;break e}else{Ll=Ml[(Ll&65535)+(Il&(1<<Nl)-1)];continue t}break}}while(co<hs&&uo<ba);zl=Fl>>3,co-=zl,Fl-=zl<<3,Il&=(1<<Fl)-1,is.next_in=co,is.next_out=uo,is.avail_in=co<hs?5+(hs-co):5-(co-hs),is.avail_out=uo<ba?257+(ba-uo):257-(uo-ba),lo.hold=Il,lo.bits=Fl},utils$4=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(is,cs,lo,co,hs,uo,xa,ba){var $a=ba.bits,wl=0,Sl=0,Cl=0,_l=0,Il=0,Fl=0,Ml=0,Tl=0,Dl=0,Bl=0,Ll,Nl,zl,$l,Vl,Gl=null,iu=0,nu,Jl=new utils$4.Buf16(MAXBITS+1),lu=new utils$4.Buf16(MAXBITS+1),ju=null,zu=0,Wu,qu,Mu;for(wl=0;wl<=MAXBITS;wl++)Jl[wl]=0;for(Sl=0;Sl<co;Sl++)Jl[cs[lo+Sl]]++;for(Il=$a,_l=MAXBITS;_l>=1&&Jl[_l]===0;_l--);if(Il>_l&&(Il=_l),_l===0)return hs[uo++]=1<<24|64<<16|0,hs[uo++]=1<<24|64<<16|0,ba.bits=1,0;for(Cl=1;Cl<_l&&Jl[Cl]===0;Cl++);for(Il<Cl&&(Il=Cl),Tl=1,wl=1;wl<=MAXBITS;wl++)if(Tl<<=1,Tl-=Jl[wl],Tl<0)return-1;if(Tl>0&&(is===CODES$1||_l!==1))return-1;for(lu[1]=0,wl=1;wl<MAXBITS;wl++)lu[wl+1]=lu[wl]+Jl[wl];for(Sl=0;Sl<co;Sl++)cs[lo+Sl]!==0&&(xa[lu[cs[lo+Sl]]++]=Sl);if(is===CODES$1?(Gl=ju=xa,nu=19):is===LENS$1?(Gl=lbase,iu-=257,ju=lext,zu-=257,nu=256):(Gl=dbase,ju=dext,nu=-1),Bl=0,Sl=0,wl=Cl,Vl=uo,Fl=Il,Ml=0,zl=-1,Dl=1<<Il,$l=Dl-1,is===LENS$1&&Dl>ENOUGH_LENS$1||is===DISTS$1&&Dl>ENOUGH_DISTS$1)return 1;for(;;){Wu=wl-Ml,xa[Sl]<nu?(qu=0,Mu=xa[Sl]):xa[Sl]>nu?(qu=ju[zu+xa[Sl]],Mu=Gl[iu+xa[Sl]]):(qu=96,Mu=0),Ll=1<<wl-Ml,Nl=1<<Fl,Cl=Nl;do Nl-=Ll,hs[Vl+(Bl>>Ml)+Nl]=Wu<<24|qu<<16|Mu|0;while(Nl!==0);for(Ll=1<<wl-1;Bl&Ll;)Ll>>=1;if(Ll!==0?(Bl&=Ll-1,Bl+=Ll):Bl=0,Sl++,--Jl[wl]===0){if(wl===_l)break;wl=cs[lo+xa[Sl]]}if(wl>Il&&(Bl&$l)!==zl){for(Ml===0&&(Ml=Il),Vl+=Cl,Fl=wl-Ml,Tl=1<<Fl;Fl+Ml<_l&&(Tl-=Jl[Fl+Ml],!(Tl<=0));)Fl++,Tl<<=1;if(Dl+=1<<Fl,is===LENS$1&&Dl>ENOUGH_LENS$1||is===DISTS$1&&Dl>ENOUGH_DISTS$1)return 1;zl=Bl&$l,hs[zl]=Il<<24|Fl<<16|Vl-uo|0}}return Bl!==0&&(hs[Vl+Bl]=wl-Ml<<24|64<<16|0),ba.bits=Il,0},utils$3=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH$1=4,Z_BLOCK=5,Z_TREES=6,Z_OK$1=0,Z_STREAM_END$1=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED$1=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(us){return(us>>>24&255)+(us>>>8&65280)+((us&65280)<<8)+((us&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$3.Buf16(320),this.work=new utils$3.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(us){var is;return!us||!us.state?Z_STREAM_ERROR:(is=us.state,us.total_in=us.total_out=is.total=0,us.msg="",is.wrap&&(us.adler=is.wrap&1),is.mode=HEAD,is.last=0,is.havedict=0,is.dmax=32768,is.head=null,is.hold=0,is.bits=0,is.lencode=is.lendyn=new utils$3.Buf32(ENOUGH_LENS),is.distcode=is.distdyn=new utils$3.Buf32(ENOUGH_DISTS),is.sane=1,is.back=-1,Z_OK$1)}function inflateReset(us){var is;return!us||!us.state?Z_STREAM_ERROR:(is=us.state,is.wsize=0,is.whave=0,is.wnext=0,inflateResetKeep(us))}function inflateReset2(us,is){var cs,lo;return!us||!us.state||(lo=us.state,is<0?(cs=0,is=-is):(cs=(is>>4)+1,is<48&&(is&=15)),is&&(is<8||is>15))?Z_STREAM_ERROR:(lo.window!==null&&lo.wbits!==is&&(lo.window=null),lo.wrap=cs,lo.wbits=is,inflateReset(us))}function inflateInit2(us,is){var cs,lo;return us?(lo=new InflateState,us.state=lo,lo.window=null,cs=inflateReset2(us,is),cs!==Z_OK$1&&(us.state=null),cs):Z_STREAM_ERROR}function inflateInit(us){return inflateInit2(us,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(us){if(virgin){var is;for(lenfix=new utils$3.Buf32(512),distfix=new utils$3.Buf32(32),is=0;is<144;)us.lens[is++]=8;for(;is<256;)us.lens[is++]=9;for(;is<280;)us.lens[is++]=7;for(;is<288;)us.lens[is++]=8;for(inflate_table(LENS,us.lens,0,288,lenfix,0,us.work,{bits:9}),is=0;is<32;)us.lens[is++]=5;inflate_table(DISTS,us.lens,0,32,distfix,0,us.work,{bits:5}),virgin=!1}us.lencode=lenfix,us.lenbits=9,us.distcode=distfix,us.distbits=5}function updatewindow(us,is,cs,lo){var co,hs=us.state;return hs.window===null&&(hs.wsize=1<<hs.wbits,hs.wnext=0,hs.whave=0,hs.window=new utils$3.Buf8(hs.wsize)),lo>=hs.wsize?(utils$3.arraySet(hs.window,is,cs-hs.wsize,hs.wsize,0),hs.wnext=0,hs.whave=hs.wsize):(co=hs.wsize-hs.wnext,co>lo&&(co=lo),utils$3.arraySet(hs.window,is,cs-lo,co,hs.wnext),lo-=co,lo?(utils$3.arraySet(hs.window,is,cs-lo,lo,0),hs.wnext=lo,hs.whave=hs.wsize):(hs.wnext+=co,hs.wnext===hs.wsize&&(hs.wnext=0),hs.whave<hs.wsize&&(hs.whave+=co))),0}function inflate$3(us,is){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml=0,Tl,Dl,Bl,Ll,Nl,zl,$l,Vl,Gl=new utils$3.Buf8(4),iu,nu,Jl=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!us||!us.state||!us.output||!us.input&&us.avail_in!==0)return Z_STREAM_ERROR;cs=us.state,cs.mode===TYPE&&(cs.mode=TYPEDO),uo=us.next_out,co=us.output,ba=us.avail_out,hs=us.next_in,lo=us.input,xa=us.avail_in,$a=cs.hold,wl=cs.bits,Sl=xa,Cl=ba,Vl=Z_OK$1;e:for(;;)switch(cs.mode){case HEAD:if(cs.wrap===0){cs.mode=TYPEDO;break}for(;wl<16;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(cs.wrap&2&&$a===35615){cs.check=0,Gl[0]=$a&255,Gl[1]=$a>>>8&255,cs.check=crc32(cs.check,Gl,2,0),$a=0,wl=0,cs.mode=FLAGS;break}if(cs.flags=0,cs.head&&(cs.head.done=!1),!(cs.wrap&1)||((($a&255)<<8)+($a>>8))%31){us.msg="incorrect header check",cs.mode=BAD;break}if(($a&15)!==Z_DEFLATED$1){us.msg="unknown compression method",cs.mode=BAD;break}if($a>>>=4,wl-=4,$l=($a&15)+8,cs.wbits===0)cs.wbits=$l;else if($l>cs.wbits){us.msg="invalid window size",cs.mode=BAD;break}cs.dmax=1<<$l,us.adler=cs.check=1,cs.mode=$a&512?DICTID:TYPE,$a=0,wl=0;break;case FLAGS:for(;wl<16;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(cs.flags=$a,(cs.flags&255)!==Z_DEFLATED$1){us.msg="unknown compression method",cs.mode=BAD;break}if(cs.flags&57344){us.msg="unknown header flags set",cs.mode=BAD;break}cs.head&&(cs.head.text=$a>>8&1),cs.flags&512&&(Gl[0]=$a&255,Gl[1]=$a>>>8&255,cs.check=crc32(cs.check,Gl,2,0)),$a=0,wl=0,cs.mode=TIME;case TIME:for(;wl<32;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}cs.head&&(cs.head.time=$a),cs.flags&512&&(Gl[0]=$a&255,Gl[1]=$a>>>8&255,Gl[2]=$a>>>16&255,Gl[3]=$a>>>24&255,cs.check=crc32(cs.check,Gl,4,0)),$a=0,wl=0,cs.mode=OS;case OS:for(;wl<16;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}cs.head&&(cs.head.xflags=$a&255,cs.head.os=$a>>8),cs.flags&512&&(Gl[0]=$a&255,Gl[1]=$a>>>8&255,cs.check=crc32(cs.check,Gl,2,0)),$a=0,wl=0,cs.mode=EXLEN;case EXLEN:if(cs.flags&1024){for(;wl<16;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}cs.length=$a,cs.head&&(cs.head.extra_len=$a),cs.flags&512&&(Gl[0]=$a&255,Gl[1]=$a>>>8&255,cs.check=crc32(cs.check,Gl,2,0)),$a=0,wl=0}else cs.head&&(cs.head.extra=null);cs.mode=EXTRA;case EXTRA:if(cs.flags&1024&&(_l=cs.length,_l>xa&&(_l=xa),_l&&(cs.head&&($l=cs.head.extra_len-cs.length,cs.head.extra||(cs.head.extra=new Array(cs.head.extra_len)),utils$3.arraySet(cs.head.extra,lo,hs,_l,$l)),cs.flags&512&&(cs.check=crc32(cs.check,lo,_l,hs)),xa-=_l,hs+=_l,cs.length-=_l),cs.length))break e;cs.length=0,cs.mode=NAME;case NAME:if(cs.flags&2048){if(xa===0)break e;_l=0;do $l=lo[hs+_l++],cs.head&&$l&&cs.length<65536&&(cs.head.name+=String.fromCharCode($l));while($l&&_l<xa);if(cs.flags&512&&(cs.check=crc32(cs.check,lo,_l,hs)),xa-=_l,hs+=_l,$l)break e}else cs.head&&(cs.head.name=null);cs.length=0,cs.mode=COMMENT;case COMMENT:if(cs.flags&4096){if(xa===0)break e;_l=0;do $l=lo[hs+_l++],cs.head&&$l&&cs.length<65536&&(cs.head.comment+=String.fromCharCode($l));while($l&&_l<xa);if(cs.flags&512&&(cs.check=crc32(cs.check,lo,_l,hs)),xa-=_l,hs+=_l,$l)break e}else cs.head&&(cs.head.comment=null);cs.mode=HCRC;case HCRC:if(cs.flags&512){for(;wl<16;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if($a!==(cs.check&65535)){us.msg="header crc mismatch",cs.mode=BAD;break}$a=0,wl=0}cs.head&&(cs.head.hcrc=cs.flags>>9&1,cs.head.done=!0),us.adler=cs.check=0,cs.mode=TYPE;break;case DICTID:for(;wl<32;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}us.adler=cs.check=zswap32($a),$a=0,wl=0,cs.mode=DICT;case DICT:if(cs.havedict===0)return us.next_out=uo,us.avail_out=ba,us.next_in=hs,us.avail_in=xa,cs.hold=$a,cs.bits=wl,Z_NEED_DICT;us.adler=cs.check=1,cs.mode=TYPE;case TYPE:if(is===Z_BLOCK||is===Z_TREES)break e;case TYPEDO:if(cs.last){$a>>>=wl&7,wl-=wl&7,cs.mode=CHECK;break}for(;wl<3;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}switch(cs.last=$a&1,$a>>>=1,wl-=1,$a&3){case 0:cs.mode=STORED;break;case 1:if(fixedtables(cs),cs.mode=LEN_,is===Z_TREES){$a>>>=2,wl-=2;break e}break;case 2:cs.mode=TABLE;break;case 3:us.msg="invalid block type",cs.mode=BAD}$a>>>=2,wl-=2;break;case STORED:for($a>>>=wl&7,wl-=wl&7;wl<32;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(($a&65535)!==($a>>>16^65535)){us.msg="invalid stored block lengths",cs.mode=BAD;break}if(cs.length=$a&65535,$a=0,wl=0,cs.mode=COPY_,is===Z_TREES)break e;case COPY_:cs.mode=COPY;case COPY:if(_l=cs.length,_l){if(_l>xa&&(_l=xa),_l>ba&&(_l=ba),_l===0)break e;utils$3.arraySet(co,lo,hs,_l,uo),xa-=_l,hs+=_l,ba-=_l,uo+=_l,cs.length-=_l;break}cs.mode=TYPE;break;case TABLE:for(;wl<14;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(cs.nlen=($a&31)+257,$a>>>=5,wl-=5,cs.ndist=($a&31)+1,$a>>>=5,wl-=5,cs.ncode=($a&15)+4,$a>>>=4,wl-=4,cs.nlen>286||cs.ndist>30){us.msg="too many length or distance symbols",cs.mode=BAD;break}cs.have=0,cs.mode=LENLENS;case LENLENS:for(;cs.have<cs.ncode;){for(;wl<3;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}cs.lens[Jl[cs.have++]]=$a&7,$a>>>=3,wl-=3}for(;cs.have<19;)cs.lens[Jl[cs.have++]]=0;if(cs.lencode=cs.lendyn,cs.lenbits=7,iu={bits:cs.lenbits},Vl=inflate_table(CODES,cs.lens,0,19,cs.lencode,0,cs.work,iu),cs.lenbits=iu.bits,Vl){us.msg="invalid code lengths set",cs.mode=BAD;break}cs.have=0,cs.mode=CODELENS;case CODELENS:for(;cs.have<cs.nlen+cs.ndist;){for(;Ml=cs.lencode[$a&(1<<cs.lenbits)-1],Tl=Ml>>>24,Dl=Ml>>>16&255,Bl=Ml&65535,!(Tl<=wl);){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(Bl<16)$a>>>=Tl,wl-=Tl,cs.lens[cs.have++]=Bl;else{if(Bl===16){for(nu=Tl+2;wl<nu;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if($a>>>=Tl,wl-=Tl,cs.have===0){us.msg="invalid bit length repeat",cs.mode=BAD;break}$l=cs.lens[cs.have-1],_l=3+($a&3),$a>>>=2,wl-=2}else if(Bl===17){for(nu=Tl+3;wl<nu;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}$a>>>=Tl,wl-=Tl,$l=0,_l=3+($a&7),$a>>>=3,wl-=3}else{for(nu=Tl+7;wl<nu;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}$a>>>=Tl,wl-=Tl,$l=0,_l=11+($a&127),$a>>>=7,wl-=7}if(cs.have+_l>cs.nlen+cs.ndist){us.msg="invalid bit length repeat",cs.mode=BAD;break}for(;_l--;)cs.lens[cs.have++]=$l}}if(cs.mode===BAD)break;if(cs.lens[256]===0){us.msg="invalid code -- missing end-of-block",cs.mode=BAD;break}if(cs.lenbits=9,iu={bits:cs.lenbits},Vl=inflate_table(LENS,cs.lens,0,cs.nlen,cs.lencode,0,cs.work,iu),cs.lenbits=iu.bits,Vl){us.msg="invalid literal/lengths set",cs.mode=BAD;break}if(cs.distbits=6,cs.distcode=cs.distdyn,iu={bits:cs.distbits},Vl=inflate_table(DISTS,cs.lens,cs.nlen,cs.ndist,cs.distcode,0,cs.work,iu),cs.distbits=iu.bits,Vl){us.msg="invalid distances set",cs.mode=BAD;break}if(cs.mode=LEN_,is===Z_TREES)break e;case LEN_:cs.mode=LEN;case LEN:if(xa>=6&&ba>=258){us.next_out=uo,us.avail_out=ba,us.next_in=hs,us.avail_in=xa,cs.hold=$a,cs.bits=wl,inflate_fast(us,Cl),uo=us.next_out,co=us.output,ba=us.avail_out,hs=us.next_in,lo=us.input,xa=us.avail_in,$a=cs.hold,wl=cs.bits,cs.mode===TYPE&&(cs.back=-1);break}for(cs.back=0;Ml=cs.lencode[$a&(1<<cs.lenbits)-1],Tl=Ml>>>24,Dl=Ml>>>16&255,Bl=Ml&65535,!(Tl<=wl);){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(Dl&&!(Dl&240)){for(Ll=Tl,Nl=Dl,zl=Bl;Ml=cs.lencode[zl+(($a&(1<<Ll+Nl)-1)>>Ll)],Tl=Ml>>>24,Dl=Ml>>>16&255,Bl=Ml&65535,!(Ll+Tl<=wl);){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}$a>>>=Ll,wl-=Ll,cs.back+=Ll}if($a>>>=Tl,wl-=Tl,cs.back+=Tl,cs.length=Bl,Dl===0){cs.mode=LIT;break}if(Dl&32){cs.back=-1,cs.mode=TYPE;break}if(Dl&64){us.msg="invalid literal/length code",cs.mode=BAD;break}cs.extra=Dl&15,cs.mode=LENEXT;case LENEXT:if(cs.extra){for(nu=cs.extra;wl<nu;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}cs.length+=$a&(1<<cs.extra)-1,$a>>>=cs.extra,wl-=cs.extra,cs.back+=cs.extra}cs.was=cs.length,cs.mode=DIST;case DIST:for(;Ml=cs.distcode[$a&(1<<cs.distbits)-1],Tl=Ml>>>24,Dl=Ml>>>16&255,Bl=Ml&65535,!(Tl<=wl);){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if(!(Dl&240)){for(Ll=Tl,Nl=Dl,zl=Bl;Ml=cs.distcode[zl+(($a&(1<<Ll+Nl)-1)>>Ll)],Tl=Ml>>>24,Dl=Ml>>>16&255,Bl=Ml&65535,!(Ll+Tl<=wl);){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}$a>>>=Ll,wl-=Ll,cs.back+=Ll}if($a>>>=Tl,wl-=Tl,cs.back+=Tl,Dl&64){us.msg="invalid distance code",cs.mode=BAD;break}cs.offset=Bl,cs.extra=Dl&15,cs.mode=DISTEXT;case DISTEXT:if(cs.extra){for(nu=cs.extra;wl<nu;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}cs.offset+=$a&(1<<cs.extra)-1,$a>>>=cs.extra,wl-=cs.extra,cs.back+=cs.extra}if(cs.offset>cs.dmax){us.msg="invalid distance too far back",cs.mode=BAD;break}cs.mode=MATCH;case MATCH:if(ba===0)break e;if(_l=Cl-ba,cs.offset>_l){if(_l=cs.offset-_l,_l>cs.whave&&cs.sane){us.msg="invalid distance too far back",cs.mode=BAD;break}_l>cs.wnext?(_l-=cs.wnext,Il=cs.wsize-_l):Il=cs.wnext-_l,_l>cs.length&&(_l=cs.length),Fl=cs.window}else Fl=co,Il=uo-cs.offset,_l=cs.length;_l>ba&&(_l=ba),ba-=_l,cs.length-=_l;do co[uo++]=Fl[Il++];while(--_l);cs.length===0&&(cs.mode=LEN);break;case LIT:if(ba===0)break e;co[uo++]=cs.length,ba--,cs.mode=LEN;break;case CHECK:if(cs.wrap){for(;wl<32;){if(xa===0)break e;xa--,$a|=lo[hs++]<<wl,wl+=8}if(Cl-=ba,us.total_out+=Cl,cs.total+=Cl,Cl&&(us.adler=cs.check=cs.flags?crc32(cs.check,co,Cl,uo-Cl):adler32(cs.check,co,Cl,uo-Cl)),Cl=ba,(cs.flags?$a:zswap32($a))!==cs.check){us.msg="incorrect data check",cs.mode=BAD;break}$a=0,wl=0}cs.mode=LENGTH;case LENGTH:if(cs.wrap&&cs.flags){for(;wl<32;){if(xa===0)break e;xa--,$a+=lo[hs++]<<wl,wl+=8}if($a!==(cs.total&4294967295)){us.msg="incorrect length check",cs.mode=BAD;break}$a=0,wl=0}cs.mode=DONE;case DONE:Vl=Z_STREAM_END$1;break e;case BAD:Vl=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return us.next_out=uo,us.avail_out=ba,us.next_in=hs,us.avail_in=xa,cs.hold=$a,cs.bits=wl,(cs.wsize||Cl!==us.avail_out&&cs.mode<BAD&&(cs.mode<CHECK||is!==Z_FINISH$1))&&updatewindow(us,us.output,us.next_out,Cl-us.avail_out),Sl-=us.avail_in,Cl-=us.avail_out,us.total_in+=Sl,us.total_out+=Cl,cs.total+=Cl,cs.wrap&&Cl&&(us.adler=cs.check=cs.flags?crc32(cs.check,co,Cl,us.next_out-Cl):adler32(cs.check,co,Cl,us.next_out-Cl)),us.data_type=cs.bits+(cs.last?64:0)+(cs.mode===TYPE?128:0)+(cs.mode===LEN_||cs.mode===COPY_?256:0),(Sl===0&&Cl===0||is===Z_FINISH$1)&&Vl===Z_OK$1&&(Vl=Z_BUF_ERROR),Vl}function inflateEnd(us){if(!us||!us.state)return Z_STREAM_ERROR;var is=us.state;return is.window&&(is.window=null),us.state=null,Z_OK$1}function inflateGetHeader(us,is){var cs;return!us||!us.state||(cs=us.state,!(cs.wrap&2))?Z_STREAM_ERROR:(cs.head=is,is.done=!1,Z_OK$1)}function inflateSetDictionary(us,is){var cs=is.length,lo,co,hs;return!us||!us.state||(lo=us.state,lo.wrap!==0&&lo.mode!==DICT)?Z_STREAM_ERROR:lo.mode===DICT&&(co=1,co=adler32(co,is,cs,0),co!==lo.check)?Z_DATA_ERROR:(hs=updatewindow(us,is,cs,cs),hs?(lo.mode=MEM,Z_MEM_ERROR):(lo.havedict=1,Z_OK$1))}inflate$4.inflateReset=inflateReset;inflate$4.inflateReset2=inflateReset2;inflate$4.inflateResetKeep=inflateResetKeep;inflate$4.inflateInit=inflateInit;inflate$4.inflateInit2=inflateInit2;inflate$4.inflate=inflate$3;inflate$4.inflateEnd=inflateEnd;inflate$4.inflateGetHeader=inflateGetHeader;inflate$4.inflateSetDictionary=inflateSetDictionary;inflate$4.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},hasRequiredBinding;function requireBinding(){return hasRequiredBinding||(hasRequiredBinding=1,function(us){var is=requireAssert(),cs=zstream,lo=deflate$4,co=inflate$4,hs=constants$1;for(var uo in hs)us[uo]=hs[uo];us.NONE=0,us.DEFLATE=1,us.INFLATE=2,us.GZIP=3,us.GUNZIP=4,us.DEFLATERAW=5,us.INFLATERAW=6,us.UNZIP=7;var xa=31,ba=139;function $a(wl){if(typeof wl!="number"||wl<us.DEFLATE||wl>us.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=wl,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}$a.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,is(this.init_done,"close before init"),is(this.mode<=us.UNZIP),this.mode===us.DEFLATE||this.mode===us.GZIP||this.mode===us.DEFLATERAW?lo.deflateEnd(this.strm):(this.mode===us.INFLATE||this.mode===us.GUNZIP||this.mode===us.INFLATERAW||this.mode===us.UNZIP)&&co.inflateEnd(this.strm),this.mode=us.NONE,this.dictionary=null},$a.prototype.write=function(wl,Sl,Cl,_l,Il,Fl,Ml){return this._write(!0,wl,Sl,Cl,_l,Il,Fl,Ml)},$a.prototype.writeSync=function(wl,Sl,Cl,_l,Il,Fl,Ml){return this._write(!1,wl,Sl,Cl,_l,Il,Fl,Ml)},$a.prototype._write=function(wl,Sl,Cl,_l,Il,Fl,Ml,Tl){if(is.equal(arguments.length,8),is(this.init_done,"write before init"),is(this.mode!==us.NONE,"already finalized"),is.equal(!1,this.write_in_progress,"write already in progress"),is.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,is.equal(!1,Sl===void 0,"must provide flush value"),this.write_in_progress=!0,Sl!==us.Z_NO_FLUSH&&Sl!==us.Z_PARTIAL_FLUSH&&Sl!==us.Z_SYNC_FLUSH&&Sl!==us.Z_FULL_FLUSH&&Sl!==us.Z_FINISH&&Sl!==us.Z_BLOCK)throw new Error("Invalid flush value");if(Cl==null&&(Cl=Buffer.alloc(0),Il=0,_l=0),this.strm.avail_in=Il,this.strm.input=Cl,this.strm.next_in=_l,this.strm.avail_out=Tl,this.strm.output=Fl,this.strm.next_out=Ml,this.flush=Sl,!wl)return this._process(),this._checkError()?this._afterSync():void 0;var Dl=this;return process$1.nextTick(function(){Dl._process(),Dl._after()}),this},$a.prototype._afterSync=function(){var wl=this.strm.avail_out,Sl=this.strm.avail_in;return this.write_in_progress=!1,[Sl,wl]},$a.prototype._process=function(){var wl=null;switch(this.mode){case us.DEFLATE:case us.GZIP:case us.DEFLATERAW:this.err=lo.deflate(this.strm,this.flush);break;case us.UNZIP:switch(this.strm.avail_in>0&&(wl=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(wl===null)break;if(this.strm.input[wl]===xa){if(this.gzip_id_bytes_read=1,wl++,this.strm.avail_in===1)break}else{this.mode=us.INFLATE;break}case 1:if(wl===null)break;this.strm.input[wl]===ba?(this.gzip_id_bytes_read=2,this.mode=us.GUNZIP):this.mode=us.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case us.INFLATE:case us.GUNZIP:case us.INFLATERAW:for(this.err=co.inflate(this.strm,this.flush),this.err===us.Z_NEED_DICT&&this.dictionary&&(this.err=co.inflateSetDictionary(this.strm,this.dictionary),this.err===us.Z_OK?this.err=co.inflate(this.strm,this.flush):this.err===us.Z_DATA_ERROR&&(this.err=us.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===us.GUNZIP&&this.err===us.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=co.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},$a.prototype._checkError=function(){switch(this.err){case us.Z_OK:case us.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===us.Z_FINISH)return this._error("unexpected end of file"),!1;break;case us.Z_STREAM_END:break;case us.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},$a.prototype._after=function(){if(this._checkError()){var wl=this.strm.avail_out,Sl=this.strm.avail_in;this.write_in_progress=!1,this.callback(Sl,wl),this.pending_close&&this.close()}},$a.prototype._error=function(wl){this.strm.msg&&(wl=this.strm.msg),this.onerror(wl,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},$a.prototype.init=function(wl,Sl,Cl,_l,Il){is(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),is(wl>=8&&wl<=15,"invalid windowBits"),is(Sl>=-1&&Sl<=9,"invalid compression level"),is(Cl>=1&&Cl<=9,"invalid memlevel"),is(_l===us.Z_FILTERED||_l===us.Z_HUFFMAN_ONLY||_l===us.Z_RLE||_l===us.Z_FIXED||_l===us.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(Sl,wl,Cl,_l,Il),this._setDictionary()},$a.prototype.params=function(){throw new Error("deflateParams Not supported")},$a.prototype.reset=function(){this._reset(),this._setDictionary()},$a.prototype._init=function(wl,Sl,Cl,_l,Il){switch(this.level=wl,this.windowBits=Sl,this.memLevel=Cl,this.strategy=_l,this.flush=us.Z_NO_FLUSH,this.err=us.Z_OK,(this.mode===us.GZIP||this.mode===us.GUNZIP)&&(this.windowBits+=16),this.mode===us.UNZIP&&(this.windowBits+=32),(this.mode===us.DEFLATERAW||this.mode===us.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new cs,this.mode){case us.DEFLATE:case us.GZIP:case us.DEFLATERAW:this.err=lo.deflateInit2(this.strm,this.level,us.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case us.INFLATE:case us.GUNZIP:case us.INFLATERAW:case us.UNZIP:this.err=co.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==us.Z_OK&&this._error("Init error"),this.dictionary=Il,this.write_in_progress=!1,this.init_done=!0},$a.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=us.Z_OK,this.mode){case us.DEFLATE:case us.DEFLATERAW:this.err=lo.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==us.Z_OK&&this._error("Failed to set dictionary")}},$a.prototype._reset=function(){switch(this.err=us.Z_OK,this.mode){case us.DEFLATE:case us.DEFLATERAW:case us.GZIP:this.err=lo.deflateReset(this.strm);break;case us.INFLATE:case us.INFLATERAW:case us.GUNZIP:this.err=co.inflateReset(this.strm);break}this.err!==us.Z_OK&&this._error("Failed to reset stream")},us.Zlib=$a}(binding)),binding}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(us){var is=require$$0$1.Buffer,cs=requireStreamBrowserify().Transform,lo=requireBinding(),co=requireUtil(),hs=requireAssert().ok,uo=require$$0$1.kMaxLength,xa="Cannot create final Buffer. It would be larger than 0x"+uo.toString(16)+" bytes";lo.Z_MIN_WINDOWBITS=8,lo.Z_MAX_WINDOWBITS=15,lo.Z_DEFAULT_WINDOWBITS=15,lo.Z_MIN_CHUNK=64,lo.Z_MAX_CHUNK=1/0,lo.Z_DEFAULT_CHUNK=16*1024,lo.Z_MIN_MEMLEVEL=1,lo.Z_MAX_MEMLEVEL=9,lo.Z_DEFAULT_MEMLEVEL=8,lo.Z_MIN_LEVEL=-1,lo.Z_MAX_LEVEL=9,lo.Z_DEFAULT_LEVEL=lo.Z_DEFAULT_COMPRESSION;for(var ba=Object.keys(lo),$a=0;$a<ba.length;$a++){var wl=ba[$a];wl.match(/^Z/)&&Object.defineProperty(us,wl,{enumerable:!0,value:lo[wl],writable:!1})}for(var Sl={Z_OK:lo.Z_OK,Z_STREAM_END:lo.Z_STREAM_END,Z_NEED_DICT:lo.Z_NEED_DICT,Z_ERRNO:lo.Z_ERRNO,Z_STREAM_ERROR:lo.Z_STREAM_ERROR,Z_DATA_ERROR:lo.Z_DATA_ERROR,Z_MEM_ERROR:lo.Z_MEM_ERROR,Z_BUF_ERROR:lo.Z_BUF_ERROR,Z_VERSION_ERROR:lo.Z_VERSION_ERROR},Cl=Object.keys(Sl),_l=0;_l<Cl.length;_l++){var Il=Cl[_l];Sl[Sl[Il]]=Il}Object.defineProperty(us,"codes",{enumerable:!0,value:Object.freeze(Sl),writable:!1}),us.Deflate=Tl,us.Inflate=Dl,us.Gzip=Bl,us.Gunzip=Ll,us.DeflateRaw=Nl,us.InflateRaw=zl,us.Unzip=$l,us.createDeflate=function(Jl){return new Tl(Jl)},us.createInflate=function(Jl){return new Dl(Jl)},us.createDeflateRaw=function(Jl){return new Nl(Jl)},us.createInflateRaw=function(Jl){return new zl(Jl)},us.createGzip=function(Jl){return new Bl(Jl)},us.createGunzip=function(Jl){return new Ll(Jl)},us.createUnzip=function(Jl){return new $l(Jl)},us.deflate=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new Tl(lu),Jl,ju)},us.deflateSync=function(Jl,lu){return Ml(new Tl(lu),Jl)},us.gzip=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new Bl(lu),Jl,ju)},us.gzipSync=function(Jl,lu){return Ml(new Bl(lu),Jl)},us.deflateRaw=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new Nl(lu),Jl,ju)},us.deflateRawSync=function(Jl,lu){return Ml(new Nl(lu),Jl)},us.unzip=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new $l(lu),Jl,ju)},us.unzipSync=function(Jl,lu){return Ml(new $l(lu),Jl)},us.inflate=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new Dl(lu),Jl,ju)},us.inflateSync=function(Jl,lu){return Ml(new Dl(lu),Jl)},us.gunzip=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new Ll(lu),Jl,ju)},us.gunzipSync=function(Jl,lu){return Ml(new Ll(lu),Jl)},us.inflateRaw=function(Jl,lu,ju){return typeof lu=="function"&&(ju=lu,lu={}),Fl(new zl(lu),Jl,ju)},us.inflateRawSync=function(Jl,lu){return Ml(new zl(lu),Jl)};function Fl(Jl,lu,ju){var zu=[],Wu=0;Jl.on("error",Mu),Jl.on("end",mu),Jl.end(lu),qu();function qu(){for(var uu;(uu=Jl.read())!==null;)zu.push(uu),Wu+=uu.length;Jl.once("readable",qu)}function Mu(uu){Jl.removeListener("end",mu),Jl.removeListener("readable",qu),ju(uu)}function mu(){var uu,cu=null;Wu>=uo?cu=new RangeError(xa):uu=is.concat(zu,Wu),zu=[],Jl.close(),ju(cu,uu)}}function Ml(Jl,lu){if(typeof lu=="string"&&(lu=is.from(lu)),!is.isBuffer(lu))throw new TypeError("Not a string or buffer");var ju=Jl._finishFlushFlag;return Jl._processChunk(lu,ju)}function Tl(Jl){if(!(this instanceof Tl))return new Tl(Jl);Gl.call(this,Jl,lo.DEFLATE)}function Dl(Jl){if(!(this instanceof Dl))return new Dl(Jl);Gl.call(this,Jl,lo.INFLATE)}function Bl(Jl){if(!(this instanceof Bl))return new Bl(Jl);Gl.call(this,Jl,lo.GZIP)}function Ll(Jl){if(!(this instanceof Ll))return new Ll(Jl);Gl.call(this,Jl,lo.GUNZIP)}function Nl(Jl){if(!(this instanceof Nl))return new Nl(Jl);Gl.call(this,Jl,lo.DEFLATERAW)}function zl(Jl){if(!(this instanceof zl))return new zl(Jl);Gl.call(this,Jl,lo.INFLATERAW)}function $l(Jl){if(!(this instanceof $l))return new $l(Jl);Gl.call(this,Jl,lo.UNZIP)}function Vl(Jl){return Jl===lo.Z_NO_FLUSH||Jl===lo.Z_PARTIAL_FLUSH||Jl===lo.Z_SYNC_FLUSH||Jl===lo.Z_FULL_FLUSH||Jl===lo.Z_FINISH||Jl===lo.Z_BLOCK}function Gl(Jl,lu){var ju=this;if(this._opts=Jl=Jl||{},this._chunkSize=Jl.chunkSize||us.Z_DEFAULT_CHUNK,cs.call(this,Jl),Jl.flush&&!Vl(Jl.flush))throw new Error("Invalid flush flag: "+Jl.flush);if(Jl.finishFlush&&!Vl(Jl.finishFlush))throw new Error("Invalid flush flag: "+Jl.finishFlush);if(this._flushFlag=Jl.flush||lo.Z_NO_FLUSH,this._finishFlushFlag=typeof Jl.finishFlush<"u"?Jl.finishFlush:lo.Z_FINISH,Jl.chunkSize&&(Jl.chunkSize<us.Z_MIN_CHUNK||Jl.chunkSize>us.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Jl.chunkSize);if(Jl.windowBits&&(Jl.windowBits<us.Z_MIN_WINDOWBITS||Jl.windowBits>us.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Jl.windowBits);if(Jl.level&&(Jl.level<us.Z_MIN_LEVEL||Jl.level>us.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Jl.level);if(Jl.memLevel&&(Jl.memLevel<us.Z_MIN_MEMLEVEL||Jl.memLevel>us.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Jl.memLevel);if(Jl.strategy&&Jl.strategy!=us.Z_FILTERED&&Jl.strategy!=us.Z_HUFFMAN_ONLY&&Jl.strategy!=us.Z_RLE&&Jl.strategy!=us.Z_FIXED&&Jl.strategy!=us.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Jl.strategy);if(Jl.dictionary&&!is.isBuffer(Jl.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new lo.Zlib(lu);var zu=this;this._hadError=!1,this._handle.onerror=function(Mu,mu){iu(zu),zu._hadError=!0;var uu=new Error(Mu);uu.errno=mu,uu.code=us.codes[mu],zu.emit("error",uu)};var Wu=us.Z_DEFAULT_COMPRESSION;typeof Jl.level=="number"&&(Wu=Jl.level);var qu=us.Z_DEFAULT_STRATEGY;typeof Jl.strategy=="number"&&(qu=Jl.strategy),this._handle.init(Jl.windowBits||us.Z_DEFAULT_WINDOWBITS,Wu,Jl.memLevel||us.Z_DEFAULT_MEMLEVEL,qu,Jl.dictionary),this._buffer=is.allocUnsafe(this._chunkSize),this._offset=0,this._level=Wu,this._strategy=qu,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!ju._handle},configurable:!0,enumerable:!0})}co.inherits(Gl,cs),Gl.prototype.params=function(Jl,lu,ju){if(Jl<us.Z_MIN_LEVEL||Jl>us.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Jl);if(lu!=us.Z_FILTERED&&lu!=us.Z_HUFFMAN_ONLY&&lu!=us.Z_RLE&&lu!=us.Z_FIXED&&lu!=us.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+lu);if(this._level!==Jl||this._strategy!==lu){var zu=this;this.flush(lo.Z_SYNC_FLUSH,function(){hs(zu._handle,"zlib binding closed"),zu._handle.params(Jl,lu),zu._hadError||(zu._level=Jl,zu._strategy=lu,ju&&ju())})}else process$1.nextTick(ju)},Gl.prototype.reset=function(){return hs(this._handle,"zlib binding closed"),this._handle.reset()},Gl.prototype._flush=function(Jl){this._transform(is.alloc(0),"",Jl)},Gl.prototype.flush=function(Jl,lu){var ju=this,zu=this._writableState;(typeof Jl=="function"||Jl===void 0&&!lu)&&(lu=Jl,Jl=lo.Z_FULL_FLUSH),zu.ended?lu&&process$1.nextTick(lu):zu.ending?lu&&this.once("end",lu):zu.needDrain?lu&&this.once("drain",function(){return ju.flush(Jl,lu)}):(this._flushFlag=Jl,this.write(is.alloc(0),"",lu))},Gl.prototype.close=function(Jl){iu(this,Jl),process$1.nextTick(nu,this)};function iu(Jl,lu){lu&&process$1.nextTick(lu),Jl._handle&&(Jl._handle.close(),Jl._handle=null)}function nu(Jl){Jl.emit("close")}Gl.prototype._transform=function(Jl,lu,ju){var zu,Wu=this._writableState,qu=Wu.ending||Wu.ended,Mu=qu&&(!Jl||Wu.length===Jl.length);if(Jl!==null&&!is.isBuffer(Jl))return ju(new Error("invalid input"));if(!this._handle)return ju(new Error("zlib binding closed"));Mu?zu=this._finishFlushFlag:(zu=this._flushFlag,Jl.length>=Wu.length&&(this._flushFlag=this._opts.flush||lo.Z_NO_FLUSH)),this._processChunk(Jl,zu,ju)},Gl.prototype._processChunk=function(Jl,lu,ju){var zu=Jl&&Jl.length,Wu=this._chunkSize-this._offset,qu=0,Mu=this,mu=typeof ju=="function";if(!mu){var uu=[],cu=0,ru;this.on("error",function(Ql){ru=Ql}),hs(this._handle,"zlib binding closed");do var Yl=this._handle.writeSync(lu,Jl,qu,zu,this._buffer,this._offset,Wu);while(!this._hadError&&_c(Yl[0],Yl[1]));if(this._hadError)throw ru;if(cu>=uo)throw iu(this),new RangeError(xa);var Hl=is.concat(uu,cu);return iu(this),Hl}hs(this._handle,"zlib binding closed");var Kl=this._handle.write(lu,Jl,qu,zu,this._buffer,this._offset,Wu);Kl.buffer=Jl,Kl.callback=_c;function _c(Ql,su){if(this&&(this.buffer=null,this.callback=null),!Mu._hadError){var gu=Wu-su;if(hs(gu>=0,"have should not go down"),gu>0){var Cu=Mu._buffer.slice(Mu._offset,Mu._offset+gu);Mu._offset+=gu,mu?Mu.push(Cu):(uu.push(Cu),cu+=Cu.length)}if((su===0||Mu._offset>=Mu._chunkSize)&&(Wu=Mu._chunkSize,Mu._offset=0,Mu._buffer=is.allocUnsafe(Mu._chunkSize)),su===0){if(qu+=zu-Ql,zu=Ql,!mu)return!0;var vu=Mu._handle.write(lu,Jl,qu,zu,Mu._buffer,Mu._offset,Mu._chunkSize);vu.callback=_c,vu.buffer=Jl;return}if(!mu)return!1;ju()}}},co.inherits(Tl,Gl),co.inherits(Dl,Gl),co.inherits(Bl,Gl),co.inherits(Ll,Gl),co.inherits(Nl,Gl),co.inherits(zl,Gl),co.inherits($l,Gl)}(lib)),lib}(function(module,exports){(function(is,cs){module.exports=is.pdfjsLib=cs()})(globalThis,()=>(()=>{var __webpack_modules__=[,(us,is)=>{var Zu;Object.defineProperty(is,"__esModule",{value:!0}),is.VerbosityLevel=is.Util=is.UnknownErrorException=is.UnexpectedResponseException=is.TextRenderingMode=is.RenderingIntentFlag=is.PromiseCapability=is.PermissionFlag=is.PasswordResponses=is.PasswordException=is.PageActionEventType=is.OPS=is.MissingPDFException=is.MAX_IMAGE_SIZE_TO_CACHE=is.LINE_FACTOR=is.LINE_DESCENT_FACTOR=is.InvalidPDFException=is.ImageKind=is.IDENTITY_MATRIX=is.FormatError=is.FeatureTest=is.FONT_IDENTITY_MATRIX=is.DocumentActionEventType=is.CMapCompressionType=is.BaseException=is.BASELINE_FACTOR=is.AnnotationType=is.AnnotationReplyType=is.AnnotationPrefix=is.AnnotationMode=is.AnnotationFlag=is.AnnotationFieldFlag=is.AnnotationEditorType=is.AnnotationEditorPrefix=is.AnnotationEditorParamsType=is.AnnotationBorderStyleType=is.AnnotationActionEventType=is.AbortException=void 0,is.assert=mu,is.bytesToString=vu,is.createValidAbsoluteUrl=cu,is.getModificationDate=mp,is.getUuid=eu,is.getVerbosityLevel=zu,is.info=Wu,is.isArrayBuffer=Lu,is.isArrayEqual=up,is.isNodeJS=void 0,is.normalizeUnicode=Zl,is.objectFromMap=Xu,is.objectSize=_f,is.setVerbosityLevel=ju,is.shadow=ru,is.string32=Fu,is.stringToBytes=fu,is.stringToPDFString=$u,is.stringToUTF8String=np,is.unreachable=Mu,is.utf8StringToString=Eu,is.warn=qu;const cs=typeof process$1=="object"&&process$1+""=="[object process]"&&!process$1.versions.nw&&!(process$1.versions.electron&&process$1.type&&process$1.type!=="browser");is.isNodeJS=cs;const lo=[1,0,0,1,0,0];is.IDENTITY_MATRIX=lo;const co=[.001,0,0,.001,0,0];is.FONT_IDENTITY_MATRIX=co;const hs=1e7;is.MAX_IMAGE_SIZE_TO_CACHE=hs;const uo=1.35;is.LINE_FACTOR=uo;const xa=.35;is.LINE_DESCENT_FACTOR=xa;const ba=xa/uo;is.BASELINE_FACTOR=ba;const $a={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};is.RenderingIntentFlag=$a;const wl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};is.AnnotationMode=wl;const Sl="pdfjs_internal_editor_";is.AnnotationEditorPrefix=Sl;const Cl={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};is.AnnotationEditorType=Cl;const _l={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};is.AnnotationEditorParamsType=_l;const Il={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};is.PermissionFlag=Il;const Fl={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};is.TextRenderingMode=Fl;const Ml={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};is.ImageKind=Ml;const Tl={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};is.AnnotationType=Tl;const Dl={GROUP:"Group",REPLY:"R"};is.AnnotationReplyType=Dl;const Bl={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};is.AnnotationFlag=Bl;const Ll={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};is.AnnotationFieldFlag=Ll;const Nl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};is.AnnotationBorderStyleType=Nl;const zl={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};is.AnnotationActionEventType=zl;const $l={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};is.DocumentActionEventType=$l;const Vl={O:"PageOpen",C:"PageClose"};is.PageActionEventType=Vl;const Gl={ERRORS:0,WARNINGS:1,INFOS:5};is.VerbosityLevel=Gl;const iu={NONE:0,BINARY:1};is.CMapCompressionType=iu;const nu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};is.OPS=nu;const Jl={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};is.PasswordResponses=Jl;let lu=Gl.WARNINGS;function ju(Vu){Number.isInteger(Vu)&&(lu=Vu)}function zu(){return lu}function Wu(Vu){lu>=Gl.INFOS&&console.log(`Info: ${Vu}`)}function qu(Vu){lu>=Gl.WARNINGS&&console.log(`Warning: ${Vu}`)}function Mu(Vu){throw new Error(Vu)}function mu(Vu,yu){Vu||Mu(yu)}function uu(Vu){switch(Vu==null?void 0:Vu.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cu(Vu,yu=null,Hu=null){if(!Vu)return null;try{if(Hu&&typeof Vu=="string"){if(Hu.addDefaultProtocol&&Vu.startsWith("www.")){const Np=Vu.match(/\./g);(Np==null?void 0:Np.length)>=2&&(Vu=`http://${Vu}`)}if(Hu.tryConvertEncoding)try{Vu=np(Vu)}catch{}}const Sp=yu?new URL(Vu,yu):new URL(Vu);if(uu(Sp))return Sp}catch{}return null}function ru(Vu,yu,Hu,Sp=!1){return Object.defineProperty(Vu,yu,{value:Hu,enumerable:!Sp,configurable:!0,writable:!1}),Hu}const Yl=function(){function yu(Hu,Sp){this.constructor===yu&&Mu("Cannot initialize BaseException."),this.message=Hu,this.name=Sp}return yu.prototype=new Error,yu.constructor=yu,yu}();is.BaseException=Yl;class Hl extends Yl{constructor(yu,Hu){super(yu,"PasswordException"),this.code=Hu}}is.PasswordException=Hl;class Kl extends Yl{constructor(yu,Hu){super(yu,"UnknownErrorException"),this.details=Hu}}is.UnknownErrorException=Kl;class _c extends Yl{constructor(yu){super(yu,"InvalidPDFException")}}is.InvalidPDFException=_c;class Ql extends Yl{constructor(yu){super(yu,"MissingPDFException")}}is.MissingPDFException=Ql;class su extends Yl{constructor(yu,Hu){super(yu,"UnexpectedResponseException"),this.status=Hu}}is.UnexpectedResponseException=su;class gu extends Yl{constructor(yu){super(yu,"FormatError")}}is.FormatError=gu;class Cu extends Yl{constructor(yu){super(yu,"AbortException")}}is.AbortException=Cu;function vu(Vu){(typeof Vu!="object"||(Vu==null?void 0:Vu.length)===void 0)&&Mu("Invalid argument for bytesToString");const yu=Vu.length,Hu=8192;if(yu<Hu)return String.fromCharCode.apply(null,Vu);const Sp=[];for(let Np=0;Np<yu;Np+=Hu){const Lp=Math.min(Np+Hu,yu),Ku=Vu.subarray(Np,Lp);Sp.push(String.fromCharCode.apply(null,Ku))}return Sp.join("")}function fu(Vu){typeof Vu!="string"&&Mu("Invalid argument for stringToBytes");const yu=Vu.length,Hu=new Uint8Array(yu);for(let Sp=0;Sp<yu;++Sp)Hu[Sp]=Vu.charCodeAt(Sp)&255;return Hu}function Fu(Vu){return String.fromCharCode(Vu>>24&255,Vu>>16&255,Vu>>8&255,Vu&255)}function _f(Vu){return Object.keys(Vu).length}function Xu(Vu){const yu=Object.create(null);for(const[Hu,Sp]of Vu)yu[Hu]=Sp;return yu}function Gu(){const Vu=new Uint8Array(4);return Vu[0]=1,new Uint32Array(Vu.buffer,0,1)[0]===1}function Uu(){try{return new Function(""),!0}catch{return!1}}class Au{static get isLittleEndian(){return ru(this,"isLittleEndian",Gu())}static get isEvalSupported(){return ru(this,"isEvalSupported",Uu())}static get isOffscreenCanvasSupported(){return ru(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ru(this,"platform",{isWin:!1,isMac:!1}):ru(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var yu,Hu;return ru(this,"isCSSRoundSupported",(Hu=(yu=globalThis.CSS)==null?void 0:yu.supports)==null?void 0:Hu.call(yu,"width: round(1.5px, 1px)"))}}is.FeatureTest=Au;const Pu=[...Array(256).keys()].map(Vu=>Vu.toString(16).padStart(2,"0"));class Ou{static makeHexColor(yu,Hu,Sp){return`#${Pu[yu]}${Pu[Hu]}${Pu[Sp]}`}static scaleMinMax(yu,Hu){let Sp;yu[0]?(yu[0]<0&&(Sp=Hu[0],Hu[0]=Hu[1],Hu[1]=Sp),Hu[0]*=yu[0],Hu[1]*=yu[0],yu[3]<0&&(Sp=Hu[2],Hu[2]=Hu[3],Hu[3]=Sp),Hu[2]*=yu[3],Hu[3]*=yu[3]):(Sp=Hu[0],Hu[0]=Hu[2],Hu[2]=Sp,Sp=Hu[1],Hu[1]=Hu[3],Hu[3]=Sp,yu[1]<0&&(Sp=Hu[2],Hu[2]=Hu[3],Hu[3]=Sp),Hu[2]*=yu[1],Hu[3]*=yu[1],yu[2]<0&&(Sp=Hu[0],Hu[0]=Hu[1],Hu[1]=Sp),Hu[0]*=yu[2],Hu[1]*=yu[2]),Hu[0]+=yu[4],Hu[1]+=yu[4],Hu[2]+=yu[5],Hu[3]+=yu[5]}static transform(yu,Hu){return[yu[0]*Hu[0]+yu[2]*Hu[1],yu[1]*Hu[0]+yu[3]*Hu[1],yu[0]*Hu[2]+yu[2]*Hu[3],yu[1]*Hu[2]+yu[3]*Hu[3],yu[0]*Hu[4]+yu[2]*Hu[5]+yu[4],yu[1]*Hu[4]+yu[3]*Hu[5]+yu[5]]}static applyTransform(yu,Hu){const Sp=yu[0]*Hu[0]+yu[1]*Hu[2]+Hu[4],Np=yu[0]*Hu[1]+yu[1]*Hu[3]+Hu[5];return[Sp,Np]}static applyInverseTransform(yu,Hu){const Sp=Hu[0]*Hu[3]-Hu[1]*Hu[2],Np=(yu[0]*Hu[3]-yu[1]*Hu[2]+Hu[2]*Hu[5]-Hu[4]*Hu[3])/Sp,Lp=(-yu[0]*Hu[1]+yu[1]*Hu[0]+Hu[4]*Hu[1]-Hu[5]*Hu[0])/Sp;return[Np,Lp]}static getAxialAlignedBoundingBox(yu,Hu){const Sp=this.applyTransform(yu,Hu),Np=this.applyTransform(yu.slice(2,4),Hu),Lp=this.applyTransform([yu[0],yu[3]],Hu),Ku=this.applyTransform([yu[2],yu[1]],Hu);return[Math.min(Sp[0],Np[0],Lp[0],Ku[0]),Math.min(Sp[1],Np[1],Lp[1],Ku[1]),Math.max(Sp[0],Np[0],Lp[0],Ku[0]),Math.max(Sp[1],Np[1],Lp[1],Ku[1])]}static inverseTransform(yu){const Hu=yu[0]*yu[3]-yu[1]*yu[2];return[yu[3]/Hu,-yu[1]/Hu,-yu[2]/Hu,yu[0]/Hu,(yu[2]*yu[5]-yu[4]*yu[3])/Hu,(yu[4]*yu[1]-yu[5]*yu[0])/Hu]}static singularValueDecompose2dScale(yu){const Hu=[yu[0],yu[2],yu[1],yu[3]],Sp=yu[0]*Hu[0]+yu[1]*Hu[2],Np=yu[0]*Hu[1]+yu[1]*Hu[3],Lp=yu[2]*Hu[0]+yu[3]*Hu[2],Ku=yu[2]*Hu[1]+yu[3]*Hu[3],wp=(Sp+Ku)/2,Bp=Math.sqrt((Sp+Ku)**2-4*(Sp*Ku-Lp*Np))/2,Pp=wp+Bp||1,n0=wp-Bp||1;return[Math.sqrt(Pp),Math.sqrt(n0)]}static normalizeRect(yu){const Hu=yu.slice(0);return yu[0]>yu[2]&&(Hu[0]=yu[2],Hu[2]=yu[0]),yu[1]>yu[3]&&(Hu[1]=yu[3],Hu[3]=yu[1]),Hu}static intersect(yu,Hu){const Sp=Math.max(Math.min(yu[0],yu[2]),Math.min(Hu[0],Hu[2])),Np=Math.min(Math.max(yu[0],yu[2]),Math.max(Hu[0],Hu[2]));if(Sp>Np)return null;const Lp=Math.max(Math.min(yu[1],yu[3]),Math.min(Hu[1],Hu[3])),Ku=Math.min(Math.max(yu[1],yu[3]),Math.max(Hu[1],Hu[3]));return Lp>Ku?null:[Sp,Lp,Np,Ku]}static bezierBoundingBox(yu,Hu,Sp,Np,Lp,Ku,wp,Bp){const Pp=[],n0=[[],[]];let Jp,Ju,_d,hp,xp,Ru,sp,lp;for(let d0=0;d0<2;++d0){if(d0===0?(Ju=6*yu-12*Sp+6*Lp,Jp=-3*yu+9*Sp-9*Lp+3*wp,_d=3*Sp-3*yu):(Ju=6*Hu-12*Np+6*Ku,Jp=-3*Hu+9*Np-9*Ku+3*Bp,_d=3*Np-3*Hu),Math.abs(Jp)<1e-12){if(Math.abs(Ju)<1e-12)continue;hp=-_d/Ju,0<hp&&hp<1&&Pp.push(hp);continue}sp=Ju*Ju-4*_d*Jp,lp=Math.sqrt(sp),!(sp<0)&&(xp=(-Ju+lp)/(2*Jp),0<xp&&xp<1&&Pp.push(xp),Ru=(-Ju-lp)/(2*Jp),0<Ru&&Ru<1&&Pp.push(Ru))}let Ip=Pp.length,_p;const Mp=Ip;for(;Ip--;)hp=Pp[Ip],_p=1-hp,n0[0][Ip]=_p*_p*_p*yu+3*_p*_p*hp*Sp+3*_p*hp*hp*Lp+hp*hp*hp*wp,n0[1][Ip]=_p*_p*_p*Hu+3*_p*_p*hp*Np+3*_p*hp*hp*Ku+hp*hp*hp*Bp;return n0[0][Mp]=yu,n0[1][Mp]=Hu,n0[0][Mp+1]=wp,n0[1][Mp+1]=Bp,n0[0].length=n0[1].length=Mp+2,[Math.min(...n0[0]),Math.min(...n0[1]),Math.max(...n0[0]),Math.max(...n0[1])]}}is.Util=Ou;const ip=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function $u(Vu){if(Vu[0]>=""){let Hu;if(Vu[0]===""&&Vu[1]===""?Hu="utf-16be":Vu[0]===""&&Vu[1]===""?Hu="utf-16le":Vu[0]===""&&Vu[1]===""&&Vu[2]===""&&(Hu="utf-8"),Hu)try{const Sp=new TextDecoder(Hu,{fatal:!0}),Np=fu(Vu);return Sp.decode(Np)}catch(Sp){qu(`stringToPDFString: "${Sp}".`)}}const yu=[];for(let Hu=0,Sp=Vu.length;Hu<Sp;Hu++){const Np=ip[Vu.charCodeAt(Hu)];yu.push(Np?String.fromCharCode(Np):Vu.charAt(Hu))}return yu.join("")}function np(Vu){return decodeURIComponent(escape(Vu))}function Eu(Vu){return unescape(encodeURIComponent(Vu))}function Lu(Vu){return typeof Vu=="object"&&(Vu==null?void 0:Vu.byteLength)!==void 0}function up(Vu,yu){if(Vu.length!==yu.length)return!1;for(let Hu=0,Sp=Vu.length;Hu<Sp;Hu++)if(Vu[Hu]!==yu[Hu])return!1;return!0}function mp(Vu=new Date){return[Vu.getUTCFullYear().toString(),(Vu.getUTCMonth()+1).toString().padStart(2,"0"),Vu.getUTCDate().toString().padStart(2,"0"),Vu.getUTCHours().toString().padStart(2,"0"),Vu.getUTCMinutes().toString().padStart(2,"0"),Vu.getUTCSeconds().toString().padStart(2,"0")].join("")}class Rp{constructor(){Op(this,Zu,!1);this.promise=new Promise((yu,Hu)=>{this.resolve=Sp=>{Fp(this,Zu,!0),yu(Sp)},this.reject=Sp=>{Fp(this,Zu,!0),Hu(Sp)}})}get settled(){return pu(this,Zu)}}Zu=new WeakMap,is.PromiseCapability=Rp;let kp=null,hu=null;function Zl(Vu){return kp||(kp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,hu=new Map([["","t"]])),Vu.replaceAll(kp,(yu,Hu,Sp)=>Hu?Hu.normalize("NFKC"):hu.get(Sp))}function eu(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Vu=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Vu);else for(let yu=0;yu<32;yu++)Vu[yu]=Math.floor(Math.random()*255);return vu(Vu)}const Nu="pdfjs_internal_id_";is.AnnotationPrefix=Nu},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var us,cs,lo,co,Vx,Q2,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,ew,Tl,Dl,eE,Ll,Nl;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument($l){if(typeof $l=="string"||$l instanceof URL?$l={url:$l}:(0,_util.isArrayBuffer)($l)&&($l={data:$l}),typeof $l!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!$l.url&&!$l.data&&!$l.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Vl=new PDFDocumentLoadingTask,{docId:Gl}=Vl,iu=$l.url?getUrlProp($l.url):null,nu=$l.data?getDataProp($l.data):null,Jl=$l.httpHeaders||null,lu=$l.withCredentials===!0,ju=$l.password??null,zu=$l.range instanceof PDFDataRangeTransport?$l.range:null,Wu=Number.isInteger($l.rangeChunkSize)&&$l.rangeChunkSize>0?$l.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let qu=$l.worker instanceof PDFWorker?$l.worker:null;const Mu=$l.verbosity,mu=typeof $l.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)($l.docBaseUrl)?$l.docBaseUrl:null,uu=typeof $l.cMapUrl=="string"?$l.cMapUrl:null,cu=$l.cMapPacked!==!1,ru=$l.CMapReaderFactory||DefaultCMapReaderFactory,Yl=typeof $l.standardFontDataUrl=="string"?$l.standardFontDataUrl:null,Hl=$l.StandardFontDataFactory||DefaultStandardFontDataFactory,Kl=$l.stopAtErrors!==!0,_c=Number.isInteger($l.maxImageSize)&&$l.maxImageSize>-1?$l.maxImageSize:-1,Ql=$l.isEvalSupported!==!1,su=typeof $l.isOffscreenCanvasSupported=="boolean"?$l.isOffscreenCanvasSupported:!_util.isNodeJS,gu=Number.isInteger($l.canvasMaxAreaInBytes)?$l.canvasMaxAreaInBytes:-1,Cu=typeof $l.disableFontFace=="boolean"?$l.disableFontFace:_util.isNodeJS,vu=$l.fontExtraProperties===!0,fu=$l.enableXfa===!0,Fu=$l.ownerDocument||globalThis.document,_f=$l.disableRange===!0,Xu=$l.disableStream===!0,Gu=$l.disableAutoFetch===!0,Uu=$l.pdfBug===!0,Au=zu?zu.length:$l.length??NaN,Pu=typeof $l.useSystemFonts=="boolean"?$l.useSystemFonts:!_util.isNodeJS&&!Cu,Ou=typeof $l.useWorkerFetch=="boolean"?$l.useWorkerFetch:ru===_display_utils.DOMCMapReaderFactory&&Hl===_display_utils.DOMStandardFontDataFactory&&uu&&Yl&&(0,_display_utils.isValidFetchUrl)(uu,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Yl,document.baseURI),ip=$l.canvasFactory||new DefaultCanvasFactory({ownerDocument:Fu}),$u=$l.filterFactory||new DefaultFilterFactory({docId:Gl,ownerDocument:Fu}),np=null;(0,_util.setVerbosityLevel)(Mu);const Eu={canvasFactory:ip,filterFactory:$u};if(Ou||(Eu.cMapReaderFactory=new ru({baseUrl:uu,isCompressed:cu}),Eu.standardFontDataFactory=new Hl({baseUrl:Yl})),!qu){const mp={verbosity:Mu,port:_worker_options.GlobalWorkerOptions.workerPort};qu=mp.port?PDFWorker.fromPort(mp):new PDFWorker(mp),Vl._worker=qu}const Lu={docId:Gl,apiVersion:"3.11.174",data:nu,password:ju,disableAutoFetch:Gu,rangeChunkSize:Wu,length:Au,docBaseUrl:mu,enableXfa:fu,evaluatorOptions:{maxImageSize:_c,disableFontFace:Cu,ignoreErrors:Kl,isEvalSupported:Ql,isOffscreenCanvasSupported:su,canvasMaxAreaInBytes:gu,fontExtraProperties:vu,useSystemFonts:Pu,cMapUrl:Ou?uu:null,standardFontDataUrl:Ou?Yl:null}},up={ignoreErrors:Kl,isEvalSupported:Ql,disableFontFace:Cu,fontExtraProperties:vu,enableXfa:fu,ownerDocument:Fu,disableAutoFetch:Gu,pdfBug:Uu,styleElement:np};return qu.promise.then(function(){if(Vl.destroyed)throw new Error("Loading aborted");const mp=_fetchDocument(qu,Lu),Rp=new Promise(function(kp){let hu;zu?hu=new _transport_stream.PDFDataTransportStream({length:Au,initialData:zu.initialData,progressiveDone:zu.progressiveDone,contentDispositionFilename:zu.contentDispositionFilename,disableRange:_f,disableStream:Xu},zu):nu||(hu=(eu=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(eu):(0,_display_utils.isValidFetchUrl)(eu.url)?new _displayFetch_stream.PDFFetchStream(eu):new _displayNetwork.PDFNetworkStream(eu))({url:iu,length:Au,httpHeaders:Jl,withCredentials:lu,rangeChunkSize:Wu,disableRange:_f,disableStream:Xu})),kp(hu)});return Promise.all([mp,Rp]).then(function([kp,hu]){if(Vl.destroyed)throw new Error("Loading aborted");const Zl=new _message_handler.MessageHandler(Gl,kp,qu.port),eu=new WorkerTransport(Zl,Vl,hu,up,Eu);Vl._transport=eu,Zl.send("Ready",null)})}).catch(Vl._capability.reject),Vl}async function _fetchDocument($l,Vl){if($l.destroyed)throw new Error("Worker was destroyed");const Gl=await $l.messageHandler.sendWithPromise("GetDocRequest",Vl,Vl.data?[Vl.data.buffer]:null);if($l.destroyed)throw new Error("Worker was destroyed");return Gl}function getUrlProp($l){if($l instanceof URL)return $l.href;try{return new URL($l,window.location).href}catch{if(_util.isNodeJS&&typeof $l=="string")return $l}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp($l){if(_util.isNodeJS&&typeof Buffer<"u"&&$l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if($l instanceof Uint8Array&&$l.byteLength===$l.buffer.byteLength)return $l;if(typeof $l=="string")return(0,_util.stringToBytes)($l);if(typeof $l=="object"&&!isNaN($l==null?void 0:$l.length)||(0,_util.isArrayBuffer)($l))return new Uint8Array($l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const is=class is{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${v2(is,us)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Vl,Gl,iu;this.destroyed=!0;try{(Vl=this._worker)!=null&&Vl.port&&(this._worker._pendingDestroy=!0),await((Gl=this._transport)==null?void 0:Gl.destroy())}catch(nu){throw(iu=this._worker)!=null&&iu.port&&delete this._worker._pendingDestroy,nu}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};us=new WeakMap,Op(is,us,0);let PDFDocumentLoadingTask=is;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Vl,Gl,iu=!1,nu=null){this.length=Vl,this.initialData=Gl,this.progressiveDone=iu,this.contentDispositionFilename=nu,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Vl){this._rangeListeners.push(Vl)}addProgressListener(Vl){this._progressListeners.push(Vl)}addProgressiveReadListener(Vl){this._progressiveReadListeners.push(Vl)}addProgressiveDoneListener(Vl){this._progressiveDoneListeners.push(Vl)}onDataRange(Vl,Gl){for(const iu of this._rangeListeners)iu(Vl,Gl)}onDataProgress(Vl,Gl){this._readyCapability.promise.then(()=>{for(const iu of this._progressListeners)iu(Vl,Gl)})}onDataProgressiveRead(Vl){this._readyCapability.promise.then(()=>{for(const Gl of this._progressiveReadListeners)Gl(Vl)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Vl of this._progressiveDoneListeners)Vl()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Vl,Gl){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Vl,Gl){this._pdfInfo=Vl,this._transport=Gl,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(iu=>{if(!iu)return iu;const nu=[];for(const Jl in iu)nu.push(...iu[Jl]);return nu}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Vl){return this._transport.getPage(Vl)}getPageIndex(Vl){return this._transport.getPageIndex(Vl)}getDestinations(){return this._transport.getDestinations()}getDestination(Vl){return this._transport.getDestination(Vl)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Vl=!1){return this._transport.startCleanup(Vl||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Vl,Gl,iu,nu=!1){Op(this,co);Op(this,cs,null);Op(this,lo,!1);this._pageIndex=Vl,this._pageInfo=Gl,this._transport=iu,this._stats=nu?new _display_utils.StatTimer:null,this._pdfBug=nu,this.commonObjs=iu.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Vl,rotation:Gl=this.rotate,offsetX:iu=0,offsetY:nu=0,dontFlip:Jl=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Vl,rotation:Gl,offsetX:iu,offsetY:nu,dontFlip:Jl})}getAnnotations({intent:Vl="display"}={}){const Gl=this._transport.getRenderingIntent(Vl);return this._transport.getAnnotations(this._pageIndex,Gl.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Vl;return((Vl=this._transport._htmlForXfa)==null?void 0:Vl.children[this._pageIndex])||null}render({canvasContext:Vl,viewport:Gl,intent:iu="display",annotationMode:nu=_util.AnnotationMode.ENABLE,transform:Jl=null,background:lu=null,optionalContentConfigPromise:ju=null,annotationCanvasMap:zu=null,pageColors:Wu=null,printAnnotationStorage:qu=null}){var Hl,Kl;(Hl=this._stats)==null||Hl.time("Overall");const Mu=this._transport.getRenderingIntent(iu,nu,qu);Fp(this,lo,!1),Ep(this,co,Q2).call(this),ju||(ju=this._transport.getOptionalContentConfig());let mu=this._intentStates.get(Mu.cacheKey);mu||(mu=Object.create(null),this._intentStates.set(Mu.cacheKey,mu)),mu.streamReaderCancelTimeout&&(clearTimeout(mu.streamReaderCancelTimeout),mu.streamReaderCancelTimeout=null);const uu=!!(Mu.renderingIntent&_util.RenderingIntentFlag.PRINT);mu.displayReadyCapability||(mu.displayReadyCapability=new _util.PromiseCapability,mu.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Kl=this._stats)==null||Kl.time("Page Request"),this._pumpOperatorList(Mu));const cu=_c=>{var Ql,su;mu.renderTasks.delete(ru),(this._maybeCleanupAfterRender||uu)&&Fp(this,lo,!0),Ep(this,co,Vx).call(this,!uu),_c?(ru.capability.reject(_c),this._abortOperatorList({intentState:mu,reason:_c instanceof Error?_c:new Error(_c)})):ru.capability.resolve(),(Ql=this._stats)==null||Ql.timeEnd("Rendering"),(su=this._stats)==null||su.timeEnd("Overall")},ru=new InternalRenderTask({callback:cu,params:{canvasContext:Vl,viewport:Gl,transform:Jl,background:lu},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:zu,operatorList:mu.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!uu,pdfBug:this._pdfBug,pageColors:Wu});(mu.renderTasks||(mu.renderTasks=new Set)).add(ru);const Yl=ru.task;return Promise.all([mu.displayReadyCapability.promise,ju]).then(([_c,Ql])=>{var su;if(this.destroyed){cu();return}(su=this._stats)==null||su.time("Rendering"),ru.initializeGraphics({transparency:_c,optionalContentConfig:Ql}),ru.operatorListChanged()}).catch(cu),Yl}getOperatorList({intent:Vl="display",annotationMode:Gl=_util.AnnotationMode.ENABLE,printAnnotationStorage:iu=null}={}){var zu;function nu(){lu.operatorList.lastChunk&&(lu.opListReadCapability.resolve(lu.operatorList),lu.renderTasks.delete(ju))}const Jl=this._transport.getRenderingIntent(Vl,Gl,iu,!0);let lu=this._intentStates.get(Jl.cacheKey);lu||(lu=Object.create(null),this._intentStates.set(Jl.cacheKey,lu));let ju;return lu.opListReadCapability||(ju=Object.create(null),ju.operatorListChanged=nu,lu.opListReadCapability=new _util.PromiseCapability,(lu.renderTasks||(lu.renderTasks=new Set)).add(ju),lu.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(zu=this._stats)==null||zu.time("Page Request"),this._pumpOperatorList(Jl)),lu.opListReadCapability.promise}streamTextContent({includeMarkedContent:Vl=!1,disableNormalization:Gl=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Vl===!0,disableNormalization:Gl===!0},{highWaterMark:100,size(nu){return nu.items.length}})}getTextContent(Vl={}){if(this._transport._htmlForXfa)return this.getXfa().then(iu=>_xfa_text.XfaText.textContent(iu));const Gl=this.streamTextContent(Vl);return new Promise(function(iu,nu){function Jl(){lu.read().then(function({value:zu,done:Wu}){if(Wu){iu(ju);return}Object.assign(ju.styles,zu.styles),ju.items.push(...zu.items),Jl()},nu)}const lu=Gl.getReader(),ju={items:[],styles:Object.create(null)};Jl()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Vl=[];for(const Gl of this._intentStates.values())if(this._abortOperatorList({intentState:Gl,reason:new Error("Page was destroyed."),force:!0}),!Gl.opListReadCapability)for(const iu of Gl.renderTasks)Vl.push(iu.completed),iu.cancel();return this.objs.clear(),Fp(this,lo,!1),Ep(this,co,Q2).call(this),Promise.all(Vl)}cleanup(Vl=!1){Fp(this,lo,!0);const Gl=Ep(this,co,Vx).call(this,!1);return Vl&&Gl&&this._stats&&(this._stats=new _display_utils.StatTimer),Gl}_startRenderPage(Vl,Gl){var nu,Jl;const iu=this._intentStates.get(Gl);iu&&((nu=this._stats)==null||nu.timeEnd("Page Request"),(Jl=iu.displayReadyCapability)==null||Jl.resolve(Vl))}_renderPageChunk(Vl,Gl){for(let iu=0,nu=Vl.length;iu<nu;iu++)Gl.operatorList.fnArray.push(Vl.fnArray[iu]),Gl.operatorList.argsArray.push(Vl.argsArray[iu]);Gl.operatorList.lastChunk=Vl.lastChunk,Gl.operatorList.separateAnnots=Vl.separateAnnots;for(const iu of Gl.renderTasks)iu.operatorListChanged();Vl.lastChunk&&Ep(this,co,Vx).call(this,!0)}_pumpOperatorList({renderingIntent:Vl,cacheKey:Gl,annotationStorageSerializable:iu}){const{map:nu,transfers:Jl}=iu,ju=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Vl,cacheKey:Gl,annotationStorage:nu},Jl).getReader(),zu=this._intentStates.get(Gl);zu.streamReader=ju;const Wu=()=>{ju.read().then(({value:qu,done:Mu})=>{if(Mu){zu.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(qu,zu),Wu())},qu=>{if(zu.streamReader=null,!this._transport.destroyed){if(zu.operatorList){zu.operatorList.lastChunk=!0;for(const Mu of zu.renderTasks)Mu.operatorListChanged();Ep(this,co,Vx).call(this,!0)}if(zu.displayReadyCapability)zu.displayReadyCapability.reject(qu);else if(zu.opListReadCapability)zu.opListReadCapability.reject(qu);else throw qu}})};Wu()}_abortOperatorList({intentState:Vl,reason:Gl,force:iu=!1}){if(Vl.streamReader){if(Vl.streamReaderCancelTimeout&&(clearTimeout(Vl.streamReaderCancelTimeout),Vl.streamReaderCancelTimeout=null),!iu){if(Vl.renderTasks.size>0)return;if(Gl instanceof _display_utils.RenderingCancelledException){let nu=RENDERING_CANCELLED_TIMEOUT;Gl.extraDelay>0&&Gl.extraDelay<1e3&&(nu+=Gl.extraDelay),Vl.streamReaderCancelTimeout=setTimeout(()=>{Vl.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Vl,reason:Gl,force:!0})},nu);return}}if(Vl.streamReader.cancel(new _util.AbortException(Gl.message)).catch(()=>{}),Vl.streamReader=null,!this._transport.destroyed){for(const[nu,Jl]of this._intentStates)if(Jl===Vl){this._intentStates.delete(nu);break}this.cleanup()}}}get stats(){return this._stats}}cs=new WeakMap,lo=new WeakMap,co=new WeakSet,Vx=function(Vl=!1){if(Ep(this,co,Q2).call(this),!pu(this,lo)||this.destroyed)return!1;if(Vl)return Fp(this,cs,setTimeout(()=>{Fp(this,cs,null),Ep(this,co,Vx).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Gl,operatorList:iu}of this._intentStates.values())if(Gl.size>0||!iu.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Fp(this,lo,!1),!0},Q2=function(){pu(this,cs)&&(clearTimeout(pu(this,cs)),Fp(this,cs,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Op(this,xa,new Set);Op(this,ba,Promise.resolve())}postMessage(Vl,Gl){const iu={data:structuredClone(Vl,Gl?{transfer:Gl}:null)};pu(this,ba).then(()=>{for(const nu of pu(this,xa))nu.call(this,iu)})}addEventListener(Vl,Gl){pu(this,xa).add(Gl)}removeEventListener(Vl,Gl){pu(this,xa).delete(Gl)}terminate(){pu(this,xa).clear()}}xa=new WeakMap,ba=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $l=($a=document==null?void 0:document.currentScript)==null?void 0:$a.src;$l&&(PDFWorkerUtil.fallbackWorkerSrc=$l.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($l,Vl){let Gl;try{if(Gl=new URL($l),!Gl.origin||Gl.origin==="null")return!1}catch{return!1}const iu=new URL(Vl,Gl);return Gl.origin===iu.origin},PDFWorkerUtil.createCDNWrapper=function($l){const Vl=`importScripts("${$l}");`;return URL.createObjectURL(new Blob([Vl]))}}const _PDFWorker=class _PDFWorker{constructor({name:$l=null,port:Vl=null,verbosity:Gl=(0,_util.getVerbosityLevel)()}={}){var iu;if(this.name=$l,this.destroyed=!1,this.verbosity=Gl,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Vl){if((iu=pu(_PDFWorker,wl))!=null&&iu.has(Vl))throw new Error("Cannot use more than one PDFWorker per port.");(pu(_PDFWorker,wl)||Fp(_PDFWorker,wl,new WeakMap)).set(Vl,this),this._initializeFromPort(Vl);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($l){this._port=$l,this._messageHandler=new _message_handler.MessageHandler("main","worker",$l),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$l}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$l)||($l=PDFWorkerUtil.createCDNWrapper(new URL($l,window.location).href));const Vl=new Worker($l),Gl=new _message_handler.MessageHandler("main","worker",Vl),iu=()=>{Vl.removeEventListener("error",nu),Gl.destroy(),Vl.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},nu=()=>{this._webWorker||iu()};Vl.addEventListener("error",nu),Gl.on("test",lu=>{if(Vl.removeEventListener("error",nu),this.destroyed){iu();return}lu?(this._messageHandler=Gl,this._port=Vl,this._webWorker=Vl,this._readyCapability.resolve(),Gl.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Gl.destroy(),Vl.terminate())}),Gl.on("ready",lu=>{if(Vl.removeEventListener("error",nu),this.destroyed){iu();return}try{Jl()}catch{this._setupFakeWorker()}});const Jl=()=>{const lu=new Uint8Array;Gl.send("test",lu,[lu.buffer])};Jl();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($l=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Vl=new LoopbackPort;this._port=Vl;const Gl=`fake${PDFWorkerUtil.fakeWorkerId++}`,iu=new _message_handler.MessageHandler(Gl+"_worker",Gl,Vl);$l.setup(iu,Vl);const nu=new _message_handler.MessageHandler(Gl,Gl+"_worker",Vl);this._messageHandler=nu,this._readyCapability.resolve(),nu.send("configure",{verbosity:this.verbosity})}).catch($l=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$l.message}".`))})}destroy(){var $l;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($l=pu(_PDFWorker,wl))==null||$l.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($l){var Gl;if(!($l!=null&&$l.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Vl=(Gl=pu(this,wl))==null?void 0:Gl.get($l.port);if(Vl){if(Vl._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Vl}return new _PDFWorker($l)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $l;try{return(($l=globalThis.pdfjsWorker)==null?void 0:$l.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};wl=new WeakMap,Op(_PDFWorker,wl);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Vl,Gl,iu,nu,Jl){Op(this,Fl);Op(this,Sl,new Map);Op(this,Cl,new Map);Op(this,_l,new Map);Op(this,Il,null);this.messageHandler=Vl,this.loadingTask=Gl,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:nu.ownerDocument,styleElement:nu.styleElement}),this._params=nu,this.canvasFactory=Jl.canvasFactory,this.filterFactory=Jl.filterFactory,this.cMapReaderFactory=Jl.cMapReaderFactory,this.standardFontDataFactory=Jl.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=iu,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Vl,Gl=_util.AnnotationMode.ENABLE,iu=null,nu=!1){let Jl=_util.RenderingIntentFlag.DISPLAY,lu=_annotation_storage.SerializableEmpty;switch(Vl){case"any":Jl=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Jl=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Vl}`)}switch(Gl){case _util.AnnotationMode.DISABLE:Jl+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Jl+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Jl+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,lu=(Jl&_util.RenderingIntentFlag.PRINT&&iu instanceof _annotation_storage.PrintAnnotationStorage?iu:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Gl}`)}return nu&&(Jl+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Jl,cacheKey:`${Jl}_${lu.hash}`,annotationStorageSerializable:lu}}destroy(){var iu;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(iu=pu(this,Il))==null||iu.reject(new Error("Worker was destroyed during onPassword callback"));const Vl=[];for(const nu of pu(this,Cl).values())Vl.push(nu._destroy());pu(this,Cl).clear(),pu(this,_l).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Gl=this.messageHandler.sendWithPromise("Terminate",null);return Vl.push(Gl),Promise.all(Vl).then(()=>{var nu;this.commonObjs.clear(),this.fontLoader.clear(),pu(this,Sl).clear(),this.filterFactory.destroy(),(nu=this._networkStream)==null||nu.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Vl,loadingTask:Gl}=this;Vl.on("GetReader",(iu,nu)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Jl=>{this._lastProgress={loaded:Jl.loaded,total:Jl.total}},nu.onPull=()=>{this._fullReader.read().then(function({value:Jl,done:lu}){if(lu){nu.close();return}(0,_util.assert)(Jl instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),nu.enqueue(new Uint8Array(Jl),1,[Jl])}).catch(Jl=>{nu.error(Jl)})},nu.onCancel=Jl=>{this._fullReader.cancel(Jl),nu.ready.catch(lu=>{if(!this.destroyed)throw lu})}}),Vl.on("ReaderHeadersReady",iu=>{const nu=new _util.PromiseCapability,Jl=this._fullReader;return Jl.headersReady.then(()=>{var lu;(!Jl.isStreamingSupported||!Jl.isRangeSupported)&&(this._lastProgress&&((lu=Gl.onProgress)==null||lu.call(Gl,this._lastProgress)),Jl.onProgress=ju=>{var zu;(zu=Gl.onProgress)==null||zu.call(Gl,{loaded:ju.loaded,total:ju.total})}),nu.resolve({isStreamingSupported:Jl.isStreamingSupported,isRangeSupported:Jl.isRangeSupported,contentLength:Jl.contentLength})},nu.reject),nu.promise}),Vl.on("GetRangeReader",(iu,nu)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Jl=this._networkStream.getRangeReader(iu.begin,iu.end);if(!Jl){nu.close();return}nu.onPull=()=>{Jl.read().then(function({value:lu,done:ju}){if(ju){nu.close();return}(0,_util.assert)(lu instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),nu.enqueue(new Uint8Array(lu),1,[lu])}).catch(lu=>{nu.error(lu)})},nu.onCancel=lu=>{Jl.cancel(lu),nu.ready.catch(ju=>{if(!this.destroyed)throw ju})}}),Vl.on("GetDoc",({pdfInfo:iu})=>{this._numPages=iu.numPages,this._htmlForXfa=iu.htmlForXfa,delete iu.htmlForXfa,Gl._capability.resolve(new PDFDocumentProxy(iu,this))}),Vl.on("DocException",function(iu){let nu;switch(iu.name){case"PasswordException":nu=new _util.PasswordException(iu.message,iu.code);break;case"InvalidPDFException":nu=new _util.InvalidPDFException(iu.message);break;case"MissingPDFException":nu=new _util.MissingPDFException(iu.message);break;case"UnexpectedResponseException":nu=new _util.UnexpectedResponseException(iu.message,iu.status);break;case"UnknownErrorException":nu=new _util.UnknownErrorException(iu.message,iu.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Gl._capability.reject(nu)}),Vl.on("PasswordRequest",iu=>{if(Fp(this,Il,new _util.PromiseCapability),Gl.onPassword){const nu=Jl=>{Jl instanceof Error?pu(this,Il).reject(Jl):pu(this,Il).resolve({password:Jl})};try{Gl.onPassword(nu,iu.code)}catch(Jl){pu(this,Il).reject(Jl)}}else pu(this,Il).reject(new _util.PasswordException(iu.message,iu.code));return pu(this,Il).promise}),Vl.on("DataLoaded",iu=>{var nu;(nu=Gl.onProgress)==null||nu.call(Gl,{loaded:iu.length,total:iu.length}),this.downloadInfoCapability.resolve(iu)}),Vl.on("StartRenderPage",iu=>{if(this.destroyed)return;pu(this,Cl).get(iu.pageIndex)._startRenderPage(iu.transparency,iu.cacheKey)}),Vl.on("commonobj",([iu,nu,Jl])=>{var lu;if(!this.destroyed&&!this.commonObjs.has(iu))switch(nu){case"Font":const ju=this._params;if("error"in Jl){const qu=Jl.error;(0,_util.warn)(`Error during font loading: ${qu}`),this.commonObjs.resolve(iu,qu);break}const zu=ju.pdfBug&&((lu=globalThis.FontInspector)!=null&&lu.enabled)?(qu,Mu)=>globalThis.FontInspector.fontAdded(qu,Mu):null,Wu=new _font_loader.FontFaceObject(Jl,{isEvalSupported:ju.isEvalSupported,disableFontFace:ju.disableFontFace,ignoreErrors:ju.ignoreErrors,inspectFont:zu});this.fontLoader.bind(Wu).catch(qu=>Vl.sendWithPromise("FontFallback",{id:iu})).finally(()=>{!ju.fontExtraProperties&&Wu.data&&(Wu.data=null),this.commonObjs.resolve(iu,Wu)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(iu,Jl);break;default:throw new Error(`Got unknown common object type ${nu}`)}}),Vl.on("obj",([iu,nu,Jl,lu])=>{var zu;if(this.destroyed)return;const ju=pu(this,Cl).get(nu);if(!ju.objs.has(iu))switch(Jl){case"Image":if(ju.objs.resolve(iu,lu),lu){let Wu;if(lu.bitmap){const{width:qu,height:Mu}=lu;Wu=qu*Mu*4}else Wu=((zu=lu.data)==null?void 0:zu.length)||0;Wu>_util.MAX_IMAGE_SIZE_TO_CACHE&&(ju._maybeCleanupAfterRender=!0)}break;case"Pattern":ju.objs.resolve(iu,lu);break;default:throw new Error(`Got unknown object type ${Jl}`)}}),Vl.on("DocProgress",iu=>{var nu;this.destroyed||(nu=Gl.onProgress)==null||nu.call(Gl,{loaded:iu.loaded,total:iu.total})}),Vl.on("FetchBuiltInCMap",iu=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(iu):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Vl.on("FetchStandardFontData",iu=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(iu):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var iu;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Vl,transfers:Gl}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Vl,filename:((iu=this._fullReader)==null?void 0:iu.filename)??null},Gl).finally(()=>{this.annotationStorage.resetModified()})}getPage(Vl){if(!Number.isInteger(Vl)||Vl<=0||Vl>this._numPages)return Promise.reject(new Error("Invalid page request."));const Gl=Vl-1,iu=pu(this,_l).get(Gl);if(iu)return iu;const nu=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Gl}).then(Jl=>{if(this.destroyed)throw new Error("Transport destroyed");const lu=new PDFPageProxy(Gl,Jl,this,this._params.pdfBug);return pu(this,Cl).set(Gl,lu),lu});return pu(this,_l).set(Gl,nu),nu}getPageIndex(Vl){return typeof Vl!="object"||Vl===null||!Number.isInteger(Vl.num)||Vl.num<0||!Number.isInteger(Vl.gen)||Vl.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Vl.num,gen:Vl.gen})}getAnnotations(Vl,Gl){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Vl,intent:Gl})}getFieldObjects(){return Ep(this,Fl,ew).call(this,"GetFieldObjects")}hasJSActions(){return Ep(this,Fl,ew).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Vl){return typeof Vl!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Vl})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ep(this,Fl,ew).call(this,"GetDocJSActions")}getPageJSActions(Vl){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Vl})}getStructTree(Vl){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Vl})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Vl=>new _optional_content_config.OptionalContentConfig(Vl))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Vl="GetMetadata",Gl=pu(this,Sl).get(Vl);if(Gl)return Gl;const iu=this.messageHandler.sendWithPromise(Vl,null).then(nu=>{var Jl,lu;return{info:nu[0],metadata:nu[1]?new _metadata.Metadata(nu[1]):null,contentDispositionFilename:((Jl=this._fullReader)==null?void 0:Jl.filename)??null,contentLength:((lu=this._fullReader)==null?void 0:lu.contentLength)??null}});return pu(this,Sl).set(Vl,iu),iu}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Vl=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Gl of pu(this,Cl).values())if(!Gl.cleanup())throw new Error(`startCleanup: Page ${Gl.pageNumber} is currently rendering.`);this.commonObjs.clear(),Vl||this.fontLoader.clear(),pu(this,Sl).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Vl,enableXfa:Gl}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Vl,enableXfa:Gl})}}Sl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,Fl=new WeakSet,ew=function(Vl,Gl=null){const iu=pu(this,Sl).get(Vl);if(iu)return iu;const nu=this.messageHandler.sendWithPromise(Vl,Gl);return pu(this,Sl).set(Vl,nu),nu};class PDFObjects{constructor(){Op(this,Dl);Op(this,Tl,Object.create(null))}get(Vl,Gl=null){if(Gl){const nu=Ep(this,Dl,eE).call(this,Vl);return nu.capability.promise.then(()=>Gl(nu.data)),null}const iu=pu(this,Tl)[Vl];if(!(iu!=null&&iu.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Vl}.`);return iu.data}has(Vl){const Gl=pu(this,Tl)[Vl];return(Gl==null?void 0:Gl.capability.settled)||!1}resolve(Vl,Gl=null){const iu=Ep(this,Dl,eE).call(this,Vl);iu.data=Gl,iu.capability.resolve()}clear(){var Vl;for(const Gl in pu(this,Tl)){const{data:iu}=pu(this,Tl)[Gl];(Vl=iu==null?void 0:iu.bitmap)==null||Vl.close()}Fp(this,Tl,Object.create(null))}}Tl=new WeakMap,Dl=new WeakSet,eE=function(Vl){var Gl;return(Gl=pu(this,Tl))[Vl]||(Gl[Vl]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Vl){Op(this,Ll,null);Fp(this,Ll,Vl),this.onContinue=null}get promise(){return pu(this,Ll).capability.promise}cancel(Vl=0){pu(this,Ll).cancel(null,Vl)}get separateAnnots(){const{separateAnnots:Vl}=pu(this,Ll).operatorList;if(!Vl)return!1;const{annotationCanvasMap:Gl}=pu(this,Ll);return Vl.form||Vl.canvas&&(Gl==null?void 0:Gl.size)>0}}Ll=new WeakMap,exports.RenderTask=RenderTask;const zl=class zl{constructor({callback:Vl,params:Gl,objs:iu,commonObjs:nu,annotationCanvasMap:Jl,operatorList:lu,pageIndex:ju,canvasFactory:zu,filterFactory:Wu,useRequestAnimationFrame:qu=!1,pdfBug:Mu=!1,pageColors:mu=null}){this.callback=Vl,this.params=Gl,this.objs=iu,this.commonObjs=nu,this.annotationCanvasMap=Jl,this.operatorListIdx=null,this.operatorList=lu,this._pageIndex=ju,this.canvasFactory=zu,this.filterFactory=Wu,this._pdfBug=Mu,this.pageColors=mu,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=qu===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Gl.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Vl=!1,optionalContentConfig:Gl}){var ju,zu;if(this.cancelled)return;if(this._canvas){if(pu(zl,Nl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pu(zl,Nl).add(this._canvas)}this._pdfBug&&((ju=globalThis.StepperManager)!=null&&ju.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:iu,viewport:nu,transform:Jl,background:lu}=this.params;this.gfx=new _canvas.CanvasGraphics(iu,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Gl},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Jl,viewport:nu,transparency:Vl,background:lu}),this.operatorListIdx=0,this.graphicsReady=!0,(zu=this.graphicsReadyCallback)==null||zu.call(this)}cancel(Vl=null,Gl=0){var iu;this.running=!1,this.cancelled=!0,(iu=this.gfx)==null||iu.endDrawing(),pu(zl,Nl).delete(this._canvas),this.callback(Vl||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Gl))}operatorListChanged(){var Vl;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Vl=this.stepper)==null||Vl.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),pu(zl,Nl).delete(this._canvas),this.callback())))}};Nl=new WeakMap,Op(zl,Nl,new WeakSet);let InternalRenderTask=zl;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(us,is,cs)=>{var $a,wl,Sl,o_,_l;Object.defineProperty(is,"__esModule",{value:!0}),is.SerializableEmpty=is.PrintAnnotationStorage=is.AnnotationStorage=void 0;var lo=cs(1),co=cs(4),hs=cs(8);const uo=Object.freeze({map:null,hash:"",transfers:void 0});is.SerializableEmpty=uo;class xa{constructor(){Op(this,Sl);Op(this,$a,!1);Op(this,wl,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Fl,Ml){const Tl=pu(this,wl).get(Fl);return Tl===void 0?Ml:Object.assign(Ml,Tl)}getRawValue(Fl){return pu(this,wl).get(Fl)}remove(Fl){if(pu(this,wl).delete(Fl),pu(this,wl).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Ml of pu(this,wl).values())if(Ml instanceof co.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Fl,Ml){const Tl=pu(this,wl).get(Fl);let Dl=!1;if(Tl!==void 0)for(const[Bl,Ll]of Object.entries(Ml))Tl[Bl]!==Ll&&(Dl=!0,Tl[Bl]=Ll);else Dl=!0,pu(this,wl).set(Fl,Ml);Dl&&Ep(this,Sl,o_).call(this),Ml instanceof co.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ml.constructor._type)}has(Fl){return pu(this,wl).has(Fl)}getAll(){return pu(this,wl).size>0?(0,lo.objectFromMap)(pu(this,wl)):null}setAll(Fl){for(const[Ml,Tl]of Object.entries(Fl))this.setValue(Ml,Tl)}get size(){return pu(this,wl).size}resetModified(){pu(this,$a)&&(Fp(this,$a,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ba(this)}get serializable(){if(pu(this,wl).size===0)return uo;const Fl=new Map,Ml=new hs.MurmurHash3_64,Tl=[],Dl=Object.create(null);let Bl=!1;for(const[Ll,Nl]of pu(this,wl)){const zl=Nl instanceof co.AnnotationEditor?Nl.serialize(!1,Dl):Nl;zl&&(Fl.set(Ll,zl),Ml.update(`${Ll}:${JSON.stringify(zl)}`),Bl||(Bl=!!zl.bitmap))}if(Bl)for(const Ll of Fl.values())Ll.bitmap&&Tl.push(Ll.bitmap);return Fl.size>0?{map:Fl,hash:Ml.hexdigest(),transfers:Tl}:uo}}$a=new WeakMap,wl=new WeakMap,Sl=new WeakSet,o_=function(){pu(this,$a)||(Fp(this,$a,!0),typeof this.onSetModified=="function"&&this.onSetModified())},is.AnnotationStorage=xa;class ba extends xa{constructor(Ml){super();Op(this,_l);const{map:Tl,hash:Dl,transfers:Bl}=Ml.serializable,Ll=structuredClone(Tl,Bl?{transfer:Bl}:null);Fp(this,_l,{map:Ll,hash:Dl,transfers:Bl})}get print(){(0,lo.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return pu(this,_l)}}_l=new WeakMap,is.PrintAnnotationStorage=ba},(us,is,cs)=>{var ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,Nl,zl,tE,rE,Gl,nE,iE,a_,l_,c_,sE,u_;Object.defineProperty(is,"__esModule",{value:!0}),is.AnnotationEditor=void 0;var lo=cs(5),co=cs(1),hs=cs(6);const qu=class qu{constructor(mu){Op(this,zl);Op(this,ba,"");Op(this,$a,!1);Op(this,wl,null);Op(this,Sl,null);Op(this,Cl,null);Op(this,_l,!1);Op(this,Il,null);Op(this,Fl,this.focusin.bind(this));Op(this,Ml,this.focusout.bind(this));Op(this,Tl,!1);Op(this,Dl,!1);Op(this,Bl,!1);r1(this,"_initialOptions",Object.create(null));r1(this,"_uiManager",null);r1(this,"_focusEventsAllowed",!0);r1(this,"_l10nPromise",null);Op(this,Ll,!1);Op(this,Nl,qu._zIndex++);this.constructor===qu&&(0,co.unreachable)("Cannot initialize AnnotationEditor."),this.parent=mu.parent,this.id=mu.id,this.width=this.height=null,this.pageIndex=mu.parent.pageIndex,this.name=mu.name,this.div=null,this._uiManager=mu.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=mu.isCentered,this._structTreeParentId=null;const{rotation:uu,rawDims:{pageWidth:cu,pageHeight:ru,pageX:Yl,pageY:Hl}}=this.parent.viewport;this.rotation=uu,this.pageRotation=(360+uu-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[cu,ru],this.pageTranslation=[Yl,Hl];const[Kl,_c]=this.parentDimensions;this.x=mu.x/Kl,this.y=mu.y/_c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,co.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(mu){const uu=new xa({id:mu.parent.getNextId(),parent:mu.parent,uiManager:mu._uiManager});uu.annotationElementId=mu.annotationElementId,uu.deleted=!0,uu._uiManager.addToAnnotationStorage(uu)}static initialize(mu,uu=null){if(qu._l10nPromise||(qu._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ru=>[ru,mu.get(ru)]))),uu!=null&&uu.strings)for(const ru of uu.strings)qu._l10nPromise.set(ru,mu.get(ru));if(qu._borderLineWidth!==-1)return;const cu=getComputedStyle(document.documentElement);qu._borderLineWidth=parseFloat(cu.getPropertyValue("--outline-width"))||0}static updateDefaultParams(mu,uu){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(mu){return!1}static paste(mu,uu){(0,co.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return pu(this,Ll)}set _isDraggable(mu){var uu;Fp(this,Ll,mu),(uu=this.div)==null||uu.classList.toggle("draggable",mu)}center(){const[mu,uu]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*uu/(mu*2),this.y+=this.width*mu/(uu*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*uu/(mu*2),this.y-=this.width*mu/(uu*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(mu){this._uiManager.addCommands(mu)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=pu(this,Nl)}setParent(mu){mu!==null&&(this.pageIndex=mu.pageIndex,this.pageDimensions=mu.pageDimensions),this.parent=mu}focusin(mu){this._focusEventsAllowed&&(pu(this,Tl)?Fp(this,Tl,!1):this.parent.setSelected(this))}focusout(mu){var cu;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const uu=mu.relatedTarget;uu!=null&&uu.closest(`#${this.id}`)||(mu.preventDefault(),(cu=this.parent)!=null&&cu.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(mu,uu,cu,ru){const[Yl,Hl]=this.parentDimensions;[cu,ru]=this.screenToPageTranslation(cu,ru),this.x=(mu+cu)/Yl,this.y=(uu+ru)/Hl,this.fixAndSetPosition()}translate(mu,uu){Ep(this,zl,tE).call(this,this.parentDimensions,mu,uu)}translateInPage(mu,uu){Ep(this,zl,tE).call(this,this.pageDimensions,mu,uu),this.div.scrollIntoView({block:"nearest"})}drag(mu,uu){const[cu,ru]=this.parentDimensions;if(this.x+=mu/cu,this.y+=uu/ru,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ql,y:su}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ql,su)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Yl,y:Hl}=this;const[Kl,_c]=Ep(this,zl,rE).call(this);Yl+=Kl,Hl+=_c,this.div.style.left=`${(100*Yl).toFixed(2)}%`,this.div.style.top=`${(100*Hl).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[mu,uu]=this.pageDimensions;let{x:cu,y:ru,width:Yl,height:Hl}=this;switch(Yl*=mu,Hl*=uu,cu*=mu,ru*=uu,this.rotation){case 0:cu=Math.max(0,Math.min(mu-Yl,cu)),ru=Math.max(0,Math.min(uu-Hl,ru));break;case 90:cu=Math.max(0,Math.min(mu-Hl,cu)),ru=Math.min(uu,Math.max(Yl,ru));break;case 180:cu=Math.min(mu,Math.max(Yl,cu)),ru=Math.min(uu,Math.max(Hl,ru));break;case 270:cu=Math.min(mu,Math.max(Hl,cu)),ru=Math.max(0,Math.min(uu-Yl,ru));break}this.x=cu/=mu,this.y=ru/=uu;const[Kl,_c]=Ep(this,zl,rE).call(this);cu+=Kl,ru+=_c;const{style:Ql}=this.div;Ql.left=`${(100*cu).toFixed(2)}%`,Ql.top=`${(100*ru).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(mu,uu){var cu;return Ep(cu=qu,Gl,nE).call(cu,mu,uu,this.parentRotation)}pageTranslationToScreen(mu,uu){var cu;return Ep(cu=qu,Gl,nE).call(cu,mu,uu,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:mu,pageDimensions:[uu,cu]}=this,ru=uu*mu,Yl=cu*mu;return co.FeatureTest.isCSSRoundSupported?[Math.round(ru),Math.round(Yl)]:[ru,Yl]}setDims(mu,uu){var Yl;const[cu,ru]=this.parentDimensions;this.div.style.width=`${(100*mu/cu).toFixed(2)}%`,pu(this,_l)||(this.div.style.height=`${(100*uu/ru).toFixed(2)}%`),(Yl=pu(this,wl))==null||Yl.classList.toggle("small",mu<qu.SMALL_EDITOR_SIZE||uu<qu.SMALL_EDITOR_SIZE)}fixDims(){const{style:mu}=this.div,{height:uu,width:cu}=mu,ru=cu.endsWith("%"),Yl=!pu(this,_l)&&uu.endsWith("%");if(ru&&Yl)return;const[Hl,Kl]=this.parentDimensions;ru||(mu.width=`${(100*parseFloat(cu)/Hl).toFixed(2)}%`),!pu(this,_l)&&!Yl&&(mu.height=`${(100*parseFloat(uu)/Kl).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(pu(this,wl))return;const mu=Fp(this,wl,document.createElement("button"));mu.className="altText";const uu=await qu._l10nPromise.get("editor_alt_text_button_label");mu.textContent=uu,mu.setAttribute("aria-label",uu),mu.tabIndex="0",mu.addEventListener("contextmenu",hs.noContextMenu),mu.addEventListener("pointerdown",cu=>cu.stopPropagation()),mu.addEventListener("click",cu=>{cu.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),mu.addEventListener("keydown",cu=>{cu.target===mu&&cu.key==="Enter"&&(cu.preventDefault(),this._uiManager.editAltText(this))}),Ep(this,zl,sE).call(this),this.div.append(mu),qu.SMALL_EDITOR_SIZE||(qu.SMALL_EDITOR_SIZE=Math.min(128,Math.round(mu.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:pu(this,ba),decorative:pu(this,$a)}}set altTextData({altText:mu,decorative:uu}){pu(this,ba)===mu&&pu(this,$a)===uu||(Fp(this,ba,mu),Fp(this,$a,uu),Ep(this,zl,sE).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",pu(this,Fl)),this.div.addEventListener("focusout",pu(this,Ml));const[mu,uu]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*uu/mu).toFixed(2)}%`,this.div.style.maxHeight=`${(100*mu/uu).toFixed(2)}%`);const[cu,ru]=this.getInitialTranslation();return this.translate(cu,ru),(0,lo.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(mu){const{isMac:uu}=co.FeatureTest.platform;if(mu.button!==0||mu.ctrlKey&&uu){mu.preventDefault();return}Fp(this,Tl,!0),Ep(this,zl,u_).call(this,mu)}moveInDOM(){var mu;(mu=this.parent)==null||mu.moveEditorInDOM(this)}_setParentAndPosition(mu,uu,cu){mu.changeParent(this),this.x=uu,this.y=cu,this.fixAndSetPosition()}getRect(mu,uu){const cu=this.parentScale,[ru,Yl]=this.pageDimensions,[Hl,Kl]=this.pageTranslation,_c=mu/cu,Ql=uu/cu,su=this.x*ru,gu=this.y*Yl,Cu=this.width*ru,vu=this.height*Yl;switch(this.rotation){case 0:return[su+_c+Hl,Yl-gu-Ql-vu+Kl,su+_c+Cu+Hl,Yl-gu-Ql+Kl];case 90:return[su+Ql+Hl,Yl-gu+_c+Kl,su+Ql+vu+Hl,Yl-gu+_c+Cu+Kl];case 180:return[su-_c-Cu+Hl,Yl-gu+Ql+Kl,su-_c+Hl,Yl-gu+Ql+vu+Kl];case 270:return[su-Ql-vu+Hl,Yl-gu-_c-Cu+Kl,su-Ql+Hl,Yl-gu-_c+Kl];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(mu,uu){const[cu,ru,Yl,Hl]=mu,Kl=Yl-cu,_c=Hl-ru;switch(this.rotation){case 0:return[cu,uu-Hl,Kl,_c];case 90:return[cu,uu-ru,_c,Kl];case 180:return[Yl,uu-ru,Kl,_c];case 270:return[Yl,uu-Hl,_c,Kl];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Fp(this,Bl,!0)}disableEditMode(){Fp(this,Bl,!1)}isInEditMode(){return pu(this,Bl)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var mu,uu;(mu=this.div)==null||mu.addEventListener("focusin",pu(this,Fl)),(uu=this.div)==null||uu.addEventListener("focusout",pu(this,Ml))}serialize(mu=!1,uu=null){(0,co.unreachable)("An editor must be serializable")}static deserialize(mu,uu,cu){const ru=new this.prototype.constructor({parent:uu,id:uu.getNextId(),uiManager:cu});ru.rotation=mu.rotation;const[Yl,Hl]=ru.pageDimensions,[Kl,_c,Ql,su]=ru.getRectInCurrentCoords(mu.rect,Hl);return ru.x=Kl/Yl,ru.y=_c/Hl,ru.width=Ql/Yl,ru.height=su/Hl,ru}remove(){var mu;this.div.removeEventListener("focusin",pu(this,Fl)),this.div.removeEventListener("focusout",pu(this,Ml)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(mu=pu(this,wl))==null||mu.remove(),Fp(this,wl,null),Fp(this,Sl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ep(this,zl,a_).call(this),pu(this,Il).classList.remove("hidden"))}select(){var mu;this.makeResizable(),(mu=this.div)==null||mu.classList.add("selectedEditor")}unselect(){var mu,uu,cu;(mu=pu(this,Il))==null||mu.classList.add("hidden"),(uu=this.div)==null||uu.classList.remove("selectedEditor"),(cu=this.div)!=null&&cu.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(mu,uu){}disableEditing(){pu(this,wl)&&(pu(this,wl).hidden=!0)}enableEditing(){pu(this,wl)&&(pu(this,wl).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return pu(this,Dl)}set isEditing(mu){Fp(this,Dl,mu),this.parent&&(mu?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(mu,uu){Fp(this,_l,!0);const cu=mu/uu,{style:ru}=this.div;ru.aspectRatio=cu,ru.height="auto"}static get MIN_SIZE(){return 16}};ba=new WeakMap,$a=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Tl=new WeakMap,Dl=new WeakMap,Bl=new WeakMap,Ll=new WeakMap,Nl=new WeakMap,zl=new WeakSet,tE=function([mu,uu],cu,ru){[cu,ru]=this.screenToPageTranslation(cu,ru),this.x+=cu/mu,this.y+=ru/uu,this.fixAndSetPosition()},rE=function(){const[mu,uu]=this.parentDimensions,{_borderLineWidth:cu}=qu,ru=cu/mu,Yl=cu/uu;switch(this.rotation){case 90:return[-ru,Yl];case 180:return[ru,Yl];case 270:return[ru,-Yl];default:return[-ru,-Yl]}},Gl=new WeakSet,nE=function(mu,uu,cu){switch(cu){case 90:return[uu,-mu];case 180:return[-mu,-uu];case 270:return[-uu,mu];default:return[mu,uu]}},iE=function(mu){switch(mu){case 90:{const[uu,cu]=this.pageDimensions;return[0,-uu/cu,cu/uu,0]}case 180:return[-1,0,0,-1];case 270:{const[uu,cu]=this.pageDimensions;return[0,uu/cu,-cu/uu,0]}default:return[1,0,0,1]}},a_=function(){if(pu(this,Il))return;Fp(this,Il,document.createElement("div")),pu(this,Il).classList.add("resizers");const mu=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||mu.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const uu of mu){const cu=document.createElement("div");pu(this,Il).append(cu),cu.classList.add("resizer",uu),cu.addEventListener("pointerdown",Ep(this,zl,l_).bind(this,uu)),cu.addEventListener("contextmenu",hs.noContextMenu)}this.div.prepend(pu(this,Il))},l_=function(mu,uu){uu.preventDefault();const{isMac:cu}=co.FeatureTest.platform;if(uu.button!==0||uu.ctrlKey&&cu)return;const ru=Ep(this,zl,c_).bind(this,mu),Yl=this._isDraggable;this._isDraggable=!1;const Hl={passive:!0,capture:!0};window.addEventListener("pointermove",ru,Hl);const Kl=this.x,_c=this.y,Ql=this.width,su=this.height,gu=this.parent.div.style.cursor,Cu=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(uu.target).cursor;const vu=()=>{this._isDraggable=Yl,window.removeEventListener("pointerup",vu),window.removeEventListener("blur",vu),window.removeEventListener("pointermove",ru,Hl),this.parent.div.style.cursor=gu,this.div.style.cursor=Cu;const fu=this.x,Fu=this.y,_f=this.width,Xu=this.height;fu===Kl&&Fu===_c&&_f===Ql&&Xu===su||this.addCommands({cmd:()=>{this.width=_f,this.height=Xu,this.x=fu,this.y=Fu;const[Gu,Uu]=this.parentDimensions;this.setDims(Gu*_f,Uu*Xu),this.fixAndSetPosition()},undo:()=>{this.width=Ql,this.height=su,this.x=Kl,this.y=_c;const[Gu,Uu]=this.parentDimensions;this.setDims(Gu*Ql,Uu*su),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vu),window.addEventListener("blur",vu)},c_=function(mu,uu){const[cu,ru]=this.parentDimensions,Yl=this.x,Hl=this.y,Kl=this.width,_c=this.height,Ql=qu.MIN_SIZE/cu,su=qu.MIN_SIZE/ru,gu=Zl=>Math.round(Zl*1e4)/1e4,Cu=Ep(this,zl,iE).call(this,this.rotation),vu=(Zl,eu)=>[Cu[0]*Zl+Cu[2]*eu,Cu[1]*Zl+Cu[3]*eu],fu=Ep(this,zl,iE).call(this,360-this.rotation),Fu=(Zl,eu)=>[fu[0]*Zl+fu[2]*eu,fu[1]*Zl+fu[3]*eu];let _f,Xu,Gu=!1,Uu=!1;switch(mu){case"topLeft":Gu=!0,_f=(Zl,eu)=>[0,0],Xu=(Zl,eu)=>[Zl,eu];break;case"topMiddle":_f=(Zl,eu)=>[Zl/2,0],Xu=(Zl,eu)=>[Zl/2,eu];break;case"topRight":Gu=!0,_f=(Zl,eu)=>[Zl,0],Xu=(Zl,eu)=>[0,eu];break;case"middleRight":Uu=!0,_f=(Zl,eu)=>[Zl,eu/2],Xu=(Zl,eu)=>[0,eu/2];break;case"bottomRight":Gu=!0,_f=(Zl,eu)=>[Zl,eu],Xu=(Zl,eu)=>[0,0];break;case"bottomMiddle":_f=(Zl,eu)=>[Zl/2,eu],Xu=(Zl,eu)=>[Zl/2,0];break;case"bottomLeft":Gu=!0,_f=(Zl,eu)=>[0,eu],Xu=(Zl,eu)=>[Zl,0];break;case"middleLeft":Uu=!0,_f=(Zl,eu)=>[0,eu/2],Xu=(Zl,eu)=>[Zl,eu/2];break}const Au=_f(Kl,_c),Pu=Xu(Kl,_c);let Ou=vu(...Pu);const ip=gu(Yl+Ou[0]),$u=gu(Hl+Ou[1]);let np=1,Eu=1,[Lu,up]=this.screenToPageTranslation(uu.movementX,uu.movementY);if([Lu,up]=Fu(Lu/cu,up/ru),Gu){const Zl=Math.hypot(Kl,_c);np=Eu=Math.max(Math.min(Math.hypot(Pu[0]-Au[0]-Lu,Pu[1]-Au[1]-up)/Zl,1/Kl,1/_c),Ql/Kl,su/_c)}else Uu?np=Math.max(Ql,Math.min(1,Math.abs(Pu[0]-Au[0]-Lu)))/Kl:Eu=Math.max(su,Math.min(1,Math.abs(Pu[1]-Au[1]-up)))/_c;const mp=gu(Kl*np),Rp=gu(_c*Eu);Ou=vu(...Xu(mp,Rp));const kp=ip-Ou[0],hu=$u-Ou[1];this.width=mp,this.height=Rp,this.x=kp,this.y=hu,this.setDims(cu*mp,ru*Rp),this.fixAndSetPosition()},sE=async function(){var cu;const mu=pu(this,wl);if(!mu)return;if(!pu(this,ba)&&!pu(this,$a)){mu.classList.remove("done"),(cu=pu(this,Sl))==null||cu.remove();return}qu._l10nPromise.get("editor_alt_text_edit_button_label").then(ru=>{mu.setAttribute("aria-label",ru)});let uu=pu(this,Sl);if(!uu){Fp(this,Sl,uu=document.createElement("span")),uu.className="tooltip",uu.setAttribute("role","tooltip");const ru=uu.id=`alt-text-tooltip-${this.id}`;mu.setAttribute("aria-describedby",ru);const Yl=100;mu.addEventListener("mouseenter",()=>{Fp(this,Cl,setTimeout(()=>{Fp(this,Cl,null),pu(this,Sl).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Yl))}),mu.addEventListener("mouseleave",()=>{var Hl;clearTimeout(pu(this,Cl)),Fp(this,Cl,null),(Hl=pu(this,Sl))==null||Hl.classList.remove("show")})}mu.classList.add("done"),uu.innerText=pu(this,$a)?await qu._l10nPromise.get("editor_alt_text_decorative_tooltip"):pu(this,ba),uu.parentNode||mu.append(uu)},u_=function(mu){if(!this._isDraggable)return;const uu=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let cu,ru;uu&&(cu={passive:!0,capture:!0},ru=Hl=>{const[Kl,_c]=this.screenToPageTranslation(Hl.movementX,Hl.movementY);this._uiManager.dragSelectedEditors(Kl,_c)},window.addEventListener("pointermove",ru,cu));const Yl=()=>{if(window.removeEventListener("pointerup",Yl),window.removeEventListener("blur",Yl),uu&&window.removeEventListener("pointermove",ru,cu),Fp(this,Tl,!1),!this._uiManager.endDragSession()){const{isMac:Hl}=co.FeatureTest.platform;mu.ctrlKey&&!Hl||mu.shiftKey||mu.metaKey&&Hl?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Yl),window.addEventListener("blur",Yl)},Op(qu,Gl),r1(qu,"_borderLineWidth",-1),r1(qu,"_colorManager",new lo.ColorManager),r1(qu,"_zIndex",1),r1(qu,"SMALL_EDITOR_SIZE",0);let uo=qu;is.AnnotationEditor=uo;class xa extends uo{constructor(mu){super(mu),this.annotationElementId=mu.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(us,is,cs)=>{var _l,Il,Fl,Ml,Tl,oE,Ll,Nl,zl,$l,Vl,h_,nu,Jl,lu,ju,zu,Wu,qu,Mu,mu,uu,cu,ru,Yl,Hl,Kl,_c,Ql,su,gu,Cu,vu,fu,Fu,_f,Xu,Gu,Uu,Au,Pu,Ou,ip,$u,np,Eu,Lu,d_,aE,lE,tw,cE,uE,hy,y2,f_,p_,hE,x2,dE;Object.defineProperty(is,"__esModule",{value:!0}),is.KeyboardManager=is.CommandManager=is.ColorManager=is.AnnotationEditorUIManager=void 0,is.bindEvents=hs,is.opacityToHex=uo;var lo=cs(1),co=cs(6);function hs(Lp,Ku,wp){for(const Bp of wp)Ku.addEventListener(Bp,Lp[Bp].bind(Lp))}function uo(Lp){return Math.round(Math.min(255,Math.max(1,255*Lp))).toString(16).padStart(2,"0")}class xa{constructor(){Op(this,_l,0)}getId(){return`${lo.AnnotationEditorPrefix}${v2(this,_l)._++}`}}_l=new WeakMap;const Bl=class Bl{constructor(){Op(this,Tl);Op(this,Il,(0,lo.getUuid)());Op(this,Fl,0);Op(this,Ml,null)}static get _isSVGFittingCanvas(){const Ku='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Bp=new OffscreenCanvas(1,3).getContext("2d"),Pp=new Image;Pp.src=Ku;const n0=Pp.decode().then(()=>(Bp.drawImage(Pp,0,0,1,1,0,0,1,3),new Uint32Array(Bp.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,lo.shadow)(this,"_isSVGFittingCanvas",n0)}async getFromFile(Ku){const{lastModified:wp,name:Bp,size:Pp,type:n0}=Ku;return Ep(this,Tl,oE).call(this,`${wp}_${Bp}_${Pp}_${n0}`,Ku)}async getFromUrl(Ku){return Ep(this,Tl,oE).call(this,Ku,Ku)}async getFromId(Ku){pu(this,Ml)||Fp(this,Ml,new Map);const wp=pu(this,Ml).get(Ku);return wp?wp.bitmap?(wp.refCounter+=1,wp):wp.file?this.getFromFile(wp.file):this.getFromUrl(wp.url):null}getSvgUrl(Ku){const wp=pu(this,Ml).get(Ku);return wp!=null&&wp.isSvg?wp.svgUrl:null}deleteId(Ku){pu(this,Ml)||Fp(this,Ml,new Map);const wp=pu(this,Ml).get(Ku);wp&&(wp.refCounter-=1,wp.refCounter===0&&(wp.bitmap=null))}isValidId(Ku){return Ku.startsWith(`image_${pu(this,Il)}_`)}};Il=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Tl=new WeakSet,oE=async function(Ku,wp){pu(this,Ml)||Fp(this,Ml,new Map);let Bp=pu(this,Ml).get(Ku);if(Bp===null)return null;if(Bp!=null&&Bp.bitmap)return Bp.refCounter+=1,Bp;try{Bp||(Bp={bitmap:null,id:`image_${pu(this,Il)}_${v2(this,Fl)._++}`,refCounter:0,isSvg:!1});let Pp;if(typeof wp=="string"){Bp.url=wp;const n0=await fetch(wp);if(!n0.ok)throw new Error(n0.statusText);Pp=await n0.blob()}else Pp=Bp.file=wp;if(Pp.type==="image/svg+xml"){const n0=Bl._isSVGFittingCanvas,Jp=new FileReader,Ju=new Image,_d=new Promise((hp,xp)=>{Ju.onload=()=>{Bp.bitmap=Ju,Bp.isSvg=!0,hp()},Jp.onload=async()=>{const Ru=Bp.svgUrl=Jp.result;Ju.src=await n0?`${Ru}#svgView(preserveAspectRatio(none))`:Ru},Ju.onerror=Jp.onerror=xp});Jp.readAsDataURL(Pp),await _d}else Bp.bitmap=await createImageBitmap(Pp);Bp.refCounter=1}catch(Pp){console.error(Pp),Bp=null}return pu(this,Ml).set(Ku,Bp),Bp&&pu(this,Ml).set(Bp.id,Bp),Bp};let ba=Bl;class $a{constructor(Ku=128){Op(this,Ll,[]);Op(this,Nl,!1);Op(this,zl);Op(this,$l,-1);Fp(this,zl,Ku)}add({cmd:Ku,undo:wp,mustExec:Bp,type:Pp=NaN,overwriteIfSameType:n0=!1,keepUndo:Jp=!1}){if(Bp&&Ku(),pu(this,Nl))return;const Ju={cmd:Ku,undo:wp,type:Pp};if(pu(this,$l)===-1){pu(this,Ll).length>0&&(pu(this,Ll).length=0),Fp(this,$l,0),pu(this,Ll).push(Ju);return}if(n0&&pu(this,Ll)[pu(this,$l)].type===Pp){Jp&&(Ju.undo=pu(this,Ll)[pu(this,$l)].undo),pu(this,Ll)[pu(this,$l)]=Ju;return}const _d=pu(this,$l)+1;_d===pu(this,zl)?pu(this,Ll).splice(0,1):(Fp(this,$l,_d),_d<pu(this,Ll).length&&pu(this,Ll).splice(_d)),pu(this,Ll).push(Ju)}undo(){pu(this,$l)!==-1&&(Fp(this,Nl,!0),pu(this,Ll)[pu(this,$l)].undo(),Fp(this,Nl,!1),Fp(this,$l,pu(this,$l)-1))}redo(){pu(this,$l)<pu(this,Ll).length-1&&(Fp(this,$l,pu(this,$l)+1),Fp(this,Nl,!0),pu(this,Ll)[pu(this,$l)].cmd(),Fp(this,Nl,!1))}hasSomethingToUndo(){return pu(this,$l)!==-1}hasSomethingToRedo(){return pu(this,$l)<pu(this,Ll).length-1}destroy(){Fp(this,Ll,null)}}Ll=new WeakMap,Nl=new WeakMap,zl=new WeakMap,$l=new WeakMap,is.CommandManager=$a;class wl{constructor(Ku){Op(this,Vl);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:wp}=lo.FeatureTest.platform;for(const[Bp,Pp,n0={}]of Ku)for(const Jp of Bp){const Ju=Jp.startsWith("mac+");wp&&Ju?(this.callbacks.set(Jp.slice(4),{callback:Pp,options:n0}),this.allKeys.add(Jp.split("+").at(-1))):!wp&&!Ju&&(this.callbacks.set(Jp,{callback:Pp,options:n0}),this.allKeys.add(Jp.split("+").at(-1)))}}exec(Ku,wp){if(!this.allKeys.has(wp.key))return;const Bp=this.callbacks.get(Ep(this,Vl,h_).call(this,wp));if(!Bp)return;const{callback:Pp,options:{bubbles:n0=!1,args:Jp=[],checker:Ju=null}}=Bp;Ju&&!Ju(Ku,wp)||(Pp.bind(Ku,...Jp)(),n0||(wp.stopPropagation(),wp.preventDefault()))}}Vl=new WeakSet,h_=function(Ku){Ku.altKey&&this.buffer.push("alt"),Ku.ctrlKey&&this.buffer.push("ctrl"),Ku.metaKey&&this.buffer.push("meta"),Ku.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ku.key);const wp=this.buffer.join("+");return this.buffer.length=0,wp},is.KeyboardManager=wl;const iu=class iu{get _colors(){const Ku=new Map([["CanvasText",null],["Canvas",null]]);return(0,co.getColorValues)(Ku),(0,lo.shadow)(this,"_colors",Ku)}convert(Ku){const wp=(0,co.getRGB)(Ku);if(!window.matchMedia("(forced-colors: active)").matches)return wp;for(const[Bp,Pp]of this._colors)if(Pp.every((n0,Jp)=>n0===wp[Jp]))return iu._colorsMapping.get(Bp);return wp}getHexCode(Ku){const wp=this._colors.get(Ku);return wp?lo.Util.makeHexColor(...wp):Ku}};r1(iu,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Sl=iu;is.ColorManager=Sl;const Np=class Np{constructor(Ku,wp,Bp,Pp,n0,Jp){Op(this,Lu);Op(this,nu,null);Op(this,Jl,new Map);Op(this,lu,new Map);Op(this,ju,null);Op(this,zu,null);Op(this,Wu,new $a);Op(this,qu,0);Op(this,Mu,new Set);Op(this,mu,null);Op(this,uu,null);Op(this,cu,new Set);Op(this,ru,null);Op(this,Yl,new xa);Op(this,Hl,!1);Op(this,Kl,!1);Op(this,_c,null);Op(this,Ql,lo.AnnotationEditorType.NONE);Op(this,su,new Set);Op(this,gu,null);Op(this,Cu,this.blur.bind(this));Op(this,vu,this.focus.bind(this));Op(this,fu,this.copy.bind(this));Op(this,Fu,this.cut.bind(this));Op(this,_f,this.paste.bind(this));Op(this,Xu,this.keydown.bind(this));Op(this,Gu,this.onEditingAction.bind(this));Op(this,Uu,this.onPageChanging.bind(this));Op(this,Au,this.onScaleChanging.bind(this));Op(this,Pu,this.onRotationChanging.bind(this));Op(this,Ou,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Op(this,ip,[0,0]);Op(this,$u,null);Op(this,np,null);Op(this,Eu,null);Fp(this,np,Ku),Fp(this,Eu,wp),Fp(this,ju,Bp),this._eventBus=Pp,this._eventBus._on("editingaction",pu(this,Gu)),this._eventBus._on("pagechanging",pu(this,Uu)),this._eventBus._on("scalechanging",pu(this,Au)),this._eventBus._on("rotationchanging",pu(this,Pu)),Fp(this,zu,n0.annotationStorage),Fp(this,ru,n0.filterFactory),Fp(this,gu,Jp),this.viewParameters={realScale:co.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Ku=Np.prototype,wp=n0=>{const{activeElement:Jp}=document;return Jp&&pu(n0,np).contains(Jp)&&n0.hasSomethingToControl()},Bp=this.TRANSLATE_SMALL,Pp=this.TRANSLATE_BIG;return(0,lo.shadow)(this,"_keyboardManager",new wl([[["ctrl+a","mac+meta+a"],Ku.selectAll],[["ctrl+z","mac+meta+z"],Ku.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Ku.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Ku.delete],[["Escape","mac+Escape"],Ku.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Ku.translateSelectedEditors,{args:[-Bp,0],checker:wp}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ku.translateSelectedEditors,{args:[-Pp,0],checker:wp}],[["ArrowRight","mac+ArrowRight"],Ku.translateSelectedEditors,{args:[Bp,0],checker:wp}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ku.translateSelectedEditors,{args:[Pp,0],checker:wp}],[["ArrowUp","mac+ArrowUp"],Ku.translateSelectedEditors,{args:[0,-Bp],checker:wp}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ku.translateSelectedEditors,{args:[0,-Pp],checker:wp}],[["ArrowDown","mac+ArrowDown"],Ku.translateSelectedEditors,{args:[0,Bp],checker:wp}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ku.translateSelectedEditors,{args:[0,Pp],checker:wp}]]))}destroy(){Ep(this,Lu,tw).call(this),Ep(this,Lu,aE).call(this),this._eventBus._off("editingaction",pu(this,Gu)),this._eventBus._off("pagechanging",pu(this,Uu)),this._eventBus._off("scalechanging",pu(this,Au)),this._eventBus._off("rotationchanging",pu(this,Pu));for(const Ku of pu(this,lu).values())Ku.destroy();pu(this,lu).clear(),pu(this,Jl).clear(),pu(this,cu).clear(),Fp(this,nu,null),pu(this,su).clear(),pu(this,Wu).destroy(),pu(this,ju).destroy()}get hcmFilter(){return(0,lo.shadow)(this,"hcmFilter",pu(this,gu)?pu(this,ru).addHCMFilter(pu(this,gu).foreground,pu(this,gu).background):"none")}get direction(){return(0,lo.shadow)(this,"direction",getComputedStyle(pu(this,np)).direction)}editAltText(Ku){var wp;(wp=pu(this,ju))==null||wp.editAltText(this,Ku)}onPageChanging({pageNumber:Ku}){Fp(this,qu,Ku-1)}focusMainContainer(){pu(this,np).focus()}findParent(Ku,wp){for(const Bp of pu(this,lu).values()){const{x:Pp,y:n0,width:Jp,height:Ju}=Bp.div.getBoundingClientRect();if(Ku>=Pp&&Ku<=Pp+Jp&&wp>=n0&&wp<=n0+Ju)return Bp}return null}disableUserSelect(Ku=!1){pu(this,Eu).classList.toggle("noUserSelect",Ku)}addShouldRescale(Ku){pu(this,cu).add(Ku)}removeShouldRescale(Ku){pu(this,cu).delete(Ku)}onScaleChanging({scale:Ku}){this.commitOrRemove(),this.viewParameters.realScale=Ku*co.PixelsPerInch.PDF_TO_CSS_UNITS;for(const wp of pu(this,cu))wp.onScaleChanging()}onRotationChanging({pagesRotation:Ku}){this.commitOrRemove(),this.viewParameters.rotation=Ku}addToAnnotationStorage(Ku){!Ku.isEmpty()&&pu(this,zu)&&!pu(this,zu).has(Ku.id)&&pu(this,zu).setValue(Ku.id,Ku)}blur(){if(!this.hasSelection)return;const{activeElement:Ku}=document;for(const wp of pu(this,su))if(wp.div.contains(Ku)){Fp(this,_c,[wp,Ku]),wp._focusEventsAllowed=!1;break}}focus(){if(!pu(this,_c))return;const[Ku,wp]=pu(this,_c);Fp(this,_c,null),wp.addEventListener("focusin",()=>{Ku._focusEventsAllowed=!0},{once:!0}),wp.focus()}addEditListeners(){Ep(this,Lu,lE).call(this),Ep(this,Lu,cE).call(this)}removeEditListeners(){Ep(this,Lu,tw).call(this),Ep(this,Lu,uE).call(this)}copy(Ku){var Bp;if(Ku.preventDefault(),(Bp=pu(this,nu))==null||Bp.commitOrRemove(),!this.hasSelection)return;const wp=[];for(const Pp of pu(this,su)){const n0=Pp.serialize(!0);n0&&wp.push(n0)}wp.length!==0&&Ku.clipboardData.setData("application/pdfjs",JSON.stringify(wp))}cut(Ku){this.copy(Ku),this.delete()}paste(Ku){Ku.preventDefault();const{clipboardData:wp}=Ku;for(const n0 of wp.items)for(const Jp of pu(this,uu))if(Jp.isHandlingMimeForPasting(n0.type)){Jp.paste(n0,this.currentLayer);return}let Bp=wp.getData("application/pdfjs");if(!Bp)return;try{Bp=JSON.parse(Bp)}catch(n0){(0,lo.warn)(`paste: "${n0.message}".`);return}if(!Array.isArray(Bp))return;this.unselectAll();const Pp=this.currentLayer;try{const n0=[];for(const _d of Bp){const hp=Pp.deserialize(_d);if(!hp)return;n0.push(hp)}const Jp=()=>{for(const _d of n0)Ep(this,Lu,hE).call(this,_d);Ep(this,Lu,dE).call(this,n0)},Ju=()=>{for(const _d of n0)_d.remove()};this.addCommands({cmd:Jp,undo:Ju,mustExec:!0})}catch(n0){(0,lo.warn)(`paste: "${n0.message}".`)}}keydown(Ku){var wp;(wp=this.getActive())!=null&&wp.shouldGetKeyboardEvents()||Np._keyboardManager.exec(this,Ku)}onEditingAction(Ku){["undo","redo","delete","selectAll"].includes(Ku.name)&&this[Ku.name]()}setEditingState(Ku){Ku?(Ep(this,Lu,d_).call(this),Ep(this,Lu,lE).call(this),Ep(this,Lu,cE).call(this),Ep(this,Lu,hy).call(this,{isEditing:pu(this,Ql)!==lo.AnnotationEditorType.NONE,isEmpty:Ep(this,Lu,x2).call(this),hasSomethingToUndo:pu(this,Wu).hasSomethingToUndo(),hasSomethingToRedo:pu(this,Wu).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ep(this,Lu,aE).call(this),Ep(this,Lu,tw).call(this),Ep(this,Lu,uE).call(this),Ep(this,Lu,hy).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Ku){if(!pu(this,uu)){Fp(this,uu,Ku);for(const wp of pu(this,uu))Ep(this,Lu,y2).call(this,wp.defaultPropertiesToUpdate)}}getId(){return pu(this,Yl).getId()}get currentLayer(){return pu(this,lu).get(pu(this,qu))}getLayer(Ku){return pu(this,lu).get(Ku)}get currentPageIndex(){return pu(this,qu)}addLayer(Ku){pu(this,lu).set(Ku.pageIndex,Ku),pu(this,Hl)?Ku.enable():Ku.disable()}removeLayer(Ku){pu(this,lu).delete(Ku.pageIndex)}updateMode(Ku,wp=null){if(pu(this,Ql)!==Ku){if(Fp(this,Ql,Ku),Ku===lo.AnnotationEditorType.NONE){this.setEditingState(!1),Ep(this,Lu,p_).call(this);return}this.setEditingState(!0),Ep(this,Lu,f_).call(this),this.unselectAll();for(const Bp of pu(this,lu).values())Bp.updateMode(Ku);if(wp){for(const Bp of pu(this,Jl).values())if(Bp.annotationElementId===wp){this.setSelected(Bp),Bp.enterInEditMode();break}}}}updateToolbar(Ku){Ku!==pu(this,Ql)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Ku})}updateParams(Ku,wp){if(pu(this,uu)){if(Ku===lo.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Ku);return}for(const Bp of pu(this,su))Bp.updateParams(Ku,wp);for(const Bp of pu(this,uu))Bp.updateDefaultParams(Ku,wp)}}enableWaiting(Ku=!1){if(pu(this,Kl)!==Ku){Fp(this,Kl,Ku);for(const wp of pu(this,lu).values())Ku?wp.disableClick():wp.enableClick(),wp.div.classList.toggle("waiting",Ku)}}getEditors(Ku){const wp=[];for(const Bp of pu(this,Jl).values())Bp.pageIndex===Ku&&wp.push(Bp);return wp}getEditor(Ku){return pu(this,Jl).get(Ku)}addEditor(Ku){pu(this,Jl).set(Ku.id,Ku)}removeEditor(Ku){var wp;pu(this,Jl).delete(Ku.id),this.unselect(Ku),(!Ku.annotationElementId||!pu(this,Mu).has(Ku.annotationElementId))&&((wp=pu(this,zu))==null||wp.remove(Ku.id))}addDeletedAnnotationElement(Ku){pu(this,Mu).add(Ku.annotationElementId),Ku.deleted=!0}isDeletedAnnotationElement(Ku){return pu(this,Mu).has(Ku)}removeDeletedAnnotationElement(Ku){pu(this,Mu).delete(Ku.annotationElementId),Ku.deleted=!1}setActiveEditor(Ku){pu(this,nu)!==Ku&&(Fp(this,nu,Ku),Ku&&Ep(this,Lu,y2).call(this,Ku.propertiesToUpdate))}toggleSelected(Ku){if(pu(this,su).has(Ku)){pu(this,su).delete(Ku),Ku.unselect(),Ep(this,Lu,hy).call(this,{hasSelectedEditor:this.hasSelection});return}pu(this,su).add(Ku),Ku.select(),Ep(this,Lu,y2).call(this,Ku.propertiesToUpdate),Ep(this,Lu,hy).call(this,{hasSelectedEditor:!0})}setSelected(Ku){for(const wp of pu(this,su))wp!==Ku&&wp.unselect();pu(this,su).clear(),pu(this,su).add(Ku),Ku.select(),Ep(this,Lu,y2).call(this,Ku.propertiesToUpdate),Ep(this,Lu,hy).call(this,{hasSelectedEditor:!0})}isSelected(Ku){return pu(this,su).has(Ku)}unselect(Ku){Ku.unselect(),pu(this,su).delete(Ku),Ep(this,Lu,hy).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return pu(this,su).size!==0}undo(){pu(this,Wu).undo(),Ep(this,Lu,hy).call(this,{hasSomethingToUndo:pu(this,Wu).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ep(this,Lu,x2).call(this)})}redo(){pu(this,Wu).redo(),Ep(this,Lu,hy).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:pu(this,Wu).hasSomethingToRedo(),isEmpty:Ep(this,Lu,x2).call(this)})}addCommands(Ku){pu(this,Wu).add(Ku),Ep(this,Lu,hy).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ep(this,Lu,x2).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ku=[...pu(this,su)],wp=()=>{for(const Pp of Ku)Pp.remove()},Bp=()=>{for(const Pp of Ku)Ep(this,Lu,hE).call(this,Pp)};this.addCommands({cmd:wp,undo:Bp,mustExec:!0})}commitOrRemove(){var Ku;(Ku=pu(this,nu))==null||Ku.commitOrRemove()}hasSomethingToControl(){return pu(this,nu)||this.hasSelection}selectAll(){for(const Ku of pu(this,su))Ku.commit();Ep(this,Lu,dE).call(this,pu(this,Jl).values())}unselectAll(){if(pu(this,nu)){pu(this,nu).commitOrRemove();return}if(this.hasSelection){for(const Ku of pu(this,su))Ku.unselect();pu(this,su).clear(),Ep(this,Lu,hy).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Ku,wp,Bp=!1){if(Bp||this.commitOrRemove(),!this.hasSelection)return;pu(this,ip)[0]+=Ku,pu(this,ip)[1]+=wp;const[Pp,n0]=pu(this,ip),Jp=[...pu(this,su)],Ju=1e3;pu(this,$u)&&clearTimeout(pu(this,$u)),Fp(this,$u,setTimeout(()=>{Fp(this,$u,null),pu(this,ip)[0]=pu(this,ip)[1]=0,this.addCommands({cmd:()=>{for(const _d of Jp)pu(this,Jl).has(_d.id)&&_d.translateInPage(Pp,n0)},undo:()=>{for(const _d of Jp)pu(this,Jl).has(_d.id)&&_d.translateInPage(-Pp,-n0)},mustExec:!1})},Ju));for(const _d of Jp)_d.translateInPage(Ku,wp)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Fp(this,mu,new Map);for(const Ku of pu(this,su))pu(this,mu).set(Ku,{savedX:Ku.x,savedY:Ku.y,savedPageIndex:Ku.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!pu(this,mu))return!1;this.disableUserSelect(!1);const Ku=pu(this,mu);Fp(this,mu,null);let wp=!1;for(const[{x:Pp,y:n0,pageIndex:Jp},Ju]of Ku)Ju.newX=Pp,Ju.newY=n0,Ju.newPageIndex=Jp,wp||(wp=Pp!==Ju.savedX||n0!==Ju.savedY||Jp!==Ju.savedPageIndex);if(!wp)return!1;const Bp=(Pp,n0,Jp,Ju)=>{if(pu(this,Jl).has(Pp.id)){const _d=pu(this,lu).get(Ju);_d?Pp._setParentAndPosition(_d,n0,Jp):(Pp.pageIndex=Ju,Pp.x=n0,Pp.y=Jp)}};return this.addCommands({cmd:()=>{for(const[Pp,{newX:n0,newY:Jp,newPageIndex:Ju}]of Ku)Bp(Pp,n0,Jp,Ju)},undo:()=>{for(const[Pp,{savedX:n0,savedY:Jp,savedPageIndex:Ju}]of Ku)Bp(Pp,n0,Jp,Ju)},mustExec:!0}),!0}dragSelectedEditors(Ku,wp){if(pu(this,mu))for(const Bp of pu(this,mu).keys())Bp.drag(Ku,wp)}rebuild(Ku){if(Ku.parent===null){const wp=this.getLayer(Ku.pageIndex);wp?(wp.changeParent(Ku),wp.addOrRebuild(Ku)):(this.addEditor(Ku),this.addToAnnotationStorage(Ku),Ku.rebuild())}else Ku.parent.addOrRebuild(Ku)}isActive(Ku){return pu(this,nu)===Ku}getActive(){return pu(this,nu)}getMode(){return pu(this,Ql)}get imageManager(){return(0,lo.shadow)(this,"imageManager",new ba)}};nu=new WeakMap,Jl=new WeakMap,lu=new WeakMap,ju=new WeakMap,zu=new WeakMap,Wu=new WeakMap,qu=new WeakMap,Mu=new WeakMap,mu=new WeakMap,uu=new WeakMap,cu=new WeakMap,ru=new WeakMap,Yl=new WeakMap,Hl=new WeakMap,Kl=new WeakMap,_c=new WeakMap,Ql=new WeakMap,su=new WeakMap,gu=new WeakMap,Cu=new WeakMap,vu=new WeakMap,fu=new WeakMap,Fu=new WeakMap,_f=new WeakMap,Xu=new WeakMap,Gu=new WeakMap,Uu=new WeakMap,Au=new WeakMap,Pu=new WeakMap,Ou=new WeakMap,ip=new WeakMap,$u=new WeakMap,np=new WeakMap,Eu=new WeakMap,Lu=new WeakSet,d_=function(){window.addEventListener("focus",pu(this,vu)),window.addEventListener("blur",pu(this,Cu))},aE=function(){window.removeEventListener("focus",pu(this,vu)),window.removeEventListener("blur",pu(this,Cu))},lE=function(){window.addEventListener("keydown",pu(this,Xu),{capture:!0})},tw=function(){window.removeEventListener("keydown",pu(this,Xu),{capture:!0})},cE=function(){document.addEventListener("copy",pu(this,fu)),document.addEventListener("cut",pu(this,Fu)),document.addEventListener("paste",pu(this,_f))},uE=function(){document.removeEventListener("copy",pu(this,fu)),document.removeEventListener("cut",pu(this,Fu)),document.removeEventListener("paste",pu(this,_f))},hy=function(Ku){Object.entries(Ku).some(([Bp,Pp])=>pu(this,Ou)[Bp]!==Pp)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(pu(this,Ou),Ku)})},y2=function(Ku){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ku})},f_=function(){if(!pu(this,Hl)){Fp(this,Hl,!0);for(const Ku of pu(this,lu).values())Ku.enable()}},p_=function(){if(this.unselectAll(),pu(this,Hl)){Fp(this,Hl,!1);for(const Ku of pu(this,lu).values())Ku.disable()}},hE=function(Ku){const wp=pu(this,lu).get(Ku.pageIndex);wp?wp.addOrRebuild(Ku):this.addEditor(Ku)},x2=function(){if(pu(this,Jl).size===0)return!0;if(pu(this,Jl).size===1)for(const Ku of pu(this,Jl).values())return Ku.isEmpty();return!1},dE=function(Ku){pu(this,su).clear();for(const wp of Ku)wp.isEmpty()||(pu(this,su).add(wp),wp.select());Ep(this,Lu,hy).call(this,{hasSelectedEditor:!0})},r1(Np,"TRANSLATE_SMALL",1),r1(Np,"TRANSLATE_BIG",10);let Cl=Np;is.AnnotationEditorUIManager=Cl},(us,is,cs)=>{var qu,Mu,mu,uu,cu,ru,Yl,Hl,Kl,_c,Ql,su,Gx,Kx,fE,rw,nw,b2,w2;Object.defineProperty(is,"__esModule",{value:!0}),is.StatTimer=is.RenderingCancelledException=is.PixelsPerInch=is.PageViewport=is.PDFDateString=is.DOMStandardFontDataFactory=is.DOMSVGFactory=is.DOMFilterFactory=is.DOMCanvasFactory=is.DOMCMapReaderFactory=void 0,is.deprecated=$l,is.getColorValues=Jl,is.getCurrentTransform=lu,is.getCurrentTransformInverse=ju,is.getFilenameFromUrl=Tl,is.getPdfFilenameFromUrl=Dl,is.getRGB=nu,is.getXfaPageViewport=iu,is.isDataScheme=Fl,is.isPdfFile=Ml,is.isValidFetchUrl=Ll,is.loadScript=zl,is.noContextMenu=Nl,is.setLayerDimensions=zu;var lo=cs(7),co=cs(1);const hs="http://www.w3.org/2000/svg",Wu=class Wu{};r1(Wu,"CSS",96),r1(Wu,"PDF",72),r1(Wu,"PDF_TO_CSS_UNITS",Wu.CSS/Wu.PDF);let uo=Wu;is.PixelsPerInch=uo;class xa extends lo.BaseFilterFactory{constructor({docId:Au,ownerDocument:Pu=globalThis.document}={}){super();Op(this,su);Op(this,qu);Op(this,Mu);Op(this,mu);Op(this,uu);Op(this,cu);Op(this,ru);Op(this,Yl);Op(this,Hl);Op(this,Kl);Op(this,_c);Op(this,Ql,0);Fp(this,mu,Au),Fp(this,uu,Pu)}addFilter(Au){if(!Au)return"none";let Pu=pu(this,su,Gx).get(Au);if(Pu)return Pu;let Ou,ip,$u,np;if(Au.length===1){const mp=Au[0],Rp=new Array(256);for(let kp=0;kp<256;kp++)Rp[kp]=mp[kp]/255;np=Ou=ip=$u=Rp.join(",")}else{const[mp,Rp,kp]=Au,hu=new Array(256),Zl=new Array(256),eu=new Array(256);for(let Nu=0;Nu<256;Nu++)hu[Nu]=mp[Nu]/255,Zl[Nu]=Rp[Nu]/255,eu[Nu]=kp[Nu]/255;Ou=hu.join(","),ip=Zl.join(","),$u=eu.join(","),np=`${Ou}${ip}${$u}`}if(Pu=pu(this,su,Gx).get(np),Pu)return pu(this,su,Gx).set(Au,Pu),Pu;const Eu=`g_${pu(this,mu)}_transfer_map_${v2(this,Ql)._++}`,Lu=`url(#${Eu})`;pu(this,su,Gx).set(Au,Lu),pu(this,su,Gx).set(np,Lu);const up=Ep(this,su,rw).call(this,Eu);return Ep(this,su,b2).call(this,Ou,ip,$u,up),Lu}addHCMFilter(Au,Pu){var Rp;const Ou=`${Au}-${Pu}`;if(pu(this,ru)===Ou)return pu(this,Yl);if(Fp(this,ru,Ou),Fp(this,Yl,"none"),(Rp=pu(this,cu))==null||Rp.remove(),!Au||!Pu)return pu(this,Yl);const ip=Ep(this,su,w2).call(this,Au);Au=co.Util.makeHexColor(...ip);const $u=Ep(this,su,w2).call(this,Pu);if(Pu=co.Util.makeHexColor(...$u),pu(this,su,Kx).style.color="",Au==="#000000"&&Pu==="#ffffff"||Au===Pu)return pu(this,Yl);const np=new Array(256);for(let kp=0;kp<=255;kp++){const hu=kp/255;np[kp]=hu<=.03928?hu/12.92:((hu+.055)/1.055)**2.4}const Eu=np.join(","),Lu=`g_${pu(this,mu)}_hcm_filter`,up=Fp(this,Hl,Ep(this,su,rw).call(this,Lu));Ep(this,su,b2).call(this,Eu,Eu,Eu,up),Ep(this,su,fE).call(this,up);const mp=(kp,hu)=>{const Zl=ip[kp]/255,eu=$u[kp]/255,Nu=new Array(hu+1);for(let Zu=0;Zu<=hu;Zu++)Nu[Zu]=Zl+Zu/hu*(eu-Zl);return Nu.join(",")};return Ep(this,su,b2).call(this,mp(0,5),mp(1,5),mp(2,5),up),Fp(this,Yl,`url(#${Lu})`),pu(this,Yl)}addHighlightHCMFilter(Au,Pu,Ou,ip){var eu;const $u=`${Au}-${Pu}-${Ou}-${ip}`;if(pu(this,Kl)===$u)return pu(this,_c);if(Fp(this,Kl,$u),Fp(this,_c,"none"),(eu=pu(this,Hl))==null||eu.remove(),!Au||!Pu)return pu(this,_c);const[np,Eu]=[Au,Pu].map(Ep(this,su,w2).bind(this));let Lu=Math.round(.2126*np[0]+.7152*np[1]+.0722*np[2]),up=Math.round(.2126*Eu[0]+.7152*Eu[1]+.0722*Eu[2]),[mp,Rp]=[Ou,ip].map(Ep(this,su,w2).bind(this));up<Lu&&([Lu,up,mp,Rp]=[up,Lu,Rp,mp]),pu(this,su,Kx).style.color="";const kp=(Nu,Zu,Vu)=>{const yu=new Array(256),Hu=(up-Lu)/Vu,Sp=Nu/255,Np=(Zu-Nu)/(255*Vu);let Lp=0;for(let Ku=0;Ku<=Vu;Ku++){const wp=Math.round(Lu+Ku*Hu),Bp=Sp+Ku*Np;for(let Pp=Lp;Pp<=wp;Pp++)yu[Pp]=Bp;Lp=wp+1}for(let Ku=Lp;Ku<256;Ku++)yu[Ku]=yu[Lp-1];return yu.join(",")},hu=`g_${pu(this,mu)}_hcm_highlight_filter`,Zl=Fp(this,Hl,Ep(this,su,rw).call(this,hu));return Ep(this,su,fE).call(this,Zl),Ep(this,su,b2).call(this,kp(mp[0],Rp[0],5),kp(mp[1],Rp[1],5),kp(mp[2],Rp[2],5),Zl),Fp(this,_c,`url(#${hu})`),pu(this,_c)}destroy(Au=!1){Au&&(pu(this,Yl)||pu(this,_c))||(pu(this,Mu)&&(pu(this,Mu).parentNode.parentNode.remove(),Fp(this,Mu,null)),pu(this,qu)&&(pu(this,qu).clear(),Fp(this,qu,null)),Fp(this,Ql,0))}}qu=new WeakMap,Mu=new WeakMap,mu=new WeakMap,uu=new WeakMap,cu=new WeakMap,ru=new WeakMap,Yl=new WeakMap,Hl=new WeakMap,Kl=new WeakMap,_c=new WeakMap,Ql=new WeakMap,su=new WeakSet,Gx=function(){return pu(this,qu)||Fp(this,qu,new Map)},Kx=function(){if(!pu(this,Mu)){const Au=pu(this,uu).createElement("div"),{style:Pu}=Au;Pu.visibility="hidden",Pu.contain="strict",Pu.width=Pu.height=0,Pu.position="absolute",Pu.top=Pu.left=0,Pu.zIndex=-1;const Ou=pu(this,uu).createElementNS(hs,"svg");Ou.setAttribute("width",0),Ou.setAttribute("height",0),Fp(this,Mu,pu(this,uu).createElementNS(hs,"defs")),Au.append(Ou),Ou.append(pu(this,Mu)),pu(this,uu).body.append(Au)}return pu(this,Mu)},fE=function(Au){const Pu=pu(this,uu).createElementNS(hs,"feColorMatrix");Pu.setAttribute("type","matrix"),Pu.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Au.append(Pu)},rw=function(Au){const Pu=pu(this,uu).createElementNS(hs,"filter");return Pu.setAttribute("color-interpolation-filters","sRGB"),Pu.setAttribute("id",Au),pu(this,su,Kx).append(Pu),Pu},nw=function(Au,Pu,Ou){const ip=pu(this,uu).createElementNS(hs,Pu);ip.setAttribute("type","discrete"),ip.setAttribute("tableValues",Ou),Au.append(ip)},b2=function(Au,Pu,Ou,ip){const $u=pu(this,uu).createElementNS(hs,"feComponentTransfer");ip.append($u),Ep(this,su,nw).call(this,$u,"feFuncR",Au),Ep(this,su,nw).call(this,$u,"feFuncG",Pu),Ep(this,su,nw).call(this,$u,"feFuncB",Ou)},w2=function(Au){return pu(this,su,Kx).style.color=Au,nu(getComputedStyle(pu(this,su,Kx)).getPropertyValue("color"))},is.DOMFilterFactory=xa;class ba extends lo.BaseCanvasFactory{constructor({ownerDocument:Uu=globalThis.document}={}){super(),this._document=Uu}_createCanvas(Uu,Au){const Pu=this._document.createElement("canvas");return Pu.width=Uu,Pu.height=Au,Pu}}is.DOMCanvasFactory=ba;async function $a(Gu,Uu=!1){if(Ll(Gu,document.baseURI)){const Au=await fetch(Gu);if(!Au.ok)throw new Error(Au.statusText);return Uu?new Uint8Array(await Au.arrayBuffer()):(0,co.stringToBytes)(await Au.text())}return new Promise((Au,Pu)=>{const Ou=new XMLHttpRequest;Ou.open("GET",Gu,!0),Uu&&(Ou.responseType="arraybuffer"),Ou.onreadystatechange=()=>{if(Ou.readyState===XMLHttpRequest.DONE){if(Ou.status===200||Ou.status===0){let ip;if(Uu&&Ou.response?ip=new Uint8Array(Ou.response):!Uu&&Ou.responseText&&(ip=(0,co.stringToBytes)(Ou.responseText)),ip){Au(ip);return}}Pu(new Error(Ou.statusText))}},Ou.send(null)})}class wl extends lo.BaseCMapReaderFactory{_fetchData(Uu,Au){return $a(Uu,this.isCompressed).then(Pu=>({cMapData:Pu,compressionType:Au}))}}is.DOMCMapReaderFactory=wl;class Sl extends lo.BaseStandardFontDataFactory{_fetchData(Uu){return $a(Uu,!0)}}is.DOMStandardFontDataFactory=Sl;class Cl extends lo.BaseSVGFactory{_createSVG(Uu){return document.createElementNS(hs,Uu)}}is.DOMSVGFactory=Cl;class _l{constructor({viewBox:Uu,scale:Au,rotation:Pu,offsetX:Ou=0,offsetY:ip=0,dontFlip:$u=!1}){this.viewBox=Uu,this.scale=Au,this.rotation=Pu,this.offsetX=Ou,this.offsetY=ip;const np=(Uu[2]+Uu[0])/2,Eu=(Uu[3]+Uu[1])/2;let Lu,up,mp,Rp;switch(Pu%=360,Pu<0&&(Pu+=360),Pu){case 180:Lu=-1,up=0,mp=0,Rp=1;break;case 90:Lu=0,up=1,mp=1,Rp=0;break;case 270:Lu=0,up=-1,mp=-1,Rp=0;break;case 0:Lu=1,up=0,mp=0,Rp=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$u&&(mp=-mp,Rp=-Rp);let kp,hu,Zl,eu;Lu===0?(kp=Math.abs(Eu-Uu[1])*Au+Ou,hu=Math.abs(np-Uu[0])*Au+ip,Zl=(Uu[3]-Uu[1])*Au,eu=(Uu[2]-Uu[0])*Au):(kp=Math.abs(np-Uu[0])*Au+Ou,hu=Math.abs(Eu-Uu[1])*Au+ip,Zl=(Uu[2]-Uu[0])*Au,eu=(Uu[3]-Uu[1])*Au),this.transform=[Lu*Au,up*Au,mp*Au,Rp*Au,kp-Lu*Au*np-mp*Au*Eu,hu-up*Au*np-Rp*Au*Eu],this.width=Zl,this.height=eu}get rawDims(){const{viewBox:Uu}=this;return(0,co.shadow)(this,"rawDims",{pageWidth:Uu[2]-Uu[0],pageHeight:Uu[3]-Uu[1],pageX:Uu[0],pageY:Uu[1]})}clone({scale:Uu=this.scale,rotation:Au=this.rotation,offsetX:Pu=this.offsetX,offsetY:Ou=this.offsetY,dontFlip:ip=!1}={}){return new _l({viewBox:this.viewBox.slice(),scale:Uu,rotation:Au,offsetX:Pu,offsetY:Ou,dontFlip:ip})}convertToViewportPoint(Uu,Au){return co.Util.applyTransform([Uu,Au],this.transform)}convertToViewportRectangle(Uu){const Au=co.Util.applyTransform([Uu[0],Uu[1]],this.transform),Pu=co.Util.applyTransform([Uu[2],Uu[3]],this.transform);return[Au[0],Au[1],Pu[0],Pu[1]]}convertToPdfPoint(Uu,Au){return co.Util.applyInverseTransform([Uu,Au],this.transform)}}is.PageViewport=_l;class Il extends co.BaseException{constructor(Uu,Au=0){super(Uu,"RenderingCancelledException"),this.extraDelay=Au}}is.RenderingCancelledException=Il;function Fl(Gu){const Uu=Gu.length;let Au=0;for(;Au<Uu&&Gu[Au].trim()==="";)Au++;return Gu.substring(Au,Au+5).toLowerCase()==="data:"}function Ml(Gu){return typeof Gu=="string"&&/\.pdf$/i.test(Gu)}function Tl(Gu,Uu=!1){return Uu||([Gu]=Gu.split(/[#?]/,1)),Gu.substring(Gu.lastIndexOf("/")+1)}function Dl(Gu,Uu="document.pdf"){if(typeof Gu!="string")return Uu;if(Fl(Gu))return(0,co.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Uu;const Au=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Pu=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ou=Au.exec(Gu);let ip=Pu.exec(Ou[1])||Pu.exec(Ou[2])||Pu.exec(Ou[3]);if(ip&&(ip=ip[0],ip.includes("%")))try{ip=Pu.exec(decodeURIComponent(ip))[0]}catch{}return ip||Uu}class Bl{constructor(){r1(this,"started",Object.create(null));r1(this,"times",[])}time(Uu){Uu in this.started&&(0,co.warn)(`Timer is already running for ${Uu}`),this.started[Uu]=Date.now()}timeEnd(Uu){Uu in this.started||(0,co.warn)(`Timer has not been started for ${Uu}`),this.times.push({name:Uu,start:this.started[Uu],end:Date.now()}),delete this.started[Uu]}toString(){const Uu=[];let Au=0;for(const{name:Pu}of this.times)Au=Math.max(Pu.length,Au);for(const{name:Pu,start:Ou,end:ip}of this.times)Uu.push(`${Pu.padEnd(Au)} ${ip-Ou}ms
`);return Uu.join("")}}is.StatTimer=Bl;function Ll(Gu,Uu){try{const{protocol:Au}=Uu?new URL(Gu,Uu):new URL(Gu);return Au==="http:"||Au==="https:"}catch{return!1}}function Nl(Gu){Gu.preventDefault()}function zl(Gu,Uu=!1){return new Promise((Au,Pu)=>{const Ou=document.createElement("script");Ou.src=Gu,Ou.onload=function(ip){Uu&&Ou.remove(),Au(ip)},Ou.onerror=function(){Pu(new Error(`Cannot load script at: ${Ou.src}`))},(document.head||document.documentElement).append(Ou)})}function $l(Gu){console.log("Deprecated API usage: "+Gu)}let Vl;class Gl{static toDateObject(Uu){if(!Uu||typeof Uu!="string")return null;Vl||(Vl=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Au=Vl.exec(Uu);if(!Au)return null;const Pu=parseInt(Au[1],10);let Ou=parseInt(Au[2],10);Ou=Ou>=1&&Ou<=12?Ou-1:0;let ip=parseInt(Au[3],10);ip=ip>=1&&ip<=31?ip:1;let $u=parseInt(Au[4],10);$u=$u>=0&&$u<=23?$u:0;let np=parseInt(Au[5],10);np=np>=0&&np<=59?np:0;let Eu=parseInt(Au[6],10);Eu=Eu>=0&&Eu<=59?Eu:0;const Lu=Au[7]||"Z";let up=parseInt(Au[8],10);up=up>=0&&up<=23?up:0;let mp=parseInt(Au[9],10)||0;return mp=mp>=0&&mp<=59?mp:0,Lu==="-"?($u+=up,np+=mp):Lu==="+"&&($u-=up,np-=mp),new Date(Date.UTC(Pu,Ou,ip,$u,np,Eu))}}is.PDFDateString=Gl;function iu(Gu,{scale:Uu=1,rotation:Au=0}){const{width:Pu,height:Ou}=Gu.attributes.style,ip=[0,0,parseInt(Pu),parseInt(Ou)];return new _l({viewBox:ip,scale:Uu,rotation:Au})}function nu(Gu){if(Gu.startsWith("#")){const Uu=parseInt(Gu.slice(1),16);return[(Uu&16711680)>>16,(Uu&65280)>>8,Uu&255]}return Gu.startsWith("rgb(")?Gu.slice(4,-1).split(",").map(Uu=>parseInt(Uu)):Gu.startsWith("rgba(")?Gu.slice(5,-1).split(",").map(Uu=>parseInt(Uu)).slice(0,3):((0,co.warn)(`Not a valid color format: "${Gu}"`),[0,0,0])}function Jl(Gu){const Uu=document.createElement("span");Uu.style.visibility="hidden",document.body.append(Uu);for(const Au of Gu.keys()){Uu.style.color=Au;const Pu=window.getComputedStyle(Uu).color;Gu.set(Au,nu(Pu))}Uu.remove()}function lu(Gu){const{a:Uu,b:Au,c:Pu,d:Ou,e:ip,f:$u}=Gu.getTransform();return[Uu,Au,Pu,Ou,ip,$u]}function ju(Gu){const{a:Uu,b:Au,c:Pu,d:Ou,e:ip,f:$u}=Gu.getTransform().invertSelf();return[Uu,Au,Pu,Ou,ip,$u]}function zu(Gu,Uu,Au=!1,Pu=!0){if(Uu instanceof _l){const{pageWidth:Ou,pageHeight:ip}=Uu.rawDims,{style:$u}=Gu,np=co.FeatureTest.isCSSRoundSupported,Eu=`var(--scale-factor) * ${Ou}px`,Lu=`var(--scale-factor) * ${ip}px`,up=np?`round(${Eu}, 1px)`:`calc(${Eu})`,mp=np?`round(${Lu}, 1px)`:`calc(${Lu})`;!Au||Uu.rotation%180===0?($u.width=up,$u.height=mp):($u.width=mp,$u.height=up)}Pu&&Gu.setAttribute("data-main-rotation",Uu.rotation)}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.BaseStandardFontDataFactory=is.BaseSVGFactory=is.BaseFilterFactory=is.BaseCanvasFactory=is.BaseCMapReaderFactory=void 0;var lo=cs(1);class co{constructor(){this.constructor===co&&(0,lo.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(wl){return"none"}addHCMFilter(wl,Sl){return"none"}addHighlightHCMFilter(wl,Sl,Cl,_l){return"none"}destroy(wl=!1){}}is.BaseFilterFactory=co;class hs{constructor(){this.constructor===hs&&(0,lo.unreachable)("Cannot initialize BaseCanvasFactory.")}create(wl,Sl){if(wl<=0||Sl<=0)throw new Error("Invalid canvas size");const Cl=this._createCanvas(wl,Sl);return{canvas:Cl,context:Cl.getContext("2d")}}reset(wl,Sl,Cl){if(!wl.canvas)throw new Error("Canvas is not specified");if(Sl<=0||Cl<=0)throw new Error("Invalid canvas size");wl.canvas.width=Sl,wl.canvas.height=Cl}destroy(wl){if(!wl.canvas)throw new Error("Canvas is not specified");wl.canvas.width=0,wl.canvas.height=0,wl.canvas=null,wl.context=null}_createCanvas(wl,Sl){(0,lo.unreachable)("Abstract method `_createCanvas` called.")}}is.BaseCanvasFactory=hs;class uo{constructor({baseUrl:wl=null,isCompressed:Sl=!0}){this.constructor===uo&&(0,lo.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=wl,this.isCompressed=Sl}async fetch({name:wl}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!wl)throw new Error("CMap name must be specified.");const Sl=this.baseUrl+wl+(this.isCompressed?".bcmap":""),Cl=this.isCompressed?lo.CMapCompressionType.BINARY:lo.CMapCompressionType.NONE;return this._fetchData(Sl,Cl).catch(_l=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Sl}`)})}_fetchData(wl,Sl){(0,lo.unreachable)("Abstract method `_fetchData` called.")}}is.BaseCMapReaderFactory=uo;class xa{constructor({baseUrl:wl=null}){this.constructor===xa&&(0,lo.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=wl}async fetch({filename:wl}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!wl)throw new Error("Font filename must be specified.");const Sl=`${this.baseUrl}${wl}`;return this._fetchData(Sl).catch(Cl=>{throw new Error(`Unable to load font data at: ${Sl}`)})}_fetchData(wl){(0,lo.unreachable)("Abstract method `_fetchData` called.")}}is.BaseStandardFontDataFactory=xa;class ba{constructor(){this.constructor===ba&&(0,lo.unreachable)("Cannot initialize BaseSVGFactory.")}create(wl,Sl,Cl=!1){if(wl<=0||Sl<=0)throw new Error("Invalid SVG dimensions");const _l=this._createSVG("svg:svg");return _l.setAttribute("version","1.1"),Cl||(_l.setAttribute("width",`${wl}px`),_l.setAttribute("height",`${Sl}px`)),_l.setAttribute("preserveAspectRatio","none"),_l.setAttribute("viewBox",`0 0 ${wl} ${Sl}`),_l}createElement(wl){if(typeof wl!="string")throw new Error("Invalid SVG element type");return this._createSVG(wl)}_createSVG(wl){(0,lo.unreachable)("Abstract method `_createSVG` called.")}}is.BaseSVGFactory=ba},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.MurmurHash3_64=void 0;var lo=cs(1);const co=3285377520,hs=4294901760,uo=65535;class xa{constructor($a){this.h1=$a?$a&4294967295:co,this.h2=$a?$a&4294967295:co}update($a){let wl,Sl;if(typeof $a=="string"){wl=new Uint8Array($a.length*2),Sl=0;for(let $l=0,Vl=$a.length;$l<Vl;$l++){const Gl=$a.charCodeAt($l);Gl<=255?wl[Sl++]=Gl:(wl[Sl++]=Gl>>>8,wl[Sl++]=Gl&255)}}else if((0,lo.isArrayBuffer)($a))wl=$a.slice(),Sl=wl.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Cl=Sl>>2,_l=Sl-Cl*4,Il=new Uint32Array(wl.buffer,0,Cl);let Fl=0,Ml=0,Tl=this.h1,Dl=this.h2;const Bl=3432918353,Ll=461845907,Nl=Bl&uo,zl=Ll&uo;for(let $l=0;$l<Cl;$l++)$l&1?(Fl=Il[$l],Fl=Fl*Bl&hs|Fl*Nl&uo,Fl=Fl<<15|Fl>>>17,Fl=Fl*Ll&hs|Fl*zl&uo,Tl^=Fl,Tl=Tl<<13|Tl>>>19,Tl=Tl*5+3864292196):(Ml=Il[$l],Ml=Ml*Bl&hs|Ml*Nl&uo,Ml=Ml<<15|Ml>>>17,Ml=Ml*Ll&hs|Ml*zl&uo,Dl^=Ml,Dl=Dl<<13|Dl>>>19,Dl=Dl*5+3864292196);switch(Fl=0,_l){case 3:Fl^=wl[Cl*4+2]<<16;case 2:Fl^=wl[Cl*4+1]<<8;case 1:Fl^=wl[Cl*4],Fl=Fl*Bl&hs|Fl*Nl&uo,Fl=Fl<<15|Fl>>>17,Fl=Fl*Ll&hs|Fl*zl&uo,Cl&1?Tl^=Fl:Dl^=Fl}this.h1=Tl,this.h2=Dl}hexdigest(){let $a=this.h1,wl=this.h2;return $a^=wl>>>1,$a=$a*3981806797&hs|$a*36045&uo,wl=wl*4283543511&hs|((wl<<16|$a>>>16)*2950163797&hs)>>>16,$a^=wl>>>1,$a=$a*444984403&hs|$a*60499&uo,wl=wl*3301882366&hs|((wl<<16|$a>>>16)*3120437893&hs)>>>16,$a^=wl>>>1,($a>>>0).toString(16).padStart(8,"0")+(wl>>>0).toString(16).padStart(8,"0")}}is.MurmurHash3_64=xa},(us,is,cs)=>{var uo;Object.defineProperty(is,"__esModule",{value:!0}),is.FontLoader=is.FontFaceObject=void 0;var lo=cs(1);class co{constructor({ownerDocument:ba=globalThis.document,styleElement:$a=null}){Op(this,uo,new Set);this._document=ba,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ba){this.nativeFontFaces.add(ba),this._document.fonts.add(ba)}removeNativeFontFace(ba){this.nativeFontFaces.delete(ba),this._document.fonts.delete(ba)}insertRule(ba){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const $a=this.styleElement.sheet;$a.insertRule(ba,$a.cssRules.length)}clear(){for(const ba of this.nativeFontFaces)this._document.fonts.delete(ba);this.nativeFontFaces.clear(),pu(this,uo).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ba){if(!(!ba||pu(this,uo).has(ba.loadedName))){if((0,lo.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:$a,src:wl,style:Sl}=ba,Cl=new FontFace($a,wl,Sl);this.addNativeFontFace(Cl);try{await Cl.load(),pu(this,uo).add($a)}catch{(0,lo.warn)(`Cannot load system font: ${ba.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Cl)}return}(0,lo.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ba){if(ba.attached||ba.missingFile&&!ba.systemFontInfo)return;if(ba.attached=!0,ba.systemFontInfo){await this.loadSystemFont(ba.systemFontInfo);return}if(this.isFontLoadingAPISupported){const wl=ba.createNativeFontFace();if(wl){this.addNativeFontFace(wl);try{await wl.loaded}catch(Sl){throw(0,lo.warn)(`Failed to load font '${wl.family}': '${Sl}'.`),ba.disableFontFace=!0,Sl}}return}const $a=ba.createFontFaceRule();if($a){if(this.insertRule($a),this.isSyncFontLoadingSupported)return;await new Promise(wl=>{const Sl=this._queueLoadingCallback(wl);this._prepareFontLoadEvent(ba,Sl)})}}get isFontLoadingAPISupported(){var $a;const ba=!!(($a=this._document)!=null&&$a.fonts);return(0,lo.shadow)(this,"isFontLoadingAPISupported",ba)}get isSyncFontLoadingSupported(){let ba=!1;return(lo.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ba=!0),(0,lo.shadow)(this,"isSyncFontLoadingSupported",ba)}_queueLoadingCallback(ba){function $a(){for((0,lo.assert)(!Sl.done,"completeRequest() cannot be called twice."),Sl.done=!0;wl.length>0&&wl[0].done;){const Cl=wl.shift();setTimeout(Cl.callback,0)}}const{loadingRequests:wl}=this,Sl={done:!1,complete:$a,callback:ba};return wl.push(Sl),Sl}get _loadTestFont(){const ba=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,lo.shadow)(this,"_loadTestFont",ba)}_prepareFontLoadEvent(ba,$a){function wl(nu,Jl){return nu.charCodeAt(Jl)<<24|nu.charCodeAt(Jl+1)<<16|nu.charCodeAt(Jl+2)<<8|nu.charCodeAt(Jl+3)&255}function Sl(nu,Jl,lu,ju){const zu=nu.substring(0,Jl),Wu=nu.substring(Jl+lu);return zu+ju+Wu}let Cl,_l;const Il=this._document.createElement("canvas");Il.width=1,Il.height=1;const Fl=Il.getContext("2d");let Ml=0;function Tl(nu,Jl){if(++Ml>30){(0,lo.warn)("Load test font never loaded."),Jl();return}if(Fl.font="30px "+nu,Fl.fillText(".",0,20),Fl.getImageData(0,0,1,1).data[3]>0){Jl();return}setTimeout(Tl.bind(null,nu,Jl))}const Dl=`lt${Date.now()}${this.loadTestFontId++}`;let Bl=this._loadTestFont;Bl=Sl(Bl,976,Dl.length,Dl);const Nl=16,zl=1482184792;let $l=wl(Bl,Nl);for(Cl=0,_l=Dl.length-3;Cl<_l;Cl+=4)$l=$l-zl+wl(Dl,Cl)|0;Cl<Dl.length&&($l=$l-zl+wl(Dl+"XXX",Cl)|0),Bl=Sl(Bl,Nl,4,(0,lo.string32)($l));const Vl=`url(data:font/opentype;base64,${btoa(Bl)});`,Gl=`@font-face {font-family:"${Dl}";src:${Vl}}`;this.insertRule(Gl);const iu=this._document.createElement("div");iu.style.visibility="hidden",iu.style.width=iu.style.height="10px",iu.style.position="absolute",iu.style.top=iu.style.left="0px";for(const nu of[ba.loadedName,Dl]){const Jl=this._document.createElement("span");Jl.textContent="Hi",Jl.style.fontFamily=nu,iu.append(Jl)}this._document.body.append(iu),Tl(Dl,()=>{iu.remove(),$a.complete()})}}uo=new WeakMap,is.FontLoader=co;class hs{constructor(ba,{isEvalSupported:$a=!0,disableFontFace:wl=!1,ignoreErrors:Sl=!1,inspectFont:Cl=null}){this.compiledGlyphs=Object.create(null);for(const _l in ba)this[_l]=ba[_l];this.isEvalSupported=$a!==!1,this.disableFontFace=wl===!0,this.ignoreErrors=Sl===!0,this._inspectFont=Cl}createNativeFontFace(){var $a;if(!this.data||this.disableFontFace)return null;let ba;if(!this.cssFontInfo)ba=new FontFace(this.loadedName,this.data,{});else{const wl={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(wl.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ba=new FontFace(this.cssFontInfo.fontFamily,this.data,wl)}return($a=this._inspectFont)==null||$a.call(this,this),ba}createFontFaceRule(){var Sl;if(!this.data||this.disableFontFace)return null;const ba=(0,lo.bytesToString)(this.data),$a=`url(data:${this.mimetype};base64,${btoa(ba)});`;let wl;if(!this.cssFontInfo)wl=`@font-face {font-family:"${this.loadedName}";src:${$a}}`;else{let Cl=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Cl+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),wl=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Cl}src:${$a}}`}return(Sl=this._inspectFont)==null||Sl.call(this,this,$a),wl}getPathGenerator(ba,$a){if(this.compiledGlyphs[$a]!==void 0)return this.compiledGlyphs[$a];let wl;try{wl=ba.get(this.loadedName+"_path_"+$a)}catch(Sl){if(!this.ignoreErrors)throw Sl;return(0,lo.warn)(`getPathGenerator - ignoring character: "${Sl}".`),this.compiledGlyphs[$a]=function(Cl,_l){}}if(this.isEvalSupported&&lo.FeatureTest.isEvalSupported){const Sl=[];for(const Cl of wl){const _l=Cl.args!==void 0?Cl.args.join(","):"";Sl.push("c.",Cl.cmd,"(",_l,`);
`)}return this.compiledGlyphs[$a]=new Function("c","size",Sl.join(""))}return this.compiledGlyphs[$a]=function(Sl,Cl){for(const _l of wl)_l.cmd==="scale"&&(_l.args=[Cl,-Cl]),Sl[_l.cmd].apply(Sl,_l.args)}}}is.FontFaceObject=hs},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.NodeStandardFontDataFactory=is.NodeFilterFactory=is.NodeCanvasFactory=is.NodeCMapReaderFactory=void 0;var lo=cs(7);cs(1);const co=function($a){return new Promise((wl,Sl)=>{requireEmpty().readFile($a,(_l,Il)=>{if(_l||!Il){Sl(new Error(_l));return}wl(new Uint8Array(Il))})})};class hs extends lo.BaseFilterFactory{}is.NodeFilterFactory=hs;class uo extends lo.BaseCanvasFactory{_createCanvas(wl,Sl){return require$$1.createCanvas(wl,Sl)}}is.NodeCanvasFactory=uo;class xa extends lo.BaseCMapReaderFactory{_fetchData(wl,Sl){return co(wl).then(Cl=>({cMapData:Cl,compressionType:Sl}))}}is.NodeCMapReaderFactory=xa;class ba extends lo.BaseStandardFontDataFactory{_fetchData(wl){return co(wl)}}is.NodeStandardFontDataFactory=ba},(us,is,cs)=>{var Mu,pE,gE;Object.defineProperty(is,"__esModule",{value:!0}),is.CanvasGraphics=void 0;var lo=cs(1),co=cs(6),hs=cs(12),uo=cs(13);const xa=16,ba=100,$a=4096,wl=15,Sl=10,Cl=1e3,_l=16;function Il(ru,Yl){if(ru._removeMirroring)throw new Error("Context is already forwarding operations.");ru.__originalSave=ru.save,ru.__originalRestore=ru.restore,ru.__originalRotate=ru.rotate,ru.__originalScale=ru.scale,ru.__originalTranslate=ru.translate,ru.__originalTransform=ru.transform,ru.__originalSetTransform=ru.setTransform,ru.__originalResetTransform=ru.resetTransform,ru.__originalClip=ru.clip,ru.__originalMoveTo=ru.moveTo,ru.__originalLineTo=ru.lineTo,ru.__originalBezierCurveTo=ru.bezierCurveTo,ru.__originalRect=ru.rect,ru.__originalClosePath=ru.closePath,ru.__originalBeginPath=ru.beginPath,ru._removeMirroring=()=>{ru.save=ru.__originalSave,ru.restore=ru.__originalRestore,ru.rotate=ru.__originalRotate,ru.scale=ru.__originalScale,ru.translate=ru.__originalTranslate,ru.transform=ru.__originalTransform,ru.setTransform=ru.__originalSetTransform,ru.resetTransform=ru.__originalResetTransform,ru.clip=ru.__originalClip,ru.moveTo=ru.__originalMoveTo,ru.lineTo=ru.__originalLineTo,ru.bezierCurveTo=ru.__originalBezierCurveTo,ru.rect=ru.__originalRect,ru.closePath=ru.__originalClosePath,ru.beginPath=ru.__originalBeginPath,delete ru._removeMirroring},ru.save=function(){Yl.save(),this.__originalSave()},ru.restore=function(){Yl.restore(),this.__originalRestore()},ru.translate=function(Kl,_c){Yl.translate(Kl,_c),this.__originalTranslate(Kl,_c)},ru.scale=function(Kl,_c){Yl.scale(Kl,_c),this.__originalScale(Kl,_c)},ru.transform=function(Kl,_c,Ql,su,gu,Cu){Yl.transform(Kl,_c,Ql,su,gu,Cu),this.__originalTransform(Kl,_c,Ql,su,gu,Cu)},ru.setTransform=function(Kl,_c,Ql,su,gu,Cu){Yl.setTransform(Kl,_c,Ql,su,gu,Cu),this.__originalSetTransform(Kl,_c,Ql,su,gu,Cu)},ru.resetTransform=function(){Yl.resetTransform(),this.__originalResetTransform()},ru.rotate=function(Kl){Yl.rotate(Kl),this.__originalRotate(Kl)},ru.clip=function(Kl){Yl.clip(Kl),this.__originalClip(Kl)},ru.moveTo=function(Hl,Kl){Yl.moveTo(Hl,Kl),this.__originalMoveTo(Hl,Kl)},ru.lineTo=function(Hl,Kl){Yl.lineTo(Hl,Kl),this.__originalLineTo(Hl,Kl)},ru.bezierCurveTo=function(Hl,Kl,_c,Ql,su,gu){Yl.bezierCurveTo(Hl,Kl,_c,Ql,su,gu),this.__originalBezierCurveTo(Hl,Kl,_c,Ql,su,gu)},ru.rect=function(Hl,Kl,_c,Ql){Yl.rect(Hl,Kl,_c,Ql),this.__originalRect(Hl,Kl,_c,Ql)},ru.closePath=function(){Yl.closePath(),this.__originalClosePath()},ru.beginPath=function(){Yl.beginPath(),this.__originalBeginPath()}}class Fl{constructor(Yl){this.canvasFactory=Yl,this.cache=Object.create(null)}getCanvas(Yl,Hl,Kl){let _c;return this.cache[Yl]!==void 0?(_c=this.cache[Yl],this.canvasFactory.reset(_c,Hl,Kl)):(_c=this.canvasFactory.create(Hl,Kl),this.cache[Yl]=_c),_c}delete(Yl){delete this.cache[Yl]}clear(){for(const Yl in this.cache){const Hl=this.cache[Yl];this.canvasFactory.destroy(Hl),delete this.cache[Yl]}}}function Ml(ru,Yl,Hl,Kl,_c,Ql,su,gu,Cu,vu){const[fu,Fu,_f,Xu,Gu,Uu]=(0,co.getCurrentTransform)(ru);if(Fu===0&&_f===0){const Ou=su*fu+Gu,ip=Math.round(Ou),$u=gu*Xu+Uu,np=Math.round($u),Eu=(su+Cu)*fu+Gu,Lu=Math.abs(Math.round(Eu)-ip)||1,up=(gu+vu)*Xu+Uu,mp=Math.abs(Math.round(up)-np)||1;return ru.setTransform(Math.sign(fu),0,0,Math.sign(Xu),ip,np),ru.drawImage(Yl,Hl,Kl,_c,Ql,0,0,Lu,mp),ru.setTransform(fu,Fu,_f,Xu,Gu,Uu),[Lu,mp]}if(fu===0&&Xu===0){const Ou=gu*_f+Gu,ip=Math.round(Ou),$u=su*Fu+Uu,np=Math.round($u),Eu=(gu+vu)*_f+Gu,Lu=Math.abs(Math.round(Eu)-ip)||1,up=(su+Cu)*Fu+Uu,mp=Math.abs(Math.round(up)-np)||1;return ru.setTransform(0,Math.sign(Fu),Math.sign(_f),0,ip,np),ru.drawImage(Yl,Hl,Kl,_c,Ql,0,0,mp,Lu),ru.setTransform(fu,Fu,_f,Xu,Gu,Uu),[mp,Lu]}ru.drawImage(Yl,Hl,Kl,_c,Ql,su,gu,Cu,vu);const Au=Math.hypot(fu,Fu),Pu=Math.hypot(_f,Xu);return[Au*Cu,Pu*vu]}function Tl(ru){const{width:Yl,height:Hl}=ru;if(Yl>Cl||Hl>Cl)return null;const Kl=1e3,_c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ql=Yl+1;let su=new Uint8Array(Ql*(Hl+1)),gu,Cu,vu;const fu=Yl+7&-8;let Fu=new Uint8Array(fu*Hl),_f=0;for(const Pu of ru.data){let Ou=128;for(;Ou>0;)Fu[_f++]=Pu&Ou?0:255,Ou>>=1}let Xu=0;for(_f=0,Fu[_f]!==0&&(su[0]=1,++Xu),Cu=1;Cu<Yl;Cu++)Fu[_f]!==Fu[_f+1]&&(su[Cu]=Fu[_f]?2:1,++Xu),_f++;for(Fu[_f]!==0&&(su[Cu]=2,++Xu),gu=1;gu<Hl;gu++){_f=gu*fu,vu=gu*Ql,Fu[_f-fu]!==Fu[_f]&&(su[vu]=Fu[_f]?1:8,++Xu);let Pu=(Fu[_f]?4:0)+(Fu[_f-fu]?8:0);for(Cu=1;Cu<Yl;Cu++)Pu=(Pu>>2)+(Fu[_f+1]?4:0)+(Fu[_f-fu+1]?8:0),_c[Pu]&&(su[vu+Cu]=_c[Pu],++Xu),_f++;if(Fu[_f-fu]!==Fu[_f]&&(su[vu+Cu]=Fu[_f]?2:4,++Xu),Xu>Kl)return null}for(_f=fu*(Hl-1),vu=gu*Ql,Fu[_f]!==0&&(su[vu]=8,++Xu),Cu=1;Cu<Yl;Cu++)Fu[_f]!==Fu[_f+1]&&(su[vu+Cu]=Fu[_f]?4:8,++Xu),_f++;if(Fu[_f]!==0&&(su[vu+Cu]=4,++Xu),Xu>Kl)return null;const Gu=new Int32Array([0,Ql,-1,0,-Ql,0,0,0,1]),Uu=new Path2D;for(gu=0;Xu&&gu<=Hl;gu++){let Pu=gu*Ql;const Ou=Pu+Yl;for(;Pu<Ou&&!su[Pu];)Pu++;if(Pu===Ou)continue;Uu.moveTo(Pu%Ql,gu);const ip=Pu;let $u=su[Pu];do{const np=Gu[$u];do Pu+=np;while(!su[Pu]);const Eu=su[Pu];Eu!==5&&Eu!==10?($u=Eu,su[Pu]=0):($u=Eu&51*$u>>4,su[Pu]&=$u>>2|$u<<2),Uu.lineTo(Pu%Ql,Pu/Ql|0),su[Pu]||--Xu}while(ip!==Pu);--gu}return Fu=null,su=null,function(Pu){Pu.save(),Pu.scale(1/Yl,-1/Hl),Pu.translate(0,-Hl),Pu.fill(Uu),Pu.beginPath(),Pu.restore()}}class Dl{constructor(Yl,Hl){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lo.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=lo.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=lo.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Yl,Hl])}clone(){const Yl=Object.create(this);return Yl.clipBox=this.clipBox.slice(),Yl}setCurrentPoint(Yl,Hl){this.x=Yl,this.y=Hl}updatePathMinMax(Yl,Hl,Kl){[Hl,Kl]=lo.Util.applyTransform([Hl,Kl],Yl),this.minX=Math.min(this.minX,Hl),this.minY=Math.min(this.minY,Kl),this.maxX=Math.max(this.maxX,Hl),this.maxY=Math.max(this.maxY,Kl)}updateRectMinMax(Yl,Hl){const Kl=lo.Util.applyTransform(Hl,Yl),_c=lo.Util.applyTransform(Hl.slice(2),Yl);this.minX=Math.min(this.minX,Kl[0],_c[0]),this.minY=Math.min(this.minY,Kl[1],_c[1]),this.maxX=Math.max(this.maxX,Kl[0],_c[0]),this.maxY=Math.max(this.maxY,Kl[1],_c[1])}updateScalingPathMinMax(Yl,Hl){lo.Util.scaleMinMax(Yl,Hl),this.minX=Math.min(this.minX,Hl[0]),this.maxX=Math.max(this.maxX,Hl[1]),this.minY=Math.min(this.minY,Hl[2]),this.maxY=Math.max(this.maxY,Hl[3])}updateCurvePathMinMax(Yl,Hl,Kl,_c,Ql,su,gu,Cu,vu,fu){const Fu=lo.Util.bezierBoundingBox(Hl,Kl,_c,Ql,su,gu,Cu,vu);if(fu){fu[0]=Math.min(fu[0],Fu[0],Fu[2]),fu[1]=Math.max(fu[1],Fu[0],Fu[2]),fu[2]=Math.min(fu[2],Fu[1],Fu[3]),fu[3]=Math.max(fu[3],Fu[1],Fu[3]);return}this.updateRectMinMax(Yl,Fu)}getPathBoundingBox(Yl=hs.PathType.FILL,Hl=null){const Kl=[this.minX,this.minY,this.maxX,this.maxY];if(Yl===hs.PathType.STROKE){Hl||(0,lo.unreachable)("Stroke bounding box must include transform.");const _c=lo.Util.singularValueDecompose2dScale(Hl),Ql=_c[0]*this.lineWidth/2,su=_c[1]*this.lineWidth/2;Kl[0]-=Ql,Kl[1]-=su,Kl[2]+=Ql,Kl[3]+=su}return Kl}updateClipFromPath(){const Yl=lo.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Yl||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Yl){this.clipBox=Yl,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Yl=hs.PathType.FILL,Hl=null){return lo.Util.intersect(this.clipBox,this.getPathBoundingBox(Yl,Hl))}}function Bl(ru,Yl){if(typeof ImageData<"u"&&Yl instanceof ImageData){ru.putImageData(Yl,0,0);return}const Hl=Yl.height,Kl=Yl.width,_c=Hl%_l,Ql=(Hl-_c)/_l,su=_c===0?Ql:Ql+1,gu=ru.createImageData(Kl,_l);let Cu=0,vu;const fu=Yl.data,Fu=gu.data;let _f,Xu,Gu,Uu;if(Yl.kind===lo.ImageKind.GRAYSCALE_1BPP){const Au=fu.byteLength,Pu=new Uint32Array(Fu.buffer,0,Fu.byteLength>>2),Ou=Pu.length,ip=Kl+7>>3,$u=4294967295,np=lo.FeatureTest.isLittleEndian?4278190080:255;for(_f=0;_f<su;_f++){for(Gu=_f<Ql?_l:_c,vu=0,Xu=0;Xu<Gu;Xu++){const Eu=Au-Cu;let Lu=0;const up=Eu>ip?Kl:Eu*8-7,mp=up&-8;let Rp=0,kp=0;for(;Lu<mp;Lu+=8)kp=fu[Cu++],Pu[vu++]=kp&128?$u:np,Pu[vu++]=kp&64?$u:np,Pu[vu++]=kp&32?$u:np,Pu[vu++]=kp&16?$u:np,Pu[vu++]=kp&8?$u:np,Pu[vu++]=kp&4?$u:np,Pu[vu++]=kp&2?$u:np,Pu[vu++]=kp&1?$u:np;for(;Lu<up;Lu++)Rp===0&&(kp=fu[Cu++],Rp=128),Pu[vu++]=kp&Rp?$u:np,Rp>>=1}for(;vu<Ou;)Pu[vu++]=0;ru.putImageData(gu,0,_f*_l)}}else if(Yl.kind===lo.ImageKind.RGBA_32BPP){for(Xu=0,Uu=Kl*_l*4,_f=0;_f<Ql;_f++)Fu.set(fu.subarray(Cu,Cu+Uu)),Cu+=Uu,ru.putImageData(gu,0,Xu),Xu+=_l;_f<su&&(Uu=Kl*_c*4,Fu.set(fu.subarray(Cu,Cu+Uu)),ru.putImageData(gu,0,Xu))}else if(Yl.kind===lo.ImageKind.RGB_24BPP)for(Gu=_l,Uu=Kl*Gu,_f=0;_f<su;_f++){for(_f>=Ql&&(Gu=_c,Uu=Kl*Gu),vu=0,Xu=Uu;Xu--;)Fu[vu++]=fu[Cu++],Fu[vu++]=fu[Cu++],Fu[vu++]=fu[Cu++],Fu[vu++]=255;ru.putImageData(gu,0,_f*_l)}else throw new Error(`bad image kind: ${Yl.kind}`)}function Ll(ru,Yl){if(Yl.bitmap){ru.drawImage(Yl.bitmap,0,0);return}const Hl=Yl.height,Kl=Yl.width,_c=Hl%_l,Ql=(Hl-_c)/_l,su=_c===0?Ql:Ql+1,gu=ru.createImageData(Kl,_l);let Cu=0;const vu=Yl.data,fu=gu.data;for(let Fu=0;Fu<su;Fu++){const _f=Fu<Ql?_l:_c;({srcPos:Cu}=(0,uo.convertBlackAndWhiteToRGBA)({src:vu,srcPos:Cu,dest:fu,width:Kl,height:_f,nonBlackColor:0})),ru.putImageData(gu,0,Fu*_l)}}function Nl(ru,Yl){const Hl=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Kl of Hl)ru[Kl]!==void 0&&(Yl[Kl]=ru[Kl]);ru.setLineDash!==void 0&&(Yl.setLineDash(ru.getLineDash()),Yl.lineDashOffset=ru.lineDashOffset)}function zl(ru){if(ru.strokeStyle=ru.fillStyle="#000000",ru.fillRule="nonzero",ru.globalAlpha=1,ru.lineWidth=1,ru.lineCap="butt",ru.lineJoin="miter",ru.miterLimit=10,ru.globalCompositeOperation="source-over",ru.font="10px sans-serif",ru.setLineDash!==void 0&&(ru.setLineDash([]),ru.lineDashOffset=0),!lo.isNodeJS){const{filter:Yl}=ru;Yl!=="none"&&Yl!==""&&(ru.filter="none")}}function $l(ru,Yl,Hl,Kl){const _c=ru.length;for(let Ql=3;Ql<_c;Ql+=4){const su=ru[Ql];if(su===0)ru[Ql-3]=Yl,ru[Ql-2]=Hl,ru[Ql-1]=Kl;else if(su<255){const gu=255-su;ru[Ql-3]=ru[Ql-3]*su+Yl*gu>>8,ru[Ql-2]=ru[Ql-2]*su+Hl*gu>>8,ru[Ql-1]=ru[Ql-1]*su+Kl*gu>>8}}}function Vl(ru,Yl,Hl){const Kl=ru.length,_c=1/255;for(let Ql=3;Ql<Kl;Ql+=4){const su=Hl?Hl[ru[Ql]]:ru[Ql];Yl[Ql]=Yl[Ql]*su*_c|0}}function Gl(ru,Yl,Hl){const Kl=ru.length;for(let _c=3;_c<Kl;_c+=4){const Ql=ru[_c-3]*77+ru[_c-2]*152+ru[_c-1]*28;Yl[_c]=Hl?Yl[_c]*Hl[Ql>>8]>>8:Yl[_c]*Ql>>16}}function iu(ru,Yl,Hl,Kl,_c,Ql,su,gu,Cu,vu,fu){const Fu=!!Ql,_f=Fu?Ql[0]:0,Xu=Fu?Ql[1]:0,Gu=Fu?Ql[2]:0,Uu=_c==="Luminosity"?Gl:Vl,Pu=Math.min(Kl,Math.ceil(1048576/Hl));for(let Ou=0;Ou<Kl;Ou+=Pu){const ip=Math.min(Pu,Kl-Ou),$u=ru.getImageData(gu-vu,Ou+(Cu-fu),Hl,ip),np=Yl.getImageData(gu,Ou+Cu,Hl,ip);Fu&&$l($u.data,_f,Xu,Gu),Uu($u.data,np.data,su),Yl.putImageData(np,gu,Ou+Cu)}}function nu(ru,Yl,Hl,Kl){const _c=Kl[0],Ql=Kl[1],su=Kl[2]-_c,gu=Kl[3]-Ql;su===0||gu===0||(iu(Yl.context,Hl,su,gu,Yl.subtype,Yl.backdrop,Yl.transferMap,_c,Ql,Yl.offsetX,Yl.offsetY),ru.save(),ru.globalAlpha=1,ru.globalCompositeOperation="source-over",ru.setTransform(1,0,0,1,0,0),ru.drawImage(Hl.canvas,0,0),ru.restore())}function Jl(ru,Yl){const Hl=lo.Util.singularValueDecompose2dScale(ru);Hl[0]=Math.fround(Hl[0]),Hl[1]=Math.fround(Hl[1]);const Kl=Math.fround((globalThis.devicePixelRatio||1)*co.PixelsPerInch.PDF_TO_CSS_UNITS);return Yl!==void 0?Yl:Hl[0]<=Kl||Hl[1]<=Kl}const lu=["butt","round","square"],ju=["miter","round","bevel"],zu={},Wu={},cu=class cu{constructor(Yl,Hl,Kl,_c,Ql,{optionalContentConfig:su,markedContentStack:gu=null},Cu,vu){Op(this,Mu);this.ctx=Yl,this.current=new Dl(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Hl,this.objs=Kl,this.canvasFactory=_c,this.filterFactory=Ql,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=gu||[],this.optionalContentConfig=su,this.cachedCanvases=new Fl(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Cu,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=vu,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Yl,Hl=null){return typeof Yl=="string"?Yl.startsWith("g_")?this.commonObjs.get(Yl):this.objs.get(Yl):Hl}beginDrawing({transform:Yl,viewport:Hl,transparency:Kl=!1,background:_c=null}){const Ql=this.ctx.canvas.width,su=this.ctx.canvas.height,gu=this.ctx.fillStyle;if(this.ctx.fillStyle=_c||"#ffffff",this.ctx.fillRect(0,0,Ql,su),this.ctx.fillStyle=gu,Kl){const Cu=this.cachedCanvases.getCanvas("transparent",Ql,su);this.compositeCtx=this.ctx,this.transparentCanvas=Cu.canvas,this.ctx=Cu.context,this.ctx.save(),this.ctx.transform(...(0,co.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),zl(this.ctx),Yl&&(this.ctx.transform(...Yl),this.outputScaleX=Yl[0],this.outputScaleY=Yl[0]),this.ctx.transform(...Hl.transform),this.viewportScale=Hl.scale,this.baseTransform=(0,co.getCurrentTransform)(this.ctx)}executeOperatorList(Yl,Hl,Kl,_c){const Ql=Yl.argsArray,su=Yl.fnArray;let gu=Hl||0;const Cu=Ql.length;if(Cu===gu)return gu;const vu=Cu-gu>Sl&&typeof Kl=="function",fu=vu?Date.now()+wl:0;let Fu=0;const _f=this.commonObjs,Xu=this.objs;let Gu;for(;;){if(_c!==void 0&&gu===_c.nextBreakPoint)return _c.breakIt(gu,Kl),gu;if(Gu=su[gu],Gu!==lo.OPS.dependency)this[Gu].apply(this,Ql[gu]);else for(const Uu of Ql[gu]){const Au=Uu.startsWith("g_")?_f:Xu;if(!Au.has(Uu))return Au.get(Uu,Kl),gu}if(gu++,gu===Cu)return gu;if(vu&&++Fu>Sl){if(Date.now()>fu)return Kl(),gu;Fu=0}}}endDrawing(){Ep(this,Mu,pE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Yl of this._cachedBitmapsMap.values()){for(const Hl of Yl.values())typeof HTMLCanvasElement<"u"&&Hl instanceof HTMLCanvasElement&&(Hl.width=Hl.height=0);Yl.clear()}this._cachedBitmapsMap.clear(),Ep(this,Mu,gE).call(this)}_scaleImage(Yl,Hl){const Kl=Yl.width,_c=Yl.height;let Ql=Math.max(Math.hypot(Hl[0],Hl[1]),1),su=Math.max(Math.hypot(Hl[2],Hl[3]),1),gu=Kl,Cu=_c,vu="prescale1",fu,Fu;for(;Ql>2&&gu>1||su>2&&Cu>1;){let _f=gu,Xu=Cu;Ql>2&&gu>1&&(_f=gu>=16384?Math.floor(gu/2)-1||1:Math.ceil(gu/2),Ql/=gu/_f),su>2&&Cu>1&&(Xu=Cu>=16384?Math.floor(Cu/2)-1||1:Math.ceil(Cu)/2,su/=Cu/Xu),fu=this.cachedCanvases.getCanvas(vu,_f,Xu),Fu=fu.context,Fu.clearRect(0,0,_f,Xu),Fu.drawImage(Yl,0,0,gu,Cu,0,0,_f,Xu),Yl=fu.canvas,gu=_f,Cu=Xu,vu=vu==="prescale1"?"prescale2":"prescale1"}return{img:Yl,paintWidth:gu,paintHeight:Cu}}_createMaskCanvas(Yl){const Hl=this.ctx,{width:Kl,height:_c}=Yl,Ql=this.current.fillColor,su=this.current.patternFill,gu=(0,co.getCurrentTransform)(Hl);let Cu,vu,fu,Fu;if((Yl.bitmap||Yl.data)&&Yl.count>1){const Lu=Yl.bitmap||Yl.data.buffer;vu=JSON.stringify(su?gu:[gu.slice(0,4),Ql]),Cu=this._cachedBitmapsMap.get(Lu),Cu||(Cu=new Map,this._cachedBitmapsMap.set(Lu,Cu));const up=Cu.get(vu);if(up&&!su){const mp=Math.round(Math.min(gu[0],gu[2])+gu[4]),Rp=Math.round(Math.min(gu[1],gu[3])+gu[5]);return{canvas:up,offsetX:mp,offsetY:Rp}}fu=up}fu||(Fu=this.cachedCanvases.getCanvas("maskCanvas",Kl,_c),Ll(Fu.context,Yl));let _f=lo.Util.transform(gu,[1/Kl,0,0,-1/_c,0,0]);_f=lo.Util.transform(_f,[1,0,0,1,0,-_c]);const Xu=lo.Util.applyTransform([0,0],_f),Gu=lo.Util.applyTransform([Kl,_c],_f),Uu=lo.Util.normalizeRect([Xu[0],Xu[1],Gu[0],Gu[1]]),Au=Math.round(Uu[2]-Uu[0])||1,Pu=Math.round(Uu[3]-Uu[1])||1,Ou=this.cachedCanvases.getCanvas("fillCanvas",Au,Pu),ip=Ou.context,$u=Math.min(Xu[0],Gu[0]),np=Math.min(Xu[1],Gu[1]);ip.translate(-$u,-np),ip.transform(..._f),fu||(fu=this._scaleImage(Fu.canvas,(0,co.getCurrentTransformInverse)(ip)),fu=fu.img,Cu&&su&&Cu.set(vu,fu)),ip.imageSmoothingEnabled=Jl((0,co.getCurrentTransform)(ip),Yl.interpolate),Ml(ip,fu,0,0,fu.width,fu.height,0,0,Kl,_c),ip.globalCompositeOperation="source-in";const Eu=lo.Util.transform((0,co.getCurrentTransformInverse)(ip),[1,0,0,1,-$u,-np]);return ip.fillStyle=su?Ql.getPattern(Hl,this,Eu,hs.PathType.FILL):Ql,ip.fillRect(0,0,Kl,_c),Cu&&!su&&(this.cachedCanvases.delete("fillCanvas"),Cu.set(vu,Ou.canvas)),{canvas:Ou.canvas,offsetX:Math.round($u),offsetY:Math.round(np)}}setLineWidth(Yl){Yl!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Yl,this.ctx.lineWidth=Yl}setLineCap(Yl){this.ctx.lineCap=lu[Yl]}setLineJoin(Yl){this.ctx.lineJoin=ju[Yl]}setMiterLimit(Yl){this.ctx.miterLimit=Yl}setDash(Yl,Hl){const Kl=this.ctx;Kl.setLineDash!==void 0&&(Kl.setLineDash(Yl),Kl.lineDashOffset=Hl)}setRenderingIntent(Yl){}setFlatness(Yl){}setGState(Yl){for(const[Hl,Kl]of Yl)switch(Hl){case"LW":this.setLineWidth(Kl);break;case"LC":this.setLineCap(Kl);break;case"LJ":this.setLineJoin(Kl);break;case"ML":this.setMiterLimit(Kl);break;case"D":this.setDash(Kl[0],Kl[1]);break;case"RI":this.setRenderingIntent(Kl);break;case"FL":this.setFlatness(Kl);break;case"Font":this.setFont(Kl[0],Kl[1]);break;case"CA":this.current.strokeAlpha=Kl;break;case"ca":this.current.fillAlpha=Kl,this.ctx.globalAlpha=Kl;break;case"BM":this.ctx.globalCompositeOperation=Kl;break;case"SMask":this.current.activeSMask=Kl?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Kl);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Yl=this.inSMaskMode;this.current.activeSMask&&!Yl?this.beginSMaskMode():!this.current.activeSMask&&Yl&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Yl=this.ctx.canvas.width,Hl=this.ctx.canvas.height,Kl="smaskGroupAt"+this.groupLevel,_c=this.cachedCanvases.getCanvas(Kl,Yl,Hl);this.suspendedCtx=this.ctx,this.ctx=_c.context;const Ql=this.ctx;Ql.setTransform(...(0,co.getCurrentTransform)(this.suspendedCtx)),Nl(this.suspendedCtx,Ql),Il(Ql,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Yl){if(!this.current.activeSMask)return;Yl?(Yl[0]=Math.floor(Yl[0]),Yl[1]=Math.floor(Yl[1]),Yl[2]=Math.ceil(Yl[2]),Yl[3]=Math.ceil(Yl[3])):Yl=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Hl=this.current.activeSMask,Kl=this.suspendedCtx;nu(Kl,Hl,this.ctx,Yl),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Nl(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Yl=this.current;this.stateStack.push(Yl),this.current=Yl.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nl(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Yl,Hl,Kl,_c,Ql,su){this.ctx.transform(Yl,Hl,Kl,_c,Ql,su),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Yl,Hl,Kl){const _c=this.ctx,Ql=this.current;let su=Ql.x,gu=Ql.y,Cu,vu;const fu=(0,co.getCurrentTransform)(_c),Fu=fu[0]===0&&fu[3]===0||fu[1]===0&&fu[2]===0,_f=Fu?Kl.slice(0):null;for(let Xu=0,Gu=0,Uu=Yl.length;Xu<Uu;Xu++)switch(Yl[Xu]|0){case lo.OPS.rectangle:su=Hl[Gu++],gu=Hl[Gu++];const Au=Hl[Gu++],Pu=Hl[Gu++],Ou=su+Au,ip=gu+Pu;_c.moveTo(su,gu),Au===0||Pu===0?_c.lineTo(Ou,ip):(_c.lineTo(Ou,gu),_c.lineTo(Ou,ip),_c.lineTo(su,ip)),Fu||Ql.updateRectMinMax(fu,[su,gu,Ou,ip]),_c.closePath();break;case lo.OPS.moveTo:su=Hl[Gu++],gu=Hl[Gu++],_c.moveTo(su,gu),Fu||Ql.updatePathMinMax(fu,su,gu);break;case lo.OPS.lineTo:su=Hl[Gu++],gu=Hl[Gu++],_c.lineTo(su,gu),Fu||Ql.updatePathMinMax(fu,su,gu);break;case lo.OPS.curveTo:Cu=su,vu=gu,su=Hl[Gu+4],gu=Hl[Gu+5],_c.bezierCurveTo(Hl[Gu],Hl[Gu+1],Hl[Gu+2],Hl[Gu+3],su,gu),Ql.updateCurvePathMinMax(fu,Cu,vu,Hl[Gu],Hl[Gu+1],Hl[Gu+2],Hl[Gu+3],su,gu,_f),Gu+=6;break;case lo.OPS.curveTo2:Cu=su,vu=gu,_c.bezierCurveTo(su,gu,Hl[Gu],Hl[Gu+1],Hl[Gu+2],Hl[Gu+3]),Ql.updateCurvePathMinMax(fu,Cu,vu,su,gu,Hl[Gu],Hl[Gu+1],Hl[Gu+2],Hl[Gu+3],_f),su=Hl[Gu+2],gu=Hl[Gu+3],Gu+=4;break;case lo.OPS.curveTo3:Cu=su,vu=gu,su=Hl[Gu+2],gu=Hl[Gu+3],_c.bezierCurveTo(Hl[Gu],Hl[Gu+1],su,gu,su,gu),Ql.updateCurvePathMinMax(fu,Cu,vu,Hl[Gu],Hl[Gu+1],su,gu,su,gu,_f),Gu+=4;break;case lo.OPS.closePath:_c.closePath();break}Fu&&Ql.updateScalingPathMinMax(fu,_f),Ql.setCurrentPoint(su,gu)}closePath(){this.ctx.closePath()}stroke(Yl=!0){const Hl=this.ctx,Kl=this.current.strokeColor;Hl.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Kl=="object"&&(Kl!=null&&Kl.getPattern)?(Hl.save(),Hl.strokeStyle=Kl.getPattern(Hl,this,(0,co.getCurrentTransformInverse)(Hl),hs.PathType.STROKE),this.rescaleAndStroke(!1),Hl.restore()):this.rescaleAndStroke(!0)),Yl&&this.consumePath(this.current.getClippedPathBoundingBox()),Hl.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Yl=!0){const Hl=this.ctx,Kl=this.current.fillColor,_c=this.current.patternFill;let Ql=!1;_c&&(Hl.save(),Hl.fillStyle=Kl.getPattern(Hl,this,(0,co.getCurrentTransformInverse)(Hl),hs.PathType.FILL),Ql=!0);const su=this.current.getClippedPathBoundingBox();this.contentVisible&&su!==null&&(this.pendingEOFill?(Hl.fill("evenodd"),this.pendingEOFill=!1):Hl.fill()),Ql&&Hl.restore(),Yl&&this.consumePath(su)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zu}eoClip(){this.pendingClip=Wu}beginText(){this.current.textMatrix=lo.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Yl=this.pendingTextPaths,Hl=this.ctx;if(Yl===void 0){Hl.beginPath();return}Hl.save(),Hl.beginPath();for(const Kl of Yl)Hl.setTransform(...Kl.transform),Hl.translate(Kl.x,Kl.y),Kl.addToPath(Hl,Kl.fontSize);Hl.restore(),Hl.clip(),Hl.beginPath(),delete this.pendingTextPaths}setCharSpacing(Yl){this.current.charSpacing=Yl}setWordSpacing(Yl){this.current.wordSpacing=Yl}setHScale(Yl){this.current.textHScale=Yl/100}setLeading(Yl){this.current.leading=-Yl}setFont(Yl,Hl){var fu;const Kl=this.commonObjs.get(Yl),_c=this.current;if(!Kl)throw new Error(`Can't find font for ${Yl}`);if(_c.fontMatrix=Kl.fontMatrix||lo.FONT_IDENTITY_MATRIX,(_c.fontMatrix[0]===0||_c.fontMatrix[3]===0)&&(0,lo.warn)("Invalid font matrix for font "+Yl),Hl<0?(Hl=-Hl,_c.fontDirection=-1):_c.fontDirection=1,this.current.font=Kl,this.current.fontSize=Hl,Kl.isType3Font)return;const Ql=Kl.loadedName||"sans-serif",su=((fu=Kl.systemFontInfo)==null?void 0:fu.css)||`"${Ql}", ${Kl.fallbackName}`;let gu="normal";Kl.black?gu="900":Kl.bold&&(gu="bold");const Cu=Kl.italic?"italic":"normal";let vu=Hl;Hl<xa?vu=xa:Hl>ba&&(vu=ba),this.current.fontSizeScale=Hl/vu,this.ctx.font=`${Cu} ${gu} ${vu}px ${su}`}setTextRenderingMode(Yl){this.current.textRenderingMode=Yl}setTextRise(Yl){this.current.textRise=Yl}moveText(Yl,Hl){this.current.x=this.current.lineX+=Yl,this.current.y=this.current.lineY+=Hl}setLeadingMoveText(Yl,Hl){this.setLeading(-Hl),this.moveText(Yl,Hl)}setTextMatrix(Yl,Hl,Kl,_c,Ql,su){this.current.textMatrix=[Yl,Hl,Kl,_c,Ql,su],this.current.textMatrixScale=Math.hypot(Yl,Hl),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Yl,Hl,Kl,_c){const Ql=this.ctx,su=this.current,gu=su.font,Cu=su.textRenderingMode,vu=su.fontSize/su.fontSizeScale,fu=Cu&lo.TextRenderingMode.FILL_STROKE_MASK,Fu=!!(Cu&lo.TextRenderingMode.ADD_TO_PATH_FLAG),_f=su.patternFill&&!gu.missingFile;let Xu;(gu.disableFontFace||Fu||_f)&&(Xu=gu.getPathGenerator(this.commonObjs,Yl)),gu.disableFontFace||_f?(Ql.save(),Ql.translate(Hl,Kl),Ql.beginPath(),Xu(Ql,vu),_c&&Ql.setTransform(..._c),(fu===lo.TextRenderingMode.FILL||fu===lo.TextRenderingMode.FILL_STROKE)&&Ql.fill(),(fu===lo.TextRenderingMode.STROKE||fu===lo.TextRenderingMode.FILL_STROKE)&&Ql.stroke(),Ql.restore()):((fu===lo.TextRenderingMode.FILL||fu===lo.TextRenderingMode.FILL_STROKE)&&Ql.fillText(Yl,Hl,Kl),(fu===lo.TextRenderingMode.STROKE||fu===lo.TextRenderingMode.FILL_STROKE)&&Ql.strokeText(Yl,Hl,Kl)),Fu&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,co.getCurrentTransform)(Ql),x:Hl,y:Kl,fontSize:vu,addToPath:Xu})}get isFontSubpixelAAEnabled(){const{context:Yl}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Yl.scale(1.5,1),Yl.fillText("I",0,10);const Hl=Yl.getImageData(0,0,10,10).data;let Kl=!1;for(let _c=3;_c<Hl.length;_c+=4)if(Hl[_c]>0&&Hl[_c]<255){Kl=!0;break}return(0,lo.shadow)(this,"isFontSubpixelAAEnabled",Kl)}showText(Yl){const Hl=this.current,Kl=Hl.font;if(Kl.isType3Font)return this.showType3Text(Yl);const _c=Hl.fontSize;if(_c===0)return;const Ql=this.ctx,su=Hl.fontSizeScale,gu=Hl.charSpacing,Cu=Hl.wordSpacing,vu=Hl.fontDirection,fu=Hl.textHScale*vu,Fu=Yl.length,_f=Kl.vertical,Xu=_f?1:-1,Gu=Kl.defaultVMetrics,Uu=_c*Hl.fontMatrix[0],Au=Hl.textRenderingMode===lo.TextRenderingMode.FILL&&!Kl.disableFontFace&&!Hl.patternFill;Ql.save(),Ql.transform(...Hl.textMatrix),Ql.translate(Hl.x,Hl.y+Hl.textRise),vu>0?Ql.scale(fu,-1):Ql.scale(fu,1);let Pu;if(Hl.patternFill){Ql.save();const Eu=Hl.fillColor.getPattern(Ql,this,(0,co.getCurrentTransformInverse)(Ql),hs.PathType.FILL);Pu=(0,co.getCurrentTransform)(Ql),Ql.restore(),Ql.fillStyle=Eu}let Ou=Hl.lineWidth;const ip=Hl.textMatrixScale;if(ip===0||Ou===0){const Eu=Hl.textRenderingMode&lo.TextRenderingMode.FILL_STROKE_MASK;(Eu===lo.TextRenderingMode.STROKE||Eu===lo.TextRenderingMode.FILL_STROKE)&&(Ou=this.getSinglePixelWidth())}else Ou/=ip;if(su!==1&&(Ql.scale(su,su),Ou/=su),Ql.lineWidth=Ou,Kl.isInvalidPDFjsFont){const Eu=[];let Lu=0;for(const up of Yl)Eu.push(up.unicode),Lu+=up.width;Ql.fillText(Eu.join(""),0,0),Hl.x+=Lu*Uu*fu,Ql.restore(),this.compose();return}let $u=0,np;for(np=0;np<Fu;++np){const Eu=Yl[np];if(typeof Eu=="number"){$u+=Xu*Eu*_c/1e3;continue}let Lu=!1;const up=(Eu.isSpace?Cu:0)+gu,mp=Eu.fontChar,Rp=Eu.accent;let kp,hu,Zl=Eu.width;if(_f){const Nu=Eu.vmetric||Gu,Zu=-(Eu.vmetric?Nu[1]:Zl*.5)*Uu,Vu=Nu[2]*Uu;Zl=Nu?-Nu[0]:Zl,kp=Zu/su,hu=($u+Vu)/su}else kp=$u/su,hu=0;if(Kl.remeasure&&Zl>0){const Nu=Ql.measureText(mp).width*1e3/_c*su;if(Zl<Nu&&this.isFontSubpixelAAEnabled){const Zu=Zl/Nu;Lu=!0,Ql.save(),Ql.scale(Zu,1),kp/=Zu}else Zl!==Nu&&(kp+=(Zl-Nu)/2e3*_c/su)}if(this.contentVisible&&(Eu.isInFont||Kl.missingFile)){if(Au&&!Rp)Ql.fillText(mp,kp,hu);else if(this.paintChar(mp,kp,hu,Pu),Rp){const Nu=kp+_c*Rp.offset.x/su,Zu=hu-_c*Rp.offset.y/su;this.paintChar(Rp.fontChar,Nu,Zu,Pu)}}const eu=_f?Zl*Uu-up*vu:Zl*Uu+up*vu;$u+=eu,Lu&&Ql.restore()}_f?Hl.y-=$u:Hl.x+=$u*fu,Ql.restore(),this.compose()}showType3Text(Yl){const Hl=this.ctx,Kl=this.current,_c=Kl.font,Ql=Kl.fontSize,su=Kl.fontDirection,gu=_c.vertical?1:-1,Cu=Kl.charSpacing,vu=Kl.wordSpacing,fu=Kl.textHScale*su,Fu=Kl.fontMatrix||lo.FONT_IDENTITY_MATRIX,_f=Yl.length,Xu=Kl.textRenderingMode===lo.TextRenderingMode.INVISIBLE;let Gu,Uu,Au,Pu;if(!(Xu||Ql===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Hl.save(),Hl.transform(...Kl.textMatrix),Hl.translate(Kl.x,Kl.y),Hl.scale(fu,su),Gu=0;Gu<_f;++Gu){if(Uu=Yl[Gu],typeof Uu=="number"){Pu=gu*Uu*Ql/1e3,this.ctx.translate(Pu,0),Kl.x+=Pu*fu;continue}const Ou=(Uu.isSpace?vu:0)+Cu,ip=_c.charProcOperatorList[Uu.operatorListId];if(!ip){(0,lo.warn)(`Type3 character "${Uu.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Uu,this.save(),Hl.scale(Ql,Ql),Hl.transform(...Fu),this.executeOperatorList(ip),this.restore()),Au=lo.Util.applyTransform([Uu.width,0],Fu)[0]*Ql+Ou,Hl.translate(Au,0),Kl.x+=Au*fu}Hl.restore(),this.processingType3=null}}setCharWidth(Yl,Hl){}setCharWidthAndBounds(Yl,Hl,Kl,_c,Ql,su){this.ctx.rect(Kl,_c,Ql-Kl,su-_c),this.ctx.clip(),this.endPath()}getColorN_Pattern(Yl){let Hl;if(Yl[0]==="TilingPattern"){const Kl=Yl[1],_c=this.baseTransform||(0,co.getCurrentTransform)(this.ctx),Ql={createCanvasGraphics:su=>new cu(su,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Hl=new hs.TilingPattern(Yl,Kl,this.ctx,Ql,_c)}else Hl=this._getPattern(Yl[1],Yl[2]);return Hl}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Yl,Hl,Kl){const _c=lo.Util.makeHexColor(Yl,Hl,Kl);this.ctx.strokeStyle=_c,this.current.strokeColor=_c}setFillRGBColor(Yl,Hl,Kl){const _c=lo.Util.makeHexColor(Yl,Hl,Kl);this.ctx.fillStyle=_c,this.current.fillColor=_c,this.current.patternFill=!1}_getPattern(Yl,Hl=null){let Kl;return this.cachedPatterns.has(Yl)?Kl=this.cachedPatterns.get(Yl):(Kl=(0,hs.getShadingPattern)(this.getObject(Yl)),this.cachedPatterns.set(Yl,Kl)),Hl&&(Kl.matrix=Hl),Kl}shadingFill(Yl){if(!this.contentVisible)return;const Hl=this.ctx;this.save();const Kl=this._getPattern(Yl);Hl.fillStyle=Kl.getPattern(Hl,this,(0,co.getCurrentTransformInverse)(Hl),hs.PathType.SHADING);const _c=(0,co.getCurrentTransformInverse)(Hl);if(_c){const{width:Ql,height:su}=Hl.canvas,[gu,Cu,vu,fu]=lo.Util.getAxialAlignedBoundingBox([0,0,Ql,su],_c);this.ctx.fillRect(gu,Cu,vu-gu,fu-Cu)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,lo.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,lo.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Yl,Hl){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Yl)&&Yl.length===6&&this.transform(...Yl),this.baseTransform=(0,co.getCurrentTransform)(this.ctx),Hl)){const Kl=Hl[2]-Hl[0],_c=Hl[3]-Hl[1];this.ctx.rect(Hl[0],Hl[1],Kl,_c),this.current.updateRectMinMax((0,co.getCurrentTransform)(this.ctx),Hl),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Yl){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Hl=this.ctx;Yl.isolated||(0,lo.info)("TODO: Support non-isolated groups."),Yl.knockout&&(0,lo.warn)("Knockout groups not supported.");const Kl=(0,co.getCurrentTransform)(Hl);if(Yl.matrix&&Hl.transform(...Yl.matrix),!Yl.bbox)throw new Error("Bounding box is required.");let _c=lo.Util.getAxialAlignedBoundingBox(Yl.bbox,(0,co.getCurrentTransform)(Hl));const Ql=[0,0,Hl.canvas.width,Hl.canvas.height];_c=lo.Util.intersect(_c,Ql)||[0,0,0,0];const su=Math.floor(_c[0]),gu=Math.floor(_c[1]);let Cu=Math.max(Math.ceil(_c[2])-su,1),vu=Math.max(Math.ceil(_c[3])-gu,1),fu=1,Fu=1;Cu>$a&&(fu=Cu/$a,Cu=$a),vu>$a&&(Fu=vu/$a,vu=$a),this.current.startNewPathAndClipBox([0,0,Cu,vu]);let _f="groupAt"+this.groupLevel;Yl.smask&&(_f+="_smask_"+this.smaskCounter++%2);const Xu=this.cachedCanvases.getCanvas(_f,Cu,vu),Gu=Xu.context;Gu.scale(1/fu,1/Fu),Gu.translate(-su,-gu),Gu.transform(...Kl),Yl.smask?this.smaskStack.push({canvas:Xu.canvas,context:Gu,offsetX:su,offsetY:gu,scaleX:fu,scaleY:Fu,subtype:Yl.smask.subtype,backdrop:Yl.smask.backdrop,transferMap:Yl.smask.transferMap||null,startTransformInverse:null}):(Hl.setTransform(1,0,0,1,0,0),Hl.translate(su,gu),Hl.scale(fu,Fu),Hl.save()),Nl(Hl,Gu),this.ctx=Gu,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Hl),this.groupLevel++}endGroup(Yl){if(!this.contentVisible)return;this.groupLevel--;const Hl=this.ctx,Kl=this.groupStack.pop();if(this.ctx=Kl,this.ctx.imageSmoothingEnabled=!1,Yl.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _c=(0,co.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._c);const Ql=lo.Util.getAxialAlignedBoundingBox([0,0,Hl.canvas.width,Hl.canvas.height],_c);this.ctx.drawImage(Hl.canvas,0,0),this.ctx.restore(),this.compose(Ql)}}beginAnnotation(Yl,Hl,Kl,_c,Ql){if(Ep(this,Mu,pE).call(this),zl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Hl)&&Hl.length===4){const su=Hl[2]-Hl[0],gu=Hl[3]-Hl[1];if(Ql&&this.annotationCanvasMap){Kl=Kl.slice(),Kl[4]-=Hl[0],Kl[5]-=Hl[1],Hl=Hl.slice(),Hl[0]=Hl[1]=0,Hl[2]=su,Hl[3]=gu;const[Cu,vu]=lo.Util.singularValueDecompose2dScale((0,co.getCurrentTransform)(this.ctx)),{viewportScale:fu}=this,Fu=Math.ceil(su*this.outputScaleX*fu),_f=Math.ceil(gu*this.outputScaleY*fu);this.annotationCanvas=this.canvasFactory.create(Fu,_f);const{canvas:Xu,context:Gu}=this.annotationCanvas;this.annotationCanvasMap.set(Yl,Xu),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Gu,this.ctx.save(),this.ctx.setTransform(Cu,0,0,-vu,0,gu*vu),zl(this.ctx)}else zl(this.ctx),this.ctx.rect(Hl[0],Hl[1],su,gu),this.ctx.clip(),this.endPath()}this.current=new Dl(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Kl),this.transform(..._c)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ep(this,Mu,gE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Yl){if(!this.contentVisible)return;const Hl=Yl.count;Yl=this.getObject(Yl.data,Yl),Yl.count=Hl;const Kl=this.ctx,_c=this.processingType3;if(_c&&(_c.compiled===void 0&&(_c.compiled=Tl(Yl)),_c.compiled)){_c.compiled(Kl);return}const Ql=this._createMaskCanvas(Yl),su=Ql.canvas;Kl.save(),Kl.setTransform(1,0,0,1,0,0),Kl.drawImage(su,Ql.offsetX,Ql.offsetY),Kl.restore(),this.compose()}paintImageMaskXObjectRepeat(Yl,Hl,Kl=0,_c=0,Ql,su){if(!this.contentVisible)return;Yl=this.getObject(Yl.data,Yl);const gu=this.ctx;gu.save();const Cu=(0,co.getCurrentTransform)(gu);gu.transform(Hl,Kl,_c,Ql,0,0);const vu=this._createMaskCanvas(Yl);gu.setTransform(1,0,0,1,vu.offsetX-Cu[4],vu.offsetY-Cu[5]);for(let fu=0,Fu=su.length;fu<Fu;fu+=2){const _f=lo.Util.transform(Cu,[Hl,Kl,_c,Ql,su[fu],su[fu+1]]),[Xu,Gu]=lo.Util.applyTransform([0,0],_f);gu.drawImage(vu.canvas,Xu,Gu)}gu.restore(),this.compose()}paintImageMaskXObjectGroup(Yl){if(!this.contentVisible)return;const Hl=this.ctx,Kl=this.current.fillColor,_c=this.current.patternFill;for(const Ql of Yl){const{data:su,width:gu,height:Cu,transform:vu}=Ql,fu=this.cachedCanvases.getCanvas("maskCanvas",gu,Cu),Fu=fu.context;Fu.save();const _f=this.getObject(su,Ql);Ll(Fu,_f),Fu.globalCompositeOperation="source-in",Fu.fillStyle=_c?Kl.getPattern(Fu,this,(0,co.getCurrentTransformInverse)(Hl),hs.PathType.FILL):Kl,Fu.fillRect(0,0,gu,Cu),Fu.restore(),Hl.save(),Hl.transform(...vu),Hl.scale(1,-1),Ml(Hl,fu.canvas,0,0,gu,Cu,0,-1,1,1),Hl.restore()}this.compose()}paintImageXObject(Yl){if(!this.contentVisible)return;const Hl=this.getObject(Yl);if(!Hl){(0,lo.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Hl)}paintImageXObjectRepeat(Yl,Hl,Kl,_c){if(!this.contentVisible)return;const Ql=this.getObject(Yl);if(!Ql){(0,lo.warn)("Dependent image isn't ready yet");return}const su=Ql.width,gu=Ql.height,Cu=[];for(let vu=0,fu=_c.length;vu<fu;vu+=2)Cu.push({transform:[Hl,0,0,Kl,_c[vu],_c[vu+1]],x:0,y:0,w:su,h:gu});this.paintInlineImageXObjectGroup(Ql,Cu)}applyTransferMapsToCanvas(Yl){return this.current.transferMaps!=="none"&&(Yl.filter=this.current.transferMaps,Yl.drawImage(Yl.canvas,0,0),Yl.filter="none"),Yl.canvas}applyTransferMapsToBitmap(Yl){if(this.current.transferMaps==="none")return Yl.bitmap;const{bitmap:Hl,width:Kl,height:_c}=Yl,Ql=this.cachedCanvases.getCanvas("inlineImage",Kl,_c),su=Ql.context;return su.filter=this.current.transferMaps,su.drawImage(Hl,0,0),su.filter="none",Ql.canvas}paintInlineImageXObject(Yl){if(!this.contentVisible)return;const Hl=Yl.width,Kl=Yl.height,_c=this.ctx;if(this.save(),!lo.isNodeJS){const{filter:gu}=_c;gu!=="none"&&gu!==""&&(_c.filter="none")}_c.scale(1/Hl,-1/Kl);let Ql;if(Yl.bitmap)Ql=this.applyTransferMapsToBitmap(Yl);else if(typeof HTMLElement=="function"&&Yl instanceof HTMLElement||!Yl.data)Ql=Yl;else{const Cu=this.cachedCanvases.getCanvas("inlineImage",Hl,Kl).context;Bl(Cu,Yl),Ql=this.applyTransferMapsToCanvas(Cu)}const su=this._scaleImage(Ql,(0,co.getCurrentTransformInverse)(_c));_c.imageSmoothingEnabled=Jl((0,co.getCurrentTransform)(_c),Yl.interpolate),Ml(_c,su.img,0,0,su.paintWidth,su.paintHeight,0,-Kl,Hl,Kl),this.compose(),this.restore()}paintInlineImageXObjectGroup(Yl,Hl){if(!this.contentVisible)return;const Kl=this.ctx;let _c;if(Yl.bitmap)_c=Yl.bitmap;else{const Ql=Yl.width,su=Yl.height,Cu=this.cachedCanvases.getCanvas("inlineImage",Ql,su).context;Bl(Cu,Yl),_c=this.applyTransferMapsToCanvas(Cu)}for(const Ql of Hl)Kl.save(),Kl.transform(...Ql.transform),Kl.scale(1,-1),Ml(Kl,_c,Ql.x,Ql.y,Ql.w,Ql.h,0,-1,1,1),Kl.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Yl){}markPointProps(Yl,Hl){}beginMarkedContent(Yl){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Yl,Hl){Yl==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Hl)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Yl){const Hl=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Yl);const Kl=this.ctx;this.pendingClip&&(Hl||(this.pendingClip===Wu?Kl.clip("evenodd"):Kl.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Kl.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Yl=(0,co.getCurrentTransform)(this.ctx);if(Yl[1]===0&&Yl[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Yl[0]),Math.abs(Yl[3]));else{const Hl=Math.abs(Yl[0]*Yl[3]-Yl[2]*Yl[1]),Kl=Math.hypot(Yl[0],Yl[2]),_c=Math.hypot(Yl[1],Yl[3]);this._cachedGetSinglePixelWidth=Math.max(Kl,_c)/Hl}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Yl}=this.current,{a:Hl,b:Kl,c:_c,d:Ql}=this.ctx.getTransform();let su,gu;if(Kl===0&&_c===0){const Cu=Math.abs(Hl),vu=Math.abs(Ql);if(Cu===vu)if(Yl===0)su=gu=1/Cu;else{const fu=Cu*Yl;su=gu=fu<1?1/fu:1}else if(Yl===0)su=1/Cu,gu=1/vu;else{const fu=Cu*Yl,Fu=vu*Yl;su=fu<1?1/fu:1,gu=Fu<1?1/Fu:1}}else{const Cu=Math.abs(Hl*Ql-Kl*_c),vu=Math.hypot(Hl,Kl),fu=Math.hypot(_c,Ql);if(Yl===0)su=fu/Cu,gu=vu/Cu;else{const Fu=Yl*Cu;su=fu>Fu?fu/Fu:1,gu=vu>Fu?vu/Fu:1}}this._cachedScaleForStroking[0]=su,this._cachedScaleForStroking[1]=gu}return this._cachedScaleForStroking}rescaleAndStroke(Yl){const{ctx:Hl}=this,{lineWidth:Kl}=this.current,[_c,Ql]=this.getScaleForStroking();if(Hl.lineWidth=Kl||1,_c===1&&Ql===1){Hl.stroke();return}const su=Hl.getLineDash();if(Yl&&Hl.save(),Hl.scale(_c,Ql),su.length>0){const gu=Math.max(_c,Ql);Hl.setLineDash(su.map(Cu=>Cu/gu)),Hl.lineDashOffset/=gu}Hl.stroke(),Yl&&Hl.restore()}isContentVisible(){for(let Yl=this.markedContentStack.length-1;Yl>=0;Yl--)if(!this.markedContentStack[Yl].visible)return!1;return!0}};Mu=new WeakSet,pE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gE=function(){if(this.pageColors){const Yl=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Yl!=="none"){const Hl=this.ctx.filter;this.ctx.filter=Yl,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Hl}}};let qu=cu;is.CanvasGraphics=qu;for(const ru in lo.OPS)qu.prototype[ru]!==void 0&&(qu.prototype[lo.OPS[ru]]=qu.prototype[ru])},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.TilingPattern=is.PathType=void 0,is.getShadingPattern=_l;var lo=cs(1),co=cs(6);const hs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};is.PathType=hs;function uo(Tl,Dl){if(!Dl)return;const Bl=Dl[2]-Dl[0],Ll=Dl[3]-Dl[1],Nl=new Path2D;Nl.rect(Dl[0],Dl[1],Bl,Ll),Tl.clip(Nl)}class xa{constructor(){this.constructor===xa&&(0,lo.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,lo.unreachable)("Abstract method `getPattern` called.")}}class ba extends xa{constructor(Dl){super(),this._type=Dl[1],this._bbox=Dl[2],this._colorStops=Dl[3],this._p0=Dl[4],this._p1=Dl[5],this._r0=Dl[6],this._r1=Dl[7],this.matrix=null}_createGradient(Dl){let Bl;this._type==="axial"?Bl=Dl.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Bl=Dl.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ll of this._colorStops)Bl.addColorStop(Ll[0],Ll[1]);return Bl}getPattern(Dl,Bl,Ll,Nl){let zl;if(Nl===hs.STROKE||Nl===hs.FILL){const $l=Bl.current.getClippedPathBoundingBox(Nl,(0,co.getCurrentTransform)(Dl))||[0,0,0,0],Vl=Math.ceil($l[2]-$l[0])||1,Gl=Math.ceil($l[3]-$l[1])||1,iu=Bl.cachedCanvases.getCanvas("pattern",Vl,Gl,!0),nu=iu.context;nu.clearRect(0,0,nu.canvas.width,nu.canvas.height),nu.beginPath(),nu.rect(0,0,nu.canvas.width,nu.canvas.height),nu.translate(-$l[0],-$l[1]),Ll=lo.Util.transform(Ll,[1,0,0,1,$l[0],$l[1]]),nu.transform(...Bl.baseTransform),this.matrix&&nu.transform(...this.matrix),uo(nu,this._bbox),nu.fillStyle=this._createGradient(nu),nu.fill(),zl=Dl.createPattern(iu.canvas,"no-repeat");const Jl=new DOMMatrix(Ll);zl.setTransform(Jl)}else uo(Dl,this._bbox),zl=this._createGradient(Dl);return zl}}function $a(Tl,Dl,Bl,Ll,Nl,zl,$l,Vl){const Gl=Dl.coords,iu=Dl.colors,nu=Tl.data,Jl=Tl.width*4;let lu;Gl[Bl+1]>Gl[Ll+1]&&(lu=Bl,Bl=Ll,Ll=lu,lu=zl,zl=$l,$l=lu),Gl[Ll+1]>Gl[Nl+1]&&(lu=Ll,Ll=Nl,Nl=lu,lu=$l,$l=Vl,Vl=lu),Gl[Bl+1]>Gl[Ll+1]&&(lu=Bl,Bl=Ll,Ll=lu,lu=zl,zl=$l,$l=lu);const ju=(Gl[Bl]+Dl.offsetX)*Dl.scaleX,zu=(Gl[Bl+1]+Dl.offsetY)*Dl.scaleY,Wu=(Gl[Ll]+Dl.offsetX)*Dl.scaleX,qu=(Gl[Ll+1]+Dl.offsetY)*Dl.scaleY,Mu=(Gl[Nl]+Dl.offsetX)*Dl.scaleX,mu=(Gl[Nl+1]+Dl.offsetY)*Dl.scaleY;if(zu>=mu)return;const uu=iu[zl],cu=iu[zl+1],ru=iu[zl+2],Yl=iu[$l],Hl=iu[$l+1],Kl=iu[$l+2],_c=iu[Vl],Ql=iu[Vl+1],su=iu[Vl+2],gu=Math.round(zu),Cu=Math.round(mu);let vu,fu,Fu,_f,Xu,Gu,Uu,Au;for(let Pu=gu;Pu<=Cu;Pu++){if(Pu<qu){const Eu=Pu<zu?0:(zu-Pu)/(zu-qu);vu=ju-(ju-Wu)*Eu,fu=uu-(uu-Yl)*Eu,Fu=cu-(cu-Hl)*Eu,_f=ru-(ru-Kl)*Eu}else{let Eu;Pu>mu?Eu=1:qu===mu?Eu=0:Eu=(qu-Pu)/(qu-mu),vu=Wu-(Wu-Mu)*Eu,fu=Yl-(Yl-_c)*Eu,Fu=Hl-(Hl-Ql)*Eu,_f=Kl-(Kl-su)*Eu}let Ou;Pu<zu?Ou=0:Pu>mu?Ou=1:Ou=(zu-Pu)/(zu-mu),Xu=ju-(ju-Mu)*Ou,Gu=uu-(uu-_c)*Ou,Uu=cu-(cu-Ql)*Ou,Au=ru-(ru-su)*Ou;const ip=Math.round(Math.min(vu,Xu)),$u=Math.round(Math.max(vu,Xu));let np=Jl*Pu+ip*4;for(let Eu=ip;Eu<=$u;Eu++)Ou=(vu-Eu)/(vu-Xu),Ou<0?Ou=0:Ou>1&&(Ou=1),nu[np++]=fu-(fu-Gu)*Ou|0,nu[np++]=Fu-(Fu-Uu)*Ou|0,nu[np++]=_f-(_f-Au)*Ou|0,nu[np++]=255}}function wl(Tl,Dl,Bl){const Ll=Dl.coords,Nl=Dl.colors;let zl,$l;switch(Dl.type){case"lattice":const Vl=Dl.verticesPerRow,Gl=Math.floor(Ll.length/Vl)-1,iu=Vl-1;for(zl=0;zl<Gl;zl++){let nu=zl*Vl;for(let Jl=0;Jl<iu;Jl++,nu++)$a(Tl,Bl,Ll[nu],Ll[nu+1],Ll[nu+Vl],Nl[nu],Nl[nu+1],Nl[nu+Vl]),$a(Tl,Bl,Ll[nu+Vl+1],Ll[nu+1],Ll[nu+Vl],Nl[nu+Vl+1],Nl[nu+1],Nl[nu+Vl])}break;case"triangles":for(zl=0,$l=Ll.length;zl<$l;zl+=3)$a(Tl,Bl,Ll[zl],Ll[zl+1],Ll[zl+2],Nl[zl],Nl[zl+1],Nl[zl+2]);break;default:throw new Error("illegal figure")}}class Sl extends xa{constructor(Dl){super(),this._coords=Dl[2],this._colors=Dl[3],this._figures=Dl[4],this._bounds=Dl[5],this._bbox=Dl[7],this._background=Dl[8],this.matrix=null}_createMeshCanvas(Dl,Bl,Ll){const Vl=Math.floor(this._bounds[0]),Gl=Math.floor(this._bounds[1]),iu=Math.ceil(this._bounds[2])-Vl,nu=Math.ceil(this._bounds[3])-Gl,Jl=Math.min(Math.ceil(Math.abs(iu*Dl[0]*1.1)),3e3),lu=Math.min(Math.ceil(Math.abs(nu*Dl[1]*1.1)),3e3),ju=iu/Jl,zu=nu/lu,Wu={coords:this._coords,colors:this._colors,offsetX:-Vl,offsetY:-Gl,scaleX:1/ju,scaleY:1/zu},qu=Jl+2*2,Mu=lu+2*2,mu=Ll.getCanvas("mesh",qu,Mu,!1),uu=mu.context,cu=uu.createImageData(Jl,lu);if(Bl){const Yl=cu.data;for(let Hl=0,Kl=Yl.length;Hl<Kl;Hl+=4)Yl[Hl]=Bl[0],Yl[Hl+1]=Bl[1],Yl[Hl+2]=Bl[2],Yl[Hl+3]=255}for(const Yl of this._figures)wl(cu,Yl,Wu);return uu.putImageData(cu,2,2),{canvas:mu.canvas,offsetX:Vl-2*ju,offsetY:Gl-2*zu,scaleX:ju,scaleY:zu}}getPattern(Dl,Bl,Ll,Nl){uo(Dl,this._bbox);let zl;if(Nl===hs.SHADING)zl=lo.Util.singularValueDecompose2dScale((0,co.getCurrentTransform)(Dl));else if(zl=lo.Util.singularValueDecompose2dScale(Bl.baseTransform),this.matrix){const Vl=lo.Util.singularValueDecompose2dScale(this.matrix);zl=[zl[0]*Vl[0],zl[1]*Vl[1]]}const $l=this._createMeshCanvas(zl,Nl===hs.SHADING?null:this._background,Bl.cachedCanvases);return Nl!==hs.SHADING&&(Dl.setTransform(...Bl.baseTransform),this.matrix&&Dl.transform(...this.matrix)),Dl.translate($l.offsetX,$l.offsetY),Dl.scale($l.scaleX,$l.scaleY),Dl.createPattern($l.canvas,"no-repeat")}}class Cl extends xa{getPattern(){return"hotpink"}}function _l(Tl){switch(Tl[0]){case"RadialAxial":return new ba(Tl);case"Mesh":return new Sl(Tl);case"Dummy":return new Cl}throw new Error(`Unknown IR type: ${Tl[0]}`)}const Il={COLORED:1,UNCOLORED:2},Ml=class Ml{constructor(Dl,Bl,Ll,Nl,zl){this.operatorList=Dl[2],this.matrix=Dl[3]||[1,0,0,1,0,0],this.bbox=Dl[4],this.xstep=Dl[5],this.ystep=Dl[6],this.paintType=Dl[7],this.tilingType=Dl[8],this.color=Bl,this.ctx=Ll,this.canvasGraphicsFactory=Nl,this.baseTransform=zl}createPatternCanvas(Dl){const Bl=this.operatorList,Ll=this.bbox,Nl=this.xstep,zl=this.ystep,$l=this.paintType,Vl=this.tilingType,Gl=this.color,iu=this.canvasGraphicsFactory;(0,lo.info)("TilingType: "+Vl);const nu=Ll[0],Jl=Ll[1],lu=Ll[2],ju=Ll[3],zu=lo.Util.singularValueDecompose2dScale(this.matrix),Wu=lo.Util.singularValueDecompose2dScale(this.baseTransform),qu=[zu[0]*Wu[0],zu[1]*Wu[1]],Mu=this.getSizeAndScale(Nl,this.ctx.canvas.width,qu[0]),mu=this.getSizeAndScale(zl,this.ctx.canvas.height,qu[1]),uu=Dl.cachedCanvases.getCanvas("pattern",Mu.size,mu.size,!0),cu=uu.context,ru=iu.createCanvasGraphics(cu);ru.groupLevel=Dl.groupLevel,this.setFillAndStrokeStyleToContext(ru,$l,Gl);let Yl=nu,Hl=Jl,Kl=lu,_c=ju;return nu<0&&(Yl=0,Kl+=Math.abs(nu)),Jl<0&&(Hl=0,_c+=Math.abs(Jl)),cu.translate(-(Mu.scale*Yl),-(mu.scale*Hl)),ru.transform(Mu.scale,0,0,mu.scale,0,0),cu.save(),this.clipBbox(ru,Yl,Hl,Kl,_c),ru.baseTransform=(0,co.getCurrentTransform)(ru.ctx),ru.executeOperatorList(Bl),ru.endDrawing(),{canvas:uu.canvas,scaleX:Mu.scale,scaleY:mu.scale,offsetX:Yl,offsetY:Hl}}getSizeAndScale(Dl,Bl,Ll){Dl=Math.abs(Dl);const Nl=Math.max(Ml.MAX_PATTERN_SIZE,Bl);let zl=Math.ceil(Dl*Ll);return zl>=Nl?zl=Nl:Ll=zl/Dl,{scale:Ll,size:zl}}clipBbox(Dl,Bl,Ll,Nl,zl){const $l=Nl-Bl,Vl=zl-Ll;Dl.ctx.rect(Bl,Ll,$l,Vl),Dl.current.updateRectMinMax((0,co.getCurrentTransform)(Dl.ctx),[Bl,Ll,Nl,zl]),Dl.clip(),Dl.endPath()}setFillAndStrokeStyleToContext(Dl,Bl,Ll){const Nl=Dl.ctx,zl=Dl.current;switch(Bl){case Il.COLORED:const $l=this.ctx;Nl.fillStyle=$l.fillStyle,Nl.strokeStyle=$l.strokeStyle,zl.fillColor=$l.fillStyle,zl.strokeColor=$l.strokeStyle;break;case Il.UNCOLORED:const Vl=lo.Util.makeHexColor(Ll[0],Ll[1],Ll[2]);Nl.fillStyle=Vl,Nl.strokeStyle=Vl,zl.fillColor=Vl,zl.strokeColor=Vl;break;default:throw new lo.FormatError(`Unsupported paint type: ${Bl}`)}}getPattern(Dl,Bl,Ll,Nl){let zl=Ll;Nl!==hs.SHADING&&(zl=lo.Util.transform(zl,Bl.baseTransform),this.matrix&&(zl=lo.Util.transform(zl,this.matrix)));const $l=this.createPatternCanvas(Bl);let Vl=new DOMMatrix(zl);Vl=Vl.translate($l.offsetX,$l.offsetY),Vl=Vl.scale(1/$l.scaleX,1/$l.scaleY);const Gl=Dl.createPattern($l.canvas,"repeat");return Gl.setTransform(Vl),Gl}};r1(Ml,"MAX_PATTERN_SIZE",3e3);let Fl=Ml;is.TilingPattern=Fl},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.convertBlackAndWhiteToRGBA=hs,is.convertToRGBA=co,is.grayToRGBA=xa;var lo=cs(1);function co(ba){switch(ba.kind){case lo.ImageKind.GRAYSCALE_1BPP:return hs(ba);case lo.ImageKind.RGB_24BPP:return uo(ba)}return null}function hs({src:ba,srcPos:$a=0,dest:wl,width:Sl,height:Cl,nonBlackColor:_l=4294967295,inverseDecode:Il=!1}){const Fl=lo.FeatureTest.isLittleEndian?4278190080:255,[Ml,Tl]=Il?[_l,Fl]:[Fl,_l],Dl=Sl>>3,Bl=Sl&7,Ll=ba.length;wl=new Uint32Array(wl.buffer);let Nl=0;for(let zl=0;zl<Cl;zl++){for(const Vl=$a+Dl;$a<Vl;$a++){const Gl=$a<Ll?ba[$a]:255;wl[Nl++]=Gl&128?Tl:Ml,wl[Nl++]=Gl&64?Tl:Ml,wl[Nl++]=Gl&32?Tl:Ml,wl[Nl++]=Gl&16?Tl:Ml,wl[Nl++]=Gl&8?Tl:Ml,wl[Nl++]=Gl&4?Tl:Ml,wl[Nl++]=Gl&2?Tl:Ml,wl[Nl++]=Gl&1?Tl:Ml}if(Bl===0)continue;const $l=$a<Ll?ba[$a++]:255;for(let Vl=0;Vl<Bl;Vl++)wl[Nl++]=$l&1<<7-Vl?Tl:Ml}return{srcPos:$a,destPos:Nl}}function uo({src:ba,srcPos:$a=0,dest:wl,destPos:Sl=0,width:Cl,height:_l}){let Il=0;const Fl=ba.length>>2,Ml=new Uint32Array(ba.buffer,$a,Fl);if(lo.FeatureTest.isLittleEndian){for(;Il<Fl-2;Il+=3,Sl+=4){const Tl=Ml[Il],Dl=Ml[Il+1],Bl=Ml[Il+2];wl[Sl]=Tl|4278190080,wl[Sl+1]=Tl>>>24|Dl<<8|4278190080,wl[Sl+2]=Dl>>>16|Bl<<16|4278190080,wl[Sl+3]=Bl>>>8|4278190080}for(let Tl=Il*4,Dl=ba.length;Tl<Dl;Tl+=3)wl[Sl++]=ba[Tl]|ba[Tl+1]<<8|ba[Tl+2]<<16|4278190080}else{for(;Il<Fl-2;Il+=3,Sl+=4){const Tl=Ml[Il],Dl=Ml[Il+1],Bl=Ml[Il+2];wl[Sl]=Tl|255,wl[Sl+1]=Tl<<24|Dl>>>8|255,wl[Sl+2]=Dl<<16|Bl>>>16|255,wl[Sl+3]=Bl<<8|255}for(let Tl=Il*4,Dl=ba.length;Tl<Dl;Tl+=3)wl[Sl++]=ba[Tl]<<24|ba[Tl+1]<<16|ba[Tl+2]<<8|255}return{srcPos:$a,destPos:Sl}}function xa(ba,$a){if(lo.FeatureTest.isLittleEndian)for(let wl=0,Sl=ba.length;wl<Sl;wl++)$a[wl]=ba[wl]*65793|4278190080;else for(let wl=0,Sl=ba.length;wl<Sl;wl++)$a[wl]=ba[wl]*16843008|255}},(us,is)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.GlobalWorkerOptions=void 0;const cs=Object.create(null);is.GlobalWorkerOptions=cs,cs.workerPort=null,cs.workerSrc=""},(us,is,cs)=>{var ba,g_,m_,iw;Object.defineProperty(is,"__esModule",{value:!0}),is.MessageHandler=void 0;var lo=cs(1);const co={DATA:1,ERROR:2},hs={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function uo(Cl){switch(Cl instanceof Error||typeof Cl=="object"&&Cl!==null||(0,lo.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Cl.name){case"AbortException":return new lo.AbortException(Cl.message);case"MissingPDFException":return new lo.MissingPDFException(Cl.message);case"PasswordException":return new lo.PasswordException(Cl.message,Cl.code);case"UnexpectedResponseException":return new lo.UnexpectedResponseException(Cl.message,Cl.status);case"UnknownErrorException":return new lo.UnknownErrorException(Cl.message,Cl.details);default:return new lo.UnknownErrorException(Cl.message,Cl.toString())}}class xa{constructor(_l,Il,Fl){Op(this,ba);this.sourceName=_l,this.targetName=Il,this.comObj=Fl,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Ml=>{const Tl=Ml.data;if(Tl.targetName!==this.sourceName)return;if(Tl.stream){Ep(this,ba,m_).call(this,Tl);return}if(Tl.callback){const Bl=Tl.callbackId,Ll=this.callbackCapabilities[Bl];if(!Ll)throw new Error(`Cannot resolve callback ${Bl}`);if(delete this.callbackCapabilities[Bl],Tl.callback===co.DATA)Ll.resolve(Tl.data);else if(Tl.callback===co.ERROR)Ll.reject(uo(Tl.reason));else throw new Error("Unexpected callback case");return}const Dl=this.actionHandler[Tl.action];if(!Dl)throw new Error(`Unknown action from worker: ${Tl.action}`);if(Tl.callbackId){const Bl=this.sourceName,Ll=Tl.sourceName;new Promise(function(Nl){Nl(Dl(Tl.data))}).then(function(Nl){Fl.postMessage({sourceName:Bl,targetName:Ll,callback:co.DATA,callbackId:Tl.callbackId,data:Nl})},function(Nl){Fl.postMessage({sourceName:Bl,targetName:Ll,callback:co.ERROR,callbackId:Tl.callbackId,reason:uo(Nl)})});return}if(Tl.streamId){Ep(this,ba,g_).call(this,Tl);return}Dl(Tl.data)},Fl.addEventListener("message",this._onComObjOnMessage)}on(_l,Il){const Fl=this.actionHandler;if(Fl[_l])throw new Error(`There is already an actionName called "${_l}"`);Fl[_l]=Il}send(_l,Il,Fl){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_l,data:Il},Fl)}sendWithPromise(_l,Il,Fl){const Ml=this.callbackId++,Tl=new lo.PromiseCapability;this.callbackCapabilities[Ml]=Tl;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_l,callbackId:Ml,data:Il},Fl)}catch(Dl){Tl.reject(Dl)}return Tl.promise}sendWithStream(_l,Il,Fl,Ml){const Tl=this.streamId++,Dl=this.sourceName,Bl=this.targetName,Ll=this.comObj;return new ReadableStream({start:Nl=>{const zl=new lo.PromiseCapability;return this.streamControllers[Tl]={controller:Nl,startCall:zl,pullCall:null,cancelCall:null,isClosed:!1},Ll.postMessage({sourceName:Dl,targetName:Bl,action:_l,streamId:Tl,data:Il,desiredSize:Nl.desiredSize},Ml),zl.promise},pull:Nl=>{const zl=new lo.PromiseCapability;return this.streamControllers[Tl].pullCall=zl,Ll.postMessage({sourceName:Dl,targetName:Bl,stream:hs.PULL,streamId:Tl,desiredSize:Nl.desiredSize}),zl.promise},cancel:Nl=>{(0,lo.assert)(Nl instanceof Error,"cancel must have a valid reason");const zl=new lo.PromiseCapability;return this.streamControllers[Tl].cancelCall=zl,this.streamControllers[Tl].isClosed=!0,Ll.postMessage({sourceName:Dl,targetName:Bl,stream:hs.CANCEL,streamId:Tl,reason:uo(Nl)}),zl.promise}},Fl)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ba=new WeakSet,g_=function(_l){const Il=_l.streamId,Fl=this.sourceName,Ml=_l.sourceName,Tl=this.comObj,Dl=this,Bl=this.actionHandler[_l.action],Ll={enqueue(Nl,zl=1,$l){if(this.isCancelled)return;const Vl=this.desiredSize;this.desiredSize-=zl,Vl>0&&this.desiredSize<=0&&(this.sinkCapability=new lo.PromiseCapability,this.ready=this.sinkCapability.promise),Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.ENQUEUE,streamId:Il,chunk:Nl},$l)},close(){this.isCancelled||(this.isCancelled=!0,Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.CLOSE,streamId:Il}),delete Dl.streamSinks[Il])},error(Nl){(0,lo.assert)(Nl instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.ERROR,streamId:Il,reason:uo(Nl)}))},sinkCapability:new lo.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:_l.desiredSize,ready:null};Ll.sinkCapability.resolve(),Ll.ready=Ll.sinkCapability.promise,this.streamSinks[Il]=Ll,new Promise(function(Nl){Nl(Bl(_l.data,Ll))}).then(function(){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.START_COMPLETE,streamId:Il,success:!0})},function(Nl){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.START_COMPLETE,streamId:Il,reason:uo(Nl)})})},m_=function(_l){const Il=_l.streamId,Fl=this.sourceName,Ml=_l.sourceName,Tl=this.comObj,Dl=this.streamControllers[Il],Bl=this.streamSinks[Il];switch(_l.stream){case hs.START_COMPLETE:_l.success?Dl.startCall.resolve():Dl.startCall.reject(uo(_l.reason));break;case hs.PULL_COMPLETE:_l.success?Dl.pullCall.resolve():Dl.pullCall.reject(uo(_l.reason));break;case hs.PULL:if(!Bl){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.PULL_COMPLETE,streamId:Il,success:!0});break}Bl.desiredSize<=0&&_l.desiredSize>0&&Bl.sinkCapability.resolve(),Bl.desiredSize=_l.desiredSize,new Promise(function(Ll){var Nl;Ll((Nl=Bl.onPull)==null?void 0:Nl.call(Bl))}).then(function(){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.PULL_COMPLETE,streamId:Il,success:!0})},function(Ll){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.PULL_COMPLETE,streamId:Il,reason:uo(Ll)})});break;case hs.ENQUEUE:if((0,lo.assert)(Dl,"enqueue should have stream controller"),Dl.isClosed)break;Dl.controller.enqueue(_l.chunk);break;case hs.CLOSE:if((0,lo.assert)(Dl,"close should have stream controller"),Dl.isClosed)break;Dl.isClosed=!0,Dl.controller.close(),Ep(this,ba,iw).call(this,Dl,Il);break;case hs.ERROR:(0,lo.assert)(Dl,"error should have stream controller"),Dl.controller.error(uo(_l.reason)),Ep(this,ba,iw).call(this,Dl,Il);break;case hs.CANCEL_COMPLETE:_l.success?Dl.cancelCall.resolve():Dl.cancelCall.reject(uo(_l.reason)),Ep(this,ba,iw).call(this,Dl,Il);break;case hs.CANCEL:if(!Bl)break;new Promise(function(Ll){var Nl;Ll((Nl=Bl.onCancel)==null?void 0:Nl.call(Bl,uo(_l.reason)))}).then(function(){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.CANCEL_COMPLETE,streamId:Il,success:!0})},function(Ll){Tl.postMessage({sourceName:Fl,targetName:Ml,stream:hs.CANCEL_COMPLETE,streamId:Il,reason:uo(Ll)})}),Bl.sinkCapability.reject(uo(_l.reason)),Bl.isCancelled=!0,delete this.streamSinks[Il];break;default:throw new Error("Unexpected stream case")}},iw=async function(_l,Il){var Fl,Ml,Tl;await Promise.allSettled([(Fl=_l.startCall)==null?void 0:Fl.promise,(Ml=_l.pullCall)==null?void 0:Ml.promise,(Tl=_l.cancelCall)==null?void 0:Tl.promise]),delete this.streamControllers[Il]},is.MessageHandler=xa},(us,is,cs)=>{var hs,uo;Object.defineProperty(is,"__esModule",{value:!0}),is.Metadata=void 0;var lo=cs(1);class co{constructor({parsedData:ba,rawData:$a}){Op(this,hs);Op(this,uo);Fp(this,hs,ba),Fp(this,uo,$a)}getRaw(){return pu(this,uo)}get(ba){return pu(this,hs).get(ba)??null}getAll(){return(0,lo.objectFromMap)(pu(this,hs))}has(ba){return pu(this,hs).has(ba)}}hs=new WeakMap,uo=new WeakMap,is.Metadata=co},(us,is,cs)=>{var ba,$a,wl,Sl,Cl,_l,mE;Object.defineProperty(is,"__esModule",{value:!0}),is.OptionalContentConfig=void 0;var lo=cs(1),co=cs(8);const hs=Symbol("INTERNAL");class uo{constructor(Ml,Tl){Op(this,ba,!0);this.name=Ml,this.intent=Tl}get visible(){return pu(this,ba)}_setVisible(Ml,Tl){Ml!==hs&&(0,lo.unreachable)("Internal method `_setVisible` called."),Fp(this,ba,Tl)}}ba=new WeakMap;class xa{constructor(Ml){Op(this,_l);Op(this,$a,null);Op(this,wl,new Map);Op(this,Sl,null);Op(this,Cl,null);if(this.name=null,this.creator=null,Ml!==null){this.name=Ml.name,this.creator=Ml.creator,Fp(this,Cl,Ml.order);for(const Tl of Ml.groups)pu(this,wl).set(Tl.id,new uo(Tl.name,Tl.intent));if(Ml.baseState==="OFF")for(const Tl of pu(this,wl).values())Tl._setVisible(hs,!1);for(const Tl of Ml.on)pu(this,wl).get(Tl)._setVisible(hs,!0);for(const Tl of Ml.off)pu(this,wl).get(Tl)._setVisible(hs,!1);Fp(this,Sl,this.getHash())}}isVisible(Ml){if(pu(this,wl).size===0)return!0;if(!Ml)return(0,lo.warn)("Optional content group not defined."),!0;if(Ml.type==="OCG")return pu(this,wl).has(Ml.id)?pu(this,wl).get(Ml.id).visible:((0,lo.warn)(`Optional content group not found: ${Ml.id}`),!0);if(Ml.type==="OCMD"){if(Ml.expression)return Ep(this,_l,mE).call(this,Ml.expression);if(!Ml.policy||Ml.policy==="AnyOn"){for(const Tl of Ml.ids){if(!pu(this,wl).has(Tl))return(0,lo.warn)(`Optional content group not found: ${Tl}`),!0;if(pu(this,wl).get(Tl).visible)return!0}return!1}else if(Ml.policy==="AllOn"){for(const Tl of Ml.ids){if(!pu(this,wl).has(Tl))return(0,lo.warn)(`Optional content group not found: ${Tl}`),!0;if(!pu(this,wl).get(Tl).visible)return!1}return!0}else if(Ml.policy==="AnyOff"){for(const Tl of Ml.ids){if(!pu(this,wl).has(Tl))return(0,lo.warn)(`Optional content group not found: ${Tl}`),!0;if(!pu(this,wl).get(Tl).visible)return!0}return!1}else if(Ml.policy==="AllOff"){for(const Tl of Ml.ids){if(!pu(this,wl).has(Tl))return(0,lo.warn)(`Optional content group not found: ${Tl}`),!0;if(pu(this,wl).get(Tl).visible)return!1}return!0}return(0,lo.warn)(`Unknown optional content policy ${Ml.policy}.`),!0}return(0,lo.warn)(`Unknown group type ${Ml.type}.`),!0}setVisibility(Ml,Tl=!0){if(!pu(this,wl).has(Ml)){(0,lo.warn)(`Optional content group not found: ${Ml}`);return}pu(this,wl).get(Ml)._setVisible(hs,!!Tl),Fp(this,$a,null)}get hasInitialVisibility(){return pu(this,Sl)===null||this.getHash()===pu(this,Sl)}getOrder(){return pu(this,wl).size?pu(this,Cl)?pu(this,Cl).slice():[...pu(this,wl).keys()]:null}getGroups(){return pu(this,wl).size>0?(0,lo.objectFromMap)(pu(this,wl)):null}getGroup(Ml){return pu(this,wl).get(Ml)||null}getHash(){if(pu(this,$a)!==null)return pu(this,$a);const Ml=new co.MurmurHash3_64;for(const[Tl,Dl]of pu(this,wl))Ml.update(`${Tl}:${Dl.visible}`);return Fp(this,$a,Ml.hexdigest())}}$a=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,_l=new WeakSet,mE=function(Ml){const Tl=Ml.length;if(Tl<2)return!0;const Dl=Ml[0];for(let Bl=1;Bl<Tl;Bl++){const Ll=Ml[Bl];let Nl;if(Array.isArray(Ll))Nl=Ep(this,_l,mE).call(this,Ll);else if(pu(this,wl).has(Ll))Nl=pu(this,wl).get(Ll).visible;else return(0,lo.warn)(`Optional content group not found: ${Ll}`),!0;switch(Dl){case"And":if(!Nl)return!1;break;case"Or":if(Nl)return!0;break;case"Not":return!Nl;default:return!0}}return Dl==="And"},is.OptionalContentConfig=xa},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.PDFDataTransportStream=void 0;var lo=cs(1),co=cs(6);class hs{constructor({length:$a,initialData:wl,progressiveDone:Sl=!1,contentDispositionFilename:Cl=null,disableRange:_l=!1,disableStream:Il=!1},Fl){if((0,lo.assert)(Fl,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Sl,this._contentDispositionFilename=Cl,(wl==null?void 0:wl.length)>0){const Ml=wl instanceof Uint8Array&&wl.byteLength===wl.buffer.byteLength?wl.buffer:new Uint8Array(wl).buffer;this._queuedChunks.push(Ml)}this._pdfDataRangeTransport=Fl,this._isStreamingSupported=!Il,this._isRangeSupported=!_l,this._contentLength=$a,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Ml,Tl)=>{this._onReceiveData({begin:Ml,chunk:Tl})}),this._pdfDataRangeTransport.addProgressListener((Ml,Tl)=>{this._onProgress({loaded:Ml,total:Tl})}),this._pdfDataRangeTransport.addProgressiveReadListener(Ml=>{this._onReceiveData({chunk:Ml})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:$a,chunk:wl}){const Sl=wl instanceof Uint8Array&&wl.byteLength===wl.buffer.byteLength?wl.buffer:new Uint8Array(wl).buffer;if($a===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Sl):this._queuedChunks.push(Sl);else{const Cl=this._rangeReaders.some(function(_l){return _l._begin!==$a?!1:(_l._enqueue(Sl),!0)});(0,lo.assert)(Cl,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $a;return(($a=this._fullRequestReader)==null?void 0:$a._loaded)??0}_onProgress($a){var wl,Sl,Cl,_l;$a.total===void 0?(Sl=(wl=this._rangeReaders[0])==null?void 0:wl.onProgress)==null||Sl.call(wl,{loaded:$a.loaded}):(_l=(Cl=this._fullRequestReader)==null?void 0:Cl.onProgress)==null||_l.call(Cl,{loaded:$a.loaded,total:$a.total})}_onProgressiveDone(){var $a;($a=this._fullRequestReader)==null||$a.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($a){const wl=this._rangeReaders.indexOf($a);wl>=0&&this._rangeReaders.splice(wl,1)}getFullReader(){(0,lo.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $a=this._queuedChunks;return this._queuedChunks=null,new uo(this,$a,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($a,wl){if(wl<=this._progressiveDataLength)return null;const Sl=new xa(this,$a,wl);return this._pdfDataRangeTransport.requestDataRange($a,wl),this._rangeReaders.push(Sl),Sl}cancelAllRequests($a){var wl;(wl=this._fullRequestReader)==null||wl.cancel($a);for(const Sl of this._rangeReaders.slice(0))Sl.cancel($a);this._pdfDataRangeTransport.abort()}}is.PDFDataTransportStream=hs;class uo{constructor($a,wl,Sl=!1,Cl=null){this._stream=$a,this._done=Sl||!1,this._filename=(0,co.isPdfFile)(Cl)?Cl:null,this._queuedChunks=wl||[],this._loaded=0;for(const _l of this._queuedChunks)this._loaded+=_l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$a._fullRequestReader=this,this.onProgress=null}_enqueue($a){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$a,done:!1}):this._queuedChunks.push($a),this._loaded+=$a.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $a=new lo.PromiseCapability;return this._requests.push($a),$a.promise}cancel($a){this._done=!0;for(const wl of this._requests)wl.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xa{constructor($a,wl,Sl){this._stream=$a,this._begin=wl,this._end=Sl,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($a){if(!this._done){if(this._requests.length===0)this._queuedChunk=$a;else{this._requests.shift().resolve({value:$a,done:!1});for(const Sl of this._requests)Sl.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const wl=this._queuedChunk;return this._queuedChunk=null,{value:wl,done:!1}}if(this._done)return{value:void 0,done:!0};const $a=new lo.PromiseCapability;return this._requests.push($a),$a.promise}cancel($a){this._done=!0;for(const wl of this._requests)wl.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.PDFFetchStream=void 0;var lo=cs(1),co=cs(20);function hs(Sl,Cl,_l){return{method:"GET",headers:Sl,signal:_l.signal,mode:"cors",credentials:Cl?"include":"same-origin",redirect:"follow"}}function uo(Sl){const Cl=new Headers;for(const _l in Sl){const Il=Sl[_l];Il!==void 0&&Cl.append(_l,Il)}return Cl}function xa(Sl){return Sl instanceof Uint8Array?Sl.buffer:Sl instanceof ArrayBuffer?Sl:((0,lo.warn)(`getArrayBuffer - unexpected data format: ${Sl}`),new Uint8Array(Sl).buffer)}class ba{constructor(Cl){this.source=Cl,this.isHttp=/^https?:/i.test(Cl.url),this.httpHeaders=this.isHttp&&Cl.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Cl;return((Cl=this._fullRequestReader)==null?void 0:Cl._loaded)??0}getFullReader(){return(0,lo.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $a(this),this._fullRequestReader}getRangeReader(Cl,_l){if(_l<=this._progressiveDataLength)return null;const Il=new wl(this,Cl,_l);return this._rangeRequestReaders.push(Il),Il}cancelAllRequests(Cl){var _l;(_l=this._fullRequestReader)==null||_l.cancel(Cl);for(const Il of this._rangeRequestReaders.slice(0))Il.cancel(Cl)}}is.PDFFetchStream=ba;class $a{constructor(Cl){this._stream=Cl,this._reader=null,this._loaded=0,this._filename=null;const _l=Cl.source;this._withCredentials=_l.withCredentials||!1,this._contentLength=_l.length,this._headersCapability=new lo.PromiseCapability,this._disableRange=_l.disableRange||!1,this._rangeChunkSize=_l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_l.disableStream,this._isRangeSupported=!_l.disableRange,this._headers=uo(this._stream.httpHeaders);const Il=_l.url;fetch(Il,hs(this._headers,this._withCredentials,this._abortController)).then(Fl=>{if(!(0,co.validateResponseStatus)(Fl.status))throw(0,co.createResponseStatusError)(Fl.status,Il);this._reader=Fl.body.getReader(),this._headersCapability.resolve();const Ml=Bl=>Fl.headers.get(Bl),{allowRangeRequests:Tl,suggestedLength:Dl}=(0,co.validateRangeRequestCapabilities)({getResponseHeader:Ml,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Tl,this._contentLength=Dl||this._contentLength,this._filename=(0,co.extractFilenameFromHeader)(Ml),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new lo.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Il;await this._headersCapability.promise;const{value:Cl,done:_l}=await this._reader.read();return _l?{value:Cl,done:_l}:(this._loaded+=Cl.byteLength,(Il=this.onProgress)==null||Il.call(this,{loaded:this._loaded,total:this._contentLength}),{value:xa(Cl),done:!1})}cancel(Cl){var _l;(_l=this._reader)==null||_l.cancel(Cl),this._abortController.abort()}}class wl{constructor(Cl,_l,Il){this._stream=Cl,this._reader=null,this._loaded=0;const Fl=Cl.source;this._withCredentials=Fl.withCredentials||!1,this._readCapability=new lo.PromiseCapability,this._isStreamingSupported=!Fl.disableStream,this._abortController=new AbortController,this._headers=uo(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_l}-${Il-1}`);const Ml=Fl.url;fetch(Ml,hs(this._headers,this._withCredentials,this._abortController)).then(Tl=>{if(!(0,co.validateResponseStatus)(Tl.status))throw(0,co.createResponseStatusError)(Tl.status,Ml);this._readCapability.resolve(),this._reader=Tl.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Il;await this._readCapability.promise;const{value:Cl,done:_l}=await this._reader.read();return _l?{value:Cl,done:_l}:(this._loaded+=Cl.byteLength,(Il=this.onProgress)==null||Il.call(this,{loaded:this._loaded}),{value:xa(Cl),done:!1})}cancel(Cl){var _l;(_l=this._reader)==null||_l.cancel(Cl),this._abortController.abort()}}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.createResponseStatusError=ba,is.extractFilenameFromHeader=xa,is.validateRangeRequestCapabilities=uo,is.validateResponseStatus=$a;var lo=cs(1),co=cs(21),hs=cs(6);function uo({getResponseHeader:wl,isHttp:Sl,rangeChunkSize:Cl,disableRange:_l}){const Il={allowRangeRequests:!1,suggestedLength:void 0},Fl=parseInt(wl("Content-Length"),10);return!Number.isInteger(Fl)||(Il.suggestedLength=Fl,Fl<=2*Cl)||_l||!Sl||wl("Accept-Ranges")!=="bytes"||(wl("Content-Encoding")||"identity")!=="identity"||(Il.allowRangeRequests=!0),Il}function xa(wl){const Sl=wl("Content-Disposition");if(Sl){let Cl=(0,co.getFilenameFromContentDispositionHeader)(Sl);if(Cl.includes("%"))try{Cl=decodeURIComponent(Cl)}catch{}if((0,hs.isPdfFile)(Cl))return Cl}return null}function ba(wl,Sl){return wl===404||wl===0&&Sl.startsWith("file:")?new lo.MissingPDFException('Missing PDF "'+Sl+'".'):new lo.UnexpectedResponseException(`Unexpected server response (${wl}) while retrieving PDF "${Sl}".`,wl)}function $a(wl){return wl===200||wl===206}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.getFilenameFromContentDispositionHeader=co;var lo=cs(1);function co(hs){let uo=!0,xa=ba("filename\\*","i").exec(hs);if(xa){xa=xa[1];let Fl=Cl(xa);return Fl=unescape(Fl),Fl=_l(Fl),Fl=Il(Fl),wl(Fl)}if(xa=Sl(hs),xa){const Fl=Il(xa);return wl(Fl)}if(xa=ba("filename","i").exec(hs),xa){xa=xa[1];let Fl=Cl(xa);return Fl=Il(Fl),wl(Fl)}function ba(Fl,Ml){return new RegExp("(?:^|;)\\s*"+Fl+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Ml)}function $a(Fl,Ml){if(Fl){if(!/^[\x00-\xFF]+$/.test(Ml))return Ml;try{const Tl=new TextDecoder(Fl,{fatal:!0}),Dl=(0,lo.stringToBytes)(Ml);Ml=Tl.decode(Dl),uo=!1}catch{}}return Ml}function wl(Fl){return uo&&/[\x80-\xff]/.test(Fl)&&(Fl=$a("utf-8",Fl),uo&&(Fl=$a("iso-8859-1",Fl))),Fl}function Sl(Fl){const Ml=[];let Tl;const Dl=ba("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Tl=Dl.exec(Fl))!==null;){let[,Ll,Nl,zl]=Tl;if(Ll=parseInt(Ll,10),Ll in Ml){if(Ll===0)break;continue}Ml[Ll]=[Nl,zl]}const Bl=[];for(let Ll=0;Ll<Ml.length&&Ll in Ml;++Ll){let[Nl,zl]=Ml[Ll];zl=Cl(zl),Nl&&(zl=unescape(zl),Ll===0&&(zl=_l(zl))),Bl.push(zl)}return Bl.join("")}function Cl(Fl){if(Fl.startsWith('"')){const Ml=Fl.slice(1).split('\\"');for(let Tl=0;Tl<Ml.length;++Tl){const Dl=Ml[Tl].indexOf('"');Dl!==-1&&(Ml[Tl]=Ml[Tl].slice(0,Dl),Ml.length=Tl+1),Ml[Tl]=Ml[Tl].replaceAll(/\\(.)/g,"$1")}Fl=Ml.join('"')}return Fl}function _l(Fl){const Ml=Fl.indexOf("'");if(Ml===-1)return Fl;const Tl=Fl.slice(0,Ml),Bl=Fl.slice(Ml+1).replace(/^[^']*'/,"");return $a(Tl,Bl)}function Il(Fl){return!Fl.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Fl)?Fl:Fl.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Ml,Tl,Dl,Bl){if(Dl==="q"||Dl==="Q")return Bl=Bl.replaceAll("_"," "),Bl=Bl.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ll,Nl){return String.fromCharCode(parseInt(Nl,16))}),$a(Tl,Bl);try{Bl=atob(Bl)}catch{}return $a(Tl,Bl)})}return""}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.PDFNetworkStream=void 0;var lo=cs(1),co=cs(20);const hs=200,uo=206;function xa(Cl){const _l=Cl.response;return typeof _l!="string"?_l:(0,lo.stringToBytes)(_l).buffer}class ba{constructor(_l,Il={}){this.url=_l,this.isHttp=/^https?:/i.test(_l),this.httpHeaders=this.isHttp&&Il.httpHeaders||Object.create(null),this.withCredentials=Il.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_l,Il,Fl){const Ml={begin:_l,end:Il};for(const Tl in Fl)Ml[Tl]=Fl[Tl];return this.request(Ml)}requestFull(_l){return this.request(_l)}request(_l){const Il=new XMLHttpRequest,Fl=this.currXhrId++,Ml=this.pendingRequests[Fl]={xhr:Il};Il.open("GET",this.url),Il.withCredentials=this.withCredentials;for(const Tl in this.httpHeaders){const Dl=this.httpHeaders[Tl];Dl!==void 0&&Il.setRequestHeader(Tl,Dl)}return this.isHttp&&"begin"in _l&&"end"in _l?(Il.setRequestHeader("Range",`bytes=${_l.begin}-${_l.end-1}`),Ml.expectedStatus=uo):Ml.expectedStatus=hs,Il.responseType="arraybuffer",_l.onError&&(Il.onerror=function(Tl){_l.onError(Il.status)}),Il.onreadystatechange=this.onStateChange.bind(this,Fl),Il.onprogress=this.onProgress.bind(this,Fl),Ml.onHeadersReceived=_l.onHeadersReceived,Ml.onDone=_l.onDone,Ml.onError=_l.onError,Ml.onProgress=_l.onProgress,Il.send(null),Fl}onProgress(_l,Il){var Ml;const Fl=this.pendingRequests[_l];Fl&&((Ml=Fl.onProgress)==null||Ml.call(Fl,Il))}onStateChange(_l,Il){var Ll,Nl,zl;const Fl=this.pendingRequests[_l];if(!Fl)return;const Ml=Fl.xhr;if(Ml.readyState>=2&&Fl.onHeadersReceived&&(Fl.onHeadersReceived(),delete Fl.onHeadersReceived),Ml.readyState!==4||!(_l in this.pendingRequests))return;if(delete this.pendingRequests[_l],Ml.status===0&&this.isHttp){(Ll=Fl.onError)==null||Ll.call(Fl,Ml.status);return}const Tl=Ml.status||hs;if(!(Tl===hs&&Fl.expectedStatus===uo)&&Tl!==Fl.expectedStatus){(Nl=Fl.onError)==null||Nl.call(Fl,Ml.status);return}const Bl=xa(Ml);if(Tl===uo){const $l=Ml.getResponseHeader("Content-Range"),Vl=/bytes (\d+)-(\d+)\/(\d+)/.exec($l);Fl.onDone({begin:parseInt(Vl[1],10),chunk:Bl})}else Bl?Fl.onDone({begin:0,chunk:Bl}):(zl=Fl.onError)==null||zl.call(Fl,Ml.status)}getRequestXhr(_l){return this.pendingRequests[_l].xhr}isPendingRequest(_l){return _l in this.pendingRequests}abortRequest(_l){const Il=this.pendingRequests[_l].xhr;delete this.pendingRequests[_l],Il.abort()}}class $a{constructor(_l){this._source=_l,this._manager=new ba(_l.url,{httpHeaders:_l.httpHeaders,withCredentials:_l.withCredentials}),this._rangeChunkSize=_l.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_l){const Il=this._rangeRequestReaders.indexOf(_l);Il>=0&&this._rangeRequestReaders.splice(Il,1)}getFullReader(){return(0,lo.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wl(this._manager,this._source),this._fullRequestReader}getRangeReader(_l,Il){const Fl=new Sl(this._manager,_l,Il);return Fl.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Fl),Fl}cancelAllRequests(_l){var Il;(Il=this._fullRequestReader)==null||Il.cancel(_l);for(const Fl of this._rangeRequestReaders.slice(0))Fl.cancel(_l)}}is.PDFNetworkStream=$a;class wl{constructor(_l,Il){this._manager=_l;const Fl={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Il.url,this._fullRequestId=_l.requestFull(Fl),this._headersReceivedCapability=new lo.PromiseCapability,this._disableRange=Il.disableRange||!1,this._contentLength=Il.length,this._rangeChunkSize=Il.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _l=this._fullRequestId,Il=this._manager.getRequestXhr(_l),Fl=Dl=>Il.getResponseHeader(Dl),{allowRangeRequests:Ml,suggestedLength:Tl}=(0,co.validateRangeRequestCapabilities)({getResponseHeader:Fl,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Ml&&(this._isRangeSupported=!0),this._contentLength=Tl||this._contentLength,this._filename=(0,co.extractFilenameFromHeader)(Fl),this._isRangeSupported&&this._manager.abortRequest(_l),this._headersReceivedCapability.resolve()}_onDone(_l){if(_l&&(this._requests.length>0?this._requests.shift().resolve({value:_l.chunk,done:!1}):this._cachedChunks.push(_l.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Il of this._requests)Il.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_l){this._storedError=(0,co.createResponseStatusError)(_l,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Il of this._requests)Il.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_l){var Il;(Il=this.onProgress)==null||Il.call(this,{loaded:_l.loaded,total:_l.lengthComputable?_l.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _l=new lo.PromiseCapability;return this._requests.push(_l),_l.promise}cancel(_l){this._done=!0,this._headersReceivedCapability.reject(_l);for(const Il of this._requests)Il.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Sl{constructor(_l,Il,Fl){this._manager=_l;const Ml={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_l.url,this._requestId=_l.requestRange(Il,Fl,Ml),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _l;(_l=this.onClosed)==null||_l.call(this,this)}_onDone(_l){const Il=_l.chunk;this._requests.length>0?this._requests.shift().resolve({value:Il,done:!1}):this._queuedChunk=Il,this._done=!0;for(const Fl of this._requests)Fl.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_l){this._storedError=(0,co.createResponseStatusError)(_l,this._url);for(const Il of this._requests)Il.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_l){var Il;this.isStreamingSupported||(Il=this.onProgress)==null||Il.call(this,{loaded:_l.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Il=this._queuedChunk;return this._queuedChunk=null,{value:Il,done:!1}}if(this._done)return{value:void 0,done:!0};const _l=new lo.PromiseCapability;return this._requests.push(_l),_l.promise}cancel(_l){this._done=!0;for(const Il of this._requests)Il.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.PDFNodeStream=void 0;var lo=cs(1),co=cs(20);const hs=/^file:\/\/\/[a-zA-Z]:\//;function uo(Fl){const Ml=requireUrl(),Tl=Ml.parse(Fl);return Tl.protocol==="file:"||Tl.host?Tl:/^[a-z]:[/\\]/i.test(Fl)?Ml.parse(`file:///${Fl}`):(Tl.host||(Tl.protocol="file:"),Tl)}class xa{constructor(Ml){this.source=Ml,this.url=uo(Ml.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Ml.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ml;return((Ml=this._fullRequestReader)==null?void 0:Ml._loaded)??0}getFullReader(){return(0,lo.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _l(this):new Sl(this),this._fullRequestReader}getRangeReader(Ml,Tl){if(Tl<=this._progressiveDataLength)return null;const Dl=this.isFsUrl?new Il(this,Ml,Tl):new Cl(this,Ml,Tl);return this._rangeRequestReaders.push(Dl),Dl}cancelAllRequests(Ml){var Tl;(Tl=this._fullRequestReader)==null||Tl.cancel(Ml);for(const Dl of this._rangeRequestReaders.slice(0))Dl.cancel(Ml)}}is.PDFNodeStream=xa;class ba{constructor(Ml){this._url=Ml.url,this._done=!1,this._storedError=null,this.onProgress=null;const Tl=Ml.source;this._contentLength=Tl.length,this._loaded=0,this._filename=null,this._disableRange=Tl.disableRange||!1,this._rangeChunkSize=Tl.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Tl.disableStream,this._isRangeSupported=!Tl.disableRange,this._readableStream=null,this._readCapability=new lo.PromiseCapability,this._headersCapability=new lo.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dl;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ml=this._readableStream.read();return Ml===null?(this._readCapability=new lo.PromiseCapability,this.read()):(this._loaded+=Ml.length,(Dl=this.onProgress)==null||Dl.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ml).buffer,done:!1})}cancel(Ml){if(!this._readableStream){this._error(Ml);return}this._readableStream.destroy(Ml)}_error(Ml){this._storedError=Ml,this._readCapability.resolve()}_setReadableStream(Ml){this._readableStream=Ml,Ml.on("readable",()=>{this._readCapability.resolve()}),Ml.on("end",()=>{Ml.destroy(),this._done=!0,this._readCapability.resolve()}),Ml.on("error",Tl=>{this._error(Tl)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new lo.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $a{constructor(Ml){this._url=Ml.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new lo.PromiseCapability;const Tl=Ml.source;this._isStreamingSupported=!Tl.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dl;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ml=this._readableStream.read();return Ml===null?(this._readCapability=new lo.PromiseCapability,this.read()):(this._loaded+=Ml.length,(Dl=this.onProgress)==null||Dl.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ml).buffer,done:!1})}cancel(Ml){if(!this._readableStream){this._error(Ml);return}this._readableStream.destroy(Ml)}_error(Ml){this._storedError=Ml,this._readCapability.resolve()}_setReadableStream(Ml){this._readableStream=Ml,Ml.on("readable",()=>{this._readCapability.resolve()}),Ml.on("end",()=>{Ml.destroy(),this._done=!0,this._readCapability.resolve()}),Ml.on("error",Tl=>{this._error(Tl)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function wl(Fl,Ml){return{protocol:Fl.protocol,auth:Fl.auth,host:Fl.hostname,port:Fl.port,path:Fl.path,method:"GET",headers:Ml}}class Sl extends ba{constructor(Ml){super(Ml);const Tl=Dl=>{if(Dl.statusCode===404){const zl=new lo.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=zl,this._headersCapability.reject(zl);return}this._headersCapability.resolve(),this._setReadableStream(Dl);const Bl=zl=>this._readableStream.headers[zl.toLowerCase()],{allowRangeRequests:Ll,suggestedLength:Nl}=(0,co.validateRangeRequestCapabilities)({getResponseHeader:Bl,isHttp:Ml.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ll,this._contentLength=Nl||this._contentLength,this._filename=(0,co.extractFilenameFromHeader)(Bl)};if(this._request=null,this._url.protocol==="http:"){const Dl=requireStreamHttp();this._request=Dl.request(wl(this._url,Ml.httpHeaders),Tl)}else{const Dl=requireHttpsBrowserify();this._request=Dl.request(wl(this._url,Ml.httpHeaders),Tl)}this._request.on("error",Dl=>{this._storedError=Dl,this._headersCapability.reject(Dl)}),this._request.end()}}class Cl extends $a{constructor(Ml,Tl,Dl){super(Ml),this._httpHeaders={};for(const Ll in Ml.httpHeaders){const Nl=Ml.httpHeaders[Ll];Nl!==void 0&&(this._httpHeaders[Ll]=Nl)}this._httpHeaders.Range=`bytes=${Tl}-${Dl-1}`;const Bl=Ll=>{if(Ll.statusCode===404){const Nl=new lo.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Nl;return}this._setReadableStream(Ll)};if(this._request=null,this._url.protocol==="http:"){const Ll=requireStreamHttp();this._request=Ll.request(wl(this._url,this._httpHeaders),Bl)}else{const Ll=requireHttpsBrowserify();this._request=Ll.request(wl(this._url,this._httpHeaders),Bl)}this._request.on("error",Ll=>{this._storedError=Ll}),this._request.end()}}class _l extends ba{constructor(Ml){super(Ml);let Tl=decodeURIComponent(this._url.path);hs.test(this._url.href)&&(Tl=Tl.replace(/^\//,""));const Dl=requireEmpty();Dl.lstat(Tl,(Bl,Ll)=>{if(Bl){Bl.code==="ENOENT"&&(Bl=new lo.MissingPDFException(`Missing PDF "${Tl}".`)),this._storedError=Bl,this._headersCapability.reject(Bl);return}this._contentLength=Ll.size,this._setReadableStream(Dl.createReadStream(Tl)),this._headersCapability.resolve()})}}class Il extends $a{constructor(Ml,Tl,Dl){super(Ml);let Bl=decodeURIComponent(this._url.path);hs.test(this._url.href)&&(Bl=Bl.replace(/^\//,""));const Ll=requireEmpty();this._setReadableStream(Ll.createReadStream(Bl,{start:Tl,end:Dl-1}))}}},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.SVGGraphics=void 0;var lo=cs(6),co=cs(1);const hs={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},uo="http://www.w3.org/XML/1998/namespace",xa="http://www.w3.org/1999/xlink",ba=["butt","round","square"],$a=["miter","round","bevel"],wl=function(Ll,Nl="",zl=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!zl)return URL.createObjectURL(new Blob([Ll],{type:Nl}));const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Vl=`data:${Nl};base64,`;for(let Gl=0,iu=Ll.length;Gl<iu;Gl+=3){const nu=Ll[Gl]&255,Jl=Ll[Gl+1]&255,lu=Ll[Gl+2]&255,ju=nu>>2,zu=(nu&3)<<4|Jl>>4,Wu=Gl+1<iu?(Jl&15)<<2|lu>>6:64,qu=Gl+2<iu?lu&63:64;Vl+=$l[ju]+$l[zu]+$l[Wu]+$l[qu]}return Vl},Sl=function(){const Ll=new Uint8Array([137,80,78,71,13,10,26,10]),Nl=12,zl=new Int32Array(256);for(let lu=0;lu<256;lu++){let ju=lu;for(let zu=0;zu<8;zu++)ju=ju&1?3988292384^ju>>1&2147483647:ju>>1&2147483647;zl[lu]=ju}function $l(lu,ju,zu){let Wu=-1;for(let qu=ju;qu<zu;qu++){const Mu=(Wu^lu[qu])&255,mu=zl[Mu];Wu=Wu>>>8^mu}return Wu^-1}function Vl(lu,ju,zu,Wu){let qu=Wu;const Mu=ju.length;zu[qu]=Mu>>24&255,zu[qu+1]=Mu>>16&255,zu[qu+2]=Mu>>8&255,zu[qu+3]=Mu&255,qu+=4,zu[qu]=lu.charCodeAt(0)&255,zu[qu+1]=lu.charCodeAt(1)&255,zu[qu+2]=lu.charCodeAt(2)&255,zu[qu+3]=lu.charCodeAt(3)&255,qu+=4,zu.set(ju,qu),qu+=ju.length;const mu=$l(zu,Wu+4,qu);zu[qu]=mu>>24&255,zu[qu+1]=mu>>16&255,zu[qu+2]=mu>>8&255,zu[qu+3]=mu&255}function Gl(lu,ju,zu){let Wu=1,qu=0;for(let Mu=ju;Mu<zu;++Mu)Wu=(Wu+(lu[Mu]&255))%65521,qu=(qu+Wu)%65521;return qu<<16|Wu}function iu(lu){if(!co.isNodeJS)return nu(lu);try{const ju=parseInt(process$1.versions.node)>=8?lu:Buffer.from(lu),zu=requireLib().deflateSync(ju,{level:9});return zu instanceof Uint8Array?zu:new Uint8Array(zu)}catch(ju){(0,co.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ju)}return nu(lu)}function nu(lu){let ju=lu.length;const zu=65535,Wu=Math.ceil(ju/zu),qu=new Uint8Array(2+ju+Wu*5+4);let Mu=0;qu[Mu++]=120,qu[Mu++]=156;let mu=0;for(;ju>zu;)qu[Mu++]=0,qu[Mu++]=255,qu[Mu++]=255,qu[Mu++]=0,qu[Mu++]=0,qu.set(lu.subarray(mu,mu+zu),Mu),Mu+=zu,mu+=zu,ju-=zu;qu[Mu++]=1,qu[Mu++]=ju&255,qu[Mu++]=ju>>8&255,qu[Mu++]=~ju&65535&255,qu[Mu++]=(~ju&65535)>>8&255,qu.set(lu.subarray(mu),Mu),Mu+=lu.length-mu;const uu=Gl(lu,0,lu.length);return qu[Mu++]=uu>>24&255,qu[Mu++]=uu>>16&255,qu[Mu++]=uu>>8&255,qu[Mu++]=uu&255,qu}function Jl(lu,ju,zu,Wu){const qu=lu.width,Mu=lu.height;let mu,uu,cu;const ru=lu.data;switch(ju){case co.ImageKind.GRAYSCALE_1BPP:uu=0,mu=1,cu=qu+7>>3;break;case co.ImageKind.RGB_24BPP:uu=2,mu=8,cu=qu*3;break;case co.ImageKind.RGBA_32BPP:uu=6,mu=8,cu=qu*4;break;default:throw new Error("invalid format")}const Yl=new Uint8Array((1+cu)*Mu);let Hl=0,Kl=0;for(let vu=0;vu<Mu;++vu)Yl[Hl++]=0,Yl.set(ru.subarray(Kl,Kl+cu),Hl),Kl+=cu,Hl+=cu;if(ju===co.ImageKind.GRAYSCALE_1BPP&&Wu){Hl=0;for(let vu=0;vu<Mu;vu++){Hl++;for(let fu=0;fu<cu;fu++)Yl[Hl++]^=255}}const _c=new Uint8Array([qu>>24&255,qu>>16&255,qu>>8&255,qu&255,Mu>>24&255,Mu>>16&255,Mu>>8&255,Mu&255,mu,uu,0,0,0]),Ql=iu(Yl),su=Ll.length+Nl*3+_c.length+Ql.length,gu=new Uint8Array(su);let Cu=0;return gu.set(Ll,Cu),Cu+=Ll.length,Vl("IHDR",_c,gu,Cu),Cu+=Nl+_c.length,Vl("IDATA",Ql,gu,Cu),Cu+=Nl+Ql.length,Vl("IEND",new Uint8Array(0),gu,Cu),wl(gu,"image/png",zu)}return function(ju,zu,Wu){const qu=ju.kind===void 0?co.ImageKind.GRAYSCALE_1BPP:ju.kind;return Jl(ju,qu,zu,Wu)}}();class Cl{constructor(){this.fontSizeScale=1,this.fontWeight=hs.fontWeight,this.fontSize=0,this.textMatrix=co.IDENTITY_MATRIX,this.fontMatrix=co.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=co.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=hs.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Nl,zl){this.x=Nl,this.y=zl}}function _l(Ll){let Nl=[];const zl=[];for(const $l of Ll){if($l.fn==="save"){Nl.push({fnId:92,fn:"group",items:[]}),zl.push(Nl),Nl=Nl.at(-1).items;continue}$l.fn==="restore"?Nl=zl.pop():Nl.push($l)}return Nl}function Il(Ll){if(Number.isInteger(Ll))return Ll.toString();const Nl=Ll.toFixed(10);let zl=Nl.length-1;if(Nl[zl]!=="0")return Nl;do zl--;while(Nl[zl]==="0");return Nl.substring(0,Nl[zl]==="."?zl:zl+1)}function Fl(Ll){if(Ll[4]===0&&Ll[5]===0){if(Ll[1]===0&&Ll[2]===0)return Ll[0]===1&&Ll[3]===1?"":`scale(${Il(Ll[0])} ${Il(Ll[3])})`;if(Ll[0]===Ll[3]&&Ll[1]===-Ll[2]){const Nl=Math.acos(Ll[0])*180/Math.PI;return`rotate(${Il(Nl)})`}}else if(Ll[0]===1&&Ll[1]===0&&Ll[2]===0&&Ll[3]===1)return`translate(${Il(Ll[4])} ${Il(Ll[5])})`;return`matrix(${Il(Ll[0])} ${Il(Ll[1])} ${Il(Ll[2])} ${Il(Ll[3])} ${Il(Ll[4])} ${Il(Ll[5])})`}let Ml=0,Tl=0,Dl=0;class Bl{constructor(Nl,zl,$l=!1){(0,lo.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new lo.DOMSVGFactory,this.current=new Cl,this.transformMatrix=co.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Nl,this.objs=zl,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!$l,this._operatorIdMapping=[];for(const Vl in co.OPS)this._operatorIdMapping[co.OPS[Vl]]=Vl}getObject(Nl,zl=null){return typeof Nl=="string"?Nl.startsWith("g_")?this.commonObjs.get(Nl):this.objs.get(Nl):zl}save(){this.transformStack.push(this.transformMatrix);const Nl=this.current;this.extraStack.push(Nl),this.current=Nl.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Nl){this.save(),this.executeOpTree(Nl),this.restore()}loadDependencies(Nl){const zl=Nl.fnArray,$l=Nl.argsArray;for(let Vl=0,Gl=zl.length;Vl<Gl;Vl++)if(zl[Vl]===co.OPS.dependency)for(const iu of $l[Vl]){const nu=iu.startsWith("g_")?this.commonObjs:this.objs,Jl=new Promise(lu=>{nu.get(iu,lu)});this.current.dependencies.push(Jl)}return Promise.all(this.current.dependencies)}transform(Nl,zl,$l,Vl,Gl,iu){const nu=[Nl,zl,$l,Vl,Gl,iu];this.transformMatrix=co.Util.transform(this.transformMatrix,nu),this.tgrp=null}getSVG(Nl,zl){this.viewport=zl;const $l=this._initialize(zl);return this.loadDependencies(Nl).then(()=>(this.transformMatrix=co.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Nl)),$l))}convertOpList(Nl){const zl=this._operatorIdMapping,$l=Nl.argsArray,Vl=Nl.fnArray,Gl=[];for(let iu=0,nu=Vl.length;iu<nu;iu++){const Jl=Vl[iu];Gl.push({fnId:Jl,fn:zl[Jl],args:$l[iu]})}return _l(Gl)}executeOpTree(Nl){for(const zl of Nl){const $l=zl.fn,Vl=zl.fnId,Gl=zl.args;switch(Vl|0){case co.OPS.beginText:this.beginText();break;case co.OPS.dependency:break;case co.OPS.setLeading:this.setLeading(Gl);break;case co.OPS.setLeadingMoveText:this.setLeadingMoveText(Gl[0],Gl[1]);break;case co.OPS.setFont:this.setFont(Gl);break;case co.OPS.showText:this.showText(Gl[0]);break;case co.OPS.showSpacedText:this.showText(Gl[0]);break;case co.OPS.endText:this.endText();break;case co.OPS.moveText:this.moveText(Gl[0],Gl[1]);break;case co.OPS.setCharSpacing:this.setCharSpacing(Gl[0]);break;case co.OPS.setWordSpacing:this.setWordSpacing(Gl[0]);break;case co.OPS.setHScale:this.setHScale(Gl[0]);break;case co.OPS.setTextMatrix:this.setTextMatrix(Gl[0],Gl[1],Gl[2],Gl[3],Gl[4],Gl[5]);break;case co.OPS.setTextRise:this.setTextRise(Gl[0]);break;case co.OPS.setTextRenderingMode:this.setTextRenderingMode(Gl[0]);break;case co.OPS.setLineWidth:this.setLineWidth(Gl[0]);break;case co.OPS.setLineJoin:this.setLineJoin(Gl[0]);break;case co.OPS.setLineCap:this.setLineCap(Gl[0]);break;case co.OPS.setMiterLimit:this.setMiterLimit(Gl[0]);break;case co.OPS.setFillRGBColor:this.setFillRGBColor(Gl[0],Gl[1],Gl[2]);break;case co.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Gl[0],Gl[1],Gl[2]);break;case co.OPS.setStrokeColorN:this.setStrokeColorN(Gl);break;case co.OPS.setFillColorN:this.setFillColorN(Gl);break;case co.OPS.shadingFill:this.shadingFill(Gl[0]);break;case co.OPS.setDash:this.setDash(Gl[0],Gl[1]);break;case co.OPS.setRenderingIntent:this.setRenderingIntent(Gl[0]);break;case co.OPS.setFlatness:this.setFlatness(Gl[0]);break;case co.OPS.setGState:this.setGState(Gl[0]);break;case co.OPS.fill:this.fill();break;case co.OPS.eoFill:this.eoFill();break;case co.OPS.stroke:this.stroke();break;case co.OPS.fillStroke:this.fillStroke();break;case co.OPS.eoFillStroke:this.eoFillStroke();break;case co.OPS.clip:this.clip("nonzero");break;case co.OPS.eoClip:this.clip("evenodd");break;case co.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case co.OPS.paintImageXObject:this.paintImageXObject(Gl[0]);break;case co.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Gl[0]);break;case co.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Gl[0]);break;case co.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Gl[0],Gl[1]);break;case co.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case co.OPS.closePath:this.closePath();break;case co.OPS.closeStroke:this.closeStroke();break;case co.OPS.closeFillStroke:this.closeFillStroke();break;case co.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case co.OPS.nextLine:this.nextLine();break;case co.OPS.transform:this.transform(Gl[0],Gl[1],Gl[2],Gl[3],Gl[4],Gl[5]);break;case co.OPS.constructPath:this.constructPath(Gl[0],Gl[1]);break;case co.OPS.endPath:this.endPath();break;case 92:this.group(zl.items);break;default:(0,co.warn)(`Unimplemented operator ${$l}`);break}}}setWordSpacing(Nl){this.current.wordSpacing=Nl}setCharSpacing(Nl){this.current.charSpacing=Nl}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Nl,zl,$l,Vl,Gl,iu){const nu=this.current;nu.textMatrix=nu.lineMatrix=[Nl,zl,$l,Vl,Gl,iu],nu.textMatrixScale=Math.hypot(Nl,zl),nu.x=nu.lineX=0,nu.y=nu.lineY=0,nu.xcoords=[],nu.ycoords=[],nu.tspan=this.svgFactory.createElement("svg:tspan"),nu.tspan.setAttributeNS(null,"font-family",nu.fontFamily),nu.tspan.setAttributeNS(null,"font-size",`${Il(nu.fontSize)}px`),nu.tspan.setAttributeNS(null,"y",Il(-nu.y)),nu.txtElement=this.svgFactory.createElement("svg:text"),nu.txtElement.append(nu.tspan)}beginText(){const Nl=this.current;Nl.x=Nl.lineX=0,Nl.y=Nl.lineY=0,Nl.textMatrix=co.IDENTITY_MATRIX,Nl.lineMatrix=co.IDENTITY_MATRIX,Nl.textMatrixScale=1,Nl.tspan=this.svgFactory.createElement("svg:tspan"),Nl.txtElement=this.svgFactory.createElement("svg:text"),Nl.txtgrp=this.svgFactory.createElement("svg:g"),Nl.xcoords=[],Nl.ycoords=[]}moveText(Nl,zl){const $l=this.current;$l.x=$l.lineX+=Nl,$l.y=$l.lineY+=zl,$l.xcoords=[],$l.ycoords=[],$l.tspan=this.svgFactory.createElement("svg:tspan"),$l.tspan.setAttributeNS(null,"font-family",$l.fontFamily),$l.tspan.setAttributeNS(null,"font-size",`${Il($l.fontSize)}px`),$l.tspan.setAttributeNS(null,"y",Il(-$l.y))}showText(Nl){const zl=this.current,$l=zl.font,Vl=zl.fontSize;if(Vl===0)return;const Gl=zl.fontSizeScale,iu=zl.charSpacing,nu=zl.wordSpacing,Jl=zl.fontDirection,lu=zl.textHScale*Jl,ju=$l.vertical,zu=ju?1:-1,Wu=$l.defaultVMetrics,qu=Vl*zl.fontMatrix[0];let Mu=0;for(const cu of Nl){if(cu===null){Mu+=Jl*nu;continue}else if(typeof cu=="number"){Mu+=zu*cu*Vl/1e3;continue}const ru=(cu.isSpace?nu:0)+iu,Yl=cu.fontChar;let Hl,Kl,_c=cu.width;if(ju){let su;const gu=cu.vmetric||Wu;su=cu.vmetric?gu[1]:_c*.5,su=-su*qu;const Cu=gu[2]*qu;_c=gu?-gu[0]:_c,Hl=su/Gl,Kl=(Mu+Cu)/Gl}else Hl=Mu/Gl,Kl=0;(cu.isInFont||$l.missingFile)&&(zl.xcoords.push(zl.x+Hl),ju&&zl.ycoords.push(-zl.y+Kl),zl.tspan.textContent+=Yl);const Ql=ju?_c*qu-ru*Jl:_c*qu+ru*Jl;Mu+=Ql}zl.tspan.setAttributeNS(null,"x",zl.xcoords.map(Il).join(" ")),ju?zl.tspan.setAttributeNS(null,"y",zl.ycoords.map(Il).join(" ")):zl.tspan.setAttributeNS(null,"y",Il(-zl.y)),ju?zl.y-=Mu:zl.x+=Mu*lu,zl.tspan.setAttributeNS(null,"font-family",zl.fontFamily),zl.tspan.setAttributeNS(null,"font-size",`${Il(zl.fontSize)}px`),zl.fontStyle!==hs.fontStyle&&zl.tspan.setAttributeNS(null,"font-style",zl.fontStyle),zl.fontWeight!==hs.fontWeight&&zl.tspan.setAttributeNS(null,"font-weight",zl.fontWeight);const mu=zl.textRenderingMode&co.TextRenderingMode.FILL_STROKE_MASK;if(mu===co.TextRenderingMode.FILL||mu===co.TextRenderingMode.FILL_STROKE?(zl.fillColor!==hs.fillColor&&zl.tspan.setAttributeNS(null,"fill",zl.fillColor),zl.fillAlpha<1&&zl.tspan.setAttributeNS(null,"fill-opacity",zl.fillAlpha)):zl.textRenderingMode===co.TextRenderingMode.ADD_TO_PATH?zl.tspan.setAttributeNS(null,"fill","transparent"):zl.tspan.setAttributeNS(null,"fill","none"),mu===co.TextRenderingMode.STROKE||mu===co.TextRenderingMode.FILL_STROKE){const cu=1/(zl.textMatrixScale||1);this._setStrokeAttributes(zl.tspan,cu)}let uu=zl.textMatrix;zl.textRise!==0&&(uu=uu.slice(),uu[5]+=zl.textRise),zl.txtElement.setAttributeNS(null,"transform",`${Fl(uu)} scale(${Il(lu)}, -1)`),zl.txtElement.setAttributeNS(uo,"xml:space","preserve"),zl.txtElement.append(zl.tspan),zl.txtgrp.append(zl.txtElement),this._ensureTransformGroup().append(zl.txtElement)}setLeadingMoveText(Nl,zl){this.setLeading(-zl),this.moveText(Nl,zl)}addFontStyle(Nl){if(!Nl.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const zl=wl(Nl.data,Nl.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Nl.loadedName}"; src: url(${zl}); }
`}setFont(Nl){const zl=this.current,$l=this.commonObjs.get(Nl[0]);let Vl=Nl[1];zl.font=$l,this.embedFonts&&!$l.missingFile&&!this.embeddedFonts[$l.loadedName]&&(this.addFontStyle($l),this.embeddedFonts[$l.loadedName]=$l),zl.fontMatrix=$l.fontMatrix||co.FONT_IDENTITY_MATRIX;let Gl="normal";$l.black?Gl="900":$l.bold&&(Gl="bold");const iu=$l.italic?"italic":"normal";Vl<0?(Vl=-Vl,zl.fontDirection=-1):zl.fontDirection=1,zl.fontSize=Vl,zl.fontFamily=$l.loadedName,zl.fontWeight=Gl,zl.fontStyle=iu,zl.tspan=this.svgFactory.createElement("svg:tspan"),zl.tspan.setAttributeNS(null,"y",Il(-zl.y)),zl.xcoords=[],zl.ycoords=[]}endText(){var zl;const Nl=this.current;Nl.textRenderingMode&co.TextRenderingMode.ADD_TO_PATH_FLAG&&((zl=Nl.txtElement)!=null&&zl.hasChildNodes())&&(Nl.element=Nl.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Nl){Nl>0&&(this.current.lineWidth=Nl)}setLineCap(Nl){this.current.lineCap=ba[Nl]}setLineJoin(Nl){this.current.lineJoin=$a[Nl]}setMiterLimit(Nl){this.current.miterLimit=Nl}setStrokeAlpha(Nl){this.current.strokeAlpha=Nl}setStrokeRGBColor(Nl,zl,$l){this.current.strokeColor=co.Util.makeHexColor(Nl,zl,$l)}setFillAlpha(Nl){this.current.fillAlpha=Nl}setFillRGBColor(Nl,zl,$l){this.current.fillColor=co.Util.makeHexColor(Nl,zl,$l),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Nl){this.current.strokeColor=this._makeColorN_Pattern(Nl)}setFillColorN(Nl){this.current.fillColor=this._makeColorN_Pattern(Nl)}shadingFill(Nl){const{width:zl,height:$l}=this.viewport,Vl=co.Util.inverseTransform(this.transformMatrix),[Gl,iu,nu,Jl]=co.Util.getAxialAlignedBoundingBox([0,0,zl,$l],Vl),lu=this.svgFactory.createElement("svg:rect");lu.setAttributeNS(null,"x",Gl),lu.setAttributeNS(null,"y",iu),lu.setAttributeNS(null,"width",nu-Gl),lu.setAttributeNS(null,"height",Jl-iu),lu.setAttributeNS(null,"fill",this._makeShadingPattern(Nl)),this.current.fillAlpha<1&&lu.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(lu)}_makeColorN_Pattern(Nl){return Nl[0]==="TilingPattern"?this._makeTilingPattern(Nl):this._makeShadingPattern(Nl)}_makeTilingPattern(Nl){const zl=Nl[1],$l=Nl[2],Vl=Nl[3]||co.IDENTITY_MATRIX,[Gl,iu,nu,Jl]=Nl[4],lu=Nl[5],ju=Nl[6],zu=Nl[7],Wu=`shading${Dl++}`,[qu,Mu,mu,uu]=co.Util.normalizeRect([...co.Util.applyTransform([Gl,iu],Vl),...co.Util.applyTransform([nu,Jl],Vl)]),[cu,ru]=co.Util.singularValueDecompose2dScale(Vl),Yl=lu*cu,Hl=ju*ru,Kl=this.svgFactory.createElement("svg:pattern");Kl.setAttributeNS(null,"id",Wu),Kl.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Kl.setAttributeNS(null,"width",Yl),Kl.setAttributeNS(null,"height",Hl),Kl.setAttributeNS(null,"x",`${qu}`),Kl.setAttributeNS(null,"y",`${Mu}`);const _c=this.svg,Ql=this.transformMatrix,su=this.current.fillColor,gu=this.current.strokeColor,Cu=this.svgFactory.create(mu-qu,uu-Mu);if(this.svg=Cu,this.transformMatrix=Vl,zu===2){const vu=co.Util.makeHexColor(...zl);this.current.fillColor=vu,this.current.strokeColor=vu}return this.executeOpTree(this.convertOpList($l)),this.svg=_c,this.transformMatrix=Ql,this.current.fillColor=su,this.current.strokeColor=gu,Kl.append(Cu.childNodes[0]),this.defs.append(Kl),`url(#${Wu})`}_makeShadingPattern(Nl){switch(typeof Nl=="string"&&(Nl=this.objs.get(Nl)),Nl[0]){case"RadialAxial":const zl=`shading${Dl++}`,$l=Nl[3];let Vl;switch(Nl[1]){case"axial":const Gl=Nl[4],iu=Nl[5];Vl=this.svgFactory.createElement("svg:linearGradient"),Vl.setAttributeNS(null,"id",zl),Vl.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Vl.setAttributeNS(null,"x1",Gl[0]),Vl.setAttributeNS(null,"y1",Gl[1]),Vl.setAttributeNS(null,"x2",iu[0]),Vl.setAttributeNS(null,"y2",iu[1]);break;case"radial":const nu=Nl[4],Jl=Nl[5],lu=Nl[6],ju=Nl[7];Vl=this.svgFactory.createElement("svg:radialGradient"),Vl.setAttributeNS(null,"id",zl),Vl.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Vl.setAttributeNS(null,"cx",Jl[0]),Vl.setAttributeNS(null,"cy",Jl[1]),Vl.setAttributeNS(null,"r",ju),Vl.setAttributeNS(null,"fx",nu[0]),Vl.setAttributeNS(null,"fy",nu[1]),Vl.setAttributeNS(null,"fr",lu);break;default:throw new Error(`Unknown RadialAxial type: ${Nl[1]}`)}for(const Gl of $l){const iu=this.svgFactory.createElement("svg:stop");iu.setAttributeNS(null,"offset",Gl[0]),iu.setAttributeNS(null,"stop-color",Gl[1]),Vl.append(iu)}return this.defs.append(Vl),`url(#${zl})`;case"Mesh":return(0,co.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Nl[0]}`)}}setDash(Nl,zl){this.current.dashArray=Nl,this.current.dashPhase=zl}constructPath(Nl,zl){const $l=this.current;let Vl=$l.x,Gl=$l.y,iu=[],nu=0;for(const Jl of Nl)switch(Jl|0){case co.OPS.rectangle:Vl=zl[nu++],Gl=zl[nu++];const lu=zl[nu++],ju=zl[nu++],zu=Vl+lu,Wu=Gl+ju;iu.push("M",Il(Vl),Il(Gl),"L",Il(zu),Il(Gl),"L",Il(zu),Il(Wu),"L",Il(Vl),Il(Wu),"Z");break;case co.OPS.moveTo:Vl=zl[nu++],Gl=zl[nu++],iu.push("M",Il(Vl),Il(Gl));break;case co.OPS.lineTo:Vl=zl[nu++],Gl=zl[nu++],iu.push("L",Il(Vl),Il(Gl));break;case co.OPS.curveTo:Vl=zl[nu+4],Gl=zl[nu+5],iu.push("C",Il(zl[nu]),Il(zl[nu+1]),Il(zl[nu+2]),Il(zl[nu+3]),Il(Vl),Il(Gl)),nu+=6;break;case co.OPS.curveTo2:iu.push("C",Il(Vl),Il(Gl),Il(zl[nu]),Il(zl[nu+1]),Il(zl[nu+2]),Il(zl[nu+3])),Vl=zl[nu+2],Gl=zl[nu+3],nu+=4;break;case co.OPS.curveTo3:Vl=zl[nu+2],Gl=zl[nu+3],iu.push("C",Il(zl[nu]),Il(zl[nu+1]),Il(Vl),Il(Gl),Il(Vl),Il(Gl)),nu+=4;break;case co.OPS.closePath:iu.push("Z");break}iu=iu.join(" "),$l.path&&Nl.length>0&&Nl[0]!==co.OPS.rectangle&&Nl[0]!==co.OPS.moveTo?iu=$l.path.getAttributeNS(null,"d")+iu:($l.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append($l.path)),$l.path.setAttributeNS(null,"d",iu),$l.path.setAttributeNS(null,"fill","none"),$l.element=$l.path,$l.setCurrentPoint(Vl,Gl)}endPath(){const Nl=this.current;if(Nl.path=null,!this.pendingClip)return;if(!Nl.element){this.pendingClip=null;return}const zl=`clippath${Ml++}`,$l=this.svgFactory.createElement("svg:clipPath");$l.setAttributeNS(null,"id",zl),$l.setAttributeNS(null,"transform",Fl(this.transformMatrix));const Vl=Nl.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Vl.setAttributeNS(null,"clip-rule","evenodd"):Vl.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,$l.append(Vl),this.defs.append($l),Nl.activeClipUrl){Nl.clipGroup=null;for(const Gl of this.extraStack)Gl.clipGroup=null;$l.setAttributeNS(null,"clip-path",Nl.activeClipUrl)}Nl.activeClipUrl=`url(#${zl})`,this.tgrp=null}clip(Nl){this.pendingClip=Nl}closePath(){const Nl=this.current;if(Nl.path){const zl=`${Nl.path.getAttributeNS(null,"d")}Z`;Nl.path.setAttributeNS(null,"d",zl)}}setLeading(Nl){this.current.leading=-Nl}setTextRise(Nl){this.current.textRise=Nl}setTextRenderingMode(Nl){this.current.textRenderingMode=Nl}setHScale(Nl){this.current.textHScale=Nl/100}setRenderingIntent(Nl){}setFlatness(Nl){}setGState(Nl){for(const[zl,$l]of Nl)switch(zl){case"LW":this.setLineWidth($l);break;case"LC":this.setLineCap($l);break;case"LJ":this.setLineJoin($l);break;case"ML":this.setMiterLimit($l);break;case"D":this.setDash($l[0],$l[1]);break;case"RI":this.setRenderingIntent($l);break;case"FL":this.setFlatness($l);break;case"Font":this.setFont($l);break;case"CA":this.setStrokeAlpha($l);break;case"ca":this.setFillAlpha($l);break;default:(0,co.warn)(`Unimplemented graphic state operator ${zl}`);break}}fill(){const Nl=this.current;Nl.element&&(Nl.element.setAttributeNS(null,"fill",Nl.fillColor),Nl.element.setAttributeNS(null,"fill-opacity",Nl.fillAlpha),this.endPath())}stroke(){const Nl=this.current;Nl.element&&(this._setStrokeAttributes(Nl.element),Nl.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Nl,zl=1){const $l=this.current;let Vl=$l.dashArray;zl!==1&&Vl.length>0&&(Vl=Vl.map(function(Gl){return zl*Gl})),Nl.setAttributeNS(null,"stroke",$l.strokeColor),Nl.setAttributeNS(null,"stroke-opacity",$l.strokeAlpha),Nl.setAttributeNS(null,"stroke-miterlimit",Il($l.miterLimit)),Nl.setAttributeNS(null,"stroke-linecap",$l.lineCap),Nl.setAttributeNS(null,"stroke-linejoin",$l.lineJoin),Nl.setAttributeNS(null,"stroke-width",Il(zl*$l.lineWidth)+"px"),Nl.setAttributeNS(null,"stroke-dasharray",Vl.map(Il).join(" ")),Nl.setAttributeNS(null,"stroke-dashoffset",Il(zl*$l.dashPhase)+"px")}eoFill(){var Nl;(Nl=this.current.element)==null||Nl.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Nl;(Nl=this.current.element)==null||Nl.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Nl=this.svgFactory.createElement("svg:rect");Nl.setAttributeNS(null,"x","0"),Nl.setAttributeNS(null,"y","0"),Nl.setAttributeNS(null,"width","1px"),Nl.setAttributeNS(null,"height","1px"),Nl.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Nl)}paintImageXObject(Nl){const zl=this.getObject(Nl);if(!zl){(0,co.warn)(`Dependent image with object ID ${Nl} is not ready yet`);return}this.paintInlineImageXObject(zl)}paintInlineImageXObject(Nl,zl){const $l=Nl.width,Vl=Nl.height,Gl=Sl(Nl,this.forceDataSchema,!!zl),iu=this.svgFactory.createElement("svg:rect");iu.setAttributeNS(null,"x","0"),iu.setAttributeNS(null,"y","0"),iu.setAttributeNS(null,"width",Il($l)),iu.setAttributeNS(null,"height",Il(Vl)),this.current.element=iu,this.clip("nonzero");const nu=this.svgFactory.createElement("svg:image");nu.setAttributeNS(xa,"xlink:href",Gl),nu.setAttributeNS(null,"x","0"),nu.setAttributeNS(null,"y",Il(-Vl)),nu.setAttributeNS(null,"width",Il($l)+"px"),nu.setAttributeNS(null,"height",Il(Vl)+"px"),nu.setAttributeNS(null,"transform",`scale(${Il(1/$l)} ${Il(-1/Vl)})`),zl?zl.append(nu):this._ensureTransformGroup().append(nu)}paintImageMaskXObject(Nl){const zl=this.getObject(Nl.data,Nl);if(zl.bitmap){(0,co.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const $l=this.current,Vl=zl.width,Gl=zl.height,iu=$l.fillColor;$l.maskId=`mask${Tl++}`;const nu=this.svgFactory.createElement("svg:mask");nu.setAttributeNS(null,"id",$l.maskId);const Jl=this.svgFactory.createElement("svg:rect");Jl.setAttributeNS(null,"x","0"),Jl.setAttributeNS(null,"y","0"),Jl.setAttributeNS(null,"width",Il(Vl)),Jl.setAttributeNS(null,"height",Il(Gl)),Jl.setAttributeNS(null,"fill",iu),Jl.setAttributeNS(null,"mask",`url(#${$l.maskId})`),this.defs.append(nu),this._ensureTransformGroup().append(Jl),this.paintInlineImageXObject(zl,nu)}paintFormXObjectBegin(Nl,zl){if(Array.isArray(Nl)&&Nl.length===6&&this.transform(Nl[0],Nl[1],Nl[2],Nl[3],Nl[4],Nl[5]),zl){const $l=zl[2]-zl[0],Vl=zl[3]-zl[1],Gl=this.svgFactory.createElement("svg:rect");Gl.setAttributeNS(null,"x",zl[0]),Gl.setAttributeNS(null,"y",zl[1]),Gl.setAttributeNS(null,"width",Il($l)),Gl.setAttributeNS(null,"height",Il(Vl)),this.current.element=Gl,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Nl){const zl=this.svgFactory.create(Nl.width,Nl.height),$l=this.svgFactory.createElement("svg:defs");zl.append($l),this.defs=$l;const Vl=this.svgFactory.createElement("svg:g");return Vl.setAttributeNS(null,"transform",Fl(Nl.transform)),zl.append(Vl),this.svg=Vl,zl}_ensureClipGroup(){if(!this.current.clipGroup){const Nl=this.svgFactory.createElement("svg:g");Nl.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Nl),this.current.clipGroup=Nl}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Fl(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}is.SVGGraphics=Bl},(us,is)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.XfaText=void 0;class cs{static textContent(co){const hs=[],uo={items:hs,styles:Object.create(null)};function xa(ba){var Sl;if(!ba)return;let $a=null;const wl=ba.name;if(wl==="#text")$a=ba.value;else if(cs.shouldBuildText(wl))(Sl=ba==null?void 0:ba.attributes)!=null&&Sl.textContent?$a=ba.attributes.textContent:ba.value&&($a=ba.value);else return;if($a!==null&&hs.push({str:$a}),!!ba.children)for(const Cl of ba.children)xa(Cl)}return xa(co),uo}static shouldBuildText(co){return!(co==="textarea"||co==="input"||co==="option"||co==="select")}}is.XfaText=cs},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.TextLayerRenderTask=void 0,is.renderTextLayer=Fl,is.updateTextLayer=Ml;var lo=cs(1),co=cs(6);const hs=1e5,uo=30,xa=.8,ba=new Map;function $a(Tl,Dl){let Bl;if(Dl&&lo.FeatureTest.isOffscreenCanvasSupported)Bl=new OffscreenCanvas(Tl,Tl).getContext("2d",{alpha:!1});else{const Ll=document.createElement("canvas");Ll.width=Ll.height=Tl,Bl=Ll.getContext("2d",{alpha:!1})}return Bl}function wl(Tl,Dl){const Bl=ba.get(Tl);if(Bl)return Bl;const Ll=$a(uo,Dl);Ll.font=`${uo}px ${Tl}`;const Nl=Ll.measureText("");let zl=Nl.fontBoundingBoxAscent,$l=Math.abs(Nl.fontBoundingBoxDescent);if(zl){const Gl=zl/(zl+$l);return ba.set(Tl,Gl),Ll.canvas.width=Ll.canvas.height=0,Gl}Ll.strokeStyle="red",Ll.clearRect(0,0,uo,uo),Ll.strokeText("g",0,0);let Vl=Ll.getImageData(0,0,uo,uo).data;$l=0;for(let Gl=Vl.length-1-3;Gl>=0;Gl-=4)if(Vl[Gl]>0){$l=Math.ceil(Gl/4/uo);break}Ll.clearRect(0,0,uo,uo),Ll.strokeText("A",0,uo),Vl=Ll.getImageData(0,0,uo,uo).data,zl=0;for(let Gl=0,iu=Vl.length;Gl<iu;Gl+=4)if(Vl[Gl]>0){zl=uo-Math.floor(Gl/4/uo);break}if(Ll.canvas.width=Ll.canvas.height=0,zl){const Gl=zl/(zl+$l);return ba.set(Tl,Gl),Gl}return ba.set(Tl,xa),xa}function Sl(Tl,Dl,Bl){const Ll=document.createElement("span"),Nl={angle:0,canvasWidth:0,hasText:Dl.str!=="",hasEOL:Dl.hasEOL,fontSize:0};Tl._textDivs.push(Ll);const zl=lo.Util.transform(Tl._transform,Dl.transform);let $l=Math.atan2(zl[1],zl[0]);const Vl=Bl[Dl.fontName];Vl.vertical&&($l+=Math.PI/2);const Gl=Math.hypot(zl[2],zl[3]),iu=Gl*wl(Vl.fontFamily,Tl._isOffscreenCanvasSupported);let nu,Jl;$l===0?(nu=zl[4],Jl=zl[5]-iu):(nu=zl[4]+iu*Math.sin($l),Jl=zl[5]-iu*Math.cos($l));const lu="calc(var(--scale-factor)*",ju=Ll.style;Tl._container===Tl._rootContainer?(ju.left=`${(100*nu/Tl._pageWidth).toFixed(2)}%`,ju.top=`${(100*Jl/Tl._pageHeight).toFixed(2)}%`):(ju.left=`${lu}${nu.toFixed(2)}px)`,ju.top=`${lu}${Jl.toFixed(2)}px)`),ju.fontSize=`${lu}${Gl.toFixed(2)}px)`,ju.fontFamily=Vl.fontFamily,Nl.fontSize=Gl,Ll.setAttribute("role","presentation"),Ll.textContent=Dl.str,Ll.dir=Dl.dir,Tl._fontInspectorEnabled&&(Ll.dataset.fontName=Dl.fontName),$l!==0&&(Nl.angle=$l*(180/Math.PI));let zu=!1;if(Dl.str.length>1)zu=!0;else if(Dl.str!==" "&&Dl.transform[0]!==Dl.transform[3]){const Wu=Math.abs(Dl.transform[0]),qu=Math.abs(Dl.transform[3]);Wu!==qu&&Math.max(Wu,qu)/Math.min(Wu,qu)>1.5&&(zu=!0)}zu&&(Nl.canvasWidth=Vl.vertical?Dl.height:Dl.width),Tl._textDivProperties.set(Ll,Nl),Tl._isReadableStream&&Tl._layoutText(Ll)}function Cl(Tl){const{div:Dl,scale:Bl,properties:Ll,ctx:Nl,prevFontSize:zl,prevFontFamily:$l}=Tl,{style:Vl}=Dl;let Gl="";if(Ll.canvasWidth!==0&&Ll.hasText){const{fontFamily:iu}=Vl,{canvasWidth:nu,fontSize:Jl}=Ll;(zl!==Jl||$l!==iu)&&(Nl.font=`${Jl*Bl}px ${iu}`,Tl.prevFontSize=Jl,Tl.prevFontFamily=iu);const{width:lu}=Nl.measureText(Dl.textContent);lu>0&&(Gl=`scaleX(${nu*Bl/lu})`)}Ll.angle!==0&&(Gl=`rotate(${Ll.angle}deg) ${Gl}`),Gl.length>0&&(Vl.transform=Gl)}function _l(Tl){if(Tl._canceled)return;const Dl=Tl._textDivs,Bl=Tl._capability;if(Dl.length>hs){Bl.resolve();return}if(!Tl._isReadableStream)for(const Nl of Dl)Tl._layoutText(Nl);Bl.resolve()}class Il{constructor({textContentSource:Dl,container:Bl,viewport:Ll,textDivs:Nl,textDivProperties:zl,textContentItemsStr:$l,isOffscreenCanvasSupported:Vl}){var lu;this._textContentSource=Dl,this._isReadableStream=Dl instanceof ReadableStream,this._container=this._rootContainer=Bl,this._textDivs=Nl||[],this._textContentItemsStr=$l||[],this._isOffscreenCanvasSupported=Vl,this._fontInspectorEnabled=!!((lu=globalThis.FontInspector)!=null&&lu.enabled),this._reader=null,this._textDivProperties=zl||new WeakMap,this._canceled=!1,this._capability=new lo.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Ll.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$a(0,Vl)};const{pageWidth:Gl,pageHeight:iu,pageX:nu,pageY:Jl}=Ll.rawDims;this._transform=[1,0,0,-1,-nu,Jl+iu],this._pageWidth=Gl,this._pageHeight=iu,(0,co.setLayerDimensions)(Bl,Ll),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new lo.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new lo.AbortException("TextLayer task cancelled."))}_processItems(Dl,Bl){for(const Ll of Dl){if(Ll.str===void 0){if(Ll.type==="beginMarkedContentProps"||Ll.type==="beginMarkedContent"){const Nl=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ll.id!==null&&this._container.setAttribute("id",`${Ll.id}`),Nl.append(this._container)}else Ll.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ll.str),Sl(this,Ll,Bl)}}_layoutText(Dl){const Bl=this._layoutTextParams.properties=this._textDivProperties.get(Dl);if(this._layoutTextParams.div=Dl,Cl(this._layoutTextParams),Bl.hasText&&this._container.append(Dl),Bl.hasEOL){const Ll=document.createElement("br");Ll.setAttribute("role","presentation"),this._container.append(Ll)}}_render(){const Dl=new lo.PromiseCapability;let Bl=Object.create(null);if(this._isReadableStream){const Ll=()=>{this._reader.read().then(({value:Nl,done:zl})=>{if(zl){Dl.resolve();return}Object.assign(Bl,Nl.styles),this._processItems(Nl.items,Bl),Ll()},Dl.reject)};this._reader=this._textContentSource.getReader(),Ll()}else if(this._textContentSource){const{items:Ll,styles:Nl}=this._textContentSource;this._processItems(Ll,Nl),Dl.resolve()}else throw new Error('No "textContentSource" parameter specified.');Dl.promise.then(()=>{Bl=null,_l(this)},this._capability.reject)}}is.TextLayerRenderTask=Il;function Fl(Tl){!Tl.textContentSource&&(Tl.textContent||Tl.textContentStream)&&((0,co.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Tl.textContentSource=Tl.textContent||Tl.textContentStream);const{container:Dl,viewport:Bl}=Tl,Ll=getComputedStyle(Dl),Nl=Ll.getPropertyValue("visibility"),zl=parseFloat(Ll.getPropertyValue("--scale-factor"));Nl==="visible"&&(!zl||Math.abs(zl-Bl.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const $l=new Il(Tl);return $l._render(),$l}function Ml({container:Tl,viewport:Dl,textDivs:Bl,textDivProperties:Ll,isOffscreenCanvasSupported:Nl,mustRotate:zl=!0,mustRescale:$l=!0}){if(zl&&(0,co.setLayerDimensions)(Tl,{rotation:Dl.rotation}),$l){const Vl=$a(0,Nl),iu={prevFontSize:null,prevFontFamily:null,div:null,scale:Dl.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Vl};for(const nu of Bl)iu.properties=Ll.get(nu),iu.div=nu,Cl(iu)}}},(us,is,cs)=>{var wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,vE,sw,yE,xE;Object.defineProperty(is,"__esModule",{value:!0}),is.AnnotationEditorLayer=void 0;var lo=cs(1),co=cs(4),hs=cs(28),uo=cs(33),xa=cs(6),ba=cs(34);const Gl=class Gl{constructor({uiManager:nu,pageIndex:Jl,div:lu,accessibilityManager:ju,annotationLayer:zu,viewport:Wu,l10n:qu}){Op(this,Ll);Op(this,wl);Op(this,Sl,!1);Op(this,Cl,null);Op(this,_l,this.pointerup.bind(this));Op(this,Il,this.pointerdown.bind(this));Op(this,Fl,new Map);Op(this,Ml,!1);Op(this,Tl,!1);Op(this,Dl,!1);Op(this,Bl);const Mu=[hs.FreeTextEditor,uo.InkEditor,ba.StampEditor];if(!Gl._initialized){Gl._initialized=!0;for(const mu of Mu)mu.initialize(qu)}nu.registerEditorTypes(Mu),Fp(this,Bl,nu),this.pageIndex=Jl,this.div=lu,Fp(this,wl,ju),Fp(this,Cl,zu),this.viewport=Wu,pu(this,Bl).addLayer(this)}get isEmpty(){return pu(this,Fl).size===0}updateToolbar(nu){pu(this,Bl).updateToolbar(nu)}updateMode(nu=pu(this,Bl).getMode()){Ep(this,Ll,xE).call(this),nu===lo.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),nu!==lo.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",nu===lo.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",nu===lo.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",nu===lo.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(nu){if(!nu&&pu(this,Bl).getMode()!==lo.AnnotationEditorType.INK)return;if(!nu){for(const lu of pu(this,Fl).values())if(lu.isEmpty()){lu.setInBackground();return}}Ep(this,Ll,sw).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(nu){pu(this,Bl).setEditingState(nu)}addCommands(nu){pu(this,Bl).addCommands(nu)}enable(){this.div.style.pointerEvents="auto";const nu=new Set;for(const lu of pu(this,Fl).values())lu.enableEditing(),lu.annotationElementId&&nu.add(lu.annotationElementId);if(!pu(this,Cl))return;const Jl=pu(this,Cl).getEditableAnnotations();for(const lu of Jl){if(lu.hide(),pu(this,Bl).isDeletedAnnotationElement(lu.data.id)||nu.has(lu.data.id))continue;const ju=this.deserialize(lu);ju&&(this.addOrRebuild(ju),ju.enableEditing())}}disable(){var Jl;Fp(this,Dl,!0),this.div.style.pointerEvents="none";const nu=new Set;for(const lu of pu(this,Fl).values()){if(lu.disableEditing(),!lu.annotationElementId||lu.serialize()!==null){nu.add(lu.annotationElementId);continue}(Jl=this.getEditableAnnotation(lu.annotationElementId))==null||Jl.show(),lu.remove()}if(pu(this,Cl)){const lu=pu(this,Cl).getEditableAnnotations();for(const ju of lu){const{id:zu}=ju.data;nu.has(zu)||pu(this,Bl).isDeletedAnnotationElement(zu)||ju.show()}}Ep(this,Ll,xE).call(this),this.isEmpty&&(this.div.hidden=!0),Fp(this,Dl,!1)}getEditableAnnotation(nu){var Jl;return((Jl=pu(this,Cl))==null?void 0:Jl.getEditableAnnotation(nu))||null}setActiveEditor(nu){pu(this,Bl).getActive()!==nu&&pu(this,Bl).setActiveEditor(nu)}enableClick(){this.div.addEventListener("pointerdown",pu(this,Il)),this.div.addEventListener("pointerup",pu(this,_l))}disableClick(){this.div.removeEventListener("pointerdown",pu(this,Il)),this.div.removeEventListener("pointerup",pu(this,_l))}attach(nu){pu(this,Fl).set(nu.id,nu);const{annotationElementId:Jl}=nu;Jl&&pu(this,Bl).isDeletedAnnotationElement(Jl)&&pu(this,Bl).removeDeletedAnnotationElement(nu)}detach(nu){var Jl;pu(this,Fl).delete(nu.id),(Jl=pu(this,wl))==null||Jl.removePointerInTextLayer(nu.contentDiv),!pu(this,Dl)&&nu.annotationElementId&&pu(this,Bl).addDeletedAnnotationElement(nu)}remove(nu){this.detach(nu),pu(this,Bl).removeEditor(nu),nu.div.contains(document.activeElement)&&setTimeout(()=>{pu(this,Bl).focusMainContainer()},0),nu.div.remove(),nu.isAttachedToDOM=!1,pu(this,Tl)||this.addInkEditorIfNeeded(!1)}changeParent(nu){var Jl;nu.parent!==this&&(nu.annotationElementId&&(pu(this,Bl).addDeletedAnnotationElement(nu.annotationElementId),co.AnnotationEditor.deleteAnnotationElement(nu),nu.annotationElementId=null),this.attach(nu),(Jl=nu.parent)==null||Jl.detach(nu),nu.setParent(this),nu.div&&nu.isAttachedToDOM&&(nu.div.remove(),this.div.append(nu.div)))}add(nu){if(this.changeParent(nu),pu(this,Bl).addEditor(nu),this.attach(nu),!nu.isAttachedToDOM){const Jl=nu.render();this.div.append(Jl),nu.isAttachedToDOM=!0}nu.fixAndSetPosition(),nu.onceAdded(),pu(this,Bl).addToAnnotationStorage(nu)}moveEditorInDOM(nu){var lu;if(!nu.isAttachedToDOM)return;const{activeElement:Jl}=document;nu.div.contains(Jl)&&(nu._focusEventsAllowed=!1,setTimeout(()=>{nu.div.contains(document.activeElement)?nu._focusEventsAllowed=!0:(nu.div.addEventListener("focusin",()=>{nu._focusEventsAllowed=!0},{once:!0}),Jl.focus())},0)),nu._structTreeParentId=(lu=pu(this,wl))==null?void 0:lu.moveElementInDOM(this.div,nu.div,nu.contentDiv,!0)}addOrRebuild(nu){nu.needsToBeRebuilt()?nu.rebuild():this.add(nu)}addUndoableEditor(nu){const Jl=()=>nu._uiManager.rebuild(nu),lu=()=>{nu.remove()};this.addCommands({cmd:Jl,undo:lu,mustExec:!1})}getNextId(){return pu(this,Bl).getId()}pasteEditor(nu,Jl){pu(this,Bl).updateToolbar(nu),pu(this,Bl).updateMode(nu);const{offsetX:lu,offsetY:ju}=Ep(this,Ll,yE).call(this),zu=this.getNextId(),Wu=Ep(this,Ll,vE).call(this,{parent:this,id:zu,x:lu,y:ju,uiManager:pu(this,Bl),isCentered:!0,...Jl});Wu&&this.add(Wu)}deserialize(nu){switch(nu.annotationType??nu.annotationEditorType){case lo.AnnotationEditorType.FREETEXT:return hs.FreeTextEditor.deserialize(nu,this,pu(this,Bl));case lo.AnnotationEditorType.INK:return uo.InkEditor.deserialize(nu,this,pu(this,Bl));case lo.AnnotationEditorType.STAMP:return ba.StampEditor.deserialize(nu,this,pu(this,Bl))}return null}addNewEditor(){Ep(this,Ll,sw).call(this,Ep(this,Ll,yE).call(this),!0)}setSelected(nu){pu(this,Bl).setSelected(nu)}toggleSelected(nu){pu(this,Bl).toggleSelected(nu)}isSelected(nu){return pu(this,Bl).isSelected(nu)}unselect(nu){pu(this,Bl).unselect(nu)}pointerup(nu){const{isMac:Jl}=lo.FeatureTest.platform;if(!(nu.button!==0||nu.ctrlKey&&Jl)&&nu.target===this.div&&pu(this,Ml)){if(Fp(this,Ml,!1),!pu(this,Sl)){Fp(this,Sl,!0);return}if(pu(this,Bl).getMode()===lo.AnnotationEditorType.STAMP){pu(this,Bl).unselectAll();return}Ep(this,Ll,sw).call(this,nu,!1)}}pointerdown(nu){if(pu(this,Ml)){Fp(this,Ml,!1);return}const{isMac:Jl}=lo.FeatureTest.platform;if(nu.button!==0||nu.ctrlKey&&Jl||nu.target!==this.div)return;Fp(this,Ml,!0);const lu=pu(this,Bl).getActive();Fp(this,Sl,!lu||lu.isEmpty())}findNewParent(nu,Jl,lu){const ju=pu(this,Bl).findParent(Jl,lu);return ju===null||ju===this?!1:(ju.changeParent(nu),!0)}destroy(){var nu,Jl;((nu=pu(this,Bl).getActive())==null?void 0:nu.parent)===this&&(pu(this,Bl).commitOrRemove(),pu(this,Bl).setActiveEditor(null));for(const lu of pu(this,Fl).values())(Jl=pu(this,wl))==null||Jl.removePointerInTextLayer(lu.contentDiv),lu.setParent(null),lu.isAttachedToDOM=!1,lu.div.remove();this.div=null,pu(this,Fl).clear(),pu(this,Bl).removeLayer(this)}render({viewport:nu}){this.viewport=nu,(0,xa.setLayerDimensions)(this.div,nu);for(const Jl of pu(this,Bl).getEditors(this.pageIndex))this.add(Jl);this.updateMode()}update({viewport:nu}){pu(this,Bl).commitOrRemove(),this.viewport=nu,(0,xa.setLayerDimensions)(this.div,{rotation:nu.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:nu,pageHeight:Jl}=this.viewport.rawDims;return[nu,Jl]}};wl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Tl=new WeakMap,Dl=new WeakMap,Bl=new WeakMap,Ll=new WeakSet,vE=function(nu){switch(pu(this,Bl).getMode()){case lo.AnnotationEditorType.FREETEXT:return new hs.FreeTextEditor(nu);case lo.AnnotationEditorType.INK:return new uo.InkEditor(nu);case lo.AnnotationEditorType.STAMP:return new ba.StampEditor(nu)}return null},sw=function(nu,Jl){const lu=this.getNextId(),ju=Ep(this,Ll,vE).call(this,{parent:this,id:lu,x:nu.offsetX,y:nu.offsetY,uiManager:pu(this,Bl),isCentered:Jl});return ju&&this.add(ju),ju},yE=function(){const{x:nu,y:Jl,width:lu,height:ju}=this.div.getBoundingClientRect(),zu=Math.max(0,nu),Wu=Math.max(0,Jl),qu=Math.min(window.innerWidth,nu+lu),Mu=Math.min(window.innerHeight,Jl+ju),mu=(zu+qu)/2-nu,uu=(Wu+Mu)/2-Jl,[cu,ru]=this.viewport.rotation%180===0?[mu,uu]:[uu,mu];return{offsetX:cu,offsetY:ru}},xE=function(){Fp(this,Tl,!0);for(const nu of pu(this,Fl).values())nu.isEmpty()&&nu.remove();Fp(this,Tl,!1)},r1(Gl,"_initialized",!1);let $a=Gl;is.AnnotationEditorLayer=$a},(us,is,cs)=>{var ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,v_,y_,x_,E2,bE,b_,wE;Object.defineProperty(is,"__esModule",{value:!0}),is.FreeTextEditor=void 0;var lo=cs(1),co=cs(5),hs=cs(4),uo=cs(29);const Gl=class Gl extends hs.AnnotationEditor{constructor(Jl){super({...Jl,name:"freeTextEditor"});Op(this,Tl);Op(this,ba,this.editorDivBlur.bind(this));Op(this,$a,this.editorDivFocus.bind(this));Op(this,wl,this.editorDivInput.bind(this));Op(this,Sl,this.editorDivKeydown.bind(this));Op(this,Cl);Op(this,_l,"");Op(this,Il,`${this.id}-editor`);Op(this,Fl);Op(this,Ml,null);Fp(this,Cl,Jl.color||Gl._defaultColor||hs.AnnotationEditor._defaultLineColor),Fp(this,Fl,Jl.fontSize||Gl._defaultFontSize)}static get _keyboardManager(){const Jl=Gl.prototype,lu=Wu=>Wu.isEmpty(),ju=co.AnnotationEditorUIManager.TRANSLATE_SMALL,zu=co.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,lo.shadow)(this,"_keyboardManager",new co.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Jl.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Jl.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Jl._translateEmpty,{args:[-ju,0],checker:lu}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Jl._translateEmpty,{args:[-zu,0],checker:lu}],[["ArrowRight","mac+ArrowRight"],Jl._translateEmpty,{args:[ju,0],checker:lu}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Jl._translateEmpty,{args:[zu,0],checker:lu}],[["ArrowUp","mac+ArrowUp"],Jl._translateEmpty,{args:[0,-ju],checker:lu}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Jl._translateEmpty,{args:[0,-zu],checker:lu}],[["ArrowDown","mac+ArrowDown"],Jl._translateEmpty,{args:[0,ju],checker:lu}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Jl._translateEmpty,{args:[0,zu],checker:lu}]]))}static initialize(Jl){hs.AnnotationEditor.initialize(Jl,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const lu=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(lu.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Jl,lu){switch(Jl){case lo.AnnotationEditorParamsType.FREETEXT_SIZE:Gl._defaultFontSize=lu;break;case lo.AnnotationEditorParamsType.FREETEXT_COLOR:Gl._defaultColor=lu;break}}updateParams(Jl,lu){switch(Jl){case lo.AnnotationEditorParamsType.FREETEXT_SIZE:Ep(this,Tl,v_).call(this,lu);break;case lo.AnnotationEditorParamsType.FREETEXT_COLOR:Ep(this,Tl,y_).call(this,lu);break}}static get defaultPropertiesToUpdate(){return[[lo.AnnotationEditorParamsType.FREETEXT_SIZE,Gl._defaultFontSize],[lo.AnnotationEditorParamsType.FREETEXT_COLOR,Gl._defaultColor||hs.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[lo.AnnotationEditorParamsType.FREETEXT_SIZE,pu(this,Fl)],[lo.AnnotationEditorParamsType.FREETEXT_COLOR,pu(this,Cl)]]}_translateEmpty(Jl,lu){this._uiManager.translateSelectedEditors(Jl,lu,!0)}getInitialTranslation(){const Jl=this.parentScale;return[-Gl._internalPadding*Jl,-(Gl._internalPadding+pu(this,Fl))*Jl]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(lo.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",pu(this,Sl)),this.editorDiv.addEventListener("focus",pu(this,$a)),this.editorDiv.addEventListener("blur",pu(this,ba)),this.editorDiv.addEventListener("input",pu(this,wl)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",pu(this,Il)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",pu(this,Sl)),this.editorDiv.removeEventListener("focus",pu(this,$a)),this.editorDiv.removeEventListener("blur",pu(this,ba)),this.editorDiv.removeEventListener("input",pu(this,wl)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Jl){this._focusEventsAllowed&&(super.focusin(Jl),Jl.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Jl;if(this.width){Ep(this,Tl,wE).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Jl=this._initialOptions)!=null&&Jl.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Jl=pu(this,_l),lu=Fp(this,_l,Ep(this,Tl,x_).call(this).trimEnd());if(Jl===lu)return;const ju=zu=>{if(Fp(this,_l,zu),!zu){this.remove();return}Ep(this,Tl,bE).call(this),this._uiManager.rebuild(this),Ep(this,Tl,E2).call(this)};this.addCommands({cmd:()=>{ju(lu)},undo:()=>{ju(Jl)},mustExec:!1}),Ep(this,Tl,E2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Jl){this.enterInEditMode()}keydown(Jl){Jl.target===this.div&&Jl.key==="Enter"&&(this.enterInEditMode(),Jl.preventDefault())}editorDivKeydown(Jl){Gl._keyboardManager.exec(this,Jl)}editorDivFocus(Jl){this.isEditing=!0}editorDivBlur(Jl){this.isEditing=!1}editorDivInput(Jl){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Jl,lu;this.width&&(Jl=this.x,lu=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",pu(this,Il)),this.enableEditing(),hs.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(zu=>{var Wu;return(Wu=this.editorDiv)==null?void 0:Wu.setAttribute("aria-label",zu)}),hs.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(zu=>{var Wu;return(Wu=this.editorDiv)==null?void 0:Wu.setAttribute("default-content",zu)}),this.editorDiv.contentEditable=!0;const{style:ju}=this.editorDiv;if(ju.fontSize=`calc(${pu(this,Fl)}px * var(--scale-factor))`,ju.color=pu(this,Cl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,co.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[zu,Wu]=this.parentDimensions;if(this.annotationElementId){const{position:qu}=pu(this,Ml);let[Mu,mu]=this.getInitialTranslation();[Mu,mu]=this.pageTranslationToScreen(Mu,mu);const[uu,cu]=this.pageDimensions,[ru,Yl]=this.pageTranslation;let Hl,Kl;switch(this.rotation){case 0:Hl=Jl+(qu[0]-ru)/uu,Kl=lu+this.height-(qu[1]-Yl)/cu;break;case 90:Hl=Jl+(qu[0]-ru)/uu,Kl=lu-(qu[1]-Yl)/cu,[Mu,mu]=[mu,-Mu];break;case 180:Hl=Jl-this.width+(qu[0]-ru)/uu,Kl=lu-(qu[1]-Yl)/cu,[Mu,mu]=[-Mu,-mu];break;case 270:Hl=Jl+(qu[0]-ru-this.height*cu)/uu,Kl=lu+(qu[1]-Yl-this.width*uu)/cu,[Mu,mu]=[-mu,Mu];break}this.setAt(Hl*zu,Kl*Wu,Mu,mu)}else this.setAt(Jl*zu,lu*Wu,this.width*zu,this.height*Wu);Ep(this,Tl,bE).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Jl,lu,ju){let zu=null;if(Jl instanceof uo.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:qu,fontColor:Mu},rect:mu,rotation:uu,id:cu},textContent:ru,textPosition:Yl,parent:{page:{pageNumber:Hl}}}=Jl;if(!ru||ru.length===0)return null;zu=Jl={annotationType:lo.AnnotationEditorType.FREETEXT,color:Array.from(Mu),fontSize:qu,value:ru.join(`
`),position:Yl,pageIndex:Hl-1,rect:mu,rotation:uu,id:cu,deleted:!1}}const Wu=super.deserialize(Jl,lu,ju);return Fp(Wu,Fl,Jl.fontSize),Fp(Wu,Cl,lo.Util.makeHexColor(...Jl.color)),Fp(Wu,_l,Jl.value),Wu.annotationElementId=Jl.id||null,Fp(Wu,Ml,zu),Wu}serialize(Jl=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const lu=Gl._internalPadding*this.parentScale,ju=this.getRect(lu,lu),zu=hs.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:pu(this,Cl)),Wu={annotationType:lo.AnnotationEditorType.FREETEXT,color:zu,fontSize:pu(this,Fl),value:pu(this,_l),pageIndex:this.pageIndex,rect:ju,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Jl?Wu:this.annotationElementId&&!Ep(this,Tl,b_).call(this,Wu)?null:(Wu.id=this.annotationElementId,Wu)}};ba=new WeakMap,$a=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Tl=new WeakSet,v_=function(Jl){const lu=zu=>{this.editorDiv.style.fontSize=`calc(${zu}px * var(--scale-factor))`,this.translate(0,-(zu-pu(this,Fl))*this.parentScale),Fp(this,Fl,zu),Ep(this,Tl,E2).call(this)},ju=pu(this,Fl);this.addCommands({cmd:()=>{lu(Jl)},undo:()=>{lu(ju)},mustExec:!0,type:lo.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},y_=function(Jl){const lu=pu(this,Cl);this.addCommands({cmd:()=>{Fp(this,Cl,this.editorDiv.style.color=Jl)},undo:()=>{Fp(this,Cl,this.editorDiv.style.color=lu)},mustExec:!0,type:lo.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},x_=function(){const Jl=this.editorDiv.getElementsByTagName("div");if(Jl.length===0)return this.editorDiv.innerText;const lu=[];for(const ju of Jl)lu.push(ju.innerText.replace(/\r\n?|\n/,""));return lu.join(`
`)},E2=function(){const[Jl,lu]=this.parentDimensions;let ju;if(this.isAttachedToDOM)ju=this.div.getBoundingClientRect();else{const{currentLayer:zu,div:Wu}=this,qu=Wu.style.display;Wu.style.display="hidden",zu.div.append(this.div),ju=Wu.getBoundingClientRect(),Wu.remove(),Wu.style.display=qu}this.rotation%180===this.parentRotation%180?(this.width=ju.width/Jl,this.height=ju.height/lu):(this.width=ju.height/Jl,this.height=ju.width/lu),this.fixAndSetPosition()},bE=function(){if(this.editorDiv.replaceChildren(),!!pu(this,_l))for(const Jl of pu(this,_l).split(`
`)){const lu=document.createElement("div");lu.append(Jl?document.createTextNode(Jl):document.createElement("br")),this.editorDiv.append(lu)}},b_=function(Jl){const{value:lu,fontSize:ju,color:zu,rect:Wu,pageIndex:qu}=pu(this,Ml);return Jl.value!==lu||Jl.fontSize!==ju||Jl.rect.some((Mu,mu)=>Math.abs(Mu-Wu[mu])>=1)||Jl.color.some((Mu,mu)=>Mu!==zu[mu])||Jl.pageIndex!==qu},wE=function(Jl=!1){if(!this.annotationElementId)return;if(Ep(this,Tl,E2).call(this),!Jl&&(this.width===0||this.height===0)){setTimeout(()=>Ep(this,Tl,wE).call(this,!0),0);return}const lu=Gl._internalPadding*this.parentScale;pu(this,Ml).rect=this.getRect(lu,lu)},r1(Gl,"_freeTextDefaultContent",""),r1(Gl,"_internalPadding",0),r1(Gl,"_defaultColor",null),r1(Gl,"_defaultFontSize",10),r1(Gl,"_type","freetext");let xa=Gl;is.FreeTextEditor=xa},(us,is,cs)=>{var Kl,Ql,Rx,w_,Cu,vu,fu,Fu,_f,Xu,Gu,Uu,Au,Pu,Ou,ip,$u,np,Eu,Lu,up,mp,E_,ow,EE,SE,eu,Nu,Zu,Vu,yu,Hu,Sp,CE,Lp,Ku,wp,Bp,S_,_E;Object.defineProperty(is,"__esModule",{value:!0}),is.StampAnnotationElement=is.InkAnnotationElement=is.FreeTextAnnotationElement=is.AnnotationLayer=void 0;var lo=cs(1),co=cs(6),hs=cs(3),uo=cs(30),xa=cs(31),ba=cs(32);const $a=1e3,wl=9,Sl=new WeakSet;function Cl(Jp){return{width:Jp[2]-Jp[0],height:Jp[3]-Jp[1]}}class _l{static create(Ju){switch(Ju.data.annotationType){case lo.AnnotationType.LINK:return new Fl(Ju);case lo.AnnotationType.TEXT:return new Ml(Ju);case lo.AnnotationType.WIDGET:switch(Ju.data.fieldType){case"Tx":return new Dl(Ju);case"Btn":return Ju.data.radioButton?new Nl(Ju):Ju.data.checkBox?new Ll(Ju):new zl(Ju);case"Ch":return new $l(Ju);case"Sig":return new Bl(Ju)}return new Tl(Ju);case lo.AnnotationType.POPUP:return new Vl(Ju);case lo.AnnotationType.FREETEXT:return new iu(Ju);case lo.AnnotationType.LINE:return new nu(Ju);case lo.AnnotationType.SQUARE:return new Jl(Ju);case lo.AnnotationType.CIRCLE:return new lu(Ju);case lo.AnnotationType.POLYLINE:return new ju(Ju);case lo.AnnotationType.CARET:return new Wu(Ju);case lo.AnnotationType.INK:return new qu(Ju);case lo.AnnotationType.POLYGON:return new zu(Ju);case lo.AnnotationType.HIGHLIGHT:return new Mu(Ju);case lo.AnnotationType.UNDERLINE:return new mu(Ju);case lo.AnnotationType.SQUIGGLY:return new uu(Ju);case lo.AnnotationType.STRIKEOUT:return new cu(Ju);case lo.AnnotationType.STAMP:return new ru(Ju);case lo.AnnotationType.FILEATTACHMENT:return new Yl(Ju);default:return new Il(Ju)}}}const _c=class _c{constructor(Ju,{isRenderable:_d=!1,ignoreBorder:hp=!1,createQuadrilaterals:xp=!1}={}){Op(this,Kl,!1);this.isRenderable=_d,this.data=Ju.data,this.layer=Ju.layer,this.linkService=Ju.linkService,this.downloadManager=Ju.downloadManager,this.imageResourcesPath=Ju.imageResourcesPath,this.renderForms=Ju.renderForms,this.svgFactory=Ju.svgFactory,this.annotationStorage=Ju.annotationStorage,this.enableScripting=Ju.enableScripting,this.hasJSActions=Ju.hasJSActions,this._fieldObjects=Ju.fieldObjects,this.parent=Ju.parent,_d&&(this.container=this._createContainer(hp)),xp&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ju,contentsObj:_d,richText:hp}){return!!(Ju!=null&&Ju.str||_d!=null&&_d.str||hp!=null&&hp.str)}get hasPopupData(){return _c._hasPopupData(this.data)}_createContainer(Ju){const{data:_d,parent:{page:hp,viewport:xp}}=this,Ru=document.createElement("section");Ru.setAttribute("data-annotation-id",_d.id),this instanceof Tl||(Ru.tabIndex=$a),Ru.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Ru.setAttribute("aria-haspopup","dialog"),_d.noRotate&&Ru.classList.add("norotate");const{pageWidth:sp,pageHeight:lp,pageX:Ip,pageY:_p}=xp.rawDims;if(!_d.rect||this instanceof Vl){const{rotation:Dp}=_d;return!_d.hasOwnCanvas&&Dp!==0&&this.setRotation(Dp,Ru),Ru}const{width:Mp,height:d0}=Cl(_d.rect),dp=lo.Util.normalizeRect([_d.rect[0],hp.view[3]-_d.rect[1]+hp.view[1],_d.rect[2],hp.view[3]-_d.rect[3]+hp.view[1]]);if(!Ju&&_d.borderStyle.width>0){Ru.style.borderWidth=`${_d.borderStyle.width}px`;const Dp=_d.borderStyle.horizontalCornerRadius,_0=_d.borderStyle.verticalCornerRadius;if(Dp>0||_0>0){const P0=`calc(${Dp}px * var(--scale-factor)) / calc(${_0}px * var(--scale-factor))`;Ru.style.borderRadius=P0}else if(this instanceof Nl){const P0=`calc(${Mp}px * var(--scale-factor)) / calc(${d0}px * var(--scale-factor))`;Ru.style.borderRadius=P0}switch(_d.borderStyle.style){case lo.AnnotationBorderStyleType.SOLID:Ru.style.borderStyle="solid";break;case lo.AnnotationBorderStyleType.DASHED:Ru.style.borderStyle="dashed";break;case lo.AnnotationBorderStyleType.BEVELED:(0,lo.warn)("Unimplemented border style: beveled");break;case lo.AnnotationBorderStyleType.INSET:(0,lo.warn)("Unimplemented border style: inset");break;case lo.AnnotationBorderStyleType.UNDERLINE:Ru.style.borderBottomStyle="solid";break}const E0=_d.borderColor||null;E0?(Fp(this,Kl,!0),Ru.style.borderColor=lo.Util.makeHexColor(E0[0]|0,E0[1]|0,E0[2]|0)):Ru.style.borderWidth=0}Ru.style.left=`${100*(dp[0]-Ip)/sp}%`,Ru.style.top=`${100*(dp[1]-_p)/lp}%`;const{rotation:a0}=_d;return _d.hasOwnCanvas||a0===0?(Ru.style.width=`${100*Mp/sp}%`,Ru.style.height=`${100*d0/lp}%`):this.setRotation(a0,Ru),Ru}setRotation(Ju,_d=this.container){if(!this.data.rect)return;const{pageWidth:hp,pageHeight:xp}=this.parent.viewport.rawDims,{width:Ru,height:sp}=Cl(this.data.rect);let lp,Ip;Ju%180===0?(lp=100*Ru/hp,Ip=100*sp/xp):(lp=100*sp/hp,Ip=100*Ru/xp),_d.style.width=`${lp}%`,_d.style.height=`${Ip}%`,_d.setAttribute("data-main-rotation",(360-Ju)%360)}get _commonActions(){const Ju=(_d,hp,xp)=>{const Ru=xp.detail[_d],sp=Ru[0],lp=Ru.slice(1);xp.target.style[hp]=uo.ColorConverters[`${sp}_HTML`](lp),this.annotationStorage.setValue(this.data.id,{[hp]:uo.ColorConverters[`${sp}_rgb`](lp)})};return(0,lo.shadow)(this,"_commonActions",{display:_d=>{const{display:hp}=_d.detail,xp=hp%2===1;this.container.style.visibility=xp?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xp,noPrint:hp===1||hp===2})},print:_d=>{this.annotationStorage.setValue(this.data.id,{noPrint:!_d.detail.print})},hidden:_d=>{const{hidden:hp}=_d.detail;this.container.style.visibility=hp?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:hp,noView:hp})},focus:_d=>{setTimeout(()=>_d.target.focus({preventScroll:!1}),0)},userName:_d=>{_d.target.title=_d.detail.userName},readonly:_d=>{_d.target.disabled=_d.detail.readonly},required:_d=>{this._setRequired(_d.target,_d.detail.required)},bgColor:_d=>{Ju("bgColor","backgroundColor",_d)},fillColor:_d=>{Ju("fillColor","backgroundColor",_d)},fgColor:_d=>{Ju("fgColor","color",_d)},textColor:_d=>{Ju("textColor","color",_d)},borderColor:_d=>{Ju("borderColor","borderColor",_d)},strokeColor:_d=>{Ju("strokeColor","borderColor",_d)},rotation:_d=>{const hp=_d.detail.rotation;this.setRotation(hp),this.annotationStorage.setValue(this.data.id,{rotation:hp})}})}_dispatchEventFromSandbox(Ju,_d){const hp=this._commonActions;for(const xp of Object.keys(_d.detail)){const Ru=Ju[xp]||hp[xp];Ru==null||Ru(_d)}}_setDefaultPropertiesFromJS(Ju){if(!this.enableScripting)return;const _d=this.annotationStorage.getRawValue(this.data.id);if(!_d)return;const hp=this._commonActions;for(const[xp,Ru]of Object.entries(_d)){const sp=hp[xp];if(sp){const lp={detail:{[xp]:Ru},target:Ju};sp(lp),delete _d[xp]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ju}=this.data;if(!Ju)return;const[_d,hp,xp,Ru]=this.data.rect;if(Ju.length===1){const[,{x:_0,y:E0},{x:P0,y:sm}]=Ju[0];if(xp===_0&&Ru===E0&&_d===P0&&hp===sm)return}const{style:sp}=this.container;let lp;if(pu(this,Kl)){const{borderColor:_0,borderWidth:E0}=sp;sp.borderWidth=0,lp=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_0}" stroke-width="${E0}">`],this.container.classList.add("hasBorder")}const Ip=xp-_d,_p=Ru-hp,{svgFactory:Mp}=this,d0=Mp.createElement("svg");d0.classList.add("quadrilateralsContainer"),d0.setAttribute("width",0),d0.setAttribute("height",0);const dp=Mp.createElement("defs");d0.append(dp);const a0=Mp.createElement("clipPath"),Dp=`clippath_${this.data.id}`;a0.setAttribute("id",Dp),a0.setAttribute("clipPathUnits","objectBoundingBox"),dp.append(a0);for(const[,{x:_0,y:E0},{x:P0,y:sm}]of Ju){const Y0=Mp.createElement("rect"),_m=(P0-_d)/Ip,Em=(Ru-E0)/_p,om=(_0-P0)/Ip,_1=(E0-sm)/_p;Y0.setAttribute("x",_m),Y0.setAttribute("y",Em),Y0.setAttribute("width",om),Y0.setAttribute("height",_1),a0.append(Y0),lp==null||lp.push(`<rect vector-effect="non-scaling-stroke" x="${_m}" y="${Em}" width="${om}" height="${_1}"/>`)}pu(this,Kl)&&(lp.push("</g></svg>')"),sp.backgroundImage=lp.join("")),this.container.append(d0),this.container.style.clipPath=`url(#${Dp})`}_createPopup(){const{container:Ju,data:_d}=this;Ju.setAttribute("aria-haspopup","dialog");const hp=new Vl({data:{color:_d.color,titleObj:_d.titleObj,modificationDate:_d.modificationDate,contentsObj:_d.contentsObj,richText:_d.richText,parentRect:_d.rect,borderStyle:0,id:`popup_${_d.id}`,rotation:_d.rotation},parent:this.parent,elements:[this]});this.parent.div.append(hp.render())}render(){(0,lo.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ju,_d=null){const hp=[];if(this._fieldObjects){const xp=this._fieldObjects[Ju];if(xp)for(const{page:Ru,id:sp,exportValues:lp}of xp){if(Ru===-1||sp===_d)continue;const Ip=typeof lp=="string"?lp:null,_p=document.querySelector(`[data-element-id="${sp}"]`);if(_p&&!Sl.has(_p)){(0,lo.warn)(`_getElementsByName - element not allowed: ${sp}`);continue}hp.push({id:sp,exportValue:Ip,domElement:_p})}return hp}for(const xp of document.getElementsByName(Ju)){const{exportValue:Ru}=xp,sp=xp.getAttribute("data-element-id");sp!==_d&&Sl.has(xp)&&hp.push({id:sp,exportValue:Ru,domElement:xp})}return hp}show(){var Ju;this.container&&(this.container.hidden=!1),(Ju=this.popup)==null||Ju.maybeShow()}hide(){var Ju;this.container&&(this.container.hidden=!0),(Ju=this.popup)==null||Ju.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ju=this.getElementsToTriggerPopup();if(Array.isArray(Ju))for(const _d of Ju)_d.classList.add("highlightArea");else Ju.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ju,data:{id:_d}}=this;this.container.addEventListener("dblclick",()=>{var hp;(hp=this.linkService.eventBus)==null||hp.dispatch("switchannotationeditormode",{source:this,mode:Ju,editId:_d})})}};Kl=new WeakMap;let Il=_c;class Fl extends Il{constructor(_d,hp=null){super(_d,{isRenderable:!0,ignoreBorder:!!(hp!=null&&hp.ignoreBorder),createQuadrilaterals:!0});Op(this,Ql);this.isTooltipOnly=_d.data.isTooltipOnly}render(){const{data:_d,linkService:hp}=this,xp=document.createElement("a");xp.setAttribute("data-element-id",_d.id);let Ru=!1;return _d.url?(hp.addLinkAttributes(xp,_d.url,_d.newWindow),Ru=!0):_d.action?(this._bindNamedAction(xp,_d.action),Ru=!0):_d.attachment?(this._bindAttachment(xp,_d.attachment),Ru=!0):_d.setOCGState?(Ep(this,Ql,w_).call(this,xp,_d.setOCGState),Ru=!0):_d.dest?(this._bindLink(xp,_d.dest),Ru=!0):(_d.actions&&(_d.actions.Action||_d.actions["Mouse Up"]||_d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xp,_d),Ru=!0),_d.resetForm?(this._bindResetFormAction(xp,_d.resetForm),Ru=!0):this.isTooltipOnly&&!Ru&&(this._bindLink(xp,""),Ru=!0)),this.container.classList.add("linkAnnotation"),Ru&&this.container.append(xp),this.container}_bindLink(_d,hp){_d.href=this.linkService.getDestinationHash(hp),_d.onclick=()=>(hp&&this.linkService.goToDestination(hp),!1),(hp||hp==="")&&Ep(this,Ql,Rx).call(this)}_bindNamedAction(_d,hp){_d.href=this.linkService.getAnchorUrl(""),_d.onclick=()=>(this.linkService.executeNamedAction(hp),!1),Ep(this,Ql,Rx).call(this)}_bindAttachment(_d,hp){_d.href=this.linkService.getAnchorUrl(""),_d.onclick=()=>{var xp;return(xp=this.downloadManager)==null||xp.openOrDownloadData(this.container,hp.content,hp.filename),!1},Ep(this,Ql,Rx).call(this)}_bindJSAction(_d,hp){_d.href=this.linkService.getAnchorUrl("");const xp=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ru of Object.keys(hp.actions)){const sp=xp.get(Ru);sp&&(_d[sp]=()=>{var lp;return(lp=this.linkService.eventBus)==null||lp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:hp.id,name:Ru}}),!1})}_d.onclick||(_d.onclick=()=>!1),Ep(this,Ql,Rx).call(this)}_bindResetFormAction(_d,hp){const xp=_d.onclick;if(xp||(_d.href=this.linkService.getAnchorUrl("")),Ep(this,Ql,Rx).call(this),!this._fieldObjects){(0,lo.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xp||(_d.onclick=()=>!1);return}_d.onclick=()=>{var d0;xp==null||xp();const{fields:Ru,refs:sp,include:lp}=hp,Ip=[];if(Ru.length!==0||sp.length!==0){const dp=new Set(sp);for(const a0 of Ru){const Dp=this._fieldObjects[a0]||[];for(const{id:_0}of Dp)dp.add(_0)}for(const a0 of Object.values(this._fieldObjects))for(const Dp of a0)dp.has(Dp.id)===lp&&Ip.push(Dp)}else for(const dp of Object.values(this._fieldObjects))Ip.push(...dp);const _p=this.annotationStorage,Mp=[];for(const dp of Ip){const{id:a0}=dp;switch(Mp.push(a0),dp.type){case"text":{const _0=dp.defaultValue||"";_p.setValue(a0,{value:_0});break}case"checkbox":case"radiobutton":{const _0=dp.defaultValue===dp.exportValues;_p.setValue(a0,{value:_0});break}case"combobox":case"listbox":{const _0=dp.defaultValue||"";_p.setValue(a0,{value:_0});break}default:continue}const Dp=document.querySelector(`[data-element-id="${a0}"]`);if(Dp){if(!Sl.has(Dp)){(0,lo.warn)(`_bindResetFormAction - element not allowed: ${a0}`);continue}}else continue;Dp.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d0=this.linkService.eventBus)==null||d0.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Mp,name:"ResetForm"}})),!1}}}Ql=new WeakSet,Rx=function(){this.container.setAttribute("data-internal-link","")},w_=function(_d,hp){_d.href=this.linkService.getAnchorUrl(""),_d.onclick=()=>(this.linkService.executeSetOCGState(hp),!1),Ep(this,Ql,Rx).call(this)};class Ml extends Il{constructor(Ju){super(Ju,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ju=document.createElement("img");return Ju.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ju.alt="[{{type}} Annotation]",Ju.dataset.l10nId="text_annotation_type",Ju.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ju),this.container}}class Tl extends Il{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ju){var _d;this.data.hasOwnCanvas&&(((_d=Ju.previousSibling)==null?void 0:_d.nodeName)==="CANVAS"&&(Ju.previousSibling.hidden=!0),Ju.hidden=!1)}_getKeyModifier(Ju){const{isWin:_d,isMac:hp}=lo.FeatureTest.platform;return _d&&Ju.ctrlKey||hp&&Ju.metaKey}_setEventListener(Ju,_d,hp,xp,Ru){hp.includes("mouse")?Ju.addEventListener(hp,sp=>{var lp;(lp=this.linkService.eventBus)==null||lp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xp,value:Ru(sp),shift:sp.shiftKey,modifier:this._getKeyModifier(sp)}})}):Ju.addEventListener(hp,sp=>{var lp;if(hp==="blur"){if(!_d.focused||!sp.relatedTarget)return;_d.focused=!1}else if(hp==="focus"){if(_d.focused)return;_d.focused=!0}Ru&&((lp=this.linkService.eventBus)==null||lp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xp,value:Ru(sp)}}))})}_setEventListeners(Ju,_d,hp,xp){var Ru,sp,lp;for(const[Ip,_p]of hp)(_p==="Action"||(Ru=this.data.actions)!=null&&Ru[_p])&&((_p==="Focus"||_p==="Blur")&&(_d||(_d={focused:!1})),this._setEventListener(Ju,_d,Ip,_p,xp),_p==="Focus"&&!((sp=this.data.actions)!=null&&sp.Blur)?this._setEventListener(Ju,_d,"blur","Blur",null):_p==="Blur"&&!((lp=this.data.actions)!=null&&lp.Focus)&&this._setEventListener(Ju,_d,"focus","Focus",null))}_setBackgroundColor(Ju){const _d=this.data.backgroundColor||null;Ju.style.backgroundColor=_d===null?"transparent":lo.Util.makeHexColor(_d[0],_d[1],_d[2])}_setTextStyle(Ju){const _d=["left","center","right"],{fontColor:hp}=this.data.defaultAppearanceData,xp=this.data.defaultAppearanceData.fontSize||wl,Ru=Ju.style;let sp;const lp=2,Ip=_p=>Math.round(10*_p)/10;if(this.data.multiLine){const _p=Math.abs(this.data.rect[3]-this.data.rect[1]-lp),Mp=Math.round(_p/(lo.LINE_FACTOR*xp))||1,d0=_p/Mp;sp=Math.min(xp,Ip(d0/lo.LINE_FACTOR))}else{const _p=Math.abs(this.data.rect[3]-this.data.rect[1]-lp);sp=Math.min(xp,Ip(_p/lo.LINE_FACTOR))}Ru.fontSize=`calc(${sp}px * var(--scale-factor))`,Ru.color=lo.Util.makeHexColor(hp[0],hp[1],hp[2]),this.data.textAlignment!==null&&(Ru.textAlign=_d[this.data.textAlignment])}_setRequired(Ju,_d){_d?Ju.setAttribute("required",!0):Ju.removeAttribute("required"),Ju.setAttribute("aria-required",_d)}}class Dl extends Tl{constructor(Ju){const _d=Ju.renderForms||!Ju.data.hasAppearance&&!!Ju.data.fieldValue;super(Ju,{isRenderable:_d})}setPropertyOnSiblings(Ju,_d,hp,xp){const Ru=this.annotationStorage;for(const sp of this._getElementsByName(Ju.name,Ju.id))sp.domElement&&(sp.domElement[_d]=hp),Ru.setValue(sp.id,{[xp]:hp})}render(){var xp,Ru;const Ju=this.annotationStorage,_d=this.data.id;this.container.classList.add("textWidgetAnnotation");let hp=null;if(this.renderForms){const sp=Ju.getValue(_d,{value:this.data.fieldValue});let lp=sp.value||"";const Ip=Ju.getValue(_d,{charLimit:this.data.maxLen}).charLimit;Ip&&lp.length>Ip&&(lp=lp.slice(0,Ip));let _p=sp.formattedValue||((xp=this.data.textContent)==null?void 0:xp.join(`
`))||null;_p&&this.data.comb&&(_p=_p.replaceAll(/\s+/g,""));const Mp={userValue:lp,formattedValue:_p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(hp=document.createElement("textarea"),hp.textContent=_p??lp,this.data.doNotScroll&&(hp.style.overflowY="hidden")):(hp=document.createElement("input"),hp.type="text",hp.setAttribute("value",_p??lp),this.data.doNotScroll&&(hp.style.overflowX="hidden")),this.data.hasOwnCanvas&&(hp.hidden=!0),Sl.add(hp),hp.setAttribute("data-element-id",_d),hp.disabled=this.data.readOnly,hp.name=this.data.fieldName,hp.tabIndex=$a,this._setRequired(hp,this.data.required),Ip&&(hp.maxLength=Ip),hp.addEventListener("input",dp=>{Ju.setValue(_d,{value:dp.target.value}),this.setPropertyOnSiblings(hp,"value",dp.target.value,"value"),Mp.formattedValue=null}),hp.addEventListener("resetform",dp=>{const a0=this.data.defaultFieldValue??"";hp.value=Mp.userValue=a0,Mp.formattedValue=null});let d0=dp=>{const{formattedValue:a0}=Mp;a0!=null&&(dp.target.value=a0),dp.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){hp.addEventListener("focus",a0=>{if(Mp.focused)return;const{target:Dp}=a0;Mp.userValue&&(Dp.value=Mp.userValue),Mp.lastCommittedValue=Dp.value,Mp.commitKey=1,Mp.focused=!0}),hp.addEventListener("updatefromsandbox",a0=>{this.showElementAndHideCanvas(a0.target);const Dp={value(_0){Mp.userValue=_0.detail.value??"",Ju.setValue(_d,{value:Mp.userValue.toString()}),_0.target.value=Mp.userValue},formattedValue(_0){const{formattedValue:E0}=_0.detail;Mp.formattedValue=E0,E0!=null&&_0.target!==document.activeElement&&(_0.target.value=E0),Ju.setValue(_d,{formattedValue:E0})},selRange(_0){_0.target.setSelectionRange(..._0.detail.selRange)},charLimit:_0=>{var Y0;const{charLimit:E0}=_0.detail,{target:P0}=_0;if(E0===0){P0.removeAttribute("maxLength");return}P0.setAttribute("maxLength",E0);let sm=Mp.userValue;!sm||sm.length<=E0||(sm=sm.slice(0,E0),P0.value=Mp.userValue=sm,Ju.setValue(_d,{value:sm}),(Y0=this.linkService.eventBus)==null||Y0.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_d,name:"Keystroke",value:sm,willCommit:!0,commitKey:1,selStart:P0.selectionStart,selEnd:P0.selectionEnd}}))}};this._dispatchEventFromSandbox(Dp,a0)}),hp.addEventListener("keydown",a0=>{var E0;Mp.commitKey=1;let Dp=-1;if(a0.key==="Escape"?Dp=0:a0.key==="Enter"&&!this.data.multiLine?Dp=2:a0.key==="Tab"&&(Mp.commitKey=3),Dp===-1)return;const{value:_0}=a0.target;Mp.lastCommittedValue!==_0&&(Mp.lastCommittedValue=_0,Mp.userValue=_0,(E0=this.linkService.eventBus)==null||E0.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_d,name:"Keystroke",value:_0,willCommit:!0,commitKey:Dp,selStart:a0.target.selectionStart,selEnd:a0.target.selectionEnd}}))});const dp=d0;d0=null,hp.addEventListener("blur",a0=>{var _0;if(!Mp.focused||!a0.relatedTarget)return;Mp.focused=!1;const{value:Dp}=a0.target;Mp.userValue=Dp,Mp.lastCommittedValue!==Dp&&((_0=this.linkService.eventBus)==null||_0.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_d,name:"Keystroke",value:Dp,willCommit:!0,commitKey:Mp.commitKey,selStart:a0.target.selectionStart,selEnd:a0.target.selectionEnd}})),dp(a0)}),(Ru=this.data.actions)!=null&&Ru.Keystroke&&hp.addEventListener("beforeinput",a0=>{var Em;Mp.lastCommittedValue=null;const{data:Dp,target:_0}=a0,{value:E0,selectionStart:P0,selectionEnd:sm}=_0;let Y0=P0,_m=sm;switch(a0.inputType){case"deleteWordBackward":{const om=E0.substring(0,P0).match(/\w*[^\w]*$/);om&&(Y0-=om[0].length);break}case"deleteWordForward":{const om=E0.substring(P0).match(/^[^\w]*\w*/);om&&(_m+=om[0].length);break}case"deleteContentBackward":P0===sm&&(Y0-=1);break;case"deleteContentForward":P0===sm&&(_m+=1);break}a0.preventDefault(),(Em=this.linkService.eventBus)==null||Em.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_d,name:"Keystroke",value:E0,change:Dp||"",willCommit:!1,selStart:Y0,selEnd:_m}})}),this._setEventListeners(hp,Mp,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a0=>a0.target.value)}if(d0&&hp.addEventListener("blur",d0),this.data.comb){const a0=(this.data.rect[2]-this.data.rect[0])/Ip;hp.classList.add("comb"),hp.style.letterSpacing=`calc(${a0}px * var(--scale-factor) - 1ch)`}}else hp=document.createElement("div"),hp.textContent=this.data.fieldValue,hp.style.verticalAlign="middle",hp.style.display="table-cell";return this._setTextStyle(hp),this._setBackgroundColor(hp),this._setDefaultPropertiesFromJS(hp),this.container.append(hp),this.container}}class Bl extends Tl{constructor(Ju){super(Ju,{isRenderable:!!Ju.data.hasOwnCanvas})}}class Ll extends Tl{constructor(Ju){super(Ju,{isRenderable:Ju.renderForms})}render(){const Ju=this.annotationStorage,_d=this.data,hp=_d.id;let xp=Ju.getValue(hp,{value:_d.exportValue===_d.fieldValue}).value;typeof xp=="string"&&(xp=xp!=="Off",Ju.setValue(hp,{value:xp})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Ru=document.createElement("input");return Sl.add(Ru),Ru.setAttribute("data-element-id",hp),Ru.disabled=_d.readOnly,this._setRequired(Ru,this.data.required),Ru.type="checkbox",Ru.name=_d.fieldName,xp&&Ru.setAttribute("checked",!0),Ru.setAttribute("exportValue",_d.exportValue),Ru.tabIndex=$a,Ru.addEventListener("change",sp=>{const{name:lp,checked:Ip}=sp.target;for(const _p of this._getElementsByName(lp,hp)){const Mp=Ip&&_p.exportValue===_d.exportValue;_p.domElement&&(_p.domElement.checked=Mp),Ju.setValue(_p.id,{value:Mp})}Ju.setValue(hp,{value:Ip})}),Ru.addEventListener("resetform",sp=>{const lp=_d.defaultFieldValue||"Off";sp.target.checked=lp===_d.exportValue}),this.enableScripting&&this.hasJSActions&&(Ru.addEventListener("updatefromsandbox",sp=>{const lp={value(Ip){Ip.target.checked=Ip.detail.value!=="Off",Ju.setValue(hp,{value:Ip.target.checked})}};this._dispatchEventFromSandbox(lp,sp)}),this._setEventListeners(Ru,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],sp=>sp.target.checked)),this._setBackgroundColor(Ru),this._setDefaultPropertiesFromJS(Ru),this.container.append(Ru),this.container}}class Nl extends Tl{constructor(Ju){super(Ju,{isRenderable:Ju.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ju=this.annotationStorage,_d=this.data,hp=_d.id;let xp=Ju.getValue(hp,{value:_d.fieldValue===_d.buttonValue}).value;typeof xp=="string"&&(xp=xp!==_d.buttonValue,Ju.setValue(hp,{value:xp}));const Ru=document.createElement("input");if(Sl.add(Ru),Ru.setAttribute("data-element-id",hp),Ru.disabled=_d.readOnly,this._setRequired(Ru,this.data.required),Ru.type="radio",Ru.name=_d.fieldName,xp&&Ru.setAttribute("checked",!0),Ru.tabIndex=$a,Ru.addEventListener("change",sp=>{const{name:lp,checked:Ip}=sp.target;for(const _p of this._getElementsByName(lp,hp))Ju.setValue(_p.id,{value:!1});Ju.setValue(hp,{value:Ip})}),Ru.addEventListener("resetform",sp=>{const lp=_d.defaultFieldValue;sp.target.checked=lp!=null&&lp===_d.buttonValue}),this.enableScripting&&this.hasJSActions){const sp=_d.buttonValue;Ru.addEventListener("updatefromsandbox",lp=>{const Ip={value:_p=>{const Mp=sp===_p.detail.value;for(const d0 of this._getElementsByName(_p.target.name)){const dp=Mp&&d0.id===hp;d0.domElement&&(d0.domElement.checked=dp),Ju.setValue(d0.id,{value:dp})}}};this._dispatchEventFromSandbox(Ip,lp)}),this._setEventListeners(Ru,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],lp=>lp.target.checked)}return this._setBackgroundColor(Ru),this._setDefaultPropertiesFromJS(Ru),this.container.append(Ru),this.container}}class zl extends Fl{constructor(Ju){super(Ju,{ignoreBorder:Ju.data.hasAppearance})}render(){const Ju=super.render();Ju.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ju.title=this.data.alternativeText);const _d=Ju.lastChild;return this.enableScripting&&this.hasJSActions&&_d&&(this._setDefaultPropertiesFromJS(_d),_d.addEventListener("updatefromsandbox",hp=>{this._dispatchEventFromSandbox({},hp)})),Ju}}class $l extends Tl{constructor(Ju){super(Ju,{isRenderable:Ju.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ju=this.annotationStorage,_d=this.data.id,hp=Ju.getValue(_d,{value:this.data.fieldValue}),xp=document.createElement("select");Sl.add(xp),xp.setAttribute("data-element-id",_d),xp.disabled=this.data.readOnly,this._setRequired(xp,this.data.required),xp.name=this.data.fieldName,xp.tabIndex=$a;let Ru=this.data.combo&&this.data.options.length>0;this.data.combo||(xp.size=this.data.options.length,this.data.multiSelect&&(xp.multiple=!0)),xp.addEventListener("resetform",Mp=>{const d0=this.data.defaultFieldValue;for(const dp of xp.options)dp.selected=dp.value===d0});for(const Mp of this.data.options){const d0=document.createElement("option");d0.textContent=Mp.displayValue,d0.value=Mp.exportValue,hp.value.includes(Mp.exportValue)&&(d0.setAttribute("selected",!0),Ru=!1),xp.append(d0)}let sp=null;if(Ru){const Mp=document.createElement("option");Mp.value=" ",Mp.setAttribute("hidden",!0),Mp.setAttribute("selected",!0),xp.prepend(Mp),sp=()=>{Mp.remove(),xp.removeEventListener("input",sp),sp=null},xp.addEventListener("input",sp)}const lp=Mp=>{const d0=Mp?"value":"textContent",{options:dp,multiple:a0}=xp;return a0?Array.prototype.filter.call(dp,Dp=>Dp.selected).map(Dp=>Dp[d0]):dp.selectedIndex===-1?null:dp[dp.selectedIndex][d0]};let Ip=lp(!1);const _p=Mp=>{const d0=Mp.target.options;return Array.prototype.map.call(d0,dp=>({displayValue:dp.textContent,exportValue:dp.value}))};return this.enableScripting&&this.hasJSActions?(xp.addEventListener("updatefromsandbox",Mp=>{const d0={value(dp){sp==null||sp();const a0=dp.detail.value,Dp=new Set(Array.isArray(a0)?a0:[a0]);for(const _0 of xp.options)_0.selected=Dp.has(_0.value);Ju.setValue(_d,{value:lp(!0)}),Ip=lp(!1)},multipleSelection(dp){xp.multiple=!0},remove(dp){const a0=xp.options,Dp=dp.detail.remove;a0[Dp].selected=!1,xp.remove(Dp),a0.length>0&&Array.prototype.findIndex.call(a0,E0=>E0.selected)===-1&&(a0[0].selected=!0),Ju.setValue(_d,{value:lp(!0),items:_p(dp)}),Ip=lp(!1)},clear(dp){for(;xp.length!==0;)xp.remove(0);Ju.setValue(_d,{value:null,items:[]}),Ip=lp(!1)},insert(dp){const{index:a0,displayValue:Dp,exportValue:_0}=dp.detail.insert,E0=xp.children[a0],P0=document.createElement("option");P0.textContent=Dp,P0.value=_0,E0?E0.before(P0):xp.append(P0),Ju.setValue(_d,{value:lp(!0),items:_p(dp)}),Ip=lp(!1)},items(dp){const{items:a0}=dp.detail;for(;xp.length!==0;)xp.remove(0);for(const Dp of a0){const{displayValue:_0,exportValue:E0}=Dp,P0=document.createElement("option");P0.textContent=_0,P0.value=E0,xp.append(P0)}xp.options.length>0&&(xp.options[0].selected=!0),Ju.setValue(_d,{value:lp(!0),items:_p(dp)}),Ip=lp(!1)},indices(dp){const a0=new Set(dp.detail.indices);for(const Dp of dp.target.options)Dp.selected=a0.has(Dp.index);Ju.setValue(_d,{value:lp(!0)}),Ip=lp(!1)},editable(dp){dp.target.disabled=!dp.detail.editable}};this._dispatchEventFromSandbox(d0,Mp)}),xp.addEventListener("input",Mp=>{var dp;const d0=lp(!0);Ju.setValue(_d,{value:d0}),Mp.preventDefault(),(dp=this.linkService.eventBus)==null||dp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_d,name:"Keystroke",value:Ip,changeEx:d0,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xp,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Mp=>Mp.target.value)):xp.addEventListener("input",function(Mp){Ju.setValue(_d,{value:lp(!0)})}),this.data.combo&&this._setTextStyle(xp),this._setBackgroundColor(xp),this._setDefaultPropertiesFromJS(xp),this.container.append(xp),this.container}}class Vl extends Il{constructor(Ju){const{data:_d,elements:hp}=Ju;super(Ju,{isRenderable:Il._hasPopupData(_d)}),this.elements=hp}render(){this.container.classList.add("popupAnnotation");const Ju=new Gl({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),_d=[];for(const hp of this.elements)hp.popup=Ju,_d.push(hp.data.id),hp.addHighlightArea();return this.container.setAttribute("aria-controls",_d.map(hp=>`${lo.AnnotationPrefix}${hp}`).join(",")),this.container}}class Gl{constructor({container:Ju,color:_d,elements:hp,titleObj:xp,modificationDate:Ru,contentsObj:sp,richText:lp,parent:Ip,rect:_p,parentRect:Mp,open:d0}){Op(this,mp);Op(this,Cu,null);Op(this,vu,Ep(this,mp,E_).bind(this));Op(this,fu,Ep(this,mp,SE).bind(this));Op(this,Fu,Ep(this,mp,EE).bind(this));Op(this,_f,Ep(this,mp,ow).bind(this));Op(this,Xu,null);Op(this,Gu,null);Op(this,Uu,null);Op(this,Au,null);Op(this,Pu,null);Op(this,Ou,null);Op(this,ip,!1);Op(this,$u,null);Op(this,np,null);Op(this,Eu,null);Op(this,Lu,null);Op(this,up,!1);var a0;Fp(this,Gu,Ju),Fp(this,Lu,xp),Fp(this,Uu,sp),Fp(this,Eu,lp),Fp(this,Pu,Ip),Fp(this,Xu,_d),Fp(this,np,_p),Fp(this,Ou,Mp),Fp(this,Au,hp);const dp=co.PDFDateString.toDateObject(Ru);dp&&Fp(this,Cu,Ip.l10n.get("annotation_date_string",{date:dp.toLocaleDateString(),time:dp.toLocaleTimeString()})),this.trigger=hp.flatMap(Dp=>Dp.getElementsToTriggerPopup());for(const Dp of this.trigger)Dp.addEventListener("click",pu(this,_f)),Dp.addEventListener("mouseenter",pu(this,Fu)),Dp.addEventListener("mouseleave",pu(this,fu)),Dp.classList.add("popupTriggerArea");for(const Dp of hp)(a0=Dp.container)==null||a0.addEventListener("keydown",pu(this,vu));pu(this,Gu).hidden=!0,d0&&Ep(this,mp,ow).call(this)}render(){if(pu(this,$u))return;const{page:{view:Ju},viewport:{rawDims:{pageWidth:_d,pageHeight:hp,pageX:xp,pageY:Ru}}}=pu(this,Pu),sp=Fp(this,$u,document.createElement("div"));if(sp.className="popup",pu(this,Xu)){const Y0=sp.style.outlineColor=lo.Util.makeHexColor(...pu(this,Xu));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?sp.style.backgroundColor=`color-mix(in srgb, ${Y0} 30%, white)`:sp.style.backgroundColor=lo.Util.makeHexColor(...pu(this,Xu).map(Em=>Math.floor(.7*(255-Em)+Em)))}const lp=document.createElement("span");lp.className="header";const Ip=document.createElement("h1");if(lp.append(Ip),{dir:Ip.dir,str:Ip.textContent}=pu(this,Lu),sp.append(lp),pu(this,Cu)){const Y0=document.createElement("span");Y0.classList.add("popupDate"),pu(this,Cu).then(_m=>{Y0.textContent=_m}),lp.append(Y0)}const _p=pu(this,Uu),Mp=pu(this,Eu);if(Mp!=null&&Mp.str&&(!(_p!=null&&_p.str)||_p.str===Mp.str))ba.XfaLayer.render({xfaHtml:Mp.html,intent:"richText",div:sp}),sp.lastChild.classList.add("richText","popupContent");else{const Y0=this._formatContents(_p);sp.append(Y0)}let d0=!!pu(this,Ou),dp=d0?pu(this,Ou):pu(this,np);for(const Y0 of pu(this,Au))if(!dp||lo.Util.intersect(Y0.data.rect,dp)!==null){dp=Y0.data.rect,d0=!0;break}const a0=lo.Util.normalizeRect([dp[0],Ju[3]-dp[1]+Ju[1],dp[2],Ju[3]-dp[3]+Ju[1]]),_0=d0?dp[2]-dp[0]+5:0,E0=a0[0]+_0,P0=a0[1],{style:sm}=pu(this,Gu);sm.left=`${100*(E0-xp)/_d}%`,sm.top=`${100*(P0-Ru)/hp}%`,pu(this,Gu).append(sp)}_formatContents({str:Ju,dir:_d}){const hp=document.createElement("p");hp.classList.add("popupContent"),hp.dir=_d;const xp=Ju.split(/(?:\r\n?|\n)/);for(let Ru=0,sp=xp.length;Ru<sp;++Ru){const lp=xp[Ru];hp.append(document.createTextNode(lp)),Ru<sp-1&&hp.append(document.createElement("br"))}return hp}forceHide(){Fp(this,up,this.isVisible),pu(this,up)&&(pu(this,Gu).hidden=!0)}maybeShow(){pu(this,up)&&(Fp(this,up,!1),pu(this,Gu).hidden=!1)}get isVisible(){return pu(this,Gu).hidden===!1}}Cu=new WeakMap,vu=new WeakMap,fu=new WeakMap,Fu=new WeakMap,_f=new WeakMap,Xu=new WeakMap,Gu=new WeakMap,Uu=new WeakMap,Au=new WeakMap,Pu=new WeakMap,Ou=new WeakMap,ip=new WeakMap,$u=new WeakMap,np=new WeakMap,Eu=new WeakMap,Lu=new WeakMap,up=new WeakMap,mp=new WeakSet,E_=function(Ju){Ju.altKey||Ju.shiftKey||Ju.ctrlKey||Ju.metaKey||(Ju.key==="Enter"||Ju.key==="Escape"&&pu(this,ip))&&Ep(this,mp,ow).call(this)},ow=function(){Fp(this,ip,!pu(this,ip)),pu(this,ip)?(Ep(this,mp,EE).call(this),pu(this,Gu).addEventListener("click",pu(this,_f)),pu(this,Gu).addEventListener("keydown",pu(this,vu))):(Ep(this,mp,SE).call(this),pu(this,Gu).removeEventListener("click",pu(this,_f)),pu(this,Gu).removeEventListener("keydown",pu(this,vu)))},EE=function(){pu(this,$u)||this.render(),this.isVisible?pu(this,ip)&&pu(this,Gu).classList.add("focused"):(pu(this,Gu).hidden=!1,pu(this,Gu).style.zIndex=parseInt(pu(this,Gu).style.zIndex)+1e3)},SE=function(){pu(this,Gu).classList.remove("focused"),!(pu(this,ip)||!this.isVisible)&&(pu(this,Gu).hidden=!0,pu(this,Gu).style.zIndex=parseInt(pu(this,Gu).style.zIndex)-1e3)};class iu extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ju.data.textContent,this.textPosition=Ju.data.textPosition,this.annotationEditorType=lo.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ju=document.createElement("div");Ju.classList.add("annotationTextContent"),Ju.setAttribute("role","comment");for(const _d of this.textContent){const hp=document.createElement("span");hp.textContent=_d,Ju.append(hp)}this.container.append(Ju)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}is.FreeTextAnnotationElement=iu;class nu extends Il{constructor(_d){super(_d,{isRenderable:!0,ignoreBorder:!0});Op(this,eu,null)}render(){this.container.classList.add("lineAnnotation");const _d=this.data,{width:hp,height:xp}=Cl(_d.rect),Ru=this.svgFactory.create(hp,xp,!0),sp=Fp(this,eu,this.svgFactory.createElement("svg:line"));return sp.setAttribute("x1",_d.rect[2]-_d.lineCoordinates[0]),sp.setAttribute("y1",_d.rect[3]-_d.lineCoordinates[1]),sp.setAttribute("x2",_d.rect[2]-_d.lineCoordinates[2]),sp.setAttribute("y2",_d.rect[3]-_d.lineCoordinates[3]),sp.setAttribute("stroke-width",_d.borderStyle.width||1),sp.setAttribute("stroke","transparent"),sp.setAttribute("fill","transparent"),Ru.append(sp),this.container.append(Ru),!_d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pu(this,eu)}addHighlightArea(){this.container.classList.add("highlightArea")}}eu=new WeakMap;class Jl extends Il{constructor(_d){super(_d,{isRenderable:!0,ignoreBorder:!0});Op(this,Nu,null)}render(){this.container.classList.add("squareAnnotation");const _d=this.data,{width:hp,height:xp}=Cl(_d.rect),Ru=this.svgFactory.create(hp,xp,!0),sp=_d.borderStyle.width,lp=Fp(this,Nu,this.svgFactory.createElement("svg:rect"));return lp.setAttribute("x",sp/2),lp.setAttribute("y",sp/2),lp.setAttribute("width",hp-sp),lp.setAttribute("height",xp-sp),lp.setAttribute("stroke-width",sp||1),lp.setAttribute("stroke","transparent"),lp.setAttribute("fill","transparent"),Ru.append(lp),this.container.append(Ru),!_d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pu(this,Nu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nu=new WeakMap;class lu extends Il{constructor(_d){super(_d,{isRenderable:!0,ignoreBorder:!0});Op(this,Zu,null)}render(){this.container.classList.add("circleAnnotation");const _d=this.data,{width:hp,height:xp}=Cl(_d.rect),Ru=this.svgFactory.create(hp,xp,!0),sp=_d.borderStyle.width,lp=Fp(this,Zu,this.svgFactory.createElement("svg:ellipse"));return lp.setAttribute("cx",hp/2),lp.setAttribute("cy",xp/2),lp.setAttribute("rx",hp/2-sp/2),lp.setAttribute("ry",xp/2-sp/2),lp.setAttribute("stroke-width",sp||1),lp.setAttribute("stroke","transparent"),lp.setAttribute("fill","transparent"),Ru.append(lp),this.container.append(Ru),!_d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pu(this,Zu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zu=new WeakMap;class ju extends Il{constructor(_d){super(_d,{isRenderable:!0,ignoreBorder:!0});Op(this,Vu,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const _d=this.data,{width:hp,height:xp}=Cl(_d.rect),Ru=this.svgFactory.create(hp,xp,!0);let sp=[];for(const Ip of _d.vertices){const _p=Ip.x-_d.rect[0],Mp=_d.rect[3]-Ip.y;sp.push(_p+","+Mp)}sp=sp.join(" ");const lp=Fp(this,Vu,this.svgFactory.createElement(this.svgElementName));return lp.setAttribute("points",sp),lp.setAttribute("stroke-width",_d.borderStyle.width||1),lp.setAttribute("stroke","transparent"),lp.setAttribute("fill","transparent"),Ru.append(lp),this.container.append(Ru),!_d.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pu(this,Vu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vu=new WeakMap;class zu extends ju{constructor(Ju){super(Ju),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Wu extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class qu extends Il{constructor(_d){super(_d,{isRenderable:!0,ignoreBorder:!0});Op(this,yu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=lo.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const _d=this.data,{width:hp,height:xp}=Cl(_d.rect),Ru=this.svgFactory.create(hp,xp,!0);for(const sp of _d.inkLists){let lp=[];for(const _p of sp){const Mp=_p.x-_d.rect[0],d0=_d.rect[3]-_p.y;lp.push(`${Mp},${d0}`)}lp=lp.join(" ");const Ip=this.svgFactory.createElement(this.svgElementName);pu(this,yu).push(Ip),Ip.setAttribute("points",lp),Ip.setAttribute("stroke-width",_d.borderStyle.width||1),Ip.setAttribute("stroke","transparent"),Ip.setAttribute("fill","transparent"),!_d.popupRef&&this.hasPopupData&&this._createPopup(),Ru.append(Ip)}return this.container.append(Ru),this.container}getElementsToTriggerPopup(){return pu(this,yu)}addHighlightArea(){this.container.classList.add("highlightArea")}}yu=new WeakMap,is.InkAnnotationElement=qu;class Mu extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class mu extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class uu extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class cu extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ru extends Il{constructor(Ju){super(Ju,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}is.StampAnnotationElement=ru;class Yl extends Il{constructor(_d){var Ru;super(_d,{isRenderable:!0});Op(this,Sp);Op(this,Hu,null);const{filename:hp,content:xp}=this.data.file;this.filename=(0,co.getFilenameFromUrl)(hp,!0),this.content=xp,(Ru=this.linkService.eventBus)==null||Ru.dispatch("fileattachmentannotation",{source:this,filename:hp,content:xp})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:_d,data:hp}=this;let xp;hp.hasAppearance||hp.fillAlpha===0?xp=document.createElement("div"):(xp=document.createElement("img"),xp.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(hp.name)?"paperclip":"pushpin"}.svg`,hp.fillAlpha&&hp.fillAlpha<1&&(xp.style=`filter: opacity(${Math.round(hp.fillAlpha*100)}%);`)),xp.addEventListener("dblclick",Ep(this,Sp,CE).bind(this)),Fp(this,Hu,xp);const{isMac:Ru}=lo.FeatureTest.platform;return _d.addEventListener("keydown",sp=>{sp.key==="Enter"&&(Ru?sp.metaKey:sp.ctrlKey)&&Ep(this,Sp,CE).call(this)}),!hp.popupRef&&this.hasPopupData?this._createPopup():xp.classList.add("popupTriggerArea"),_d.append(xp),_d}getElementsToTriggerPopup(){return pu(this,Hu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hu=new WeakMap,Sp=new WeakSet,CE=function(){var _d;(_d=this.downloadManager)==null||_d.openOrDownloadData(this.container,this.content,this.filename)};class Hl{constructor({div:Ju,accessibilityManager:_d,annotationCanvasMap:hp,l10n:xp,page:Ru,viewport:sp}){Op(this,Bp);Op(this,Lp,null);Op(this,Ku,null);Op(this,wp,new Map);this.div=Ju,Fp(this,Lp,_d),Fp(this,Ku,hp),this.l10n=xp,this.page=Ru,this.viewport=sp,this.zIndex=0,this.l10n||(this.l10n=xa.NullL10n)}async render(Ju){const{annotations:_d}=Ju,hp=this.div;(0,co.setLayerDimensions)(hp,this.viewport);const xp=new Map,Ru={data:null,layer:hp,linkService:Ju.linkService,downloadManager:Ju.downloadManager,imageResourcesPath:Ju.imageResourcesPath||"",renderForms:Ju.renderForms!==!1,svgFactory:new co.DOMSVGFactory,annotationStorage:Ju.annotationStorage||new hs.AnnotationStorage,enableScripting:Ju.enableScripting===!0,hasJSActions:Ju.hasJSActions,fieldObjects:Ju.fieldObjects,parent:this,elements:null};for(const sp of _d){if(sp.noHTML)continue;const lp=sp.annotationType===lo.AnnotationType.POPUP;if(lp){const Mp=xp.get(sp.id);if(!Mp)continue;Ru.elements=Mp}else{const{width:Mp,height:d0}=Cl(sp.rect);if(Mp<=0||d0<=0)continue}Ru.data=sp;const Ip=_l.create(Ru);if(!Ip.isRenderable)continue;if(!lp&&sp.popupRef){const Mp=xp.get(sp.popupRef);Mp?Mp.push(Ip):xp.set(sp.popupRef,[Ip])}Ip.annotationEditorType>0&&pu(this,wp).set(Ip.data.id,Ip);const _p=Ip.render();sp.hidden&&(_p.style.visibility="hidden"),Ep(this,Bp,S_).call(this,_p,sp.id)}Ep(this,Bp,_E).call(this),await this.l10n.translate(hp)}update({viewport:Ju}){const _d=this.div;this.viewport=Ju,(0,co.setLayerDimensions)(_d,{rotation:Ju.rotation}),Ep(this,Bp,_E).call(this),_d.hidden=!1}getEditableAnnotations(){return Array.from(pu(this,wp).values())}getEditableAnnotation(Ju){return pu(this,wp).get(Ju)}}Lp=new WeakMap,Ku=new WeakMap,wp=new WeakMap,Bp=new WeakSet,S_=function(Ju,_d){var xp;const hp=Ju.firstChild||Ju;hp.id=`${lo.AnnotationPrefix}${_d}`,this.div.append(Ju),(xp=pu(this,Lp))==null||xp.moveElementInDOM(this.div,Ju,hp,!1)},_E=function(){if(!pu(this,Ku))return;const Ju=this.div;for(const[_d,hp]of pu(this,Ku)){const xp=Ju.querySelector(`[data-annotation-id="${_d}"]`);if(!xp)continue;const{firstChild:Ru}=xp;Ru?Ru.nodeName==="CANVAS"?Ru.replaceWith(hp):Ru.before(hp):xp.append(hp)}pu(this,Ku).clear()},is.AnnotationLayer=Hl},(us,is)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.ColorConverters=void 0;function cs(hs){return Math.floor(Math.max(0,Math.min(1,hs))*255).toString(16).padStart(2,"0")}function lo(hs){return Math.max(0,Math.min(255,255*hs))}class co{static CMYK_G([uo,xa,ba,$a]){return["G",1-Math.min(1,.3*uo+.59*ba+.11*xa+$a)]}static G_CMYK([uo]){return["CMYK",0,0,0,1-uo]}static G_RGB([uo]){return["RGB",uo,uo,uo]}static G_rgb([uo]){return uo=lo(uo),[uo,uo,uo]}static G_HTML([uo]){const xa=cs(uo);return`#${xa}${xa}${xa}`}static RGB_G([uo,xa,ba]){return["G",.3*uo+.59*xa+.11*ba]}static RGB_rgb(uo){return uo.map(lo)}static RGB_HTML(uo){return`#${uo.map(cs).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([uo,xa,ba,$a]){return["RGB",1-Math.min(1,uo+$a),1-Math.min(1,ba+$a),1-Math.min(1,xa+$a)]}static CMYK_rgb([uo,xa,ba,$a]){return[lo(1-Math.min(1,uo+$a)),lo(1-Math.min(1,ba+$a)),lo(1-Math.min(1,xa+$a))]}static CMYK_HTML(uo){const xa=this.CMYK_RGB(uo).slice(1);return this.RGB_HTML(xa)}static RGB_CMYK([uo,xa,ba]){const $a=1-uo,wl=1-xa,Sl=1-ba,Cl=Math.min($a,wl,Sl);return["CMYK",$a,wl,Sl,Cl]}}is.ColorConverters=co},(us,is)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.NullL10n=void 0,is.getL10nFallback=lo;const cs={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};cs.print_progress_percent="{{progress}}%";function lo(uo,xa){switch(uo){case"find_match_count":uo=`find_match_count[${xa.total===1?"one":"other"}]`;break;case"find_match_count_limit":uo=`find_match_count_limit[${xa.limit===1?"one":"other"}]`;break}return cs[uo]||""}function co(uo,xa){return xa?uo.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ba,$a)=>$a in xa?xa[$a]:"{{"+$a+"}}"):uo}const hs={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(uo,xa=null,ba=lo(uo,xa)){return co(ba,xa)},async translate(uo){}};is.NullL10n=hs},(us,is,cs)=>{Object.defineProperty(is,"__esModule",{value:!0}),is.XfaLayer=void 0;var lo=cs(25);class co{static setupStorage(uo,xa,ba,$a,wl){const Sl=$a.getValue(xa,{value:null});switch(ba.name){case"textarea":if(Sl.value!==null&&(uo.textContent=Sl.value),wl==="print")break;uo.addEventListener("input",Cl=>{$a.setValue(xa,{value:Cl.target.value})});break;case"input":if(ba.attributes.type==="radio"||ba.attributes.type==="checkbox"){if(Sl.value===ba.attributes.xfaOn?uo.setAttribute("checked",!0):Sl.value===ba.attributes.xfaOff&&uo.removeAttribute("checked"),wl==="print")break;uo.addEventListener("change",Cl=>{$a.setValue(xa,{value:Cl.target.checked?Cl.target.getAttribute("xfaOn"):Cl.target.getAttribute("xfaOff")})})}else{if(Sl.value!==null&&uo.setAttribute("value",Sl.value),wl==="print")break;uo.addEventListener("input",Cl=>{$a.setValue(xa,{value:Cl.target.value})})}break;case"select":if(Sl.value!==null){uo.setAttribute("value",Sl.value);for(const Cl of ba.children)Cl.attributes.value===Sl.value?Cl.attributes.selected=!0:Cl.attributes.hasOwnProperty("selected")&&delete Cl.attributes.selected}uo.addEventListener("input",Cl=>{const _l=Cl.target.options,Il=_l.selectedIndex===-1?"":_l[_l.selectedIndex].value;$a.setValue(xa,{value:Il})});break}}static setAttributes({html:uo,element:xa,storage:ba=null,intent:$a,linkService:wl}){const{attributes:Sl}=xa,Cl=uo instanceof HTMLAnchorElement;Sl.type==="radio"&&(Sl.name=`${Sl.name}-${$a}`);for(const[_l,Il]of Object.entries(Sl))if(Il!=null)switch(_l){case"class":Il.length&&uo.setAttribute(_l,Il.join(" "));break;case"dataId":break;case"id":uo.setAttribute("data-element-id",Il);break;case"style":Object.assign(uo.style,Il);break;case"textContent":uo.textContent=Il;break;default:(!Cl||_l!=="href"&&_l!=="newWindow")&&uo.setAttribute(_l,Il)}Cl&&wl.addLinkAttributes(uo,Sl.href,Sl.newWindow),ba&&Sl.dataId&&this.setupStorage(uo,Sl.dataId,xa,ba)}static render(uo){var Fl;const xa=uo.annotationStorage,ba=uo.linkService,$a=uo.xfaHtml,wl=uo.intent||"display",Sl=document.createElement($a.name);$a.attributes&&this.setAttributes({html:Sl,element:$a,intent:wl,linkService:ba});const Cl=[[$a,-1,Sl]],_l=uo.div;if(_l.append(Sl),uo.viewport){const Ml=`matrix(${uo.viewport.transform.join(",")})`;_l.style.transform=Ml}wl!=="richText"&&_l.setAttribute("class","xfaLayer xfaFont");const Il=[];for(;Cl.length>0;){const[Ml,Tl,Dl]=Cl.at(-1);if(Tl+1===Ml.children.length){Cl.pop();continue}const Bl=Ml.children[++Cl.at(-1)[1]];if(Bl===null)continue;const{name:Ll}=Bl;if(Ll==="#text"){const zl=document.createTextNode(Bl.value);Il.push(zl),Dl.append(zl);continue}const Nl=(Fl=Bl==null?void 0:Bl.attributes)!=null&&Fl.xmlns?document.createElementNS(Bl.attributes.xmlns,Ll):document.createElement(Ll);if(Dl.append(Nl),Bl.attributes&&this.setAttributes({html:Nl,element:Bl,storage:xa,intent:wl,linkService:ba}),Bl.children&&Bl.children.length>0)Cl.push([Bl,-1,Nl]);else if(Bl.value){const zl=document.createTextNode(Bl.value);lo.XfaText.shouldBuildText(Ll)&&Il.push(zl),Nl.append(zl)}}for(const Ml of _l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ml.setAttribute("readOnly",!0);return{textDivs:Il}}static update(uo){const xa=`matrix(${uo.viewport.transform.join(",")})`;uo.div.style.transform=xa,uo.div.hidden=!1}}is.XfaLayer=co},(us,is,cs)=>{var $a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,Nl,zl,$l,C_,__,A_,T_,AE,R_,TE,k_,P_,I_,O_,D_,Xy,RE,aw,lw,Yx,kE,cw,Ql,F_,PE,j_,M_,IE,uw,Xx;Object.defineProperty(is,"__esModule",{value:!0}),is.InkEditor=void 0;var lo=cs(1),co=cs(4),hs=cs(29),uo=cs(6),xa=cs(5);const Xu=class Xu extends co.AnnotationEditor{constructor(Au){super({...Au,name:"inkEditor"});Op(this,$l);Op(this,$a,0);Op(this,wl,0);Op(this,Sl,this.canvasPointermove.bind(this));Op(this,Cl,this.canvasPointerleave.bind(this));Op(this,_l,this.canvasPointerup.bind(this));Op(this,Il,this.canvasPointerdown.bind(this));Op(this,Fl,new Path2D);Op(this,Ml,!1);Op(this,Tl,!1);Op(this,Dl,!1);Op(this,Bl,null);Op(this,Ll,0);Op(this,Nl,0);Op(this,zl,null);this.color=Au.color||null,this.thickness=Au.thickness||null,this.opacity=Au.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Au){co.AnnotationEditor.initialize(Au,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Au,Pu){switch(Au){case lo.AnnotationEditorParamsType.INK_THICKNESS:Xu._defaultThickness=Pu;break;case lo.AnnotationEditorParamsType.INK_COLOR:Xu._defaultColor=Pu;break;case lo.AnnotationEditorParamsType.INK_OPACITY:Xu._defaultOpacity=Pu/100;break}}updateParams(Au,Pu){switch(Au){case lo.AnnotationEditorParamsType.INK_THICKNESS:Ep(this,$l,C_).call(this,Pu);break;case lo.AnnotationEditorParamsType.INK_COLOR:Ep(this,$l,__).call(this,Pu);break;case lo.AnnotationEditorParamsType.INK_OPACITY:Ep(this,$l,A_).call(this,Pu);break}}static get defaultPropertiesToUpdate(){return[[lo.AnnotationEditorParamsType.INK_THICKNESS,Xu._defaultThickness],[lo.AnnotationEditorParamsType.INK_COLOR,Xu._defaultColor||co.AnnotationEditor._defaultLineColor],[lo.AnnotationEditorParamsType.INK_OPACITY,Math.round(Xu._defaultOpacity*100)]]}get propertiesToUpdate(){return[[lo.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Xu._defaultThickness],[lo.AnnotationEditorParamsType.INK_COLOR,this.color||Xu._defaultColor||co.AnnotationEditor._defaultLineColor],[lo.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Xu._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ep(this,$l,aw).call(this),Ep(this,$l,lw).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ep(this,$l,Yx).call(this)),Ep(this,$l,Xx).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,pu(this,Bl).disconnect(),Fp(this,Bl,null),super.remove())}setParent(Au){!this.parent&&Au?this._uiManager.removeShouldRescale(this):this.parent&&Au===null&&this._uiManager.addShouldRescale(this),super.setParent(Au)}onScaleChanging(){const[Au,Pu]=this.parentDimensions,Ou=this.width*Au,ip=this.height*Pu;this.setDimensions(Ou,ip)}enableEditMode(){pu(this,Ml)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",pu(this,Il)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",pu(this,Il)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){pu(this,Ml)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Fp(this,Ml,!0),this.div.classList.add("disabled"),Ep(this,$l,Xx).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Au){this._focusEventsAllowed&&(super.focusin(Au),this.enableEditMode())}canvasPointerdown(Au){Au.button!==0||!this.isInEditMode()||pu(this,Ml)||(this.setInForeground(),Au.preventDefault(),Au.type!=="mouse"&&this.div.focus(),Ep(this,$l,R_).call(this,Au.offsetX,Au.offsetY))}canvasPointermove(Au){Au.preventDefault(),Ep(this,$l,TE).call(this,Au.offsetX,Au.offsetY)}canvasPointerup(Au){Au.preventDefault(),Ep(this,$l,RE).call(this,Au)}canvasPointerleave(Au){Ep(this,$l,RE).call(this,Au)}get isResizable(){return!this.isEmpty()&&pu(this,Ml)}render(){if(this.div)return this.div;let Au,Pu;this.width&&(Au=this.x,Pu=this.y),super.render(),co.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Eu=>{var Lu;return(Lu=this.div)==null?void 0:Lu.setAttribute("aria-label",Eu)});const[Ou,ip,$u,np]=Ep(this,$l,T_).call(this);if(this.setAt(Ou,ip,0,0),this.setDims($u,np),Ep(this,$l,aw).call(this),this.width){const[Eu,Lu]=this.parentDimensions;this.setAspectRatio(this.width*Eu,this.height*Lu),this.setAt(Au*Eu,Pu*Lu,this.width*Eu,this.height*Lu),Fp(this,Dl,!0),Ep(this,$l,Yx).call(this),this.setDims(this.width*Eu,this.height*Lu),Ep(this,$l,Xy).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ep(this,$l,lw).call(this),this.div}setDimensions(Au,Pu){const Ou=Math.round(Au),ip=Math.round(Pu);if(pu(this,Ll)===Ou&&pu(this,Nl)===ip)return;Fp(this,Ll,Ou),Fp(this,Nl,ip),this.canvas.style.visibility="hidden";const[$u,np]=this.parentDimensions;this.width=Au/$u,this.height=Pu/np,this.fixAndSetPosition(),pu(this,Ml)&&Ep(this,$l,kE).call(this,Au,Pu),Ep(this,$l,Yx).call(this),Ep(this,$l,Xy).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Au,Pu,Ou){var eu,Nu,Zu;if(Au instanceof hs.InkAnnotationElement)return null;const ip=super.deserialize(Au,Pu,Ou);ip.thickness=Au.thickness,ip.color=lo.Util.makeHexColor(...Au.color),ip.opacity=Au.opacity;const[$u,np]=ip.pageDimensions,Eu=ip.width*$u,Lu=ip.height*np,up=ip.parentScale,mp=Au.thickness/2;Fp(ip,Ml,!0),Fp(ip,Ll,Math.round(Eu)),Fp(ip,Nl,Math.round(Lu));const{paths:Rp,rect:kp,rotation:hu}=Au;for(let{bezier:Vu}of Rp){Vu=Ep(eu=Xu,Ql,j_).call(eu,Vu,kp,hu);const yu=[];ip.paths.push(yu);let Hu=up*(Vu[0]-mp),Sp=up*(Vu[1]-mp);for(let Lp=2,Ku=Vu.length;Lp<Ku;Lp+=6){const wp=up*(Vu[Lp]-mp),Bp=up*(Vu[Lp+1]-mp),Pp=up*(Vu[Lp+2]-mp),n0=up*(Vu[Lp+3]-mp),Jp=up*(Vu[Lp+4]-mp),Ju=up*(Vu[Lp+5]-mp);yu.push([[Hu,Sp],[wp,Bp],[Pp,n0],[Jp,Ju]]),Hu=Jp,Sp=Ju}const Np=Ep(this,Ql,F_).call(this,yu);ip.bezierPath2D.push(Np)}const Zl=Ep(Nu=ip,$l,IE).call(Nu);return Fp(ip,wl,Math.max(co.AnnotationEditor.MIN_SIZE,Zl[2]-Zl[0])),Fp(ip,$a,Math.max(co.AnnotationEditor.MIN_SIZE,Zl[3]-Zl[1])),Ep(Zu=ip,$l,kE).call(Zu,Eu,Lu),ip}serialize(){if(this.isEmpty())return null;const Au=this.getRect(0,0),Pu=co.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:lo.AnnotationEditorType.INK,color:Pu,thickness:this.thickness,opacity:this.opacity,paths:Ep(this,$l,M_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Au),pageIndex:this.pageIndex,rect:Au,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$a=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Tl=new WeakMap,Dl=new WeakMap,Bl=new WeakMap,Ll=new WeakMap,Nl=new WeakMap,zl=new WeakMap,$l=new WeakSet,C_=function(Au){const Pu=this.thickness;this.addCommands({cmd:()=>{this.thickness=Au,Ep(this,$l,Xx).call(this)},undo:()=>{this.thickness=Pu,Ep(this,$l,Xx).call(this)},mustExec:!0,type:lo.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},__=function(Au){const Pu=this.color;this.addCommands({cmd:()=>{this.color=Au,Ep(this,$l,Xy).call(this)},undo:()=>{this.color=Pu,Ep(this,$l,Xy).call(this)},mustExec:!0,type:lo.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},A_=function(Au){Au/=100;const Pu=this.opacity;this.addCommands({cmd:()=>{this.opacity=Au,Ep(this,$l,Xy).call(this)},undo:()=>{this.opacity=Pu,Ep(this,$l,Xy).call(this)},mustExec:!0,type:lo.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},T_=function(){const{parentRotation:Au,parentDimensions:[Pu,Ou]}=this;switch(Au){case 90:return[0,Ou,Ou,Pu];case 180:return[Pu,Ou,Pu,Ou];case 270:return[Pu,0,Ou,Pu];default:return[0,0,Pu,Ou]}},AE=function(){const{ctx:Au,color:Pu,opacity:Ou,thickness:ip,parentScale:$u,scaleFactor:np}=this;Au.lineWidth=ip*$u/np,Au.lineCap="round",Au.lineJoin="round",Au.miterLimit=10,Au.strokeStyle=`${Pu}${(0,xa.opacityToHex)(Ou)}`},R_=function(Au,Pu){this.canvas.addEventListener("contextmenu",uo.noContextMenu),this.canvas.addEventListener("pointerleave",pu(this,Cl)),this.canvas.addEventListener("pointermove",pu(this,Sl)),this.canvas.addEventListener("pointerup",pu(this,_l)),this.canvas.removeEventListener("pointerdown",pu(this,Il)),this.isEditing=!0,pu(this,Dl)||(Fp(this,Dl,!0),Ep(this,$l,Yx).call(this),this.thickness||(this.thickness=Xu._defaultThickness),this.color||(this.color=Xu._defaultColor||co.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Xu._defaultOpacity)),this.currentPath.push([Au,Pu]),Fp(this,Tl,!1),Ep(this,$l,AE).call(this),Fp(this,zl,()=>{Ep(this,$l,I_).call(this),pu(this,zl)&&window.requestAnimationFrame(pu(this,zl))}),window.requestAnimationFrame(pu(this,zl))},TE=function(Au,Pu){const[Ou,ip]=this.currentPath.at(-1);if(this.currentPath.length>1&&Au===Ou&&Pu===ip)return;const $u=this.currentPath;let np=pu(this,Fl);if($u.push([Au,Pu]),Fp(this,Tl,!0),$u.length<=2){np.moveTo(...$u[0]),np.lineTo(Au,Pu);return}$u.length===3&&(Fp(this,Fl,np=new Path2D),np.moveTo(...$u[0])),Ep(this,$l,O_).call(this,np,...$u.at(-3),...$u.at(-2),Au,Pu)},k_=function(){if(this.currentPath.length===0)return;const Au=this.currentPath.at(-1);pu(this,Fl).lineTo(...Au)},P_=function(Au,Pu){Fp(this,zl,null),Au=Math.min(Math.max(Au,0),this.canvas.width),Pu=Math.min(Math.max(Pu,0),this.canvas.height),Ep(this,$l,TE).call(this,Au,Pu),Ep(this,$l,k_).call(this);let Ou;if(this.currentPath.length!==1)Ou=Ep(this,$l,D_).call(this);else{const Lu=[Au,Pu];Ou=[[Lu,Lu.slice(),Lu.slice(),Lu]]}const ip=pu(this,Fl),$u=this.currentPath;this.currentPath=[],Fp(this,Fl,new Path2D);const np=()=>{this.allRawPaths.push($u),this.paths.push(Ou),this.bezierPath2D.push(ip),this.rebuild()},Eu=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ep(this,$l,aw).call(this),Ep(this,$l,lw).call(this)),Ep(this,$l,Xx).call(this))};this.addCommands({cmd:np,undo:Eu,mustExec:!0})},I_=function(){if(!pu(this,Tl))return;Fp(this,Tl,!1);const Au=Math.ceil(this.thickness*this.parentScale),Pu=this.currentPath.slice(-3),Ou=Pu.map(np=>np[0]),ip=Pu.map(np=>np[1]);Math.min(...Ou)-Au,Math.max(...Ou)+Au,Math.min(...ip)-Au,Math.max(...ip)+Au;const{ctx:$u}=this;$u.save(),$u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const np of this.bezierPath2D)$u.stroke(np);$u.stroke(pu(this,Fl)),$u.restore()},O_=function(Au,Pu,Ou,ip,$u,np,Eu){const Lu=(Pu+ip)/2,up=(Ou+$u)/2,mp=(ip+np)/2,Rp=($u+Eu)/2;Au.bezierCurveTo(Lu+2*(ip-Lu)/3,up+2*($u-up)/3,mp+2*(ip-mp)/3,Rp+2*($u-Rp)/3,mp,Rp)},D_=function(){const Au=this.currentPath;if(Au.length<=2)return[[Au[0],Au[0],Au.at(-1),Au.at(-1)]];const Pu=[];let Ou,[ip,$u]=Au[0];for(Ou=1;Ou<Au.length-2;Ou++){const[kp,hu]=Au[Ou],[Zl,eu]=Au[Ou+1],Nu=(kp+Zl)/2,Zu=(hu+eu)/2,Vu=[ip+2*(kp-ip)/3,$u+2*(hu-$u)/3],yu=[Nu+2*(kp-Nu)/3,Zu+2*(hu-Zu)/3];Pu.push([[ip,$u],Vu,yu,[Nu,Zu]]),[ip,$u]=[Nu,Zu]}const[np,Eu]=Au[Ou],[Lu,up]=Au[Ou+1],mp=[ip+2*(np-ip)/3,$u+2*(Eu-$u)/3],Rp=[Lu+2*(np-Lu)/3,up+2*(Eu-up)/3];return Pu.push([[ip,$u],mp,Rp,[Lu,up]]),Pu},Xy=function(){if(this.isEmpty()){Ep(this,$l,cw).call(this);return}Ep(this,$l,AE).call(this);const{canvas:Au,ctx:Pu}=this;Pu.setTransform(1,0,0,1,0,0),Pu.clearRect(0,0,Au.width,Au.height),Ep(this,$l,cw).call(this);for(const Ou of this.bezierPath2D)Pu.stroke(Ou)},RE=function(Au){this.canvas.removeEventListener("pointerleave",pu(this,Cl)),this.canvas.removeEventListener("pointermove",pu(this,Sl)),this.canvas.removeEventListener("pointerup",pu(this,_l)),this.canvas.addEventListener("pointerdown",pu(this,Il)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",uo.noContextMenu)},10),Ep(this,$l,P_).call(this,Au.offsetX,Au.offsetY),this.addToAnnotationStorage(),this.setInBackground()},aw=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",co.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Au=>{var Pu;return(Pu=this.canvas)==null?void 0:Pu.setAttribute("aria-label",Au)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},lw=function(){Fp(this,Bl,new ResizeObserver(Au=>{const Pu=Au[0].contentRect;Pu.width&&Pu.height&&this.setDimensions(Pu.width,Pu.height)})),pu(this,Bl).observe(this.div)},Yx=function(){if(!pu(this,Dl))return;const[Au,Pu]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Au),this.canvas.height=Math.ceil(this.height*Pu),Ep(this,$l,cw).call(this)},kE=function(Au,Pu){const Ou=Ep(this,$l,uw).call(this),ip=(Au-Ou)/pu(this,wl),$u=(Pu-Ou)/pu(this,$a);this.scaleFactor=Math.min(ip,$u)},cw=function(){const Au=Ep(this,$l,uw).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Au,this.translationY*this.scaleFactor+Au)},Ql=new WeakSet,F_=function(Au){const Pu=new Path2D;for(let Ou=0,ip=Au.length;Ou<ip;Ou++){const[$u,np,Eu,Lu]=Au[Ou];Ou===0&&Pu.moveTo(...$u),Pu.bezierCurveTo(np[0],np[1],Eu[0],Eu[1],Lu[0],Lu[1])}return Pu},PE=function(Au,Pu,Ou){const[ip,$u,np,Eu]=Pu;switch(Ou){case 0:for(let Lu=0,up=Au.length;Lu<up;Lu+=2)Au[Lu]+=ip,Au[Lu+1]=Eu-Au[Lu+1];break;case 90:for(let Lu=0,up=Au.length;Lu<up;Lu+=2){const mp=Au[Lu];Au[Lu]=Au[Lu+1]+ip,Au[Lu+1]=mp+$u}break;case 180:for(let Lu=0,up=Au.length;Lu<up;Lu+=2)Au[Lu]=np-Au[Lu],Au[Lu+1]+=$u;break;case 270:for(let Lu=0,up=Au.length;Lu<up;Lu+=2){const mp=Au[Lu];Au[Lu]=np-Au[Lu+1],Au[Lu+1]=Eu-mp}break;default:throw new Error("Invalid rotation")}return Au},j_=function(Au,Pu,Ou){const[ip,$u,np,Eu]=Pu;switch(Ou){case 0:for(let Lu=0,up=Au.length;Lu<up;Lu+=2)Au[Lu]-=ip,Au[Lu+1]=Eu-Au[Lu+1];break;case 90:for(let Lu=0,up=Au.length;Lu<up;Lu+=2){const mp=Au[Lu];Au[Lu]=Au[Lu+1]-$u,Au[Lu+1]=mp-ip}break;case 180:for(let Lu=0,up=Au.length;Lu<up;Lu+=2)Au[Lu]=np-Au[Lu],Au[Lu+1]-=$u;break;case 270:for(let Lu=0,up=Au.length;Lu<up;Lu+=2){const mp=Au[Lu];Au[Lu]=Eu-Au[Lu+1],Au[Lu+1]=np-mp}break;default:throw new Error("Invalid rotation")}return Au},M_=function(Au,Pu,Ou,ip){var up,mp;const $u=[],np=this.thickness/2,Eu=Au*Pu+np,Lu=Au*Ou+np;for(const Rp of this.paths){const kp=[],hu=[];for(let Zl=0,eu=Rp.length;Zl<eu;Zl++){const[Nu,Zu,Vu,yu]=Rp[Zl],Hu=Au*Nu[0]+Eu,Sp=Au*Nu[1]+Lu,Np=Au*Zu[0]+Eu,Lp=Au*Zu[1]+Lu,Ku=Au*Vu[0]+Eu,wp=Au*Vu[1]+Lu,Bp=Au*yu[0]+Eu,Pp=Au*yu[1]+Lu;Zl===0&&(kp.push(Hu,Sp),hu.push(Hu,Sp)),kp.push(Np,Lp,Ku,wp,Bp,Pp),hu.push(Np,Lp),Zl===eu-1&&hu.push(Bp,Pp)}$u.push({bezier:Ep(up=Xu,Ql,PE).call(up,kp,ip,this.rotation),points:Ep(mp=Xu,Ql,PE).call(mp,hu,ip,this.rotation)})}return $u},IE=function(){let Au=1/0,Pu=-1/0,Ou=1/0,ip=-1/0;for(const $u of this.paths)for(const[np,Eu,Lu,up]of $u){const mp=lo.Util.bezierBoundingBox(...np,...Eu,...Lu,...up);Au=Math.min(Au,mp[0]),Ou=Math.min(Ou,mp[1]),Pu=Math.max(Pu,mp[2]),ip=Math.max(ip,mp[3])}return[Au,Ou,Pu,ip]},uw=function(){return pu(this,Ml)?Math.ceil(this.thickness*this.parentScale):0},Xx=function(Au=!1){if(this.isEmpty())return;if(!pu(this,Ml)){Ep(this,$l,Xy).call(this);return}const Pu=Ep(this,$l,IE).call(this),Ou=Ep(this,$l,uw).call(this);Fp(this,wl,Math.max(co.AnnotationEditor.MIN_SIZE,Pu[2]-Pu[0])),Fp(this,$a,Math.max(co.AnnotationEditor.MIN_SIZE,Pu[3]-Pu[1]));const ip=Math.ceil(Ou+pu(this,wl)*this.scaleFactor),$u=Math.ceil(Ou+pu(this,$a)*this.scaleFactor),[np,Eu]=this.parentDimensions;this.width=ip/np,this.height=$u/Eu,this.setAspectRatio(ip,$u);const Lu=this.translationX,up=this.translationY;this.translationX=-Pu[0],this.translationY=-Pu[1],Ep(this,$l,Yx).call(this),Ep(this,$l,Xy).call(this),Fp(this,Ll,ip),Fp(this,Nl,$u),this.setDims(ip,$u);const mp=Au?Ou/this.scaleFactor/2:0;this.translate(Lu-this.translationX-mp,up-this.translationY-mp)},Op(Xu,Ql),r1(Xu,"_defaultColor",null),r1(Xu,"_defaultOpacity",1),r1(Xu,"_defaultThickness",1),r1(Xu,"_type","ink");let ba=Xu;is.InkEditor=ba},(us,is,cs)=>{var ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,S2,_2,hw,OE,N_,L_,DE,dw,B_;Object.defineProperty(is,"__esModule",{value:!0}),is.StampEditor=void 0;var lo=cs(1),co=cs(4),hs=cs(6),uo=cs(29);const Jl=class Jl extends co.AnnotationEditor{constructor(zu){super({...zu,name:"stampEditor"});Op(this,Dl);Op(this,ba,null);Op(this,$a,null);Op(this,wl,null);Op(this,Sl,null);Op(this,Cl,null);Op(this,_l,null);Op(this,Il,null);Op(this,Fl,null);Op(this,Ml,!1);Op(this,Tl,!1);Fp(this,Sl,zu.bitmapUrl),Fp(this,Cl,zu.bitmapFile)}static initialize(zu){co.AnnotationEditor.initialize(zu)}static get supportedTypes(){const zu=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,lo.shadow)(this,"supportedTypes",zu.map(Wu=>`image/${Wu}`))}static get supportedTypesStr(){return(0,lo.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(zu){return this.supportedTypes.includes(zu)}static paste(zu,Wu){Wu.pasteEditor(lo.AnnotationEditorType.STAMP,{bitmapFile:zu.getAsFile()})}remove(){var zu,Wu;pu(this,$a)&&(Fp(this,ba,null),this._uiManager.imageManager.deleteId(pu(this,$a)),(zu=pu(this,_l))==null||zu.remove(),Fp(this,_l,null),(Wu=pu(this,Il))==null||Wu.disconnect(),Fp(this,Il,null)),super.remove()}rebuild(){if(!this.parent){pu(this,$a)&&Ep(this,Dl,hw).call(this);return}super.rebuild(),this.div!==null&&(pu(this,$a)&&Ep(this,Dl,hw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(pu(this,wl)||pu(this,ba)||pu(this,Sl)||pu(this,Cl))}get isResizable(){return!0}render(){if(this.div)return this.div;let zu,Wu;if(this.width&&(zu=this.x,Wu=this.y),super.render(),this.div.hidden=!0,pu(this,ba)?Ep(this,Dl,OE).call(this):Ep(this,Dl,hw).call(this),this.width){const[qu,Mu]=this.parentDimensions;this.setAt(zu*qu,Wu*Mu,this.width*qu,this.height*Mu)}return this.div}static deserialize(zu,Wu,qu){if(zu instanceof uo.StampAnnotationElement)return null;const Mu=super.deserialize(zu,Wu,qu),{rect:mu,bitmapUrl:uu,bitmapId:cu,isSvg:ru,accessibilityData:Yl}=zu;cu&&qu.imageManager.isValidId(cu)?Fp(Mu,$a,cu):Fp(Mu,Sl,uu),Fp(Mu,Ml,ru);const[Hl,Kl]=Mu.pageDimensions;return Mu.width=(mu[2]-mu[0])/Hl,Mu.height=(mu[3]-mu[1])/Kl,Yl&&(Mu.altTextData=Yl),Mu}serialize(zu=!1,Wu=null){if(this.isEmpty())return null;const qu={annotationType:lo.AnnotationEditorType.STAMP,bitmapId:pu(this,$a),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:pu(this,Ml),structTreeParentId:this._structTreeParentId};if(zu)return qu.bitmapUrl=Ep(this,Dl,dw).call(this,!0),qu.accessibilityData=this.altTextData,qu;const{decorative:Mu,altText:mu}=this.altTextData;if(!Mu&&mu&&(qu.accessibilityData={type:"Figure",alt:mu}),Wu===null)return qu;Wu.stamps||(Wu.stamps=new Map);const uu=pu(this,Ml)?(qu.rect[2]-qu.rect[0])*(qu.rect[3]-qu.rect[1]):null;if(!Wu.stamps.has(pu(this,$a)))Wu.stamps.set(pu(this,$a),{area:uu,serialized:qu}),qu.bitmap=Ep(this,Dl,dw).call(this,!1);else if(pu(this,Ml)){const cu=Wu.stamps.get(pu(this,$a));uu>cu.area&&(cu.area=uu,cu.serialized.bitmap.close(),cu.serialized.bitmap=Ep(this,Dl,dw).call(this,!1))}return qu}};ba=new WeakMap,$a=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Tl=new WeakMap,Dl=new WeakSet,S2=function(zu,Wu=!1){if(!zu){this.remove();return}Fp(this,ba,zu.bitmap),Wu||(Fp(this,$a,zu.id),Fp(this,Ml,zu.isSvg)),Ep(this,Dl,OE).call(this)},_2=function(){Fp(this,wl,null),this._uiManager.enableWaiting(!1),pu(this,_l)&&this.div.focus()},hw=function(){if(pu(this,$a)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(pu(this,$a)).then(Wu=>Ep(this,Dl,S2).call(this,Wu,!0)).finally(()=>Ep(this,Dl,_2).call(this));return}if(pu(this,Sl)){const Wu=pu(this,Sl);Fp(this,Sl,null),this._uiManager.enableWaiting(!0),Fp(this,wl,this._uiManager.imageManager.getFromUrl(Wu).then(qu=>Ep(this,Dl,S2).call(this,qu)).finally(()=>Ep(this,Dl,_2).call(this)));return}if(pu(this,Cl)){const Wu=pu(this,Cl);Fp(this,Cl,null),this._uiManager.enableWaiting(!0),Fp(this,wl,this._uiManager.imageManager.getFromFile(Wu).then(qu=>Ep(this,Dl,S2).call(this,qu)).finally(()=>Ep(this,Dl,_2).call(this)));return}const zu=document.createElement("input");zu.type="file",zu.accept=Jl.supportedTypesStr,Fp(this,wl,new Promise(Wu=>{zu.addEventListener("change",async()=>{if(!zu.files||zu.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const qu=await this._uiManager.imageManager.getFromFile(zu.files[0]);Ep(this,Dl,S2).call(this,qu)}Wu()}),zu.addEventListener("cancel",()=>{this.remove(),Wu()})}).finally(()=>Ep(this,Dl,_2).call(this))),zu.click()},OE=function(){const{div:zu}=this;let{width:Wu,height:qu}=pu(this,ba);const[Mu,mu]=this.pageDimensions,uu=.75;if(this.width)Wu=this.width*Mu,qu=this.height*mu;else if(Wu>uu*Mu||qu>uu*mu){const Hl=Math.min(uu*Mu/Wu,uu*mu/qu);Wu*=Hl,qu*=Hl}const[cu,ru]=this.parentDimensions;this.setDims(Wu*cu/Mu,qu*ru/mu),this._uiManager.enableWaiting(!1);const Yl=Fp(this,_l,document.createElement("canvas"));zu.append(Yl),zu.hidden=!1,Ep(this,Dl,DE).call(this,Wu,qu),Ep(this,Dl,B_).call(this),pu(this,Tl)||(this.parent.addUndoableEditor(this),Fp(this,Tl,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},N_=function(zu,Wu){var uu;const[qu,Mu]=this.parentDimensions;this.width=zu/qu,this.height=Wu/Mu,this.setDims(zu,Wu),(uu=this._initialOptions)!=null&&uu.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,pu(this,Fl)!==null&&clearTimeout(pu(this,Fl)),Fp(this,Fl,setTimeout(()=>{Fp(this,Fl,null),Ep(this,Dl,DE).call(this,zu,Wu)},200))},L_=function(zu,Wu){const{width:qu,height:Mu}=pu(this,ba);let mu=qu,uu=Mu,cu=pu(this,ba);for(;mu>2*zu||uu>2*Wu;){const ru=mu,Yl=uu;mu>2*zu&&(mu=mu>=16384?Math.floor(mu/2)-1:Math.ceil(mu/2)),uu>2*Wu&&(uu=uu>=16384?Math.floor(uu/2)-1:Math.ceil(uu/2));const Hl=new OffscreenCanvas(mu,uu);Hl.getContext("2d").drawImage(cu,0,0,ru,Yl,0,0,mu,uu),cu=Hl.transferToImageBitmap()}return cu},DE=function(zu,Wu){zu=Math.ceil(zu),Wu=Math.ceil(Wu);const qu=pu(this,_l);if(!qu||qu.width===zu&&qu.height===Wu)return;qu.width=zu,qu.height=Wu;const Mu=pu(this,Ml)?pu(this,ba):Ep(this,Dl,L_).call(this,zu,Wu),mu=qu.getContext("2d");mu.filter=this._uiManager.hcmFilter,mu.drawImage(Mu,0,0,Mu.width,Mu.height,0,0,zu,Wu)},dw=function(zu){if(zu){if(pu(this,Ml)){const Mu=this._uiManager.imageManager.getSvgUrl(pu(this,$a));if(Mu)return Mu}const Wu=document.createElement("canvas");return{width:Wu.width,height:Wu.height}=pu(this,ba),Wu.getContext("2d").drawImage(pu(this,ba),0,0),Wu.toDataURL()}if(pu(this,Ml)){const[Wu,qu]=this.pageDimensions,Mu=Math.round(this.width*Wu*hs.PixelsPerInch.PDF_TO_CSS_UNITS),mu=Math.round(this.height*qu*hs.PixelsPerInch.PDF_TO_CSS_UNITS),uu=new OffscreenCanvas(Mu,mu);return uu.getContext("2d").drawImage(pu(this,ba),0,0,pu(this,ba).width,pu(this,ba).height,0,0,Mu,mu),uu.transferToImageBitmap()}return structuredClone(pu(this,ba))},B_=function(){Fp(this,Il,new ResizeObserver(zu=>{const Wu=zu[0].contentRect;Wu.width&&Wu.height&&Ep(this,Dl,N_).call(this,Wu.width,Wu.height)})),pu(this,Il).observe(this.div)},r1(Jl,"_type","stamp");let xa=Jl;is.StampEditor=xa}],__webpack_module_cache__={};function __w_pdfjs_require__(us){var is=__webpack_module_cache__[us];if(is!==void 0)return is.exports;var cs=__webpack_module_cache__[us]={exports:{}};return __webpack_modules__[us](cs,cs.exports,__w_pdfjs_require__),cs.exports}var __webpack_exports__={};return(()=>{var us=__webpack_exports__;Object.defineProperty(us,"__esModule",{value:!0}),Object.defineProperty(us,"AbortException",{enumerable:!0,get:function(){return is.AbortException}}),Object.defineProperty(us,"AnnotationEditorLayer",{enumerable:!0,get:function(){return hs.AnnotationEditorLayer}}),Object.defineProperty(us,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return is.AnnotationEditorParamsType}}),Object.defineProperty(us,"AnnotationEditorType",{enumerable:!0,get:function(){return is.AnnotationEditorType}}),Object.defineProperty(us,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return uo.AnnotationEditorUIManager}}),Object.defineProperty(us,"AnnotationLayer",{enumerable:!0,get:function(){return xa.AnnotationLayer}}),Object.defineProperty(us,"AnnotationMode",{enumerable:!0,get:function(){return is.AnnotationMode}}),Object.defineProperty(us,"CMapCompressionType",{enumerable:!0,get:function(){return is.CMapCompressionType}}),Object.defineProperty(us,"DOMSVGFactory",{enumerable:!0,get:function(){return lo.DOMSVGFactory}}),Object.defineProperty(us,"FeatureTest",{enumerable:!0,get:function(){return is.FeatureTest}}),Object.defineProperty(us,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ba.GlobalWorkerOptions}}),Object.defineProperty(us,"ImageKind",{enumerable:!0,get:function(){return is.ImageKind}}),Object.defineProperty(us,"InvalidPDFException",{enumerable:!0,get:function(){return is.InvalidPDFException}}),Object.defineProperty(us,"MissingPDFException",{enumerable:!0,get:function(){return is.MissingPDFException}}),Object.defineProperty(us,"OPS",{enumerable:!0,get:function(){return is.OPS}}),Object.defineProperty(us,"PDFDataRangeTransport",{enumerable:!0,get:function(){return cs.PDFDataRangeTransport}}),Object.defineProperty(us,"PDFDateString",{enumerable:!0,get:function(){return lo.PDFDateString}}),Object.defineProperty(us,"PDFWorker",{enumerable:!0,get:function(){return cs.PDFWorker}}),Object.defineProperty(us,"PasswordResponses",{enumerable:!0,get:function(){return is.PasswordResponses}}),Object.defineProperty(us,"PermissionFlag",{enumerable:!0,get:function(){return is.PermissionFlag}}),Object.defineProperty(us,"PixelsPerInch",{enumerable:!0,get:function(){return lo.PixelsPerInch}}),Object.defineProperty(us,"PromiseCapability",{enumerable:!0,get:function(){return is.PromiseCapability}}),Object.defineProperty(us,"RenderingCancelledException",{enumerable:!0,get:function(){return lo.RenderingCancelledException}}),Object.defineProperty(us,"SVGGraphics",{enumerable:!0,get:function(){return cs.SVGGraphics}}),Object.defineProperty(us,"UnexpectedResponseException",{enumerable:!0,get:function(){return is.UnexpectedResponseException}}),Object.defineProperty(us,"Util",{enumerable:!0,get:function(){return is.Util}}),Object.defineProperty(us,"VerbosityLevel",{enumerable:!0,get:function(){return is.VerbosityLevel}}),Object.defineProperty(us,"XfaLayer",{enumerable:!0,get:function(){return $a.XfaLayer}}),Object.defineProperty(us,"build",{enumerable:!0,get:function(){return cs.build}}),Object.defineProperty(us,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return is.createValidAbsoluteUrl}}),Object.defineProperty(us,"getDocument",{enumerable:!0,get:function(){return cs.getDocument}}),Object.defineProperty(us,"getFilenameFromUrl",{enumerable:!0,get:function(){return lo.getFilenameFromUrl}}),Object.defineProperty(us,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return lo.getPdfFilenameFromUrl}}),Object.defineProperty(us,"getXfaPageViewport",{enumerable:!0,get:function(){return lo.getXfaPageViewport}}),Object.defineProperty(us,"isDataScheme",{enumerable:!0,get:function(){return lo.isDataScheme}}),Object.defineProperty(us,"isPdfFile",{enumerable:!0,get:function(){return lo.isPdfFile}}),Object.defineProperty(us,"loadScript",{enumerable:!0,get:function(){return lo.loadScript}}),Object.defineProperty(us,"noContextMenu",{enumerable:!0,get:function(){return lo.noContextMenu}}),Object.defineProperty(us,"normalizeUnicode",{enumerable:!0,get:function(){return is.normalizeUnicode}}),Object.defineProperty(us,"renderTextLayer",{enumerable:!0,get:function(){return co.renderTextLayer}}),Object.defineProperty(us,"setLayerDimensions",{enumerable:!0,get:function(){return lo.setLayerDimensions}}),Object.defineProperty(us,"shadow",{enumerable:!0,get:function(){return is.shadow}}),Object.defineProperty(us,"updateTextLayer",{enumerable:!0,get:function(){return co.updateTextLayer}}),Object.defineProperty(us,"version",{enumerable:!0,get:function(){return cs.version}});var is=__w_pdfjs_require__(1),cs=__w_pdfjs_require__(2),lo=__w_pdfjs_require__(6),co=__w_pdfjs_require__(26),hs=__w_pdfjs_require__(27),uo=__w_pdfjs_require__(5),xa=__w_pdfjs_require__(29),ba=__w_pdfjs_require__(14),$a=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(us,is){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(cs,lo){cs.__proto__=lo}||function(cs,lo){for(var co in lo)lo.hasOwnProperty(co)&&(cs[co]=lo[co])},extendStatics$1(us,is)};function __extends$1(us,is){extendStatics$1(us,is);function cs(){this.constructor=us}us.prototype=is===null?Object.create(is):(cs.prototype=is.prototype,new cs)}var __assign$1=function(){return __assign$1=Object.assign||function(is){for(var cs,lo=1,co=arguments.length;lo<co;lo++){cs=arguments[lo];for(var hs in cs)Object.prototype.hasOwnProperty.call(cs,hs)&&(is[hs]=cs[hs])}return is},__assign$1.apply(this,arguments)};function __rest$1(us,is){var cs={};for(var lo in us)Object.prototype.hasOwnProperty.call(us,lo)&&is.indexOf(lo)<0&&(cs[lo]=us[lo]);if(us!=null&&typeof Object.getOwnPropertySymbols=="function")for(var co=0,lo=Object.getOwnPropertySymbols(us);co<lo.length;co++)is.indexOf(lo[co])<0&&Object.prototype.propertyIsEnumerable.call(us,lo[co])&&(cs[lo[co]]=us[lo[co]]);return cs}function __awaiter$1(us,is,cs,lo){function co(hs){return hs instanceof cs?hs:new cs(function(uo){uo(hs)})}return new(cs||(cs=Promise))(function(hs,uo){function xa(wl){try{$a(lo.next(wl))}catch(Sl){uo(Sl)}}function ba(wl){try{$a(lo.throw(wl))}catch(Sl){uo(Sl)}}function $a(wl){wl.done?hs(wl.value):co(wl.value).then(xa,ba)}$a((lo=lo.apply(us,[])).next())})}function __generator$1(us,is){var cs={label:0,sent:function(){if(hs[0]&1)throw hs[1];return hs[1]},trys:[],ops:[]},lo,co,hs,uo;return uo={next:xa(0),throw:xa(1),return:xa(2)},typeof Symbol=="function"&&(uo[Symbol.iterator]=function(){return this}),uo;function xa($a){return function(wl){return ba([$a,wl])}}function ba($a){if(lo)throw new TypeError("Generator is already executing.");for(;cs;)try{if(lo=1,co&&(hs=$a[0]&2?co.return:$a[0]?co.throw||((hs=co.return)&&hs.call(co),0):co.next)&&!(hs=hs.call(co,$a[1])).done)return hs;switch(co=0,hs&&($a=[$a[0]&2,hs.value]),$a[0]){case 0:case 1:hs=$a;break;case 4:return cs.label++,{value:$a[1],done:!1};case 5:cs.label++,co=$a[1],$a=[0];continue;case 7:$a=cs.ops.pop(),cs.trys.pop();continue;default:if(hs=cs.trys,!(hs=hs.length>0&&hs[hs.length-1])&&($a[0]===6||$a[0]===2)){cs=0;continue}if($a[0]===3&&(!hs||$a[1]>hs[0]&&$a[1]<hs[3])){cs.label=$a[1];break}if($a[0]===6&&cs.label<hs[1]){cs.label=hs[1],hs=$a;break}if(hs&&cs.label<hs[2]){cs.label=hs[2],cs.ops.push($a);break}hs[2]&&cs.ops.pop(),cs.trys.pop();continue}$a=is.call(us,cs)}catch(wl){$a=[6,wl],co=0}finally{lo=hs=0}if($a[0]&5)throw $a[1];return{value:$a[0]?$a[1]:void 0,done:!0}}}function __spreadArrays$1(){for(var us=0,is=0,cs=arguments.length;is<cs;is++)us+=arguments[is].length;for(var lo=Array(us),co=0,is=0;is<cs;is++)for(var hs=arguments[is],uo=0,xa=hs.length;uo<xa;uo++,co++)lo[co]=hs[uo];return lo}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$2=0;i$2<chars$1.length;i$2++)lookup$1[chars$1.charCodeAt(i$2)]=i$2;var encodeToBase64=function(us){for(var is="",cs=us.length,lo=0;lo<cs;lo+=3)is+=chars$1[us[lo]>>2],is+=chars$1[(us[lo]&3)<<4|us[lo+1]>>4],is+=chars$1[(us[lo+1]&15)<<2|us[lo+2]>>6],is+=chars$1[us[lo+2]&63];return cs%3===2?is=is.substring(0,is.length-1)+"=":cs%3===1&&(is=is.substring(0,is.length-2)+"=="),is},decodeFromBase64$1=function(us){var is=us.length*.75,cs=us.length,lo,co=0,hs,uo,xa,ba;us[us.length-1]==="="&&(is--,us[us.length-2]==="="&&is--);var $a=new Uint8Array(is);for(lo=0;lo<cs;lo+=4)hs=lookup$1[us.charCodeAt(lo)],uo=lookup$1[us.charCodeAt(lo+1)],xa=lookup$1[us.charCodeAt(lo+2)],ba=lookup$1[us.charCodeAt(lo+3)],$a[co++]=hs<<2|uo>>4,$a[co++]=(uo&15)<<4|xa>>2,$a[co++]=(xa&3)<<6|ba&63;return $a},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(us){var is=us.trim(),cs=is.substring(0,100),lo=cs.match(DATA_URI_PREFIX_REGEX);if(!lo)return decodeFromBase64$1(is);var co=lo[0],hs=is.substring(co.length);return decodeFromBase64$1(hs)},toCharCode=function(us){return us.charCodeAt(0)},toCodePoint=function(us){return us.codePointAt(0)},toHexStringOfMinLength=function(us,is){return padStart$1(us.toString(16),is,"0").toUpperCase()},toHexString=function(us){return toHexStringOfMinLength(us,2)},charFromCode=function(us){return String.fromCharCode(us)},charFromHexCode=function(us){return charFromCode(parseInt(us,16))},padStart$1=function(us,is,cs){for(var lo="",co=0,hs=is-us.length;co<hs;co++)lo+=cs;return lo+us},copyStringIntoBuffer=function(us,is,cs){for(var lo=us.length,co=0;co<lo;co++)is[cs++]=us.charCodeAt(co);return lo},escapeRegExp$1=function(us){return us.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(us){return us.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(us){return/^[\n\f\r\u000B]$/.test(us)},lineSplit=function(us){return us.split(/[\n\f\r\u000B]/)},mergeLines=function(us){return us.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(us,is){var cs=us.charCodeAt(is),lo,co=is+1,hs=1;return cs>=55296&&cs<=56319&&us.length>co&&(lo=us.charCodeAt(co),lo>=56320&&lo<=57343&&(hs=2)),[us.slice(is,is+hs),hs]},charSplit=function(us){for(var is=[],cs=0,lo=us.length;cs<lo;){var co=charAtIndex(us,cs),hs=co[0],uo=co[1];is.push(hs),cs+=uo}return is},buildWordBreakRegex=function(us){for(var is=escapedNewlineChars.join("|"),cs=["$"],lo=0,co=us.length;lo<co;lo++){var hs=us[lo];if(isNewlineChar(hs))throw new TypeError("`wordBreak` must not include "+is);cs.push(hs===""?".":escapeRegExp$1(hs))}var uo=cs.join("|");return new RegExp("("+is+")|((.*?)("+uo+"))","gm")},breakTextIntoLines=function(us,is,cs,lo){for(var co=buildWordBreakRegex(is),hs=cleanText(us).match(co),uo="",xa=0,ba=[],$a=function(){uo!==""&&ba.push(uo),uo="",xa=0},wl=0,Sl=hs.length;wl<Sl;wl++){var Cl=hs[wl];if(isNewlineChar(Cl))$a();else{var _l=lo(Cl);xa+_l>cs&&$a(),uo+=Cl,xa+=_l}}return $a(),ba},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(us){var is=us.match(dateRegex);if(is){var cs=is[1],lo=is[2],co=lo===void 0?"01":lo,hs=is[3],uo=hs===void 0?"01":hs,xa=is[4],ba=xa===void 0?"00":xa,$a=is[5],wl=$a===void 0?"00":$a,Sl=is[6],Cl=Sl===void 0?"00":Sl,_l=is[7],Il=_l===void 0?"Z":_l,Fl=is[8],Ml=Fl===void 0?"00":Fl,Tl=is[9],Dl=Tl===void 0?"00":Tl,Bl=Il==="Z"?"Z":""+Il+Ml+":"+Dl,Ll=new Date(cs+"-"+co+"-"+uo+"T"+ba+":"+wl+":"+Cl+Bl);return Ll}},findLastMatch=function(us,is){for(var cs,lo=0,co;lo<us.length;){var hs=us.substring(lo).match(is);if(!hs)return{match:co,pos:lo};co=hs,lo+=((cs=hs.index)!==null&&cs!==void 0?cs:0)+hs[0].length}return{match:co,pos:lo}},last=function(us){return us[us.length-1]},typedArrayFor=function(us){if(us instanceof Uint8Array)return us;for(var is=us.length,cs=new Uint8Array(is),lo=0;lo<is;lo++)cs[lo]=us.charCodeAt(lo);return cs},mergeIntoTypedArray=function(){for(var us=[],is=0;is<arguments.length;is++)us[is]=arguments[is];for(var cs=us.length,lo=[],co=0;co<cs;co++){var hs=us[co];lo[co]=hs instanceof Uint8Array?hs:typedArrayFor(hs)}for(var uo=0,co=0;co<cs;co++)uo+=us[co].length;for(var xa=new Uint8Array(uo),ba=0,$a=0;$a<cs;$a++)for(var wl=lo[$a],Sl=0,Cl=wl.length;Sl<Cl;Sl++)xa[ba++]=wl[Sl];return xa},mergeUint8Arrays=function(us){for(var is=0,cs=0,lo=us.length;cs<lo;cs++)is+=us[cs].length;for(var co=new Uint8Array(is),hs=0,cs=0,lo=us.length;cs<lo;cs++){var uo=us[cs];co.set(uo,hs),hs+=uo.length}return co},arrayAsString=function(us){for(var is="",cs=0,lo=us.length;cs<lo;cs++)is+=charFromCode(us[cs]);return is},byAscendingId=function(us,is){return us.id-is.id},sortedUniq=function(us,is){for(var cs=[],lo=0,co=us.length;lo<co;lo++){var hs=us[lo],uo=us[lo-1];(lo===0||is(hs)!==is(uo))&&cs.push(hs)}return cs},reverseArray=function(us){for(var is=us.length,cs=0,lo=Math.floor(is/2);cs<lo;cs++){var co=cs,hs=is-cs-1,uo=us[cs];us[co]=us[hs],us[hs]=uo}return us},sum$1=function(us){for(var is=0,cs=0,lo=us.length;cs<lo;cs++)is+=us[cs];return is},range=function(us,is){for(var cs=new Array(is-us),lo=0,co=cs.length;lo<co;lo++)cs[lo]=us+lo;return cs},pluckIndices=function(us,is){for(var cs=new Array(is.length),lo=0,co=is.length;lo<co;lo++)cs[lo]=us[is[lo]];return cs},canBeConvertedToUint8Array=function(us){return us instanceof Uint8Array||us instanceof ArrayBuffer||typeof us=="string"},toUint8Array=function(us){if(typeof us=="string")return decodeFromBase64DataUri(us);if(us instanceof ArrayBuffer)return new Uint8Array(us);if(us instanceof Uint8Array)return us;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(us){setTimeout(function(){return us()},0)})},utf16Encode=function(us,is){is===void 0&&(is=!0);var cs=[];is&&cs.push(65279);for(var lo=0,co=us.length;lo<co;){var hs=us.codePointAt(lo);if(hs<65536)cs.push(hs),lo+=1;else if(hs<1114112)cs.push(highSurrogate(hs),lowSurrogate(hs)),lo+=2;else throw new Error("Invalid code point: 0x"+toHexString(hs))}return new Uint16Array(cs)},isWithinBMP=function(us){return us>=0&&us<=65535},hasSurrogates=function(us){return us>=65536&&us<=1114111},highSurrogate=function(us){return Math.floor((us-65536)/1024)+55296},lowSurrogate=function(us){return(us-65536)%1024+56320},ByteOrder;(function(us){us.BigEndian="BigEndian",us.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="".codePointAt(0),utf16Decode=function(us,is){if(is===void 0&&(is=!0),us.length<=1)return String.fromCodePoint(REPLACEMENT);for(var cs=is?readBOM(us):ByteOrder.BigEndian,lo=is?2:0,co=[];us.length-lo>=2;){var hs=decodeValues(us[lo++],us[lo++],cs);if(isHighSurrogate(hs))if(us.length-lo<2)co.push(REPLACEMENT);else{var uo=decodeValues(us[lo++],us[lo++],cs);isLowSurrogate(uo)?co.push(hs,uo):co.push(REPLACEMENT)}else isLowSurrogate(hs)?(lo+=2,co.push(REPLACEMENT)):co.push(hs)}return lo<us.length&&co.push(REPLACEMENT),String.fromCodePoint.apply(String,co)},isHighSurrogate=function(us){return us>=55296&&us<=56319},isLowSurrogate=function(us){return us>=56320&&us<=57343},decodeValues=function(us,is,cs){if(cs===ByteOrder.LittleEndian)return is<<8|us;if(cs===ByteOrder.BigEndian)return us<<8|is;throw new Error("Invalid byteOrder: "+cs)},readBOM=function(us){return hasUtf16BigEndianBOM(us)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(us)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(us){return us[0]===254&&us[1]===255},hasUtf16LittleEndianBOM=function(us){return us[0]===255&&us[1]===254},hasUtf16BOM=function(us){return hasUtf16BigEndianBOM(us)||hasUtf16LittleEndianBOM(us)},numberToString=function(us){var is=String(us);if(Math.abs(us)<1){var cs=parseInt(us.toString().split("e-")[1]);if(cs){var lo=us<0;lo&&(us*=-1),us*=Math.pow(10,cs-1),is="0."+new Array(cs).join("0")+us.toString().substring(2),lo&&(is="-"+is)}}else{var cs=parseInt(us.toString().split("+")[1]);cs>20&&(cs-=20,us/=Math.pow(10,cs),is=us.toString()+new Array(cs+1).join("0"))}return is},sizeInBytes=function(us){return Math.ceil(us.toString(2).length/8)},bytesFor=function(us){for(var is=new Uint8Array(sizeInBytes(us)),cs=1;cs<=is.length;cs++)is[cs-1]=us>>(is.length-cs)*8;return is},error=function(us){throw new Error(us)},deflate$2={},strings$2={},utils$2=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(us){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(us){STR_APPLY_UIA_OK=!1}var _utf8len=new utils$2.Buf8(256);for(var q$1=0;q$1<256;q$1++)_utf8len[q$1]=q$1>=252?6:q$1>=248?5:q$1>=240?4:q$1>=224?3:q$1>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(us){var is,cs,lo,co,hs,uo=us.length,xa=0;for(co=0;co<uo;co++)cs=us.charCodeAt(co),(cs&64512)===55296&&co+1<uo&&(lo=us.charCodeAt(co+1),(lo&64512)===56320&&(cs=65536+(cs-55296<<10)+(lo-56320),co++)),xa+=cs<128?1:cs<2048?2:cs<65536?3:4;for(is=new utils$2.Buf8(xa),hs=0,co=0;hs<xa;co++)cs=us.charCodeAt(co),(cs&64512)===55296&&co+1<uo&&(lo=us.charCodeAt(co+1),(lo&64512)===56320&&(cs=65536+(cs-55296<<10)+(lo-56320),co++)),cs<128?is[hs++]=cs:cs<2048?(is[hs++]=192|cs>>>6,is[hs++]=128|cs&63):cs<65536?(is[hs++]=224|cs>>>12,is[hs++]=128|cs>>>6&63,is[hs++]=128|cs&63):(is[hs++]=240|cs>>>18,is[hs++]=128|cs>>>12&63,is[hs++]=128|cs>>>6&63,is[hs++]=128|cs&63);return is};function buf2binstring(us,is){if(is<65534&&(us.subarray&&STR_APPLY_UIA_OK||!us.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$2.shrinkBuf(us,is));for(var cs="",lo=0;lo<is;lo++)cs+=String.fromCharCode(us[lo]);return cs}strings$2.buf2binstring=function(us){return buf2binstring(us,us.length)};strings$2.binstring2buf=function(us){for(var is=new utils$2.Buf8(us.length),cs=0,lo=is.length;cs<lo;cs++)is[cs]=us.charCodeAt(cs);return is};strings$2.buf2string=function(us,is){var cs,lo,co,hs,uo=is||us.length,xa=new Array(uo*2);for(lo=0,cs=0;cs<uo;){if(co=us[cs++],co<128){xa[lo++]=co;continue}if(hs=_utf8len[co],hs>4){xa[lo++]=65533,cs+=hs-1;continue}for(co&=hs===2?31:hs===3?15:7;hs>1&&cs<uo;)co=co<<6|us[cs++]&63,hs--;if(hs>1){xa[lo++]=65533;continue}co<65536?xa[lo++]=co:(co-=65536,xa[lo++]=55296|co>>10&1023,xa[lo++]=56320|co&1023)}return buf2binstring(xa,lo)};strings$2.utf8border=function(us,is){var cs;for(is=is||us.length,is>us.length&&(is=us.length),cs=is-1;cs>=0&&(us[cs]&192)===128;)cs--;return cs<0||cs===0?is:cs+_utf8len[us[cs]]>is?cs:is};var zlib_deflate=deflate$4,utils$1=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH=4,Z_OK=0,Z_STREAM_END=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(us){if(!(this instanceof Deflate))return new Deflate(us);this.options=utils$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},us||{});var is=this.options;is.raw&&is.windowBits>0?is.windowBits=-is.windowBits:is.gzip&&is.windowBits>0&&is.windowBits<16&&(is.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var cs=zlib_deflate.deflateInit2(this.strm,is.level,is.method,is.windowBits,is.memLevel,is.strategy);if(cs!==Z_OK)throw new Error(msg$1[cs]);if(is.header&&zlib_deflate.deflateSetHeader(this.strm,is.header),is.dictionary){var lo;if(typeof is.dictionary=="string"?lo=strings$1.string2buf(is.dictionary):toString$1.call(is.dictionary)==="[object ArrayBuffer]"?lo=new Uint8Array(is.dictionary):lo=is.dictionary,cs=zlib_deflate.deflateSetDictionary(this.strm,lo),cs!==Z_OK)throw new Error(msg$1[cs]);this._dict_set=!0}}Deflate.prototype.push=function(us,is){var cs=this.strm,lo=this.options.chunkSize,co,hs;if(this.ended)return!1;hs=is===~~is?is:is===!0?Z_FINISH:Z_NO_FLUSH,typeof us=="string"?cs.input=strings$1.string2buf(us):toString$1.call(us)==="[object ArrayBuffer]"?cs.input=new Uint8Array(us):cs.input=us,cs.next_in=0,cs.avail_in=cs.input.length;do{if(cs.avail_out===0&&(cs.output=new utils$1.Buf8(lo),cs.next_out=0,cs.avail_out=lo),co=zlib_deflate.deflate(cs,hs),co!==Z_STREAM_END&&co!==Z_OK)return this.onEnd(co),this.ended=!0,!1;(cs.avail_out===0||cs.avail_in===0&&(hs===Z_FINISH||hs===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$1.shrinkBuf(cs.output,cs.next_out))):this.onData(utils$1.shrinkBuf(cs.output,cs.next_out)))}while((cs.avail_in>0||cs.avail_out===0)&&co!==Z_STREAM_END);return hs===Z_FINISH?(co=zlib_deflate.deflateEnd(this.strm),this.onEnd(co),this.ended=!0,co===Z_OK):(hs===Z_SYNC_FLUSH&&(this.onEnd(Z_OK),cs.avail_out=0),!0)};Deflate.prototype.onData=function(us){this.chunks.push(us)};Deflate.prototype.onEnd=function(us){us===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$1.flattenChunks(this.chunks)),this.chunks=[],this.err=us,this.msg=this.strm.msg};function deflate$1(us,is){var cs=new Deflate(is);if(cs.push(us,!0),cs.err)throw cs.msg||msg$1[cs.err];return cs.result}function deflateRaw(us,is){return is=is||{},is.raw=!0,deflate$1(us,is)}function gzip(us,is){return is=is||{},is.gzip=!0,deflate$1(us,is)}deflate$2.Deflate=Deflate;deflate$2.deflate=deflate$1;deflate$2.deflateRaw=deflateRaw;deflate$2.gzip=gzip;var inflate$2={};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$4,utils=common,strings=strings$2,c$1=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(us){if(!(this instanceof Inflate))return new Inflate(us);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},us||{});var is=this.options;is.raw&&is.windowBits>=0&&is.windowBits<16&&(is.windowBits=-is.windowBits,is.windowBits===0&&(is.windowBits=-15)),is.windowBits>=0&&is.windowBits<16&&!(us&&us.windowBits)&&(is.windowBits+=32),is.windowBits>15&&is.windowBits<48&&(is.windowBits&15||(is.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var cs=zlib_inflate.inflateInit2(this.strm,is.windowBits);if(cs!==c$1.Z_OK)throw new Error(msg[cs]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),is.dictionary&&(typeof is.dictionary=="string"?is.dictionary=strings.string2buf(is.dictionary):toString.call(is.dictionary)==="[object ArrayBuffer]"&&(is.dictionary=new Uint8Array(is.dictionary)),is.raw&&(cs=zlib_inflate.inflateSetDictionary(this.strm,is.dictionary),cs!==c$1.Z_OK)))throw new Error(msg[cs])}Inflate.prototype.push=function(us,is){var cs=this.strm,lo=this.options.chunkSize,co=this.options.dictionary,hs,uo,xa,ba,$a,wl=!1;if(this.ended)return!1;uo=is===~~is?is:is===!0?c$1.Z_FINISH:c$1.Z_NO_FLUSH,typeof us=="string"?cs.input=strings.binstring2buf(us):toString.call(us)==="[object ArrayBuffer]"?cs.input=new Uint8Array(us):cs.input=us,cs.next_in=0,cs.avail_in=cs.input.length;do{if(cs.avail_out===0&&(cs.output=new utils.Buf8(lo),cs.next_out=0,cs.avail_out=lo),hs=zlib_inflate.inflate(cs,c$1.Z_NO_FLUSH),hs===c$1.Z_NEED_DICT&&co&&(hs=zlib_inflate.inflateSetDictionary(this.strm,co)),hs===c$1.Z_BUF_ERROR&&wl===!0&&(hs=c$1.Z_OK,wl=!1),hs!==c$1.Z_STREAM_END&&hs!==c$1.Z_OK)return this.onEnd(hs),this.ended=!0,!1;cs.next_out&&(cs.avail_out===0||hs===c$1.Z_STREAM_END||cs.avail_in===0&&(uo===c$1.Z_FINISH||uo===c$1.Z_SYNC_FLUSH))&&(this.options.to==="string"?(xa=strings.utf8border(cs.output,cs.next_out),ba=cs.next_out-xa,$a=strings.buf2string(cs.output,xa),cs.next_out=ba,cs.avail_out=lo-ba,ba&&utils.arraySet(cs.output,cs.output,xa,ba,0),this.onData($a)):this.onData(utils.shrinkBuf(cs.output,cs.next_out))),cs.avail_in===0&&cs.avail_out===0&&(wl=!0)}while((cs.avail_in>0||cs.avail_out===0)&&hs!==c$1.Z_STREAM_END);return hs===c$1.Z_STREAM_END&&(uo=c$1.Z_FINISH),uo===c$1.Z_FINISH?(hs=zlib_inflate.inflateEnd(this.strm),this.onEnd(hs),this.ended=!0,hs===c$1.Z_OK):(uo===c$1.Z_SYNC_FLUSH&&(this.onEnd(c$1.Z_OK),cs.avail_out=0),!0)};Inflate.prototype.onData=function(us){this.chunks.push(us)};Inflate.prototype.onEnd=function(us){us===c$1.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=us,this.msg=this.strm.msg};function inflate$1(us,is){var cs=new Inflate(is);if(cs.push(us,!0),cs.err)throw cs.msg||msg[cs.err];return cs.result}function inflateRaw(us,is){return is=is||{},is.raw=!0,inflate$1(us,is)}inflate$2.Inflate=Inflate;inflate$2.inflate=inflate$1;inflate$2.inflateRaw=inflateRaw;inflate$2.ungzip=inflate$1;var assign=common.assign,deflate=deflate$2,inflate=inflate$2,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs$1(pako_1);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i$1=0;i$1<chars.length;i$1++)lookup[chars.charCodeAt(i$1)]=i$1;var decodeFromBase64=function(us){var is=us.length*.75,cs=us.length,lo,co=0,hs,uo,xa,ba;us[us.length-1]==="="&&(is--,us[us.length-2]==="="&&is--);var $a=new Uint8Array(is);for(lo=0;lo<cs;lo+=4)hs=lookup[us.charCodeAt(lo)],uo=lookup[us.charCodeAt(lo+1)],xa=lookup[us.charCodeAt(lo+2)],ba=lookup[us.charCodeAt(lo+3)],$a[co++]=hs<<2|uo>>4,$a[co++]=(uo&15)<<4|xa>>2,$a[co++]=(xa&3)<<6|ba&63;return $a},arrayToString=function(us){for(var is="",cs=0;cs<us.length;cs++)is+=String.fromCharCode(us[cs]);return is},decompressJson=function(us){return arrayToString(pako$1.inflate(decodeFromBase64(us)))},padStart=function(us,is,cs){for(var lo="",co=0,hs=is-us.length;co<hs;co++)lo+=cs;return lo+us};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="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",CourierObliqueCompressed="eJyFWVtT2zgU/isZP+3OhE5Iy/UtDaHNFhI2IdDS4UGxFUeLbKW6AKHT/77Hhnbb1fnUFw98x9K5fzpyvmZDU1Wy9tlxdnUenChlZ3e//+awc7B32D/Kutmpqf1EVJJeGJpglbQ706VWX4JshEHrX4Wdn4SiUnr7q5jga6nKdaPvXBYqVISMvdAqH9Slpjd3dvuEuFP1KIsL5fN1duxtkN1suBZW5F7auWxWjx69rAtZzEwl6hc73741j9nx553+QXenv9frHr456h729m672YJetVrV8sI45ZWpG0W93k+Cy7XK72rpXHZMK7MraV37WtbrvX7V6/VIxcR4lT87s9naxovOH/mfnd2jw6MuPY967XO3ffbb5+v2edAZFGYpO/Ot87JynXGdG7sxVnhZvOp0Blp3Zs1urjOTTtp7QknbiN4qVF3O87VsQ9huMveiLoQtvkvpxaHYvH+J6d4+Be/j9//e9Pe72cDlTZxsdrzfP+pmJ/LH/zu7ewfdbO6L99e0crf98+rlzybY59JblVM8Pn/Nrj/S+iZeEzLEbQSF4Vv3f7B8zLWoYvxLMOToUseSOlTLJs5lHcsKo7WwMb6RNm/qNRKIikSOogMsaBPG7CesrLVcIRFYJlyzo7tjVungYjSnNhMxvN5u1pLxnlxRhvHEaeHWMfwkrYlRUzNZ8g/Mm35tJfPuipqWQdU9865Tjwwo7znvJB/TWnEG50YbZg8nKwVEuuniWOmXIJgaLK2kPmTcJBJzLVPEuWdsH8TQ2xgaxtBJDI1i6DSG3sXQ+xgax9BfMfQhhs5i6DyGJjE0jaGLGPo7hmYxNI+hyxhaxNBVDF3H0McY+hRDNzG0pJPoTnqeNpYkA336sg5ySq5UrmweGBYNDWk7OjiYFmn5jTeG4Zwl02MM/zIdxHAB01AMy8WQiqF/YoihV6aFmWgxXcvQ3oYJZQwx3MDQCxP7EEP3MfQQQwyTbhnS5+sLFMKSO0zb91PV6JUu4FFfmAcmzvzp3ByXuplX4hJqpjqWZ7fc2bHSxir2PAC75MHSMZ4zAWzbxql27oRTCx/NMiiSVAZQQCNuN/6NGIR+xXTHiil8GuRYmilEWXJH2jPOjmLPA0eTO2kl0/s0C4nSig1HanQJkIwX/4V3KVwiwmkpCNGPBAC51FptnGIalTz1axPQpPh86POlTQHgRh+RB88NLi2Tr7Rk2hn0VSVyy9Xw0kpOcWG8yPl+K+iyJVn/LduFOV3GaOBmuDvUpbCh0iIwakxJQybD0rlg/ZAVX7ADZuQxtljRjMcPhWfggJ0inFdQEckFzWoQfLyb2ZLpTg30GoQzu1Nr0lWWSp5J2hjnU4LyE6BoQjqjEqTuE7agUPeKq+ZPwLJBqjMEWLRILdqCRa69dqEekaktF3yfLHAYBGqGBbAuoAUjrOSECIK7fyQdzb9/r2BUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2T7IuGcEMqHiXdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4Cuz/bbhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNR8eaOBgfv8trTmTtbsHcjKUjkw9b4DyR6nGCVQV/NXkRGoKQscMigyN2DBDYjYy0cu8Als5JkJZQhJQSd5y6PRD56OSDBA40OiKkGAn1BrIN1TlBF09KBMOaQZOzFNjiXAwxOpPZMrz5O0fzAJRsSmVcwnDQUsMuk5c4RCX4AJp+VxKmBLhcyYNk/UK1+RH5J1fAYS560oZCUsY7lMsMIYRGmMCucMWE1BWwvNnAzNzQQ0uElVVA2mpsVv8gfiI5FDJeBScuglq1xS+SDMk6mbpi0viCW4XzsMSNEQGBEgmxcq59JwAjaySW8mID8G4LN0WSelA7DnAHI0P3NNwT5PiQ4ZodMe6b5LugIGgXGyFYAJPn25MWWT79pw30cwlwYsoq3Qr1XpCy13kD8Bp+rkVhRyfEIo1OOj0PwOedvNPkhbXwhlm1+Pb7/9C/NFF2U=",CourierCompressed="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",HelveticaBoldCompressed="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",HelveticaBoldObliqueCompressed="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",HelveticaObliqueCompressed="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaD0dXWNvhB5BsUdgC0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5P3fu/Xstnl0fPbsydGjJ89Oz55MHk9+bZf3v8/uml2BvzSLr839/Hr2w+XVYv7vrtnL3WLB8iOQZ3fzxZYL7IRpM7/9tD/r35ubeXe3I3+9ny3m18+Xt4td2R+OT3Zk/ev8obn5Y35//Wny4/2qax5Pfvo0W82u75vVm2b/6V8e7pvlTXPzur2bLYfa/vnP7cPkx3/+cHxx9PiHk5Pzx8fHx08ePzs9/tfjybtd4dVivmz+aNfz+3m73J/q6AiEt5/m15+XzXo9+fF8x983q3VfbHJ0dPKno6Oj3Ul+b3eN2Dfop/bLdrVvx6P/c/1/Hx0/e3r+eP/vRf/vs/2/z476fy8ePb9pr5pHb7br++Zu/eivy+t29aVdze6bmz89evR8sXj0ev8960evm3Wz+rqjHs35+tHs0f1qdtPczVafH7UfH/02X7b32y/ND7tCi0fPXzyaLW/+X7t6NN99wbq7Ws9v5rPVvFn/aVfZX3anupkvb99cf2r6Xuhr8uZ+95HZ6qaou4I/zb78ZeiUi+Onjyf/KEfnJ6ePJ8/X1/tArwbx58aOfzg5ung8eXN/85fpTnzS//f97r9Pnx566+/N/Wp+vQvnP/9nMv3H5MeTi53w+64i6y+zXRT/9zHh5uF6Mbszfnp+fuD/7tpdtK4WppyfPzkoy+7uat9Nt8us3bSLxWxl/OmuW3r+pVld79O+CE+eXByE2d1OWu+i4zU7OYEa9P3ttTs9Hb5vtmqWi+ZjTaKPlWrM1vtvXH/2ij89Gz616NY5ONe70TrLp/i0/fKpWebiu6bM25vM14vZ+lMO1rdm1WbaLpsM7zei5P2nVSPKfmy7laDzr6Lsev4gYPO1EX3bhJh6OsyXIq2u20UrIrRu7uZRsh5Y7E0g0ebf3WyR8e2q2Q1m0cydD657oynK8dHxkNEzkX7PM/qzoYuSiT9l9HP+4C+Ojo8P6Ff/YInAi/xdf8lx+qu3bG+Xe/S3fMaXuf2/+dgr2fr3fMbfc70u89f/kUu9yt/1On/wTY7E2/zBd/mD7w09Oxt6eppL/SOjD/mM/5WjerWbyz4398E3XNxpcaDy56KpnD0xU7mez6/nq+vuLvdHt3ft9W76gTESDC5Uxj42y+gqp8S1MGAxbnODPuZStxl9ylWeZ/TfuV6fc6lFzksRLeE6wve+iGGfTXqV6yUcXsS+yx/8mrN3k0s9ZLTN6BtU9czzKybCyZOjkpWrSvmYjeaMfTbezxc3TQ7JYa6/aTcizmF69qngvl+meXIclxH3cb8uRKO1z2zV5PFx0a7mgq+byrdcd6vdPH7tATx+dgzDZj3vV66piWXZoofVbTffKXftvV467OX+i78jU+hLz36cCyYWULuVnFwP3Mxub9WcduC4FqMVx77vmlUDY//0whZDs9vV7Iuf7fS8ZNbuUqKBjAuu1DfzarYeifC4utKLBeuAqO+uCYZa7VbY8y/r+VpIu7bef2q7sFg0ty/zfkhu77nV7Kuo7Oy6uxf44OUfF81D1ioj6252vWrFia9WjTrxTXs/uw4jzqX5ricxAG5oOA69srsLut2aWyxSu+XtbNXdLWadOE17u1tnfhZfN1uFxZP1y13IWRee+7Ln9GJg7erm426hF1aGvkKJk6wvQCL3M1zCGZ6c2xnudk7XLfAUdrUxE1PezX7Qr9diAlvEE1tKtZHbiqRtctnd+NxdEe/yXkwxf01d6k4QM9Cn/5g3PjXJTvWvi73nq6NcgzJd3My/ziGh/SOxZr5gFoPDqx0/5Cs99SGbIikGNln3F180TKCp+Sv9fGGoOK53xIzGg3+m0kMdfcCvAtJJ/Jph5xFwEXJSnFg19KI4+HW56SFORa7j68KYB95KHZffVQV8eNRyNJqqr/Rlc+xSqvZt0VghnMkqIUNmsvlr9kQbivN49rOLoc6L9luzvBWZ+zqewq/iRpOzGx0kQvThVZtIVpW2XnNb/fonR85O8/ZTuxKtuqSzexgqbvCG+FmZxChsNpo4Yy1ienLr73Csu36VsxL1pRS0KNY42WoxwbtucT//stiKelEDPclDA88uyqXJbHU/ny1u5h8/5r7a1q3h93geT9ixZPllNM1GZp0sWTpVhueyZoO1jPk9BsgnQ/oivP+2WzHgTTi7BFq1n5slXgiZOa6a2/k6Ln19iMbOhuk4jwtzjm43qsP1iAe7soZcVSLTUmR8XFZS6r9ohJ89K2vX/lZXvBFmcf7l/lOGPyUDNDNXvnV6PLTxvjJvNNXZsTYLPq8tH0ayMgbYr5dpaNitCK6UuUKtR2pTT20aXdcGZR7Hdu7RZQnPmGVd0CzuxQ2f+2DS7ombdsQR6/G960RLKOYWKrnO9LFAofcr1bjCeVpuWPQ+vkvg1S6R1/n73qR8ffas5Kte0b4cnX9/ix3nlxL2WEeZYrIFt4wYJue16ey3WG2Lwy5qn2YLmBrKIN9fmtCtbuuLMZdfxmWTp9p3OrAyFJpag26jmWKDhm5Vvar77o1cIFoGy5qflR682dmEeujRxi4CK9SW1sXyZ+dm5zfza2W0P8cvgoXZ2HL399g/Xt1Kv70ez2ulurdWltDPqyYdLwesB6jOZsQjC8pfatM9O4XdIpYNtQVZXAnYt40OhUoV7kfPtGhv9/29bEW427qZdlkqQ3n3VZWRfDt+RQszuce8kr5LOY/bzZ1lXjS759fG+C/d/nHkvx5PXjar5R+z+Wr/EPmfk+f7h9WTxz+cHv3r8XB0cI+ADvWMaDB1hC/i0cFVAsKGoXAZj3IVcOoN3Loq0MP4Dyg4T1CGkAV2uDsU0GHgIHoVjt7ujo5P/LAELbDQflDe7Q7P/agEAFAIAHAIANASAEAUAFAsAMCGoR1Y7yhI3u+OLuxoGrQP+wYe+WFpEjKoO+AuhLXLydBVkqGTydDlZOiqydCJZOgsFsCGWDj5ujs6s6NNONrGo9IiQFDzgQ6FcHQaopAYp3HqnAdrUV4IRMPWuBy7Rb0UqFJLOZRNzF1oEvWjcd2ZJnOPmkBj3DgN9MJfZYRD3hiPexfk4C8yOIAhsgHjygtMzIZgErmCcW0NJrM/mMAmYUJ0ioLBLgqa5lJoHMbYPUwQFlK0LncYm4nxsZwUtmJSJScrBmNyLSeT1ZgQ/aZgMJ2CNhltBSIPMp6NaPADNCJDFE7jZETO2YiK8kIgMiLj0oiKeilQpZbSiEzMnW4Sdbpx3ekmc6ebQEZknIyo8FcZoREZYyNyQRpRkcGIDJERGVdGZGI2IpPIiIxrIzKZjcgENiITohEVDEZU0DSXQiMyxkZkgjCionW5w9iIjI/lpDAikyo5WTEik2s5mYzIhGhEBYMRFbTJaCsQGZHxbEQYGnSjyCmwUSRfIpHNKcgvapxsKorSq0KRyxofa4i0rlgi50rUKWGiqLMmluHUiSp5WhTJ2IL4qsLR4qLAPkeqNLtQBhwvcrK9KCrviyWyAUadXDCK2gpjGfbDqLIpRjU6Y9DAHgOfVsqjUUaB3TKqwjJDga6SCmyeUfzu0BA2GvWxoVEx1FhmdGgka41q9NeggckGvqnwbY2T50YxG68TtF2k1CEokeUGiQ0XxBeaktmiJK0WClxqWq+6NFnUcx6hSlmEks4hLMEZhBpZK0pkrCC9khRNFTFbatCkoUIJsFOkZKYoKStFPRspqmSjKGkTxRJsoaixgaIW7RMUME+gU1kWjRMx2yZqwjRB7mQ3s2Gi9J0kF2aJaj3JK0aJJUaSPJkkatEiQQGDBLqRdKspWSNK2RiH1qMrGqKQGyc/dM5mWJQXApENGpceWNRLgSq1lNZnYk4JkygfjOtkMJkzwQTyOuNkdIW/yggtzhj7mwvS3IoMzmaIbM248jQTs6GZRG5mXFuZyexjJrCJmRAdrGCwr4KmuRQalzF2LROEZRWtyx3GZmV8LCeFTZlUycmKQZlcy8lkTSZEXyoYTKmgTUZbgciLjGcjKnVFJ3JGAXWBvAgENiOTXihGduSC9COTLxWrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwivB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TL5UrFZZaVyu5kxwjTLBBZ0JrnMmuELG5QIZlwmvBEPjcsjGBYo0LtPBuJyRcbmgjMvVbFyukXG5oI3LdTYuV9i4XInGZRyMy9hUlEPjcsjG5YowLhM70YVsXC6MpqswLtdq6VoxLter6ZqMy5VoXMbBuIxtBNsqRsblQjau1fBDH16FQiiwBZNlGWbDGoQXmZBZFSytahAvM9HVkyZVtNznRaEeL1j3d1G5twsnayqYjGnArxJBUyqILcm4NKRBBTsqhMyoYGVFRctGVBSyoYK1CRWVLahwNqDCo/0MFMxnINNUBo2nILadwoXpDFKXuocNp+CRxBNmUxSdeBWjKWol8ZLJFB4tZqBgMAPZJLLNhKyl4GwsQ7qjsxiiEBonb3HO5lKUFwKRvRiX/lLUS4EqtZQWY2LuapOor43rzjaZe9sE8hnjZDSFv8oIrcYYe40L0myKDG5jiOzGuPIbE7PhmESOY1xbjsnsOSaw6ZgQXadgsJ2CprkUGo8xdh4ThPUUrcsdxuZjfCwnhf2YVMnJigGZXMvJZEEmRA8qGEyooE1GW4HIh4wnI/rzkJvHfuSdYSjED3joHqMlaoAoYKBYrIBZmIANEXJy+F2vxz+cGBl+uqugn6DQqRErNKDyShyVLJiLD8OfixecihdrTh8wgT7y8w49t+7pj2Jn9qi4OKDQR8BTl/e09BEg6wlg1hPAhp4AUizVkXvBz4MNuLZ3gGd+VFoHCKrstATQv9YiN6DSCRA+QxRD4xRI4yqaJuaQmkRxNc7BNYEjbEIMs2GKdeHvcximuRSE3hDF33juBM59Ol/qjn4fYeyOgrg7CufuKFx2RxFFdxSJu6Pw1B1FSN1RBOqOgrk7Bv4+h2GaS2F3FMTdUbjojkHi7hgwdcevQ0889aNyKkAl/oBC6IFDhYCWgAOyWAOzMAMbIgykBNfRzBYU/VFcQfWotACQWE/1PC2lehpXUT2iFVLPaHHUs7Au6klpgaPSW8eOfIXRH8VFTI/iyv+A8pKm52k1c6C27S/guL7pEa1dekbLlj1r41Guc1upYCsr2OaatHKR1Suijm1c7vcorvR/xTEB0V/tx+W5HZkzOSrRRxQW+wfhb8MIO6w+/oYjDFDJT0AhUsAhUkBLpABZPIBZnwEb8hNICZGjWTzKLZjlFswqLZjJFsxyC2aiBTPRgllqwSy3IK60/paXWHvUhY90uZldpU2dbFOX28QXCaCI1naitV1o7cvJ4Tr83I+i/fVIeF3Pk9f1NHpdj+TFYq+QC/asjDpA0fJeDv525kdx7n+J/oYoz/gvyd+Qgr8BjtP/y+BvwGjSfzn4GxzlOreVCraygm2uCfsbKKKO5m+A4trj5QSviV9O0uXwy5TVwJMrv5yk69+XIqtBIVd+OckXvC8nfK27J9uQLduc1ducvcGAcVyQQF9GqhotVOS7p6YxRKoeTlSIRxbJNMhIpfEWVUgPEiijSaUByapIfSqSRwEXyCOWStCQIZXHCMk8pKPcVoXRsMgxT0W+13B2AlK1KVCh8bazVZBKrhFVMBASyEtIVbZCRbLDUAEyG1K171AhtiCS2Y1IjsYUxW1thLFdkZrs47fJcGP52A/tnjKyeDvZlffxcH9ZeWFH/d3VMz+0e3nA8Kad4/ijr1ky/sT41oL1GwYCUOrz38Ke6mNiHIfanmqS3wsGYQk7js+IcYDkjmPSaqEKOscLd+lSLDhyapfuIJV7LRg+Yxw+F2T48NYRMwgf3jsqLU03j5Igwle0WviCzuEr4jbHgsNnXIQvDM4QxKikUJKsAxoKva8qGNwghBBHJQU6yircoUQ16LlUCn0yQhnN1A1VIxwKDNNU6AZj3AEuyNAX+b1gEO6CMNDGOMQmiOAWrRbWoHNAi7jNseAgGk/h2y154W5DfxQvYnsUr9V7JK5re56ua3sar2t7RFevPaOr156Fq9eexGv1y6Hvz/woLjsvc3+78N5m1Muhjz0u/9gdPbGjD9b/l9jNgKDpTsttBD+l3UYYUPFp6AZD1BfGqUOMq14xMXeNSdQ/xrmTTOCeMiF2l2HqM5y/KQzce5XZm1ToR5y7TyOCHsXp/IIQ9a2azEmiXk6P/QYe9k5Cf0dOnR5F6vkoqu6PJXIORJ0SIYqcDVHllIhqzIuoUXKkndwqepwmY/u4VRFImLRt+VRwSJ20nflCcUqi6mZmpVM6BY1zCjadQUYhpXxCibIJJZVLqOdMQpXyCCXOItQ4h1CLGYQK5Q9tWc1x4typb1jNBSBvaMfmaaKQM7SP8yJTypfKLs6sUq6AwplStgRBmhiiHDFOCWJcZYeJOTVMorwwzklhAmeECTEdDFMu4MY+CgNnQWVbH6nQ/7jl7TQi6HncBXdBiPpc7YEjiXq7YO7qeJsDe5wV6niWqf9ZVmnAZXI2cAlKCpY5N1jnFGE9ZgqrlDAkv63GlNMnySqLqBAkEymQU6RAapECGcYKJRrLOd+oBKUdqZx9tocH8s4ZZZwLlGsuqCxzNeeXa5RZLnBOucLZ5ErMI+eUQWHHHkeEs6a2X49lyJSwhe2UGGRH2NZ2wYwyQm5qY42ywDj3f7nchO43RL1vnDrfuOp7E3PXm0Q9b5w73gTudxNitxumXsfbEBQG7vPKTQhSocfxFsRpRNDfeFfighD1tronQRL1dcHc1eWVUOhqQ9TVxqmrjauuNjF3tUnU1ca5q03grjYhdrVh6mp8sZvCwF1dea2bVOhqfOX5NCLoanwL+oIQdbV6B5ok6uqCqav/GHp5eCX9D+xhZKV3kcUXf0HAe2KA7dVfYP6GL0B/xRdgeccXUOlBYLPQMntDBVB8i7BH4sldz9Pjup7GZ3Q9omduPaOHjD0L7wn2JD5w+wP67fipocYyqT+KD5V6VBIUUX583fP00OlA4Ykr4Pj8ukf0PLpn9L7bnrXxKNe5rVSwlRVsc034cSgooo724BNQfDr+B46OIfqvJvgGfH8U34DvkXgDvufpDfiexjfgeyTfgO8VegO+Z/QGfM/CG/CvJ4e3Hk78KLp2j4Qx9zx5ck+jHfdIvsPUK+TRPSvxBxQd+PVgvqd+FF9tfJ0t14V3NoheYy8BEqP8NfUS0DjKX4teAoXG/+vQS8DC+H8d5ojXYXp4PUwDrn2II+g1mf9Ayy1K6H1DlALGVR6YmJPBJMoI4zotTObcMIESxDhlCd5kPiVE+VK5yUwqZI4hSh/jKodMzIlkEmWTcZ1SJnNemcDJZULMsHwf3dA0B+JDLsVZp26aD1J5sgqpZ4hSz7hKPRNz6plEqWdcp57JnHomUOoZp9TDB+ynhCj1Ko/XSYXUM0SpZ1ylnok59Uyi1DOuU89kTj0TOPVMiKmHLxBQhkxzID7kUpx66u2BIqX3/U6kwGk48r6fLiJSUr/vp9VKelbe99Myp6p+30+qmLb6jYaKKlM4lMFEjgKnc1RlUsciIrVjAU7wqFbSPBZKyR7llPJRpsRPL3rILJ3WQvmh9ok0IKpveRwKvJnwPsg3k7QP8g0/6yTMxXmbF+FUPG1xTEL6SGgWfyyI9NFdfuO1bH9I17I9o2vZnqlr2V7I17I9pmvZnvG1bA/5WraH8Vq2R3Qt+3YwsjM/iiPpbbIs4GnMvEVzAiRHx9tgQ8Diu6Nv0XAczWIjZqIH7Br8iaNaB8x0B8xEB/hlOHyviv8sx98uxP2j1+0CfPgtJCN8jqrQiNbaxXlgleY2urnh+hx5CYNXuxFRaFQUPm2/fGr6ennntbFIK5rT1qre6qq3oqf40h0lUX27dsdyucP84t2LrehQNGgl+of2cIGybu7mOTO6WKgTp+lqcet03DoRN37RGSURt051e5eTfxMPt3QoGoOvnA3nww3WpWTaYZ0E9mK9xzqpImRpl3USkj/nfdZJoWClndYsgGenqx/myr3V1Q9L5OO1qx+W2dHT1Q9z8vbCZ6LZyeVNIKs3Ptq/yvRNq/Vvsn8Tqt3LE4FxMhdf9YSBz4sh/hpVyzRDmMA25MJYqNSE4ZqYNUykqcN4LYx5EilKmkmK0IrCaU4xYbSdanYxrZYStXnG9Fpb04xjQiUz0txThJVitRCkqcgFOR8VWUxKRepE8TQ9mTDaBWqiMq3WBbUpy/RaF+TJy5TKqN0ItlWs1nw1q4ULjjC3RSV9Z5TTPBdlHfdYRkU/lkh9EOU8/0U9BzzqHPaophkx3ZQ5kwLPjiM3ZXQRMVPqmzJarcyalZsyWuYZVN+UkeqsGrI8p0aZZ9ao/gcZJWfZWGI8o/KMG+XvJFSafaPKTkv3BaLbyZsG+ovr7clzc5STO5P8/ZDL2ZpKqDk7FuGZO6rjnSJm8aDnuTzIbfWDeV6P8n8QHTnHxxLjCVmd72Op8QjluT/Ko3mZ1wFBXtWV8fDllQHJen0QCqlVQijQVT+aVwxR/g86V64eYonxzq2uJGKp8c4Vq4qoj3rSpqps68p46PKa492w0DjzozhHvsMFBSAxV76jhQPQOCu+CwsEYHTv+x0sBIDEKe7dhF8/ejdJbx6VJwPY1rRDijm1Wu+QYjG3P+2QYs6RyDukWIgxSTukiFN0KjuLwuMRjJPeWSRFitjIziJZIsdO7yySIkexsrNIqjGeemeREimyY5ts4NESBldtshESBba6yUboOahqk42QOKByk43QYjDVJpssUSDrO1DKAziMYdqBwpyip3egsJjjlnagMOeI5R0oLMRYpR0oxClKlZ0b73h7Ql2hgNV2blRkFb6RnRuVEhTM6s6Nis6hrezcqKgU6NEtC6xy2MOWhcQo1HnLQhJUeOWWhaRRSMWWhaRwGNOWhcQpdJU3/J1zuOyPHTxXjMLlAoXLBRUuV3O4XKNwucDhcoXD5UoMl3MKlwkULuMcruEH3J9nQqEqmAJVsApT0XKQikIhKpgDVDiHp/AYnEIpNAOmwAyUwvJ+CMlTPyrhABR/S/R9CgPw9Fui77H5gOi3RN+HZgMLvyX6Hpvr6EVoz4vYcz2KV1wuXMajmAo9Ev3d89TXPY393CN5y6pXqPd7Fm9O9Sh27x75b8T2R3G7QY9KCACFhgBPmxJ6WhoCyKoLzHoM2NBjQEoLHJUr2zMg5TbQeUGxk5ucmHaPB5FOzEYmZrh/AzjnayPytRH5andkHLXxKDejrdS5lXVuc+X4Tgoootp2ywRQHlNwb8Q6BO9JeM91oWe7nI1dJfU6mXpdTj2+mQCKSMpOJGUXknI6uN65H8XXtaboeoDELogpuR7QuAtiGlwPGO3HmILrAYnbH6YTfHVyit4FSLwkOSXvAhpfh5wK7wKFXnyconcBiq84Tie452eK3gUo2vc0eRfwZMJT9C5AZLXT4F3AwgQ7Re9yVJzqqZG9fupHpU2A4jub02RUwNPvA03ZqADHX9qbBqMCRj+XN0Wj8oa1oUCbm6F+CXpKRgU0V07/EvQ0GBWw+EvQUzQqR2ZU3h9dKNDlhqhfOZySIwHNDdE/YjgNjgRMxD/+RuGebMM42ebxvE3j9sNgZMMPZX1AJ0NmDzSBxbvAIOCtX8B2vxeYP6QE6DdtAZY7tYDsGaSzvaU9PbcjmyodxanSOU6VTm2qdMRTpSs+VTqzqdKRTZWG+mXLmTXCHwUCiwuyD8nUsGz+lbIPaGvIaPr7EHwNC5b4A7L4OyuT+xMgw7LMC9FnGtFcf/iGrNLeRrc3PlsDLuLQiDg0Kg78wGzP5mE4zeO46xFtVv4weCV8RyuC0NYa3OoGt6Jh6RkZSD74ANrjMGCio3115wxXd54AXRyhnbCXrmYlnbaSTlhJel4EknKZTrlMRy6DDy0S44akxxZJkM1UDy6Sxg3Ojy6SktrHDy8SZz/F7YWDWaXthcyVvarthSyR0da2F7LMlpu2FzIn8y0cHcoYD0kTyIuNy/Fqqhi0pvHINYF9yYRkTqaQUxuPF9HGacTyMyv+GlXL5OAmsI27MBYqZeiuCVc3sRbH5O8mVOOYnL4IYPeGyPONs/EXoRXfm6YAE0aDpSYD02rxqE0LptfileYHE3iSSE85WRDTRZFwzjBW81s9e5g6YqtpHjGhMpmYXrXdPK2YQrZLjyMV5harB5JKkwGpPJJUModFPpRUYmq8eCypJJ55QIPJBynNPyipKQj1PAuhShMRSnouwhI8HaFGMxJKNCmBhA6MmK0CNZqdUJJGggWEl6DMdoIaOwZqyWRRpPkKJZqywvPqYBziSbb4vkrV0/SFGs9gQftOONU8FmQxlaE+Eu40oaE2Fu40rYEGMxtSmtxQ4vkNtFafI81yqH0voGquQ3kkYLUZD4ukCyIUeeJDjec+9fqE0MQMCCpOgohHZgU9FWKBcedPEyJqlTkRi4xNDnlmRDFODvudwl8tq/ZHm3DkP5feH8X7cz1K9+GKZeL3FrTJaJs/yKcxns81WDCeq6BNRtv8QT6X8Xyu8M4TnDDwTYVvK9/D549irgR0JVQB6EbSrfwGPjlK+dTlJRw4b0GbjLb5g3w64/lc9i4FnMzYRrCt+Cyfz4V8QnsbAU5obCPYVnyWT+hCPiH8zfuTQDaJbNOn+ETib94PCv5Z65OINhlt8wf5VOrPWh+kqx292luLHcUXG/ZkYefsj+KE16P4/B+E+MzqapLekLia4J8YvEIHBySetF2RXwONT9quhDuDQk/aroIXAws/nHgVOudqgk8XrjD+gFJdr3E5dl7I56B/VpG9TnchzgP+nEvq70l7Ns8D/pxLVr4n/bJF+SYTPqvS+tsOU/5k/WV2vQ/h+UD7L85/R+Qoy6TlSMULb0NfbVTEkbY/egjaNmjU2zzQBqo7zTDXByfk0/gNm/ylD7nUNpfiiqo5epB0ahjm2hYOtcWdiPSlD7nUNpfi2qqdiUVSbz2Xqsm3npWIldfLg8gfKuW3lfKpQbVlw6Cry7ZzVrhFtNY4TV+1kSd4kGW3siy3o7ICKapfxqVmgJTaARo2BPBGn+RBl97q0qkxqOXW8LvOQ23Tu87EoQV5+WXoIZfa5lJcY7UiG6T01utQrfzWKwtQYbGEc/Ygym1FOa60XNYNWnr5dKhcfvmUBai1WAc6exDltqIc11quDQ/ax8nhftSpH8VFWI/K3SdA4l2JnqelWk/juxI9ojciekZvRPQsvBHRk/i2x0eIuJPdeFg063V/8+NpgfFDTW4ovZFzQLqh+Y2cA01v5PQ4t5/fyOmZaH8bj3Kd1es3PZcVbHNN9Os3vSLqSK/f9Ch3CP1F7o95CfQkCgM9rJr21xf9Nks/svsjjuwmHqC4hfIglMvslUD0tcbpu52rE4j9oVKgk9V2h2pVnDj+jTnx5+X0X5b7PIyEEz+KfvEZRwKifDnzmUYCUhgJgONVzucwEoDRtcznYSTAUa5zW6lgKyvY5prwSABF1LGNV4mfcSQMKO9a1wK1pbJnvaKKRtd3rFcK5L6q7FfXKkentl9dym1VGA2L7O36ZnRdYLRZlXSo7UTXMiVJZSP6Qb2bDDeI/Sh6Ro/ET5X3HO8CO40/Vd4j+VPlvUI/Vd4z+qnynoWfKr8bbOiwqrlDGwKEtevpMjR2mRu7rDR2KRu7zI1dVhu7FI1disYuU2PjfcJlaPoyN52XigMNj8SPIqIgVB6Ik5jDkR+HE9eBEQ/DSeAQpUfhEUOw8BKfAsFhU5f4gxR+FekoIopd5TeRSMyxy7+IRFzHLv8eEgscu/RzSBFD7MKPIcVAcOzUDYci5d+KOFICx3HslyJkERHTyu9ESLUS38qvRGg5xVr/SIQSMe75JyJUKFMfVH8gYihQbm1DHxii6BtXcTcxR9wkirVxHWWTOb4mcGRNiDHNjwOWeO+fAsERVPf+D9JuvUB3+/eEbtC3w4n9I5tw5NdKbVhFt3kV3cpVdFmccFXSjVHiUCm8MUroIZ9nKxBVtP7wspW3Gs+ExvVOtxqHmqZbjYo/VCqwrXFq0HeeUML6jtukbjVmCdpDtxozfZCn3WpK7Rh92NnyzbmziLn+eHNuqCbenCP0kM+zFYgqXH9c2o7u5meV604yNIGUTVV5qFZlW1eoeSznVlY23rf5FiQL0KZwC5LZgzjZVjGq+8iT5XKx0d/ROz+PqHwNc9vQSDzuaiQRTs2S7W8k7pscSfCdjiSU7Y6Ebc9j5FcZXQtUCUN5VJh5eeyXlCExnkV8k0ve7Bo+u89cVKOpVK+pVK8Z66Wm3kvxj4WRVunBptaDTa0HP2YkOvS2koHxFhirnzKaC1SJ53wsbvN63OaV2MxrsZnXYvPfGYlSn0djsBCo0uDF+BfZX1aL/C4j0cZl5ZzLStIuR+uyrIzvVqDKidux3m3rvdtWejf9mTqSa53fVsLaVpr4RaAyzZDN/DsXXQlUCdCq0jOr0Z4REVtXTrCunGBdtdP16KkVGv1AJ1Clrt1YtnT1bOkq2cLXVSzXsqWrWUWnJ8L9QuMizvubjPx9eUPbXMoWGcyh+SR9yzX6Vonwt0o2fBOzkP7bp4Z52YUXmcfxGzYZwZorv4bWVl5Da+uvoX2Bip6eF+IPvwxtw0foBF/0dw/fUnt3KOo1sbyOdHjcRl9l6pmri+bjffnSw/9/OL8wtXywX+UcZWwrnayFaoqvXOmPuYUJzfJKadEecol1BY+ccD1yQrQ2pX63OkNfHIbZaljFH/tRvC20wrU7IHGTaEUrdqDx1tAqrNOB0R2fFazOgdgL84aGl+JOARwGy7mR3aLtMEhXsFwDgu0B7M0BOLQGSGkMoNIWR/EgdJTzRThI9VzUPjZ4nZPdmurEDpbhYPhWIEO+IcHzAB+C7+QLxt0syQMP+xS83O47z/wgnMt5h83pUig63WWd6rIudRnNniDkvuxyXw5zpYOv2LxtOBhqDsSrOMByRw2GoiEaj8ZpUBpXI9PEPDxNojFqnAeqCTxaTYhD1jCNW7+xicnBtzvPI/ZhbCQmhmGRHaalFDEl5olhygnjlBjwijETNW6LuMhEN0qOfhOjBRTsPlDIMpPoCIajLTgW3mBiNAi7TZ06mK2i8OwXRXFzMKKcAx56Uig6HVVlJOKJJys6VbSvpMedzCuJFG0G7u1TaLaZRNcRt+wHJfytJkJkPekvNTFX1iP/UBNJZD35zzSxwNaT/koTYbIe+iNNp0yD9RTs1mMk5pNhkU+mpXwyJeaTYcoY45QxsCuBiTKNIi4y0Y2S1mNitJ6C3XoKWWYSrcdwtB7HwnpMjNZjL+OnDmbrEX8biT7h7mJEWQ+8M0Ch6HRUlfWIFwZY0amirSe9LcC8kkjReuBVAQrNNpNoPeI9gaKEp9doQFFgG4oqm1FUpSXFIsKYYgG2p6gmk4pysqook2FFkW0rqJSppEULCyIYWeSUo1FUmRpL5HyNOmVtFDk7o8o5GtQql5YViixqfCwU2gpjETLEIIItBr6scbLIKJJRkqjsMhYh0wzil0p6JQMNqrDRoINfRi4tlV8lkiFle62/SKRLfCd12XDH3iLSZUbTO1mweoVIal8rId7WOFlz7fWhg563VoktVeVNhuEjfP02FEqrfuLwDXpv3TpN3sTxGyobLtfiT4knBb9Hemr5hB4RUoXv9LFBWziHo/3fzGUS7wY6Frf6ivg+kandfy1k/+fjn0VSZlrCMENGpdzoHe7gnmZxUA73hb8O0/zBbL7i3A6oTOiA4jvYzvHFa6f2trUjf3vamb8u7qzsY3Zir04bKonw1NoU9Sa3yd+tB6Tb1Mg2xVfnHeemNqKpjWhqG49yndtKBVtZwTbXJL3X7oqoo7/B7ijHnn5vd1PWjed2FN/v24QVoqO4LHSe3gLchAWgI1/1OfOlnrOyvnNiizpDJaGeWJt80bfBhAIUt/FsUkIBT+vbDScU4LjW3YSEAkar2s2QUHCU69xWKtjKCra5JulneFwRdfQf3XEUF9QbTKhD8B8muH3vAYMPKG7fe0jBB56etz1w8AHHTXMPIfjAaPvetriqH9lodmSu6kjsbNmyqzqNe1i20VWd0SacLbqqk7ghZYvT65GhWKDJjaItS9tsq85lo8SOpG2wVUeirbzhaFts1Y9yndV+oi3bqtNcE71daBtt1VncGLQNtmrIly9D9PGBxAkhalN6IMFcNVg9kGCJmp4fSLDA3cEPJBhTHNLSlWIhinJOGqfEdD4SC5GiLuU8Na0Sp5SxJtTi1ApUaaDMYhPrDeF8Nq6T2uRaWzi9jVf6NiU6vDINuY6UIoASZTxKKj6o5xChSlFCiSOBGncsanEMoEKhUr+rkYOlP8DjASUaEkEaD5YYGEHNYwPleizTCEFtJJatpvW2y9GC+mgDecygpIcNlhhpIw8elOpJwUPoW1mvnttRXIN/C+tVQHkN/o3Xq0Bxveo4Ls2/xfWqM1qafyvrVT/KdW4rFWxlBdtck7RedUXU0derjuK1wjeciRhR/dNMlLhonJqJkpT7Ic1EzLm1eSYioRWo0kDZS2omYqlS2Uqn5ZmIBeq+NBMNvNyvUoiaaJz60Llouom56S7lPjSNwmKc220C92ERWoEqDZR9aGK9IdyHxnUfmlxrC/ehcepD/BWkGqamBo36M2oiFKFADkeUc98GnUIWNI5LELmfUWwreCQIss9DgfGGct8HTfd/KDLWVs6DoEEu/Ot//z8nhUqv",HelveticaCompressed="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaj0ZXWNvhB5BsUdgE0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5MPfu/Xspnl0enH05Nmjs6dHz84mjye/tsv732d3za7AX5rF1+Z+fjXb426xUHh2N19shTBt5jef92f5e3M97+525K/3s8X86vnyZrEre7Q7Xv86f2iu/5jfX32e/Hi/6prHk58+z1azq/tm9bbZf/aXh/tmed1cv2nvZsuhbn/+c/sw+fGfPxw/efL4h5OT88fHR0dHj5+dHv/r8eT9rvBqMV82f7Tr+f28XU5+/GEng/Du8/zqdtms15Mfz3f8Q7Na98UmR0cnf9p90e4kv7e7Juyb81P7Zbvat+LR/7n6v4+Onz09f7z/96L/99n+32dH/b8Xj55ft5fNo7fb9X1zt3701+VVu/rSrmb3zfWfHj16vlg8erP/nvWjN826WX3dUQvVo/n60ezR/Wp23dzNVreP2k+Pfpsv2/vtl+aHXaHFo+cvHs2W1/+vXT2a775g3V2u59fz2WrerP+0q+wvu1Ndz5c3b68+N30f9DV5e7/7yGx1XdRdwZ9mX/4ydMnF8dPHk3+Uo/OT08eT5+urfaBXg/hzY8c/nBxdPJ68vb/+y3QnPun/+2H336dPD7319+Z+Nb/ahfOf/zOZ/mPy48nFTvh9V5H1l9kuiv/7mHDzcLWY3Rk/PT8/8H937S5alwtTzs+fHJRld3e576abZdau28VitjL+dNctPf/SrK72SV6EJ08uDsLsbietd9Hxmp2cQA36/vbanZ4O3zdbNctF86km0cdKNWbr/Teub73iT8+GTy26dQ7O1W5szvIpPm+/fG6WufiuKfP2OvP1Yrb+nIP1rVm1mbbLJsP7jSh5/3nViLKf2m4l6PyrKLuePwjYfG1E3zYhpp4O86VIq6t20YoIrZu7eZSsBxZ7E0i0+Xc3W2R8s2p2g1k0899ds+6NpijHR8dDRs9E+j3P6M+GLkom/pTRz/mDvzg6Pj6gX/2DJQIv8nf9Jcfpr96yvV3u0d/yGV/m9v/mY69k69/zGX/P9XqVv/6PXOp1/q43+YNvcyTe5Q++zx/8YOjZ2dDT01zqHxl9zGf8rxzVy91cdtvcB99wcafFgcqfi6Zy9sRM5Wo+v5qvrrq73B/d3rXXu+kHxkgwuFAZ+9gso8ucElfCgMW4zQ36lEvdZPQ5V3me0X/net3mUouclyJawnWE730Rwz6b9CrXSzi8iH2XP/g1Z+8ml3rIaJvRN6jqmedXTISTJ0clK1eV8jEbzRn7bLyfL66bHJLDXH/dbkScw/TsU8F9v0zz5DguI+7Tfl2IRmuf2arJ49OiXc0FXzeVb7nqVrt5/MoDePzsGIbNet6vW1MTy7JFD6ubbr5T7tp7vXTYy/0Xf0em0Jee/TQXTCygdis5uR64nt3cqDntwHEtRiuOfd81qwbG/umFLYZmN6vZFz/b6XnJrN0FRAMZF1ypb+blbD0S4XF1pRcL1gFR7y8ZDrFZLOZf1vO1kHZtvf/cdmGxaG5f5v2Q3N5zq9lXUdnZVXcv8MHLPy2ah6xVRtbd7GrVihNfrhp14uv2fnYVRpxL811PYgDc0HAcemV3l3O7NbdYpHbLm9mqu1vMOnGa9ma3zrwVXzdbhcWT9ctdyFkXnvuyZ3fdOnz56vrTbqEXVoa+QomTrC9AIvczvIIzPDm3M9ztnK5b4CnsamMmprzr/aBfr8UEtogntpRqI7cVSdvksrvxubsi3uW9mGL+mrrUnSBmoE//MW98apKd6l8Xe89XR7kGZbq4nn+dQ0L7R2LNfMEsBodXO37IV3rqQzZFUgxssu4vvmiYQFPzV/r5wlBxXO+IGY0H/0ylhzr6gF8FpJP4NcPOI+Ai5KQ4sWroRXHwq3LTQ5yKXMfXhTEPvJU6Lr+rCvjwqOVoNFVf6cvm2KVU7duisUI4k1VChsxk89fsiTYU5/HsZxdDnRftt2Z5IzL3TTyFX8WNJmc3OkiE6MOrNpGsKm294rb69U+OnJ3m3ed2JVr1is7uYai4wVviZ2USo7DZaOKMtYjpya2/w7Hu+lXOStSXUtCiWONkq8UE77rF/fzLYivqRQ30JA8NPLsolyaz1f18trief/qU+2pbt4bf43k8YceS5ZfRNBuZdbJk6VQZnsuaDdYy5vcYIJ8M6Yvw/ttuxYA34ewSaNXeNku8EDJzXDU383Vc+voQjZ0N03EeF+Yc3W5Uh+sRD3ZlDbmqRKalyPi4rKTUf9EIP3tW1q79ra54I8zi/Mv95wx/SgZoZq586/R4aON9Zd5oqrNjbRZ8Xls+jGRlDLBfL9PQsFsRXClzhVqP1Kae2jS6rg3KPI7t3KPLEp4xy7qgWdyLGz73waTdEzftiCPW43vXiZZQzC1Ucp3pY4FC71eqcYXztNyw6H18l8CrXSKv8/e9Tfn67FnJV72ifTk6//4WO84vJeyxjjLFZAtuGTFMzmvT2W+x2haHXdQ+zxYwNZRBvr80oVvd1hdjLr+MyyZPte90YGUoNLUG3UQzxQYN3ap6VffdW7lAtAyWNT8rPXi9swn10KONXQRWqC2ti+XPzs3Or+dXymh/jl8EC7Ox5e7vsX+8upV+ezOe10p1b60soZ9XTTpeDlgPUJ3NiEcWlL/Upnt2CrtFLBtqC7K4ErBvGx0KlSrcj55p0d7s+3vZinC3dTPtslSG8u6rKiP5ZvyKFmZyj3klfZdyHrebO8u8aHbPr43xX7r948h/PZ68bFbLP2bz1f4h8j8nz/cPqyePfzg9+tfj4ejgHgEd6hnRYOoIX8Sjg6sEhA1D4VU8ylXAqTdw66pAD+M/oOA8QRlCFtjh7lBAh4GD6HU4erc7Oj7xwxK0wEL7QXm/Ozz3oxIAQCEAwCEAQEsAAFEAQLEAABuGdmC9oyD5sDu6sKNp0D7uG3jkh6VJyKDugLsQ1i4nQ1dJhk4mQ5eToasmQyeSobNYABti4eTr7ujMjjbhaBuPSosAQc0HOhTC0WmIQmKcxqlzHqxFeSEQDVvjcuwW9ZVAlVrKoWxi7kKTqB+N6840mXvUBBrjxmmgF/46IxzyxnjcuyAHf5HBAQyRDRhXXmBiNgSTyBWMa2swmf3BBDYJE6JTFAx2UdA0l0LjMMbuYYKwkKJ1ucPYTIyP5aSwFZMqOVkxGJNrOZmsxoToNwWD6RS0yWgrEHmQ8WxEgx+gERmicBonI3LORlSUFwKRERmXRlTUVwJVaimNyMTc6SZRpxvXnW4yd7oJZETGyYgKf50RGpExNiIXpBEVGYzIEBmRcWVEJmYjMomMyLg2IpPZiExgIzIhGlHBYEQFTXMpNCJjbEQmCCMqWpc7jI3I+FhOCiMyqZKTFSMyuZaTyYhMiEZUMBhRQZuMtgKRERnPRoShQTeKnAIbRfIlEtmcgvyixsmmoii9KhR5VeNjDZHWFUvkXIk6JUwUddbEMpw6USVPiyIZWxBfVzhaXBTY50iVZhfKgONFTrYXReV9sUQ2wKiTC0ZRW2Esw34YVTbFqEZnDBrYY+DTSnk0yiiwW0ZVWGYo0FVSgc0zit8dGsJGoz42NCqGGsuMDo1krVGN/ho0MNnANxW+rXHy3Chm43WCtouUOgQlstwgseGC+EJTMluUpNVCgVea1qsuTRb1nEeoUhahpHMIS3AGoUbWihIZK0ivJUVTRcyWGjRpqFAC7BQpmSlKykpRz0aKKtkoStpEsQRbKGpsoKhF+wQFzBPoVJZF40TMtomaME2QO9nNbJgofSfJhVmiWk/yilFiiZEkTyaJWrRIUMAggW4k3WpK1ohSNsah9eiKhijkxskPnbMZFuWFQGSDxqUHFvWVQJVaSuszMaeESZQPxnUymMyZYAJ5nXEyusJfZ4QWZ4z9zQVpbkUGZzNEtmZceZqJ2dBMIjczrq3MZPYxE9jETIgOVjDYV0HTXAqNyxi7lgnCsorW5Q5jszI+lpPCpkyq5GTFoEyu5WSyJhOiLxUMplTQJqOtQORFxrMRlbqiEzmjgLpAXgQCm5FJLxQjO3JB+pHJrxSrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwmvB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TH6lWK2y0rhczZngGmWCCzoTXOdMcIWMywUyLhNeC4bG5ZCNCxRpXKaDcTkj43JBGZer2bhcI+NyQRuX62xcrrBxuRKNyzgYl7GpKIfG5ZCNyxVhXCZ2ogvZuFwYTVdhXK7V0rViXK5X0zUZlyvRuIyDcRnbCLZVjIzLhWxcq+GHPrwKhVBgCybLMsyGNQgvMiGzKlha1SC+ykRXT5pU0XKfF4V6vGDd30Xl3i6crKlgMqYBv04ETakgtiTj0pAGFeyoEDKjgpUVFS0bUVHIhgrWJlRUtqDC2YAKj/YzUDCfgUxTGTSegth2ChemM0hd6h42nIJHEk+YTVF04lWMpqiVxEsmU3i0mIGCwQxkk8g2E7KWgrOxDOmOzmKIQmicvMU5m0tRXghE9mJc+ktRXwlUqaW0GBNzV5tEfW1cd7bJ3NsmkM8YJ6Mp/HVGaDXG2GtckGZTZHAbQ2Q3xpXfmJgNxyRyHOPackxmzzGBTceE6DoFg+0UNM2l0HiMsfOYIKynaF3uMDYf42M5KezHpEpOVgzI5FpOJgsyIXpQwWBCBW0y2gpEPmQ8GdGfh9w89iPvDEMhfsBD9xgtUQNEAQPFYgXMwgRsiJCTw+96Pf7hxMjw010F/QSFTo1YoQGVV+KoZMFcfBj+XLzgVLxYc/qACfSRn3fouXVPfxQ7s0fFxQGFPgKeurynpY8AWU8As54ANvQEkGKpjtwLfh5swLW9Azzzo9I6QFBlpyWA/rUWuQGVToDwGaIYGqdAGlfRNDGH1CSKq3EOrgkcYRNimA1TrAv/kMMwzaUg9IYo/sZzJ3Du0/lSd/T7CGN3FMTdUTh3R+GyO4oouqNI3B2Fp+4oQuqOIlB3FMzdMfAPOQzTXAq7oyDujsJFdwwSd8eAqTt+HXriqR+VUwEq8QcUQg8cKgS0BByQxRqYhRnYEGEgJbiOZrag6I/iCqpHpQWAxHqq52kp1dO4iuoRrZB6RoujnoV1UU9KCxyV3jp25CuM/iguYnoUV/4HlJc0PU+rmQO1bX8Bx/VNj2jt0jNatuxZG49yndtKBVtZwTbXpJWLrF4RdWzjcr9HcaX/K44JiP5qPy7P7cicyVGJPqKw2D8IfxtG2GH18TccYYBKfgIKkQIOkQJaIgXI4gHM+gzYkJ9ASogczeJRbsEst2BWacFMtmCWWzATLZiJFsxSC2a5BXGl9be8xNqjLnyky83sKm3qZJu63Ca+SABFtLYTre1Ca19ODtfh534U7a9Hwut6nryup9HreiQvFnuFXLBnZdQBipb3cvC3Mz+Kc/9L9DdEecZ/Sf6GFPwNcJz+XwZ/A0aT/svB3+Ao17mtVLCVFWxzTdjfQBF1NH8DFNceLyd4Tfxyki6HX6asBp5c+eUkXf++FFkNCrnyy0m+4H054WvdPdmGbNnmrN7m7A0GjOOCBPoyUtVooSLfPTWNIVL1cKJCPLJIpkFGKo23qEJ6kEAZTSoNSFZF6lORPAq4QB6xVIKGDKk8RkjmIR3ltiqMhkWOeSryvYazE5CqTYEKjbedrYJUco2ogoGQQF5CqrIVKpIdhgqQ2ZCqfYcKsQWRzG5EcjSmKG5rI4ztitRkH79NhhvLx35o95SRxdvJrnyIh/vLygs76u+unvmh3csDhjftHMcffc2S8SfGtxas3zAQgFKf/xb2VB8T4zjU9lST/EEwCEvYcXxGjAMkdxyTVgtV0DleuEuXYsGRU7t0B6nca8HwGePwuSDDh7eOmEH48N5RaWm6eZQEEb6i1cIXdA5fEbc5Fhw+4yJ8YXCGIEYlhZJkHdBQ6ENVweAGIYQ4KinQUVbhDiWqQc+lUuiTEcpopm6oGuFQYJimQjcY4w5wQYa+yB8Eg3AXhIE2xiE2QQS3aLWwBp0DWsRtjgUH0XgK327JC3cb+qN4EdujeK3eI3Fd2/N0XdvTeF3bI7p67RldvfYsXL32JF6rvxr6/syP4rLzVe5vFz7YjPpq6GOPyz92R0/s6KP1/yvsZkDQdKflNoKf0m4jDKj4NHSDIeoL49QhxlWvmJi7xiTqH+PcSSZwT5kQu8sw9RnO3xQG7r3K7E0q9CPO3acRQY/idH5BiPpWTeYkUS+nx34DD3snob8jp06PIvV8FFX3xxI5B6JOiRBFzoaockpENeZF1Cg50k5uFT1Ok7F93KoIJEzatnwqOKRO2s58oTglUXUzs9IpnYLGOQWbziCjkFI+oUTZhJLKJdRzJqFKeYQSZxFqnEOoxQxChfKHtqzmOHHu1Des5gKQN7Rj8zRRyBnax3mRKeVLZRdnVilXQOFMKVuCIE0MUY4YpwQxrrLDxJwaJlFeGOekMIEzwoSYDoYpF3BjH4WBs6CyrY9U6H/c8nYaEfQ87oK7IER9rvbAkUS9XTB3dbzNgT3OCnU8y9T/LKs04DI5G7gEJQXLnBusc4qwHjOFVUoYkt9VY8rpk2SVRVQIkokUyClSILVIgQxjhRKN5ZxvVILSjlTOPtvDA3nnjDLOBco1F1SWuZrzyzXKLBc4p1zhbHIl5pFzyqCwY48jwllT26/HMmRK2MJ2SgyyI2xru2BGGSE3tbFGWWCc+79cbkL3G6LeN06db1z1vYm5602injfOHW8C97sJsdsNU6/jbQgKA/d55SYEqdDjeAviNCLob7wrcUGIelvdkyCJ+rpg7urySih0tSHqauPU1cZVV5uYu9ok6mrj3NUmcFebELvaMHU1vthNYeCurrzWTSp0Nb7yfBoRdDW+BX1BiLpavQNNEnV1wdTVfwy9PLyS/gf2MLLSu8jii78g4D0xwPbqLzB/wxegv+ILsLzjC6j0ILBZaJm9oQIovkXYI/HkrufpcV1P4zO6HtEzt57RQ8aehfcEexIfuP0B/Xb81FBjmdQfxYdKPSoJiig/vu55euh0oPDEFXB8ft0jeh7dM3rfbc/aeJTr3FYq2MoKtrkm/DgUFFFHe/AJKD4d/wNHxxD91xN8A74/im/A90i8Ad/z9AZ8T+Mb8D2Sb8D3Cr0B3zN6A75n4Q34N5PDWw8nfhRdu0fCmHuePLmn0Y57JN9h6hXy6J6V+AOKDvxmMN9TP4qvNr7JluvCextEb7CXAIlR/oZ6CWgc5W9EL4FC4/9N6CVgYfy/CXPEmzA9vBmmAdc+xhH0hsx/oOUWJfS+IUoB4yoPTMzJYBJlhHGdFiZzbphACWKcsgRvMp8Sonyp3GQmFTLHEKWPcZVDJuZEMomyybhOKZM5r0zg5DIhZli+j25omgPxMZfirFM3zQepPFmF1DNEqWdcpZ6JOfVMotQzrlPPZE49Eyj1jFPq4QP2U0KUepXH66RC6hmi1DOuUs/EnHomUeoZ16lnMqeeCZx6JsTUwxcIKEOmORAfcylOPfX2QJHS+34nUuA0HHnfTxcRKanf99NqJT0r7/tpmVNVv+8nVUxb/UZDRZUpHMpgIkeB0zmqMqljEZHasQAneFQraR4LpWSPckr5KFPipxc9ZJZOa6H8WPtEGhDVtzwOBd5OeB/k20naB/mWn3US5uK8zYtwKp62OCYhfSQ0iz8WRProLr/xWrY/pGvZntG1bM/UtWwv5GvZHtO1bM/4WraHfC3bw3gt2yO6ln03GNmZH8WR9C5ZFvA0Zt6hOQGSo+NdsCFg8d3Rd2g4jmaxETPRA3YN/sRRrQNmugNmogP8Mhy+V8V/luNvF+L+0at2AT78DpIRPkdVaERr7eI8sEpzG93ccH2OvITBq92IKDQqCp+3Xz43fb2889pYpBXNaWtVb3XVW9FTfOmOkqi+XbtjudxhfvHuxVZ0KBq0Ev1De7hAWTd385wZXSzUidN0tbh1Om6diBu/6IySiFunur3Lyb+Jh1s6FI3BV86G8+EG61Iy7bBOAnux3mOdVBGytMs6Ccmf8z7rpFCw0k5rFsCz09UPc+Xe6uqHJfLx2tUPy+zo6eqHOXl74TPR7OTyJpDVGx/tX2X6ptX6N9m/CdXu5YnAOJmLr3rCwOfFEH+NqmWaIUxgG3JhLFRqwnBNzBom0tRhvBbGPIkUJc0kRWhF4TSnmDDaTjW7mFZLido8Y3qtrWnGMaGSGWnuKcJKsVoI0lTkgpyPiiwmpSJ1oniankwY7QI1UZlW64LalGV6rQvy5GVKZdRuBNsqVmu+mtXCBUeY26KSvjPKaZ6Lso57LKOiH0ukPohynv+ingMedQ57VNOMmG7KnEmBZ8eRmzK6iJgp9U0ZrVZmzcpNGS3zDKpvykh1Vg1ZnlOjzDNrVP+DjJKzbCwxnlF5xo3ydxIqzb5RZael+wLR7eRNA/3F9fbkuTnKyZ1J/n7I5WxNJdScHYvwzB3V8U4Rs3jQ81we5Lb6wTyvR/k/iI6c42OJ8YSszvex1HiE8twf5dG8zOuAIK/qynj48sqAZL0+CIXUKiEU6KofzSuGKP8HnStXD7HEeOdWVxKx1HjnilVF1Ec9aVNVtnVlPHR5zfF+WGic+VGcI9/jggKQmCvf08IBaJwV34cFAjC69/0eFgJA4hT3fsKvH72fpDePypMBbGvaIcWcWq13SLGY2592SDHnSOQdUizEmKQdUsQpOpWdReHxCMZJ7yySIkVsZGeRLJFjp3cWSZGjWNlZJNUYT72zSIkU2bFNNvBoCYOrNtkIiQJb3WQj9BxUtclGSBxQuclGaDGYapNNliiQ9R0o5QEcxjDtQGFO0dM7UFjMcUs7UJhzxPIOFBZirNIOFOIUpcrOjfe8PaGuUMBqOzcqsgrfyM6NSgkKZnXnRkXn0FZ2blRUCvTolgVWOexhy0JiFOq8ZSEJKrxyy0LSKKRiy0JSOIxpy0LiFLrKG/7OOVz2xw6eK0bhcoHC5YIKl6s5XK5RuFzgcLnC4XIlhss5hcsECpdxDtfwA+7PM6FQFUyBKliFqWg5SEWhEBXMASqcw1N4DE6hFJoBU2AGSmH5MITkqR+VcACKvyX6IYUBePot0Q/YfED0W6IfQrOBhd8S/YDNdfQitOdF7LkexSsuF17Fo5gKPRL93fPU1z2N/dwjecuqV6j3exZvTvUodu8e+W/E9kdxu0GPSggAhYYAT5sSeloaAsiqC8x6DNjQY0BKCxyVK9szIOU20HlBsZObnJh2jweRTsxGJma4fwM452sj8rUR+Wp3ZBy18Sg3o63UuZV1bnPl+E4KKKLadssEUB5TcG/EOgTvSXjPdaFnu5yNXSX1Opl6XU49vpkAikjKTiRlF5JyOrjeuR/F17Wm6HqAxC6IKbke0LgLYhpcDxjtx5iC6wGJ2x+mE3x1coreBUi8JDkl7wIaX4ecCu8ChV58nKJ3AYqvOE4nuOdnit4FKNr3NHkX8GTCU/QuQGS10+BdwMIEO0XvclSc6qmRvX7qR6VNgOI7m9NkVMDT7wNN2agAx1/amwajAkY/lzdFo/KGtaFAm5uhfgl6SkYFNFdO/xL0NBgVsPhL0FM0KkdmVN4fXSjQ5YaoXzmckiMBzQ3RP2I4DY4ETMQ//kbhnmzDONnm8bxN4/bjYGTDD2V9RCdDZg80gcW7wCDgrV/Adr8XmD+kBOg3bQGWO7WA7Bmks72lPT23I5sqHcWp0jlOlU5tqnTEU6UrPlU6s6nSkU2Vhvply5k1wh8FAosLso/J1LBs/pWyj2hryGj6+xh8DQuW+AOy+Dsrk/sTIMOyzAvRZxrRXH/4hqzS3ka3Nz5bAy7i0Ig4NCoO/MBsz+ZhOM3juOsRbVb+OHglfEcrgtDWGtzqBreiYekZGUg++ADa4zBgoqN9decMV3eeAF0coZ2wl65mJZ22kk5YSXpeBJJymU65TEcugw8tEuOGpMcWSZDNVA8uksYNzo8ukpLaxw8vEmc/xe2Fg1ml7YXMlb2q7YUskdHWtheyzJabthcyJ/MtHB3KGA9JE8iLjcvxaqoYtKbxyDWBfcmEZE6mkFMbjxfRxmnE8jMr/hpVy+TgJrCNuzAWKmXorglXN7EWx+TvJlTjmJy+CGD3hsjzjbPxF6EV35umABNGg6UmA9Nq8ahNC6bX4pXmBxN4kkhPOVkQ00WRcM4wVvNbPXuYOmKraR4xoTKZmF613TytmEK2S48jFeYWqweSSpMBqTySVDKHRT6UVGJqvHgsqSSeeUCDyQcpzT8oqSkI9TwLoUoTEUp6LsISPB2hRjMSSjQpgYQOjJitAjWanVCSRoIFhJegzHaCGjsGaslkUaT5CiWassLz6mAc4km2+L5K1dP0hRrPYEH7TjjVPBZkMZWhPhLuNKGhNhbuNK2BBjMbUprcUOL5DbRWnyPNcqh9L6BqrkN5JGC1GQ+LpAsiFHniQ43nPvX6hNDEDAgqToKIR2YFPRVigXHnTxMiapU5EYuMTQ55ZkQxTg77ncJfLav2R5tw5D+X3h/F+3M9SvfhimXi9xa0yWibP8inMZ7PNVgwnqugTUbb/EE+l/F8rvDOE5ww8E2Fbyvfw+ePYq4EdCVUAehG0q38Bj45SvnU5SUcOG9Bm4y2+YN8OuP5XPYuBZzM2Eawrfgsn8+FfEJ7GwFOaGwj2FZ8lk/oQj4h/M37k0A2iWzTp/hE4m/eDwr+WeuTiDYZbfMH+VTqz1ofpMsdvdxbix3FFxv2ZGHn7I/ihNej+PwfhPjM6nKS3pC4nOCfGLxEBwcknrRdkl8DjU/aLoU7g0JP2i6DFwMLP5x4GTrncoJPFy4x/oBSXa9wOXZeyG3Qb1Vkr9JdiPOAb3NJ/T1pz+Z5wLe5ZOV70i9blG8y4VaV1t92mPIn6y+zq30Izwfaf3H+OyJHWSYtRypeeBv6aqMijrT90UPQtkGj3uaBNlDdaYa5Pjghn8Zv2OQvfciltrkUV1TN0YOkU8Mw17ZwqC3uRKQvfciltrkU11btTCySeuu5VE2+9axErLxeHkT+UCm/rZRPDaotGwZdXbads8ItorXGafqqjTzBgyy7lWW5HZUVSFH9Mi41A6TUDtCwIYA3+iQPuvRWl06NQS23ht91Hmqb3nUmDi3Iyy9DD7nUNpfiGqsV2SClt16HauW3XlmACoslnLMHUW4rynGl5bJu0NLLp0Pl8sunLECtxTrQ2YMotxXluNZybXjQPk0O96NO/SguwnpU7j4BEu9K9Dwt1Xoa35XoEb0R0TN6I6Jn4Y2InsS3PT5BxJ3sxsOiWa/7mx9PC4wfanJD6Y2cA9INzW/kHGh6I6fHuf38Rk7PRPvbeJTrrF6/6bmsYJtrol+/6RVRR3r9pke5Q+gvcn/KS6AnURjoYdW0v77ot1n6kd0fcWQ38QDFLZQHoVxmrwSirzVO3+1cnUDsD5UCnay2O1Sr4sTxb8yJPy+n/7Lc7TASTvwo+sUtjgRE+XLmlkYCUhgJgONVzm0YCcDoWuZ2GAlwlOvcVirYygq2uSY8EkARdWzjVeItjoQB5V3rWqC2VPasV1TR6PqO9UqB3FeV/epa5ejU9qtLua0Ko2GRvV3fjK4LjDarkg61nehapiSpbEQ/qHeT4QaxH0XP6JH4qfKe411gp/Gnynskf6q8V+inyntGP1Xes/BT5XeDDR1WNXdoQ4Cwdj1dhsYuc2OXlcYuZWOXubHLamOXorFL0dhlamy8T7gMTV/mpvNScaDhkfhRRBSEygNxEnM48uNw4jow4mE4CRyi9Cg8YggWXuJTIDhs6hJ/kMKvIh1FRLGr/CYSiTl2+ReRiOvY5d9DYoFjl34OKWKIXfgxpBgIjp264VCk/FsRR0rgOI79UoQsImJa+Z0IqVbiW/mVCC2nWOsfiVAixj3/RIQKZeqD6g9EDAXKrW3oA0MUfeMq7ibmiJtEsTauo2wyx9cEjqwJMab5ccAS7/1TIDiC6t7/QdqtF+hu/57QDfp2OLF/ZBOO/FqpDavoNq+iW7mKLosTrkq6MUocKoU3Rgk95PNsBaKK1h9etvJW45nQuN7pVuNQ03SrUfGHSgW2NU4N+s4TSljfcZvUrcYsQXvoVmOmD/K0W02pHaMPO1u+OXcWMdcfb84N1cSbc4Qe8nm2AlGF649L29Hd/Kxy3UmGJpCyqSoP1aps6wo1j+XcysrG+zbfgmQB2hRuQTJ7ECfbKkZ1H3myXC42+jt65+cRla9hbhsaicddjSTCqVmy/Y3EfZMjCb7TkYSy3ZGw7XmM/DKjK4EqYSiPCjMvj/2SMiTGs4ivc8nrXcNn95mLajSV6jWV6jVjvdTUeyn+sTDSKj3Y1HqwqfXgp4xEh95UMjDeAmP1c0ZzgSrxnI/FbV6P27wSm3ktNvNabP47I1HqdjQGC4EqDV6Mf5H9ZbXI7zISbVxWzrmsJO1ytC7LyvhuBaqcuB3r3bbeu22ld9OfqSO51vltJaxtpYlfBCrTDNnMv3PRlUCVAK0qPbMa7RkRsXXlBOvKCdZVO12Pnlqh0Q90AlXq2o1lS1fPlq6SLXxdxXItW7qaVXR6ItwvNC7ivL/JyN+XN7TNpWyRwRyaT9K3XKNvlQh/q2TDNzEL6b99apiXXXiReRy/YZMRrLnya2ht5TW0tv4a2heo6Ol5If7wy9A2fIRO8EV/9/AttXeHol4Ty+tIh8dt9FWmnrm6aD7dly89/P+H8wtTywf7Vc5RxrbSyVqopvjKlf6YW5jQLK+UFu0hl1hX8MgJ1yMnRGtT6nerM/TFYZithlX8sR/F20IrXLsDEjeJVrRiBxpvDa3COh0Y3fFZweociL0wb2h4Ke4UwGGwnBvZLdoOg3QFyzUg2B7A3hyAQ2uAlMYAKm1xFA9CRzlfhINUz0XtY4PXOdmtqU7sYBkOhm8FMuQbEjwP8CH4Tr5g3M2SPPCwT8HL7b7zzA/CuZx32JwuhaLTXdapLutSl9HsCULuyy735TBXOviKzduGg6HmQLyKAyx31GAoGqLxaJwGpXE1Mk3Mw9MkGqPGeaCawKPVhDhkDdO49RubmBx8u/M8Yh/GRmJiGBbZYVpKEVNinhimnDBOiQGvGDNR47aIi0x0o+ToNzFaQMHuA4UsM4mOYDjagmPhDSZGg7Db1KmD2SoKz35RFDcHI8o54KEnhaLTUVVGIp54sqJTRftKetzJvJJI0Wbg3j6FZptJdB1xy35Qwt9qIkTWk/5SE3NlPfIPNZFE1pP/TBMLbD3przQRJuuhP9J0yjRYT8FuPUZiPhkW+WRayidTYj4ZpowxThkDuxKYKNMo4iIT3ShpPSZG6ynYraeQZSbRegxH63EsrMfEaD32Mn7qYLYe8beR6BPuLkaU9cA7AxSKTkdVWY94YYAVnSraetLbAswriRStB14VoNBsM4nWI94TKEp4eo0GFAW2oaiyGUVVWlIsIowpFmB7imoyqSgnq4oyGVYU2baCSplKWrSwIIKRRU45GkWVqbFEzteoU9ZGkbMzqpyjQa1yaVmhyKLGx0KhrTAWIUMMIthi4MsaJ4uMIhklicouYxEyzSB+qaRXMtCgChsNOvhl5NJS+VUiGVK21/qLRLrEd1KXDXfsLSJdZjS9kwWrV4ik9rUS4m2NkzXXXh866HlrldhSVd5kGD7C129DobTqJw7foPfWrdPkTRy/obLhci3+lHhS8Hukp5ZP6BEhVfhOHxu0hXM42v/NXCbxbqBjcauviB8Smdr910L2fz7+WSRlpiUMM2RUyo3e4Q7uaRYH5XBf+OswzR/M5ivO7YDKhA4ovoPtHF+8dmpvWzvyt6ed+evizso+Zif26rShkghPrU1Rb3Kb/N16QLpNjWxTfHXecW5qI5raiKa28SjXua1UsJUVbHNN0nvtrog6+hvsjnLs6fd2N2XdeG5H8f2+TVghOorLQufpLcBNWAA68lWfM1/qOSvrOye2qDNUEuqJtckXfRtMKEBxG88mJRTwtL7dcEIBjmvdTUgoYLSq3QwJBUe5zm2lgq2sYJtrkn6GxxVRR//RHUdxQb3BhDoE/2GC2/ceMPiA4va9hxR84Ol52wMHH3DcNPcQgg+Mtu9ti6v6kY1mR+aqjsTOli27qtO4h2UbXdUZbcLZoqs6iRtStji9HhmKBZrcKNqytM226lw2SuxI2gZbdSTayhuOtsVW/SjXWe0n2rKtOs010duFttFWncWNQdtgq4Z8+TJEHx9InBCiNqUHEsxVg9UDCZao6fmBBAvcHfxAgjHFIS1dKRaiKOekcUpM5yOxECnqUs5T0ypxShlrQi1OrUCVBsosNrHeEM5n4zqpTa61hdPbeKVvU6LDK9OQ60gpAihRxqOk4oN6DhGqFCWUOBKocceiFscAKhQq9bsaOVj6AzweUKIhEaTxYImBEdQ8NlCuxzKNENRGYtlqWm+7HC2ojzaQxwxKethgiZE28uBBqZ4UPIS+lfXquR3FNfi3sF4FlNfg33i9ChTXq47j0vxbXK86o6X5t7Je9aNc57ZSwVZWsM01SetVV0Qdfb3qKF4rfMOZiBHVP81EiYvGqZkoSbkf0kzEnFubZyISWoEqDZS9pGYiliqVrXRanolYoO5LM9HAy/0qhaiJxqkPnYumm5ib7lLuQ9MoLMa53SZwHxahFajSQNmHJtYbwn1oXPehybW2cB8apz7EX0GqYWpq0Kg/oyZCEQrkcEQ5923QKWRB47gEkfsZxbaCR4Ig+zwUGG8o933QdP+HImNt5TwIGuTCv/73/wO+9kRf",TimesBoldCompressed="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",TimesBoldItalicCompressed="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",TimesItalicCompressed="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",TimesRomanCompressed="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",SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(us){us.Courier="Courier",us.CourierBold="Courier-Bold",us.CourierOblique="Courier-Oblique",us.CourierBoldOblique="Courier-BoldOblique",us.Helvetica="Helvetica",us.HelveticaBold="Helvetica-Bold",us.HelveticaOblique="Helvetica-Oblique",us.HelveticaBoldOblique="Helvetica-BoldOblique",us.TimesRoman="Times-Roman",us.TimesRomanBold="Times-Bold",us.TimesRomanItalic="Times-Italic",us.TimesRomanBoldItalic="Times-BoldItalic",us.Symbol="Symbol",us.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function us(){var is=this;this.getWidthOfGlyph=function(cs){return is.CharWidths[cs]},this.getXAxisKerningForPair=function(cs,lo){return(is.KernPairXAmounts[cs]||{})[lo]}}return us.load=function(is){var cs=fontCache[is];if(cs)return cs;var lo=decompressJson(compressedJsonForFontName[is]),co=Object.assign(new us,JSON.parse(lo));return co.CharWidths=co.CharMetrics.reduce(function(hs,uo){return hs[uo.N]=uo.WX,hs},{}),co.KernPairXAmounts=co.KernPairs.reduce(function(hs,uo){var xa=uo[0],ba=uo[1],$a=uo[2];return hs[xa]||(hs[xa]={}),hs[xa][ba]=$a,hs},{}),fontCache[is]=co,co},us}();const AllEncodingsCompressed="eJztWsuy48iN/Ret74KZfHtX47meqfGjPHaXx4/wgpJ4JbooUU1JVXXb0f9u4JwESF13R7TD29koIpFi8gCJBHDA/Pvm+nraTuPmZ3/f5HHzs7/k8WlzvXS7fvPXp02eqyR/2vRfd2N3gqhUUfm0Od9P236+DoczxLWK66fNpZ93/fkGWaOy5mnTnUR67c57lRaZSItM/tnN/XnsX/DfIqg0JOk8HI4UK4BCAFzG+xWCQgXF02Y3nU4dJJVKKrx5mPgKBVMImOvYXY+QKJRCoHzXzxMErQrap810hqaloioF1e0L5kvFUwqe23Hu+Q+1TinWeZnuMwSKrRRsL8Nn/kOxlYLtOnzFWE1Viqmu/eceVioVaylYe1OwVKilQD0PCYgiLRtVcJz4kEItW13mNLi0UsCVAB77KyxTKeJKEPff3rsREkVcCeLD3He3HqArBV0J6G/v/fU2cK1WH23l0e3c7T71N9uUVv/c5i73bWlVs1Y0u5/3srO7aQb2EPUB+eUTva0TYgG5mGbbzZSUkJTpn75ygF4PThhq1SMGMds4HYZdN54n/rdWc8rv02bfH9I2hbqGsKbPnIYzHSc0qmTIxI6nuwpiAIQmU8F4Gy7jK8RwntAI1v3wedj39FmFECp508s4zUOyGmwpKrwbL8eOIlVU//Yf/S1J9C212Pa/uuSwbVDYlWzxf/aj/UtfWgm258t1GG1X1BVawfdnX0xdoRbjPCdBVGs1svo3R/tPVD1r2YL3k0kUfC04f9ldLkmk0NVwv+pO232SKXa126/vHAO5wPxNGivsRsZ/HDhWzLVg/iBuOSfMUTGrTX+b/qSIG0H8u+NEl1J4jcD7/XBI9kDcUYN/0/FNCDuNAP64skYOeLrykUsjElWC9+cmAEAB9NtrEijCplaE/YHvKuC5Iup8zxBAWtFrayakC2QC8uCbhggSskx9zXYNQSRkeuZWQBFKQowabNIfS/qeqOgSOFTINcC4DKcnE70H2zqElJAJ3k++dwgrIRPA47J5iCwr724RWELINFBTAAWiCL7SOogrIQj6abWBOH8hCPoL/4a4EoJgn9MWIq40lcY52cJAGbCHMgkpA3g9t7e0sRWgB1HnvjJYRez6yrSTlYJvRZmdCQhe80Pa24roNYL75uLo10WyKYHVeFLjYnImilM0qPDOJOKWNGlFCJsIrw/qsNv7OPY3SnNYSQ9DP46DLHylvGCcEFU08Nz6JIVx9Chd+93ENNhEWroSuC8SAi0WNznNpqH9+c5k1RQ0nIbi9/LnTzdmoKZAaAwaib/0g0Ti29wxG8gUgLey/O8eHmmqt4eiKTNYo416LPrLkcIWa2u06eZ5+mLBXCaoTp4m7pckBm41P8Qe0mUG6DUCYWY/fTmnCQbwkCa2043vrhA2gqakncwM3aGfe9GAj1Vw9qiuzPW2o4Or4PcxhmUu4atwAGKMy8wCscJhiDFfJh1lhY2K6mo250DrTJXOC82EUgVIkTMmOd0moqC5Dd24H15e0hRKJS0Cvg7Xm9RKgz9ErdWrTpfb6zV5Wx2ytwlDZLplUQ/8Ye72Qyq5RI5kqY4t6fe0iHOItdCYbo8zKOi0vLjvjrdjZ2IYRAPUZZ72910SI7vEiL9LaHSvrZFkipKOf02y8gc9vEbmKHQjRP95uH6ShZI9c9pao41otTPLICMETXSC5jLNupbP8bxo2Dy/DOfh9prk8BKNk935MPIo1jiKUSNQqiVSVSozBWYan5nmNMGz1+r6AleO8KJJwXdk2H8XwgVVP31AticBhdvqIZPwNPcvqWhqah74iIB6GsYuvbdGeYFS93yY775hPNh6giUlzNNXr/eaJmNYKrnLKznOt4ZsEQ6f5ZCfWVvJFK2Xs5BcP8ND23r5uJqDyaPmM90Oscl9a87aIC3HLCxz+uOzNFgOhA+P4XRq8hPTjP3Xhzn4oiYIm1svybSpOX03zDuJX4kqyAx3rrKZdZ3XNMggGh9lsUt/Fm+7m+1bGCxqOttPN/fOFiExKh+xnb1d0gz8qiiXmS0r5YxLaaULN/TaOsu4WEgTS3Fd1TCvlsvj9F1/PvQpPzHAZqiN9yZEntcyaDfet0mGOKLl5LGX6EMhU5ZGkf3QnVIWqvJA5FoG7KbLK1BcBcyLTfNYZGr7g8ar+WEWm63VgmSefX/q5k+r6Rplrdo/Heb+q00gKzcWUiVy3pY5RkGL7kept7/zSRS8Uc+Kw+nOV5ukqeu1KqtZ2Ds2a6yrWZghX/NS7q3OwQZ5WM0tgGCBPK7muPM6B2fP8wditayKMKG5YzW7rIvzkJcPs8vKOBGaRJxo+boMocrFfe407G0SJlJS7pO+KOrwqKkAcw4lp28Xi28vU7AM2Lfz9gUITKM8fJlcnoRtlJIvkwsSRtD2kXkuC8M2ytbX08vSME4ZHqd9cTQgojL5hXr60uhDxDJfTy7WQ3kXy2I9q+t+L7V+d3nZD+fDtrtdf7iZ8gPUNhVNSLOdFKmrqgg5UGR5ktUWkERW4ETnYSnQpK5PsqU2k3I5yZbCTGhJki0lmbJ2ypxOd8rYKXM23Slnp6yxclZkVZK1li1EVlMWmY0yyJokC5bIRdYm6sDCW/9X54knZEYnurpKJCEzNtHVdYqTmdGJrm6SiJRMsdWJmTS1MYWuSZwAHg3D5dSJO6tnpqPiNXIHapSQHkL9WNCyDwEZymTtQzyGcfx/rQVukWUP4RgGS29oG5RieEMSVKm67GISoHZUs0g6TKImlZMdbde2cDMFUCZBSBWevKlNIlRrBNQkEVpt0CXUSYTWGvzG1q5TldeFIklgFfiMvQ6tNXgMtk5IM+qSAjbJSpOh4wdUtYnQYgOqxkRosgFVayK02SJsYCJ02tRw9HkVodUG00UTodcG4+UmQrdN0dPhVYR2m8KPBhX1t/bkumgaofzWplwXDT2Oo9K2Lhp6dogUvT+HBpGC98fQxlDs/lSVCr/OVGZ7CGY3lXEIKyD3fylyrQS63P4VjTl0uRkGJxB+l5th2CBS5LkZhg0iRZ6bYdgPUqC5aYMEh8CSmzrsCinU3PRBKkNYyQ0qTgSiSmFQcSAQVAqDimSFmFIYVPaKFGphUNktUqiFQUVaUvLVFbaHSEZK47vC0LNfpOgLQ8+OkaIvDD2SjZbOXWHokWBQgJeGHkmlwaEz9EglKHFKQ48og8qmNPQgJEp0u9LQg4mAjJeGnm0rRV8aeratFH1p6EE8tBnQlYYebSutwLrS0KNrhRZYZegRbpV3dpWhR8tKSU9XGXr2rJTsdJXBTz0ruLjhT00rVaAyBVLTSjWoTIPUs1IVKlOBbSulAV1lOrBzpZS2q0wJNq8yhH7TovIOb1cb5tSXUny14Ut9KUYQUyS1phRgbaDZmEIiFrKThCnpIMMYGrZh0JBo7M01e+H65sZeUpPp6ZsbX4+dcH1xa1YgxYsIAWYF9rXBI1p/L9tiiL6ZmYGtrYpZybaz8caUCA1iA4iIPcEN0ZAQIuq70g2ZPCOQ7R+yE5riIjTojfMRESbsge1zHMhgsSlk5PR4u0WnQDraMOdEE7JTj7dbhAqpw4K3W4wKGZv3eHtempBkA+nHQldgrwXHM1jwCgj0pB7BwlcIbI7BnhbAAmsvHNJgISyw+MIxDRbEAqsvHNRgYSyw/GqZSE0j1l84rMFCWWABhuMaLJgFVmA4sMHCWUi8CRpZQAvkSzizwUJaIE/CoQ0W1ALpEU5tsLDGDzqg6yI0jaKzfxGaRuRBOLjBglsgAcpYHZhG5D04usECXCDdQd0WLMQFshwc6GBBLqQOETSyMBdIa3DMgwW6QD6Dcx4s1AXyDpSRYmoTsrpmzWKQyDJw0GWjTci2GCBZIAtkFDj+wSJZIJPA+Q8WygIJRCQkw8meFCJAsGAWCu8BiNAsjzTAXkKwEBfYg2IQqM3y7EFFauT/ZAcUGlk0DAU7nyzETPeSHBIa1aZmSe4IjWpTsyRphEa1qVmSTFMjU7Mki4ZGreEsSZ+hUWO6s7+bc4/8cdJlaNSYQdjTRbEbM3+c5BgaWTgOSA7stkSLiqFiCwbgLUiHinQX4C1Kh4pEl+BN94oEl+DNdBWJLcH74yS0AG8RPeCjRmRZ3JiR0ZWKrItbW7MmZWVlbG+vSVWxHY2tyW+lJTUy0yEVgdTKmmYlNplKagSDCMFlTIaH8GmVMWkpIj6sMsQv+Ae3UmUIX3AP6q0yRC94x/IOBC84B4+VyhC7yHTIELQRhGgM32hchmAM14hMRCpEMIZrNC6DJvAMWkxl0ASOQYOpDJqACrX+EmgCX9EQ8f3T5stwlggXf/otCfss8O19uvX7LfqmP3Z1AiRPP2JPY2pA/vTbFIhHqhFedB2s0/2v3bIAG1z14yH8CVcvwJFFoePr5cgbDv9/G+Pfvo2BUIP6ix0r8EO9ZYARuKFeMMAIvFA/gWMESqifiTACG9QrBTpCBFGK9wuMQKz0UgJGoH+C7L8xAvPTL40Y4au7gPkfjEAB9SYBRmB/eokAIxA/vT6AETifXh7ACHRPrwroqAFX0i/5GIEmCZb/xQj8Tu8LYARqp5cFMAKr03sCGIHQ6SUBjMDlBMsfMLIP//+HERicXlzACORNsPxJR2iW4I4FRj92EQa8TTuGInY3/vHrMSBwuoPX3TDot4c7osKPXJtBm0XLvsPc0XfRZkHNhxE4nLZsMQJ902/jDOQIkriXkAL7JhEyNh1ZemtZ98IxCZvebeCYZE3AHjkmUdMPGRyTpAm6v3FMgqY3EjgmOdPPZhyTmOlFBIwZxHEPgWNeJ9BbBxyz+af9c45J2PRMcEyyph8EOSZP03PMMTmaXjLgmN0+vWLAMfBpFfeZY7838AVjNilxLYJj4NOy7ZVjUju9zcHxv3/FiVcKULCpf9yGcb9qEOPL/6pp7GyO2cU+S7N2AaOzDMHKBXxO4/goyYBiZ3S7+yxxf0fNKud0r31a0gnddp4+9WfTpHJOt/r4yfIlfVDq5z7dgWABg8amf4SBnLxZQ9A0718keFqMZSGDNurhPoxjf5r84LGeQY/77d0vb3QvyYc1DTrd9nWo56movd196uyqy792faz2prfkJHyAHPiBONTe+kZ2ephrlhb4Ll0HSRfRNOLxqk5onB1LWu4kCPAGRmicIDOZ6j67Ro0T5V2/F6t1lDpTlkz6iMTpspj/JI53H83+jZNmt/+ybY2TZ1lRctmcUldonEDLxLEbGV5aZ9AwRnqAJmydSFu6c2dunU6/8yDIL5Og0+8W67VOp98xsL6kr1H8FglO/W45Uq1z6ncPXto6rX432zlpnVW/e6bAGfXPV0aOmXPqZwcbM+fUzw42Zs6pnx/BxsyJ9fMaV8ycW79fre3c+v1qbefW79+u7QT7/ePazrGf+UE7Zk6wf+Mmi8EJ9ocFQnCC/WGBEJxgf3gDgddNNIp/WC3Mb12i24cHXIEfkcs3FzGDM/UPnnJjcKb+cQXOmfrHFThn6h/fgItO1z8+4IjO2P+0LBOdsX9znHgBKUYn7Id+Pkklvh3TCgtpX9DFhbSvll1I+1t0C3NfTBcX5v4IeSHv5sYxX7g7H86dt+/Wbpw7c+8XsLkz934Bmztz79+AzZ2+9w+4cmfww2ptZ/DDam1n8MPbtZ3GDw9rs9ui3KZPblw4tz8vJiuc208LhMK5/bRAKJzbT28gFE7wp9XCTvCnR1zO8ZeLw7Fwjj8tTlw4x78v0Ern+PcFWukc//4GWulE//6AonSu/7paxrn+zZ2YnRclRK/rBXJsCAjxh2cKEAWVJ02ku/wOoFv2+12XkmnODwHgW4uQGVbZ0uM7mAJ1b/68/JlpUMnWdy5MF6/Vd5eL19YYSPd6FqPwBkNQo/h2NQxdQQ3bn/dpCxrGrqCW7U8rKZl/mfi0Xytk3Am66ZhYbg4y+KAVslDwbXdNL2d5qU5hnYBlTZaa6hs2t1qWdaeeTptcLco+hl5R7w4H5uOGcQbtEkpT18GusOI2xT9dYcVJf7zCSjmbD+Iud2s1NPRb9E+0UICmizb8ZK/+5JOLOulSqwaw5VJr2vB8dSFn89fvv/8H0oq1dA==";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function us(is,cs){var lo=this;this.canEncodeUnicodeCodePoint=function(co){return co in lo.unicodeMappings},this.encodeUnicodeCodePoint=function(co){var hs=lo.unicodeMappings[co];if(!hs){var uo=String.fromCharCode(co),xa="0x"+padStart(co.toString(16),4,"0"),ba=lo.name+' cannot encode "'+uo+'" ('+xa+")";throw new Error(ba)}return{code:hs[0],name:hs[1]}},this.name=is,this.supportedCodePoints=Object.keys(cs).map(Number).sort(function(co,hs){return co-hs}),this.unicodeMappings=cs}return us}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(us){return Object.keys(us).map(function(is){return us[is]})},StandardFontValues=values(FontNames),isStandardFont=function(us){return StandardFontValues.includes(us)},rectanglesAreEqual=function(us,is){return us.x===is.x&&us.y===is.y&&us.width===is.width&&us.height===is.height},backtick=function(us){return"`"+us+"`"},singleQuote=function(us){return"'"+us+"'"},formatValue=function(us){var is=typeof us;return is==="string"?singleQuote(us):is==="undefined"?backtick(us):us},createValueErrorMsg=function(us,is,cs){for(var lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++){var uo=cs[co];lo[co]=formatValue(uo)}var xa=lo.join(" or ");return backtick(is)+" must be one of "+xa+", but was actually "+formatValue(us)},assertIsOneOf=function(us,is,cs){Array.isArray(cs)||(cs=values(cs));for(var lo=0,co=cs.length;lo<co;lo++)if(us===cs[lo])return;throw new TypeError(createValueErrorMsg(us,is,cs))},assertIsOneOfOrUndefined=function(us,is,cs){Array.isArray(cs)||(cs=values(cs)),assertIsOneOf(us,is,cs.concat(void 0))},assertIsSubset=function(us,is,cs){Array.isArray(cs)||(cs=values(cs));for(var lo=0,co=us.length;lo<co;lo++)assertIsOneOf(us[lo],is,cs)},getType=function(us){return us===null?"null":us===void 0?"undefined":typeof us=="string"?"string":isNaN(us)?"NaN":typeof us=="number"?"number":typeof us=="boolean"?"boolean":typeof us=="symbol"?"symbol":typeof us=="bigint"?"bigint":us.constructor&&us.constructor.name?us.constructor.name:us.name?us.name:us.constructor?String(us.constructor):String(us)},isType=function(us,is){return is==="null"?us===null:is==="undefined"?us===void 0:is==="string"?typeof us=="string":is==="number"?typeof us=="number"&&!isNaN(us):is==="boolean"?typeof us=="boolean":is==="symbol"?typeof us=="symbol":is==="bigint"?typeof us=="bigint":is===Date?us instanceof Date:is===Array?us instanceof Array:is===Uint8Array?us instanceof Uint8Array:is===ArrayBuffer?us instanceof ArrayBuffer:is===Function?us instanceof Function:us instanceof is[0]},createTypeErrorMsg=function(us,is,cs){for(var lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++){var uo=cs[co];uo==="null"&&(lo[co]=backtick("null")),uo==="undefined"&&(lo[co]=backtick("undefined")),uo==="string"?lo[co]=backtick("string"):uo==="number"?lo[co]=backtick("number"):uo==="boolean"?lo[co]=backtick("boolean"):uo==="symbol"?lo[co]=backtick("symbol"):uo==="bigint"?lo[co]=backtick("bigint"):uo===Array?lo[co]=backtick("Array"):uo===Uint8Array?lo[co]=backtick("Uint8Array"):uo===ArrayBuffer?lo[co]=backtick("ArrayBuffer"):lo[co]=backtick(uo[1])}var xa=lo.join(" or ");return backtick(is)+" must be of type "+xa+", but was actually of type "+backtick(getType(us))},assertIs=function(us,is,cs){for(var lo=0,co=cs.length;lo<co;lo++)if(isType(us,cs[lo]))return;throw new TypeError(createTypeErrorMsg(us,is,cs))},assertOrUndefined=function(us,is,cs){assertIs(us,is,cs.concat("undefined"))},assertEachIs=function(us,is,cs){for(var lo=0,co=us.length;lo<co;lo++)assertIs(us[lo],is,cs)},assertRange=function(us,is,cs,lo){if(assertIs(us,is,["number"]),assertIs(cs,"min",["number"]),assertIs(lo,"max",["number"]),lo=Math.max(cs,lo),us<cs||us>lo)throw new Error(backtick(is)+" must be at least "+cs+" and at most "+lo+", but was actually "+us)},assertRangeOrUndefined=function(us,is,cs,lo){assertIs(us,is,["number","undefined"]),typeof us=="number"&&assertRange(us,is,cs,lo)},assertMultiple=function(us,is,cs){if(assertIs(us,is,["number"]),us%cs!==0)throw new Error(backtick(is)+" must be a multiple of "+cs+", but was actually "+us)},assertInteger=function(us,is){if(!Number.isInteger(us))throw new Error(backtick(is)+" must be an integer, but was actually "+us)},assertPositive=function(us,is){if(![1,0].includes(Math.sign(us)))throw new Error(backtick(is)+" must be a positive number or 0, but was actually "+us)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("");pdfDocEncodingToUnicode[25]=toCharCode("");pdfDocEncodingToUnicode[26]=toCharCode("");pdfDocEncodingToUnicode[27]=toCharCode("");pdfDocEncodingToUnicode[28]=toCharCode("");pdfDocEncodingToUnicode[29]=toCharCode("");pdfDocEncodingToUnicode[30]=toCharCode("");pdfDocEncodingToUnicode[31]=toCharCode("");pdfDocEncodingToUnicode[127]=toCharCode("");pdfDocEncodingToUnicode[128]=toCharCode("");pdfDocEncodingToUnicode[129]=toCharCode("");pdfDocEncodingToUnicode[130]=toCharCode("");pdfDocEncodingToUnicode[131]=toCharCode("");pdfDocEncodingToUnicode[132]=toCharCode("");pdfDocEncodingToUnicode[133]=toCharCode("");pdfDocEncodingToUnicode[134]=toCharCode("");pdfDocEncodingToUnicode[135]=toCharCode("");pdfDocEncodingToUnicode[136]=toCharCode("");pdfDocEncodingToUnicode[137]=toCharCode("");pdfDocEncodingToUnicode[138]=toCharCode("");pdfDocEncodingToUnicode[139]=toCharCode("");pdfDocEncodingToUnicode[140]=toCharCode("");pdfDocEncodingToUnicode[141]=toCharCode("");pdfDocEncodingToUnicode[142]=toCharCode("");pdfDocEncodingToUnicode[143]=toCharCode("");pdfDocEncodingToUnicode[144]=toCharCode("");pdfDocEncodingToUnicode[145]=toCharCode("");pdfDocEncodingToUnicode[146]=toCharCode("");pdfDocEncodingToUnicode[147]=toCharCode("");pdfDocEncodingToUnicode[148]=toCharCode("");pdfDocEncodingToUnicode[149]=toCharCode("");pdfDocEncodingToUnicode[150]=toCharCode("");pdfDocEncodingToUnicode[151]=toCharCode("");pdfDocEncodingToUnicode[152]=toCharCode("");pdfDocEncodingToUnicode[153]=toCharCode("");pdfDocEncodingToUnicode[154]=toCharCode("");pdfDocEncodingToUnicode[155]=toCharCode("");pdfDocEncodingToUnicode[156]=toCharCode("");pdfDocEncodingToUnicode[157]=toCharCode("");pdfDocEncodingToUnicode[158]=toCharCode("");pdfDocEncodingToUnicode[159]=toCharCode("");pdfDocEncodingToUnicode[160]=toCharCode("");pdfDocEncodingToUnicode[173]=toCharCode("");var pdfDocEncodingDecode=function(us){for(var is=new Array(us.length),cs=0,lo=us.length;cs<lo;cs++)is[cs]=pdfDocEncodingToUnicode[us[cs]];return String.fromCodePoint.apply(String,is)},Cache=function(){function us(is){this.populate=is,this.value=void 0}return us.prototype.getValue=function(){return this.value},us.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},us.prototype.invalidate=function(){this.value=void 0},us.populatedBy=function(is){return new us(is)},us}(),MethodNotImplementedError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Method "+cs+"."+lo+"() not implemented";return co=us.call(this,hs)||this,co}return is}(Error),PrivateConstructorError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Cannot construct "+cs+" - it has a private constructor";return lo=us.call(this,co)||this,lo}return is}(Error),UnexpectedObjectTypeError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs=function(ba){var $a,wl;return($a=ba==null?void 0:ba.name)!==null&&$a!==void 0?$a:(wl=ba==null?void 0:ba.constructor)===null||wl===void 0?void 0:wl.name},uo=Array.isArray(cs)?cs.map(hs):[hs(cs)],xa="Expected instance of "+uo.join(" or ")+", "+("but got instance of "+(lo&&hs(lo)));return co=us.call(this,xa)||this,co}return is}(Error),UnsupportedEncodingError=function(us){__extends$1(is,us);function is(cs){var lo=this,co=cs+" stream encoding not supported";return lo=us.call(this,co)||this,lo}return is}(Error),ReparseError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Cannot call "+cs+"."+lo+"() more than once";return co=us.call(this,hs)||this,co}return is}(Error);(function(us){__extends$1(is,us);function is(cs){var lo=this,co="Missing catalog (ref="+cs+")";return lo=us.call(this,co)||this,lo}return is})(Error);var MissingPageContentsEmbeddingError=function(us){__extends$1(is,us);function is(){var cs=this,lo="Can't embed page with missing Contents";return cs=us.call(this,lo)||this,cs}return is}(Error),UnrecognizedStreamTypeError=function(us){__extends$1(is,us);function is(cs){var lo,co,hs,uo=this,xa=(hs=(co=(lo=cs==null?void 0:cs.contructor)===null||lo===void 0?void 0:lo.name)!==null&&co!==void 0?co:cs==null?void 0:cs.name)!==null&&hs!==void 0?hs:cs,ba="Unrecognized stream type: "+xa;return uo=us.call(this,ba)||this,uo}return is}(Error),PageEmbeddingMismatchedContextError=function(us){__extends$1(is,us);function is(){var cs=this,lo="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return cs=us.call(this,lo)||this,cs}return is}(Error),PDFArrayIsNotRectangleError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Attempted to convert PDFArray with "+cs+" elements to rectangle, but must have exactly 4 elements.";return lo=us.call(this,co)||this,lo}return is}(Error),InvalidPDFDateStringError=function(us){__extends$1(is,us);function is(cs){var lo=this,co='Attempted to convert "'+cs+'" to a date, but it does not match the PDF date string format.';return lo=us.call(this,co)||this,lo}return is}(Error),InvalidTargetIndexError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Invalid targetIndex specified: targetIndex="+cs+" must be less than Count="+lo;return co=us.call(this,hs)||this,co}return is}(Error),CorruptPageTreeError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Failed to "+lo+" at targetIndex="+cs+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return co=us.call(this,hs)||this,co}return is}(Error),IndexOutOfBoundsError=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=this,uo="index should be at least "+lo+" and at most "+co+", but was actually "+cs;return hs=us.call(this,uo)||this,hs}return is}(Error),InvalidAcroFieldValueError=function(us){__extends$1(is,us);function is(){var cs=this,lo="Attempted to set invalid field value";return cs=us.call(this,lo)||this,cs}return is}(Error),MultiSelectValueError=function(us){__extends$1(is,us);function is(){var cs=this,lo="Attempted to select multiple values for single-select field";return cs=us.call(this,lo)||this,cs}return is}(Error),MissingDAEntryError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="No /DA (default appearance) entry found for field: "+cs;return lo=us.call(this,co)||this,lo}return is}(Error),MissingTfOperatorError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="No Tf operator found for DA of field: "+cs;return lo=us.call(this,co)||this,lo}return is}(Error),NumberParsingError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Failed to parse number "+("(line:"+cs.line+" col:"+cs.column+" offset="+cs.offset+'): "'+lo+'"');return co=us.call(this,hs)||this,co}return is}(Error),PDFParsingError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Failed to parse PDF document "+("(line:"+cs.line+" col:"+cs.column+" offset="+cs.offset+"): "+lo);return co=us.call(this,hs)||this,co}return is}(Error),NextByteAssertionError=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=this,uo="Expected next byte to be "+lo+" but it was actually "+co;return hs=us.call(this,cs,uo)||this,hs}return is}(PDFParsingError),PDFObjectParsingError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Failed to parse PDF object starting with the following byte: "+lo;return co=us.call(this,cs,hs)||this,co}return is}(PDFParsingError),PDFInvalidObjectParsingError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Failed to parse invalid PDF object";return lo=us.call(this,cs,co)||this,lo}return is}(PDFParsingError),PDFStreamParsingError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Failed to parse PDF stream";return lo=us.call(this,cs,co)||this,lo}return is}(PDFParsingError),UnbalancedParenthesisError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Failed to parse PDF literal string due to unbalanced parenthesis";return lo=us.call(this,cs,co)||this,lo}return is}(PDFParsingError),StalledParserError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Parser stalled";return lo=us.call(this,cs,co)||this,lo}return is}(PDFParsingError),MissingPDFHeaderError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="No PDF header found";return lo=us.call(this,cs,co)||this,lo}return is}(PDFParsingError),MissingKeywordError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Did not find expected keyword '"+arrayAsString(lo)+"'";return co=us.call(this,cs,hs)||this,co}return is}(PDFParsingError),CharCodes;(function(us){us[us.Null=0]="Null",us[us.Backspace=8]="Backspace",us[us.Tab=9]="Tab",us[us.Newline=10]="Newline",us[us.FormFeed=12]="FormFeed",us[us.CarriageReturn=13]="CarriageReturn",us[us.Space=32]="Space",us[us.ExclamationPoint=33]="ExclamationPoint",us[us.Hash=35]="Hash",us[us.Percent=37]="Percent",us[us.LeftParen=40]="LeftParen",us[us.RightParen=41]="RightParen",us[us.Plus=43]="Plus",us[us.Minus=45]="Minus",us[us.Dash=45]="Dash",us[us.Period=46]="Period",us[us.ForwardSlash=47]="ForwardSlash",us[us.Zero=48]="Zero",us[us.One=49]="One",us[us.Two=50]="Two",us[us.Three=51]="Three",us[us.Four=52]="Four",us[us.Five=53]="Five",us[us.Six=54]="Six",us[us.Seven=55]="Seven",us[us.Eight=56]="Eight",us[us.Nine=57]="Nine",us[us.LessThan=60]="LessThan",us[us.GreaterThan=62]="GreaterThan",us[us.A=65]="A",us[us.D=68]="D",us[us.E=69]="E",us[us.F=70]="F",us[us.O=79]="O",us[us.P=80]="P",us[us.R=82]="R",us[us.LeftSquareBracket=91]="LeftSquareBracket",us[us.BackSlash=92]="BackSlash",us[us.RightSquareBracket=93]="RightSquareBracket",us[us.a=97]="a",us[us.b=98]="b",us[us.d=100]="d",us[us.e=101]="e",us[us.f=102]="f",us[us.i=105]="i",us[us.j=106]="j",us[us.l=108]="l",us[us.m=109]="m",us[us.n=110]="n",us[us.o=111]="o",us[us.r=114]="r",us[us.s=115]="s",us[us.t=116]="t",us[us.u=117]="u",us[us.x=120]="x",us[us.LeftCurly=123]="LeftCurly",us[us.RightCurly=125]="RightCurly",us[us.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function us(is,cs){this.major=String(is),this.minor=String(cs)}return us.prototype.toString=function(){var is=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+is+is+is+is},us.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},us.prototype.copyBytesInto=function(is,cs){var lo=cs;return is[cs++]=CharCodes$1.Percent,is[cs++]=CharCodes$1.P,is[cs++]=CharCodes$1.D,is[cs++]=CharCodes$1.F,is[cs++]=CharCodes$1.Dash,cs+=copyStringIntoBuffer(this.major,is,cs),is[cs++]=CharCodes$1.Period,cs+=copyStringIntoBuffer(this.minor,is,cs),is[cs++]=CharCodes$1.Newline,is[cs++]=CharCodes$1.Percent,is[cs++]=129,is[cs++]=129,is[cs++]=129,is[cs++]=129,cs-lo},us.forVersion=function(is,cs){return new us(is,cs)},us}(),PDFObject=function(){function us(){}return us.prototype.clone=function(is){throw new MethodNotImplementedError(this.constructor.name,"clone")},us.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},us.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},us.prototype.copyBytesInto=function(is,cs){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},us}(),PDFNumber=function(us){__extends$1(is,us);function is(cs){var lo=us.call(this)||this;return lo.numberValue=cs,lo.stringValue=numberToString(cs),lo}return is.prototype.asNumber=function(){return this.numberValue},is.prototype.value=function(){return this.numberValue},is.prototype.clone=function(){return is.of(this.numberValue)},is.prototype.toString=function(){return this.stringValue},is.prototype.sizeInBytes=function(){return this.stringValue.length},is.prototype.copyBytesInto=function(cs,lo){return lo+=copyStringIntoBuffer(this.stringValue,cs,lo),this.stringValue.length},is.of=function(cs){return new is(cs)},is}(PDFObject),PDFArray=function(us){__extends$1(is,us);function is(cs){var lo=us.call(this)||this;return lo.array=[],lo.context=cs,lo}return is.prototype.size=function(){return this.array.length},is.prototype.push=function(cs){this.array.push(cs)},is.prototype.insert=function(cs,lo){this.array.splice(cs,0,lo)},is.prototype.indexOf=function(cs){var lo=this.array.indexOf(cs);return lo===-1?void 0:lo},is.prototype.remove=function(cs){this.array.splice(cs,1)},is.prototype.set=function(cs,lo){this.array[cs]=lo},is.prototype.get=function(cs){return this.array[cs]},is.prototype.lookupMaybe=function(cs){for(var lo,co=[],hs=1;hs<arguments.length;hs++)co[hs-1]=arguments[hs];return(lo=this.context).lookupMaybe.apply(lo,__spreadArrays$1([this.get(cs)],co))},is.prototype.lookup=function(cs){for(var lo,co=[],hs=1;hs<arguments.length;hs++)co[hs-1]=arguments[hs];return(lo=this.context).lookup.apply(lo,__spreadArrays$1([this.get(cs)],co))},is.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var cs=this.lookup(0,PDFNumber).asNumber(),lo=this.lookup(1,PDFNumber).asNumber(),co=this.lookup(2,PDFNumber).asNumber(),hs=this.lookup(3,PDFNumber).asNumber(),uo=cs,xa=lo,ba=co-cs,$a=hs-lo;return{x:uo,y:xa,width:ba,height:$a}},is.prototype.asArray=function(){return this.array.slice()},is.prototype.clone=function(cs){for(var lo=is.withContext(cs||this.context),co=0,hs=this.size();co<hs;co++)lo.push(this.array[co]);return lo},is.prototype.toString=function(){for(var cs="[ ",lo=0,co=this.size();lo<co;lo++)cs+=this.get(lo).toString(),cs+=" ";return cs+="]",cs},is.prototype.sizeInBytes=function(){for(var cs=3,lo=0,co=this.size();lo<co;lo++)cs+=this.get(lo).sizeInBytes()+1;return cs},is.prototype.copyBytesInto=function(cs,lo){var co=lo;cs[lo++]=CharCodes$1.LeftSquareBracket,cs[lo++]=CharCodes$1.Space;for(var hs=0,uo=this.size();hs<uo;hs++)lo+=this.get(hs).copyBytesInto(cs,lo),cs[lo++]=CharCodes$1.Space;return cs[lo++]=CharCodes$1.RightSquareBracket,lo-co},is.prototype.scalePDFNumbers=function(cs,lo){for(var co=0,hs=this.size();co<hs;co++){var uo=this.lookup(co);if(uo instanceof PDFNumber){var xa=co%2===0?cs:lo;this.set(co,PDFNumber.of(uo.asNumber()*xa))}}},is.withContext=function(cs){return new is(cs)},is}(PDFObject),ENFORCER$2={},PDFBool=function(us){__extends$1(is,us);function is(cs,lo){var co=this;if(cs!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return co=us.call(this)||this,co.value=lo,co}return is.prototype.asBoolean=function(){return this.value},is.prototype.clone=function(){return this},is.prototype.toString=function(){return String(this.value)},is.prototype.sizeInBytes=function(){return this.value?4:5},is.prototype.copyBytesInto=function(cs,lo){return this.value?(cs[lo++]=CharCodes$1.t,cs[lo++]=CharCodes$1.r,cs[lo++]=CharCodes$1.u,cs[lo++]=CharCodes$1.e,4):(cs[lo++]=CharCodes$1.f,cs[lo++]=CharCodes$1.a,cs[lo++]=CharCodes$1.l,cs[lo++]=CharCodes$1.s,cs[lo++]=CharCodes$1.e,5)},is.True=new is(ENFORCER$2,!0),is.False=new is(ENFORCER$2,!1),is}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(us){return us.replace(/#([\dABCDEF]{2})/g,function(is,cs){return charFromHexCode(cs)})},isRegularChar=function(us){return us>=CharCodes$1.ExclamationPoint&&us<=CharCodes$1.Tilde&&!IsIrregular[us]},ENFORCER$1={},pool$1=new Map,PDFName=function(us){__extends$1(is,us);function is(cs,lo){var co=this;if(cs!==ENFORCER$1)throw new PrivateConstructorError("PDFName");co=us.call(this)||this;for(var hs="/",uo=0,xa=lo.length;uo<xa;uo++){var ba=lo[uo],$a=toCharCode(ba);hs+=isRegularChar($a)?ba:"#"+toHexString($a)}return co.encodedName=hs,co}return is.prototype.asBytes=function(){for(var cs=[],lo="",co=!1,hs=function(Sl){Sl!==void 0&&cs.push(Sl),co=!1},uo=1,xa=this.encodedName.length;uo<xa;uo++){var ba=this.encodedName[uo],$a=toCharCode(ba),wl=this.encodedName[uo+1];co?$a>=CharCodes$1.Zero&&$a<=CharCodes$1.Nine||$a>=CharCodes$1.a&&$a<=CharCodes$1.f||$a>=CharCodes$1.A&&$a<=CharCodes$1.F?(lo+=ba,(lo.length===2||!(wl>="0"&&wl<="9"||wl>="a"&&wl<="f"||wl>="A"&&wl<="F"))&&(hs(parseInt(lo,16)),lo="")):hs($a):$a===CharCodes$1.Hash?co=!0:hs($a)}return new Uint8Array(cs)},is.prototype.decodeText=function(){var cs=this.asBytes();return String.fromCharCode.apply(String,Array.from(cs))},is.prototype.asString=function(){return this.encodedName},is.prototype.value=function(){return this.encodedName},is.prototype.clone=function(){return this},is.prototype.toString=function(){return this.encodedName},is.prototype.sizeInBytes=function(){return this.encodedName.length},is.prototype.copyBytesInto=function(cs,lo){return lo+=copyStringIntoBuffer(this.encodedName,cs,lo),this.encodedName.length},is.of=function(cs){var lo=decodeName(cs),co=pool$1.get(lo);return co||(co=new is(ENFORCER$1,lo),pool$1.set(lo,co)),co},is.Length=is.of("Length"),is.FlateDecode=is.of("FlateDecode"),is.Resources=is.of("Resources"),is.Font=is.of("Font"),is.XObject=is.of("XObject"),is.ExtGState=is.of("ExtGState"),is.Contents=is.of("Contents"),is.Type=is.of("Type"),is.Parent=is.of("Parent"),is.MediaBox=is.of("MediaBox"),is.Page=is.of("Page"),is.Annots=is.of("Annots"),is.TrimBox=is.of("TrimBox"),is.ArtBox=is.of("ArtBox"),is.BleedBox=is.of("BleedBox"),is.CropBox=is.of("CropBox"),is.Rotate=is.of("Rotate"),is.Title=is.of("Title"),is.Author=is.of("Author"),is.Subject=is.of("Subject"),is.Creator=is.of("Creator"),is.Keywords=is.of("Keywords"),is.Producer=is.of("Producer"),is.CreationDate=is.of("CreationDate"),is.ModDate=is.of("ModDate"),is}(PDFObject),PDFNull=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.asNull=function(){return null},is.prototype.clone=function(){return this},is.prototype.toString=function(){return"null"},is.prototype.sizeInBytes=function(){return 4},is.prototype.copyBytesInto=function(cs,lo){return cs[lo++]=CharCodes$1.n,cs[lo++]=CharCodes$1.u,cs[lo++]=CharCodes$1.l,cs[lo++]=CharCodes$1.l,4},is}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this)||this;return co.dict=cs,co.context=lo,co}return is.prototype.keys=function(){return Array.from(this.dict.keys())},is.prototype.values=function(){return Array.from(this.dict.values())},is.prototype.entries=function(){return Array.from(this.dict.entries())},is.prototype.set=function(cs,lo){this.dict.set(cs,lo)},is.prototype.get=function(cs,lo){lo===void 0&&(lo=!1);var co=this.dict.get(cs);if(!(co===PDFNull$1&&!lo))return co},is.prototype.has=function(cs){var lo=this.dict.get(cs);return lo!==void 0&&lo!==PDFNull$1},is.prototype.lookupMaybe=function(cs){for(var lo,co=[],hs=1;hs<arguments.length;hs++)co[hs-1]=arguments[hs];var uo=co.includes(PDFNull$1),xa=(lo=this.context).lookupMaybe.apply(lo,__spreadArrays$1([this.get(cs,uo)],co));if(!(xa===PDFNull$1&&!uo))return xa},is.prototype.lookup=function(cs){for(var lo,co=[],hs=1;hs<arguments.length;hs++)co[hs-1]=arguments[hs];var uo=co.includes(PDFNull$1),xa=(lo=this.context).lookup.apply(lo,__spreadArrays$1([this.get(cs,uo)],co));if(!(xa===PDFNull$1&&!uo))return xa},is.prototype.delete=function(cs){return this.dict.delete(cs)},is.prototype.asMap=function(){return new Map(this.dict)},is.prototype.uniqueKey=function(cs){cs===void 0&&(cs="");for(var lo=this.keys(),co=PDFName.of(this.context.addRandomSuffix(cs,10));lo.includes(co);)co=PDFName.of(this.context.addRandomSuffix(cs,10));return co},is.prototype.clone=function(cs){for(var lo=is.withContext(cs||this.context),co=this.entries(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs],ba=xa[0],$a=xa[1];lo.set(ba,$a)}return lo},is.prototype.toString=function(){for(var cs=`<<
`,lo=this.entries(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=uo[0],ba=uo[1];cs+=xa.toString()+" "+ba.toString()+`
`}return cs+=">>",cs},is.prototype.sizeInBytes=function(){for(var cs=5,lo=this.entries(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=uo[0],ba=uo[1];cs+=xa.sizeInBytes()+ba.sizeInBytes()+2}return cs},is.prototype.copyBytesInto=function(cs,lo){var co=lo;cs[lo++]=CharCodes$1.LessThan,cs[lo++]=CharCodes$1.LessThan,cs[lo++]=CharCodes$1.Newline;for(var hs=this.entries(),uo=0,xa=hs.length;uo<xa;uo++){var ba=hs[uo],$a=ba[0],wl=ba[1];lo+=$a.copyBytesInto(cs,lo),cs[lo++]=CharCodes$1.Space,lo+=wl.copyBytesInto(cs,lo),cs[lo++]=CharCodes$1.Newline}return cs[lo++]=CharCodes$1.GreaterThan,cs[lo++]=CharCodes$1.GreaterThan,lo-co},is.withContext=function(cs){return new is(new Map,cs)},is.fromMapWithContext=function(cs,lo){return new is(cs,lo)},is}(PDFObject),PDFStream=function(us){__extends$1(is,us);function is(cs){var lo=us.call(this)||this;return lo.dict=cs,lo}return is.prototype.clone=function(cs){throw new MethodNotImplementedError(this.constructor.name,"clone")},is.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},is.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},is.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},is.prototype.updateDict=function(){var cs=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(cs))},is.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},is.prototype.toString=function(){this.updateDict();var cs=this.dict.toString();return cs+=`
stream
`,cs+=this.getContentsString(),cs+=`
endstream`,cs},is.prototype.copyBytesInto=function(cs,lo){this.updateDict();var co=lo;lo+=this.dict.copyBytesInto(cs,lo),cs[lo++]=CharCodes$1.Newline,cs[lo++]=CharCodes$1.s,cs[lo++]=CharCodes$1.t,cs[lo++]=CharCodes$1.r,cs[lo++]=CharCodes$1.e,cs[lo++]=CharCodes$1.a,cs[lo++]=CharCodes$1.m,cs[lo++]=CharCodes$1.Newline;for(var hs=this.getContents(),uo=0,xa=hs.length;uo<xa;uo++)cs[lo++]=hs[uo];return cs[lo++]=CharCodes$1.Newline,cs[lo++]=CharCodes$1.e,cs[lo++]=CharCodes$1.n,cs[lo++]=CharCodes$1.d,cs[lo++]=CharCodes$1.s,cs[lo++]=CharCodes$1.t,cs[lo++]=CharCodes$1.r,cs[lo++]=CharCodes$1.e,cs[lo++]=CharCodes$1.a,cs[lo++]=CharCodes$1.m,lo-co},is}(PDFObject),PDFRawStream=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,cs)||this;return co.contents=lo,co}return is.prototype.asUint8Array=function(){return this.contents.slice()},is.prototype.clone=function(cs){return is.of(this.dict.clone(cs),this.contents.slice())},is.prototype.getContentsString=function(){return arrayAsString(this.contents)},is.prototype.getContents=function(){return this.contents},is.prototype.getContentsSize=function(){return this.contents.length},is.of=function(cs,lo){return new is(cs,lo)},is}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=this;if(cs!==ENFORCER)throw new PrivateConstructorError("PDFRef");return hs=us.call(this)||this,hs.objectNumber=lo,hs.generationNumber=co,hs.tag=lo+" "+co+" R",hs}return is.prototype.clone=function(){return this},is.prototype.toString=function(){return this.tag},is.prototype.sizeInBytes=function(){return this.tag.length},is.prototype.copyBytesInto=function(cs,lo){return lo+=copyStringIntoBuffer(this.tag,cs,lo),this.tag.length},is.of=function(cs,lo){lo===void 0&&(lo=0);var co=cs+" "+lo+" R",hs=pool.get(co);return hs||(hs=new is(ENFORCER,cs,lo),pool.set(co,hs)),hs},is}(PDFObject),PDFOperator=function(){function us(is,cs){this.name=is,this.args=cs||[]}return us.prototype.clone=function(is){for(var cs=new Array(this.args.length),lo=0,co=cs.length;lo<co;lo++){var hs=this.args[lo];cs[lo]=hs instanceof PDFObject?hs.clone(is):hs}return us.of(this.name,cs)},us.prototype.toString=function(){for(var is="",cs=0,lo=this.args.length;cs<lo;cs++)is+=String(this.args[cs])+" ";return is+=this.name,is},us.prototype.sizeInBytes=function(){for(var is=0,cs=0,lo=this.args.length;cs<lo;cs++){var co=this.args[cs];is+=(co instanceof PDFObject?co.sizeInBytes():co.length)+1}return is+=this.name.length,is},us.prototype.copyBytesInto=function(is,cs){for(var lo=cs,co=0,hs=this.args.length;co<hs;co++){var uo=this.args[co];uo instanceof PDFObject?cs+=uo.copyBytesInto(is,cs):cs+=copyStringIntoBuffer(uo,is,cs),is[cs++]=CharCodes$1.Space}return cs+=copyStringIntoBuffer(this.name,is,cs),cs-lo},us.of=function(is,cs){return new us(is,cs)},us}(),PDFOperatorNames;(function(us){us.NonStrokingColor="sc",us.NonStrokingColorN="scn",us.NonStrokingColorRgb="rg",us.NonStrokingColorGray="g",us.NonStrokingColorCmyk="k",us.NonStrokingColorspace="cs",us.StrokingColor="SC",us.StrokingColorN="SCN",us.StrokingColorRgb="RG",us.StrokingColorGray="G",us.StrokingColorCmyk="K",us.StrokingColorspace="CS",us.BeginMarkedContentSequence="BDC",us.BeginMarkedContent="BMC",us.EndMarkedContent="EMC",us.MarkedContentPointWithProps="DP",us.MarkedContentPoint="MP",us.DrawObject="Do",us.ConcatTransformationMatrix="cm",us.PopGraphicsState="Q",us.PushGraphicsState="q",us.SetFlatness="i",us.SetGraphicsStateParams="gs",us.SetLineCapStyle="J",us.SetLineDashPattern="d",us.SetLineJoinStyle="j",us.SetLineMiterLimit="M",us.SetLineWidth="w",us.SetTextMatrix="Tm",us.SetRenderingIntent="ri",us.AppendRectangle="re",us.BeginInlineImage="BI",us.BeginInlineImageData="ID",us.EndInlineImage="EI",us.ClipEvenOdd="W*",us.ClipNonZero="W",us.CloseAndStroke="s",us.CloseFillEvenOddAndStroke="b*",us.CloseFillNonZeroAndStroke="b",us.ClosePath="h",us.AppendBezierCurve="c",us.CurveToReplicateFinalPoint="y",us.CurveToReplicateInitialPoint="v",us.EndPath="n",us.FillEvenOddAndStroke="B*",us.FillEvenOdd="f*",us.FillNonZeroAndStroke="B",us.FillNonZero="f",us.LegacyFillNonZero="F",us.LineTo="l",us.MoveTo="m",us.ShadingFill="sh",us.StrokePath="S",us.BeginText="BT",us.EndText="ET",us.MoveText="Td",us.MoveTextSetLeading="TD",us.NextLine="T*",us.SetCharacterSpacing="Tc",us.SetFontAndSize="Tf",us.SetTextHorizontalScaling="Tz",us.SetTextLineHeight="TL",us.SetTextRenderingMode="Tr",us.SetTextRise="Ts",us.SetWordSpacing="Tw",us.ShowText="Tj",us.ShowTextAdjusted="TJ",us.ShowTextLine="'",us.ShowTextLineAndSpace='"',us.Type3D0="d0",us.Type3D1="d1",us.BeginCompatibilitySection="BX",us.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,cs)||this;return co.computeContents=function(){var hs=co.getUnencodedContents();return co.encode?pako$1.deflate(hs):hs},co.encode=lo,lo&&cs.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),co.contentsCache=Cache.populatedBy(co.computeContents),co}return is.prototype.getContents=function(){return this.contentsCache.access()},is.prototype.getContentsSize=function(){return this.contentsCache.access().length},is.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},is}(PDFStream),PDFContentStream=function(us){__extends$1(is,us);function is(cs,lo,co){co===void 0&&(co=!0);var hs=us.call(this,cs,co)||this;return hs.operators=lo,hs}return is.prototype.push=function(){for(var cs,lo=[],co=0;co<arguments.length;co++)lo[co]=arguments[co];(cs=this.operators).push.apply(cs,lo)},is.prototype.clone=function(cs){for(var lo=new Array(this.operators.length),co=0,hs=this.operators.length;co<hs;co++)lo[co]=this.operators[co].clone(cs);var uo=this,xa=uo.dict,ba=uo.encode;return is.of(xa.clone(cs),lo,ba)},is.prototype.getContentsString=function(){for(var cs="",lo=0,co=this.operators.length;lo<co;lo++)cs+=this.operators[lo]+`
`;return cs},is.prototype.getUnencodedContents=function(){for(var cs=new Uint8Array(this.getUnencodedContentsSize()),lo=0,co=0,hs=this.operators.length;co<hs;co++)lo+=this.operators[co].copyBytesInto(cs,lo),cs[lo++]=CharCodes$1.Newline;return cs},is.prototype.getUnencodedContentsSize=function(){for(var cs=0,lo=0,co=this.operators.length;lo<co;lo++)cs+=this.operators[lo].sizeInBytes()+1;return cs},is.of=function(cs,lo,co){return co===void 0&&(co=!0),new is(cs,lo,co)},is}(PDFFlateStream),SimpleRNG=function(){function us(is){this.seed=is}return us.prototype.nextInt=function(){var is=Math.sin(this.seed++)*1e4;return is-Math.floor(is)},us.withSeed=function(is){return new us(is)},us}(),byAscendingObjectNumber=function(us,is){var cs=us[0],lo=is[0];return cs.objectNumber-lo.objectNumber},PDFContext=function(){function us(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return us.prototype.assign=function(is,cs){this.indirectObjects.set(is,cs),is.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=is.objectNumber)},us.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},us.prototype.register=function(is){var cs=this.nextRef();return this.assign(cs,is),cs},us.prototype.delete=function(is){return this.indirectObjects.delete(is)},us.prototype.lookupMaybe=function(is){for(var cs=[],lo=1;lo<arguments.length;lo++)cs[lo-1]=arguments[lo];var co=cs.includes(PDFNull$1),hs=is instanceof PDFRef?this.indirectObjects.get(is):is;if(!(!hs||hs===PDFNull$1&&!co)){for(var uo=0,xa=cs.length;uo<xa;uo++){var ba=cs[uo];if(ba===PDFNull$1){if(hs===PDFNull$1)return hs}else if(hs instanceof ba)return hs}throw new UnexpectedObjectTypeError(cs,hs)}},us.prototype.lookup=function(is){for(var cs=[],lo=1;lo<arguments.length;lo++)cs[lo-1]=arguments[lo];var co=is instanceof PDFRef?this.indirectObjects.get(is):is;if(cs.length===0)return co;for(var hs=0,uo=cs.length;hs<uo;hs++){var xa=cs[hs];if(xa===PDFNull$1){if(co===PDFNull$1)return co}else if(co instanceof xa)return co}throw new UnexpectedObjectTypeError(cs,co)},us.prototype.getObjectRef=function(is){for(var cs=Array.from(this.indirectObjects.entries()),lo=0,co=cs.length;lo<co;lo++){var hs=cs[lo],uo=hs[0],xa=hs[1];if(xa===is)return uo}},us.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},us.prototype.obj=function(is){if(is instanceof PDFObject)return is;if(is==null)return PDFNull$1;if(typeof is=="string")return PDFName.of(is);if(typeof is=="number")return PDFNumber.of(is);if(typeof is=="boolean")return is?PDFBool.True:PDFBool.False;if(Array.isArray(is)){for(var cs=PDFArray.withContext(this),lo=0,co=is.length;lo<co;lo++)cs.push(this.obj(is[lo]));return cs}else{for(var hs=PDFDict.withContext(this),uo=Object.keys(is),lo=0,co=uo.length;lo<co;lo++){var xa=uo[lo],ba=is[xa];ba!==void 0&&hs.set(PDFName.of(xa),this.obj(ba))}return hs}},us.prototype.stream=function(is,cs){return cs===void 0&&(cs={}),PDFRawStream.of(this.obj(cs),typedArrayFor(is))},us.prototype.flateStream=function(is,cs){return cs===void 0&&(cs={}),this.stream(pako$1.deflate(typedArrayFor(is)),__assign$1(__assign$1({},cs),{Filter:"FlateDecode"}))},us.prototype.contentStream=function(is,cs){return cs===void 0&&(cs={}),PDFContentStream.of(this.obj(cs),is)},us.prototype.formXObject=function(is,cs){return cs===void 0&&(cs={}),this.contentStream(is,__assign$1(__assign$1({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},cs),{Type:"XObject",Subtype:"Form"}))},us.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var is=this.obj({}),cs=PDFOperator.of(Ops.PushGraphicsState),lo=PDFContentStream.of(is,[cs]);return this.pushGraphicsStateContentStreamRef=this.register(lo),this.pushGraphicsStateContentStreamRef},us.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var is=this.obj({}),cs=PDFOperator.of(Ops.PopGraphicsState),lo=PDFContentStream.of(is,[cs]);return this.popGraphicsStateContentStreamRef=this.register(lo),this.popGraphicsStateContentStreamRef},us.prototype.addRandomSuffix=function(is,cs){return cs===void 0&&(cs=4),is+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,cs))},us.create=function(){return new us},us}(),PDFPageLeaf=function(us){__extends$1(is,us);function is(cs,lo,co){co===void 0&&(co=!0);var hs=us.call(this,cs,lo)||this;return hs.normalized=!1,hs.autoNormalizeCTM=co,hs}return is.prototype.clone=function(cs){for(var lo=is.fromMapWithContext(new Map,cs||this.context,this.autoNormalizeCTM),co=this.entries(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs],ba=xa[0],$a=xa[1];lo.set(ba,$a)}return lo},is.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},is.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},is.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},is.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},is.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},is.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},is.prototype.Resources=function(){var cs=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(cs,PDFDict)},is.prototype.MediaBox=function(){var cs=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(cs,PDFArray)},is.prototype.CropBox=function(){var cs=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(cs,PDFArray)},is.prototype.Rotate=function(){var cs=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(cs,PDFNumber)},is.prototype.getInheritableAttribute=function(cs){var lo;return this.ascend(function(co){lo||(lo=co.get(cs))}),lo},is.prototype.setParent=function(cs){this.set(PDFName.Parent,cs)},is.prototype.addContentStream=function(cs){var lo=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,lo),lo.push(cs)},is.prototype.wrapContentStreams=function(cs,lo){var co=this.Contents();return co instanceof PDFArray?(co.insert(0,cs),co.push(lo),!0):!1},is.prototype.addAnnot=function(cs){var lo=this.normalizedEntries().Annots;lo.push(cs)},is.prototype.removeAnnot=function(cs){var lo=this.normalizedEntries().Annots,co=lo.indexOf(cs);co!==void 0&&lo.remove(co)},is.prototype.setFontDictionary=function(cs,lo){var co=this.normalizedEntries().Font;co.set(cs,lo)},is.prototype.newFontDictionaryKey=function(cs){var lo=this.normalizedEntries().Font;return lo.uniqueKey(cs)},is.prototype.newFontDictionary=function(cs,lo){var co=this.newFontDictionaryKey(cs);return this.setFontDictionary(co,lo),co},is.prototype.setXObject=function(cs,lo){var co=this.normalizedEntries().XObject;co.set(cs,lo)},is.prototype.newXObjectKey=function(cs){var lo=this.normalizedEntries().XObject;return lo.uniqueKey(cs)},is.prototype.newXObject=function(cs,lo){var co=this.newXObjectKey(cs);return this.setXObject(co,lo),co},is.prototype.setExtGState=function(cs,lo){var co=this.normalizedEntries().ExtGState;co.set(cs,lo)},is.prototype.newExtGStateKey=function(cs){var lo=this.normalizedEntries().ExtGState;return lo.uniqueKey(cs)},is.prototype.newExtGState=function(cs,lo){var co=this.newExtGStateKey(cs);return this.setExtGState(co,lo),co},is.prototype.ascend=function(cs){cs(this);var lo=this.Parent();lo&&lo.ascend(cs)},is.prototype.normalize=function(){if(!this.normalized){var cs=this.context,lo=this.get(PDFName.Contents),co=this.context.lookup(lo);co instanceof PDFStream&&this.set(PDFName.Contents,cs.obj([lo])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var hs=this.getInheritableAttribute(PDFName.Resources),uo=cs.lookupMaybe(hs,PDFDict)||cs.obj({});this.set(PDFName.Resources,uo);var xa=uo.lookupMaybe(PDFName.Font,PDFDict)||cs.obj({});uo.set(PDFName.Font,xa);var ba=uo.lookupMaybe(PDFName.XObject,PDFDict)||cs.obj({});uo.set(PDFName.XObject,ba);var $a=uo.lookupMaybe(PDFName.ExtGState,PDFDict)||cs.obj({});uo.set(PDFName.ExtGState,$a);var wl=this.Annots()||cs.obj([]);this.set(PDFName.Annots,wl),this.normalized=!0}},is.prototype.normalizedEntries=function(){this.normalize();var cs=this.Annots(),lo=this.Resources(),co=this.Contents();return{Annots:cs,Resources:lo,Contents:co,Font:lo.lookup(PDFName.Font,PDFDict),XObject:lo.lookup(PDFName.XObject,PDFDict),ExtGState:lo.lookup(PDFName.ExtGState,PDFDict)}},is.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],is.withContextAndParent=function(cs,lo){var co=new Map;return co.set(PDFName.Type,PDFName.Page),co.set(PDFName.Parent,lo),co.set(PDFName.Resources,cs.obj({})),co.set(PDFName.MediaBox,cs.obj([0,0,612,792])),new is(co,cs,!1)},is.fromMapWithContext=function(cs,lo,co){return co===void 0&&(co=!0),new is(cs,lo,co)},is}(PDFDict),PDFObjectCopier=function(){function us(is,cs){var lo=this;this.traversedObjects=new Map,this.copy=function(co){return co instanceof PDFPageLeaf?lo.copyPDFPage(co):co instanceof PDFDict?lo.copyPDFDict(co):co instanceof PDFArray?lo.copyPDFArray(co):co instanceof PDFStream?lo.copyPDFStream(co):co instanceof PDFRef?lo.copyPDFIndirectObject(co):co.clone()},this.copyPDFPage=function(co){for(var hs=co.clone(),uo=PDFPageLeaf.InheritableEntries,xa=0,ba=uo.length;xa<ba;xa++){var $a=PDFName.of(uo[xa]),wl=hs.getInheritableAttribute($a);!hs.get($a)&&wl&&hs.set($a,wl)}return hs.delete(PDFName.of("Parent")),lo.copyPDFDict(hs)},this.copyPDFDict=function(co){if(lo.traversedObjects.has(co))return lo.traversedObjects.get(co);var hs=co.clone(lo.dest);lo.traversedObjects.set(co,hs);for(var uo=co.entries(),xa=0,ba=uo.length;xa<ba;xa++){var $a=uo[xa],wl=$a[0],Sl=$a[1];hs.set(wl,lo.copy(Sl))}return hs},this.copyPDFArray=function(co){if(lo.traversedObjects.has(co))return lo.traversedObjects.get(co);var hs=co.clone(lo.dest);lo.traversedObjects.set(co,hs);for(var uo=0,xa=co.size();uo<xa;uo++){var ba=co.get(uo);hs.set(uo,lo.copy(ba))}return hs},this.copyPDFStream=function(co){if(lo.traversedObjects.has(co))return lo.traversedObjects.get(co);var hs=co.clone(lo.dest);lo.traversedObjects.set(co,hs);for(var uo=co.dict.entries(),xa=0,ba=uo.length;xa<ba;xa++){var $a=uo[xa],wl=$a[0],Sl=$a[1];hs.dict.set(wl,lo.copy(Sl))}return hs},this.copyPDFIndirectObject=function(co){var hs=lo.traversedObjects.has(co);if(!hs){var uo=lo.dest.nextRef();lo.traversedObjects.set(co,uo);var xa=lo.src.lookup(co);if(xa){var ba=lo.copy(xa);lo.dest.assign(uo,ba)}}return lo.traversedObjects.get(co)},this.src=is,this.dest=cs}return us.for=function(is,cs){return new us(is,cs)},us}(),PDFCrossRefSection=function(){function us(is){this.subsections=is?[[is]]:[],this.chunkIdx=0,this.chunkLength=is?1:0}return us.prototype.addEntry=function(is,cs){this.append({ref:is,offset:cs,deleted:!1})},us.prototype.addDeletedEntry=function(is,cs){this.append({ref:is,offset:cs,deleted:!0})},us.prototype.toString=function(){for(var is=`xref
`,cs=0,lo=this.subsections.length;cs<lo;cs++){var co=this.subsections[cs];is+=co[0].ref.objectNumber+" "+co.length+`
`;for(var hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs];is+=padStart$1(String(xa.offset),10,"0"),is+=" ",is+=padStart$1(String(xa.ref.generationNumber),5,"0"),is+=" ",is+=xa.deleted?"f":"n",is+=` 
`}}return is},us.prototype.sizeInBytes=function(){for(var is=5,cs=0,lo=this.subsections.length;cs<lo;cs++){var co=this.subsections[cs],hs=co.length,uo=co[0];is+=2,is+=String(uo.ref.objectNumber).length,is+=String(hs).length,is+=20*hs}return is},us.prototype.copyBytesInto=function(is,cs){var lo=cs;return is[cs++]=CharCodes$1.x,is[cs++]=CharCodes$1.r,is[cs++]=CharCodes$1.e,is[cs++]=CharCodes$1.f,is[cs++]=CharCodes$1.Newline,cs+=this.copySubsectionsIntoBuffer(this.subsections,is,cs),cs-lo},us.prototype.copySubsectionsIntoBuffer=function(is,cs,lo){for(var co=lo,hs=is.length,uo=0;uo<hs;uo++){var xa=this.subsections[uo],ba=String(xa[0].ref.objectNumber);lo+=copyStringIntoBuffer(ba,cs,lo),cs[lo++]=CharCodes$1.Space;var $a=String(xa.length);lo+=copyStringIntoBuffer($a,cs,lo),cs[lo++]=CharCodes$1.Newline,lo+=this.copyEntriesIntoBuffer(xa,cs,lo)}return lo-co},us.prototype.copyEntriesIntoBuffer=function(is,cs,lo){for(var co=is.length,hs=0;hs<co;hs++){var uo=is[hs],xa=padStart$1(String(uo.offset),10,"0");lo+=copyStringIntoBuffer(xa,cs,lo),cs[lo++]=CharCodes$1.Space;var ba=padStart$1(String(uo.ref.generationNumber),5,"0");lo+=copyStringIntoBuffer(ba,cs,lo),cs[lo++]=CharCodes$1.Space,cs[lo++]=uo.deleted?CharCodes$1.f:CharCodes$1.n,cs[lo++]=CharCodes$1.Space,cs[lo++]=CharCodes$1.Newline}return 20*co},us.prototype.append=function(is){if(this.chunkLength===0){this.subsections.push([is]),this.chunkIdx=0,this.chunkLength=1;return}var cs=this.subsections[this.chunkIdx],lo=cs[this.chunkLength-1];is.ref.objectNumber-lo.ref.objectNumber>1?(this.subsections.push([is]),this.chunkIdx+=1,this.chunkLength=1):(cs.push(is),this.chunkLength+=1)},us.create=function(){return new us({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},us.createEmpty=function(){return new us},us}(),PDFTrailer=function(){function us(is){this.lastXRefOffset=String(is)}return us.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},us.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},us.prototype.copyBytesInto=function(is,cs){var lo=cs;return is[cs++]=CharCodes$1.s,is[cs++]=CharCodes$1.t,is[cs++]=CharCodes$1.a,is[cs++]=CharCodes$1.r,is[cs++]=CharCodes$1.t,is[cs++]=CharCodes$1.x,is[cs++]=CharCodes$1.r,is[cs++]=CharCodes$1.e,is[cs++]=CharCodes$1.f,is[cs++]=CharCodes$1.Newline,cs+=copyStringIntoBuffer(this.lastXRefOffset,is,cs),is[cs++]=CharCodes$1.Newline,is[cs++]=CharCodes$1.Percent,is[cs++]=CharCodes$1.Percent,is[cs++]=CharCodes$1.E,is[cs++]=CharCodes$1.O,is[cs++]=CharCodes$1.F,cs-lo},us.forLastCrossRefSectionOffset=function(is){return new us(is)},us}(),PDFTrailerDict=function(){function us(is){this.dict=is}return us.prototype.toString=function(){return`trailer
`+this.dict.toString()},us.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},us.prototype.copyBytesInto=function(is,cs){var lo=cs;return is[cs++]=CharCodes$1.t,is[cs++]=CharCodes$1.r,is[cs++]=CharCodes$1.a,is[cs++]=CharCodes$1.i,is[cs++]=CharCodes$1.l,is[cs++]=CharCodes$1.e,is[cs++]=CharCodes$1.r,is[cs++]=CharCodes$1.Newline,cs+=this.dict.copyBytesInto(is,cs),cs-lo},us.of=function(is){return new us(is)},us}(),PDFObjectStream=function(us){__extends$1(is,us);function is(cs,lo,co){co===void 0&&(co=!0);var hs=us.call(this,cs.obj({}),co)||this;return hs.objects=lo,hs.offsets=hs.computeObjectOffsets(),hs.offsetsString=hs.computeOffsetsString(),hs.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),hs.dict.set(PDFName.of("N"),PDFNumber.of(hs.objects.length)),hs.dict.set(PDFName.of("First"),PDFNumber.of(hs.offsetsString.length)),hs}return is.prototype.getObjectsCount=function(){return this.objects.length},is.prototype.clone=function(cs){return is.withContextAndObjects(cs||this.dict.context,this.objects.slice(),this.encode)},is.prototype.getContentsString=function(){for(var cs=this.offsetsString,lo=0,co=this.objects.length;lo<co;lo++){var hs=this.objects[lo],uo=hs[1];cs+=uo+`
`}return cs},is.prototype.getUnencodedContents=function(){for(var cs=new Uint8Array(this.getUnencodedContentsSize()),lo=copyStringIntoBuffer(this.offsetsString,cs,0),co=0,hs=this.objects.length;co<hs;co++){var uo=this.objects[co],xa=uo[1];lo+=xa.copyBytesInto(cs,lo),cs[lo++]=CharCodes$1.Newline}return cs},is.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},is.prototype.computeOffsetsString=function(){for(var cs="",lo=0,co=this.offsets.length;lo<co;lo++){var hs=this.offsets[lo],uo=hs[0],xa=hs[1];cs+=uo+" "+xa+" "}return cs},is.prototype.computeObjectOffsets=function(){for(var cs=0,lo=new Array(this.objects.length),co=0,hs=this.objects.length;co<hs;co++){var uo=this.objects[co],xa=uo[0],ba=uo[1];lo[co]=[xa.objectNumber,cs],cs+=ba.sizeInBytes()+1}return lo},is.withContextAndObjects=function(cs,lo,co){return co===void 0&&(co=!0),new is(cs,lo,co)},is}(PDFFlateStream),PDFWriter=function(){function us(is,cs){var lo=this;this.parsedObjects=0,this.shouldWaitForTick=function(co){return lo.parsedObjects+=co,lo.parsedObjects%lo.objectsPerTick===0},this.context=is,this.objectsPerTick=cs}return us.prototype.serializeToBuffer=function(){return __awaiter$1(this,void 0,void 0,function(){var is,cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl;return __generator$1(this,function(Dl){switch(Dl.label){case 0:return[4,this.computeBufferSize()];case 1:is=Dl.sent(),cs=is.size,lo=is.header,co=is.indirectObjects,hs=is.xref,uo=is.trailerDict,xa=is.trailer,ba=0,$a=new Uint8Array(cs),ba+=lo.copyBytesInto($a,ba),$a[ba++]=CharCodes$1.Newline,$a[ba++]=CharCodes$1.Newline,wl=0,Sl=co.length,Dl.label=2;case 2:return wl<Sl?(Cl=co[wl],_l=Cl[0],Il=Cl[1],Fl=String(_l.objectNumber),ba+=copyStringIntoBuffer(Fl,$a,ba),$a[ba++]=CharCodes$1.Space,Ml=String(_l.generationNumber),ba+=copyStringIntoBuffer(Ml,$a,ba),$a[ba++]=CharCodes$1.Space,$a[ba++]=CharCodes$1.o,$a[ba++]=CharCodes$1.b,$a[ba++]=CharCodes$1.j,$a[ba++]=CharCodes$1.Newline,ba+=Il.copyBytesInto($a,ba),$a[ba++]=CharCodes$1.Newline,$a[ba++]=CharCodes$1.e,$a[ba++]=CharCodes$1.n,$a[ba++]=CharCodes$1.d,$a[ba++]=CharCodes$1.o,$a[ba++]=CharCodes$1.b,$a[ba++]=CharCodes$1.j,$a[ba++]=CharCodes$1.Newline,$a[ba++]=CharCodes$1.Newline,Tl=Il instanceof PDFObjectStream?Il.getObjectsCount():1,this.shouldWaitForTick(Tl)?[4,waitForTick()]:[3,4]):[3,5];case 3:Dl.sent(),Dl.label=4;case 4:return wl++,[3,2];case 5:return hs&&(ba+=hs.copyBytesInto($a,ba),$a[ba++]=CharCodes$1.Newline),uo&&(ba+=uo.copyBytesInto($a,ba),$a[ba++]=CharCodes$1.Newline,$a[ba++]=CharCodes$1.Newline),ba+=xa.copyBytesInto($a,ba),[2,$a]}})})},us.prototype.computeIndirectObjectSize=function(is){var cs=is[0],lo=is[1],co=cs.sizeInBytes()+3,hs=lo.sizeInBytes()+9;return co+hs},us.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},us.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var is,cs,lo,co,hs,uo,xa,ba,$a,wl,Sl;return __generator$1(this,function(Cl){switch(Cl.label){case 0:is=PDFHeader.forVersion(1,7),cs=is.sizeInBytes()+2,lo=PDFCrossRefSection.create(),co=this.context.enumerateIndirectObjects(),hs=0,uo=co.length,Cl.label=1;case 1:return hs<uo?(xa=co[hs],ba=xa[0],lo.addEntry(ba,cs),cs+=this.computeIndirectObjectSize(xa),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:Cl.sent(),Cl.label=3;case 3:return hs++,[3,1];case 4:return $a=cs,cs+=lo.sizeInBytes()+1,wl=PDFTrailerDict.of(this.createTrailerDict()),cs+=wl.sizeInBytes()+2,Sl=PDFTrailer.forLastCrossRefSectionOffset($a),cs+=Sl.sizeInBytes(),[2,{size:cs,header:is,indirectObjects:co,xref:lo,trailerDict:wl,trailer:Sl}]}})})},us.forContext=function(is,cs){return new us(is,cs)},us}(),PDFInvalidObject=function(us){__extends$1(is,us);function is(cs){var lo=us.call(this)||this;return lo.data=cs,lo}return is.prototype.clone=function(){return is.of(this.data.slice())},is.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},is.prototype.sizeInBytes=function(){return this.data.length},is.prototype.copyBytesInto=function(cs,lo){for(var co=this.data.length,hs=0;hs<co;hs++)cs[lo++]=this.data[hs];return co},is.of=function(cs){return new is(cs)},is}(PDFObject),EntryType;(function(us){us[us.Deleted=0]="Deleted",us[us.Uncompressed=1]="Uncompressed",us[us.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(us){__extends$1(is,us);function is(cs,lo,co){co===void 0&&(co=!0);var hs=us.call(this,cs,co)||this;return hs.computeIndex=function(){for(var uo=[],xa=0,ba=0,$a=hs.entries.length;ba<$a;ba++){var wl=hs.entries[ba],Sl=hs.entries[ba-1];ba===0?uo.push(wl.ref.objectNumber):wl.ref.objectNumber-Sl.ref.objectNumber>1&&(uo.push(xa),uo.push(wl.ref.objectNumber),xa=0),xa+=1}return uo.push(xa),uo},hs.computeEntryTuples=function(){for(var uo=new Array(hs.entries.length),xa=0,ba=hs.entries.length;xa<ba;xa++){var $a=hs.entries[xa];if($a.type===EntryType.Deleted){var wl=$a.type,Sl=$a.nextFreeObjectNumber,Cl=$a.ref;uo[xa]=[wl,Sl,Cl.generationNumber]}if($a.type===EntryType.Uncompressed){var wl=$a.type,_l=$a.offset,Cl=$a.ref;uo[xa]=[wl,_l,Cl.generationNumber]}if($a.type===EntryType.Compressed){var wl=$a.type,Il=$a.objectStreamRef,Fl=$a.index;uo[xa]=[wl,Il.objectNumber,Fl]}}return uo},hs.computeMaxEntryByteWidths=function(){for(var uo=hs.entryTuplesCache.access(),xa=[0,0,0],ba=0,$a=uo.length;ba<$a;ba++){var wl=uo[ba],Sl=wl[0],Cl=wl[1],_l=wl[2],Il=sizeInBytes(Sl),Fl=sizeInBytes(Cl),Ml=sizeInBytes(_l);Il>xa[0]&&(xa[0]=Il),Fl>xa[1]&&(xa[1]=Fl),Ml>xa[2]&&(xa[2]=Ml)}return xa},hs.entries=lo||[],hs.entryTuplesCache=Cache.populatedBy(hs.computeEntryTuples),hs.maxByteWidthsCache=Cache.populatedBy(hs.computeMaxEntryByteWidths),hs.indexCache=Cache.populatedBy(hs.computeIndex),cs.set(PDFName.of("Type"),PDFName.of("XRef")),hs}return is.prototype.addDeletedEntry=function(cs,lo){var co=EntryType.Deleted;this.entries.push({type:co,ref:cs,nextFreeObjectNumber:lo}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},is.prototype.addUncompressedEntry=function(cs,lo){var co=EntryType.Uncompressed;this.entries.push({type:co,ref:cs,offset:lo}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},is.prototype.addCompressedEntry=function(cs,lo,co){var hs=EntryType.Compressed;this.entries.push({type:hs,ref:cs,objectStreamRef:lo,index:co}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},is.prototype.clone=function(cs){var lo=this,co=lo.dict,hs=lo.entries,uo=lo.encode;return is.of(co.clone(cs),hs.slice(),uo)},is.prototype.getContentsString=function(){for(var cs=this.entryTuplesCache.access(),lo=this.maxByteWidthsCache.access(),co="",hs=0,uo=cs.length;hs<uo;hs++){for(var xa=cs[hs],ba=xa[0],$a=xa[1],wl=xa[2],Sl=reverseArray(bytesFor(ba)),Cl=reverseArray(bytesFor($a)),_l=reverseArray(bytesFor(wl)),Il=lo[0]-1;Il>=0;Il--)co+=(Sl[Il]||0).toString(2);for(var Il=lo[1]-1;Il>=0;Il--)co+=(Cl[Il]||0).toString(2);for(var Il=lo[2]-1;Il>=0;Il--)co+=(_l[Il]||0).toString(2)}return co},is.prototype.getUnencodedContents=function(){for(var cs=this.entryTuplesCache.access(),lo=this.maxByteWidthsCache.access(),co=new Uint8Array(this.getUnencodedContentsSize()),hs=0,uo=0,xa=cs.length;uo<xa;uo++){for(var ba=cs[uo],$a=ba[0],wl=ba[1],Sl=ba[2],Cl=reverseArray(bytesFor($a)),_l=reverseArray(bytesFor(wl)),Il=reverseArray(bytesFor(Sl)),Fl=lo[0]-1;Fl>=0;Fl--)co[hs++]=Cl[Fl]||0;for(var Fl=lo[1]-1;Fl>=0;Fl--)co[hs++]=_l[Fl]||0;for(var Fl=lo[2]-1;Fl>=0;Fl--)co[hs++]=Il[Fl]||0}return co},is.prototype.getUnencodedContentsSize=function(){var cs=this.maxByteWidthsCache.access(),lo=sum$1(cs);return lo*this.entries.length},is.prototype.updateDict=function(){us.prototype.updateDict.call(this);var cs=this.maxByteWidthsCache.access(),lo=this.indexCache.access(),co=this.dict.context;this.dict.set(PDFName.of("W"),co.obj(cs)),this.dict.set(PDFName.of("Index"),co.obj(lo))},is.create=function(cs,lo){lo===void 0&&(lo=!0);var co=new is(cs,[],lo);return co.addDeletedEntry(PDFRef.of(0,65535),0),co},is.of=function(cs,lo,co){return co===void 0&&(co=!0),new is(cs,lo,co)},is}(PDFFlateStream),PDFStreamWriter=function(us){__extends$1(is,us);function is(cs,lo,co,hs){var uo=us.call(this,cs,lo)||this;return uo.encodeStreams=co,uo.objectsPerStream=hs,uo}return is.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo,xa,ba,$a,Il,Fl,wl,Tl,Sl,Cl,Ml,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,Nl;return __generator$1(this,function(zl){switch(zl.label){case 0:cs=this.context.largestObjectNumber+1,lo=PDFHeader.forVersion(1,7),co=lo.sizeInBytes()+2,hs=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),uo=[],xa=[],ba=[],$a=this.context.enumerateIndirectObjects(),Il=0,Fl=$a.length,zl.label=1;case 1:return Il<Fl?(wl=$a[Il],Tl=wl[0],Sl=wl[1],Cl=Tl===this.context.trailerInfo.Encrypt||Sl instanceof PDFStream||Sl instanceof PDFInvalidObject||Tl.generationNumber!==0,Cl?(uo.push(wl),hs.addUncompressedEntry(Tl,co),co+=this.computeIndirectObjectSize(wl),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:zl.sent(),zl.label=3;case 3:return[3,5];case 4:Ml=last(xa),_l=last(ba),(!Ml||Ml.length%this.objectsPerStream===0)&&(Ml=[],xa.push(Ml),_l=PDFRef.of(cs++),ba.push(_l)),hs.addCompressedEntry(Tl,_l,Ml.length),Ml.push(wl),zl.label=5;case 5:return Il++,[3,1];case 6:Il=0,Fl=xa.length,zl.label=7;case 7:return Il<Fl?(Ml=xa[Il],Tl=ba[Il],Dl=PDFObjectStream.withContextAndObjects(this.context,Ml,this.encodeStreams),hs.addUncompressedEntry(Tl,co),co+=this.computeIndirectObjectSize([Tl,Dl]),uo.push([Tl,Dl]),this.shouldWaitForTick(Ml.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:zl.sent(),zl.label=9;case 9:return Il++,[3,7];case 10:return Bl=PDFRef.of(cs++),hs.dict.set(PDFName.of("Size"),PDFNumber.of(cs)),hs.addUncompressedEntry(Bl,co),Ll=co,co+=this.computeIndirectObjectSize([Bl,hs]),uo.push([Bl,hs]),Nl=PDFTrailer.forLastCrossRefSectionOffset(Ll),co+=Nl.sizeInBytes(),[2,{size:co,header:lo,indirectObjects:uo,trailer:Nl}]}})})},is.forContext=function(cs,lo,co,hs){return co===void 0&&(co=!0),hs===void 0&&(hs=50),new is(cs,lo,co,hs)},is}(PDFWriter),PDFHexString=function(us){__extends$1(is,us);function is(cs){var lo=us.call(this)||this;return lo.value=cs,lo}return is.prototype.asBytes=function(){for(var cs=this.value+(this.value.length%2===1?"0":""),lo=cs.length,co=new Uint8Array(cs.length/2),hs=0,uo=0;hs<lo;){var xa=parseInt(cs.substring(hs,hs+2),16);co[uo]=xa,hs+=2,uo+=1}return co},is.prototype.decodeText=function(){var cs=this.asBytes();return hasUtf16BOM(cs)?utf16Decode(cs):pdfDocEncodingDecode(cs)},is.prototype.decodeDate=function(){var cs=this.decodeText(),lo=parseDate(cs);if(!lo)throw new InvalidPDFDateStringError(cs);return lo},is.prototype.asString=function(){return this.value},is.prototype.clone=function(){return is.of(this.value)},is.prototype.toString=function(){return"<"+this.value+">"},is.prototype.sizeInBytes=function(){return this.value.length+2},is.prototype.copyBytesInto=function(cs,lo){return cs[lo++]=CharCodes$1.LessThan,lo+=copyStringIntoBuffer(this.value,cs,lo),cs[lo++]=CharCodes$1.GreaterThan,this.value.length+2},is.of=function(cs){return new is(cs)},is.fromText=function(cs){for(var lo=utf16Encode(cs),co="",hs=0,uo=lo.length;hs<uo;hs++)co+=toHexStringOfMinLength(lo[hs],4);return new is(co)},is}(PDFObject),StandardFontEmbedder=function(){function us(is,cs){this.encoding=is===FontNames.ZapfDingbats?Encodings.ZapfDingbats:is===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(is),this.fontName=this.font.FontName,this.customName=cs}return us.prototype.encodeText=function(is){for(var cs=this.encodeTextAsGlyphs(is),lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]=toHexString(cs[co].code);return PDFHexString.of(lo.join(""))},us.prototype.widthOfTextAtSize=function(is,cs){for(var lo=this.encodeTextAsGlyphs(is),co=0,hs=0,uo=lo.length;hs<uo;hs++){var xa=lo[hs].name,ba=(lo[hs+1]||{}).name,$a=this.font.getXAxisKerningForPair(xa,ba)||0;co+=this.widthOfGlyph(xa)+$a}var wl=cs/1e3;return co*wl},us.prototype.heightOfFontAtSize=function(is,cs){cs===void 0&&(cs={});var lo=cs.descender,co=lo===void 0?!0:lo,hs=this.font,uo=hs.Ascender,xa=hs.Descender,ba=hs.FontBBox,$a=uo||ba[3],wl=xa||ba[1],Sl=$a-wl;return co||(Sl+=xa||0),Sl/1e3*is},us.prototype.sizeOfFontAtHeight=function(is){var cs=this.font,lo=cs.Ascender,co=cs.Descender,hs=cs.FontBBox,uo=lo||hs[3],xa=co||hs[1];return 1e3*is/(uo-xa)},us.prototype.embedIntoContext=function(is,cs){var lo=is.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return cs?(is.assign(cs,lo),cs):is.register(lo)},us.prototype.widthOfGlyph=function(is){return this.font.getWidthOfGlyph(is)||250},us.prototype.encodeTextAsGlyphs=function(is){for(var cs=Array.from(is),lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++){var uo=toCodePoint(cs[co]);lo[co]=this.encoding.encodeUnicodeCodePoint(uo)}return lo},us.for=function(is,cs){return new us(is,cs)},us}(),createCmap=function(us,is){for(var cs=new Array(us.length),lo=0,co=us.length;lo<co;lo++){var hs=us[lo],uo=cmapHexFormat(cmapHexString(is(hs))),xa=cmapHexFormat.apply(void 0,hs.codePoints.map(cmapCodePointFormat));cs[lo]=[uo,xa]}return fillCmapTemplate(cs)},fillCmapTemplate=function(us){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+us.length+` beginbfchar
`+us.map(function(is){var cs=is[0],lo=is[1];return cs+" "+lo}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var us=[],is=0;is<arguments.length;is++)us[is]=arguments[is];return"<"+us.join("")+">"},cmapHexString=function(us){return toHexStringOfMinLength(us,4)},cmapCodePointFormat=function(us){if(isWithinBMP(us))return cmapHexString(us);if(hasSurrogates(us)){var is=highSurrogate(us),cs=lowSurrogate(us);return""+cmapHexString(is)+cmapHexString(cs)}var lo=toHexString(us),co="0x"+lo+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(co)},makeFontFlags=function(us){var is=0,cs=function(lo){is|=1<<lo-1};return us.fixedPitch&&cs(1),us.serif&&cs(2),cs(3),us.script&&cs(4),us.nonsymbolic&&cs(6),us.italic&&cs(7),us.allCap&&cs(17),us.smallCap&&cs(18),us.forceBold&&cs(19),is},deriveFontFlags=function(us){var is=us["OS/2"]?us["OS/2"].sFamilyClass:0,cs=makeFontFlags({fixedPitch:us.post.isFixedPitch,serif:1<=is&&is<=7,script:is===10,italic:us.head.macStyle.italic});return cs},PDFString=function(us){__extends$1(is,us);function is(cs){var lo=us.call(this)||this;return lo.value=cs,lo}return is.prototype.asBytes=function(){for(var cs=[],lo="",co=!1,hs=function(Sl){Sl!==void 0&&cs.push(Sl),co=!1},uo=0,xa=this.value.length;uo<xa;uo++){var ba=this.value[uo],$a=toCharCode(ba),wl=this.value[uo+1];co?$a===CharCodes$1.Newline||$a===CharCodes$1.CarriageReturn?hs():$a===CharCodes$1.n?hs(CharCodes$1.Newline):$a===CharCodes$1.r?hs(CharCodes$1.CarriageReturn):$a===CharCodes$1.t?hs(CharCodes$1.Tab):$a===CharCodes$1.b?hs(CharCodes$1.Backspace):$a===CharCodes$1.f?hs(CharCodes$1.FormFeed):$a===CharCodes$1.LeftParen?hs(CharCodes$1.LeftParen):$a===CharCodes$1.RightParen?hs(CharCodes$1.RightParen):$a===CharCodes$1.Backspace?hs(CharCodes$1.BackSlash):$a>=CharCodes$1.Zero&&$a<=CharCodes$1.Seven?(lo+=ba,(lo.length===3||!(wl>="0"&&wl<="7"))&&(hs(parseInt(lo,8)),lo="")):hs($a):$a===CharCodes$1.BackSlash?co=!0:hs($a)}return new Uint8Array(cs)},is.prototype.decodeText=function(){var cs=this.asBytes();return hasUtf16BOM(cs)?utf16Decode(cs):pdfDocEncodingDecode(cs)},is.prototype.decodeDate=function(){var cs=this.decodeText(),lo=parseDate(cs);if(!lo)throw new InvalidPDFDateStringError(cs);return lo},is.prototype.asString=function(){return this.value},is.prototype.clone=function(){return is.of(this.value)},is.prototype.toString=function(){return"("+this.value+")"},is.prototype.sizeInBytes=function(){return this.value.length+2},is.prototype.copyBytesInto=function(cs,lo){return cs[lo++]=CharCodes$1.LeftParen,lo+=copyStringIntoBuffer(this.value,cs,lo),cs[lo++]=CharCodes$1.RightParen,this.value.length+2},is.of=function(cs){return new is(cs)},is.fromDate=function(cs){var lo=padStart$1(String(cs.getUTCFullYear()),4,"0"),co=padStart$1(String(cs.getUTCMonth()+1),2,"0"),hs=padStart$1(String(cs.getUTCDate()),2,"0"),uo=padStart$1(String(cs.getUTCHours()),2,"0"),xa=padStart$1(String(cs.getUTCMinutes()),2,"0"),ba=padStart$1(String(cs.getUTCSeconds()),2,"0");return new is("D:"+lo+co+hs+uo+xa+ba+"Z")},is}(PDFObject),CustomFontEmbedder=function(){function us(is,cs,lo,co){var hs=this;this.allGlyphsInFontSortedById=function(){for(var uo=new Array(hs.font.characterSet.length),xa=0,ba=uo.length;xa<ba;xa++){var $a=hs.font.characterSet[xa];uo[xa]=hs.font.glyphForCodePoint($a)}return sortedUniq(uo.sort(byAscendingId),function(wl){return wl.id})},this.font=is,this.scale=1e3/this.font.unitsPerEm,this.fontData=cs,this.fontName=this.font.postscriptName||"Font",this.customName=lo,this.fontFeatures=co,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return us.for=function(is,cs,lo,co){return __awaiter$1(this,void 0,void 0,function(){var hs;return __generator$1(this,function(uo){switch(uo.label){case 0:return[4,is.create(cs)];case 1:return hs=uo.sent(),[2,new us(hs,cs,lo,co)]}})})},us.prototype.encodeText=function(is){for(var cs=this.font.layout(is,this.fontFeatures).glyphs,lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]=toHexStringOfMinLength(cs[co].id,4);return PDFHexString.of(lo.join(""))},us.prototype.widthOfTextAtSize=function(is,cs){for(var lo=this.font.layout(is,this.fontFeatures).glyphs,co=0,hs=0,uo=lo.length;hs<uo;hs++)co+=lo[hs].advanceWidth*this.scale;var xa=cs/1e3;return co*xa},us.prototype.heightOfFontAtSize=function(is,cs){cs===void 0&&(cs={});var lo=cs.descender,co=lo===void 0?!0:lo,hs=this.font,uo=hs.ascent,xa=hs.descent,ba=hs.bbox,$a=(uo||ba.maxY)*this.scale,wl=(xa||ba.minY)*this.scale,Sl=$a-wl;return co||(Sl-=Math.abs(xa)||0),Sl/1e3*is},us.prototype.sizeOfFontAtHeight=function(is){var cs=this.font,lo=cs.ascent,co=cs.descent,hs=cs.bbox,uo=(lo||hs.maxY)*this.scale,xa=(co||hs.minY)*this.scale;return 1e3*is/(uo-xa)},us.prototype.embedIntoContext=function(is,cs){return this.baseFontName=this.customName||is.addRandomSuffix(this.fontName),this.embedFontDict(is,cs)},us.prototype.embedFontDict=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo,co,hs;return __generator$1(this,function(uo){switch(uo.label){case 0:return[4,this.embedCIDFontDict(is)];case 1:return lo=uo.sent(),co=this.embedUnicodeCmap(is),hs=is.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[lo],ToUnicode:co}),cs?(is.assign(cs,hs),[2,cs]):[2,is.register(hs)]}})})},us.prototype.isCFF=function(){return this.font.cff},us.prototype.embedCIDFontDict=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo;return __generator$1(this,function(co){switch(co.label){case 0:return[4,this.embedFontDescriptor(is)];case 1:return cs=co.sent(),lo=is.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:cs,W:this.computeWidths()}),[2,is.register(lo)]}})})},us.prototype.embedFontDescriptor=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml;return __generator$1(this,function(Tl){switch(Tl.label){case 0:return[4,this.embedFontStream(is)];case 1:return cs=Tl.sent(),lo=this.scale,co=this.font,hs=co.italicAngle,uo=co.ascent,xa=co.descent,ba=co.capHeight,$a=co.xHeight,wl=this.font.bbox,Sl=wl.minX,Cl=wl.minY,_l=wl.maxX,Il=wl.maxY,Fl=is.obj((Ml={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[Sl*lo,Cl*lo,_l*lo,Il*lo],ItalicAngle:hs,Ascent:uo*lo,Descent:xa*lo,CapHeight:(ba||uo)*lo,XHeight:($a||0)*lo,StemV:0},Ml[this.isCFF()?"FontFile3":"FontFile2"]=cs,Ml)),[2,is.register(Fl)]}})})},us.prototype.serializeFont=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(is){return[2,this.fontData]})})},us.prototype.embedFontStream=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co;return __generator$1(this,function(hs){switch(hs.label){case 0:return co=(lo=is).flateStream,[4,this.serializeFont()];case 1:return cs=co.apply(lo,[hs.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,is.register(cs)]}})})},us.prototype.embedUnicodeCmap=function(is){var cs=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),lo=is.flateStream(cs);return is.register(lo)},us.prototype.glyphId=function(is){return is?is.id:-1},us.prototype.computeWidths=function(){for(var is=this.glyphCache.access(),cs=[],lo=[],co=0,hs=is.length;co<hs;co++){var uo=is[co],xa=is[co-1],ba=this.glyphId(uo),$a=this.glyphId(xa);co===0?cs.push(ba):ba-$a!==1&&(cs.push(lo),cs.push(ba),lo=[]),lo.push(uo.advanceWidth*this.scale)}return cs.push(lo),cs},us}(),CustomFontSubsetEmbedder=function(us){__extends$1(is,us);function is(cs,lo,co,hs){var uo=us.call(this,cs,lo,co,hs)||this;return uo.subset=uo.font.createSubset(),uo.glyphs=[],uo.glyphCache=Cache.populatedBy(function(){return uo.glyphs}),uo.glyphIdMap=new Map,uo}return is.for=function(cs,lo,co,hs){return __awaiter$1(this,void 0,void 0,function(){var uo;return __generator$1(this,function(xa){switch(xa.label){case 0:return[4,cs.create(lo)];case 1:return uo=xa.sent(),[2,new is(uo,lo,co,hs)]}})})},is.prototype.encodeText=function(cs){for(var lo=this.font.layout(cs,this.fontFeatures).glyphs,co=new Array(lo.length),hs=0,uo=lo.length;hs<uo;hs++){var xa=lo[hs],ba=this.subset.includeGlyph(xa);this.glyphs[ba-1]=xa,this.glyphIdMap.set(xa.id,ba),co[hs]=toHexStringOfMinLength(ba,4)}return this.glyphCache.invalidate(),PDFHexString.of(co.join(""))},is.prototype.isCFF=function(){return this.subset.cff},is.prototype.glyphId=function(cs){return cs?this.glyphIdMap.get(cs.id):-1},is.prototype.serializeFont=function(){var cs=this;return new Promise(function(lo,co){var hs=[];cs.subset.encodeStream().on("data",function(uo){return hs.push(uo)}).on("end",function(){return lo(mergeUint8Arrays(hs))}).on("error",function(uo){return co(uo)})})},is}(CustomFontEmbedder),AFRelationship;(function(us){us.Source="Source",us.Data="Data",us.Alternative="Alternative",us.Supplement="Supplement",us.EncryptedPayload="EncryptedPayload",us.FormData="EncryptedPayload",us.Schema="Schema",us.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function us(is,cs,lo){lo===void 0&&(lo={}),this.fileData=is,this.fileName=cs,this.options=lo}return us.for=function(is,cs,lo){return lo===void 0&&(lo={}),new us(is,cs,lo)},us.prototype.embedIntoContext=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo,co,hs,uo,xa,ba,$a,wl,Sl;return __generator$1(this,function(Cl){return lo=this.options,co=lo.mimeType,hs=lo.description,uo=lo.creationDate,xa=lo.modificationDate,ba=lo.afRelationship,$a=is.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:co??void 0,Params:{Size:this.fileData.length,CreationDate:uo?PDFString.fromDate(uo):void 0,ModDate:xa?PDFString.fromDate(xa):void 0}}),wl=is.register($a),Sl=is.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:wl},Desc:hs?PDFHexString.fromText(hs):void 0,AFRelationship:ba??void 0}),cs?(is.assign(cs,Sl),[2,cs]):[2,is.register(Sl)]})})},us}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(us){us.DeviceGray="DeviceGray",us.DeviceRGB="DeviceRGB",us.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function us(is,cs,lo,co,hs){this.imageData=is,this.bitsPerComponent=cs,this.width=lo,this.height=co,this.colorSpace=hs}return us.for=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl;return __generator$1(this,function(Cl){if(cs=new DataView(is.buffer),lo=cs.getUint16(0),lo!==65496)throw new Error("SOI not found in JPEG");for(co=2;co<cs.byteLength&&(hs=cs.getUint16(co),co+=2,!MARKERS.includes(hs));)co+=cs.getUint16(co);if(!MARKERS.includes(hs))throw new Error("Invalid JPEG");if(co+=2,uo=cs.getUint8(co++),xa=cs.getUint16(co),co+=2,ba=cs.getUint16(co),co+=2,$a=cs.getUint8(co++),wl=ChannelToColorSpace[$a],!wl)throw new Error("Unknown JPEG channel.");return Sl=wl,[2,new us(is,uo,ba,xa,Sl)]})})},us.prototype.embedIntoContext=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo;return __generator$1(this,function(co){return lo=is.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),cs?(is.assign(cs,lo),[2,cs]):[2,is.register(lo)]})})},us}(),UPNG={};UPNG.toRGBA8=function(us){var is=us.width,cs=us.height;if(us.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(us.data,is,cs,us).buffer];var lo=[];us.frames[0].data==null&&(us.frames[0].data=us.data);for(var co=is*cs*4,hs=new Uint8Array(co),uo=new Uint8Array(co),xa=new Uint8Array(co),ba=0;ba<us.frames.length;ba++){var $a=us.frames[ba],wl=$a.rect.x,Sl=$a.rect.y,Cl=$a.rect.width,_l=$a.rect.height,Il=UPNG.toRGBA8.decodeImage($a.data,Cl,_l,us);if(ba!=0)for(var Fl=0;Fl<co;Fl++)xa[Fl]=hs[Fl];if($a.blend==0?UPNG._copyTile(Il,Cl,_l,hs,is,cs,wl,Sl,0):$a.blend==1&&UPNG._copyTile(Il,Cl,_l,hs,is,cs,wl,Sl,1),lo.push(hs.buffer.slice(0)),$a.dispose!=0){if($a.dispose==1)UPNG._copyTile(uo,Cl,_l,hs,is,cs,wl,Sl,0);else if($a.dispose==2)for(var Fl=0;Fl<co;Fl++)hs[Fl]=xa[Fl]}}return lo};UPNG.toRGBA8.decodeImage=function(us,is,cs,lo){var co=is*cs,hs=UPNG.decode._getBPP(lo),uo=Math.ceil(is*hs/8),xa=new Uint8Array(co*4),ba=new Uint32Array(xa.buffer),$a=lo.ctype,wl=lo.depth,Sl=UPNG._bin.readUshort;if($a==6){var Cl=co<<2;if(wl==8)for(var _l=0;_l<Cl;_l+=4)xa[_l]=us[_l],xa[_l+1]=us[_l+1],xa[_l+2]=us[_l+2],xa[_l+3]=us[_l+3];if(wl==16)for(var _l=0;_l<Cl;_l++)xa[_l]=us[_l<<1]}else if($a==2){var Il=lo.tabs.tRNS;if(Il==null){if(wl==8)for(var _l=0;_l<co;_l++){var Fl=_l*3;ba[_l]=255<<24|us[Fl+2]<<16|us[Fl+1]<<8|us[Fl]}if(wl==16)for(var _l=0;_l<co;_l++){var Fl=_l*6;ba[_l]=255<<24|us[Fl+4]<<16|us[Fl+2]<<8|us[Fl]}}else{var Ml=Il[0],Tl=Il[1],Dl=Il[2];if(wl==8)for(var _l=0;_l<co;_l++){var Bl=_l<<2,Fl=_l*3;ba[_l]=255<<24|us[Fl+2]<<16|us[Fl+1]<<8|us[Fl],us[Fl]==Ml&&us[Fl+1]==Tl&&us[Fl+2]==Dl&&(xa[Bl+3]=0)}if(wl==16)for(var _l=0;_l<co;_l++){var Bl=_l<<2,Fl=_l*6;ba[_l]=255<<24|us[Fl+4]<<16|us[Fl+2]<<8|us[Fl],Sl(us,Fl)==Ml&&Sl(us,Fl+2)==Tl&&Sl(us,Fl+4)==Dl&&(xa[Bl+3]=0)}}}else if($a==3){var Ll=lo.tabs.PLTE,Nl=lo.tabs.tRNS,zl=Nl?Nl.length:0;if(wl==1)for(var $l=0;$l<cs;$l++)for(var Vl=$l*uo,Gl=$l*is,_l=0;_l<is;_l++){var Bl=Gl+_l<<2,iu=us[Vl+(_l>>3)]>>7-((_l&7)<<0)&1,nu=3*iu;xa[Bl]=Ll[nu],xa[Bl+1]=Ll[nu+1],xa[Bl+2]=Ll[nu+2],xa[Bl+3]=iu<zl?Nl[iu]:255}if(wl==2)for(var $l=0;$l<cs;$l++)for(var Vl=$l*uo,Gl=$l*is,_l=0;_l<is;_l++){var Bl=Gl+_l<<2,iu=us[Vl+(_l>>2)]>>6-((_l&3)<<1)&3,nu=3*iu;xa[Bl]=Ll[nu],xa[Bl+1]=Ll[nu+1],xa[Bl+2]=Ll[nu+2],xa[Bl+3]=iu<zl?Nl[iu]:255}if(wl==4)for(var $l=0;$l<cs;$l++)for(var Vl=$l*uo,Gl=$l*is,_l=0;_l<is;_l++){var Bl=Gl+_l<<2,iu=us[Vl+(_l>>1)]>>4-((_l&1)<<2)&15,nu=3*iu;xa[Bl]=Ll[nu],xa[Bl+1]=Ll[nu+1],xa[Bl+2]=Ll[nu+2],xa[Bl+3]=iu<zl?Nl[iu]:255}if(wl==8)for(var _l=0;_l<co;_l++){var Bl=_l<<2,iu=us[_l],nu=3*iu;xa[Bl]=Ll[nu],xa[Bl+1]=Ll[nu+1],xa[Bl+2]=Ll[nu+2],xa[Bl+3]=iu<zl?Nl[iu]:255}}else if($a==4){if(wl==8)for(var _l=0;_l<co;_l++){var Bl=_l<<2,Jl=_l<<1,lu=us[Jl];xa[Bl]=lu,xa[Bl+1]=lu,xa[Bl+2]=lu,xa[Bl+3]=us[Jl+1]}if(wl==16)for(var _l=0;_l<co;_l++){var Bl=_l<<2,Jl=_l<<2,lu=us[Jl];xa[Bl]=lu,xa[Bl+1]=lu,xa[Bl+2]=lu,xa[Bl+3]=us[Jl+2]}}else if($a==0)for(var Ml=lo.tabs.tRNS?lo.tabs.tRNS:-1,$l=0;$l<cs;$l++){var ju=$l*uo,zu=$l*is;if(wl==1)for(var Wu=0;Wu<is;Wu++){var lu=255*(us[ju+(Wu>>>3)]>>>7-(Wu&7)&1),qu=lu==Ml*255?0:255;ba[zu+Wu]=qu<<24|lu<<16|lu<<8|lu}else if(wl==2)for(var Wu=0;Wu<is;Wu++){var lu=85*(us[ju+(Wu>>>2)]>>>6-((Wu&3)<<1)&3),qu=lu==Ml*85?0:255;ba[zu+Wu]=qu<<24|lu<<16|lu<<8|lu}else if(wl==4)for(var Wu=0;Wu<is;Wu++){var lu=17*(us[ju+(Wu>>>1)]>>>4-((Wu&1)<<2)&15),qu=lu==Ml*17?0:255;ba[zu+Wu]=qu<<24|lu<<16|lu<<8|lu}else if(wl==8)for(var Wu=0;Wu<is;Wu++){var lu=us[ju+Wu],qu=lu==Ml?0:255;ba[zu+Wu]=qu<<24|lu<<16|lu<<8|lu}else if(wl==16)for(var Wu=0;Wu<is;Wu++){var lu=us[ju+(Wu<<1)],qu=Sl(us,ju+(Wu<<_l))==Ml?0:255;ba[zu+Wu]=qu<<24|lu<<16|lu<<8|lu}}return xa};UPNG.decode=function(us){for(var is=new Uint8Array(us),cs=8,lo=UPNG._bin,co=lo.readUshort,hs=lo.readUint,uo={tabs:{},frames:[]},xa=new Uint8Array(is.length),ba=0,$a,wl=0,Sl=[137,80,78,71,13,10,26,10],Cl=0;Cl<8;Cl++)if(is[Cl]!=Sl[Cl])throw"The input is not a PNG file!";for(;cs<is.length;){var _l=lo.readUint(is,cs);cs+=4;var Il=lo.readASCII(is,cs,4);if(cs+=4,Il=="IHDR")UPNG.decode._IHDR(is,cs,uo);else if(Il=="IDAT"){for(var Cl=0;Cl<_l;Cl++)xa[ba+Cl]=is[cs+Cl];ba+=_l}else if(Il=="acTL")uo.tabs[Il]={num_frames:hs(is,cs),num_plays:hs(is,cs+4)},$a=new Uint8Array(is.length);else if(Il=="fcTL"){if(wl!=0){var Fl=uo.frames[uo.frames.length-1];Fl.data=UPNG.decode._decompress(uo,$a.slice(0,wl),Fl.rect.width,Fl.rect.height),wl=0}var Ml={x:hs(is,cs+12),y:hs(is,cs+16),width:hs(is,cs+4),height:hs(is,cs+8)},Tl=co(is,cs+22);Tl=co(is,cs+20)/(Tl==0?100:Tl);var Dl={rect:Ml,delay:Math.round(Tl*1e3),dispose:is[cs+24],blend:is[cs+25]};uo.frames.push(Dl)}else if(Il=="fdAT"){for(var Cl=0;Cl<_l-4;Cl++)$a[wl+Cl]=is[cs+Cl+4];wl+=_l-4}else if(Il=="pHYs")uo.tabs[Il]=[lo.readUint(is,cs),lo.readUint(is,cs+4),is[cs+8]];else if(Il=="cHRM"){uo.tabs[Il]=[];for(var Cl=0;Cl<8;Cl++)uo.tabs[Il].push(lo.readUint(is,cs+Cl*4))}else if(Il=="tEXt"){uo.tabs[Il]==null&&(uo.tabs[Il]={});var Bl=lo.nextZero(is,cs),Ll=lo.readASCII(is,cs,Bl-cs),Nl=lo.readASCII(is,Bl+1,cs+_l-Bl-1);uo.tabs[Il][Ll]=Nl}else if(Il=="iTXt"){uo.tabs[Il]==null&&(uo.tabs[Il]={});var Bl=0,zl=cs;Bl=lo.nextZero(is,zl);var Ll=lo.readASCII(is,zl,Bl-zl);zl=Bl+1,is[zl],is[zl+1],zl+=2,Bl=lo.nextZero(is,zl),lo.readASCII(is,zl,Bl-zl),zl=Bl+1,Bl=lo.nextZero(is,zl),lo.readUTF8(is,zl,Bl-zl),zl=Bl+1;var Nl=lo.readUTF8(is,zl,_l-(zl-cs));uo.tabs[Il][Ll]=Nl}else if(Il=="PLTE")uo.tabs[Il]=lo.readBytes(is,cs,_l);else if(Il=="hIST"){var $l=uo.tabs.PLTE.length/3;uo.tabs[Il]=[];for(var Cl=0;Cl<$l;Cl++)uo.tabs[Il].push(co(is,cs+Cl*2))}else if(Il=="tRNS")uo.ctype==3?uo.tabs[Il]=lo.readBytes(is,cs,_l):uo.ctype==0?uo.tabs[Il]=co(is,cs):uo.ctype==2&&(uo.tabs[Il]=[co(is,cs),co(is,cs+2),co(is,cs+4)]);else if(Il=="gAMA")uo.tabs[Il]=lo.readUint(is,cs)/1e5;else if(Il=="sRGB")uo.tabs[Il]=is[cs];else if(Il=="bKGD")uo.ctype==0||uo.ctype==4?uo.tabs[Il]=[co(is,cs)]:uo.ctype==2||uo.ctype==6?uo.tabs[Il]=[co(is,cs),co(is,cs+2),co(is,cs+4)]:uo.ctype==3&&(uo.tabs[Il]=is[cs]);else if(Il=="IEND")break;cs+=_l,lo.readUint(is,cs),cs+=4}if(wl!=0){var Fl=uo.frames[uo.frames.length-1];Fl.data=UPNG.decode._decompress(uo,$a.slice(0,wl),Fl.rect.width,Fl.rect.height),wl=0}return uo.data=UPNG.decode._decompress(uo,xa,uo.width,uo.height),delete uo.compress,delete uo.interlace,delete uo.filter,uo};UPNG.decode._decompress=function(us,is,cs,lo){var co=UPNG.decode._getBPP(us),hs=Math.ceil(cs*co/8),uo=new Uint8Array((hs+1+us.interlace)*lo);return is=UPNG.decode._inflate(is,uo),us.interlace==0?is=UPNG.decode._filterZero(is,us,0,cs,lo):us.interlace==1&&(is=UPNG.decode._readInterlace(is,us)),is};UPNG.decode._inflate=function(us,is){var cs=UPNG.inflateRaw(new Uint8Array(us.buffer,2,us.length-6),is);return cs};UPNG.inflateRaw=function(){var us={};return us.H={},us.H.N=function(is,cs){var lo=Uint8Array,co=0,hs=0,uo=0,xa=0,ba=0,$a=0,wl=0,Sl=0,Cl=0,_l,Il;if(is[0]==3&&is[1]==0)return cs||new lo(0);var Fl=us.H,Ml=Fl.b,Tl=Fl.e,Dl=Fl.R,Bl=Fl.n,Ll=Fl.A,Nl=Fl.Z,zl=Fl.m,$l=cs==null;for($l&&(cs=new lo(is.length>>>2<<3));co==0;){if(co=Ml(is,Cl,1),hs=Ml(is,Cl+1,2),Cl+=3,hs==0){Cl&7&&(Cl+=8-(Cl&7));var Vl=(Cl>>>3)+4,Gl=is[Vl-4]|is[Vl-3]<<8;$l&&(cs=us.H.W(cs,Sl+Gl)),cs.set(new lo(is.buffer,is.byteOffset+Vl,Gl),Sl),Cl=Vl+Gl<<3,Sl+=Gl;continue}if($l&&(cs=us.H.W(cs,Sl+(1<<17))),hs==1&&(_l=zl.J,Il=zl.h,$a=511,wl=31),hs==2){uo=Tl(is,Cl,5)+257,xa=Tl(is,Cl+5,5)+1,ba=Tl(is,Cl+10,4)+4,Cl+=14;for(var iu=1,nu=0;nu<38;nu+=2)zl.Q[nu]=0,zl.Q[nu+1]=0;for(var nu=0;nu<ba;nu++){var Jl=Tl(is,Cl+nu*3,3);zl.Q[(zl.X[nu]<<1)+1]=Jl,Jl>iu&&(iu=Jl)}Cl+=3*ba,Bl(zl.Q,iu),Ll(zl.Q,iu,zl.u),_l=zl.w,Il=zl.d,Cl=Dl(zl.u,(1<<iu)-1,uo+xa,is,Cl,zl.v);var lu=Fl.V(zl.v,0,uo,zl.C);$a=(1<<lu)-1;var ju=Fl.V(zl.v,uo,xa,zl.D);wl=(1<<ju)-1,Bl(zl.C,lu),Ll(zl.C,lu,_l),Bl(zl.D,ju),Ll(zl.D,ju,Il)}for(;;){var zu=_l[Nl(is,Cl)&$a];Cl+=zu&15;var Wu=zu>>>4;if(!(Wu>>>8))cs[Sl++]=Wu;else{if(Wu==256)break;var qu=Sl+Wu-254;if(Wu>264){var Mu=zl.q[Wu-257];qu=Sl+(Mu>>>3)+Tl(is,Cl,Mu&7),Cl+=Mu&7}var mu=Il[Nl(is,Cl)&wl];Cl+=mu&15;var uu=mu>>>4,cu=zl.c[uu],ru=(cu>>>4)+Ml(is,Cl,cu&15);for(Cl+=cu&15;Sl<qu;)cs[Sl]=cs[Sl++-ru],cs[Sl]=cs[Sl++-ru],cs[Sl]=cs[Sl++-ru],cs[Sl]=cs[Sl++-ru];Sl=qu}}}return cs.length==Sl?cs:cs.slice(0,Sl)},us.H.W=function(is,cs){var lo=is.length;if(cs<=lo)return is;var co=new Uint8Array(lo<<1);return co.set(is,0),co},us.H.R=function(is,cs,lo,co,hs,uo){for(var xa=us.H.e,ba=us.H.Z,$a=0;$a<lo;){var wl=is[ba(co,hs)&cs];hs+=wl&15;var Sl=wl>>>4;if(Sl<=15)uo[$a]=Sl,$a++;else{var Cl=0,_l=0;Sl==16?(_l=3+xa(co,hs,2),hs+=2,Cl=uo[$a-1]):Sl==17?(_l=3+xa(co,hs,3),hs+=3):Sl==18&&(_l=11+xa(co,hs,7),hs+=7);for(var Il=$a+_l;$a<Il;)uo[$a]=Cl,$a++}}return hs},us.H.V=function(is,cs,lo,co){for(var hs=0,uo=0,xa=co.length>>>1;uo<lo;){var ba=is[uo+cs];co[uo<<1]=0,co[(uo<<1)+1]=ba,ba>hs&&(hs=ba),uo++}for(;uo<xa;)co[uo<<1]=0,co[(uo<<1)+1]=0,uo++;return hs},us.H.n=function(is,cs){for(var lo=us.H.m,co=is.length,hs,uo,xa,ba,$a,wl=lo.j,ba=0;ba<=cs;ba++)wl[ba]=0;for(ba=1;ba<co;ba+=2)wl[is[ba]]++;var Sl=lo.K;for(hs=0,wl[0]=0,uo=1;uo<=cs;uo++)hs=hs+wl[uo-1]<<1,Sl[uo]=hs;for(xa=0;xa<co;xa+=2)$a=is[xa+1],$a!=0&&(is[xa]=Sl[$a],Sl[$a]++)},us.H.A=function(is,cs,lo){for(var co=is.length,hs=us.H.m,uo=hs.r,xa=0;xa<co;xa+=2)if(is[xa+1]!=0)for(var ba=xa>>1,$a=is[xa+1],wl=ba<<4|$a,Sl=cs-$a,Cl=is[xa]<<Sl,_l=Cl+(1<<Sl);Cl!=_l;){var Il=uo[Cl]>>>15-cs;lo[Il]=wl,Cl++}},us.H.l=function(is,cs){for(var lo=us.H.m.r,co=15-cs,hs=0;hs<is.length;hs+=2){var uo=is[hs]<<cs-is[hs+1];is[hs]=lo[uo]>>>co}},us.H.M=function(is,cs,lo){lo=lo<<(cs&7);var co=cs>>>3;is[co]|=lo,is[co+1]|=lo>>>8},us.H.I=function(is,cs,lo){lo=lo<<(cs&7);var co=cs>>>3;is[co]|=lo,is[co+1]|=lo>>>8,is[co+2]|=lo>>>16},us.H.e=function(is,cs,lo){return(is[cs>>>3]|is[(cs>>>3)+1]<<8)>>>(cs&7)&(1<<lo)-1},us.H.b=function(is,cs,lo){return(is[cs>>>3]|is[(cs>>>3)+1]<<8|is[(cs>>>3)+2]<<16)>>>(cs&7)&(1<<lo)-1},us.H.Z=function(is,cs){return(is[cs>>>3]|is[(cs>>>3)+1]<<8|is[(cs>>>3)+2]<<16)>>>(cs&7)},us.H.i=function(is,cs){return(is[cs>>>3]|is[(cs>>>3)+1]<<8|is[(cs>>>3)+2]<<16|is[(cs>>>3)+3]<<24)>>>(cs&7)},us.H.m=function(){var is=Uint16Array,cs=Uint32Array;return{K:new is(16),j:new is(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new is(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new cs(32),J:new is(512),_:[],h:new is(32),$:[],w:new is(32768),C:[],v:[],d:new is(32768),D:[],u:new is(512),Q:[],r:new is(32768),s:new cs(286),Y:new cs(30),a:new cs(19),t:new cs(15e3),k:new is(65536),g:new is(32768)}}(),function(){for(var is=us.H.m,cs=32768,lo=0;lo<cs;lo++){var co=lo;co=(co&2863311530)>>>1|(co&1431655765)<<1,co=(co&3435973836)>>>2|(co&858993459)<<2,co=(co&4042322160)>>>4|(co&252645135)<<4,co=(co&4278255360)>>>8|(co&16711935)<<8,is.r[lo]=(co>>>16|co<<16)>>>17}function hs(uo,xa,ba){for(;xa--!=0;)uo.push(0,ba)}for(var lo=0;lo<32;lo++)is.q[lo]=is.S[lo]<<3|is.T[lo],is.c[lo]=is.p[lo]<<4|is.z[lo];hs(is._,144,8),hs(is._,112,9),hs(is._,24,7),hs(is._,8,8),us.H.n(is._,9),us.H.A(is._,9,is.J),us.H.l(is._,9),hs(is.$,32,5),us.H.n(is.$,5),us.H.A(is.$,5,is.h),us.H.l(is.$,5),hs(is.Q,19,0),hs(is.C,286,0),hs(is.D,30,0),hs(is.v,320,0)}(),us.H.N}();UPNG.decode._readInterlace=function(us,is){for(var cs=is.width,lo=is.height,co=UPNG.decode._getBPP(is),hs=co>>3,uo=Math.ceil(cs*co/8),xa=new Uint8Array(lo*uo),ba=0,$a=[0,0,4,0,2,0,1],wl=[0,4,0,2,0,1,0],Sl=[8,8,8,4,4,2,2],Cl=[8,8,4,4,2,2,1],_l=0;_l<7;){for(var Il=Sl[_l],Fl=Cl[_l],Ml=0,Tl=0,Dl=$a[_l];Dl<lo;)Dl+=Il,Tl++;for(var Bl=wl[_l];Bl<cs;)Bl+=Fl,Ml++;var Ll=Math.ceil(Ml*co/8);UPNG.decode._filterZero(us,is,ba,Ml,Tl);for(var Nl=0,zl=$a[_l];zl<lo;){for(var $l=wl[_l],Vl=ba+Nl*Ll<<3;$l<cs;){if(co==1){var Gl=us[Vl>>3];Gl=Gl>>7-(Vl&7)&1,xa[zl*uo+($l>>3)]|=Gl<<7-(($l&7)<<0)}if(co==2){var Gl=us[Vl>>3];Gl=Gl>>6-(Vl&7)&3,xa[zl*uo+($l>>2)]|=Gl<<6-(($l&3)<<1)}if(co==4){var Gl=us[Vl>>3];Gl=Gl>>4-(Vl&7)&15,xa[zl*uo+($l>>1)]|=Gl<<4-(($l&1)<<2)}if(co>=8)for(var iu=zl*uo+$l*hs,nu=0;nu<hs;nu++)xa[iu+nu]=us[(Vl>>3)+nu];Vl+=co,$l+=Fl}Nl++,zl+=Il}Ml*Tl!=0&&(ba+=Tl*(1+Ll)),_l=_l+1}return xa};UPNG.decode._getBPP=function(us){var is=[1,null,3,1,2,null,4][us.ctype];return is*us.depth};UPNG.decode._filterZero=function(us,is,cs,lo,co){var hs=UPNG.decode._getBPP(is),uo=Math.ceil(lo*hs/8),xa=UPNG.decode._paeth;hs=Math.ceil(hs/8);var ba=0,$a=1,wl=us[cs],Sl=0;if(wl>1&&(us[cs]=[0,0,1][wl-2]),wl==3)for(Sl=hs;Sl<uo;Sl++)us[Sl+1]=us[Sl+1]+(us[Sl+1-hs]>>>1)&255;for(var Cl=0;Cl<co;Cl++)if(ba=cs+Cl*uo,$a=ba+Cl+1,wl=us[$a-1],Sl=0,wl==0)for(;Sl<uo;Sl++)us[ba+Sl]=us[$a+Sl];else if(wl==1){for(;Sl<hs;Sl++)us[ba+Sl]=us[$a+Sl];for(;Sl<uo;Sl++)us[ba+Sl]=us[$a+Sl]+us[ba+Sl-hs]}else if(wl==2)for(;Sl<uo;Sl++)us[ba+Sl]=us[$a+Sl]+us[ba+Sl-uo];else if(wl==3){for(;Sl<hs;Sl++)us[ba+Sl]=us[$a+Sl]+(us[ba+Sl-uo]>>>1);for(;Sl<uo;Sl++)us[ba+Sl]=us[$a+Sl]+(us[ba+Sl-uo]+us[ba+Sl-hs]>>>1)}else{for(;Sl<hs;Sl++)us[ba+Sl]=us[$a+Sl]+xa(0,us[ba+Sl-uo],0);for(;Sl<uo;Sl++)us[ba+Sl]=us[$a+Sl]+xa(us[ba+Sl-hs],us[ba+Sl-uo],us[ba+Sl-hs-uo])}return us};UPNG.decode._paeth=function(us,is,cs){var lo=us+is-cs,co=lo-us,hs=lo-is,uo=lo-cs;return co*co<=hs*hs&&co*co<=uo*uo?us:hs*hs<=uo*uo?is:cs};UPNG.decode._IHDR=function(us,is,cs){var lo=UPNG._bin;cs.width=lo.readUint(us,is),is+=4,cs.height=lo.readUint(us,is),is+=4,cs.depth=us[is],is++,cs.ctype=us[is],is++,cs.compress=us[is],is++,cs.filter=us[is],is++,cs.interlace=us[is],is++};UPNG._bin={nextZero:function(us,is){for(;us[is]!=0;)is++;return is},readUshort:function(us,is){return us[is]<<8|us[is+1]},writeUshort:function(us,is,cs){us[is]=cs>>8&255,us[is+1]=cs&255},readUint:function(us,is){return us[is]*(256*256*256)+(us[is+1]<<16|us[is+2]<<8|us[is+3])},writeUint:function(us,is,cs){us[is]=cs>>24&255,us[is+1]=cs>>16&255,us[is+2]=cs>>8&255,us[is+3]=cs&255},readASCII:function(us,is,cs){for(var lo="",co=0;co<cs;co++)lo+=String.fromCharCode(us[is+co]);return lo},writeASCII:function(us,is,cs){for(var lo=0;lo<cs.length;lo++)us[is+lo]=cs.charCodeAt(lo)},readBytes:function(us,is,cs){for(var lo=[],co=0;co<cs;co++)lo.push(us[is+co]);return lo},pad:function(us){return us.length<2?"0"+us:us},readUTF8:function(us,is,cs){for(var lo="",co,hs=0;hs<cs;hs++)lo+="%"+UPNG._bin.pad(us[is+hs].toString(16));try{co=decodeURIComponent(lo)}catch{return UPNG._bin.readASCII(us,is,cs)}return co}};UPNG._copyTile=function(us,is,cs,lo,co,hs,uo,xa,ba){for(var $a=Math.min(is,co),wl=Math.min(cs,hs),Sl=0,Cl=0,_l=0;_l<wl;_l++)for(var Il=0;Il<$a;Il++)if(uo>=0&&xa>=0?(Sl=_l*is+Il<<2,Cl=(xa+_l)*co+uo+Il<<2):(Sl=(-xa+_l)*is-uo+Il<<2,Cl=_l*co+Il<<2),ba==0)lo[Cl]=us[Sl],lo[Cl+1]=us[Sl+1],lo[Cl+2]=us[Sl+2],lo[Cl+3]=us[Sl+3];else if(ba==1){var Fl=us[Sl+3]*.00392156862745098,Ml=us[Sl]*Fl,Tl=us[Sl+1]*Fl,Dl=us[Sl+2]*Fl,Bl=lo[Cl+3]*(1/255),Ll=lo[Cl]*Bl,Nl=lo[Cl+1]*Bl,zl=lo[Cl+2]*Bl,$l=1-Fl,Vl=Fl+Bl*$l,Gl=Vl==0?0:1/Vl;lo[Cl+3]=255*Vl,lo[Cl+0]=(Ml+Ll*$l)*Gl,lo[Cl+1]=(Tl+Nl*$l)*Gl,lo[Cl+2]=(Dl+zl*$l)*Gl}else if(ba==2){var Fl=us[Sl+3],Ml=us[Sl],Tl=us[Sl+1],Dl=us[Sl+2],Bl=lo[Cl+3],Ll=lo[Cl],Nl=lo[Cl+1],zl=lo[Cl+2];Fl==Bl&&Ml==Ll&&Tl==Nl&&Dl==zl?(lo[Cl]=0,lo[Cl+1]=0,lo[Cl+2]=0,lo[Cl+3]=0):(lo[Cl]=Ml,lo[Cl+1]=Tl,lo[Cl+2]=Dl,lo[Cl+3]=Fl)}else if(ba==3){var Fl=us[Sl+3],Ml=us[Sl],Tl=us[Sl+1],Dl=us[Sl+2],Bl=lo[Cl+3],Ll=lo[Cl],Nl=lo[Cl+1],zl=lo[Cl+2];if(Fl==Bl&&Ml==Ll&&Tl==Nl&&Dl==zl)continue;if(Fl<220&&Bl>20)return!1}return!0};UPNG.encode=function(us,is,cs,lo,co,hs,uo){lo==null&&(lo=0),uo==null&&(uo=!1);var xa=UPNG.encode.compress(us,is,cs,lo,[!1,!1,!1,0,uo]);return UPNG.encode.compressPNG(xa,-1),UPNG.encode._main(xa,is,cs,co,hs)};UPNG.encodeLL=function(us,is,cs,lo,co,hs,uo,xa){for(var ba={ctype:0+(lo==1?0:2)+(co==0?0:4),depth:hs,frames:[]},$a=(lo+co)*hs,wl=$a*is,Sl=0;Sl<us.length;Sl++)ba.frames.push({rect:{x:0,y:0,width:is,height:cs},img:new Uint8Array(us[Sl]),blend:0,dispose:1,bpp:Math.ceil($a/8),bpl:Math.ceil(wl/8)});UPNG.encode.compressPNG(ba,0,!0);var Cl=UPNG.encode._main(ba,is,cs,uo,xa);return Cl};UPNG.encode._main=function(us,is,cs,lo,co){co==null&&(co={});var hs=UPNG.crc.crc,uo=UPNG._bin.writeUint,xa=UPNG._bin.writeUshort,ba=UPNG._bin.writeASCII,$a=8,wl=us.frames.length>1,Sl=!1,Cl=33+(wl?20:0);if(co.sRGB!=null&&(Cl+=13),co.pHYs!=null&&(Cl+=21),us.ctype==3){for(var _l=us.plte.length,Il=0;Il<_l;Il++)us.plte[Il]>>>24!=255&&(Sl=!0);Cl+=8+_l*3+4+(Sl?8+_l*1+4:0)}for(var Fl=0;Fl<us.frames.length;Fl++){var Ml=us.frames[Fl];wl&&(Cl+=38),Cl+=Ml.cimg.length+12,Fl!=0&&(Cl+=4)}Cl+=12;for(var Tl=new Uint8Array(Cl),Dl=[137,80,78,71,13,10,26,10],Il=0;Il<8;Il++)Tl[Il]=Dl[Il];if(uo(Tl,$a,13),$a+=4,ba(Tl,$a,"IHDR"),$a+=4,uo(Tl,$a,is),$a+=4,uo(Tl,$a,cs),$a+=4,Tl[$a]=us.depth,$a++,Tl[$a]=us.ctype,$a++,Tl[$a]=0,$a++,Tl[$a]=0,$a++,Tl[$a]=0,$a++,uo(Tl,$a,hs(Tl,$a-17,17)),$a+=4,co.sRGB!=null&&(uo(Tl,$a,1),$a+=4,ba(Tl,$a,"sRGB"),$a+=4,Tl[$a]=co.sRGB,$a++,uo(Tl,$a,hs(Tl,$a-5,5)),$a+=4),co.pHYs!=null&&(uo(Tl,$a,9),$a+=4,ba(Tl,$a,"pHYs"),$a+=4,uo(Tl,$a,co.pHYs[0]),$a+=4,uo(Tl,$a,co.pHYs[1]),$a+=4,Tl[$a]=co.pHYs[2],$a++,uo(Tl,$a,hs(Tl,$a-13,13)),$a+=4),wl&&(uo(Tl,$a,8),$a+=4,ba(Tl,$a,"acTL"),$a+=4,uo(Tl,$a,us.frames.length),$a+=4,uo(Tl,$a,co.loop!=null?co.loop:0),$a+=4,uo(Tl,$a,hs(Tl,$a-12,12)),$a+=4),us.ctype==3){var _l=us.plte.length;uo(Tl,$a,_l*3),$a+=4,ba(Tl,$a,"PLTE"),$a+=4;for(var Il=0;Il<_l;Il++){var Bl=Il*3,Ll=us.plte[Il],Nl=Ll&255,zl=Ll>>>8&255,$l=Ll>>>16&255;Tl[$a+Bl+0]=Nl,Tl[$a+Bl+1]=zl,Tl[$a+Bl+2]=$l}if($a+=_l*3,uo(Tl,$a,hs(Tl,$a-_l*3-4,_l*3+4)),$a+=4,Sl){uo(Tl,$a,_l),$a+=4,ba(Tl,$a,"tRNS"),$a+=4;for(var Il=0;Il<_l;Il++)Tl[$a+Il]=us.plte[Il]>>>24&255;$a+=_l,uo(Tl,$a,hs(Tl,$a-_l-4,_l+4)),$a+=4}}for(var Vl=0,Fl=0;Fl<us.frames.length;Fl++){var Ml=us.frames[Fl];wl&&(uo(Tl,$a,26),$a+=4,ba(Tl,$a,"fcTL"),$a+=4,uo(Tl,$a,Vl++),$a+=4,uo(Tl,$a,Ml.rect.width),$a+=4,uo(Tl,$a,Ml.rect.height),$a+=4,uo(Tl,$a,Ml.rect.x),$a+=4,uo(Tl,$a,Ml.rect.y),$a+=4,xa(Tl,$a,lo[Fl]),$a+=2,xa(Tl,$a,1e3),$a+=2,Tl[$a]=Ml.dispose,$a++,Tl[$a]=Ml.blend,$a++,uo(Tl,$a,hs(Tl,$a-30,30)),$a+=4);var Gl=Ml.cimg,_l=Gl.length;uo(Tl,$a,_l+(Fl==0?0:4)),$a+=4;var iu=$a;ba(Tl,$a,Fl==0?"IDAT":"fdAT"),$a+=4,Fl!=0&&(uo(Tl,$a,Vl++),$a+=4),Tl.set(Gl,$a),$a+=_l,uo(Tl,$a,hs(Tl,iu,$a-iu)),$a+=4}return uo(Tl,$a,0),$a+=4,ba(Tl,$a,"IEND"),$a+=4,uo(Tl,$a,hs(Tl,$a-4,4)),$a+=4,Tl.buffer};UPNG.encode.compressPNG=function(us,is,cs){for(var lo=0;lo<us.frames.length;lo++){var co=us.frames[lo];co.rect.width;var hs=co.rect.height,uo=new Uint8Array(hs*co.bpl+hs);co.cimg=UPNG.encode._filterZero(co.img,hs,co.bpp,co.bpl,uo,is,cs)}};UPNG.encode.compress=function(us,is,cs,lo,co){for(var hs=co[0],uo=co[1],xa=co[2],ba=co[3],$a=co[4],wl=6,Sl=8,Cl=255,_l=0;_l<us.length;_l++)for(var Il=new Uint8Array(us[_l]),Fl=Il.length,Ml=0;Ml<Fl;Ml+=4)Cl&=Il[Ml+3];var Tl=Cl!=255,Dl=UPNG.encode.framize(us,is,cs,hs,uo,xa),Bl={},Ll=[],Nl=[];if(lo!=0){for(var zl=[],Ml=0;Ml<Dl.length;Ml++)zl.push(Dl[Ml].img.buffer);for(var $l=UPNG.encode.concatRGBA(zl),Vl=UPNG.quantize($l,lo),Gl=0,iu=new Uint8Array(Vl.abuf),Ml=0;Ml<Dl.length;Ml++){var nu=Dl[Ml].img,Jl=nu.length;Nl.push(new Uint8Array(Vl.inds.buffer,Gl>>2,Jl>>2));for(var _l=0;_l<Jl;_l+=4)nu[_l]=iu[Gl+_l],nu[_l+1]=iu[Gl+_l+1],nu[_l+2]=iu[Gl+_l+2],nu[_l+3]=iu[Gl+_l+3];Gl+=Jl}for(var Ml=0;Ml<Vl.plte.length;Ml++)Ll.push(Vl.plte[Ml].est.rgba)}else for(var _l=0;_l<Dl.length;_l++){var lu=Dl[_l],ju=new Uint32Array(lu.img.buffer),zu=lu.rect.width,Fl=ju.length,Wu=new Uint8Array(Fl);Nl.push(Wu);for(var Ml=0;Ml<Fl;Ml++){var qu=ju[Ml];if(Ml!=0&&qu==ju[Ml-1])Wu[Ml]=Wu[Ml-1];else if(Ml>zu&&qu==ju[Ml-zu])Wu[Ml]=Wu[Ml-zu];else{var Mu=Bl[qu];if(Mu==null&&(Bl[qu]=Mu=Ll.length,Ll.push(qu),Ll.length>=300))break;Wu[Ml]=Mu}}}var mu=Ll.length;mu<=256&&$a==!1&&(mu<=2?Sl=1:mu<=4?Sl=2:mu<=16?Sl=4:Sl=8,Sl=Math.max(Sl,ba));for(var _l=0;_l<Dl.length;_l++){var lu=Dl[_l];lu.rect.x,lu.rect.y;var zu=lu.rect.width,uu=lu.rect.height,cu=lu.img;new Uint32Array(cu.buffer);var ru=4*zu,Yl=4;if(mu<=256&&$a==!1){ru=Math.ceil(Sl*zu/8);for(var Hl=new Uint8Array(ru*uu),Kl=Nl[_l],_c=0;_c<uu;_c++){var Ml=_c*ru,Ql=_c*zu;if(Sl==8)for(var su=0;su<zu;su++)Hl[Ml+su]=Kl[Ql+su];else if(Sl==4)for(var su=0;su<zu;su++)Hl[Ml+(su>>1)]|=Kl[Ql+su]<<4-(su&1)*4;else if(Sl==2)for(var su=0;su<zu;su++)Hl[Ml+(su>>2)]|=Kl[Ql+su]<<6-(su&3)*2;else if(Sl==1)for(var su=0;su<zu;su++)Hl[Ml+(su>>3)]|=Kl[Ql+su]<<7-(su&7)*1}cu=Hl,wl=3,Yl=1}else if(Tl==!1&&Dl.length==1){for(var Hl=new Uint8Array(zu*uu*3),gu=zu*uu,Ml=0;Ml<gu;Ml++){var nu=Ml*3,Cu=Ml*4;Hl[nu]=cu[Cu],Hl[nu+1]=cu[Cu+1],Hl[nu+2]=cu[Cu+2]}cu=Hl,wl=2,Yl=3,ru=3*zu}lu.img=cu,lu.bpl=ru,lu.bpp=Yl}return{ctype:wl,depth:Sl,plte:Ll,frames:Dl}};UPNG.encode.framize=function(us,is,cs,lo,co,hs){for(var uo=[],xa=0;xa<us.length;xa++){var ba=new Uint8Array(us[xa]),$a=new Uint32Array(ba.buffer),wl,Sl=0,Cl=0,_l=is,Il=cs,Fl=lo?1:0;if(xa!=0){for(var Ml=hs||lo||xa==1||uo[xa-2].dispose!=0?1:2,Tl=0,Dl=1e9,Bl=0;Bl<Ml;Bl++){for(var lu=new Uint8Array(us[xa-1-Bl]),Ll=new Uint32Array(us[xa-1-Bl]),Nl=is,zl=cs,$l=-1,Vl=-1,Gl=0;Gl<cs;Gl++)for(var iu=0;iu<is;iu++){var nu=Gl*is+iu;$a[nu]!=Ll[nu]&&(iu<Nl&&(Nl=iu),iu>$l&&($l=iu),Gl<zl&&(zl=Gl),Gl>Vl&&(Vl=Gl))}$l==-1&&(Nl=zl=$l=Vl=0),co&&((Nl&1)==1&&Nl--,(zl&1)==1&&zl--);var Jl=($l-Nl+1)*(Vl-zl+1);Jl<Dl&&(Dl=Jl,Tl=Bl,Sl=Nl,Cl=zl,_l=$l-Nl+1,Il=Vl-zl+1)}var lu=new Uint8Array(us[xa-1-Tl]);Tl==1&&(uo[xa-1].dispose=2),wl=new Uint8Array(_l*Il*4),UPNG._copyTile(lu,is,cs,wl,_l,Il,-Sl,-Cl,0),Fl=UPNG._copyTile(ba,is,cs,wl,_l,Il,-Sl,-Cl,3)?1:0,Fl==1?UPNG.encode._prepareDiff(ba,is,cs,wl,{x:Sl,y:Cl,width:_l,height:Il}):UPNG._copyTile(ba,is,cs,wl,_l,Il,-Sl,-Cl,0)}else wl=ba.slice(0);uo.push({rect:{x:Sl,y:Cl,width:_l,height:Il},img:wl,blend:Fl,dispose:0})}if(lo)for(var xa=0;xa<uo.length;xa++){var ju=uo[xa];if(ju.blend!=1){var zu=ju.rect,Wu=uo[xa-1].rect,qu=Math.min(zu.x,Wu.x),Mu=Math.min(zu.y,Wu.y),mu=Math.max(zu.x+zu.width,Wu.x+Wu.width),uu=Math.max(zu.y+zu.height,Wu.y+Wu.height),cu={x:qu,y:Mu,width:mu-qu,height:uu-Mu};uo[xa-1].dispose=1,xa-1!=0&&UPNG.encode._updateFrame(us,is,cs,uo,xa-1,cu,co),UPNG.encode._updateFrame(us,is,cs,uo,xa,cu,co)}}var ru=0;if(us.length!=1)for(var nu=0;nu<uo.length;nu++){var ju=uo[nu];ru+=ju.rect.width*ju.rect.height}return uo};UPNG.encode._updateFrame=function(us,is,cs,lo,co,hs,uo){for(var xa=Uint8Array,ba=Uint32Array,$a=new xa(us[co-1]),wl=new ba(us[co-1]),Sl=co+1<us.length?new xa(us[co+1]):null,Cl=new xa(us[co]),_l=new ba(Cl.buffer),Il=is,Fl=cs,Ml=-1,Tl=-1,Dl=0;Dl<hs.height;Dl++)for(var Bl=0;Bl<hs.width;Bl++){var Ll=hs.x+Bl,Nl=hs.y+Dl,zl=Nl*is+Ll,$l=_l[zl];$l==0||lo[co-1].dispose==0&&wl[zl]==$l&&(Sl==null||Sl[zl*4+3]!=0)||(Ll<Il&&(Il=Ll),Ll>Ml&&(Ml=Ll),Nl<Fl&&(Fl=Nl),Nl>Tl&&(Tl=Nl))}Ml==-1&&(Il=Fl=Ml=Tl=0),uo&&((Il&1)==1&&Il--,(Fl&1)==1&&Fl--),hs={x:Il,y:Fl,width:Ml-Il+1,height:Tl-Fl+1};var Vl=lo[co];Vl.rect=hs,Vl.blend=1,Vl.img=new Uint8Array(hs.width*hs.height*4),lo[co-1].dispose==0?(UPNG._copyTile($a,is,cs,Vl.img,hs.width,hs.height,-hs.x,-hs.y,0),UPNG.encode._prepareDiff(Cl,is,cs,Vl.img,hs)):UPNG._copyTile(Cl,is,cs,Vl.img,hs.width,hs.height,-hs.x,-hs.y,0)};UPNG.encode._prepareDiff=function(us,is,cs,lo,co){UPNG._copyTile(us,is,cs,lo,co.width,co.height,-co.x,-co.y,2)};UPNG.encode._filterZero=function(us,is,cs,lo,co,hs,uo){var xa=[],ba=[0,1,2,3,4];hs!=-1?ba=[hs]:(is*lo>5e5||cs==1)&&(ba=[0]);var $a;uo&&($a={level:0});for(var wl=uo&&UZIP!=null?UZIP:pako$1,Sl=0;Sl<ba.length;Sl++){for(var Cl=0;Cl<is;Cl++)UPNG.encode._filterLine(co,us,Cl,lo,cs,ba[Sl]);xa.push(wl.deflate(co,$a))}for(var _l,Il=1e9,Sl=0;Sl<xa.length;Sl++)xa[Sl].length<Il&&(_l=Sl,Il=xa[Sl].length);return xa[_l]};UPNG.encode._filterLine=function(us,is,cs,lo,co,hs){var uo=cs*lo,xa=uo+cs,ba=UPNG.decode._paeth;if(us[xa]=hs,xa++,hs==0)if(lo<500)for(var $a=0;$a<lo;$a++)us[xa+$a]=is[uo+$a];else us.set(new Uint8Array(is.buffer,uo,lo),xa);else if(hs==1){for(var $a=0;$a<co;$a++)us[xa+$a]=is[uo+$a];for(var $a=co;$a<lo;$a++)us[xa+$a]=is[uo+$a]-is[uo+$a-co]+256&255}else if(cs==0){for(var $a=0;$a<co;$a++)us[xa+$a]=is[uo+$a];if(hs==2)for(var $a=co;$a<lo;$a++)us[xa+$a]=is[uo+$a];if(hs==3)for(var $a=co;$a<lo;$a++)us[xa+$a]=is[uo+$a]-(is[uo+$a-co]>>1)+256&255;if(hs==4)for(var $a=co;$a<lo;$a++)us[xa+$a]=is[uo+$a]-ba(is[uo+$a-co],0,0)+256&255}else{if(hs==2)for(var $a=0;$a<lo;$a++)us[xa+$a]=is[uo+$a]+256-is[uo+$a-lo]&255;if(hs==3){for(var $a=0;$a<co;$a++)us[xa+$a]=is[uo+$a]+256-(is[uo+$a-lo]>>1)&255;for(var $a=co;$a<lo;$a++)us[xa+$a]=is[uo+$a]+256-(is[uo+$a-lo]+is[uo+$a-co]>>1)&255}if(hs==4){for(var $a=0;$a<co;$a++)us[xa+$a]=is[uo+$a]+256-ba(0,is[uo+$a-lo],0)&255;for(var $a=co;$a<lo;$a++)us[xa+$a]=is[uo+$a]+256-ba(is[uo+$a-co],is[uo+$a-lo],is[uo+$a-co-lo])&255}}};UPNG.crc={table:function(){for(var us=new Uint32Array(256),is=0;is<256;is++){for(var cs=is,lo=0;lo<8;lo++)cs&1?cs=3988292384^cs>>>1:cs=cs>>>1;us[is]=cs}return us}(),update:function(us,is,cs,lo){for(var co=0;co<lo;co++)us=UPNG.crc.table[(us^is[cs+co])&255]^us>>>8;return us},crc:function(us,is,cs){return UPNG.crc.update(4294967295,us,is,cs)^4294967295}};UPNG.quantize=function(us,is){var cs=new Uint8Array(us),lo=cs.slice(0),co=new Uint32Array(lo.buffer),hs=UPNG.quantize.getKDtree(lo,is),uo=hs[0],xa=hs[1];UPNG.quantize.planeDst;for(var ba=cs,$a=co,wl=ba.length,Sl=new Uint8Array(cs.length>>2),Cl=0;Cl<wl;Cl+=4){var _l=ba[Cl]*.00392156862745098,Il=ba[Cl+1]*(1/255),Fl=ba[Cl+2]*(1/255),Ml=ba[Cl+3]*(1/255),Tl=UPNG.quantize.getNearest(uo,_l,Il,Fl,Ml);Sl[Cl>>2]=Tl.ind,$a[Cl>>2]=Tl.est.rgba}return{abuf:lo.buffer,inds:Sl,plte:xa}};UPNG.quantize.getKDtree=function(us,is,cs){cs==null&&(cs=1e-4);var lo=new Uint32Array(us.buffer),co={i0:0,i1:us.length,bst:null,est:null,tdst:0,left:null,right:null};co.bst=UPNG.quantize.stats(us,co.i0,co.i1),co.est=UPNG.quantize.estats(co.bst);for(var hs=[co];hs.length<is;){for(var uo=0,xa=0,ba=0;ba<hs.length;ba++)hs[ba].est.L>uo&&(uo=hs[ba].est.L,xa=ba);if(uo<cs)break;var $a=hs[xa],wl=UPNG.quantize.splitPixels(us,lo,$a.i0,$a.i1,$a.est.e,$a.est.eMq255),Sl=$a.i0>=wl||$a.i1<=wl;if(Sl){$a.est.L=0;continue}var Cl={i0:$a.i0,i1:wl,bst:null,est:null,tdst:0,left:null,right:null};Cl.bst=UPNG.quantize.stats(us,Cl.i0,Cl.i1),Cl.est=UPNG.quantize.estats(Cl.bst);var _l={i0:wl,i1:$a.i1,bst:null,est:null,tdst:0,left:null,right:null};_l.bst={R:[],m:[],N:$a.bst.N-Cl.bst.N};for(var ba=0;ba<16;ba++)_l.bst.R[ba]=$a.bst.R[ba]-Cl.bst.R[ba];for(var ba=0;ba<4;ba++)_l.bst.m[ba]=$a.bst.m[ba]-Cl.bst.m[ba];_l.est=UPNG.quantize.estats(_l.bst),$a.left=Cl,$a.right=_l,hs[xa]=Cl,hs.push(_l)}hs.sort(function(Il,Fl){return Fl.bst.N-Il.bst.N});for(var ba=0;ba<hs.length;ba++)hs[ba].ind=ba;return[co,hs]};UPNG.quantize.getNearest=function(us,is,cs,lo,co){if(us.left==null)return us.tdst=UPNG.quantize.dist(us.est.q,is,cs,lo,co),us;var hs=UPNG.quantize.planeDst(us.est,is,cs,lo,co),uo=us.left,xa=us.right;hs>0&&(uo=us.right,xa=us.left);var ba=UPNG.quantize.getNearest(uo,is,cs,lo,co);if(ba.tdst<=hs*hs)return ba;var $a=UPNG.quantize.getNearest(xa,is,cs,lo,co);return $a.tdst<ba.tdst?$a:ba};UPNG.quantize.planeDst=function(us,is,cs,lo,co){var hs=us.e;return hs[0]*is+hs[1]*cs+hs[2]*lo+hs[3]*co-us.eMq};UPNG.quantize.dist=function(us,is,cs,lo,co){var hs=is-us[0],uo=cs-us[1],xa=lo-us[2],ba=co-us[3];return hs*hs+uo*uo+xa*xa+ba*ba};UPNG.quantize.splitPixels=function(us,is,cs,lo,co,hs){var uo=UPNG.quantize.vecDot;for(lo-=4;cs<lo;){for(;uo(us,cs,co)<=hs;)cs+=4;for(;uo(us,lo,co)>hs;)lo-=4;if(cs>=lo)break;var xa=is[cs>>2];is[cs>>2]=is[lo>>2],is[lo>>2]=xa,cs+=4,lo-=4}for(;uo(us,cs,co)>hs;)cs-=4;return cs+4};UPNG.quantize.vecDot=function(us,is,cs){return us[is]*cs[0]+us[is+1]*cs[1]+us[is+2]*cs[2]+us[is+3]*cs[3]};UPNG.quantize.stats=function(us,is,cs){for(var lo=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],co=[0,0,0,0],hs=cs-is>>2,uo=is;uo<cs;uo+=4){var xa=us[uo]*.00392156862745098,ba=us[uo+1]*(1/255),$a=us[uo+2]*(1/255),wl=us[uo+3]*(1/255);co[0]+=xa,co[1]+=ba,co[2]+=$a,co[3]+=wl,lo[0]+=xa*xa,lo[1]+=xa*ba,lo[2]+=xa*$a,lo[3]+=xa*wl,lo[5]+=ba*ba,lo[6]+=ba*$a,lo[7]+=ba*wl,lo[10]+=$a*$a,lo[11]+=$a*wl,lo[15]+=wl*wl}return lo[4]=lo[1],lo[8]=lo[2],lo[9]=lo[6],lo[12]=lo[3],lo[13]=lo[7],lo[14]=lo[11],{R:lo,m:co,N:hs}};UPNG.quantize.estats=function(us){var is=us.R,cs=us.m,lo=us.N,co=cs[0],hs=cs[1],uo=cs[2],xa=cs[3],ba=lo==0?0:1/lo,$a=[is[0]-co*co*ba,is[1]-co*hs*ba,is[2]-co*uo*ba,is[3]-co*xa*ba,is[4]-hs*co*ba,is[5]-hs*hs*ba,is[6]-hs*uo*ba,is[7]-hs*xa*ba,is[8]-uo*co*ba,is[9]-uo*hs*ba,is[10]-uo*uo*ba,is[11]-uo*xa*ba,is[12]-xa*co*ba,is[13]-xa*hs*ba,is[14]-xa*uo*ba,is[15]-xa*xa*ba],wl=$a,Sl=UPNG.M4,Cl=[.5,.5,.5,.5],_l=0,Il=0;if(lo!=0)for(var Fl=0;Fl<10&&(Cl=Sl.multVec(wl,Cl),Il=Math.sqrt(Sl.dot(Cl,Cl)),Cl=Sl.sml(1/Il,Cl),!(Math.abs(Il-_l)<1e-9));Fl++)_l=Il;var Ml=[co*ba,hs*ba,uo*ba,xa*ba],Tl=Sl.dot(Sl.sml(255,Ml),Cl);return{Cov:$a,q:Ml,e:Cl,L:_l,eMq255:Tl,eMq:Sl.dot(Cl,Ml),rgba:(Math.round(255*Ml[3])<<24|Math.round(255*Ml[2])<<16|Math.round(255*Ml[1])<<8|Math.round(255*Ml[0])<<0)>>>0}};UPNG.M4={multVec:function(us,is){return[us[0]*is[0]+us[1]*is[1]+us[2]*is[2]+us[3]*is[3],us[4]*is[0]+us[5]*is[1]+us[6]*is[2]+us[7]*is[3],us[8]*is[0]+us[9]*is[1]+us[10]*is[2]+us[11]*is[3],us[12]*is[0]+us[13]*is[1]+us[14]*is[2]+us[15]*is[3]]},dot:function(us,is){return us[0]*is[0]+us[1]*is[1]+us[2]*is[2]+us[3]*is[3]},sml:function(us,is){return[us*is[0],us*is[1],us*is[2],us*is[3]]}};UPNG.encode.concatRGBA=function(us){for(var is=0,cs=0;cs<us.length;cs++)is+=us[cs].byteLength;for(var lo=new Uint8Array(is),co=0,cs=0;cs<us.length;cs++){for(var hs=new Uint8Array(us[cs]),uo=hs.length,xa=0;xa<uo;xa+=4){var ba=hs[xa],$a=hs[xa+1],wl=hs[xa+2],Sl=hs[xa+3];Sl==0&&(ba=$a=wl=0),lo[co+xa]=ba,lo[co+xa+1]=$a,lo[co+xa+2]=wl,lo[co+xa+3]=Sl}co+=uo}return lo.buffer};var getImageType=function(us){if(us===0)return PngType.Greyscale;if(us===2)return PngType.Truecolour;if(us===3)return PngType.IndexedColour;if(us===4)return PngType.GreyscaleWithAlpha;if(us===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+us)},splitAlphaChannel=function(us){for(var is=Math.floor(us.length/4),cs=new Uint8Array(is*3),lo=new Uint8Array(is*1),co=0,hs=0,uo=0;co<us.length;)cs[hs++]=us[co++],cs[hs++]=us[co++],cs[hs++]=us[co++],lo[uo++]=us[co++];return{rgbChannel:cs,alphaChannel:lo}},PngType;(function(us){us.Greyscale="Greyscale",us.Truecolour="Truecolour",us.IndexedColour="IndexedColour",us.GreyscaleWithAlpha="GreyscaleWithAlpha",us.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function us(is){var cs=UPNG.decode(is),lo=UPNG.toRGBA8(cs);if(lo.length>1)throw new Error("Animated PNGs are not supported");var co=new Uint8Array(lo[0]),hs=splitAlphaChannel(co),uo=hs.rgbChannel,xa=hs.alphaChannel;this.rgbChannel=uo;var ba=xa.some(function($a){return $a<255});ba&&(this.alphaChannel=xa),this.type=getImageType(cs.ctype),this.width=cs.width,this.height=cs.height,this.bitsPerComponent=8}return us.load=function(is){return new us(is)},us}(),PngEmbedder=function(){function us(is){this.image=is,this.bitsPerComponent=is.bitsPerComponent,this.width=is.width,this.height=is.height,this.colorSpace="DeviceRGB"}return us.for=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs;return __generator$1(this,function(lo){return cs=PNG.load(is),[2,new us(cs)]})})},us.prototype.embedIntoContext=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo,co;return __generator$1(this,function(hs){return lo=this.embedAlphaChannel(is),co=is.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:lo}),cs?(is.assign(cs,co),[2,cs]):[2,is.register(co)]})})},us.prototype.embedAlphaChannel=function(is){if(this.image.alphaChannel){var cs=is.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return is.register(cs)}},us}(),Stream=function(){function us(is,cs,lo){this.bytes=is,this.start=cs||0,this.pos=this.start,this.end=cs&&lo?cs+lo:this.bytes.length}return Object.defineProperty(us.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(us.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),us.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},us.prototype.getUint16=function(){var is=this.getByte(),cs=this.getByte();return is===-1||cs===-1?-1:(is<<8)+cs},us.prototype.getInt32=function(){var is=this.getByte(),cs=this.getByte(),lo=this.getByte(),co=this.getByte();return(is<<24)+(cs<<16)+(lo<<8)+co},us.prototype.getBytes=function(is,cs){cs===void 0&&(cs=!1);var lo=this.bytes,co=this.pos,hs=this.end;if(is){var xa=co+is;xa>hs&&(xa=hs),this.pos=xa;var uo=lo.subarray(co,xa);return cs?new Uint8ClampedArray(uo):uo}else{var uo=lo.subarray(co,hs);return cs?new Uint8ClampedArray(uo):uo}},us.prototype.peekByte=function(){var is=this.getByte();return this.pos--,is},us.prototype.peekBytes=function(is,cs){cs===void 0&&(cs=!1);var lo=this.getBytes(is,cs);return this.pos-=lo.length,lo},us.prototype.skip=function(is){is||(is=1),this.pos+=is},us.prototype.reset=function(){this.pos=this.start},us.prototype.moveStart=function(){this.start=this.pos},us.prototype.makeSubStream=function(is,cs){return new us(this.bytes,is,cs)},us.prototype.decode=function(){return this.bytes},us}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function us(is){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,is)for(;this.minBufferLength<is;)this.minBufferLength*=2}return Object.defineProperty(us.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),us.prototype.getByte=function(){for(var is=this.pos;this.bufferLength<=is;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},us.prototype.getUint16=function(){var is=this.getByte(),cs=this.getByte();return is===-1||cs===-1?-1:(is<<8)+cs},us.prototype.getInt32=function(){var is=this.getByte(),cs=this.getByte(),lo=this.getByte(),co=this.getByte();return(is<<24)+(cs<<16)+(lo<<8)+co},us.prototype.getBytes=function(is,cs){cs===void 0&&(cs=!1);var lo,co=this.pos;if(is){for(this.ensureBuffer(co+is),lo=co+is;!this.eof&&this.bufferLength<lo;)this.readBlock();var hs=this.bufferLength;lo>hs&&(lo=hs)}else{for(;!this.eof;)this.readBlock();lo=this.bufferLength}this.pos=lo;var uo=this.buffer.subarray(co,lo);return cs&&!(uo instanceof Uint8ClampedArray)?new Uint8ClampedArray(uo):uo},us.prototype.peekByte=function(){var is=this.getByte();return this.pos--,is},us.prototype.peekBytes=function(is,cs){cs===void 0&&(cs=!1);var lo=this.getBytes(is,cs);return this.pos-=lo.length,lo},us.prototype.skip=function(is){is||(is=1),this.pos+=is},us.prototype.reset=function(){this.pos=0},us.prototype.makeSubStream=function(is,cs){for(var lo=is+cs;this.bufferLength<=lo&&!this.eof;)this.readBlock();return new Stream(this.buffer,is,cs)},us.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},us.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},us.prototype.ensureBuffer=function(is){var cs=this.buffer;if(is<=cs.byteLength)return cs;for(var lo=this.minBufferLength;lo<is;)lo*=2;var co=new Uint8Array(lo);return co.set(cs),this.buffer=co},us}(),isSpace=function(us){return us===32||us===9||us===13||us===10},Ascii85Stream=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,lo)||this;return co.stream=cs,co.input=new Uint8Array(5),lo&&(lo=.8*lo),co}return is.prototype.readBlock=function(){for(var cs=126,lo=122,co=-1,hs=this.stream,uo=hs.getByte();isSpace(uo);)uo=hs.getByte();if(uo===co||uo===cs){this.eof=!0;return}var xa=this.bufferLength,ba,$a;if(uo===lo){for(ba=this.ensureBuffer(xa+4),$a=0;$a<4;++$a)ba[xa+$a]=0;this.bufferLength+=4}else{var wl=this.input;for(wl[0]=uo,$a=1;$a<5;++$a){for(uo=hs.getByte();isSpace(uo);)uo=hs.getByte();if(wl[$a]=uo,uo===co||uo===cs)break}if(ba=this.ensureBuffer(xa+$a-1),this.bufferLength+=$a-1,$a<5){for(;$a<5;++$a)wl[$a]=117;this.eof=!0}var Sl=0;for($a=0;$a<5;++$a)Sl=Sl*85+(wl[$a]-33);for($a=3;$a>=0;--$a)ba[xa+$a]=Sl&255,Sl>>=8}},is}(DecodeStream),AsciiHexStream=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,lo)||this;return co.stream=cs,co.firstDigit=-1,lo&&(lo=.5*lo),co}return is.prototype.readBlock=function(){var cs=8e3,lo=this.stream.getBytes(cs);if(!lo.length){this.eof=!0;return}for(var co=lo.length+1>>1,hs=this.ensureBuffer(this.bufferLength+co),uo=this.bufferLength,xa=this.firstDigit,ba=0,$a=lo.length;ba<$a;ba++){var wl=lo[ba],Sl=void 0;if(wl>=48&&wl<=57)Sl=wl&15;else if(wl>=65&&wl<=70||wl>=97&&wl<=102)Sl=(wl&15)+9;else if(wl===62){this.eof=!0;break}else continue;xa<0?xa=Sl:(hs[uo++]=xa<<4|Sl,xa=-1)}xa>=0&&this.eof&&(hs[uo++]=xa<<4,xa=-1),this.firstDigit=xa,this.bufferLength=uo},is}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,lo)||this;co.stream=cs;var hs=cs.getByte(),uo=cs.getByte();if(hs===-1||uo===-1)throw new Error("Invalid header in flate stream: "+hs+", "+uo);if((hs&15)!==8)throw new Error("Unknown compression method in flate stream: "+hs+", "+uo);if(((hs<<8)+uo)%31!==0)throw new Error("Bad FCHECK in flate stream: "+hs+", "+uo);if(uo&32)throw new Error("FDICT bit set in flate stream: "+hs+", "+uo);return co.codeSize=0,co.codeBuf=0,co}return is.prototype.readBlock=function(){var cs,lo,co=this.stream,hs=this.getBits(3);if(hs&1&&(this.eof=!0),hs>>=1,hs===0){var uo=void 0;if((uo=co.getByte())===-1)throw new Error("Bad block header in flate stream");var xa=uo;if((uo=co.getByte())===-1)throw new Error("Bad block header in flate stream");if(xa|=uo<<8,(uo=co.getByte())===-1)throw new Error("Bad block header in flate stream");var ba=uo;if((uo=co.getByte())===-1)throw new Error("Bad block header in flate stream");if(ba|=uo<<8,ba!==(~xa&65535)&&(xa!==0||ba!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var $a=this.bufferLength;cs=this.ensureBuffer($a+xa);var wl=$a+xa;if(this.bufferLength=wl,xa===0)co.peekByte()===-1&&(this.eof=!0);else for(var Sl=$a;Sl<wl;++Sl){if((uo=co.getByte())===-1){this.eof=!0;break}cs[Sl]=uo}return}var Cl,_l;if(hs===1)Cl=fixedLitCodeTab,_l=fixedDistCodeTab;else if(hs===2){var Il=this.getBits(5)+257,Fl=this.getBits(5)+1,Ml=this.getBits(4)+4,Tl=new Uint8Array(codeLenCodeMap.length),Dl=void 0;for(Dl=0;Dl<Ml;++Dl)Tl[codeLenCodeMap[Dl]]=this.getBits(3);var Bl=this.generateHuffmanTable(Tl);lo=0,Dl=0;for(var Ll=Il+Fl,Nl=new Uint8Array(Ll),zl=void 0,$l=void 0,Vl=void 0;Dl<Ll;){var Gl=this.getCode(Bl);if(Gl===16)zl=2,$l=3,Vl=lo;else if(Gl===17)zl=3,$l=3,Vl=lo=0;else if(Gl===18)zl=7,$l=11,Vl=lo=0;else{Nl[Dl++]=lo=Gl;continue}for(var iu=this.getBits(zl)+$l;iu-- >0;)Nl[Dl++]=Vl}Cl=this.generateHuffmanTable(Nl.subarray(0,Il)),_l=this.generateHuffmanTable(Nl.subarray(Il,Ll))}else throw new Error("Unknown block type in flate stream");cs=this.buffer;for(var nu=cs?cs.length:0,Jl=this.bufferLength;;){var lu=this.getCode(Cl);if(lu<256){Jl+1>=nu&&(cs=this.ensureBuffer(Jl+1),nu=cs.length),cs[Jl++]=lu;continue}if(lu===256){this.bufferLength=Jl;return}lu-=257,lu=lengthDecode[lu];var ju=lu>>16;ju>0&&(ju=this.getBits(ju)),lo=(lu&65535)+ju,lu=this.getCode(_l),lu=distDecode[lu],ju=lu>>16,ju>0&&(ju=this.getBits(ju));var zu=(lu&65535)+ju;Jl+lo>=nu&&(cs=this.ensureBuffer(Jl+lo),nu=cs.length);for(var Wu=0;Wu<lo;++Wu,++Jl)cs[Jl]=cs[Jl-zu]}},is.prototype.getBits=function(cs){for(var lo=this.stream,co=this.codeSize,hs=this.codeBuf,uo;co<cs;){if((uo=lo.getByte())===-1)throw new Error("Bad encoding in flate stream");hs|=uo<<co,co+=8}return uo=hs&(1<<cs)-1,this.codeBuf=hs>>cs,this.codeSize=co-=cs,uo},is.prototype.getCode=function(cs){for(var lo=this.stream,co=cs[0],hs=cs[1],uo=this.codeSize,xa=this.codeBuf,ba;uo<hs&&(ba=lo.getByte())!==-1;)xa|=ba<<uo,uo+=8;var $a=co[xa&(1<<hs)-1];typeof co=="number"&&console.log("FLATE:",$a);var wl=$a>>16,Sl=$a&65535;if(wl<1||uo<wl)throw new Error("Bad encoding in flate stream");return this.codeBuf=xa>>wl,this.codeSize=uo-wl,Sl},is.prototype.generateHuffmanTable=function(cs){var lo=cs.length,co=0,hs;for(hs=0;hs<lo;++hs)cs[hs]>co&&(co=cs[hs]);for(var uo=1<<co,xa=new Int32Array(uo),ba=1,$a=0,wl=2;ba<=co;++ba,$a<<=1,wl<<=1)for(var Sl=0;Sl<lo;++Sl)if(cs[Sl]===ba){var Cl=0,_l=$a;for(hs=0;hs<ba;++hs)Cl=Cl<<1|_l&1,_l>>=1;for(hs=Cl;hs<uo;hs+=wl)xa[hs]=ba<<16|Sl;++$a}return[xa,co]},is}(DecodeStream),LZWStream=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,lo)||this;hs.stream=cs,hs.cachedData=0,hs.bitsCached=0;for(var uo=4096,xa={earlyChange:co,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(uo),dictionaryLengths:new Uint16Array(uo),dictionaryPrevCodes:new Uint16Array(uo),currentSequence:new Uint8Array(uo),currentSequenceLength:0},ba=0;ba<256;++ba)xa.dictionaryValues[ba]=ba,xa.dictionaryLengths[ba]=1;return hs.lzwState=xa,hs}return is.prototype.readBlock=function(){var cs=512,lo=cs*2,co=cs,hs,uo,xa,ba=this.lzwState;if(ba){var $a=ba.earlyChange,wl=ba.nextCode,Sl=ba.dictionaryValues,Cl=ba.dictionaryLengths,_l=ba.dictionaryPrevCodes,Il=ba.codeLength,Fl=ba.prevCode,Ml=ba.currentSequence,Tl=ba.currentSequenceLength,Dl=0,Bl=this.bufferLength,Ll=this.ensureBuffer(this.bufferLength+lo);for(hs=0;hs<cs;hs++){var Nl=this.readBits(Il),zl=Tl>0;if(!Nl||Nl<256)Ml[0]=Nl,Tl=1;else if(Nl>=258)if(Nl<wl)for(Tl=Cl[Nl],uo=Tl-1,xa=Nl;uo>=0;uo--)Ml[uo]=Sl[xa],xa=_l[xa];else Ml[Tl++]=Ml[0];else if(Nl===256){Il=9,wl=258,Tl=0;continue}else{this.eof=!0,delete this.lzwState;break}if(zl&&(_l[wl]=Fl,Cl[wl]=Cl[Fl]+1,Sl[wl]=Ml[0],wl++,Il=wl+$a&wl+$a-1?Il:Math.min(Math.log(wl+$a)/.6931471805599453+1,12)|0),Fl=Nl,Dl+=Tl,lo<Dl){do lo+=co;while(lo<Dl);Ll=this.ensureBuffer(this.bufferLength+lo)}for(uo=0;uo<Tl;uo++)Ll[Bl++]=Ml[uo]}ba.nextCode=wl,ba.codeLength=Il,ba.prevCode=Fl,ba.currentSequenceLength=Tl,this.bufferLength=Bl}},is.prototype.readBits=function(cs){for(var lo=this.bitsCached,co=this.cachedData;lo<cs;){var hs=this.stream.getByte();if(hs===-1)return this.eof=!0,null;co=co<<8|hs,lo+=8}return this.bitsCached=lo-=cs,this.cachedData=co,co>>>lo&(1<<cs)-1},is}(DecodeStream),RunLengthStream=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,lo)||this;return co.stream=cs,co}return is.prototype.readBlock=function(){var cs=this.stream.getBytes(2);if(!cs||cs.length<2||cs[0]===128){this.eof=!0;return}var lo,co=this.bufferLength,hs=cs[0];if(hs<128){if(lo=this.ensureBuffer(co+hs+1),lo[co++]=cs[1],hs>0){var uo=this.stream.getBytes(hs);lo.set(uo,co),co+=hs}}else{hs=257-hs;var xa=cs[1];lo=this.ensureBuffer(co+hs+1);for(var ba=0;ba<hs;ba++)lo[co++]=xa}this.bufferLength=co},is}(DecodeStream),decodeStream=function(us,is,cs){if(is===PDFName.of("FlateDecode"))return new FlateStream(us);if(is===PDFName.of("LZWDecode")){var lo=1;if(cs instanceof PDFDict){var co=cs.lookup(PDFName.of("EarlyChange"));co instanceof PDFNumber&&(lo=co.asNumber())}return new LZWStream(us,void 0,lo)}if(is===PDFName.of("ASCII85Decode"))return new Ascii85Stream(us);if(is===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(us);if(is===PDFName.of("RunLengthDecode"))return new RunLengthStream(us);throw new UnsupportedEncodingError(is.asString())},decodePDFRawStream=function(us){var is=us.dict,cs=us.contents,lo=new Stream(cs),co=is.lookup(PDFName.of("Filter")),hs=is.lookup(PDFName.of("DecodeParms"));if(co instanceof PDFName)lo=decodeStream(lo,co,hs);else if(co instanceof PDFArray)for(var uo=0,xa=co.size();uo<xa;uo++)lo=decodeStream(lo,co.lookup(uo,PDFName),hs&&hs.lookupMaybe(uo,PDFDict));else if(co)throw new UnexpectedObjectTypeError([PDFName,PDFArray],co);return lo},fullPageBoundingBox=function(us){var is=us.MediaBox(),cs=is.lookup(2,PDFNumber).asNumber()-is.lookup(0,PDFNumber).asNumber(),lo=is.lookup(3,PDFNumber).asNumber()-is.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:cs,top:lo}},boundingBoxAdjustedMatrix=function(us){return[1,0,0,1,-us.left,-us.bottom]},PDFPageEmbedder=function(){function us(is,cs,lo){this.page=is;var co=cs??fullPageBoundingBox(is);this.width=co.right-co.left,this.height=co.top-co.bottom,this.boundingBox=co,this.transformationMatrix=lo??boundingBoxAdjustedMatrix(co)}return us.for=function(is,cs,lo){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(co){return[2,new us(is,cs,lo)]})})},us.prototype.embedIntoContext=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl;return __generator$1(this,function(_l){if(lo=this.page.normalizedEntries(),co=lo.Contents,hs=lo.Resources,!co)throw new MissingPageContentsEmbeddingError;return uo=this.decodeContents(co),xa=this.boundingBox,ba=xa.left,$a=xa.bottom,wl=xa.right,Sl=xa.top,Cl=is.flateStream(uo,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[ba,$a,wl,Sl],Matrix:this.transformationMatrix,Resources:hs}),cs?(is.assign(cs,Cl),[2,cs]):[2,is.register(Cl)]})})},us.prototype.decodeContents=function(is){for(var cs=Uint8Array.of(CharCodes$1.Newline),lo=[],co=0,hs=is.size();co<hs;co++){var uo=is.lookup(co,PDFStream),xa=void 0;if(uo instanceof PDFRawStream)xa=decodePDFRawStream(uo).decode();else if(uo instanceof PDFContentStream)xa=uo.getUnencodedContents();else throw new UnrecognizedStreamTypeError(uo);lo.push(xa,cs)}return mergeIntoTypedArray.apply(void 0,lo)},us}(),asEnum=function(us,is){if(us!==void 0)return is[us]},NonFullScreenPageMode;(function(us){us.UseNone="UseNone",us.UseOutlines="UseOutlines",us.UseThumbs="UseThumbs",us.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(us){us.L2R="L2R",us.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(us){us.None="None",us.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(us){us.Simplex="Simplex",us.DuplexFlipShortEdge="DuplexFlipShortEdge",us.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function us(is){this.dict=is}return us.prototype.lookupBool=function(is){var cs=this.dict.lookup(PDFName.of(is));if(cs instanceof PDFBool)return cs},us.prototype.lookupName=function(is){var cs=this.dict.lookup(PDFName.of(is));if(cs instanceof PDFName)return cs},us.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},us.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},us.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},us.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},us.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},us.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},us.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},us.prototype.Direction=function(){return this.lookupName("Direction")},us.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},us.prototype.Duplex=function(){return this.lookupName("Duplex")},us.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},us.prototype.PrintPageRange=function(){var is=this.dict.lookup(PDFName.of("PrintPageRange"));if(is instanceof PDFArray)return is},us.prototype.NumCopies=function(){var is=this.dict.lookup(PDFName.of("NumCopies"));if(is instanceof PDFNumber)return is},us.prototype.getHideToolbar=function(){var is,cs;return(cs=(is=this.HideToolbar())===null||is===void 0?void 0:is.asBoolean())!==null&&cs!==void 0?cs:!1},us.prototype.getHideMenubar=function(){var is,cs;return(cs=(is=this.HideMenubar())===null||is===void 0?void 0:is.asBoolean())!==null&&cs!==void 0?cs:!1},us.prototype.getHideWindowUI=function(){var is,cs;return(cs=(is=this.HideWindowUI())===null||is===void 0?void 0:is.asBoolean())!==null&&cs!==void 0?cs:!1},us.prototype.getFitWindow=function(){var is,cs;return(cs=(is=this.FitWindow())===null||is===void 0?void 0:is.asBoolean())!==null&&cs!==void 0?cs:!1},us.prototype.getCenterWindow=function(){var is,cs;return(cs=(is=this.CenterWindow())===null||is===void 0?void 0:is.asBoolean())!==null&&cs!==void 0?cs:!1},us.prototype.getDisplayDocTitle=function(){var is,cs;return(cs=(is=this.DisplayDocTitle())===null||is===void 0?void 0:is.asBoolean())!==null&&cs!==void 0?cs:!1},us.prototype.getNonFullScreenPageMode=function(){var is,cs,lo=(is=this.NonFullScreenPageMode())===null||is===void 0?void 0:is.decodeText();return(cs=asEnum(lo,NonFullScreenPageMode))!==null&&cs!==void 0?cs:NonFullScreenPageMode.UseNone},us.prototype.getReadingDirection=function(){var is,cs,lo=(is=this.Direction())===null||is===void 0?void 0:is.decodeText();return(cs=asEnum(lo,ReadingDirection))!==null&&cs!==void 0?cs:ReadingDirection.L2R},us.prototype.getPrintScaling=function(){var is,cs,lo=(is=this.PrintScaling())===null||is===void 0?void 0:is.decodeText();return(cs=asEnum(lo,PrintScaling))!==null&&cs!==void 0?cs:PrintScaling.AppDefault},us.prototype.getDuplex=function(){var is,cs=(is=this.Duplex())===null||is===void 0?void 0:is.decodeText();return asEnum(cs,Duplex)},us.prototype.getPickTrayByPDFSize=function(){var is;return(is=this.PickTrayByPDFSize())===null||is===void 0?void 0:is.asBoolean()},us.prototype.getPrintPageRange=function(){var is=this.PrintPageRange();if(!is)return[];for(var cs=[],lo=0;lo<is.size();lo+=2){var co=is.lookup(lo,PDFNumber).asNumber(),hs=is.lookup(lo+1,PDFNumber).asNumber();cs.push({start:co,end:hs})}return cs},us.prototype.getNumCopies=function(){var is,cs;return(cs=(is=this.NumCopies())===null||is===void 0?void 0:is.asNumber())!==null&&cs!==void 0?cs:1},us.prototype.setHideToolbar=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("HideToolbar"),cs)},us.prototype.setHideMenubar=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("HideMenubar"),cs)},us.prototype.setHideWindowUI=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("HideWindowUI"),cs)},us.prototype.setFitWindow=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("FitWindow"),cs)},us.prototype.setCenterWindow=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("CenterWindow"),cs)},us.prototype.setDisplayDocTitle=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("DisplayDocTitle"),cs)},us.prototype.setNonFullScreenPageMode=function(is){assertIsOneOf(is,"nonFullScreenPageMode",NonFullScreenPageMode);var cs=PDFName.of(is);this.dict.set(PDFName.of("NonFullScreenPageMode"),cs)},us.prototype.setReadingDirection=function(is){assertIsOneOf(is,"readingDirection",ReadingDirection);var cs=PDFName.of(is);this.dict.set(PDFName.of("Direction"),cs)},us.prototype.setPrintScaling=function(is){assertIsOneOf(is,"printScaling",PrintScaling);var cs=PDFName.of(is);this.dict.set(PDFName.of("PrintScaling"),cs)},us.prototype.setDuplex=function(is){assertIsOneOf(is,"duplex",Duplex);var cs=PDFName.of(is);this.dict.set(PDFName.of("Duplex"),cs)},us.prototype.setPickTrayByPDFSize=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("PickTrayByPDFSize"),cs)},us.prototype.setPrintPageRange=function(is){Array.isArray(is)||(is=[is]);for(var cs=[],lo=0,co=is.length;lo<co;lo++)cs.push(is[lo].start),cs.push(is[lo].end);assertEachIs(cs,"printPageRange",["number"]);var hs=this.dict.context.obj(cs);this.dict.set(PDFName.of("PrintPageRange"),hs)},us.prototype.setNumCopies=function(is){assertRange(is,"numCopies",1,Number.MAX_VALUE),assertInteger(is,"numCopies");var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("NumCopies"),cs)},us.fromDict=function(is){return new us(is)},us.create=function(is){var cs=is.obj({});return new us(cs)},us}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function us(is,cs){this.dict=is,this.ref=cs}return us.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},us.prototype.Ff=function(){var is=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(is,PDFNumber)},us.prototype.V=function(){var is=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(is)},us.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},us.prototype.DA=function(){var is=this.dict.lookup(PDFName.of("DA"));if(is instanceof PDFString||is instanceof PDFHexString)return is},us.prototype.setKids=function(is){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(is))},us.prototype.getParent=function(){var is=this.dict.get(PDFName.of("Parent"));if(is instanceof PDFRef){var cs=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new us(cs,is)}},us.prototype.setParent=function(is){is?this.dict.set(PDFName.of("Parent"),is):this.dict.delete(PDFName.of("Parent"))},us.prototype.getFullyQualifiedName=function(){var is=this.getParent();return is?is.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},us.prototype.getPartialName=function(){var is;return(is=this.T())===null||is===void 0?void 0:is.decodeText()},us.prototype.setPartialName=function(is){is?this.dict.set(PDFName.of("T"),PDFHexString.fromText(is)):this.dict.delete(PDFName.of("T"))},us.prototype.setDefaultAppearance=function(is){this.dict.set(PDFName.of("DA"),PDFString.of(is))},us.prototype.getDefaultAppearance=function(){var is=this.DA();return is instanceof PDFHexString?is.decodeText():is==null?void 0:is.asString()},us.prototype.setFontSize=function(is){var cs,lo=(cs=this.getFullyQualifiedName())!==null&&cs!==void 0?cs:"",co=this.getDefaultAppearance();if(!co)throw new MissingDAEntryError(lo);var hs=findLastMatch(co,tfRegex$1);if(!hs.match)throw new MissingTfOperatorError(lo);var uo=co.slice(0,hs.pos-hs.match[0].length),xa=hs.pos<=co.length?co.slice(hs.pos):"",ba=hs.match[1],$a=uo+" /"+ba+" "+is+" Tf "+xa;this.setDefaultAppearance($a)},us.prototype.getFlags=function(){var is,cs;return(cs=(is=this.Ff())===null||is===void 0?void 0:is.asNumber())!==null&&cs!==void 0?cs:0},us.prototype.setFlags=function(is){this.dict.set(PDFName.of("Ff"),PDFNumber.of(is))},us.prototype.hasFlag=function(is){var cs=this.getFlags();return(cs&is)!==0},us.prototype.setFlag=function(is){var cs=this.getFlags();this.setFlags(cs|is)},us.prototype.clearFlag=function(is){var cs=this.getFlags();this.setFlags(cs&~is)},us.prototype.setFlagTo=function(is,cs){cs?this.setFlag(is):this.clearFlag(is)},us.prototype.getInheritableAttribute=function(is){var cs;return this.ascend(function(lo){cs||(cs=lo.dict.get(is))}),cs},us.prototype.ascend=function(is){is(this);var cs=this.getParent();cs&&cs.ascend(is)},us}(),BorderStyle=function(){function us(is){this.dict=is}return us.prototype.W=function(){var is=this.dict.lookup(PDFName.of("W"));if(is instanceof PDFNumber)return is},us.prototype.getWidth=function(){var is,cs;return(cs=(is=this.W())===null||is===void 0?void 0:is.asNumber())!==null&&cs!==void 0?cs:1},us.prototype.setWidth=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("W"),cs)},us.fromDict=function(is){return new us(is)},us}(),PDFAnnotation=function(){function us(is){this.dict=is}return us.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},us.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},us.prototype.F=function(){var is=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(is,PDFNumber)},us.prototype.getRectangle=function(){var is,cs=this.Rect();return(is=cs==null?void 0:cs.asRectangle())!==null&&is!==void 0?is:{x:0,y:0,width:0,height:0}},us.prototype.setRectangle=function(is){var cs=is.x,lo=is.y,co=is.width,hs=is.height,uo=this.dict.context.obj([cs,lo,cs+co,lo+hs]);this.dict.set(PDFName.of("Rect"),uo)},us.prototype.getAppearanceState=function(){var is=this.dict.lookup(PDFName.of("AS"));if(is instanceof PDFName)return is},us.prototype.setAppearanceState=function(is){this.dict.set(PDFName.of("AS"),is)},us.prototype.setAppearances=function(is){this.dict.set(PDFName.of("AP"),is)},us.prototype.ensureAP=function(){var is=this.AP();return is||(is=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),is)),is},us.prototype.getNormalAppearance=function(){var is=this.ensureAP(),cs=is.get(PDFName.of("N"));if(cs instanceof PDFRef||cs instanceof PDFDict)return cs;throw new Error("Unexpected N type: "+(cs==null?void 0:cs.constructor.name))},us.prototype.setNormalAppearance=function(is){var cs=this.ensureAP();cs.set(PDFName.of("N"),is)},us.prototype.setRolloverAppearance=function(is){var cs=this.ensureAP();cs.set(PDFName.of("R"),is)},us.prototype.setDownAppearance=function(is){var cs=this.ensureAP();cs.set(PDFName.of("D"),is)},us.prototype.removeRolloverAppearance=function(){var is=this.AP();is==null||is.delete(PDFName.of("R"))},us.prototype.removeDownAppearance=function(){var is=this.AP();is==null||is.delete(PDFName.of("D"))},us.prototype.getAppearances=function(){var is=this.AP();if(is){var cs=is.lookup(PDFName.of("N"),PDFDict,PDFStream),lo=is.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),co=is.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:cs,rollover:lo,down:co}}},us.prototype.getFlags=function(){var is,cs;return(cs=(is=this.F())===null||is===void 0?void 0:is.asNumber())!==null&&cs!==void 0?cs:0},us.prototype.setFlags=function(is){this.dict.set(PDFName.of("F"),PDFNumber.of(is))},us.prototype.hasFlag=function(is){var cs=this.getFlags();return(cs&is)!==0},us.prototype.setFlag=function(is){var cs=this.getFlags();this.setFlags(cs|is)},us.prototype.clearFlag=function(is){var cs=this.getFlags();this.setFlags(cs&~is)},us.prototype.setFlagTo=function(is,cs){cs?this.setFlag(is):this.clearFlag(is)},us.fromDict=function(is){return new us(is)},us}(),AppearanceCharacteristics=function(){function us(is){this.dict=is}return us.prototype.R=function(){var is=this.dict.lookup(PDFName.of("R"));if(is instanceof PDFNumber)return is},us.prototype.BC=function(){var is=this.dict.lookup(PDFName.of("BC"));if(is instanceof PDFArray)return is},us.prototype.BG=function(){var is=this.dict.lookup(PDFName.of("BG"));if(is instanceof PDFArray)return is},us.prototype.CA=function(){var is=this.dict.lookup(PDFName.of("CA"));if(is instanceof PDFHexString||is instanceof PDFString)return is},us.prototype.RC=function(){var is=this.dict.lookup(PDFName.of("RC"));if(is instanceof PDFHexString||is instanceof PDFString)return is},us.prototype.AC=function(){var is=this.dict.lookup(PDFName.of("AC"));if(is instanceof PDFHexString||is instanceof PDFString)return is},us.prototype.getRotation=function(){var is;return(is=this.R())===null||is===void 0?void 0:is.asNumber()},us.prototype.getBorderColor=function(){var is=this.BC();if(is){for(var cs=[],lo=0,co=is==null?void 0:is.size();lo<co;lo++){var hs=is.get(lo);hs instanceof PDFNumber&&cs.push(hs.asNumber())}return cs}},us.prototype.getBackgroundColor=function(){var is=this.BG();if(is){for(var cs=[],lo=0,co=is==null?void 0:is.size();lo<co;lo++){var hs=is.get(lo);hs instanceof PDFNumber&&cs.push(hs.asNumber())}return cs}},us.prototype.getCaptions=function(){var is=this.CA(),cs=this.RC(),lo=this.AC();return{normal:is==null?void 0:is.decodeText(),rollover:cs==null?void 0:cs.decodeText(),down:lo==null?void 0:lo.decodeText()}},us.prototype.setRotation=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("R"),cs)},us.prototype.setBorderColor=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("BC"),cs)},us.prototype.setBackgroundColor=function(is){var cs=this.dict.context.obj(is);this.dict.set(PDFName.of("BG"),cs)},us.prototype.setCaptions=function(is){var cs=PDFHexString.fromText(is.normal);if(this.dict.set(PDFName.of("CA"),cs),is.rollover){var lo=PDFHexString.fromText(is.rollover);this.dict.set(PDFName.of("RC"),lo)}else this.dict.delete(PDFName.of("RC"));if(is.down){var co=PDFHexString.fromText(is.down);this.dict.set(PDFName.of("AC"),co)}else this.dict.delete(PDFName.of("AC"))},us.fromDict=function(is){return new us(is)},us}(),PDFWidgetAnnotation=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.MK=function(){var cs=this.dict.lookup(PDFName.of("MK"));if(cs instanceof PDFDict)return cs},is.prototype.BS=function(){var cs=this.dict.lookup(PDFName.of("BS"));if(cs instanceof PDFDict)return cs},is.prototype.DA=function(){var cs=this.dict.lookup(PDFName.of("DA"));if(cs instanceof PDFString||cs instanceof PDFHexString)return cs},is.prototype.P=function(){var cs=this.dict.get(PDFName.of("P"));if(cs instanceof PDFRef)return cs},is.prototype.setP=function(cs){this.dict.set(PDFName.of("P"),cs)},is.prototype.setDefaultAppearance=function(cs){this.dict.set(PDFName.of("DA"),PDFString.of(cs))},is.prototype.getDefaultAppearance=function(){var cs=this.DA();return cs instanceof PDFHexString?cs.decodeText():cs==null?void 0:cs.asString()},is.prototype.getAppearanceCharacteristics=function(){var cs=this.MK();if(cs)return AppearanceCharacteristics.fromDict(cs)},is.prototype.getOrCreateAppearanceCharacteristics=function(){var cs=this.MK();if(cs)return AppearanceCharacteristics.fromDict(cs);var lo=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),lo.dict),lo},is.prototype.getBorderStyle=function(){var cs=this.BS();if(cs)return BorderStyle.fromDict(cs)},is.prototype.getOrCreateBorderStyle=function(){var cs=this.BS();if(cs)return BorderStyle.fromDict(cs);var lo=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),lo.dict),lo},is.prototype.getOnValue=function(){var cs,lo=(cs=this.getAppearances())===null||cs===void 0?void 0:cs.normal;if(lo instanceof PDFDict)for(var co=lo.keys(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs];if(xa!==PDFName.of("Off"))return xa}},is.fromDict=function(cs){return new is(cs)},is.create=function(cs,lo){var co=cs.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:lo});return new is(co)},is}(PDFAnnotation),PDFAcroTerminal=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.FT=function(){var cs=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(cs,PDFName)},is.prototype.getWidgets=function(){var cs=this.Kids();if(!cs)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var lo=new Array(cs.size()),co=0,hs=cs.size();co<hs;co++){var uo=cs.lookup(co,PDFDict);lo[co]=PDFWidgetAnnotation.fromDict(uo)}return lo},is.prototype.addWidget=function(cs){var lo=this.normalizedEntries().Kids;lo.push(cs)},is.prototype.removeWidget=function(cs){var lo=this.Kids();if(lo){if(cs<0||cs>lo.size())throw new IndexOutOfBoundsError(cs,0,lo.size());lo.remove(cs)}else{if(cs!==0)throw new IndexOutOfBoundsError(cs,0,0);this.setKids([])}},is.prototype.normalizedEntries=function(){var cs=this.Kids();return cs||(cs=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),cs)),{Kids:cs}},is.fromDict=function(cs,lo){return new is(cs,lo)},is}(PDFAcroField),PDFAcroButton=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},is.prototype.setOpt=function(cs){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(cs))},is.prototype.getExportValues=function(){var cs=this.Opt();if(cs){if(cs instanceof PDFString||cs instanceof PDFHexString)return[cs];for(var lo=[],co=0,hs=cs.size();co<hs;co++){var uo=cs.lookup(co);(uo instanceof PDFString||uo instanceof PDFHexString)&&lo.push(uo)}return lo}},is.prototype.removeExportValue=function(cs){var lo=this.Opt();if(lo)if(lo instanceof PDFString||lo instanceof PDFHexString){if(cs!==0)throw new IndexOutOfBoundsError(cs,0,0);this.setOpt([])}else{if(cs<0||cs>lo.size())throw new IndexOutOfBoundsError(cs,0,lo.size());lo.remove(cs)}},is.prototype.normalizeExportValues=function(){for(var cs,lo,co,hs,uo=(cs=this.getExportValues())!==null&&cs!==void 0?cs:[],xa=[],ba=this.getWidgets(),$a=0,wl=ba.length;$a<wl;$a++){var Sl=ba[$a],Cl=(lo=uo[$a])!==null&&lo!==void 0?lo:PDFHexString.fromText((hs=(co=Sl.getOnValue())===null||co===void 0?void 0:co.decodeText())!==null&&hs!==void 0?hs:"");xa.push(Cl)}this.setOpt(xa)},is.prototype.addOpt=function(cs,lo){var co;this.normalizeExportValues();var hs=cs.decodeText(),uo;if(lo)for(var xa=(co=this.getExportValues())!==null&&co!==void 0?co:[],ba=0,$a=xa.length;ba<$a;ba++){var wl=xa[ba];wl.decodeText()===hs&&(uo=ba)}var Sl=this.Opt();return Sl.push(cs),uo??Sl.size()-1},is.prototype.addWidgetWithOpt=function(cs,lo,co){var hs=this.addOpt(lo,co),uo=PDFName.of(String(hs));return this.addWidget(cs),uo},is}(PDFAcroTerminal),PDFAcroCheckBox=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.setValue=function(cs){var lo,co=(lo=this.getOnValue())!==null&&lo!==void 0?lo:PDFName.of("Yes");if(cs!==co&&cs!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),cs);for(var hs=this.getWidgets(),uo=0,xa=hs.length;uo<xa;uo++){var ba=hs[uo],$a=ba.getOnValue()===cs?cs:PDFName.of("Off");ba.setAppearanceState($a)}},is.prototype.getValue=function(){var cs=this.V();return cs instanceof PDFName?cs:PDFName.of("Off")},is.prototype.getOnValue=function(){var cs=this.getWidgets()[0];return cs==null?void 0:cs.getOnValue()},is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({FT:"Btn",Kids:[]}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroButton),flag$1=function(us){return 1<<us},AcroFieldFlags;(function(us){us[us.ReadOnly=flag$1(0)]="ReadOnly",us[us.Required=flag$1(1)]="Required",us[us.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(us){us[us.NoToggleToOff=flag$1(14)]="NoToggleToOff",us[us.Radio=flag$1(15)]="Radio",us[us.PushButton=flag$1(16)]="PushButton",us[us.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(us){us[us.Multiline=flag$1(12)]="Multiline",us[us.Password=flag$1(13)]="Password",us[us.FileSelect=flag$1(20)]="FileSelect",us[us.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",us[us.DoNotScroll=flag$1(23)]="DoNotScroll",us[us.Comb=flag$1(24)]="Comb",us[us.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(us){us[us.Combo=flag$1(17)]="Combo",us[us.Edit=flag$1(18)]="Edit",us[us.Sort=flag$1(19)]="Sort",us[us.MultiSelect=flag$1(21)]="MultiSelect",us[us.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",us[us.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.setValues=function(cs){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(cs))throw new InvalidAcroFieldValueError;if(cs.length===0&&this.dict.delete(PDFName.of("V")),cs.length===1&&this.dict.set(PDFName.of("V"),cs[0]),cs.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(cs))}this.updateSelectedIndices(cs)},is.prototype.valuesAreValid=function(cs){for(var lo=this.getOptions(),co=function(ba,$a){var wl=cs[ba].decodeText();if(!lo.find(function(Sl){return wl===(Sl.display||Sl.value).decodeText()}))return{value:!1}},hs=0,uo=cs.length;hs<uo;hs++){var xa=co(hs);if(typeof xa=="object")return xa.value}return!0},is.prototype.updateSelectedIndices=function(cs){if(cs.length>1){for(var lo=new Array(cs.length),co=this.getOptions(),hs=function(ba,$a){var wl=cs[ba].decodeText();lo[ba]=co.findIndex(function(Sl){return wl===(Sl.display||Sl.value).decodeText()})},uo=0,xa=cs.length;uo<xa;uo++)hs(uo,xa);this.dict.set(PDFName.of("I"),this.dict.context.obj(lo.sort()))}else this.dict.delete(PDFName.of("I"))},is.prototype.getValues=function(){var cs=this.V();if(cs instanceof PDFString||cs instanceof PDFHexString)return[cs];if(cs instanceof PDFArray){for(var lo=[],co=0,hs=cs.size();co<hs;co++){var uo=cs.lookup(co);(uo instanceof PDFString||uo instanceof PDFHexString)&&lo.push(uo)}return lo}return[]},is.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},is.prototype.setOptions=function(cs){for(var lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++){var uo=cs[co],xa=uo.value,ba=uo.display;lo[co]=this.dict.context.obj([xa,ba||xa])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(lo))},is.prototype.getOptions=function(){var cs=this.Opt();if(cs instanceof PDFString||cs instanceof PDFHexString)return[{value:cs,display:cs}];if(cs instanceof PDFArray){for(var lo=[],co=0,hs=cs.size();co<hs;co++){var uo=cs.lookup(co);if((uo instanceof PDFString||uo instanceof PDFHexString)&&lo.push({value:uo,display:uo}),uo instanceof PDFArray&&uo.size()>0){var xa=uo.lookup(0,PDFString,PDFHexString),ba=uo.lookupMaybe(1,PDFString,PDFHexString);lo.push({value:xa,display:ba||xa})}}return lo}return[]},is}(PDFAcroTerminal),PDFAcroComboBox=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroChoice),PDFAcroNonTerminal=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.addField=function(cs){var lo=this.normalizedEntries().Kids;lo==null||lo.push(cs)},is.prototype.normalizedEntries=function(){var cs=this.Kids();return cs||(cs=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),cs)),{Kids:cs}},is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroField),PDFAcroSignature=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.fromDict=function(cs,lo){return new is(cs,lo)},is}(PDFAcroTerminal),PDFAcroText=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.MaxLen=function(){var cs=this.dict.lookup(PDFName.of("MaxLen"));if(cs instanceof PDFNumber)return cs},is.prototype.Q=function(){var cs=this.dict.lookup(PDFName.of("Q"));if(cs instanceof PDFNumber)return cs},is.prototype.setMaxLength=function(cs){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(cs))},is.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},is.prototype.getMaxLength=function(){var cs;return(cs=this.MaxLen())===null||cs===void 0?void 0:cs.asNumber()},is.prototype.setQuadding=function(cs){this.dict.set(PDFName.of("Q"),PDFNumber.of(cs))},is.prototype.getQuadding=function(){var cs;return(cs=this.Q())===null||cs===void 0?void 0:cs.asNumber()},is.prototype.setValue=function(cs){this.dict.set(PDFName.of("V"),cs)},is.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},is.prototype.getValue=function(){var cs=this.V();if(cs instanceof PDFString||cs instanceof PDFHexString)return cs},is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({FT:"Tx",Kids:[]}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroTerminal),PDFAcroPushButton=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroButton),PDFAcroRadioButton=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.setValue=function(cs){var lo=this.getOnValues();if(!lo.includes(cs)&&cs!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),cs);for(var co=this.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs],ba=xa.getOnValue()===cs?cs:PDFName.of("Off");xa.setAppearanceState(ba)}},is.prototype.getValue=function(){var cs=this.V();return cs instanceof PDFName?cs:PDFName.of("Off")},is.prototype.getOnValues=function(){for(var cs=this.getWidgets(),lo=[],co=0,hs=cs.length;co<hs;co++){var uo=cs[co].getOnValue();uo&&lo.push(uo)}return lo},is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroButton),PDFAcroListBox=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.fromDict=function(cs,lo){return new is(cs,lo)},is.create=function(cs){var lo=cs.obj({FT:"Ch",Kids:[]}),co=cs.register(lo);return new is(lo,co)},is}(PDFAcroChoice),createPDFAcroFields=function(us){if(!us)return[];for(var is=[],cs=0,lo=us.size();cs<lo;cs++){var co=us.get(cs),hs=us.lookup(cs);co instanceof PDFRef&&hs instanceof PDFDict&&is.push([createPDFAcroField(hs,co),co])}return is},createPDFAcroField=function(us,is){var cs=isNonTerminalAcroField(us);return cs?PDFAcroNonTerminal.fromDict(us,is):createPDFAcroTerminal(us,is)},isNonTerminalAcroField=function(us){var is=us.lookup(PDFName.of("Kids"));if(is instanceof PDFArray)for(var cs=0,lo=is.size();cs<lo;cs++){var co=is.lookup(cs),hs=co instanceof PDFDict&&co.has(PDFName.of("T"));if(hs)return!0}return!1},createPDFAcroTerminal=function(us,is){var cs=getInheritableAttribute(us,PDFName.of("FT")),lo=us.context.lookup(cs,PDFName);return lo===PDFName.of("Btn")?createPDFAcroButton(us,is):lo===PDFName.of("Ch")?createPDFAcroChoice(us,is):lo===PDFName.of("Tx")?PDFAcroText.fromDict(us,is):lo===PDFName.of("Sig")?PDFAcroSignature.fromDict(us,is):PDFAcroTerminal.fromDict(us,is)},createPDFAcroButton=function(us,is){var cs,lo=getInheritableAttribute(us,PDFName.of("Ff")),co=us.context.lookupMaybe(lo,PDFNumber),hs=(cs=co==null?void 0:co.asNumber())!==null&&cs!==void 0?cs:0;return flagIsSet(hs,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(us,is):flagIsSet(hs,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(us,is):PDFAcroCheckBox.fromDict(us,is)},createPDFAcroChoice=function(us,is){var cs,lo=getInheritableAttribute(us,PDFName.of("Ff")),co=us.context.lookupMaybe(lo,PDFNumber),hs=(cs=co==null?void 0:co.asNumber())!==null&&cs!==void 0?cs:0;return flagIsSet(hs,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(us,is):PDFAcroListBox.fromDict(us,is)},flagIsSet=function(us,is){return(us&is)!==0},getInheritableAttribute=function(us,is){var cs;return ascend(us,function(lo){cs||(cs=lo.get(is))}),cs},ascend=function(us,is){is(us);var cs=us.lookupMaybe(PDFName.of("Parent"),PDFDict);cs&&ascend(cs,is)},PDFAcroForm=function(){function us(is){this.dict=is}return us.prototype.Fields=function(){var is=this.dict.lookup(PDFName.of("Fields"));if(is instanceof PDFArray)return is},us.prototype.getFields=function(){for(var is=this.normalizedEntries().Fields,cs=new Array(is.size()),lo=0,co=is.size();lo<co;lo++){var hs=is.get(lo),uo=is.lookup(lo,PDFDict);cs[lo]=[createPDFAcroField(uo,hs),hs]}return cs},us.prototype.getAllFields=function(){var is=[],cs=function(lo){if(lo)for(var co=0,hs=lo.length;co<hs;co++){var uo=lo[co];is.push(uo);var xa=uo[0];xa instanceof PDFAcroNonTerminal&&cs(createPDFAcroFields(xa.Kids()))}};return cs(this.getFields()),is},us.prototype.addField=function(is){var cs=this.normalizedEntries().Fields;cs==null||cs.push(is)},us.prototype.removeField=function(is){var cs=is.getParent(),lo=cs===void 0?this.normalizedEntries().Fields:cs.Kids(),co=lo==null?void 0:lo.indexOf(is.ref);if(lo===void 0||co===void 0)throw new Error("Tried to remove inexistent field "+is.getFullyQualifiedName());lo.remove(co),cs!==void 0&&lo.size()===0&&this.removeField(cs)},us.prototype.normalizedEntries=function(){var is=this.Fields();return is||(is=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),is)),{Fields:is}},us.fromDict=function(is){return new us(is)},us.create=function(is){var cs=is.obj({Fields:[]});return new us(cs)},us}(),PDFCatalog=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},is.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},is.prototype.getAcroForm=function(){var cs=this.AcroForm();if(cs)return PDFAcroForm.fromDict(cs)},is.prototype.getOrCreateAcroForm=function(){var cs=this.getAcroForm();if(!cs){cs=PDFAcroForm.create(this.context);var lo=this.context.register(cs.dict);this.set(PDFName.of("AcroForm"),lo)}return cs},is.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},is.prototype.getViewerPreferences=function(){var cs=this.ViewerPreferences();if(cs)return ViewerPreferences.fromDict(cs)},is.prototype.getOrCreateViewerPreferences=function(){var cs=this.getViewerPreferences();if(!cs){cs=ViewerPreferences.create(this.context);var lo=this.context.register(cs.dict);this.set(PDFName.of("ViewerPreferences"),lo)}return cs},is.prototype.insertLeafNode=function(cs,lo){var co=this.get(PDFName.of("Pages")),hs=this.Pages().insertLeafNode(cs,lo);return hs||co},is.prototype.removeLeafNode=function(cs){this.Pages().removeLeafNode(cs)},is.withContextAndPages=function(cs,lo){var co=new Map;return co.set(PDFName.of("Type"),PDFName.of("Catalog")),co.set(PDFName.of("Pages"),lo),new is(co,cs)},is.fromMapWithContext=function(cs,lo){return new is(cs,lo)},is}(PDFDict),PDFPageTree=function(us){__extends$1(is,us);function is(){return us!==null&&us.apply(this,arguments)||this}return is.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},is.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},is.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},is.prototype.pushTreeNode=function(cs){var lo=this.Kids();lo.push(cs)},is.prototype.pushLeafNode=function(cs){var lo=this.Kids();this.insertLeafKid(lo.size(),cs)},is.prototype.insertLeafNode=function(cs,lo){var co=this.Kids(),hs=this.Count().asNumber();if(lo>hs)throw new InvalidTargetIndexError(lo,hs);for(var uo=lo,xa=0,ba=co.size();xa<ba;xa++){if(uo===0){this.insertLeafKid(xa,cs);return}var $a=co.get(xa),wl=this.context.lookup($a);if(wl instanceof is){if(wl.Count().asNumber()>uo)return wl.insertLeafNode(cs,uo)||$a;uo-=wl.Count().asNumber()}wl instanceof PDFPageLeaf&&(uo-=1)}if(uo===0){this.insertLeafKid(co.size(),cs);return}throw new CorruptPageTreeError(lo,"insertLeafNode")},is.prototype.removeLeafNode=function(cs,lo){lo===void 0&&(lo=!0);var co=this.Kids(),hs=this.Count().asNumber();if(cs>=hs)throw new InvalidTargetIndexError(cs,hs);for(var uo=cs,xa=0,ba=co.size();xa<ba;xa++){var $a=co.get(xa),wl=this.context.lookup($a);if(wl instanceof is)if(wl.Count().asNumber()>uo){wl.removeLeafNode(uo,lo),lo&&wl.Kids().size()===0&&co.remove(xa);return}else uo-=wl.Count().asNumber();if(wl instanceof PDFPageLeaf)if(uo===0){this.removeKid(xa);return}else uo-=1}throw new CorruptPageTreeError(cs,"removeLeafNode")},is.prototype.ascend=function(cs){cs(this);var lo=this.Parent();lo&&lo.ascend(cs)},is.prototype.traverse=function(cs){for(var lo=this.Kids(),co=0,hs=lo.size();co<hs;co++){var uo=lo.get(co),xa=this.context.lookup(uo);xa instanceof is&&xa.traverse(cs),cs(xa,uo)}},is.prototype.insertLeafKid=function(cs,lo){var co=this.Kids();this.ascend(function(hs){var uo=hs.Count().asNumber()+1;hs.set(PDFName.of("Count"),PDFNumber.of(uo))}),co.insert(cs,lo)},is.prototype.removeKid=function(cs){var lo=this.Kids(),co=lo.lookup(cs);co instanceof PDFPageLeaf&&this.ascend(function(hs){var uo=hs.Count().asNumber()-1;hs.set(PDFName.of("Count"),PDFNumber.of(uo))}),lo.remove(cs)},is.withContext=function(cs,lo){var co=new Map;return co.set(PDFName.of("Type"),PDFName.of("Pages")),co.set(PDFName.of("Kids"),cs.obj([])),co.set(PDFName.of("Count"),cs.obj(0)),lo&&co.set(PDFName.of("Parent"),lo),new is(co,cs)},is.fromMapWithContext=function(cs,lo){return new is(cs,lo)},is}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function us(is,cs){cs===void 0&&(cs=!1),this.bytes=is,this.capNumbers=cs}return us.prototype.parseRawInt=function(){for(var is="";!this.bytes.done();){var cs=this.bytes.peek();if(!IsDigit[cs])break;is+=charFromCode(this.bytes.next())}var lo=Number(is);if(!is||!isFinite(lo))throw new NumberParsingError(this.bytes.position(),is);return lo},us.prototype.parseRawNumber=function(){for(var is="";!this.bytes.done();){var cs=this.bytes.peek();if(!IsNumeric[cs]||(is+=charFromCode(this.bytes.next()),cs===CharCodes$1.Period))break}for(;!this.bytes.done();){var cs=this.bytes.peek();if(!IsDigit[cs])break;is+=charFromCode(this.bytes.next())}var lo=Number(is);if(!is||!isFinite(lo))throw new NumberParsingError(this.bytes.position(),is);if(lo>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var co="Parsed number that is too large for some PDF readers: "+is+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(co),Number.MAX_SAFE_INTEGER}else{var co="Parsed number that is too large for some PDF readers: "+is+", not capping.";console.warn(co)}return lo},us.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},us.prototype.skipLine=function(){for(;!this.bytes.done();){var is=this.bytes.peek();if(is===Newline$1||is===CarriageReturn$1)return;this.bytes.next()}},us.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var is=this.bytes.peek();if(is===Newline$1||is===CarriageReturn$1)return!0;this.bytes.next()}return!0},us.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},us.prototype.matchKeyword=function(is){for(var cs=this.bytes.offset(),lo=0,co=is.length;lo<co;lo++)if(this.bytes.done()||this.bytes.next()!==is[lo])return this.bytes.moveTo(cs),!1;return!0},us}(),ByteStream=function(){function us(is){this.idx=0,this.line=0,this.column=0,this.bytes=is,this.length=this.bytes.length}return us.prototype.moveTo=function(is){this.idx=is},us.prototype.next=function(){var is=this.bytes[this.idx++];return is===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,is},us.prototype.assertNext=function(is){if(this.peek()!==is)throw new NextByteAssertionError(this.position(),is,this.peek());return this.next()},us.prototype.peek=function(){return this.bytes[this.idx]},us.prototype.peekAhead=function(is){return this.bytes[this.idx+is]},us.prototype.peekAt=function(is){return this.bytes[is]},us.prototype.done=function(){return this.idx>=this.length},us.prototype.offset=function(){return this.idx},us.prototype.slice=function(is,cs){return this.bytes.slice(is,cs)},us.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},us.of=function(is){return new us(is)},us.fromPDFRawStream=function(is){return us.of(decodePDFRawStream(is).decode())},us}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays$1(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays$1(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays$1(stream,[CarriageReturn]),streamEOF4:__spreadArrays$1(stream,[Newline]),endstream,EOF1endstream:__spreadArrays$1([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays$1([CarriageReturn],endstream),EOF3endstream:__spreadArrays$1([Newline],endstream)},PDFObjectParser=function(us){__extends$1(is,us);function is(cs,lo,co){co===void 0&&(co=!1);var hs=us.call(this,cs,co)||this;return hs.context=lo,hs}return is.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var cs=this.bytes.peek();if(cs===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(cs===CharCodes$1.LessThan)return this.parseHexString();if(cs===CharCodes$1.LeftParen)return this.parseString();if(cs===CharCodes$1.ForwardSlash)return this.parseName();if(cs===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[cs])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),cs)},is.prototype.parseNumberOrRef=function(){var cs=this.parseRawNumber();this.skipWhitespaceAndComments();var lo=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var co=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(cs,co)}return this.bytes.moveTo(lo),PDFNumber.of(cs)},is.prototype.parseHexString=function(){var cs="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)cs+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(cs)},is.prototype.parseString=function(){for(var cs=0,lo=!1,co="";!this.bytes.done();){var hs=this.bytes.next();if(co+=charFromCode(hs),lo||(hs===CharCodes$1.LeftParen&&(cs+=1),hs===CharCodes$1.RightParen&&(cs-=1)),hs===CharCodes$1.BackSlash?lo=!lo:lo&&(lo=!1),cs===0)return PDFString.of(co.substring(1,co.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},is.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var cs="";!this.bytes.done();){var lo=this.bytes.peek();if(IsWhitespace[lo]||IsDelimiter[lo])break;cs+=charFromCode(lo),this.bytes.next()}return PDFName.of(cs)},is.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var cs=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var lo=this.parseObject();cs.push(lo),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),cs},is.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var cs=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var lo=this.parseName(),co=this.parseObject();cs.set(lo,co),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var hs=cs.get(PDFName.of("Type"));return hs===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(cs,this.context):hs===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(cs,this.context):hs===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(cs,this.context):PDFDict.fromMapWithContext(cs,this.context)},is.prototype.parseDictOrStream=function(){var cs=this.bytes.position(),lo=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return lo;var co=this.bytes.offset(),hs,uo=lo.get(PDFName.of("Length"));uo instanceof PDFNumber?(hs=co+uo.asNumber(),this.bytes.moveTo(hs),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(co),hs=this.findEndOfStreamFallback(cs))):hs=this.findEndOfStreamFallback(cs);var xa=this.bytes.slice(co,hs);return PDFRawStream.of(lo,xa)},is.prototype.findEndOfStreamFallback=function(cs){for(var lo=1,co=this.bytes.offset();!this.bytes.done()&&(co=this.bytes.offset(),this.matchKeyword(Keywords.stream)?lo+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?lo-=1:this.bytes.next(),lo!==0););if(lo!==0)throw new PDFStreamParsingError(cs);return co},is.forBytes=function(cs,lo,co){return new is(ByteStream.of(cs),lo,co)},is.forByteStream=function(cs,lo,co){return co===void 0&&(co=!1),new is(cs,lo,co)},is}(BaseParser),PDFObjectStreamParser=function(us){__extends$1(is,us);function is(cs,lo){var co=us.call(this,ByteStream.fromPDFRawStream(cs),cs.dict.context)||this,hs=cs.dict;return co.alreadyParsed=!1,co.shouldWaitForTick=lo||function(){return!1},co.firstOffset=hs.lookup(PDFName.of("First"),PDFNumber).asNumber(),co.objectCount=hs.lookup(PDFName.of("N"),PDFNumber).asNumber(),co}return is.prototype.parseIntoContext=function(){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo,xa,ba,$a;return __generator$1(this,function(wl){switch(wl.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,cs=this.parseOffsetsAndObjectNumbers(),lo=0,co=cs.length,wl.label=1;case 1:return lo<co?(hs=cs[lo],uo=hs.objectNumber,xa=hs.offset,this.bytes.moveTo(this.firstOffset+xa),ba=this.parseObject(),$a=PDFRef.of(uo,0),this.context.assign($a,ba),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:wl.sent(),wl.label=3;case 3:return lo++,[3,1];case 4:return[2]}})})},is.prototype.parseOffsetsAndObjectNumbers=function(){for(var cs=[],lo=0,co=this.objectCount;lo<co;lo++){this.skipWhitespaceAndComments();var hs=this.parseRawInt();this.skipWhitespaceAndComments();var uo=this.parseRawInt();cs.push({objectNumber:hs,offset:uo})}return cs},is.forStream=function(cs,lo){return new is(cs,lo)},is}(PDFObjectParser),PDFXRefStreamParser=function(){function us(is){this.alreadyParsed=!1,this.dict=is.dict,this.bytes=ByteStream.fromPDFRawStream(is),this.context=this.dict.context;var cs=this.dict.lookup(PDFName.of("Size"),PDFNumber),lo=this.dict.lookup(PDFName.of("Index"));if(lo instanceof PDFArray){this.subsections=[];for(var co=0,hs=lo.size();co<hs;co+=2){var uo=lo.lookup(co+0,PDFNumber).asNumber(),xa=lo.lookup(co+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:uo,length:xa})}}else this.subsections=[{firstObjectNumber:0,length:cs.asNumber()}];var ba=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var co=0,hs=ba.size();co<hs;co++)this.byteWidths[co]=ba.lookup(co,PDFNumber).asNumber()}return us.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var is=this.parseEntries();return is},us.prototype.parseEntries=function(){for(var is=[],cs=this.byteWidths,lo=cs[0],co=cs[1],hs=cs[2],uo=0,xa=this.subsections.length;uo<xa;uo++)for(var ba=this.subsections[uo],$a=ba.firstObjectNumber,wl=ba.length,Sl=0;Sl<wl;Sl++){for(var Cl=0,_l=0,Il=lo;_l<Il;_l++)Cl=Cl<<8|this.bytes.next();for(var Fl=0,_l=0,Il=co;_l<Il;_l++)Fl=Fl<<8|this.bytes.next();for(var Ml=0,_l=0,Il=hs;_l<Il;_l++)Ml=Ml<<8|this.bytes.next();lo===0&&(Cl=1);var Tl=$a+Sl,Dl={ref:PDFRef.of(Tl,Ml),offset:Fl,deleted:Cl===0,inObjectStream:Cl===2};is.push(Dl)}return is},us.forStream=function(is){return new us(is)},us}(),PDFParser=function(us){__extends$1(is,us);function is(cs,lo,co,hs){lo===void 0&&(lo=1/0),co===void 0&&(co=!1),hs===void 0&&(hs=!1);var uo=us.call(this,ByteStream.of(cs),PDFContext.create(),hs)||this;return uo.alreadyParsed=!1,uo.parsedObjects=0,uo.shouldWaitForTick=function(){return uo.parsedObjects+=1,uo.parsedObjects%uo.objectsPerTick===0},uo.objectsPerTick=lo,uo.throwOnInvalidObject=co,uo}return is.prototype.parseDocument=function(){return __awaiter$1(this,void 0,void 0,function(){var cs,lo;return __generator$1(this,function(co){switch(co.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),co.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(co.sent(),lo=this.bytes.offset(),lo===cs)throw new StalledParserError(this.bytes.position());return cs=lo,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},is.prototype.maybeRecoverRoot=function(){var cs=function(wl){return wl instanceof PDFDict&&wl.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},lo=this.context.lookup(this.context.trailerInfo.Root);if(!cs(lo))for(var co=this.context.enumerateIndirectObjects(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs],ba=xa[0],$a=xa[1];cs($a)&&(this.context.trailerInfo.Root=ba)}},is.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var cs=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var lo=this.parseRawInt(),co=PDFHeader.forVersion(cs,lo);return this.skipBinaryHeaderComment(),co}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},is.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var cs=this.parseRawInt();this.skipWhitespaceAndComments();var lo=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(cs,lo)},is.prototype.matchIndirectObjectHeader=function(){var cs=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(cs),!1}},is.prototype.parseIndirectObject=function(){return __awaiter$1(this,void 0,void 0,function(){var cs,lo;return __generator$1(this,function(co){switch(co.label){case 0:return cs=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),lo=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),lo instanceof PDFRawStream&&lo.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(lo,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return co.sent(),[3,3];case 2:lo instanceof PDFRawStream&&lo.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(lo).parseIntoContext():this.context.assign(cs,lo),co.label=3;case 3:return[2,cs]}})})},is.prototype.tryToParseInvalidIndirectObject=function(){var cs=this.bytes.position(),lo="Trying to parse invalid object: "+JSON.stringify(cs)+")";if(this.throwOnInvalidObject)throw new Error(lo);console.warn(lo);var co=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+co),this.skipWhitespaceAndComments();for(var hs=this.bytes.offset(),uo=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(uo=!1),!!uo);)this.bytes.next();if(uo)throw new PDFInvalidObjectParsingError(cs);var xa=this.bytes.offset()-Keywords.endobj.length,ba=PDFInvalidObject.of(this.bytes.slice(hs,xa));return this.context.assign(co,ba),co},is.prototype.parseIndirectObjects=function(){return __awaiter$1(this,void 0,void 0,function(){var cs;return __generator$1(this,function(lo){switch(lo.label){case 0:this.skipWhitespaceAndComments(),lo.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];cs=this.bytes.offset(),lo.label=2;case 2:return lo.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return lo.sent(),[3,5];case 4:return lo.sent(),this.bytes.moveTo(cs),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:lo.sent(),lo.label=7;case 7:return[3,1];case 8:return[2]}})})},is.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var cs=-1,lo=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var co=this.parseRawInt();this.skipWhitespaceAndComments();var hs=this.parseRawInt();this.skipWhitespaceAndComments();var uo=this.bytes.peek();if(uo===CharCodes$1.n||uo===CharCodes$1.f){var xa=PDFRef.of(cs,hs);this.bytes.next()===CharCodes$1.n?lo.addEntry(xa,co):lo.addDeletedEntry(xa,co),cs+=1}else cs=co;this.skipWhitespaceAndComments()}return lo}},is.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var cs=this.parseDict(),lo=this.context;lo.trailerInfo={Root:cs.get(PDFName.of("Root"))||lo.trailerInfo.Root,Encrypt:cs.get(PDFName.of("Encrypt"))||lo.trailerInfo.Encrypt,Info:cs.get(PDFName.of("Info"))||lo.trailerInfo.Info,ID:cs.get(PDFName.of("ID"))||lo.trailerInfo.ID}}},is.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var cs=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(cs)}},is.prototype.parseDocumentSection=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(cs){switch(cs.label){case 0:return[4,this.parseIndirectObjects()];case 1:return cs.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},is.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var cs=this.bytes.offset(),lo=this.bytes.peek(),co=lo>=CharCodes$1.Space&&lo<=CharCodes$1.Tilde;if(co&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(cs);break}this.bytes.next()}},is.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var cs=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(cs)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},is.forBytesWithOptions=function(cs,lo,co,hs){return new is(cs,lo,co,hs)},is}(PDFObjectParser),flag=function(us){return 1<<us},AnnotationFlags;(function(us){us[us.Invisible=flag(0)]="Invisible",us[us.Hidden=flag(1)]="Hidden",us[us.Print=flag(2)]="Print",us[us.NoZoom=flag(3)]="NoZoom",us[us.NoRotate=flag(4)]="NoRotate",us[us.NoView=flag(5)]="NoView",us[us.ReadOnly=flag(6)]="ReadOnly",us[us.Locked=flag(7)]="Locked",us[us.ToggleNoView=flag(8)]="ToggleNoView",us[us.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(us){return us instanceof PDFName?us:PDFName.of(us)},asPDFNumber=function(us){return us instanceof PDFNumber?us:PDFNumber.of(us)},asNumber=function(us){return us instanceof PDFNumber?us.asNumber():us},RotationTypes;(function(us){us.Degrees="degrees",us.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(us){return assertIs(us,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:us}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(us){return us*Math.PI/180},radiansToDegrees=function(us){return us*180/Math.PI},toRadians=function(us){return us.type===Radians?us.angle:us.type===Degrees?degreesToRadians(us.angle):error("Invalid rotation: "+JSON.stringify(us))},toDegrees=function(us){return us.type===Radians?radiansToDegrees(us.angle):us.type===Degrees?us.angle:error("Invalid rotation: "+JSON.stringify(us))},reduceRotation=function(us){us===void 0&&(us=0);var is=us/90%4;return is===0?0:is===1?90:is===2?180:is===3?270:0},adjustDimsForRotation=function(us,is){is===void 0&&(is=0);var cs=reduceRotation(is);return cs===90||cs===270?{width:us.height,height:us.width}:{width:us.width,height:us.height}},rotateRectangle=function(us,is,cs){is===void 0&&(is=0),cs===void 0&&(cs=0);var lo=us.x,co=us.y,hs=us.width,uo=us.height,xa=reduceRotation(cs),ba=is/2;return xa===0?{x:lo-ba,y:co-ba,width:hs,height:uo}:xa===90?{x:lo-uo+ba,y:co-ba,width:uo,height:hs}:xa===180?{x:lo-hs+ba,y:co-uo+ba,width:hs,height:uo}:xa===270?{x:lo-ba,y:co-hs+ba,width:uo,height:hs}:{x:lo-ba,y:co-ba,width:hs,height:uo}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(us,is,cs,lo,co,hs){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs),asPDFNumber(lo),asPDFNumber(co),asPDFNumber(hs)])},translate=function(us,is){return concatTransformationMatrix(1,0,0,1,us,is)},scale=function(us,is){return concatTransformationMatrix(us,0,0,is,0,0)},rotateRadians=function(us){return concatTransformationMatrix(cos(asNumber(us)),sin(asNumber(us)),-sin(asNumber(us)),cos(asNumber(us)),0,0)},rotateDegrees=function(us){return rotateRadians(degreesToRadians(asNumber(us)))},skewRadians=function(us,is){return concatTransformationMatrix(1,tan(asNumber(us)),tan(asNumber(is)),1,0,0)},setDashPattern=function(us,is){return PDFOperator.of(Ops.SetLineDashPattern,["["+us.map(asPDFNumber).join(" ")+"]",asPDFNumber(is)])},LineCapStyle;(function(us){us[us.Butt=0]="Butt",us[us.Round=1]="Round",us[us.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(us){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(us)])},LineJoinStyle;(function(us){us[us.Miter=0]="Miter",us[us.Round=1]="Round",us[us.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(us){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(us)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(us){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(us)])},appendBezierCurve=function(us,is,cs,lo,co,hs){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs),asPDFNumber(lo),asPDFNumber(co),asPDFNumber(hs)])},appendQuadraticCurve=function(us,is,cs,lo){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs),asPDFNumber(lo)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(us,is){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(us),asPDFNumber(is)])},lineTo=function(us,is){return PDFOperator.of(Ops.LineTo,[asPDFNumber(us),asPDFNumber(is)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(us){return PDFOperator.of(Ops.ShowText,[us])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(us,is){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(us),asPDFNumber(is)])},setLineHeight=function(us){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(us)])},TextRenderingMode;(function(us){us[us.Fill=0]="Fill",us[us.Outline=1]="Outline",us[us.FillAndOutline=2]="FillAndOutline",us[us.Invisible=3]="Invisible",us[us.FillAndClip=4]="FillAndClip",us[us.OutlineAndClip=5]="OutlineAndClip",us[us.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",us[us.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(us,is,cs,lo,co,hs){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs),asPDFNumber(lo),asPDFNumber(co),asPDFNumber(hs)])},rotateAndSkewTextRadiansAndTranslate=function(us,is,cs,lo,co){return setTextMatrix(cos(asNumber(us)),sin(asNumber(us))+tan(asNumber(is)),-sin(asNumber(us))+tan(asNumber(cs)),cos(asNumber(us)),lo,co)},drawObject=function(us){return PDFOperator.of(Ops.DrawObject,[asPDFName(us)])},setFillingGrayscaleColor=function(us){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(us)])},setStrokingGrayscaleColor=function(us){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(us)])},setFillingRgbColor=function(us,is,cs){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs)])},setStrokingRgbColor=function(us,is,cs){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs)])},setFillingCmykColor=function(us,is,cs,lo){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs),asPDFNumber(lo)])},setStrokingCmykColor=function(us,is,cs,lo){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(us),asPDFNumber(is),asPDFNumber(cs),asPDFNumber(lo)])},beginMarkedContent=function(us){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(us)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(us){us.Grayscale="Grayscale",us.RGB="RGB",us.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(us){return assertRange(us,"gray",0,1),{type:ColorTypes.Grayscale,gray:us}},rgb=function(us,is,cs){return assertRange(us,"red",0,1),assertRange(is,"green",0,1),assertRange(cs,"blue",0,1),{type:ColorTypes.RGB,red:us,green:is,blue:cs}},cmyk=function(us,is,cs,lo){return assertRange(us,"cyan",0,1),assertRange(is,"magenta",0,1),assertRange(cs,"yellow",0,1),assertRange(lo,"key",0,1),{type:ColorTypes.CMYK,cyan:us,magenta:is,yellow:cs,key:lo}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(us){return us.type===Grayscale?setFillingGrayscaleColor(us.gray):us.type===RGB?setFillingRgbColor(us.red,us.green,us.blue):us.type===CMYK?setFillingCmykColor(us.cyan,us.magenta,us.yellow,us.key):error("Invalid color: "+JSON.stringify(us))},setStrokingColor=function(us){return us.type===Grayscale?setStrokingGrayscaleColor(us.gray):us.type===RGB?setStrokingRgbColor(us.red,us.green,us.blue):us.type===CMYK?setStrokingCmykColor(us.cyan,us.magenta,us.yellow,us.key):error("Invalid color: "+JSON.stringify(us))},componentsToColor=function(us,is){return is===void 0&&(is=1),(us==null?void 0:us.length)===1?grayscale(us[0]*is):(us==null?void 0:us.length)===3?rgb(us[0]*is,us[1]*is,us[2]*is):(us==null?void 0:us.length)===4?cmyk(us[0]*is,us[1]*is,us[2]*is,us[3]*is):void 0},colorToComponents=function(us){return us.type===Grayscale?[us.gray]:us.type===RGB?[us.red,us.green,us.blue]:us.type===CMYK?[us.cyan,us.magenta,us.yellow,us.key]:error("Invalid color: "+JSON.stringify(us))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(us){for(var is,cs=[],lo=[],co="",hs=!1,uo=0,xa=0,ba=us;xa<ba.length;xa++){var $a=ba[xa];if(parameters.has($a))uo=parameters.get($a),is&&(co.length>0&&(lo[lo.length]=+co),cs[cs.length]={cmd:is,args:lo},lo=[],co="",hs=!1),is=$a;else if([" ",","].includes($a)||$a==="-"&&co.length>0&&co[co.length-1]!=="e"||$a==="."&&hs){if(co.length===0)continue;lo.length===uo?(cs[cs.length]={cmd:is,args:lo},lo=[+co],is==="M"&&(is="L"),is==="m"&&(is="l")):lo[lo.length]=+co,hs=$a===".",co=["-","."].includes($a)?$a:""}else co+=$a,$a==="."&&(hs=!0)}return co.length>0&&(lo.length===uo?(cs[cs.length]={cmd:is,args:lo},lo=[+co],is==="M"&&(is="L"),is==="m"&&(is="l")):lo[lo.length]=+co),cs[cs.length]={cmd:is,args:lo},cs},apply=function(us){cx=cy=px=py=sx=sy=0;for(var is=[],cs=0;cs<us.length;cs++){var lo=us[cs];if(lo.cmd&&typeof runners[lo.cmd]=="function"){var co=runners[lo.cmd](lo.args);Array.isArray(co)?is=is.concat(co):is.push(co)}}return is},runners={M:function(us){return cx=us[0],cy=us[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(us){return cx+=us[0],cy+=us[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(us){return cx=us[4],cy=us[5],px=us[2],py=us[3],appendBezierCurve(us[0],us[1],us[2],us[3],us[4],us[5])},c:function(us){var is=appendBezierCurve(us[0]+cx,us[1]+cy,us[2]+cx,us[3]+cy,us[4]+cx,us[5]+cy);return px=cx+us[2],py=cy+us[3],cx+=us[4],cy+=us[5],is},S:function(us){(px===null||py===null)&&(px=cx,py=cy);var is=appendBezierCurve(cx-(px-cx),cy-(py-cy),us[0],us[1],us[2],us[3]);return px=us[0],py=us[1],cx=us[2],cy=us[3],is},s:function(us){(px===null||py===null)&&(px=cx,py=cy);var is=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+us[0],cy+us[1],cx+us[2],cy+us[3]);return px=cx+us[0],py=cy+us[1],cx+=us[2],cy+=us[3],is},Q:function(us){return px=us[0],py=us[1],cx=us[2],cy=us[3],appendQuadraticCurve(us[0],us[1],cx,cy)},q:function(us){var is=appendQuadraticCurve(us[0]+cx,us[1]+cy,us[2]+cx,us[3]+cy);return px=cx+us[0],py=cy+us[1],cx+=us[2],cy+=us[3],is},T:function(us){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var is=appendQuadraticCurve(px,py,us[0],us[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=us[0],cy=us[1],is},t:function(us){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var is=appendQuadraticCurve(px,py,cx+us[0],cy+us[1]);return cx+=us[0],cy+=us[1],is},A:function(us){var is=solveArc(cx,cy,us);return cx=us[5],cy=us[6],is},a:function(us){us[5]+=cx,us[6]+=cy;var is=solveArc(cx,cy,us);return cx=us[5],cy=us[6],is},L:function(us){return cx=us[0],cy=us[1],px=py=null,lineTo(cx,cy)},l:function(us){return cx+=us[0],cy+=us[1],px=py=null,lineTo(cx,cy)},H:function(us){return cx=us[0],px=py=null,lineTo(cx,cy)},h:function(us){return cx+=us[0],px=py=null,lineTo(cx,cy)},V:function(us){return cy=us[0],px=py=null,lineTo(cx,cy)},v:function(us){return cy+=us[0],px=py=null,lineTo(cx,cy)},Z:function(){var us=closePath();return cx=sx,cy=sy,us},z:function(){var us=closePath();return cx=sx,cy=sy,us}},solveArc=function(us,is,cs){for(var lo=cs[0],co=cs[1],hs=cs[2],uo=cs[3],xa=cs[4],ba=cs[5],$a=cs[6],wl=arcToSegments(ba,$a,lo,co,uo,xa,hs,us,is),Sl=[],Cl=0,_l=wl;Cl<_l.length;Cl++){var Il=_l[Cl],Fl=segmentToBezier.apply(void 0,Il);Sl.push(appendBezierCurve.apply(void 0,Fl))}return Sl},arcToSegments=function(us,is,cs,lo,co,hs,uo,xa,ba){var $a=uo*(Math.PI/180),wl=Math.sin($a),Sl=Math.cos($a);cs=Math.abs(cs),lo=Math.abs(lo),px=Sl*(xa-us)*.5+wl*(ba-is)*.5,py=Sl*(ba-is)*.5-wl*(xa-us)*.5;var Cl=px*px/(cs*cs)+py*py/(lo*lo);Cl>1&&(Cl=Math.sqrt(Cl),cs*=Cl,lo*=Cl);var _l=Sl/cs,Il=wl/cs,Fl=-wl/lo,Ml=Sl/lo,Tl=_l*xa+Il*ba,Dl=Fl*xa+Ml*ba,Bl=_l*us+Il*is,Ll=Fl*us+Ml*is,Nl=(Bl-Tl)*(Bl-Tl)+(Ll-Dl)*(Ll-Dl),zl=1/Nl-.25;zl<0&&(zl=0);var $l=Math.sqrt(zl);hs===co&&($l=-$l);var Vl=.5*(Tl+Bl)-$l*(Ll-Dl),Gl=.5*(Dl+Ll)+$l*(Bl-Tl),iu=Math.atan2(Dl-Gl,Tl-Vl),nu=Math.atan2(Ll-Gl,Bl-Vl),Jl=nu-iu;Jl<0&&hs===1?Jl+=2*Math.PI:Jl>0&&hs===0&&(Jl-=2*Math.PI);for(var lu=Math.ceil(Math.abs(Jl/(Math.PI*.5+.001))),ju=[],zu=0;zu<lu;zu++){var Wu=iu+zu*Jl/lu,qu=iu+(zu+1)*Jl/lu;ju[zu]=[Vl,Gl,Wu,qu,cs,lo,wl,Sl]}return ju},segmentToBezier=function(us,is,cs,lo,co,hs,uo,xa){var ba=xa*co,$a=-uo*hs,wl=uo*co,Sl=xa*hs,Cl=.5*(lo-cs),_l=8/3*Math.sin(Cl*.5)*Math.sin(Cl*.5)/Math.sin(Cl),Il=us+Math.cos(cs)-_l*Math.sin(cs),Fl=is+Math.sin(cs)+_l*Math.cos(cs),Ml=us+Math.cos(lo),Tl=is+Math.sin(lo),Dl=Ml+_l*Math.sin(lo),Bl=Tl-_l*Math.cos(lo),Ll=[ba*Il+$a*Fl,wl*Il+Sl*Fl,ba*Dl+$a*Bl,wl*Dl+Sl*Bl,ba*Ml+$a*Tl,wl*Ml+Sl*Tl];return Ll},svgPathToOperators=function(us){return apply(parse(us))},drawLinesOfText=function(us,is){for(var cs=[pushGraphicsState(),is.graphicsState&&setGraphicsState(is.graphicsState),beginText(),setFillingColor(is.color),setFontAndSize(is.font,is.size),setLineHeight(is.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(is.rotate),toRadians(is.xSkew),toRadians(is.ySkew),is.x,is.y)].filter(Boolean),lo=0,co=us.length;lo<co;lo++)cs.push(showText(us[lo]),nextLine());return cs.push(endText(),popGraphicsState()),cs},drawImage=function(us,is){return[pushGraphicsState(),is.graphicsState&&setGraphicsState(is.graphicsState),translate(is.x,is.y),rotateRadians(toRadians(is.rotate)),scale(is.width,is.height),skewRadians(toRadians(is.xSkew),toRadians(is.ySkew)),drawObject(us),popGraphicsState()].filter(Boolean)},drawPage=function(us,is){return[pushGraphicsState(),is.graphicsState&&setGraphicsState(is.graphicsState),translate(is.x,is.y),rotateRadians(toRadians(is.rotate)),scale(is.xScale,is.yScale),skewRadians(toRadians(is.xSkew),toRadians(is.ySkew)),drawObject(us),popGraphicsState()].filter(Boolean)},drawLine=function(us){var is,cs;return[pushGraphicsState(),us.graphicsState&&setGraphicsState(us.graphicsState),us.color&&setStrokingColor(us.color),setLineWidth(us.thickness),setDashPattern((is=us.dashArray)!==null&&is!==void 0?is:[],(cs=us.dashPhase)!==null&&cs!==void 0?cs:0),moveTo(us.start.x,us.start.y),us.lineCap&&setLineCap(us.lineCap),moveTo(us.start.x,us.start.y),lineTo(us.end.x,us.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(us){var is,cs;return[pushGraphicsState(),us.graphicsState&&setGraphicsState(us.graphicsState),us.color&&setFillingColor(us.color),us.borderColor&&setStrokingColor(us.borderColor),setLineWidth(us.borderWidth),us.borderLineCap&&setLineCap(us.borderLineCap),setDashPattern((is=us.borderDashArray)!==null&&is!==void 0?is:[],(cs=us.borderDashPhase)!==null&&cs!==void 0?cs:0),translate(us.x,us.y),rotateRadians(toRadians(us.rotate)),skewRadians(toRadians(us.xSkew),toRadians(us.ySkew)),moveTo(0,0),lineTo(0,us.height),lineTo(us.width,us.height),lineTo(us.width,0),closePath(),us.color&&us.borderWidth?fillAndStroke():us.color?fill():us.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(us){var is=asNumber(us.x),cs=asNumber(us.y),lo=asNumber(us.xScale),co=asNumber(us.yScale);is-=lo,cs-=co;var hs=lo*KAPPA,uo=co*KAPPA,xa=is+lo*2,ba=cs+co*2,$a=is+lo,wl=cs+co;return[pushGraphicsState(),moveTo(is,wl),appendBezierCurve(is,wl-uo,$a-hs,cs,$a,cs),appendBezierCurve($a+hs,cs,xa,wl-uo,xa,wl),appendBezierCurve(xa,wl+uo,$a+hs,ba,$a,ba),appendBezierCurve($a-hs,ba,is,wl+uo,is,wl),popGraphicsState()]},drawEllipseCurves=function(us){var is=asNumber(us.x),cs=asNumber(us.y),lo=asNumber(us.xScale),co=asNumber(us.yScale),hs=-lo,uo=-co,xa=lo*KAPPA,ba=co*KAPPA,$a=hs+lo*2,wl=uo+co*2,Sl=hs+lo,Cl=uo+co;return[translate(is,cs),rotateRadians(toRadians(us.rotate)),moveTo(hs,Cl),appendBezierCurve(hs,Cl-ba,Sl-xa,uo,Sl,uo),appendBezierCurve(Sl+xa,uo,$a,Cl-ba,$a,Cl),appendBezierCurve($a,Cl+ba,Sl+xa,wl,Sl,wl),appendBezierCurve(Sl-xa,wl,hs,Cl+ba,hs,Cl)]},drawEllipse=function(us){var is,cs,lo;return __spreadArrays$1([pushGraphicsState(),us.graphicsState&&setGraphicsState(us.graphicsState),us.color&&setFillingColor(us.color),us.borderColor&&setStrokingColor(us.borderColor),setLineWidth(us.borderWidth),us.borderLineCap&&setLineCap(us.borderLineCap),setDashPattern((is=us.borderDashArray)!==null&&is!==void 0?is:[],(cs=us.borderDashPhase)!==null&&cs!==void 0?cs:0)],us.rotate===void 0?drawEllipsePath({x:us.x,y:us.y,xScale:us.xScale,yScale:us.yScale}):drawEllipseCurves({x:us.x,y:us.y,xScale:us.xScale,yScale:us.yScale,rotate:(lo=us.rotate)!==null&&lo!==void 0?lo:degrees(0)}),[us.color&&us.borderWidth?fillAndStroke():us.color?fill():us.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(us,is){var cs,lo,co;return __spreadArrays$1([pushGraphicsState(),is.graphicsState&&setGraphicsState(is.graphicsState),translate(is.x,is.y),rotateRadians(toRadians((cs=is.rotate)!==null&&cs!==void 0?cs:degrees(0))),is.scale?scale(is.scale,-is.scale):scale(1,-1),is.color&&setFillingColor(is.color),is.borderColor&&setStrokingColor(is.borderColor),is.borderWidth&&setLineWidth(is.borderWidth),is.borderLineCap&&setLineCap(is.borderLineCap),setDashPattern((lo=is.borderDashArray)!==null&&lo!==void 0?lo:[],(co=is.borderDashPhase)!==null&&co!==void 0?co:0)],svgPathToOperators(us),[is.color&&is.borderWidth?fillAndStroke():is.color?fill():is.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(us){var is=asNumber(us.size),cs=-1+.75,lo=-1+.51,co=1-.525,hs=1-.31,uo=-1+.325,xa=.3995/(co-lo)+lo;return[pushGraphicsState(),us.color&&setStrokingColor(us.color),setLineWidth(us.thickness),translate(us.x,us.y),moveTo(uo*is,xa*is),lineTo(cs*is,lo*is),lineTo(hs*is,co*is),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(us){return us.rotation===0?[translate(0,0),rotateDegrees(0)]:us.rotation===90?[translate(us.width,0),rotateDegrees(90)]:us.rotation===180?[translate(us.width,us.height),rotateDegrees(180)]:us.rotation===270?[translate(0,us.height),rotateDegrees(270)]:[]},drawCheckBox=function(us){var is=drawRectangle({x:us.x,y:us.y,width:us.width,height:us.height,borderWidth:us.borderWidth,color:us.color,borderColor:us.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!us.filled)return is;var cs=asNumber(us.width),lo=asNumber(us.height),co=Math.min(cs,lo)/2,hs=drawCheckMark({x:cs/2,y:lo/2,size:co,thickness:us.thickness,color:us.markColor});return __spreadArrays$1([pushGraphicsState()],is,hs,[popGraphicsState()])},drawRadioButton=function(us){var is=asNumber(us.width),cs=asNumber(us.height),lo=Math.min(is,cs)/2,co=drawEllipse({x:us.x,y:us.y,xScale:lo,yScale:lo,color:us.color,borderColor:us.borderColor,borderWidth:us.borderWidth});if(!us.filled)return co;var hs=drawEllipse({x:us.x,y:us.y,xScale:lo*.45,yScale:lo*.45,color:us.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays$1([pushGraphicsState()],co,hs,[popGraphicsState()])},drawButton=function(us){var is=asNumber(us.x),cs=asNumber(us.y),lo=asNumber(us.width),co=asNumber(us.height),hs=drawRectangle({x:is,y:cs,width:lo,height:co,borderWidth:us.borderWidth,color:us.color,borderColor:us.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),uo=drawTextLines(us.textLines,{color:us.textColor,font:us.font,size:us.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays$1([pushGraphicsState()],hs,uo,[popGraphicsState()])},drawTextLines=function(us,is){for(var cs=[beginText(),setFillingColor(is.color),setFontAndSize(is.font,is.size)],lo=0,co=us.length;lo<co;lo++){var hs=us[lo],uo=hs.encoded,xa=hs.x,ba=hs.y;cs.push(rotateAndSkewTextRadiansAndTranslate(toRadians(is.rotate),toRadians(is.xSkew),toRadians(is.ySkew),xa,ba),showText(uo))}return cs.push(endText()),cs},drawTextField=function(us){var is=asNumber(us.x),cs=asNumber(us.y),lo=asNumber(us.width),co=asNumber(us.height),hs=asNumber(us.borderWidth),uo=asNumber(us.padding),xa=is+hs/2+uo,ba=cs+hs/2+uo,$a=lo-(hs/2+uo)*2,wl=co-(hs/2+uo)*2,Sl=[moveTo(xa,ba),lineTo(xa,ba+wl),lineTo(xa+$a,ba+wl),lineTo(xa+$a,ba),closePath(),clip(),endPath()],Cl=drawRectangle({x:is,y:cs,width:lo,height:co,borderWidth:us.borderWidth,color:us.color,borderColor:us.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),_l=drawTextLines(us.textLines,{color:us.textColor,font:us.font,size:us.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Il=__spreadArrays$1([beginMarkedContent("Tx"),pushGraphicsState()],_l,[popGraphicsState(),endMarkedContent()]);return __spreadArrays$1([pushGraphicsState()],Cl,Sl,Il,[popGraphicsState()])},drawOptionList=function(us){for(var is=asNumber(us.x),cs=asNumber(us.y),lo=asNumber(us.width),co=asNumber(us.height),hs=asNumber(us.lineHeight),uo=asNumber(us.borderWidth),xa=asNumber(us.padding),ba=is+uo/2+xa,$a=cs+uo/2+xa,wl=lo-(uo/2+xa)*2,Sl=co-(uo/2+xa)*2,Cl=[moveTo(ba,$a),lineTo(ba,$a+Sl),lineTo(ba+wl,$a+Sl),lineTo(ba+wl,$a),closePath(),clip(),endPath()],_l=drawRectangle({x:is,y:cs,width:lo,height:co,borderWidth:us.borderWidth,color:us.color,borderColor:us.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Il=[],Fl=0,Ml=us.selectedLines.length;Fl<Ml;Fl++){var Tl=us.textLines[us.selectedLines[Fl]];Il.push.apply(Il,drawRectangle({x:Tl.x-xa,y:Tl.y-(hs-Tl.height)/2,width:lo-uo,height:Tl.height+(hs-Tl.height)/2,borderWidth:0,color:us.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var Dl=drawTextLines(us.textLines,{color:us.textColor,font:us.font,size:us.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Bl=__spreadArrays$1([beginMarkedContent("Tx"),pushGraphicsState()],Dl,[popGraphicsState(),endMarkedContent()]);return __spreadArrays$1([pushGraphicsState()],_l,Il,Cl,Bl,[popGraphicsState()])},EncryptedPDFError=function(us){__extends$1(is,us);function is(){var cs=this,lo="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return cs=us.call(this,lo)||this,cs}return is}(Error),FontkitNotRegisteredError=function(us){__extends$1(is,us);function is(){var cs=this,lo="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return cs=us.call(this,lo)||this,cs}return is}(Error),ForeignPageError=function(us){__extends$1(is,us);function is(){var cs=this,lo="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return cs=us.call(this,lo)||this,cs}return is}(Error),RemovePageFromEmptyDocumentError=function(us){__extends$1(is,us);function is(){var cs=this,lo="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return cs=us.call(this,lo)||this,cs}return is}(Error),NoSuchFieldError=function(us){__extends$1(is,us);function is(cs){var lo=this,co='PDFDocument has no form field with the name "'+cs+'"';return lo=us.call(this,co)||this,lo}return is}(Error),UnexpectedFieldTypeError=function(us){__extends$1(is,us);function is(cs,lo,co){var hs,uo,xa=this,ba=lo==null?void 0:lo.name,$a=(uo=(hs=co==null?void 0:co.constructor)===null||hs===void 0?void 0:hs.name)!==null&&uo!==void 0?uo:co,wl='Expected field "'+cs+'" to be of type '+ba+", "+("but it is actually of type "+$a);return xa=us.call(this,wl)||this,xa}return is}(Error);(function(us){__extends$1(is,us);function is(cs){var lo=this,co='Failed to select check box due to missing onValue: "'+cs+'"';return lo=us.call(this,co)||this,lo}return is})(Error);var FieldAlreadyExistsError=function(us){__extends$1(is,us);function is(cs){var lo=this,co='A field already exists with the specified name: "'+cs+'"';return lo=us.call(this,co)||this,lo}return is}(Error),InvalidFieldNamePartError=function(us){__extends$1(is,us);function is(cs){var lo=this,co='Field name contains invalid component: "'+cs+'"';return lo=us.call(this,co)||this,lo}return is}(Error);(function(us){__extends$1(is,us);function is(cs){var lo=this,co='A non-terminal field already exists with the specified name: "'+cs+'"';return lo=us.call(this,co)||this,lo}return is})(Error);var RichTextFieldReadError=function(us){__extends$1(is,us);function is(cs){var lo=this,co="Reading rich text fields is not supported: Attempted to read rich text field: "+cs;return lo=us.call(this,co)||this,lo}return is}(Error),CombedTextLayoutError=function(us){__extends$1(is,us);function is(cs,lo){var co=this,hs="Failed to layout combed text as lineLength="+cs+" is greater than cellCount="+lo;return co=us.call(this,hs)||this,co}return is}(Error),ExceededMaxLengthError=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=this,uo="Attempted to set text with length="+cs+" for TextField with maxLength="+lo+" and name="+co;return hs=us.call(this,uo)||this,hs}return is}(Error),InvalidMaxLengthError=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=this,uo="Attempted to set maxLength="+lo+", which is less than "+cs+", the length of this field's current value (name="+co+")";return hs=us.call(this,uo)||this,hs}return is}(Error),TextAlignment;(function(us){us[us.Left=0]="Left",us[us.Center=1]="Center",us[us.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(us,is,cs,lo){lo===void 0&&(lo=!1);for(var co=MIN_FONT_SIZE;co<MAX_FONT_SIZE;){for(var hs=0,uo=0,xa=us.length;uo<xa;uo++){hs+=1;for(var ba=us[uo],$a=ba.split(" "),wl=cs.width,Sl=0,Cl=$a.length;Sl<Cl;Sl++){var _l=Sl===Cl-1,Il=_l?$a[Sl]:$a[Sl]+" ",Fl=is.widthOfTextAtSize(Il,co);wl-=Fl,wl<=0&&(hs+=1,wl=cs.width-Fl)}}if(!lo&&hs>us.length)return co-1;var Ml=is.heightAtSize(co),Tl=Ml+Ml*.2,Dl=Tl*hs;if(Dl>Math.abs(cs.height))return co-1;co+=1}return co},computeCombedFontSize=function(us,is,cs,lo){for(var co=cs.width/lo,hs=cs.height,uo=MIN_FONT_SIZE,xa=charSplit(us);uo<MAX_FONT_SIZE;){for(var ba=0,$a=xa.length;ba<$a;ba++){var wl=xa[ba],Sl=is.widthOfTextAtSize(wl,uo)>co*.75;if(Sl)return uo-1}var Cl=is.heightAtSize(uo,{descender:!1});if(Cl>hs)return uo-1;uo+=1}return uo},lastIndexOfWhitespace=function(us){for(var is=us.length;is>0;is--)if(/\s/.test(us[is]))return is},splitOutLines=function(us,is,cs,lo){for(var co,hs=us.length;hs>0;){var uo=us.substring(0,hs),xa=cs.encodeText(uo),ba=cs.widthOfTextAtSize(uo,lo);if(ba<is){var $a=us.substring(hs)||void 0;return{line:uo,encoded:xa,width:ba,remainder:$a}}hs=(co=lastIndexOfWhitespace(uo))!==null&&co!==void 0?co:0}return{line:us,encoded:cs.encodeText(us),width:cs.widthOfTextAtSize(us,lo),remainder:void 0}},layoutMultilineText=function(us,is){var cs=is.alignment,lo=is.fontSize,co=is.font,hs=is.bounds,uo=lineSplit(cleanText(us));(lo===void 0||lo===0)&&(lo=computeFontSize(uo,co,hs,!0));for(var xa=co.heightAtSize(lo),ba=xa+xa*.2,$a=[],wl=hs.x,Sl=hs.y,Cl=hs.x+hs.width,_l=hs.y+hs.height,Il=hs.y+hs.height,Fl=0,Ml=uo.length;Fl<Ml;Fl++)for(var Tl=uo[Fl];Tl!==void 0;){var Dl=splitOutLines(Tl,hs.width,co,lo),Bl=Dl.line,Ll=Dl.encoded,Nl=Dl.width,zl=Dl.remainder,$l=cs===TextAlignment.Left?hs.x:cs===TextAlignment.Center?hs.x+hs.width/2-Nl/2:cs===TextAlignment.Right?hs.x+hs.width-Nl:hs.x;Il-=ba,$l<wl&&(wl=$l),Il<Sl&&(Sl=Il),$l+Nl>Cl&&(Cl=$l+Nl),Il+xa>_l&&(_l=Il+xa),$a.push({text:Bl,encoded:Ll,width:Nl,height:xa,x:$l,y:Il}),Tl=zl==null?void 0:zl.trim()}return{fontSize:lo,lineHeight:ba,lines:$a,bounds:{x:wl,y:Sl,width:Cl-wl,height:_l-Sl}}},layoutCombedText=function(us,is){var cs=is.fontSize,lo=is.font,co=is.bounds,hs=is.cellCount,uo=mergeLines(cleanText(us));if(uo.length>hs)throw new CombedTextLayoutError(uo.length,hs);(cs===void 0||cs===0)&&(cs=computeCombedFontSize(uo,lo,co,hs));for(var xa=co.width/hs,ba=lo.heightAtSize(cs,{descender:!1}),$a=co.y+(co.height/2-ba/2),wl=[],Sl=co.x,Cl=co.y,_l=co.x+co.width,Il=co.y+co.height,Fl=0,Ml=0;Fl<hs;){var Tl=charAtIndex(uo,Ml),Dl=Tl[0],Bl=Tl[1],Ll=lo.encodeText(Dl),Nl=lo.widthOfTextAtSize(Dl,cs),zl=co.x+(xa*Fl+xa/2),$l=zl-Nl/2;$l<Sl&&(Sl=$l),$a<Cl&&(Cl=$a),$l+Nl>_l&&(_l=$l+Nl),$a+ba>Il&&(Il=$a+ba),wl.push({text:uo,encoded:Ll,width:Nl,height:ba,x:$l,y:$a}),Fl+=1,Ml+=Bl}return{fontSize:cs,cells:wl,bounds:{x:Sl,y:Cl,width:_l-Sl,height:Il-Cl}}},layoutSinglelineText=function(us,is){var cs=is.alignment,lo=is.fontSize,co=is.font,hs=is.bounds,uo=mergeLines(cleanText(us));(lo===void 0||lo===0)&&(lo=computeFontSize([uo],co,hs));var xa=co.encodeText(uo),ba=co.widthOfTextAtSize(uo,lo),$a=co.heightAtSize(lo,{descender:!1}),wl=cs===TextAlignment.Left?hs.x:cs===TextAlignment.Center?hs.x+hs.width/2-ba/2:cs===TextAlignment.Right?hs.x+hs.width-ba:hs.x,Sl=hs.y+(hs.height/2-$a/2);return{fontSize:lo,line:{text:uo,encoded:xa,width:ba,height:$a,x:wl,y:Sl},bounds:{x:wl,y:Sl,width:ba,height:$a}}},normalizeAppearance=function(us){return"normal"in us?us:{normal:us}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(us){var is,cs,lo=(is=us.getDefaultAppearance())!==null&&is!==void 0?is:"",co=(cs=findLastMatch(lo,tfRegex).match)!==null&&cs!==void 0?cs:[],hs=Number(co[2]);return isFinite(hs)?hs:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(us){var is,cs=(is=us.getDefaultAppearance())!==null&&is!==void 0?is:"",lo=findLastMatch(cs,colorRegex).match,co=lo??[],hs=co[1],uo=co[2],xa=co[3],ba=co[4],$a=co[5];if($a==="g"&&hs)return grayscale(Number(hs));if($a==="rg"&&hs&&uo&&xa)return rgb(Number(hs),Number(uo),Number(xa));if($a==="k"&&hs&&uo&&xa&&ba)return cmyk(Number(hs),Number(uo),Number(xa),Number(ba))},updateDefaultAppearance=function(us,is,cs,lo){var co;lo===void 0&&(lo=0);var hs=[setFillingColor(is).toString(),setFontAndSize((co=cs==null?void 0:cs.name)!==null&&co!==void 0?co:"dummy__noop",lo).toString()].join(`
`);us.setDefaultAppearance(hs)},defaultCheckBoxAppearanceProvider=function(us,is){var cs,lo,co,hs=getDefaultColor(is),uo=getDefaultColor(us.acroField),xa=is.getRectangle(),ba=is.getAppearanceCharacteristics(),$a=is.getBorderStyle(),wl=(cs=$a==null?void 0:$a.getWidth())!==null&&cs!==void 0?cs:0,Sl=reduceRotation(ba==null?void 0:ba.getRotation()),Cl=adjustDimsForRotation(xa,Sl),_l=Cl.width,Il=Cl.height,Fl=rotateInPlace(__assign$1(__assign$1({},xa),{rotation:Sl})),Ml=rgb(0,0,0),Tl=(lo=componentsToColor(ba==null?void 0:ba.getBorderColor()))!==null&&lo!==void 0?lo:Ml,Dl=componentsToColor(ba==null?void 0:ba.getBackgroundColor()),Bl=componentsToColor(ba==null?void 0:ba.getBackgroundColor(),.8),Ll=(co=hs??uo)!==null&&co!==void 0?co:Ml;updateDefaultAppearance(hs?is:us.acroField,Ll);var Nl={x:0+wl/2,y:0+wl/2,width:_l-wl,height:Il-wl,thickness:1.5,borderWidth:wl,borderColor:Tl,markColor:Ll};return{normal:{on:__spreadArrays$1(Fl,drawCheckBox(__assign$1(__assign$1({},Nl),{color:Dl,filled:!0}))),off:__spreadArrays$1(Fl,drawCheckBox(__assign$1(__assign$1({},Nl),{color:Dl,filled:!1})))},down:{on:__spreadArrays$1(Fl,drawCheckBox(__assign$1(__assign$1({},Nl),{color:Bl,filled:!0}))),off:__spreadArrays$1(Fl,drawCheckBox(__assign$1(__assign$1({},Nl),{color:Bl,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(us,is){var cs,lo,co,hs=getDefaultColor(is),uo=getDefaultColor(us.acroField),xa=is.getRectangle(),ba=is.getAppearanceCharacteristics(),$a=is.getBorderStyle(),wl=(cs=$a==null?void 0:$a.getWidth())!==null&&cs!==void 0?cs:0,Sl=reduceRotation(ba==null?void 0:ba.getRotation()),Cl=adjustDimsForRotation(xa,Sl),_l=Cl.width,Il=Cl.height,Fl=rotateInPlace(__assign$1(__assign$1({},xa),{rotation:Sl})),Ml=rgb(0,0,0),Tl=(lo=componentsToColor(ba==null?void 0:ba.getBorderColor()))!==null&&lo!==void 0?lo:Ml,Dl=componentsToColor(ba==null?void 0:ba.getBackgroundColor()),Bl=componentsToColor(ba==null?void 0:ba.getBackgroundColor(),.8),Ll=(co=hs??uo)!==null&&co!==void 0?co:Ml;updateDefaultAppearance(hs?is:us.acroField,Ll);var Nl={x:_l/2,y:Il/2,width:_l-wl,height:Il-wl,borderWidth:wl,borderColor:Tl,dotColor:Ll};return{normal:{on:__spreadArrays$1(Fl,drawRadioButton(__assign$1(__assign$1({},Nl),{color:Dl,filled:!0}))),off:__spreadArrays$1(Fl,drawRadioButton(__assign$1(__assign$1({},Nl),{color:Dl,filled:!1})))},down:{on:__spreadArrays$1(Fl,drawRadioButton(__assign$1(__assign$1({},Nl),{color:Bl,filled:!0}))),off:__spreadArrays$1(Fl,drawRadioButton(__assign$1(__assign$1({},Nl),{color:Bl,filled:!1})))}}},defaultButtonAppearanceProvider=function(us,is,cs){var lo,co,hs,uo,xa,ba=getDefaultColor(is),$a=getDefaultColor(us.acroField),wl=getDefaultFontSize(is),Sl=getDefaultFontSize(us.acroField),Cl=is.getRectangle(),_l=is.getAppearanceCharacteristics(),Il=is.getBorderStyle(),Fl=_l==null?void 0:_l.getCaptions(),Ml=(lo=Fl==null?void 0:Fl.normal)!==null&&lo!==void 0?lo:"",Tl=(hs=(co=Fl==null?void 0:Fl.down)!==null&&co!==void 0?co:Ml)!==null&&hs!==void 0?hs:"",Dl=(uo=Il==null?void 0:Il.getWidth())!==null&&uo!==void 0?uo:0,Bl=reduceRotation(_l==null?void 0:_l.getRotation()),Ll=adjustDimsForRotation(Cl,Bl),Nl=Ll.width,zl=Ll.height,$l=rotateInPlace(__assign$1(__assign$1({},Cl),{rotation:Bl})),Vl=rgb(0,0,0),Gl=componentsToColor(_l==null?void 0:_l.getBorderColor()),iu=componentsToColor(_l==null?void 0:_l.getBackgroundColor()),nu=componentsToColor(_l==null?void 0:_l.getBackgroundColor(),.8),Jl={x:Dl,y:Dl,width:Nl-Dl*2,height:zl-Dl*2},lu=layoutSinglelineText(Ml,{alignment:TextAlignment.Center,fontSize:wl??Sl,font:cs,bounds:Jl}),ju=layoutSinglelineText(Tl,{alignment:TextAlignment.Center,fontSize:wl??Sl,font:cs,bounds:Jl}),zu=Math.min(lu.fontSize,ju.fontSize),Wu=(xa=ba??$a)!==null&&xa!==void 0?xa:Vl;updateDefaultAppearance(ba||wl!==void 0?is:us.acroField,Wu,cs,zu);var qu={x:0+Dl/2,y:0+Dl/2,width:Nl-Dl,height:zl-Dl,borderWidth:Dl,borderColor:Gl,textColor:Wu,font:cs.name,fontSize:zu};return{normal:__spreadArrays$1($l,drawButton(__assign$1(__assign$1({},qu),{color:iu,textLines:[lu.line]}))),down:__spreadArrays$1($l,drawButton(__assign$1(__assign$1({},qu),{color:nu,textLines:[ju.line]})))}},defaultTextFieldAppearanceProvider=function(us,is,cs){var lo,co,hs,uo,xa=getDefaultColor(is),ba=getDefaultColor(us.acroField),$a=getDefaultFontSize(is),wl=getDefaultFontSize(us.acroField),Sl=is.getRectangle(),Cl=is.getAppearanceCharacteristics(),_l=is.getBorderStyle(),Il=(lo=us.getText())!==null&&lo!==void 0?lo:"",Fl=(co=_l==null?void 0:_l.getWidth())!==null&&co!==void 0?co:0,Ml=reduceRotation(Cl==null?void 0:Cl.getRotation()),Tl=adjustDimsForRotation(Sl,Ml),Dl=Tl.width,Bl=Tl.height,Ll=rotateInPlace(__assign$1(__assign$1({},Sl),{rotation:Ml})),Nl=rgb(0,0,0),zl=componentsToColor(Cl==null?void 0:Cl.getBorderColor()),$l=componentsToColor(Cl==null?void 0:Cl.getBackgroundColor()),Vl,Gl,iu=us.isCombed()?0:1,nu={x:Fl+iu,y:Fl+iu,width:Dl-(Fl+iu)*2,height:Bl-(Fl+iu)*2};if(us.isMultiline()){var Jl=layoutMultilineText(Il,{alignment:us.getAlignment(),fontSize:$a??wl,font:cs,bounds:nu});Vl=Jl.lines,Gl=Jl.fontSize}else if(us.isCombed()){var Jl=layoutCombedText(Il,{fontSize:$a??wl,font:cs,bounds:nu,cellCount:(hs=us.getMaxLength())!==null&&hs!==void 0?hs:0});Vl=Jl.cells,Gl=Jl.fontSize}else{var Jl=layoutSinglelineText(Il,{alignment:us.getAlignment(),fontSize:$a??wl,font:cs,bounds:nu});Vl=[Jl.line],Gl=Jl.fontSize}var lu=(uo=xa??ba)!==null&&uo!==void 0?uo:Nl;updateDefaultAppearance(xa||$a!==void 0?is:us.acroField,lu,cs,Gl);var ju={x:0+Fl/2,y:0+Fl/2,width:Dl-Fl,height:Bl-Fl,borderWidth:Fl??0,borderColor:zl,textColor:lu,font:cs.name,fontSize:Gl,color:$l,textLines:Vl,padding:iu};return __spreadArrays$1(Ll,drawTextField(ju))},defaultDropdownAppearanceProvider=function(us,is,cs){var lo,co,hs,uo=getDefaultColor(is),xa=getDefaultColor(us.acroField),ba=getDefaultFontSize(is),$a=getDefaultFontSize(us.acroField),wl=is.getRectangle(),Sl=is.getAppearanceCharacteristics(),Cl=is.getBorderStyle(),_l=(lo=us.getSelected()[0])!==null&&lo!==void 0?lo:"",Il=(co=Cl==null?void 0:Cl.getWidth())!==null&&co!==void 0?co:0,Fl=reduceRotation(Sl==null?void 0:Sl.getRotation()),Ml=adjustDimsForRotation(wl,Fl),Tl=Ml.width,Dl=Ml.height,Bl=rotateInPlace(__assign$1(__assign$1({},wl),{rotation:Fl})),Ll=rgb(0,0,0),Nl=componentsToColor(Sl==null?void 0:Sl.getBorderColor()),zl=componentsToColor(Sl==null?void 0:Sl.getBackgroundColor()),$l=1,Vl={x:Il+$l,y:Il+$l,width:Tl-(Il+$l)*2,height:Dl-(Il+$l)*2},Gl=layoutSinglelineText(_l,{alignment:TextAlignment.Left,fontSize:ba??$a,font:cs,bounds:Vl}),iu=Gl.line,nu=Gl.fontSize,Jl=(hs=uo??xa)!==null&&hs!==void 0?hs:Ll;updateDefaultAppearance(uo||ba!==void 0?is:us.acroField,Jl,cs,nu);var lu={x:0+Il/2,y:0+Il/2,width:Tl-Il,height:Dl-Il,borderWidth:Il??0,borderColor:Nl,textColor:Jl,font:cs.name,fontSize:nu,color:zl,textLines:[iu],padding:$l};return __spreadArrays$1(Bl,drawTextField(lu))},defaultOptionListAppearanceProvider=function(us,is,cs){var lo,co,hs=getDefaultColor(is),uo=getDefaultColor(us.acroField),xa=getDefaultFontSize(is),ba=getDefaultFontSize(us.acroField),$a=is.getRectangle(),wl=is.getAppearanceCharacteristics(),Sl=is.getBorderStyle(),Cl=(lo=Sl==null?void 0:Sl.getWidth())!==null&&lo!==void 0?lo:0,_l=reduceRotation(wl==null?void 0:wl.getRotation()),Il=adjustDimsForRotation($a,_l),Fl=Il.width,Ml=Il.height,Tl=rotateInPlace(__assign$1(__assign$1({},$a),{rotation:_l})),Dl=rgb(0,0,0),Bl=componentsToColor(wl==null?void 0:wl.getBorderColor()),Ll=componentsToColor(wl==null?void 0:wl.getBackgroundColor()),Nl=us.getOptions(),zl=us.getSelected();us.isSorted()&&Nl.sort();for(var $l="",Vl=0,Gl=Nl.length;Vl<Gl;Vl++)$l+=Nl[Vl],Vl<Gl-1&&($l+=`
`);for(var iu=1,nu={x:Cl+iu,y:Cl+iu,width:Fl-(Cl+iu)*2,height:Ml-(Cl+iu)*2},Jl=layoutMultilineText($l,{alignment:TextAlignment.Left,fontSize:xa??ba,font:cs,bounds:nu}),lu=Jl.lines,ju=Jl.fontSize,zu=Jl.lineHeight,Wu=[],Vl=0,Gl=lu.length;Vl<Gl;Vl++){var qu=lu[Vl];zl.includes(qu.text)&&Wu.push(Vl)}var Mu=rgb(153/255,193/255,218/255),mu=(co=hs??uo)!==null&&co!==void 0?co:Dl;return updateDefaultAppearance(hs||xa!==void 0?is:us.acroField,mu,cs,ju),__spreadArrays$1(Tl,drawOptionList({x:0+Cl/2,y:0+Cl/2,width:Fl-Cl,height:Ml-Cl,borderWidth:Cl??0,borderColor:Bl,textColor:mu,font:cs.name,fontSize:ju,color:Ll,textLines:lu,lineHeight:zu,selectedColor:Mu,selectedLines:Wu,padding:iu}))},PDFEmbeddedPage=function(){function us(is,cs,lo){this.alreadyEmbedded=!1,assertIs(is,"ref",[[PDFRef,"PDFRef"]]),assertIs(cs,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(lo,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=is,this.doc=cs,this.width=lo.width,this.height=lo.height,this.embedder=lo}return us.prototype.scale=function(is){return assertIs(is,"factor",["number"]),{width:this.width*is,height:this.height*is}},us.prototype.size=function(){return this.scale(1)},us.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(is){switch(is.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:is.sent(),this.alreadyEmbedded=!0,is.label=2;case 2:return[2]}})})},us.of=function(is,cs,lo){return new us(is,cs,lo)},us}(),PDFFont=function(){function us(is,cs,lo){this.modified=!0,assertIs(is,"ref",[[PDFRef,"PDFRef"]]),assertIs(cs,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(lo,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=is,this.doc=cs,this.name=lo.fontName,this.embedder=lo}return us.prototype.encodeText=function(is){return assertIs(is,"text",["string"]),this.modified=!0,this.embedder.encodeText(is)},us.prototype.widthOfTextAtSize=function(is,cs){return assertIs(is,"text",["string"]),assertIs(cs,"size",["number"]),this.embedder.widthOfTextAtSize(is,cs)},us.prototype.heightAtSize=function(is,cs){var lo;return assertIs(is,"size",["number"]),assertOrUndefined(cs==null?void 0:cs.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(is,{descender:(lo=cs==null?void 0:cs.descender)!==null&&lo!==void 0?lo:!0})},us.prototype.sizeAtHeight=function(is){return assertIs(is,"height",["number"]),this.embedder.sizeOfFontAtHeight(is)},us.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},us.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(is){switch(is.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:is.sent(),this.modified=!1,is.label=2;case 2:return[2]}})})},us.of=function(is,cs,lo){return new us(is,cs,lo)},us}(),PDFImage=function(){function us(is,cs,lo){assertIs(is,"ref",[[PDFRef,"PDFRef"]]),assertIs(cs,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(lo,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=is,this.doc=cs,this.width=lo.width,this.height=lo.height,this.embedder=lo}return us.prototype.scale=function(is){return assertIs(is,"factor",["number"]),{width:this.width*is,height:this.height*is}},us.prototype.scaleToFit=function(is,cs){assertIs(is,"width",["number"]),assertIs(cs,"height",["number"]);var lo=is/this.width,co=cs/this.height,hs=Math.min(lo,co);return this.scale(hs)},us.prototype.size=function(){return this.scale(1)},us.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var is,cs,lo;return __generator$1(this,function(co){switch(co.label){case 0:return this.embedder?(this.embedTask||(is=this,cs=is.doc,lo=is.ref,this.embedTask=this.embedder.embedIntoContext(cs.context,lo)),[4,this.embedTask]):[2];case 1:return co.sent(),this.embedder=void 0,[2]}})})},us.of=function(is,cs,lo){return new us(is,cs,lo)},us}(),ImageAlignment;(function(us){us[us.Left=0]="Left",us[us.Center=1]="Center",us[us.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(us){assertOrUndefined(us==null?void 0:us.x,"options.x",["number"]),assertOrUndefined(us==null?void 0:us.y,"options.y",["number"]),assertOrUndefined(us==null?void 0:us.width,"options.width",["number"]),assertOrUndefined(us==null?void 0:us.height,"options.height",["number"]),assertOrUndefined(us==null?void 0:us.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(us==null?void 0:us.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(us==null?void 0:us.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(us==null?void 0:us.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(us==null?void 0:us.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function us(is,cs,lo){assertIs(is,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(cs,"ref",[[PDFRef,"PDFRef"]]),assertIs(lo,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=is,this.ref=cs,this.doc=lo}return us.prototype.getName=function(){var is;return(is=this.acroField.getFullyQualifiedName())!==null&&is!==void 0?is:""},us.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},us.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},us.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},us.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},us.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},us.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},us.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},us.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},us.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},us.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},us.prototype.defaultUpdateAppearances=function(is){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},us.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},us.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},us.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},us.prototype.createWidget=function(is){var cs,lo=is.textColor,co=is.backgroundColor,hs=is.borderColor,uo=is.borderWidth,xa=toDegrees(is.rotate),ba=is.caption,$a=is.x,wl=is.y,Sl=is.width+uo,Cl=is.height+uo,_l=!!is.hidden,Il=is.page;assertMultiple(xa,"degreesAngle",90);var Fl=PDFWidgetAnnotation.create(this.doc.context,this.ref),Ml=rotateRectangle({x:$a,y:wl,width:Sl,height:Cl},uo,xa);Fl.setRectangle(Ml),Il&&Fl.setP(Il);var Tl=Fl.getOrCreateAppearanceCharacteristics();co&&Tl.setBackgroundColor(colorToComponents(co)),Tl.setRotation(xa),ba&&Tl.setCaptions({normal:ba}),hs&&Tl.setBorderColor(colorToComponents(hs));var Dl=Fl.getOrCreateBorderStyle();if(uo!==void 0&&Dl.setWidth(uo),Fl.setFlagTo(AnnotationFlags.Print,!0),Fl.setFlagTo(AnnotationFlags.Hidden,_l),Fl.setFlagTo(AnnotationFlags.Invisible,!1),lo){var Bl=(cs=this.acroField.getDefaultAppearance())!==null&&cs!==void 0?cs:"",Ll=Bl+`
`+setFillingColor(lo).toString();this.acroField.setDefaultAppearance(Ll)}return Fl},us.prototype.updateWidgetAppearanceWithFont=function(is,cs,lo){var co=lo.normal,hs=lo.rollover,uo=lo.down;this.updateWidgetAppearances(is,{normal:this.createAppearanceStream(is,co,cs),rollover:hs&&this.createAppearanceStream(is,hs,cs),down:uo&&this.createAppearanceStream(is,uo,cs)})},us.prototype.updateOnOffWidgetAppearance=function(is,cs,lo){var co=lo.normal,hs=lo.rollover,uo=lo.down;this.updateWidgetAppearances(is,{normal:this.createAppearanceDict(is,co,cs),rollover:hs&&this.createAppearanceDict(is,hs,cs),down:uo&&this.createAppearanceDict(is,uo,cs)})},us.prototype.updateWidgetAppearances=function(is,cs){var lo=cs.normal,co=cs.rollover,hs=cs.down;is.setNormalAppearance(lo),co?is.setRolloverAppearance(co):is.removeRolloverAppearance(),hs?is.setDownAppearance(hs):is.removeDownAppearance()},us.prototype.createAppearanceStream=function(is,cs,lo){var co,hs=this.acroField.dict.context,uo=is.getRectangle(),xa=uo.width,ba=uo.height,$a=lo&&{Font:(co={},co[lo.name]=lo.ref,co)},wl=hs.formXObject(cs,{Resources:$a,BBox:hs.obj([0,0,xa,ba]),Matrix:hs.obj([1,0,0,1,0,0])}),Sl=hs.register(wl);return Sl},us.prototype.createImageAppearanceStream=function(is,cs,lo){var co,hs,uo=this.acroField.dict.context,xa=is.getRectangle(),ba=is.getAppearanceCharacteristics(),$a=is.getBorderStyle(),wl=(hs=$a==null?void 0:$a.getWidth())!==null&&hs!==void 0?hs:0,Sl=reduceRotation(ba==null?void 0:ba.getRotation()),Cl=rotateInPlace(__assign$1(__assign$1({},xa),{rotation:Sl})),_l=adjustDimsForRotation(xa,Sl),Il=cs.scaleToFit(_l.width-wl*2,_l.height-wl*2),Fl={x:wl,y:wl,width:Il.width,height:Il.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};lo===ImageAlignment.Center?(Fl.x+=(_l.width-wl*2)/2-Il.width/2,Fl.y+=(_l.height-wl*2)/2-Il.height/2):lo===ImageAlignment.Right&&(Fl.x=_l.width-wl-Il.width,Fl.y=_l.height-wl-Il.height);var Ml=this.doc.context.addRandomSuffix("Image",10),Tl=__spreadArrays$1(Cl,drawImage(Ml,Fl)),Dl={XObject:(co={},co[Ml]=cs.ref,co)},Bl=uo.formXObject(Tl,{Resources:Dl,BBox:uo.obj([0,0,xa.width,xa.height]),Matrix:uo.obj([1,0,0,1,0,0])});return uo.register(Bl)},us.prototype.createAppearanceDict=function(is,cs,lo){var co=this.acroField.dict.context,hs=this.createAppearanceStream(is,cs.on),uo=this.createAppearanceStream(is,cs.off),xa=co.obj({});return xa.set(lo,hs),xa.set(PDFName.of("Off"),uo),xa},us}(),PDFCheckBox=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),hs.acroField=cs,hs}return is.prototype.check=function(){var cs,lo=(cs=this.acroField.getOnValue())!==null&&cs!==void 0?cs:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(lo)},is.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},is.prototype.isChecked=function(){var cs=this.acroField.getOnValue();return!!cs&&cs===this.acroField.getValue()},is.prototype.addToPage=function(cs,lo){var co,hs,uo,xa,ba,$a;assertIs(cs,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(lo),lo||(lo={}),"textColor"in lo||(lo.textColor=rgb(0,0,0)),"backgroundColor"in lo||(lo.backgroundColor=rgb(1,1,1)),"borderColor"in lo||(lo.borderColor=rgb(0,0,0)),"borderWidth"in lo||(lo.borderWidth=1);var wl=this.createWidget({x:(co=lo.x)!==null&&co!==void 0?co:0,y:(hs=lo.y)!==null&&hs!==void 0?hs:0,width:(uo=lo.width)!==null&&uo!==void 0?uo:50,height:(xa=lo.height)!==null&&xa!==void 0?xa:50,textColor:lo.textColor,backgroundColor:lo.backgroundColor,borderColor:lo.borderColor,borderWidth:(ba=lo.borderWidth)!==null&&ba!==void 0?ba:0,rotate:($a=lo.rotate)!==null&&$a!==void 0?$a:degrees(0),hidden:lo.hidden,page:cs.ref}),Sl=this.doc.context.register(wl.dict);this.acroField.addWidget(Sl),wl.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(wl,PDFName.of("Yes")),cs.node.addAnnot(Sl)},is.prototype.needsAppearancesUpdate=function(){for(var cs,lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=uo.getAppearanceState(),ba=(cs=uo.getAppearances())===null||cs===void 0?void 0:cs.normal;if(!(ba instanceof PDFDict)||xa&&!ba.has(xa))return!0}return!1},is.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},is.prototype.updateAppearances=function(cs){var lo;assertOrUndefined(cs,"provider",[Function]);for(var co=this.acroField.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs],ba=(lo=xa.getOnValue())!==null&&lo!==void 0?lo:PDFName.of("Yes");ba&&this.updateWidgetAppearance(xa,ba,cs)}this.markAsClean()},is.prototype.updateWidgetAppearance=function(cs,lo,co){var hs=co??defaultCheckBoxAppearanceProvider,uo=normalizeAppearance(hs(this,cs));this.updateOnOffWidgetAppearance(cs,lo,uo)},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),PDFDropdown=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),hs.acroField=cs,hs}return is.prototype.getOptions=function(){for(var cs=this.acroField.getOptions(),lo=new Array(cs.length),co=0,hs=lo.length;co<hs;co++){var uo=cs[co],xa=uo.display,ba=uo.value;lo[co]=(xa??ba).decodeText()}return lo},is.prototype.getSelected=function(){for(var cs=this.acroField.getValues(),lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]=cs[co].decodeText();return lo},is.prototype.setOptions=function(cs){assertIs(cs,"options",[Array]);for(var lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]={value:PDFHexString.fromText(cs[co])};this.acroField.setOptions(lo)},is.prototype.addOptions=function(cs){assertIs(cs,"options",["string",Array]);for(var lo=Array.isArray(cs)?cs:[cs],co=this.acroField.getOptions(),hs=new Array(lo.length),uo=0,xa=lo.length;uo<xa;uo++)hs[uo]={value:PDFHexString.fromText(lo[uo])};this.acroField.setOptions(co.concat(hs))},is.prototype.select=function(cs,lo){lo===void 0&&(lo=!1),assertIs(cs,"options",["string",Array]),assertIs(lo,"merge",["boolean"]);var co=Array.isArray(cs)?cs:[cs],hs=this.getOptions(),uo=co.find(function(Sl){return!hs.includes(Sl)});uo&&this.enableEditing(),this.markAsDirty(),(co.length>1||co.length===1&&lo)&&this.enableMultiselect();for(var xa=new Array(co.length),ba=0,$a=co.length;ba<$a;ba++)xa[ba]=PDFHexString.fromText(co[ba]);if(lo){var wl=this.acroField.getValues();this.acroField.setValues(wl.concat(xa))}else this.acroField.setValues(xa)},is.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},is.prototype.setFontSize=function(cs){assertPositive(cs,"fontSize"),this.acroField.setFontSize(cs),this.markAsDirty()},is.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},is.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},is.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},is.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},is.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},is.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},is.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},is.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},is.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},is.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},is.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},is.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},is.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},is.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},is.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},is.prototype.addToPage=function(cs,lo){var co,hs,uo,xa,ba,$a,wl;assertIs(cs,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(lo),lo||(lo={}),"textColor"in lo||(lo.textColor=rgb(0,0,0)),"backgroundColor"in lo||(lo.backgroundColor=rgb(1,1,1)),"borderColor"in lo||(lo.borderColor=rgb(0,0,0)),"borderWidth"in lo||(lo.borderWidth=1);var Sl=this.createWidget({x:(co=lo.x)!==null&&co!==void 0?co:0,y:(hs=lo.y)!==null&&hs!==void 0?hs:0,width:(uo=lo.width)!==null&&uo!==void 0?uo:200,height:(xa=lo.height)!==null&&xa!==void 0?xa:50,textColor:lo.textColor,backgroundColor:lo.backgroundColor,borderColor:lo.borderColor,borderWidth:(ba=lo.borderWidth)!==null&&ba!==void 0?ba:0,rotate:($a=lo.rotate)!==null&&$a!==void 0?$a:degrees(0),hidden:lo.hidden,page:cs.ref}),Cl=this.doc.context.register(Sl.dict);this.acroField.addWidget(Cl);var _l=(wl=lo.font)!==null&&wl!==void 0?wl:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Sl,_l),cs.node.addAnnot(Cl)},is.prototype.needsAppearancesUpdate=function(){var cs;if(this.isDirty())return!0;for(var lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=((cs=uo.getAppearances())===null||cs===void 0?void 0:cs.normal)instanceof PDFStream;if(!xa)return!0}return!1},is.prototype.defaultUpdateAppearances=function(cs){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(cs)},is.prototype.updateAppearances=function(cs,lo){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(lo,"provider",[Function]);for(var co=this.acroField.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs];this.updateWidgetAppearance(xa,cs,lo)}this.markAsClean()},is.prototype.updateWidgetAppearance=function(cs,lo,co){var hs=co??defaultDropdownAppearanceProvider,uo=normalizeAppearance(hs(this,cs,lo));this.updateWidgetAppearanceWithFont(cs,lo,uo)},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),PDFOptionList=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),hs.acroField=cs,hs}return is.prototype.getOptions=function(){for(var cs=this.acroField.getOptions(),lo=new Array(cs.length),co=0,hs=lo.length;co<hs;co++){var uo=cs[co],xa=uo.display,ba=uo.value;lo[co]=(xa??ba).decodeText()}return lo},is.prototype.getSelected=function(){for(var cs=this.acroField.getValues(),lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]=cs[co].decodeText();return lo},is.prototype.setOptions=function(cs){assertIs(cs,"options",[Array]),this.markAsDirty();for(var lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]={value:PDFHexString.fromText(cs[co])};this.acroField.setOptions(lo)},is.prototype.addOptions=function(cs){assertIs(cs,"options",["string",Array]),this.markAsDirty();for(var lo=Array.isArray(cs)?cs:[cs],co=this.acroField.getOptions(),hs=new Array(lo.length),uo=0,xa=lo.length;uo<xa;uo++)hs[uo]={value:PDFHexString.fromText(lo[uo])};this.acroField.setOptions(co.concat(hs))},is.prototype.select=function(cs,lo){lo===void 0&&(lo=!1),assertIs(cs,"options",["string",Array]),assertIs(lo,"merge",["boolean"]);var co=Array.isArray(cs)?cs:[cs],hs=this.getOptions();assertIsSubset(co,"option",hs),this.markAsDirty(),(co.length>1||co.length===1&&lo)&&this.enableMultiselect();for(var uo=new Array(co.length),xa=0,ba=co.length;xa<ba;xa++)uo[xa]=PDFHexString.fromText(co[xa]);if(lo){var $a=this.acroField.getValues();this.acroField.setValues($a.concat(uo))}else this.acroField.setValues(uo)},is.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},is.prototype.setFontSize=function(cs){assertPositive(cs,"fontSize"),this.acroField.setFontSize(cs),this.markAsDirty()},is.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},is.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},is.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},is.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},is.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},is.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},is.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},is.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},is.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},is.prototype.addToPage=function(cs,lo){var co,hs,uo,xa,ba,$a,wl;assertIs(cs,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(lo),lo||(lo={}),"textColor"in lo||(lo.textColor=rgb(0,0,0)),"backgroundColor"in lo||(lo.backgroundColor=rgb(1,1,1)),"borderColor"in lo||(lo.borderColor=rgb(0,0,0)),"borderWidth"in lo||(lo.borderWidth=1);var Sl=this.createWidget({x:(co=lo.x)!==null&&co!==void 0?co:0,y:(hs=lo.y)!==null&&hs!==void 0?hs:0,width:(uo=lo.width)!==null&&uo!==void 0?uo:200,height:(xa=lo.height)!==null&&xa!==void 0?xa:100,textColor:lo.textColor,backgroundColor:lo.backgroundColor,borderColor:lo.borderColor,borderWidth:(ba=lo.borderWidth)!==null&&ba!==void 0?ba:0,rotate:($a=lo.rotate)!==null&&$a!==void 0?$a:degrees(0),hidden:lo.hidden,page:cs.ref}),Cl=this.doc.context.register(Sl.dict);this.acroField.addWidget(Cl);var _l=(wl=lo.font)!==null&&wl!==void 0?wl:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Sl,_l),cs.node.addAnnot(Cl)},is.prototype.needsAppearancesUpdate=function(){var cs;if(this.isDirty())return!0;for(var lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=((cs=uo.getAppearances())===null||cs===void 0?void 0:cs.normal)instanceof PDFStream;if(!xa)return!0}return!1},is.prototype.defaultUpdateAppearances=function(cs){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(cs)},is.prototype.updateAppearances=function(cs,lo){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(lo,"provider",[Function]);for(var co=this.acroField.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs];this.updateWidgetAppearance(xa,cs,lo)}this.markAsClean()},is.prototype.updateWidgetAppearance=function(cs,lo,co){var hs=co??defaultOptionListAppearanceProvider,uo=normalizeAppearance(hs(this,cs,lo));this.updateWidgetAppearanceWithFont(cs,lo,uo)},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),PDFRadioGroup=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),hs.acroField=cs,hs}return is.prototype.getOptions=function(){var cs=this.acroField.getExportValues();if(cs){for(var lo=new Array(cs.length),co=0,hs=cs.length;co<hs;co++)lo[co]=cs[co].decodeText();return lo}for(var uo=this.acroField.getOnValues(),xa=new Array(uo.length),co=0,hs=xa.length;co<hs;co++)xa[co]=uo[co].decodeText();return xa},is.prototype.getSelected=function(){var cs=this.acroField.getValue();if(cs!==PDFName.of("Off")){var lo=this.acroField.getExportValues();if(lo){for(var co=this.acroField.getOnValues(),hs=0,uo=co.length;hs<uo;hs++)if(co[hs]===cs)return lo[hs].decodeText()}return cs.decodeText()}},is.prototype.select=function(cs){assertIs(cs,"option",["string"]);var lo=this.getOptions();assertIsOneOf(cs,"option",lo),this.markAsDirty();var co=this.acroField.getOnValues(),hs=this.acroField.getExportValues();if(hs)for(var uo=0,xa=hs.length;uo<xa;uo++)hs[uo].decodeText()===cs&&this.acroField.setValue(co[uo]);else for(var uo=0,xa=co.length;uo<xa;uo++){var ba=co[uo];ba.decodeText()===cs&&this.acroField.setValue(ba)}},is.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},is.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},is.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},is.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},is.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},is.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},is.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},is.prototype.addOptionToPage=function(cs,lo,co){var hs,uo,xa,ba,$a,wl,Sl,Cl,_l;assertIs(cs,"option",["string"]),assertIs(lo,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(co);var Il=this.createWidget({x:(hs=co==null?void 0:co.x)!==null&&hs!==void 0?hs:0,y:(uo=co==null?void 0:co.y)!==null&&uo!==void 0?uo:0,width:(xa=co==null?void 0:co.width)!==null&&xa!==void 0?xa:50,height:(ba=co==null?void 0:co.height)!==null&&ba!==void 0?ba:50,textColor:($a=co==null?void 0:co.textColor)!==null&&$a!==void 0?$a:rgb(0,0,0),backgroundColor:(wl=co==null?void 0:co.backgroundColor)!==null&&wl!==void 0?wl:rgb(1,1,1),borderColor:(Sl=co==null?void 0:co.borderColor)!==null&&Sl!==void 0?Sl:rgb(0,0,0),borderWidth:(Cl=co==null?void 0:co.borderWidth)!==null&&Cl!==void 0?Cl:1,rotate:(_l=co==null?void 0:co.rotate)!==null&&_l!==void 0?_l:degrees(0),hidden:co==null?void 0:co.hidden,page:lo.ref}),Fl=this.doc.context.register(Il.dict),Ml=this.acroField.addWidgetWithOpt(Fl,PDFHexString.fromText(cs),!this.isMutuallyExclusive());Il.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(Il,Ml),lo.node.addAnnot(Fl)},is.prototype.needsAppearancesUpdate=function(){for(var cs,lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=uo.getAppearanceState(),ba=(cs=uo.getAppearances())===null||cs===void 0?void 0:cs.normal;if(!(ba instanceof PDFDict)||xa&&!ba.has(xa))return!0}return!1},is.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},is.prototype.updateAppearances=function(cs){assertOrUndefined(cs,"provider",[Function]);for(var lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=uo.getOnValue();xa&&this.updateWidgetAppearance(uo,xa,cs)}},is.prototype.updateWidgetAppearance=function(cs,lo,co){var hs=co??defaultRadioGroupAppearanceProvider,uo=normalizeAppearance(hs(this,cs));this.updateOnOffWidgetAppearance(cs,lo,uo)},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),PDFSignature=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),hs.acroField=cs,hs}return is.prototype.needsAppearancesUpdate=function(){return!1},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),PDFTextField=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroText",[[PDFAcroText,"PDFAcroText"]]),hs.acroField=cs,hs}return is.prototype.getText=function(){var cs=this.acroField.getValue();if(!cs&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return cs==null?void 0:cs.decodeText()},is.prototype.setText=function(cs){assertOrUndefined(cs,"text",["string"]);var lo=this.getMaxLength();if(lo!==void 0&&cs&&cs.length>lo)throw new ExceededMaxLengthError(cs.length,lo,this.getName());this.markAsDirty(),this.disableRichFormatting(),cs?this.acroField.setValue(PDFHexString.fromText(cs)):this.acroField.removeValue()},is.prototype.getAlignment=function(){var cs=this.acroField.getQuadding();return cs===0?TextAlignment.Left:cs===1?TextAlignment.Center:cs===2?TextAlignment.Right:TextAlignment.Left},is.prototype.setAlignment=function(cs){assertIsOneOf(cs,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(cs)},is.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},is.prototype.setMaxLength=function(cs){if(assertRangeOrUndefined(cs,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),cs===void 0)this.acroField.removeMaxLength();else{var lo=this.getText();if(lo&&lo.length>cs)throw new InvalidMaxLengthError(lo.length,cs,this.getName());this.acroField.setMaxLength(cs)}},is.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},is.prototype.setImage=function(cs){for(var lo=this.getAlignment(),co=lo===TextAlignment.Center?ImageAlignment.Center:lo===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,hs=this.acroField.getWidgets(),uo=0,xa=hs.length;uo<xa;uo++){var ba=hs[uo],$a=this.createImageAppearanceStream(ba,cs,co);this.updateWidgetAppearances(ba,{normal:$a})}this.markAsClean()},is.prototype.setFontSize=function(cs){assertPositive(cs,"fontSize"),this.acroField.setFontSize(cs),this.markAsDirty()},is.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},is.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},is.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},is.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},is.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},is.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},is.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},is.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},is.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},is.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},is.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},is.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},is.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},is.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},is.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},is.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},is.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var cs="PDFTextFields must have a max length in order to be combed";console.warn(cs)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},is.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},is.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},is.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},is.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},is.prototype.addToPage=function(cs,lo){var co,hs,uo,xa,ba,$a,wl;assertIs(cs,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(lo),lo||(lo={}),"textColor"in lo||(lo.textColor=rgb(0,0,0)),"backgroundColor"in lo||(lo.backgroundColor=rgb(1,1,1)),"borderColor"in lo||(lo.borderColor=rgb(0,0,0)),"borderWidth"in lo||(lo.borderWidth=1);var Sl=this.createWidget({x:(co=lo.x)!==null&&co!==void 0?co:0,y:(hs=lo.y)!==null&&hs!==void 0?hs:0,width:(uo=lo.width)!==null&&uo!==void 0?uo:200,height:(xa=lo.height)!==null&&xa!==void 0?xa:50,textColor:lo.textColor,backgroundColor:lo.backgroundColor,borderColor:lo.borderColor,borderWidth:(ba=lo.borderWidth)!==null&&ba!==void 0?ba:0,rotate:($a=lo.rotate)!==null&&$a!==void 0?$a:degrees(0),hidden:lo.hidden,page:cs.ref}),Cl=this.doc.context.register(Sl.dict);this.acroField.addWidget(Cl);var _l=(wl=lo.font)!==null&&wl!==void 0?wl:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Sl,_l),cs.node.addAnnot(Cl)},is.prototype.needsAppearancesUpdate=function(){var cs;if(this.isDirty())return!0;for(var lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=((cs=uo.getAppearances())===null||cs===void 0?void 0:cs.normal)instanceof PDFStream;if(!xa)return!0}return!1},is.prototype.defaultUpdateAppearances=function(cs){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(cs)},is.prototype.updateAppearances=function(cs,lo){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(lo,"provider",[Function]);for(var co=this.acroField.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs];this.updateWidgetAppearance(xa,cs,lo)}this.markAsClean()},is.prototype.updateWidgetAppearance=function(cs,lo,co){var hs=co??defaultTextFieldAppearanceProvider,uo=normalizeAppearance(hs(this,cs,lo));this.updateWidgetAppearanceWithFont(cs,lo,uo)},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),StandardFonts;(function(us){us.Courier="Courier",us.CourierBold="Courier-Bold",us.CourierOblique="Courier-Oblique",us.CourierBoldOblique="Courier-BoldOblique",us.Helvetica="Helvetica",us.HelveticaBold="Helvetica-Bold",us.HelveticaOblique="Helvetica-Oblique",us.HelveticaBoldOblique="Helvetica-BoldOblique",us.TimesRoman="Times-Roman",us.TimesRomanBold="Times-Bold",us.TimesRomanItalic="Times-Italic",us.TimesRomanBoldItalic="Times-BoldItalic",us.Symbol="Symbol",us.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function us(is,cs){var lo=this;this.embedDefaultFont=function(){return lo.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(is,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(cs,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=is,this.doc=cs,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return us.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},us.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},us.prototype.getFields=function(){for(var is=this.acroForm.getAllFields(),cs=[],lo=0,co=is.length;lo<co;lo++){var hs=is[lo],uo=hs[0],xa=hs[1],ba=convertToPDFField(uo,xa,this.doc);ba&&cs.push(ba)}return cs},us.prototype.getFieldMaybe=function(is){assertIs(is,"name",["string"]);for(var cs=this.getFields(),lo=0,co=cs.length;lo<co;lo++){var hs=cs[lo];if(hs.getName()===is)return hs}},us.prototype.getField=function(is){assertIs(is,"name",["string"]);var cs=this.getFieldMaybe(is);if(cs)return cs;throw new NoSuchFieldError(is)},us.prototype.getButton=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFButton)return cs;throw new UnexpectedFieldTypeError(is,PDFButton,cs)},us.prototype.getCheckBox=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFCheckBox)return cs;throw new UnexpectedFieldTypeError(is,PDFCheckBox,cs)},us.prototype.getDropdown=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFDropdown)return cs;throw new UnexpectedFieldTypeError(is,PDFDropdown,cs)},us.prototype.getOptionList=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFOptionList)return cs;throw new UnexpectedFieldTypeError(is,PDFOptionList,cs)},us.prototype.getRadioGroup=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFRadioGroup)return cs;throw new UnexpectedFieldTypeError(is,PDFRadioGroup,cs)},us.prototype.getSignature=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFSignature)return cs;throw new UnexpectedFieldTypeError(is,PDFSignature,cs)},us.prototype.getTextField=function(is){assertIs(is,"name",["string"]);var cs=this.getField(is);if(cs instanceof PDFTextField)return cs;throw new UnexpectedFieldTypeError(is,PDFTextField,cs)},us.prototype.createButton=function(is){assertIs(is,"name",["string"]);var cs=splitFieldName(is),lo=this.findOrCreateNonTerminals(cs.nonTerminal),co=PDFAcroPushButton.create(this.doc.context);return co.setPartialName(cs.terminal),addFieldToParent(lo,[co,co.ref],cs.terminal),PDFButton.of(co,co.ref,this.doc)},us.prototype.createCheckBox=function(is){assertIs(is,"name",["string"]);var cs=splitFieldName(is),lo=this.findOrCreateNonTerminals(cs.nonTerminal),co=PDFAcroCheckBox.create(this.doc.context);return co.setPartialName(cs.terminal),addFieldToParent(lo,[co,co.ref],cs.terminal),PDFCheckBox.of(co,co.ref,this.doc)},us.prototype.createDropdown=function(is){assertIs(is,"name",["string"]);var cs=splitFieldName(is),lo=this.findOrCreateNonTerminals(cs.nonTerminal),co=PDFAcroComboBox.create(this.doc.context);return co.setPartialName(cs.terminal),addFieldToParent(lo,[co,co.ref],cs.terminal),PDFDropdown.of(co,co.ref,this.doc)},us.prototype.createOptionList=function(is){assertIs(is,"name",["string"]);var cs=splitFieldName(is),lo=this.findOrCreateNonTerminals(cs.nonTerminal),co=PDFAcroListBox.create(this.doc.context);return co.setPartialName(cs.terminal),addFieldToParent(lo,[co,co.ref],cs.terminal),PDFOptionList.of(co,co.ref,this.doc)},us.prototype.createRadioGroup=function(is){assertIs(is,"name",["string"]);var cs=splitFieldName(is),lo=this.findOrCreateNonTerminals(cs.nonTerminal),co=PDFAcroRadioButton.create(this.doc.context);return co.setPartialName(cs.terminal),addFieldToParent(lo,[co,co.ref],cs.terminal),PDFRadioGroup.of(co,co.ref,this.doc)},us.prototype.createTextField=function(is){assertIs(is,"name",["string"]);var cs=splitFieldName(is),lo=this.findOrCreateNonTerminals(cs.nonTerminal),co=PDFAcroText.create(this.doc.context);return co.setPartialName(cs.terminal),addFieldToParent(lo,[co,co.ref],cs.terminal),PDFTextField.of(co,co.ref,this.doc)},us.prototype.flatten=function(is){is===void 0&&(is={updateFieldAppearances:!0}),is.updateFieldAppearances&&this.updateFieldAppearances();for(var cs=this.getFields(),lo=0,co=cs.length;lo<co;lo++){for(var hs=cs[lo],uo=hs.acroField.getWidgets(),xa=0,ba=uo.length;xa<ba;xa++){var $a=uo[xa],wl=this.findWidgetPage($a),Sl=this.findWidgetAppearanceRef(hs,$a),Cl=wl.node.newXObject("FlatWidget",Sl),_l=$a.getRectangle(),Il=__spreadArrays$1([pushGraphicsState(),translate(_l.x,_l.y)],rotateInPlace(__assign$1(__assign$1({},_l),{rotation:0})),[drawObject(Cl),popGraphicsState()]).filter(Boolean);wl.pushOperators.apply(wl,Il)}this.removeField(hs)}},us.prototype.removeField=function(is){for(var cs=is.acroField.getWidgets(),lo=new Set,co=0,hs=cs.length;co<hs;co++){var uo=cs[co],xa=this.findWidgetAppearanceRef(is,uo),ba=this.findWidgetPage(uo);lo.add(ba),ba.node.removeAnnot(xa)}lo.forEach(function(_l){return _l.node.removeAnnot(is.ref)}),this.acroForm.removeField(is.acroField);for(var $a=is.acroField.normalizedEntries().Kids,wl=$a.size(),Sl=0;Sl<wl;Sl++){var Cl=$a.get(Sl);Cl instanceof PDFRef&&this.doc.context.delete(Cl)}this.doc.context.delete(is.ref)},us.prototype.updateFieldAppearances=function(is){assertOrUndefined(is,"font",[[PDFFont,"PDFFont"]]),is=is??this.getDefaultFont();for(var cs=this.getFields(),lo=0,co=cs.length;lo<co;lo++){var hs=cs[lo];hs.needsAppearancesUpdate()&&hs.defaultUpdateAppearances(is)}},us.prototype.markFieldAsDirty=function(is){assertOrUndefined(is,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(is)},us.prototype.markFieldAsClean=function(is){assertOrUndefined(is,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(is)},us.prototype.fieldIsDirty=function(is){return assertOrUndefined(is,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(is)},us.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},us.prototype.findWidgetPage=function(is){var cs=is.P(),lo=this.doc.getPages().find(function(hs){return hs.ref===cs});if(lo===void 0){var co=this.doc.context.getObjectRef(is.dict);if(co===void 0)throw new Error("Could not find PDFRef for PDFObject");if(lo=this.doc.findPageForAnnotationRef(co),lo===void 0)throw new Error("Could not find page for PDFRef "+co)}return lo},us.prototype.findWidgetAppearanceRef=function(is,cs){var lo,co=cs.getNormalAppearance();if(co instanceof PDFDict&&(is instanceof PDFCheckBox||is instanceof PDFRadioGroup)){var hs=is.acroField.getValue(),uo=(lo=co.get(hs))!==null&&lo!==void 0?lo:co.get(PDFName.of("Off"));uo instanceof PDFRef&&(co=uo)}if(!(co instanceof PDFRef)){var xa=is.getName();throw new Error("Failed to extract appearance ref for: "+xa)}return co},us.prototype.findOrCreateNonTerminals=function(is){for(var cs=[this.acroForm],lo=0,co=is.length;lo<co;lo++){var hs=is[lo];if(!hs)throw new InvalidFieldNamePartError(hs);var uo=cs[0],xa=cs[1],ba=this.findNonTerminal(hs,uo);if(ba)cs=ba;else{var $a=PDFAcroNonTerminal.create(this.doc.context);$a.setPartialName(hs),$a.setParent(xa);var wl=this.doc.context.register($a.dict);uo.addField(wl),cs=[$a,wl]}}return cs},us.prototype.findNonTerminal=function(is,cs){for(var lo=cs instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(cs.Kids()),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=uo[0],ba=uo[1];if(xa.getPartialName()===is){if(xa instanceof PDFAcroNonTerminal)return[xa,ba];throw new FieldAlreadyExistsError(is)}}},us.of=function(is,cs){return new us(is,cs)},us}(),convertToPDFField=function(us,is,cs){if(us instanceof PDFAcroPushButton)return PDFButton.of(us,is,cs);if(us instanceof PDFAcroCheckBox)return PDFCheckBox.of(us,is,cs);if(us instanceof PDFAcroComboBox)return PDFDropdown.of(us,is,cs);if(us instanceof PDFAcroListBox)return PDFOptionList.of(us,is,cs);if(us instanceof PDFAcroText)return PDFTextField.of(us,is,cs);if(us instanceof PDFAcroRadioButton)return PDFRadioGroup.of(us,is,cs);if(us instanceof PDFAcroSignature)return PDFSignature.of(us,is,cs)},splitFieldName=function(us){if(us.length===0)throw new Error("PDF field names must not be empty strings");for(var is=us.split("."),cs=0,lo=is.length;cs<lo;cs++)if(is[cs]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+us+'"');return is.length===1?{nonTerminal:[],terminal:is[0]}:{nonTerminal:is.slice(0,is.length-1),terminal:is[is.length-1]}},addFieldToParent=function(us,is,cs){for(var lo=us[0],co=us[1],hs=is[0],uo=is[1],xa=lo.normalizedEntries(),ba=createPDFAcroFields("Kids"in xa?xa.Kids:xa.Fields),$a=0,wl=ba.length;$a<wl;$a++)if(ba[$a][0].getPartialName()===cs)throw new FieldAlreadyExistsError(cs);lo.addField(uo),hs.setParent(co)},PageSizes={A4:[595.28,841.89]},ParseSpeeds;(function(us){us[us.Fastest=1/0]="Fastest",us[us.Fast=1500]="Fast",us[us.Medium=500]="Medium",us[us.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function us(is,cs,lo){this.alreadyEmbedded=!1,this.ref=is,this.doc=cs,this.embedder=lo}return us.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var is,cs,lo,co,hs;return __generator$1(this,function(uo){switch(uo.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:is=uo.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),cs=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),cs.has(PDFName.of("EmbeddedFiles"))||cs.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),lo=cs.lookup(PDFName.of("EmbeddedFiles"),PDFDict),lo.has(PDFName.of("Names"))||lo.set(PDFName.of("Names"),this.doc.context.obj([])),co=lo.lookup(PDFName.of("Names"),PDFArray),co.push(PDFHexString.fromText(this.embedder.fileName)),co.push(is),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),hs=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),hs.push(is),this.alreadyEmbedded=!0,uo.label=2;case 2:return[2]}})})},us.of=function(is,cs,lo){return new us(is,cs,lo)},us}(),PDFJavaScript=function(){function us(is,cs,lo){this.alreadyEmbedded=!1,this.ref=is,this.doc=cs,this.embedder=lo}return us.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var is,cs,lo,co,hs,uo,xa;return __generator$1(this,function(ba){switch(ba.label){case 0:return this.alreadyEmbedded?[3,2]:(is=this.doc,cs=is.catalog,lo=is.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:co=ba.sent(),cs.has(PDFName.of("Names"))||cs.set(PDFName.of("Names"),lo.obj({})),hs=cs.lookup(PDFName.of("Names"),PDFDict),hs.has(PDFName.of("JavaScript"))||hs.set(PDFName.of("JavaScript"),lo.obj({})),uo=hs.lookup(PDFName.of("JavaScript"),PDFDict),uo.has(PDFName.of("Names"))||uo.set(PDFName.of("Names"),lo.obj([])),xa=uo.lookup(PDFName.of("Names"),PDFArray),xa.push(PDFHexString.fromText(this.embedder.scriptName)),xa.push(co),this.alreadyEmbedded=!0,ba.label=2;case 2:return[2]}})})},us.of=function(is,cs,lo){return new us(is,cs,lo)},us}(),JavaScriptEmbedder=function(){function us(is,cs){this.script=is,this.scriptName=cs}return us.for=function(is,cs){return new us(is,cs)},us.prototype.embedIntoContext=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo;return __generator$1(this,function(co){return lo=is.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),cs?(is.assign(cs,lo),[2,cs]):[2,is.register(lo)]})})},us}(),PDFDocument=function(){function us(is,cs,lo){var co=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var hs=[];return co.catalog.Pages().traverse(function(uo,xa){if(uo instanceof PDFPageLeaf){var ba=co.pageMap.get(uo);ba||(ba=PDFPage.of(uo,xa,co),co.pageMap.set(uo,ba)),hs.push(ba)}}),hs},this.getOrCreateForm=function(){var hs=co.catalog.getOrCreateAcroForm();return PDFForm.of(hs,co)},assertIs(is,"context",[[PDFContext,"PDFContext"]]),assertIs(cs,"ignoreEncryption",["boolean"]),this.context=is,this.catalog=is.lookup(is.trailerInfo.Root),this.isEncrypted=!!is.lookup(is.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!cs&&this.isEncrypted)throw new EncryptedPDFError;lo&&this.updateInfoDict()}return us.load=function(is,cs){return cs===void 0&&(cs={}),__awaiter$1(this,void 0,void 0,function(){var lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il;return __generator$1(this,function(Fl){switch(Fl.label){case 0:return lo=cs.ignoreEncryption,co=lo===void 0?!1:lo,hs=cs.parseSpeed,uo=hs===void 0?ParseSpeeds.Slow:hs,xa=cs.throwOnInvalidObject,ba=xa===void 0?!1:xa,$a=cs.updateMetadata,wl=$a===void 0?!0:$a,Sl=cs.capNumbers,Cl=Sl===void 0?!1:Sl,assertIs(is,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(co,"ignoreEncryption",["boolean"]),assertIs(uo,"parseSpeed",["number"]),assertIs(ba,"throwOnInvalidObject",["boolean"]),_l=toUint8Array(is),[4,PDFParser.forBytesWithOptions(_l,uo,ba,Cl).parseDocument()];case 1:return Il=Fl.sent(),[2,new us(Il,co,wl)]}})})},us.create=function(is){return is===void 0&&(is={}),__awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo,xa;return __generator$1(this,function(ba){return cs=is.updateMetadata,lo=cs===void 0?!0:cs,co=PDFContext.create(),hs=PDFPageTree.withContext(co),uo=co.register(hs),xa=PDFCatalog.withContextAndPages(co,uo),co.trailerInfo.Root=co.register(xa),[2,new us(co,!1,lo)]})})},us.prototype.registerFontkit=function(is){this.fontkit=is},us.prototype.getForm=function(){var is=this.formCache.access();return is.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),is.deleteXFA()),is},us.prototype.getTitle=function(){var is=this.getInfoDict().lookup(PDFName.Title);if(is)return assertIsLiteralOrHexString(is),is.decodeText()},us.prototype.getAuthor=function(){var is=this.getInfoDict().lookup(PDFName.Author);if(is)return assertIsLiteralOrHexString(is),is.decodeText()},us.prototype.getSubject=function(){var is=this.getInfoDict().lookup(PDFName.Subject);if(is)return assertIsLiteralOrHexString(is),is.decodeText()},us.prototype.getKeywords=function(){var is=this.getInfoDict().lookup(PDFName.Keywords);if(is)return assertIsLiteralOrHexString(is),is.decodeText()},us.prototype.getCreator=function(){var is=this.getInfoDict().lookup(PDFName.Creator);if(is)return assertIsLiteralOrHexString(is),is.decodeText()},us.prototype.getProducer=function(){var is=this.getInfoDict().lookup(PDFName.Producer);if(is)return assertIsLiteralOrHexString(is),is.decodeText()},us.prototype.getCreationDate=function(){var is=this.getInfoDict().lookup(PDFName.CreationDate);if(is)return assertIsLiteralOrHexString(is),is.decodeDate()},us.prototype.getModificationDate=function(){var is=this.getInfoDict().lookup(PDFName.ModDate);if(is)return assertIsLiteralOrHexString(is),is.decodeDate()},us.prototype.setTitle=function(is,cs){assertIs(is,"title",["string"]);var lo=PDFName.of("Title");if(this.getInfoDict().set(lo,PDFHexString.fromText(is)),cs!=null&&cs.showInWindowTitleBar){var co=this.catalog.getOrCreateViewerPreferences();co.setDisplayDocTitle(!0)}},us.prototype.setAuthor=function(is){assertIs(is,"author",["string"]);var cs=PDFName.of("Author");this.getInfoDict().set(cs,PDFHexString.fromText(is))},us.prototype.setSubject=function(is){assertIs(is,"author",["string"]);var cs=PDFName.of("Subject");this.getInfoDict().set(cs,PDFHexString.fromText(is))},us.prototype.setKeywords=function(is){assertIs(is,"keywords",[Array]);var cs=PDFName.of("Keywords");this.getInfoDict().set(cs,PDFHexString.fromText(is.join(" ")))},us.prototype.setCreator=function(is){assertIs(is,"creator",["string"]);var cs=PDFName.of("Creator");this.getInfoDict().set(cs,PDFHexString.fromText(is))},us.prototype.setProducer=function(is){assertIs(is,"creator",["string"]);var cs=PDFName.of("Producer");this.getInfoDict().set(cs,PDFHexString.fromText(is))},us.prototype.setLanguage=function(is){assertIs(is,"language",["string"]);var cs=PDFName.of("Lang");this.catalog.set(cs,PDFString.of(is))},us.prototype.setCreationDate=function(is){assertIs(is,"creationDate",[[Date,"Date"]]);var cs=PDFName.of("CreationDate");this.getInfoDict().set(cs,PDFString.fromDate(is))},us.prototype.setModificationDate=function(is){assertIs(is,"modificationDate",[[Date,"Date"]]);var cs=PDFName.of("ModDate");this.getInfoDict().set(cs,PDFString.fromDate(is))},us.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},us.prototype.getPages=function(){return this.pageCache.access()},us.prototype.getPage=function(is){var cs=this.getPages();return assertRange(is,"index",0,cs.length-1),cs[is]},us.prototype.getPageIndices=function(){return range(0,this.getPageCount())},us.prototype.removePage=function(is){var cs=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(is,"index",0,cs-1),this.catalog.removeLeafNode(is),this.pageCount=cs-1},us.prototype.addPage=function(is){return assertIs(is,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),is)},us.prototype.insertPage=function(is,cs){var lo=this.getPageCount();if(assertRange(is,"index",0,lo),assertIs(cs,"page",["undefined",[PDFPage,"PDFPage"],Array]),!cs||Array.isArray(cs)){var co=Array.isArray(cs)?cs:PageSizes.A4;cs=PDFPage.create(this),cs.setSize.apply(cs,co)}else if(cs.doc!==this)throw new ForeignPageError;var hs=this.catalog.insertLeafNode(cs.ref,is);return cs.node.setParent(hs),this.pageMap.set(cs.node,cs),this.pageCache.invalidate(),this.pageCount=lo+1,cs},us.prototype.copyPages=function(is,cs){return __awaiter$1(this,void 0,void 0,function(){var lo,co,hs,uo,xa,ba,$a,wl;return __generator$1(this,function(Sl){switch(Sl.label){case 0:return assertIs(is,"srcDoc",[[us,"PDFDocument"]]),assertIs(cs,"indices",[Array]),[4,is.flush()];case 1:for(Sl.sent(),lo=PDFObjectCopier.for(is.context,this.context),co=is.getPages(),hs=new Array(cs.length),uo=0,xa=cs.length;uo<xa;uo++)ba=co[cs[uo]],$a=lo.copy(ba.node),wl=this.context.register($a),hs[uo]=PDFPage.of($a,wl,this);return[2,hs]}})})},us.prototype.copy=function(){return __awaiter$1(this,void 0,void 0,function(){var is,cs,lo,co;return __generator$1(this,function(hs){switch(hs.label){case 0:return[4,us.create()];case 1:return is=hs.sent(),[4,is.copyPages(this,this.getPageIndices())];case 2:for(cs=hs.sent(),lo=0,co=cs.length;lo<co;lo++)is.addPage(cs[lo]);return this.getAuthor()!==void 0&&is.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&is.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&is.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&is.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&is.setProducer(this.getProducer()),this.getSubject()!==void 0&&is.setSubject(this.getSubject()),this.getTitle()!==void 0&&is.setTitle(this.getTitle()),is.defaultWordBreaks=this.defaultWordBreaks,[2,is]}})})},us.prototype.addJavaScript=function(is,cs){assertIs(is,"name",["string"]),assertIs(cs,"script",["string"]);var lo=JavaScriptEmbedder.for(cs,is),co=this.context.nextRef(),hs=PDFJavaScript.of(co,this,lo);this.javaScripts.push(hs)},us.prototype.attach=function(is,cs,lo){return lo===void 0&&(lo={}),__awaiter$1(this,void 0,void 0,function(){var co,hs,uo,xa;return __generator$1(this,function(ba){return assertIs(is,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(cs,"name",["string"]),assertOrUndefined(lo.mimeType,"mimeType",["string"]),assertOrUndefined(lo.description,"description",["string"]),assertOrUndefined(lo.creationDate,"options.creationDate",[Date]),assertOrUndefined(lo.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(lo.afRelationship,"options.afRelationship",AFRelationship),co=toUint8Array(is),hs=FileEmbedder.for(co,cs,lo),uo=this.context.nextRef(),xa=PDFEmbeddedFile.of(uo,this,hs),this.embeddedFiles.push(xa),[2]})})},us.prototype.embedFont=function(is,cs){return cs===void 0&&(cs={}),__awaiter$1(this,void 0,void 0,function(){var lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl;return __generator$1(this,function(_l){switch(_l.label){case 0:return lo=cs.subset,co=lo===void 0?!1:lo,hs=cs.customName,uo=cs.features,assertIs(is,"font",["string",Uint8Array,ArrayBuffer]),assertIs(co,"subset",["boolean"]),isStandardFont(is)?(xa=StandardFontEmbedder.for(is,hs),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(is)?(ba=toUint8Array(is),$a=this.assertFontkit(),co?[4,CustomFontSubsetEmbedder.for($a,ba,hs,uo)]:[3,3]):[3,6];case 2:return wl=_l.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for($a,ba,hs,uo)];case 4:wl=_l.sent(),_l.label=5;case 5:return xa=wl,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return Sl=this.context.nextRef(),Cl=PDFFont.of(Sl,this,xa),this.fonts.push(Cl),[2,Cl]}})})},us.prototype.embedStandardFont=function(is,cs){if(assertIs(is,"font",["string"]),!isStandardFont(is))throw new TypeError("`font` must be one of type `StandardFonts`");var lo=StandardFontEmbedder.for(is,cs),co=this.context.nextRef(),hs=PDFFont.of(co,this,lo);return this.fonts.push(hs),hs},us.prototype.embedJpg=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs;return __generator$1(this,function(uo){switch(uo.label){case 0:return assertIs(is,"jpg",["string",Uint8Array,ArrayBuffer]),cs=toUint8Array(is),[4,JpegEmbedder.for(cs)];case 1:return lo=uo.sent(),co=this.context.nextRef(),hs=PDFImage.of(co,this,lo),this.images.push(hs),[2,hs]}})})},us.prototype.embedPng=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs;return __generator$1(this,function(uo){switch(uo.label){case 0:return assertIs(is,"png",["string",Uint8Array,ArrayBuffer]),cs=toUint8Array(is),[4,PngEmbedder.for(cs)];case 1:return lo=uo.sent(),co=this.context.nextRef(),hs=PDFImage.of(co,this,lo),this.images.push(hs),[2,hs]}})})},us.prototype.embedPdf=function(is,cs){return cs===void 0&&(cs=[0]),__awaiter$1(this,void 0,void 0,function(){var lo,co,hs;return __generator$1(this,function(uo){switch(uo.label){case 0:return assertIs(is,"pdf",["string",Uint8Array,ArrayBuffer,[us,"PDFDocument"]]),assertIs(cs,"indices",[Array]),is instanceof us?(co=is,[3,3]):[3,1];case 1:return[4,us.load(is)];case 2:co=uo.sent(),uo.label=3;case 3:return lo=co,hs=pluckIndices(lo.getPages(),cs),[2,this.embedPages(hs)]}})})},us.prototype.embedPage=function(is,cs,lo){return __awaiter$1(this,void 0,void 0,function(){var co;return __generator$1(this,function(hs){switch(hs.label){case 0:return assertIs(is,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([is],[cs],[lo])];case 1:return co=hs.sent()[0],[2,co]}})})},us.prototype.embedPages=function(is,cs,lo){return cs===void 0&&(cs=[]),lo===void 0&&(lo=[]),__awaiter$1(this,void 0,void 0,function(){var $a,wl,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml;return __generator$1(this,function(Tl){switch(Tl.label){case 0:if(is.length===0)return[2,[]];for($a=0,wl=is.length-1;$a<wl;$a++)if(co=is[$a],hs=is[$a+1],co.node.context!==hs.node.context)throw new PageEmbeddingMismatchedContextError;uo=is[0].node.context,xa=uo===this.context?function(Dl){return Dl}:PDFObjectCopier.for(uo,this.context).copy,ba=new Array(is.length),$a=0,wl=is.length,Tl.label=1;case 1:return $a<wl?(Sl=xa(is[$a].node),Cl=cs[$a],_l=lo[$a],[4,PDFPageEmbedder.for(Sl,Cl,_l)]):[3,4];case 2:Il=Tl.sent(),Fl=this.context.nextRef(),ba[$a]=PDFEmbeddedPage.of(Fl,this,Il),Tl.label=3;case 3:return $a++,[3,1];case 4:return(Ml=this.embeddedPages).push.apply(Ml,ba),[2,ba]}})})},us.prototype.flush=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(is){switch(is.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return is.sent(),[4,this.embedAll(this.images)];case 2:return is.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return is.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return is.sent(),[4,this.embedAll(this.javaScripts)];case 5:return is.sent(),[2]}})})},us.prototype.save=function(is){return is===void 0&&(is={}),__awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl;return __generator$1(this,function(Cl){switch(Cl.label){case 0:return cs=is.useObjectStreams,lo=cs===void 0?!0:cs,co=is.addDefaultPage,hs=co===void 0?!0:co,uo=is.objectsPerTick,xa=uo===void 0?50:uo,ba=is.updateFieldAppearances,$a=ba===void 0?!0:ba,assertIs(lo,"useObjectStreams",["boolean"]),assertIs(hs,"addDefaultPage",["boolean"]),assertIs(xa,"objectsPerTick",["number"]),assertIs($a,"updateFieldAppearances",["boolean"]),hs&&this.getPageCount()===0&&this.addPage(),$a&&(wl=this.formCache.getValue(),wl&&wl.updateFieldAppearances()),[4,this.flush()];case 1:return Cl.sent(),Sl=lo?PDFStreamWriter:PDFWriter,[2,Sl.forContext(this.context,xa).serializeToBuffer()]}})})},us.prototype.saveAsBase64=function(is){return is===void 0&&(is={}),__awaiter$1(this,void 0,void 0,function(){var cs,lo,co,hs,uo;return __generator$1(this,function(xa){switch(xa.label){case 0:return cs=is.dataUri,lo=cs===void 0?!1:cs,co=__rest$1(is,["dataUri"]),assertIs(lo,"dataUri",["boolean"]),[4,this.save(co)];case 1:return hs=xa.sent(),uo=encodeToBase64(hs),[2,lo?"data:application/pdf;base64,"+uo:uo]}})})},us.prototype.findPageForAnnotationRef=function(is){for(var cs=this.getPages(),lo=0,co=cs.length;lo<co;lo++){var hs=cs[lo],uo=hs.node.Annots();if((uo==null?void 0:uo.indexOf(is))!==void 0)return hs}},us.prototype.embedAll=function(is){return __awaiter$1(this,void 0,void 0,function(){var cs,lo;return __generator$1(this,function(co){switch(co.label){case 0:cs=0,lo=is.length,co.label=1;case 1:return cs<lo?[4,is[cs].embed()]:[3,4];case 2:co.sent(),co.label=3;case 3:return cs++,[3,1];case 4:return[2]}})})},us.prototype.updateInfoDict=function(){var is="pdf-lib (https://github.com/Hopding/pdf-lib)",cs=new Date,lo=this.getInfoDict();this.setProducer(is),this.setModificationDate(cs),lo.get(PDFName.of("Creator"))||this.setCreator(is),lo.get(PDFName.of("CreationDate"))||this.setCreationDate(cs)},us.prototype.getInfoDict=function(){var is=this.context.lookup(this.context.trailerInfo.Info);if(is instanceof PDFDict)return is;var cs=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(cs),cs},us.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},us}();function assertIsLiteralOrHexString(us){if(!(us instanceof PDFHexString)&&!(us instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],us)}var BlendMode;(function(us){us.Normal="Normal",us.Multiply="Multiply",us.Screen="Screen",us.Overlay="Overlay",us.Darken="Darken",us.Lighten="Lighten",us.ColorDodge="ColorDodge",us.ColorBurn="ColorBurn",us.HardLight="HardLight",us.SoftLight="SoftLight",us.Difference="Difference",us.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function us(is,cs,lo){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(is,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(cs,"ref",[[PDFRef,"PDFRef"]]),assertIs(lo,"doc",[[PDFDocument,"PDFDocument"]]),this.node=is,this.ref=cs,this.doc=lo}return us.prototype.setRotation=function(is){var cs=toDegrees(is);assertMultiple(cs,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(cs))},us.prototype.getRotation=function(){var is=this.node.Rotate();return degrees(is?is.asNumber():0)},us.prototype.setSize=function(is,cs){assertIs(is,"width",["number"]),assertIs(cs,"height",["number"]);var lo=this.getMediaBox();this.setMediaBox(lo.x,lo.y,is,cs);var co=this.getCropBox(),hs=this.getBleedBox(),uo=this.getTrimBox(),xa=this.getArtBox(),ba=this.node.CropBox(),$a=this.node.BleedBox(),wl=this.node.TrimBox(),Sl=this.node.ArtBox();ba&&rectanglesAreEqual(co,lo)&&this.setCropBox(lo.x,lo.y,is,cs),$a&&rectanglesAreEqual(hs,lo)&&this.setBleedBox(lo.x,lo.y,is,cs),wl&&rectanglesAreEqual(uo,lo)&&this.setTrimBox(lo.x,lo.y,is,cs),Sl&&rectanglesAreEqual(xa,lo)&&this.setArtBox(lo.x,lo.y,is,cs)},us.prototype.setWidth=function(is){assertIs(is,"width",["number"]),this.setSize(is,this.getSize().height)},us.prototype.setHeight=function(is){assertIs(is,"height",["number"]),this.setSize(this.getSize().width,is)},us.prototype.setMediaBox=function(is,cs,lo,co){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),assertIs(lo,"width",["number"]),assertIs(co,"height",["number"]);var hs=this.doc.context.obj([is,cs,is+lo,cs+co]);this.node.set(PDFName.MediaBox,hs)},us.prototype.setCropBox=function(is,cs,lo,co){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),assertIs(lo,"width",["number"]),assertIs(co,"height",["number"]);var hs=this.doc.context.obj([is,cs,is+lo,cs+co]);this.node.set(PDFName.CropBox,hs)},us.prototype.setBleedBox=function(is,cs,lo,co){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),assertIs(lo,"width",["number"]),assertIs(co,"height",["number"]);var hs=this.doc.context.obj([is,cs,is+lo,cs+co]);this.node.set(PDFName.BleedBox,hs)},us.prototype.setTrimBox=function(is,cs,lo,co){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),assertIs(lo,"width",["number"]),assertIs(co,"height",["number"]);var hs=this.doc.context.obj([is,cs,is+lo,cs+co]);this.node.set(PDFName.TrimBox,hs)},us.prototype.setArtBox=function(is,cs,lo,co){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),assertIs(lo,"width",["number"]),assertIs(co,"height",["number"]);var hs=this.doc.context.obj([is,cs,is+lo,cs+co]);this.node.set(PDFName.ArtBox,hs)},us.prototype.getSize=function(){var is=this.getMediaBox(),cs=is.width,lo=is.height;return{width:cs,height:lo}},us.prototype.getWidth=function(){return this.getSize().width},us.prototype.getHeight=function(){return this.getSize().height},us.prototype.getMediaBox=function(){var is=this.node.MediaBox();return is.asRectangle()},us.prototype.getCropBox=function(){var is,cs=this.node.CropBox();return(is=cs==null?void 0:cs.asRectangle())!==null&&is!==void 0?is:this.getMediaBox()},us.prototype.getBleedBox=function(){var is,cs=this.node.BleedBox();return(is=cs==null?void 0:cs.asRectangle())!==null&&is!==void 0?is:this.getCropBox()},us.prototype.getTrimBox=function(){var is,cs=this.node.TrimBox();return(is=cs==null?void 0:cs.asRectangle())!==null&&is!==void 0?is:this.getCropBox()},us.prototype.getArtBox=function(){var is,cs=this.node.ArtBox();return(is=cs==null?void 0:cs.asRectangle())!==null&&is!==void 0?is:this.getCropBox()},us.prototype.translateContent=function(is,cs){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),this.node.normalize(),this.getContentStream();var lo=this.createContentStream(pushGraphicsState(),translate(is,cs)),co=this.doc.context.register(lo),hs=this.createContentStream(popGraphicsState()),uo=this.doc.context.register(hs);this.node.wrapContentStreams(co,uo)},us.prototype.scale=function(is,cs){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),this.setSize(this.getWidth()*is,this.getHeight()*cs),this.scaleContent(is,cs),this.scaleAnnotations(is,cs)},us.prototype.scaleContent=function(is,cs){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),this.node.normalize(),this.getContentStream();var lo=this.createContentStream(pushGraphicsState(),scale(is,cs)),co=this.doc.context.register(lo),hs=this.createContentStream(popGraphicsState()),uo=this.doc.context.register(hs);this.node.wrapContentStreams(co,uo)},us.prototype.scaleAnnotations=function(is,cs){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]);var lo=this.node.Annots();if(lo)for(var co=0;co<lo.size();co++){var hs=lo.lookup(co);hs instanceof PDFDict&&this.scaleAnnot(hs,is,cs)}},us.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},us.prototype.setFont=function(is){assertIs(is,"font",[[PDFFont,"PDFFont"]]),this.font=is,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},us.prototype.setFontSize=function(is){assertIs(is,"fontSize",["number"]),this.fontSize=is},us.prototype.setFontColor=function(is){assertIs(is,"fontColor",[[Object,"Color"]]),this.fontColor=is},us.prototype.setLineHeight=function(is){assertIs(is,"lineHeight",["number"]),this.lineHeight=is},us.prototype.getPosition=function(){return{x:this.x,y:this.y}},us.prototype.getX=function(){return this.x},us.prototype.getY=function(){return this.y},us.prototype.moveTo=function(is,cs){assertIs(is,"x",["number"]),assertIs(cs,"y",["number"]),this.x=is,this.y=cs},us.prototype.moveDown=function(is){assertIs(is,"yDecrease",["number"]),this.y-=is},us.prototype.moveUp=function(is){assertIs(is,"yIncrease",["number"]),this.y+=is},us.prototype.moveLeft=function(is){assertIs(is,"xDecrease",["number"]),this.x-=is},us.prototype.moveRight=function(is){assertIs(is,"xIncrease",["number"]),this.x+=is},us.prototype.pushOperators=function(){for(var is=[],cs=0;cs<arguments.length;cs++)is[cs]=arguments[cs];assertEachIs(is,"operator",[[PDFOperator,"PDFOperator"]]);var lo=this.getContentStream();lo.push.apply(lo,is)},us.prototype.drawText=function(is,cs){var lo,co,hs,uo,xa,ba,$a;cs===void 0&&(cs={}),assertIs(is,"text",["string"]),assertOrUndefined(cs.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(cs.opacity,"opacity.opacity",0,1),assertOrUndefined(cs.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(cs.size,"options.size",["number"]),assertOrUndefined(cs.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(cs.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(cs.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(cs.x,"options.x",["number"]),assertOrUndefined(cs.y,"options.y",["number"]),assertOrUndefined(cs.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(cs.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(cs.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(cs.blendMode,"options.blendMode",BlendMode);for(var wl=this.setOrEmbedFont(cs.font),Sl=wl.oldFont,Cl=wl.newFont,_l=wl.newFontKey,Il=cs.size||this.fontSize,Fl=cs.wordBreaks||this.doc.defaultWordBreaks,Ml=function($l){return Cl.widthOfTextAtSize($l,Il)},Tl=cs.maxWidth===void 0?lineSplit(cleanText(is)):breakTextIntoLines(is,Fl,cs.maxWidth,Ml),Dl=new Array(Tl.length),Bl=0,Ll=Tl.length;Bl<Ll;Bl++)Dl[Bl]=Cl.encodeText(Tl[Bl]);var Nl=this.maybeEmbedGraphicsState({opacity:cs.opacity,blendMode:cs.blendMode}),zl=this.getContentStream();zl.push.apply(zl,drawLinesOfText(Dl,{color:(lo=cs.color)!==null&&lo!==void 0?lo:this.fontColor,font:_l,size:Il,rotate:(co=cs.rotate)!==null&&co!==void 0?co:degrees(0),xSkew:(hs=cs.xSkew)!==null&&hs!==void 0?hs:degrees(0),ySkew:(uo=cs.ySkew)!==null&&uo!==void 0?uo:degrees(0),x:(xa=cs.x)!==null&&xa!==void 0?xa:this.x,y:(ba=cs.y)!==null&&ba!==void 0?ba:this.y,lineHeight:($a=cs.lineHeight)!==null&&$a!==void 0?$a:this.lineHeight,graphicsState:Nl})),cs.font&&(Sl?this.setFont(Sl):this.resetFont())},us.prototype.drawImage=function(is,cs){var lo,co,hs,uo,xa,ba,$a;cs===void 0&&(cs={}),assertIs(is,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(cs.x,"options.x",["number"]),assertOrUndefined(cs.y,"options.y",["number"]),assertOrUndefined(cs.width,"options.width",["number"]),assertOrUndefined(cs.height,"options.height",["number"]),assertOrUndefined(cs.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(cs.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(cs.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(cs.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(cs.blendMode,"options.blendMode",BlendMode);var wl=this.node.newXObject("Image",is.ref),Sl=this.maybeEmbedGraphicsState({opacity:cs.opacity,blendMode:cs.blendMode}),Cl=this.getContentStream();Cl.push.apply(Cl,drawImage(wl,{x:(lo=cs.x)!==null&&lo!==void 0?lo:this.x,y:(co=cs.y)!==null&&co!==void 0?co:this.y,width:(hs=cs.width)!==null&&hs!==void 0?hs:is.size().width,height:(uo=cs.height)!==null&&uo!==void 0?uo:is.size().height,rotate:(xa=cs.rotate)!==null&&xa!==void 0?xa:degrees(0),xSkew:(ba=cs.xSkew)!==null&&ba!==void 0?ba:degrees(0),ySkew:($a=cs.ySkew)!==null&&$a!==void 0?$a:degrees(0),graphicsState:Sl}))},us.prototype.drawPage=function(is,cs){var lo,co,hs,uo,xa;cs===void 0&&(cs={}),assertIs(is,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(cs.x,"options.x",["number"]),assertOrUndefined(cs.y,"options.y",["number"]),assertOrUndefined(cs.xScale,"options.xScale",["number"]),assertOrUndefined(cs.yScale,"options.yScale",["number"]),assertOrUndefined(cs.width,"options.width",["number"]),assertOrUndefined(cs.height,"options.height",["number"]),assertOrUndefined(cs.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(cs.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(cs.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(cs.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(cs.blendMode,"options.blendMode",BlendMode);var ba=this.node.newXObject("EmbeddedPdfPage",is.ref),$a=this.maybeEmbedGraphicsState({opacity:cs.opacity,blendMode:cs.blendMode}),wl=cs.width!==void 0?cs.width/is.width:cs.xScale!==void 0?cs.xScale:1,Sl=cs.height!==void 0?cs.height/is.height:cs.yScale!==void 0?cs.yScale:1,Cl=this.getContentStream();Cl.push.apply(Cl,drawPage(ba,{x:(lo=cs.x)!==null&&lo!==void 0?lo:this.x,y:(co=cs.y)!==null&&co!==void 0?co:this.y,xScale:wl,yScale:Sl,rotate:(hs=cs.rotate)!==null&&hs!==void 0?hs:degrees(0),xSkew:(uo=cs.xSkew)!==null&&uo!==void 0?uo:degrees(0),ySkew:(xa=cs.ySkew)!==null&&xa!==void 0?xa:degrees(0),graphicsState:$a}))},us.prototype.drawSvgPath=function(is,cs){var lo,co,hs,uo,xa,ba,$a,wl,Sl;cs===void 0&&(cs={}),assertIs(is,"path",["string"]),assertOrUndefined(cs.x,"options.x",["number"]),assertOrUndefined(cs.y,"options.y",["number"]),assertOrUndefined(cs.scale,"options.scale",["number"]),assertOrUndefined(cs.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(cs.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(cs.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(cs.opacity,"opacity.opacity",0,1),assertOrUndefined(cs.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(cs.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(cs.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(cs.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(cs.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(cs.blendMode,"options.blendMode",BlendMode);var Cl=this.maybeEmbedGraphicsState({opacity:cs.opacity,borderOpacity:cs.borderOpacity,blendMode:cs.blendMode});!("color"in cs)&&!("borderColor"in cs)&&(cs.borderColor=rgb(0,0,0));var _l=this.getContentStream();_l.push.apply(_l,drawSvgPath(is,{x:(lo=cs.x)!==null&&lo!==void 0?lo:this.x,y:(co=cs.y)!==null&&co!==void 0?co:this.y,scale:cs.scale,rotate:(hs=cs.rotate)!==null&&hs!==void 0?hs:degrees(0),color:(uo=cs.color)!==null&&uo!==void 0?uo:void 0,borderColor:(xa=cs.borderColor)!==null&&xa!==void 0?xa:void 0,borderWidth:(ba=cs.borderWidth)!==null&&ba!==void 0?ba:0,borderDashArray:($a=cs.borderDashArray)!==null&&$a!==void 0?$a:void 0,borderDashPhase:(wl=cs.borderDashPhase)!==null&&wl!==void 0?wl:void 0,borderLineCap:(Sl=cs.borderLineCap)!==null&&Sl!==void 0?Sl:void 0,graphicsState:Cl}))},us.prototype.drawLine=function(is){var cs,lo,co,hs,uo;assertIs(is.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(is.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(is.start.x,"options.start.x",["number"]),assertIs(is.start.y,"options.start.y",["number"]),assertIs(is.end.x,"options.end.x",["number"]),assertIs(is.end.y,"options.end.y",["number"]),assertOrUndefined(is.thickness,"options.thickness",["number"]),assertOrUndefined(is.color,"options.color",[[Object,"Color"]]),assertOrUndefined(is.dashArray,"options.dashArray",[Array]),assertOrUndefined(is.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(is.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(is.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(is.blendMode,"options.blendMode",BlendMode);var xa=this.maybeEmbedGraphicsState({borderOpacity:is.opacity,blendMode:is.blendMode});"color"in is||(is.color=rgb(0,0,0));var ba=this.getContentStream();ba.push.apply(ba,drawLine({start:is.start,end:is.end,thickness:(cs=is.thickness)!==null&&cs!==void 0?cs:1,color:(lo=is.color)!==null&&lo!==void 0?lo:void 0,dashArray:(co=is.dashArray)!==null&&co!==void 0?co:void 0,dashPhase:(hs=is.dashPhase)!==null&&hs!==void 0?hs:void 0,lineCap:(uo=is.lineCap)!==null&&uo!==void 0?uo:void 0,graphicsState:xa}))},us.prototype.drawRectangle=function(is){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il;is===void 0&&(is={}),assertOrUndefined(is.x,"options.x",["number"]),assertOrUndefined(is.y,"options.y",["number"]),assertOrUndefined(is.width,"options.width",["number"]),assertOrUndefined(is.height,"options.height",["number"]),assertOrUndefined(is.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(is.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(is.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(is.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(is.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(is.opacity,"opacity.opacity",0,1),assertOrUndefined(is.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(is.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(is.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(is.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(is.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(is.blendMode,"options.blendMode",BlendMode);var Fl=this.maybeEmbedGraphicsState({opacity:is.opacity,borderOpacity:is.borderOpacity,blendMode:is.blendMode});!("color"in is)&&!("borderColor"in is)&&(is.color=rgb(0,0,0));var Ml=this.getContentStream();Ml.push.apply(Ml,drawRectangle({x:(cs=is.x)!==null&&cs!==void 0?cs:this.x,y:(lo=is.y)!==null&&lo!==void 0?lo:this.y,width:(co=is.width)!==null&&co!==void 0?co:150,height:(hs=is.height)!==null&&hs!==void 0?hs:100,rotate:(uo=is.rotate)!==null&&uo!==void 0?uo:degrees(0),xSkew:(xa=is.xSkew)!==null&&xa!==void 0?xa:degrees(0),ySkew:(ba=is.ySkew)!==null&&ba!==void 0?ba:degrees(0),borderWidth:($a=is.borderWidth)!==null&&$a!==void 0?$a:0,color:(wl=is.color)!==null&&wl!==void 0?wl:void 0,borderColor:(Sl=is.borderColor)!==null&&Sl!==void 0?Sl:void 0,borderDashArray:(Cl=is.borderDashArray)!==null&&Cl!==void 0?Cl:void 0,borderDashPhase:(_l=is.borderDashPhase)!==null&&_l!==void 0?_l:void 0,graphicsState:Fl,borderLineCap:(Il=is.borderLineCap)!==null&&Il!==void 0?Il:void 0}))},us.prototype.drawSquare=function(is){is===void 0&&(is={});var cs=is.size;assertOrUndefined(cs,"size",["number"]),this.drawRectangle(__assign$1(__assign$1({},is),{width:cs,height:cs}))},us.prototype.drawEllipse=function(is){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl;is===void 0&&(is={}),assertOrUndefined(is.x,"options.x",["number"]),assertOrUndefined(is.y,"options.y",["number"]),assertOrUndefined(is.xScale,"options.xScale",["number"]),assertOrUndefined(is.yScale,"options.yScale",["number"]),assertOrUndefined(is.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(is.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(is.opacity,"opacity.opacity",0,1),assertOrUndefined(is.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(is.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(is.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(is.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(is.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(is.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(is.blendMode,"options.blendMode",BlendMode);var _l=this.maybeEmbedGraphicsState({opacity:is.opacity,borderOpacity:is.borderOpacity,blendMode:is.blendMode});!("color"in is)&&!("borderColor"in is)&&(is.color=rgb(0,0,0));var Il=this.getContentStream();Il.push.apply(Il,drawEllipse({x:(cs=is.x)!==null&&cs!==void 0?cs:this.x,y:(lo=is.y)!==null&&lo!==void 0?lo:this.y,xScale:(co=is.xScale)!==null&&co!==void 0?co:100,yScale:(hs=is.yScale)!==null&&hs!==void 0?hs:100,rotate:(uo=is.rotate)!==null&&uo!==void 0?uo:void 0,color:(xa=is.color)!==null&&xa!==void 0?xa:void 0,borderColor:(ba=is.borderColor)!==null&&ba!==void 0?ba:void 0,borderWidth:($a=is.borderWidth)!==null&&$a!==void 0?$a:0,borderDashArray:(wl=is.borderDashArray)!==null&&wl!==void 0?wl:void 0,borderDashPhase:(Sl=is.borderDashPhase)!==null&&Sl!==void 0?Sl:void 0,borderLineCap:(Cl=is.borderLineCap)!==null&&Cl!==void 0?Cl:void 0,graphicsState:_l}))},us.prototype.drawCircle=function(is){is===void 0&&(is={});var cs=is.size,lo=cs===void 0?100:cs;assertOrUndefined(lo,"size",["number"]),this.drawEllipse(__assign$1(__assign$1({},is),{xScale:lo,yScale:lo}))},us.prototype.setOrEmbedFont=function(is){var cs=this.font,lo=this.fontKey;is?this.setFont(is):this.getFont();var co=this.font,hs=this.fontKey;return{oldFont:cs,oldFontKey:lo,newFont:co,newFontKey:hs}},us.prototype.getFont=function(){if(!this.font||!this.fontKey){var is=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(is)}return[this.font,this.fontKey]},us.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},us.prototype.getContentStream=function(is){return is===void 0&&(is=!0),is&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},us.prototype.createContentStream=function(){for(var is=[],cs=0;cs<arguments.length;cs++)is[cs]=arguments[cs];var lo=this.doc.context.obj({}),co=PDFContentStream.of(lo,is);return co},us.prototype.maybeEmbedGraphicsState=function(is){var cs=is.opacity,lo=is.borderOpacity,co=is.blendMode;if(!(cs===void 0&&lo===void 0&&co===void 0)){var hs=this.doc.context.obj({Type:"ExtGState",ca:cs,CA:lo,BM:co}),uo=this.node.newExtGState("GS",hs);return uo}},us.prototype.scaleAnnot=function(is,cs,lo){for(var co=["RD","CL","Vertices","QuadPoints","L","Rect"],hs=0,uo=co.length;hs<uo;hs++){var xa=is.lookup(PDFName.of(co[hs]));xa instanceof PDFArray&&xa.scalePDFNumbers(cs,lo)}var ba=is.lookup(PDFName.of("InkList"));if(ba instanceof PDFArray)for(var hs=0,uo=ba.size();hs<uo;hs++){var $a=ba.lookup(hs);$a instanceof PDFArray&&$a.scalePDFNumbers(cs,lo)}},us.of=function(is,cs,lo){return new us(is,cs,lo)},us.create=function(is){assertIs(is,"doc",[[PDFDocument,"PDFDocument"]]);var cs=PDFRef.of(-1),lo=PDFPageLeaf.withContextAndParent(is.context,cs),co=is.context.register(lo);return new us(lo,co,is)},us}(),PDFButton=function(us){__extends$1(is,us);function is(cs,lo,co){var hs=us.call(this,cs,lo,co)||this;return assertIs(cs,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),hs.acroField=cs,hs}return is.prototype.setImage=function(cs,lo){lo===void 0&&(lo=ImageAlignment.Center);for(var co=this.acroField.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs],ba=this.createImageAppearanceStream(xa,cs,lo);this.updateWidgetAppearances(xa,{normal:ba})}this.markAsClean()},is.prototype.setFontSize=function(cs){assertPositive(cs,"fontSize"),this.acroField.setFontSize(cs),this.markAsDirty()},is.prototype.addToPage=function(cs,lo,co){var hs,uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl;assertOrUndefined(cs,"text",["string"]),assertOrUndefined(lo,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(co);var Ml=this.createWidget({x:((hs=co==null?void 0:co.x)!==null&&hs!==void 0?hs:0)-((uo=co==null?void 0:co.borderWidth)!==null&&uo!==void 0?uo:0)/2,y:((xa=co==null?void 0:co.y)!==null&&xa!==void 0?xa:0)-((ba=co==null?void 0:co.borderWidth)!==null&&ba!==void 0?ba:0)/2,width:($a=co==null?void 0:co.width)!==null&&$a!==void 0?$a:100,height:(wl=co==null?void 0:co.height)!==null&&wl!==void 0?wl:50,textColor:(Sl=co==null?void 0:co.textColor)!==null&&Sl!==void 0?Sl:rgb(0,0,0),backgroundColor:(Cl=co==null?void 0:co.backgroundColor)!==null&&Cl!==void 0?Cl:rgb(.75,.75,.75),borderColor:co==null?void 0:co.borderColor,borderWidth:(_l=co==null?void 0:co.borderWidth)!==null&&_l!==void 0?_l:0,rotate:(Il=co==null?void 0:co.rotate)!==null&&Il!==void 0?Il:degrees(0),caption:cs,hidden:co==null?void 0:co.hidden,page:lo.ref}),Tl=this.doc.context.register(Ml.dict);this.acroField.addWidget(Tl);var Dl=(Fl=co==null?void 0:co.font)!==null&&Fl!==void 0?Fl:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ml,Dl),lo.node.addAnnot(Tl)},is.prototype.needsAppearancesUpdate=function(){var cs;if(this.isDirty())return!0;for(var lo=this.acroField.getWidgets(),co=0,hs=lo.length;co<hs;co++){var uo=lo[co],xa=((cs=uo.getAppearances())===null||cs===void 0?void 0:cs.normal)instanceof PDFStream;if(!xa)return!0}return!1},is.prototype.defaultUpdateAppearances=function(cs){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(cs)},is.prototype.updateAppearances=function(cs,lo){assertIs(cs,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(lo,"provider",[Function]);for(var co=this.acroField.getWidgets(),hs=0,uo=co.length;hs<uo;hs++){var xa=co[hs];this.updateWidgetAppearance(xa,cs,lo)}},is.prototype.updateWidgetAppearance=function(cs,lo,co){var hs=co??defaultButtonAppearanceProvider,uo=normalizeAppearance(hs(this,cs,lo));this.updateWidgetAppearanceWithFont(cs,lo,uo)},is.of=function(cs,lo,co){return new is(cs,lo,co)},is}(PDFField),xlsx_min={exports:{}},cpexcel={exports:{}},hasRequiredCpexcel;function requireCpexcel(){return hasRequiredCpexcel||(hasRequiredCpexcel=1,function(us){var is={version:"1.15.0"};is[437]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[620]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[737]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[850]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[852]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[857]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[861]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[865]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[866]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[874]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[895]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[932]=function(){var cs=[],lo={},co=[],hs;for(co[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),hs=0;hs!=co[0].length;++hs)co[0][hs].charCodeAt(0)!==65533&&(lo[co[0][hs]]=0+hs,cs[0+hs]=co[0][hs]);for(co[129]="".split(""),hs=0;hs!=co[129].length;++hs)co[129][hs].charCodeAt(0)!==65533&&(lo[co[129][hs]]=33024+hs,cs[33024+hs]=co[129][hs]);for(co[130]="".split(""),hs=0;hs!=co[130].length;++hs)co[130][hs].charCodeAt(0)!==65533&&(lo[co[130][hs]]=33280+hs,cs[33280+hs]=co[130][hs]);for(co[131]="".split(""),hs=0;hs!=co[131].length;++hs)co[131][hs].charCodeAt(0)!==65533&&(lo[co[131][hs]]=33536+hs,cs[33536+hs]=co[131][hs]);for(co[132]="".split(""),hs=0;hs!=co[132].length;++hs)co[132][hs].charCodeAt(0)!==65533&&(lo[co[132][hs]]=33792+hs,cs[33792+hs]=co[132][hs]);for(co[135]="".split(""),hs=0;hs!=co[135].length;++hs)co[135][hs].charCodeAt(0)!==65533&&(lo[co[135][hs]]=34560+hs,cs[34560+hs]=co[135][hs]);for(co[136]="".split(""),hs=0;hs!=co[136].length;++hs)co[136][hs].charCodeAt(0)!==65533&&(lo[co[136][hs]]=34816+hs,cs[34816+hs]=co[136][hs]);for(co[137]="".split(""),hs=0;hs!=co[137].length;++hs)co[137][hs].charCodeAt(0)!==65533&&(lo[co[137][hs]]=35072+hs,cs[35072+hs]=co[137][hs]);for(co[138]="".split(""),hs=0;hs!=co[138].length;++hs)co[138][hs].charCodeAt(0)!==65533&&(lo[co[138][hs]]=35328+hs,cs[35328+hs]=co[138][hs]);for(co[139]="".split(""),hs=0;hs!=co[139].length;++hs)co[139][hs].charCodeAt(0)!==65533&&(lo[co[139][hs]]=35584+hs,cs[35584+hs]=co[139][hs]);for(co[140]="".split(""),hs=0;hs!=co[140].length;++hs)co[140][hs].charCodeAt(0)!==65533&&(lo[co[140][hs]]=35840+hs,cs[35840+hs]=co[140][hs]);for(co[141]="".split(""),hs=0;hs!=co[141].length;++hs)co[141][hs].charCodeAt(0)!==65533&&(lo[co[141][hs]]=36096+hs,cs[36096+hs]=co[141][hs]);for(co[142]="".split(""),hs=0;hs!=co[142].length;++hs)co[142][hs].charCodeAt(0)!==65533&&(lo[co[142][hs]]=36352+hs,cs[36352+hs]=co[142][hs]);for(co[143]="".split(""),hs=0;hs!=co[143].length;++hs)co[143][hs].charCodeAt(0)!==65533&&(lo[co[143][hs]]=36608+hs,cs[36608+hs]=co[143][hs]);for(co[144]="".split(""),hs=0;hs!=co[144].length;++hs)co[144][hs].charCodeAt(0)!==65533&&(lo[co[144][hs]]=36864+hs,cs[36864+hs]=co[144][hs]);for(co[145]="".split(""),hs=0;hs!=co[145].length;++hs)co[145][hs].charCodeAt(0)!==65533&&(lo[co[145][hs]]=37120+hs,cs[37120+hs]=co[145][hs]);for(co[146]="".split(""),hs=0;hs!=co[146].length;++hs)co[146][hs].charCodeAt(0)!==65533&&(lo[co[146][hs]]=37376+hs,cs[37376+hs]=co[146][hs]);for(co[147]="".split(""),hs=0;hs!=co[147].length;++hs)co[147][hs].charCodeAt(0)!==65533&&(lo[co[147][hs]]=37632+hs,cs[37632+hs]=co[147][hs]);for(co[148]="".split(""),hs=0;hs!=co[148].length;++hs)co[148][hs].charCodeAt(0)!==65533&&(lo[co[148][hs]]=37888+hs,cs[37888+hs]=co[148][hs]);for(co[149]="".split(""),hs=0;hs!=co[149].length;++hs)co[149][hs].charCodeAt(0)!==65533&&(lo[co[149][hs]]=38144+hs,cs[38144+hs]=co[149][hs]);for(co[150]="".split(""),hs=0;hs!=co[150].length;++hs)co[150][hs].charCodeAt(0)!==65533&&(lo[co[150][hs]]=38400+hs,cs[38400+hs]=co[150][hs]);for(co[151]="".split(""),hs=0;hs!=co[151].length;++hs)co[151][hs].charCodeAt(0)!==65533&&(lo[co[151][hs]]=38656+hs,cs[38656+hs]=co[151][hs]);for(co[152]="".split(""),hs=0;hs!=co[152].length;++hs)co[152][hs].charCodeAt(0)!==65533&&(lo[co[152][hs]]=38912+hs,cs[38912+hs]=co[152][hs]);for(co[153]="".split(""),hs=0;hs!=co[153].length;++hs)co[153][hs].charCodeAt(0)!==65533&&(lo[co[153][hs]]=39168+hs,cs[39168+hs]=co[153][hs]);for(co[154]="".split(""),hs=0;hs!=co[154].length;++hs)co[154][hs].charCodeAt(0)!==65533&&(lo[co[154][hs]]=39424+hs,cs[39424+hs]=co[154][hs]);for(co[155]="".split(""),hs=0;hs!=co[155].length;++hs)co[155][hs].charCodeAt(0)!==65533&&(lo[co[155][hs]]=39680+hs,cs[39680+hs]=co[155][hs]);for(co[156]="".split(""),hs=0;hs!=co[156].length;++hs)co[156][hs].charCodeAt(0)!==65533&&(lo[co[156][hs]]=39936+hs,cs[39936+hs]=co[156][hs]);for(co[157]="".split(""),hs=0;hs!=co[157].length;++hs)co[157][hs].charCodeAt(0)!==65533&&(lo[co[157][hs]]=40192+hs,cs[40192+hs]=co[157][hs]);for(co[158]="".split(""),hs=0;hs!=co[158].length;++hs)co[158][hs].charCodeAt(0)!==65533&&(lo[co[158][hs]]=40448+hs,cs[40448+hs]=co[158][hs]);for(co[159]="".split(""),hs=0;hs!=co[159].length;++hs)co[159][hs].charCodeAt(0)!==65533&&(lo[co[159][hs]]=40704+hs,cs[40704+hs]=co[159][hs]);for(co[224]="".split(""),hs=0;hs!=co[224].length;++hs)co[224][hs].charCodeAt(0)!==65533&&(lo[co[224][hs]]=57344+hs,cs[57344+hs]=co[224][hs]);for(co[225]="".split(""),hs=0;hs!=co[225].length;++hs)co[225][hs].charCodeAt(0)!==65533&&(lo[co[225][hs]]=57600+hs,cs[57600+hs]=co[225][hs]);for(co[226]="".split(""),hs=0;hs!=co[226].length;++hs)co[226][hs].charCodeAt(0)!==65533&&(lo[co[226][hs]]=57856+hs,cs[57856+hs]=co[226][hs]);for(co[227]="".split(""),hs=0;hs!=co[227].length;++hs)co[227][hs].charCodeAt(0)!==65533&&(lo[co[227][hs]]=58112+hs,cs[58112+hs]=co[227][hs]);for(co[228]="".split(""),hs=0;hs!=co[228].length;++hs)co[228][hs].charCodeAt(0)!==65533&&(lo[co[228][hs]]=58368+hs,cs[58368+hs]=co[228][hs]);for(co[229]="".split(""),hs=0;hs!=co[229].length;++hs)co[229][hs].charCodeAt(0)!==65533&&(lo[co[229][hs]]=58624+hs,cs[58624+hs]=co[229][hs]);for(co[230]="".split(""),hs=0;hs!=co[230].length;++hs)co[230][hs].charCodeAt(0)!==65533&&(lo[co[230][hs]]=58880+hs,cs[58880+hs]=co[230][hs]);for(co[231]="".split(""),hs=0;hs!=co[231].length;++hs)co[231][hs].charCodeAt(0)!==65533&&(lo[co[231][hs]]=59136+hs,cs[59136+hs]=co[231][hs]);for(co[232]="".split(""),hs=0;hs!=co[232].length;++hs)co[232][hs].charCodeAt(0)!==65533&&(lo[co[232][hs]]=59392+hs,cs[59392+hs]=co[232][hs]);for(co[233]="".split(""),hs=0;hs!=co[233].length;++hs)co[233][hs].charCodeAt(0)!==65533&&(lo[co[233][hs]]=59648+hs,cs[59648+hs]=co[233][hs]);for(co[234]="".split(""),hs=0;hs!=co[234].length;++hs)co[234][hs].charCodeAt(0)!==65533&&(lo[co[234][hs]]=59904+hs,cs[59904+hs]=co[234][hs]);for(co[237]="".split(""),hs=0;hs!=co[237].length;++hs)co[237][hs].charCodeAt(0)!==65533&&(lo[co[237][hs]]=60672+hs,cs[60672+hs]=co[237][hs]);for(co[238]="".split(""),hs=0;hs!=co[238].length;++hs)co[238][hs].charCodeAt(0)!==65533&&(lo[co[238][hs]]=60928+hs,cs[60928+hs]=co[238][hs]);for(co[250]="".split(""),hs=0;hs!=co[250].length;++hs)co[250][hs].charCodeAt(0)!==65533&&(lo[co[250][hs]]=64e3+hs,cs[64e3+hs]=co[250][hs]);for(co[251]="".split(""),hs=0;hs!=co[251].length;++hs)co[251][hs].charCodeAt(0)!==65533&&(lo[co[251][hs]]=64256+hs,cs[64256+hs]=co[251][hs]);for(co[252]="".split(""),hs=0;hs!=co[252].length;++hs)co[252][hs].charCodeAt(0)!==65533&&(lo[co[252][hs]]=64512+hs,cs[64512+hs]=co[252][hs]);return{enc:lo,dec:cs}}(),is[936]=function(){var cs=[],lo={},co=[],hs;for(co[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),hs=0;hs!=co[0].length;++hs)co[0][hs].charCodeAt(0)!==65533&&(lo[co[0][hs]]=0+hs,cs[0+hs]=co[0][hs]);for(co[129]="".split(""),hs=0;hs!=co[129].length;++hs)co[129][hs].charCodeAt(0)!==65533&&(lo[co[129][hs]]=33024+hs,cs[33024+hs]=co[129][hs]);for(co[130]="".split(""),hs=0;hs!=co[130].length;++hs)co[130][hs].charCodeAt(0)!==65533&&(lo[co[130][hs]]=33280+hs,cs[33280+hs]=co[130][hs]);for(co[131]="".split(""),hs=0;hs!=co[131].length;++hs)co[131][hs].charCodeAt(0)!==65533&&(lo[co[131][hs]]=33536+hs,cs[33536+hs]=co[131][hs]);for(co[132]="".split(""),hs=0;hs!=co[132].length;++hs)co[132][hs].charCodeAt(0)!==65533&&(lo[co[132][hs]]=33792+hs,cs[33792+hs]=co[132][hs]);for(co[133]="".split(""),hs=0;hs!=co[133].length;++hs)co[133][hs].charCodeAt(0)!==65533&&(lo[co[133][hs]]=34048+hs,cs[34048+hs]=co[133][hs]);for(co[134]="".split(""),hs=0;hs!=co[134].length;++hs)co[134][hs].charCodeAt(0)!==65533&&(lo[co[134][hs]]=34304+hs,cs[34304+hs]=co[134][hs]);for(co[135]="".split(""),hs=0;hs!=co[135].length;++hs)co[135][hs].charCodeAt(0)!==65533&&(lo[co[135][hs]]=34560+hs,cs[34560+hs]=co[135][hs]);for(co[136]="".split(""),hs=0;hs!=co[136].length;++hs)co[136][hs].charCodeAt(0)!==65533&&(lo[co[136][hs]]=34816+hs,cs[34816+hs]=co[136][hs]);for(co[137]="".split(""),hs=0;hs!=co[137].length;++hs)co[137][hs].charCodeAt(0)!==65533&&(lo[co[137][hs]]=35072+hs,cs[35072+hs]=co[137][hs]);for(co[138]="".split(""),hs=0;hs!=co[138].length;++hs)co[138][hs].charCodeAt(0)!==65533&&(lo[co[138][hs]]=35328+hs,cs[35328+hs]=co[138][hs]);for(co[139]="".split(""),hs=0;hs!=co[139].length;++hs)co[139][hs].charCodeAt(0)!==65533&&(lo[co[139][hs]]=35584+hs,cs[35584+hs]=co[139][hs]);for(co[140]="".split(""),hs=0;hs!=co[140].length;++hs)co[140][hs].charCodeAt(0)!==65533&&(lo[co[140][hs]]=35840+hs,cs[35840+hs]=co[140][hs]);for(co[141]="".split(""),hs=0;hs!=co[141].length;++hs)co[141][hs].charCodeAt(0)!==65533&&(lo[co[141][hs]]=36096+hs,cs[36096+hs]=co[141][hs]);for(co[142]="".split(""),hs=0;hs!=co[142].length;++hs)co[142][hs].charCodeAt(0)!==65533&&(lo[co[142][hs]]=36352+hs,cs[36352+hs]=co[142][hs]);for(co[143]="".split(""),hs=0;hs!=co[143].length;++hs)co[143][hs].charCodeAt(0)!==65533&&(lo[co[143][hs]]=36608+hs,cs[36608+hs]=co[143][hs]);for(co[144]="".split(""),hs=0;hs!=co[144].length;++hs)co[144][hs].charCodeAt(0)!==65533&&(lo[co[144][hs]]=36864+hs,cs[36864+hs]=co[144][hs]);for(co[145]="".split(""),hs=0;hs!=co[145].length;++hs)co[145][hs].charCodeAt(0)!==65533&&(lo[co[145][hs]]=37120+hs,cs[37120+hs]=co[145][hs]);for(co[146]="".split(""),hs=0;hs!=co[146].length;++hs)co[146][hs].charCodeAt(0)!==65533&&(lo[co[146][hs]]=37376+hs,cs[37376+hs]=co[146][hs]);for(co[147]="".split(""),hs=0;hs!=co[147].length;++hs)co[147][hs].charCodeAt(0)!==65533&&(lo[co[147][hs]]=37632+hs,cs[37632+hs]=co[147][hs]);for(co[148]="".split(""),hs=0;hs!=co[148].length;++hs)co[148][hs].charCodeAt(0)!==65533&&(lo[co[148][hs]]=37888+hs,cs[37888+hs]=co[148][hs]);for(co[149]="".split(""),hs=0;hs!=co[149].length;++hs)co[149][hs].charCodeAt(0)!==65533&&(lo[co[149][hs]]=38144+hs,cs[38144+hs]=co[149][hs]);for(co[150]="".split(""),hs=0;hs!=co[150].length;++hs)co[150][hs].charCodeAt(0)!==65533&&(lo[co[150][hs]]=38400+hs,cs[38400+hs]=co[150][hs]);for(co[151]="".split(""),hs=0;hs!=co[151].length;++hs)co[151][hs].charCodeAt(0)!==65533&&(lo[co[151][hs]]=38656+hs,cs[38656+hs]=co[151][hs]);for(co[152]="".split(""),hs=0;hs!=co[152].length;++hs)co[152][hs].charCodeAt(0)!==65533&&(lo[co[152][hs]]=38912+hs,cs[38912+hs]=co[152][hs]);for(co[153]="".split(""),hs=0;hs!=co[153].length;++hs)co[153][hs].charCodeAt(0)!==65533&&(lo[co[153][hs]]=39168+hs,cs[39168+hs]=co[153][hs]);for(co[154]="".split(""),hs=0;hs!=co[154].length;++hs)co[154][hs].charCodeAt(0)!==65533&&(lo[co[154][hs]]=39424+hs,cs[39424+hs]=co[154][hs]);for(co[155]="".split(""),hs=0;hs!=co[155].length;++hs)co[155][hs].charCodeAt(0)!==65533&&(lo[co[155][hs]]=39680+hs,cs[39680+hs]=co[155][hs]);for(co[156]="".split(""),hs=0;hs!=co[156].length;++hs)co[156][hs].charCodeAt(0)!==65533&&(lo[co[156][hs]]=39936+hs,cs[39936+hs]=co[156][hs]);for(co[157]="".split(""),hs=0;hs!=co[157].length;++hs)co[157][hs].charCodeAt(0)!==65533&&(lo[co[157][hs]]=40192+hs,cs[40192+hs]=co[157][hs]);for(co[158]="".split(""),hs=0;hs!=co[158].length;++hs)co[158][hs].charCodeAt(0)!==65533&&(lo[co[158][hs]]=40448+hs,cs[40448+hs]=co[158][hs]);for(co[159]="".split(""),hs=0;hs!=co[159].length;++hs)co[159][hs].charCodeAt(0)!==65533&&(lo[co[159][hs]]=40704+hs,cs[40704+hs]=co[159][hs]);for(co[160]="".split(""),hs=0;hs!=co[160].length;++hs)co[160][hs].charCodeAt(0)!==65533&&(lo[co[160][hs]]=40960+hs,cs[40960+hs]=co[160][hs]);for(co[161]="".split(""),hs=0;hs!=co[161].length;++hs)co[161][hs].charCodeAt(0)!==65533&&(lo[co[161][hs]]=41216+hs,cs[41216+hs]=co[161][hs]);for(co[162]="".split(""),hs=0;hs!=co[162].length;++hs)co[162][hs].charCodeAt(0)!==65533&&(lo[co[162][hs]]=41472+hs,cs[41472+hs]=co[162][hs]);for(co[163]="".split(""),hs=0;hs!=co[163].length;++hs)co[163][hs].charCodeAt(0)!==65533&&(lo[co[163][hs]]=41728+hs,cs[41728+hs]=co[163][hs]);for(co[164]="".split(""),hs=0;hs!=co[164].length;++hs)co[164][hs].charCodeAt(0)!==65533&&(lo[co[164][hs]]=41984+hs,cs[41984+hs]=co[164][hs]);for(co[165]="".split(""),hs=0;hs!=co[165].length;++hs)co[165][hs].charCodeAt(0)!==65533&&(lo[co[165][hs]]=42240+hs,cs[42240+hs]=co[165][hs]);for(co[166]="".split(""),hs=0;hs!=co[166].length;++hs)co[166][hs].charCodeAt(0)!==65533&&(lo[co[166][hs]]=42496+hs,cs[42496+hs]=co[166][hs]);for(co[167]="".split(""),hs=0;hs!=co[167].length;++hs)co[167][hs].charCodeAt(0)!==65533&&(lo[co[167][hs]]=42752+hs,cs[42752+hs]=co[167][hs]);for(co[168]="".split(""),hs=0;hs!=co[168].length;++hs)co[168][hs].charCodeAt(0)!==65533&&(lo[co[168][hs]]=43008+hs,cs[43008+hs]=co[168][hs]);for(co[169]="".split(""),hs=0;hs!=co[169].length;++hs)co[169][hs].charCodeAt(0)!==65533&&(lo[co[169][hs]]=43264+hs,cs[43264+hs]=co[169][hs]);for(co[170]="".split(""),hs=0;hs!=co[170].length;++hs)co[170][hs].charCodeAt(0)!==65533&&(lo[co[170][hs]]=43520+hs,cs[43520+hs]=co[170][hs]);for(co[171]="".split(""),hs=0;hs!=co[171].length;++hs)co[171][hs].charCodeAt(0)!==65533&&(lo[co[171][hs]]=43776+hs,cs[43776+hs]=co[171][hs]);for(co[172]="".split(""),hs=0;hs!=co[172].length;++hs)co[172][hs].charCodeAt(0)!==65533&&(lo[co[172][hs]]=44032+hs,cs[44032+hs]=co[172][hs]);for(co[173]="".split(""),hs=0;hs!=co[173].length;++hs)co[173][hs].charCodeAt(0)!==65533&&(lo[co[173][hs]]=44288+hs,cs[44288+hs]=co[173][hs]);for(co[174]="".split(""),hs=0;hs!=co[174].length;++hs)co[174][hs].charCodeAt(0)!==65533&&(lo[co[174][hs]]=44544+hs,cs[44544+hs]=co[174][hs]);for(co[175]="".split(""),hs=0;hs!=co[175].length;++hs)co[175][hs].charCodeAt(0)!==65533&&(lo[co[175][hs]]=44800+hs,cs[44800+hs]=co[175][hs]);for(co[176]="".split(""),hs=0;hs!=co[176].length;++hs)co[176][hs].charCodeAt(0)!==65533&&(lo[co[176][hs]]=45056+hs,cs[45056+hs]=co[176][hs]);for(co[177]="".split(""),hs=0;hs!=co[177].length;++hs)co[177][hs].charCodeAt(0)!==65533&&(lo[co[177][hs]]=45312+hs,cs[45312+hs]=co[177][hs]);for(co[178]="".split(""),hs=0;hs!=co[178].length;++hs)co[178][hs].charCodeAt(0)!==65533&&(lo[co[178][hs]]=45568+hs,cs[45568+hs]=co[178][hs]);for(co[179]="".split(""),hs=0;hs!=co[179].length;++hs)co[179][hs].charCodeAt(0)!==65533&&(lo[co[179][hs]]=45824+hs,cs[45824+hs]=co[179][hs]);for(co[180]="".split(""),hs=0;hs!=co[180].length;++hs)co[180][hs].charCodeAt(0)!==65533&&(lo[co[180][hs]]=46080+hs,cs[46080+hs]=co[180][hs]);for(co[181]="".split(""),hs=0;hs!=co[181].length;++hs)co[181][hs].charCodeAt(0)!==65533&&(lo[co[181][hs]]=46336+hs,cs[46336+hs]=co[181][hs]);for(co[182]="".split(""),hs=0;hs!=co[182].length;++hs)co[182][hs].charCodeAt(0)!==65533&&(lo[co[182][hs]]=46592+hs,cs[46592+hs]=co[182][hs]);for(co[183]="".split(""),hs=0;hs!=co[183].length;++hs)co[183][hs].charCodeAt(0)!==65533&&(lo[co[183][hs]]=46848+hs,cs[46848+hs]=co[183][hs]);for(co[184]="".split(""),hs=0;hs!=co[184].length;++hs)co[184][hs].charCodeAt(0)!==65533&&(lo[co[184][hs]]=47104+hs,cs[47104+hs]=co[184][hs]);for(co[185]="".split(""),hs=0;hs!=co[185].length;++hs)co[185][hs].charCodeAt(0)!==65533&&(lo[co[185][hs]]=47360+hs,cs[47360+hs]=co[185][hs]);for(co[186]="".split(""),hs=0;hs!=co[186].length;++hs)co[186][hs].charCodeAt(0)!==65533&&(lo[co[186][hs]]=47616+hs,cs[47616+hs]=co[186][hs]);for(co[187]="".split(""),hs=0;hs!=co[187].length;++hs)co[187][hs].charCodeAt(0)!==65533&&(lo[co[187][hs]]=47872+hs,cs[47872+hs]=co[187][hs]);for(co[188]="".split(""),hs=0;hs!=co[188].length;++hs)co[188][hs].charCodeAt(0)!==65533&&(lo[co[188][hs]]=48128+hs,cs[48128+hs]=co[188][hs]);for(co[189]="".split(""),hs=0;hs!=co[189].length;++hs)co[189][hs].charCodeAt(0)!==65533&&(lo[co[189][hs]]=48384+hs,cs[48384+hs]=co[189][hs]);for(co[190]="".split(""),hs=0;hs!=co[190].length;++hs)co[190][hs].charCodeAt(0)!==65533&&(lo[co[190][hs]]=48640+hs,cs[48640+hs]=co[190][hs]);for(co[191]="".split(""),hs=0;hs!=co[191].length;++hs)co[191][hs].charCodeAt(0)!==65533&&(lo[co[191][hs]]=48896+hs,cs[48896+hs]=co[191][hs]);for(co[192]="".split(""),hs=0;hs!=co[192].length;++hs)co[192][hs].charCodeAt(0)!==65533&&(lo[co[192][hs]]=49152+hs,cs[49152+hs]=co[192][hs]);for(co[193]="".split(""),hs=0;hs!=co[193].length;++hs)co[193][hs].charCodeAt(0)!==65533&&(lo[co[193][hs]]=49408+hs,cs[49408+hs]=co[193][hs]);for(co[194]="".split(""),hs=0;hs!=co[194].length;++hs)co[194][hs].charCodeAt(0)!==65533&&(lo[co[194][hs]]=49664+hs,cs[49664+hs]=co[194][hs]);for(co[195]="".split(""),hs=0;hs!=co[195].length;++hs)co[195][hs].charCodeAt(0)!==65533&&(lo[co[195][hs]]=49920+hs,cs[49920+hs]=co[195][hs]);for(co[196]="".split(""),hs=0;hs!=co[196].length;++hs)co[196][hs].charCodeAt(0)!==65533&&(lo[co[196][hs]]=50176+hs,cs[50176+hs]=co[196][hs]);for(co[197]="".split(""),hs=0;hs!=co[197].length;++hs)co[197][hs].charCodeAt(0)!==65533&&(lo[co[197][hs]]=50432+hs,cs[50432+hs]=co[197][hs]);for(co[198]="".split(""),hs=0;hs!=co[198].length;++hs)co[198][hs].charCodeAt(0)!==65533&&(lo[co[198][hs]]=50688+hs,cs[50688+hs]=co[198][hs]);for(co[199]="".split(""),hs=0;hs!=co[199].length;++hs)co[199][hs].charCodeAt(0)!==65533&&(lo[co[199][hs]]=50944+hs,cs[50944+hs]=co[199][hs]);for(co[200]="".split(""),hs=0;hs!=co[200].length;++hs)co[200][hs].charCodeAt(0)!==65533&&(lo[co[200][hs]]=51200+hs,cs[51200+hs]=co[200][hs]);for(co[201]="".split(""),hs=0;hs!=co[201].length;++hs)co[201][hs].charCodeAt(0)!==65533&&(lo[co[201][hs]]=51456+hs,cs[51456+hs]=co[201][hs]);for(co[202]="".split(""),hs=0;hs!=co[202].length;++hs)co[202][hs].charCodeAt(0)!==65533&&(lo[co[202][hs]]=51712+hs,cs[51712+hs]=co[202][hs]);for(co[203]="".split(""),hs=0;hs!=co[203].length;++hs)co[203][hs].charCodeAt(0)!==65533&&(lo[co[203][hs]]=51968+hs,cs[51968+hs]=co[203][hs]);for(co[204]="".split(""),hs=0;hs!=co[204].length;++hs)co[204][hs].charCodeAt(0)!==65533&&(lo[co[204][hs]]=52224+hs,cs[52224+hs]=co[204][hs]);for(co[205]="".split(""),hs=0;hs!=co[205].length;++hs)co[205][hs].charCodeAt(0)!==65533&&(lo[co[205][hs]]=52480+hs,cs[52480+hs]=co[205][hs]);for(co[206]="".split(""),hs=0;hs!=co[206].length;++hs)co[206][hs].charCodeAt(0)!==65533&&(lo[co[206][hs]]=52736+hs,cs[52736+hs]=co[206][hs]);for(co[207]="".split(""),hs=0;hs!=co[207].length;++hs)co[207][hs].charCodeAt(0)!==65533&&(lo[co[207][hs]]=52992+hs,cs[52992+hs]=co[207][hs]);for(co[208]="".split(""),hs=0;hs!=co[208].length;++hs)co[208][hs].charCodeAt(0)!==65533&&(lo[co[208][hs]]=53248+hs,cs[53248+hs]=co[208][hs]);for(co[209]="".split(""),hs=0;hs!=co[209].length;++hs)co[209][hs].charCodeAt(0)!==65533&&(lo[co[209][hs]]=53504+hs,cs[53504+hs]=co[209][hs]);for(co[210]="".split(""),hs=0;hs!=co[210].length;++hs)co[210][hs].charCodeAt(0)!==65533&&(lo[co[210][hs]]=53760+hs,cs[53760+hs]=co[210][hs]);for(co[211]="".split(""),hs=0;hs!=co[211].length;++hs)co[211][hs].charCodeAt(0)!==65533&&(lo[co[211][hs]]=54016+hs,cs[54016+hs]=co[211][hs]);for(co[212]="".split(""),hs=0;hs!=co[212].length;++hs)co[212][hs].charCodeAt(0)!==65533&&(lo[co[212][hs]]=54272+hs,cs[54272+hs]=co[212][hs]);for(co[213]="".split(""),hs=0;hs!=co[213].length;++hs)co[213][hs].charCodeAt(0)!==65533&&(lo[co[213][hs]]=54528+hs,cs[54528+hs]=co[213][hs]);for(co[214]="".split(""),hs=0;hs!=co[214].length;++hs)co[214][hs].charCodeAt(0)!==65533&&(lo[co[214][hs]]=54784+hs,cs[54784+hs]=co[214][hs]);for(co[215]="".split(""),hs=0;hs!=co[215].length;++hs)co[215][hs].charCodeAt(0)!==65533&&(lo[co[215][hs]]=55040+hs,cs[55040+hs]=co[215][hs]);for(co[216]="".split(""),hs=0;hs!=co[216].length;++hs)co[216][hs].charCodeAt(0)!==65533&&(lo[co[216][hs]]=55296+hs,cs[55296+hs]=co[216][hs]);for(co[217]="".split(""),hs=0;hs!=co[217].length;++hs)co[217][hs].charCodeAt(0)!==65533&&(lo[co[217][hs]]=55552+hs,cs[55552+hs]=co[217][hs]);for(co[218]="".split(""),hs=0;hs!=co[218].length;++hs)co[218][hs].charCodeAt(0)!==65533&&(lo[co[218][hs]]=55808+hs,cs[55808+hs]=co[218][hs]);for(co[219]="".split(""),hs=0;hs!=co[219].length;++hs)co[219][hs].charCodeAt(0)!==65533&&(lo[co[219][hs]]=56064+hs,cs[56064+hs]=co[219][hs]);for(co[220]="".split(""),hs=0;hs!=co[220].length;++hs)co[220][hs].charCodeAt(0)!==65533&&(lo[co[220][hs]]=56320+hs,cs[56320+hs]=co[220][hs]);for(co[221]="".split(""),hs=0;hs!=co[221].length;++hs)co[221][hs].charCodeAt(0)!==65533&&(lo[co[221][hs]]=56576+hs,cs[56576+hs]=co[221][hs]);for(co[222]="".split(""),hs=0;hs!=co[222].length;++hs)co[222][hs].charCodeAt(0)!==65533&&(lo[co[222][hs]]=56832+hs,cs[56832+hs]=co[222][hs]);for(co[223]="".split(""),hs=0;hs!=co[223].length;++hs)co[223][hs].charCodeAt(0)!==65533&&(lo[co[223][hs]]=57088+hs,cs[57088+hs]=co[223][hs]);for(co[224]="".split(""),hs=0;hs!=co[224].length;++hs)co[224][hs].charCodeAt(0)!==65533&&(lo[co[224][hs]]=57344+hs,cs[57344+hs]=co[224][hs]);for(co[225]="".split(""),hs=0;hs!=co[225].length;++hs)co[225][hs].charCodeAt(0)!==65533&&(lo[co[225][hs]]=57600+hs,cs[57600+hs]=co[225][hs]);for(co[226]="".split(""),hs=0;hs!=co[226].length;++hs)co[226][hs].charCodeAt(0)!==65533&&(lo[co[226][hs]]=57856+hs,cs[57856+hs]=co[226][hs]);for(co[227]="".split(""),hs=0;hs!=co[227].length;++hs)co[227][hs].charCodeAt(0)!==65533&&(lo[co[227][hs]]=58112+hs,cs[58112+hs]=co[227][hs]);for(co[228]="".split(""),hs=0;hs!=co[228].length;++hs)co[228][hs].charCodeAt(0)!==65533&&(lo[co[228][hs]]=58368+hs,cs[58368+hs]=co[228][hs]);for(co[229]="".split(""),hs=0;hs!=co[229].length;++hs)co[229][hs].charCodeAt(0)!==65533&&(lo[co[229][hs]]=58624+hs,cs[58624+hs]=co[229][hs]);for(co[230]="".split(""),hs=0;hs!=co[230].length;++hs)co[230][hs].charCodeAt(0)!==65533&&(lo[co[230][hs]]=58880+hs,cs[58880+hs]=co[230][hs]);for(co[231]="".split(""),hs=0;hs!=co[231].length;++hs)co[231][hs].charCodeAt(0)!==65533&&(lo[co[231][hs]]=59136+hs,cs[59136+hs]=co[231][hs]);for(co[232]="".split(""),hs=0;hs!=co[232].length;++hs)co[232][hs].charCodeAt(0)!==65533&&(lo[co[232][hs]]=59392+hs,cs[59392+hs]=co[232][hs]);for(co[233]="".split(""),hs=0;hs!=co[233].length;++hs)co[233][hs].charCodeAt(0)!==65533&&(lo[co[233][hs]]=59648+hs,cs[59648+hs]=co[233][hs]);for(co[234]="".split(""),hs=0;hs!=co[234].length;++hs)co[234][hs].charCodeAt(0)!==65533&&(lo[co[234][hs]]=59904+hs,cs[59904+hs]=co[234][hs]);for(co[235]="".split(""),hs=0;hs!=co[235].length;++hs)co[235][hs].charCodeAt(0)!==65533&&(lo[co[235][hs]]=60160+hs,cs[60160+hs]=co[235][hs]);for(co[236]="".split(""),hs=0;hs!=co[236].length;++hs)co[236][hs].charCodeAt(0)!==65533&&(lo[co[236][hs]]=60416+hs,cs[60416+hs]=co[236][hs]);for(co[237]="".split(""),hs=0;hs!=co[237].length;++hs)co[237][hs].charCodeAt(0)!==65533&&(lo[co[237][hs]]=60672+hs,cs[60672+hs]=co[237][hs]);for(co[238]="".split(""),hs=0;hs!=co[238].length;++hs)co[238][hs].charCodeAt(0)!==65533&&(lo[co[238][hs]]=60928+hs,cs[60928+hs]=co[238][hs]);for(co[239]="".split(""),hs=0;hs!=co[239].length;++hs)co[239][hs].charCodeAt(0)!==65533&&(lo[co[239][hs]]=61184+hs,cs[61184+hs]=co[239][hs]);for(co[240]="".split(""),hs=0;hs!=co[240].length;++hs)co[240][hs].charCodeAt(0)!==65533&&(lo[co[240][hs]]=61440+hs,cs[61440+hs]=co[240][hs]);for(co[241]="".split(""),hs=0;hs!=co[241].length;++hs)co[241][hs].charCodeAt(0)!==65533&&(lo[co[241][hs]]=61696+hs,cs[61696+hs]=co[241][hs]);for(co[242]="".split(""),hs=0;hs!=co[242].length;++hs)co[242][hs].charCodeAt(0)!==65533&&(lo[co[242][hs]]=61952+hs,cs[61952+hs]=co[242][hs]);for(co[243]="".split(""),hs=0;hs!=co[243].length;++hs)co[243][hs].charCodeAt(0)!==65533&&(lo[co[243][hs]]=62208+hs,cs[62208+hs]=co[243][hs]);for(co[244]="".split(""),hs=0;hs!=co[244].length;++hs)co[244][hs].charCodeAt(0)!==65533&&(lo[co[244][hs]]=62464+hs,cs[62464+hs]=co[244][hs]);for(co[245]="".split(""),hs=0;hs!=co[245].length;++hs)co[245][hs].charCodeAt(0)!==65533&&(lo[co[245][hs]]=62720+hs,cs[62720+hs]=co[245][hs]);for(co[246]="".split(""),hs=0;hs!=co[246].length;++hs)co[246][hs].charCodeAt(0)!==65533&&(lo[co[246][hs]]=62976+hs,cs[62976+hs]=co[246][hs]);for(co[247]="".split(""),hs=0;hs!=co[247].length;++hs)co[247][hs].charCodeAt(0)!==65533&&(lo[co[247][hs]]=63232+hs,cs[63232+hs]=co[247][hs]);for(co[248]="".split(""),hs=0;hs!=co[248].length;++hs)co[248][hs].charCodeAt(0)!==65533&&(lo[co[248][hs]]=63488+hs,cs[63488+hs]=co[248][hs]);for(co[249]="".split(""),hs=0;hs!=co[249].length;++hs)co[249][hs].charCodeAt(0)!==65533&&(lo[co[249][hs]]=63744+hs,cs[63744+hs]=co[249][hs]);for(co[250]="".split(""),hs=0;hs!=co[250].length;++hs)co[250][hs].charCodeAt(0)!==65533&&(lo[co[250][hs]]=64e3+hs,cs[64e3+hs]=co[250][hs]);for(co[251]="".split(""),hs=0;hs!=co[251].length;++hs)co[251][hs].charCodeAt(0)!==65533&&(lo[co[251][hs]]=64256+hs,cs[64256+hs]=co[251][hs]);for(co[252]="".split(""),hs=0;hs!=co[252].length;++hs)co[252][hs].charCodeAt(0)!==65533&&(lo[co[252][hs]]=64512+hs,cs[64512+hs]=co[252][hs]);for(co[253]="".split(""),hs=0;hs!=co[253].length;++hs)co[253][hs].charCodeAt(0)!==65533&&(lo[co[253][hs]]=64768+hs,cs[64768+hs]=co[253][hs]);for(co[254]="".split(""),hs=0;hs!=co[254].length;++hs)co[254][hs].charCodeAt(0)!==65533&&(lo[co[254][hs]]=65024+hs,cs[65024+hs]=co[254][hs]);return{enc:lo,dec:cs}}(),is[949]=function(){var cs=[],lo={},co=[],hs;for(co[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),hs=0;hs!=co[0].length;++hs)co[0][hs].charCodeAt(0)!==65533&&(lo[co[0][hs]]=0+hs,cs[0+hs]=co[0][hs]);for(co[129]="".split(""),hs=0;hs!=co[129].length;++hs)co[129][hs].charCodeAt(0)!==65533&&(lo[co[129][hs]]=33024+hs,cs[33024+hs]=co[129][hs]);for(co[130]="".split(""),hs=0;hs!=co[130].length;++hs)co[130][hs].charCodeAt(0)!==65533&&(lo[co[130][hs]]=33280+hs,cs[33280+hs]=co[130][hs]);for(co[131]="".split(""),hs=0;hs!=co[131].length;++hs)co[131][hs].charCodeAt(0)!==65533&&(lo[co[131][hs]]=33536+hs,cs[33536+hs]=co[131][hs]);for(co[132]="".split(""),hs=0;hs!=co[132].length;++hs)co[132][hs].charCodeAt(0)!==65533&&(lo[co[132][hs]]=33792+hs,cs[33792+hs]=co[132][hs]);for(co[133]="".split(""),hs=0;hs!=co[133].length;++hs)co[133][hs].charCodeAt(0)!==65533&&(lo[co[133][hs]]=34048+hs,cs[34048+hs]=co[133][hs]);for(co[134]="".split(""),hs=0;hs!=co[134].length;++hs)co[134][hs].charCodeAt(0)!==65533&&(lo[co[134][hs]]=34304+hs,cs[34304+hs]=co[134][hs]);for(co[135]="".split(""),hs=0;hs!=co[135].length;++hs)co[135][hs].charCodeAt(0)!==65533&&(lo[co[135][hs]]=34560+hs,cs[34560+hs]=co[135][hs]);for(co[136]="".split(""),hs=0;hs!=co[136].length;++hs)co[136][hs].charCodeAt(0)!==65533&&(lo[co[136][hs]]=34816+hs,cs[34816+hs]=co[136][hs]);for(co[137]="".split(""),hs=0;hs!=co[137].length;++hs)co[137][hs].charCodeAt(0)!==65533&&(lo[co[137][hs]]=35072+hs,cs[35072+hs]=co[137][hs]);for(co[138]="".split(""),hs=0;hs!=co[138].length;++hs)co[138][hs].charCodeAt(0)!==65533&&(lo[co[138][hs]]=35328+hs,cs[35328+hs]=co[138][hs]);for(co[139]="".split(""),hs=0;hs!=co[139].length;++hs)co[139][hs].charCodeAt(0)!==65533&&(lo[co[139][hs]]=35584+hs,cs[35584+hs]=co[139][hs]);for(co[140]="".split(""),hs=0;hs!=co[140].length;++hs)co[140][hs].charCodeAt(0)!==65533&&(lo[co[140][hs]]=35840+hs,cs[35840+hs]=co[140][hs]);for(co[141]="".split(""),hs=0;hs!=co[141].length;++hs)co[141][hs].charCodeAt(0)!==65533&&(lo[co[141][hs]]=36096+hs,cs[36096+hs]=co[141][hs]);for(co[142]="".split(""),hs=0;hs!=co[142].length;++hs)co[142][hs].charCodeAt(0)!==65533&&(lo[co[142][hs]]=36352+hs,cs[36352+hs]=co[142][hs]);for(co[143]="".split(""),hs=0;hs!=co[143].length;++hs)co[143][hs].charCodeAt(0)!==65533&&(lo[co[143][hs]]=36608+hs,cs[36608+hs]=co[143][hs]);for(co[144]="".split(""),hs=0;hs!=co[144].length;++hs)co[144][hs].charCodeAt(0)!==65533&&(lo[co[144][hs]]=36864+hs,cs[36864+hs]=co[144][hs]);for(co[145]="".split(""),hs=0;hs!=co[145].length;++hs)co[145][hs].charCodeAt(0)!==65533&&(lo[co[145][hs]]=37120+hs,cs[37120+hs]=co[145][hs]);for(co[146]="".split(""),hs=0;hs!=co[146].length;++hs)co[146][hs].charCodeAt(0)!==65533&&(lo[co[146][hs]]=37376+hs,cs[37376+hs]=co[146][hs]);for(co[147]="".split(""),hs=0;hs!=co[147].length;++hs)co[147][hs].charCodeAt(0)!==65533&&(lo[co[147][hs]]=37632+hs,cs[37632+hs]=co[147][hs]);for(co[148]="".split(""),hs=0;hs!=co[148].length;++hs)co[148][hs].charCodeAt(0)!==65533&&(lo[co[148][hs]]=37888+hs,cs[37888+hs]=co[148][hs]);for(co[149]="".split(""),hs=0;hs!=co[149].length;++hs)co[149][hs].charCodeAt(0)!==65533&&(lo[co[149][hs]]=38144+hs,cs[38144+hs]=co[149][hs]);for(co[150]="".split(""),hs=0;hs!=co[150].length;++hs)co[150][hs].charCodeAt(0)!==65533&&(lo[co[150][hs]]=38400+hs,cs[38400+hs]=co[150][hs]);for(co[151]="".split(""),hs=0;hs!=co[151].length;++hs)co[151][hs].charCodeAt(0)!==65533&&(lo[co[151][hs]]=38656+hs,cs[38656+hs]=co[151][hs]);for(co[152]="".split(""),hs=0;hs!=co[152].length;++hs)co[152][hs].charCodeAt(0)!==65533&&(lo[co[152][hs]]=38912+hs,cs[38912+hs]=co[152][hs]);for(co[153]="".split(""),hs=0;hs!=co[153].length;++hs)co[153][hs].charCodeAt(0)!==65533&&(lo[co[153][hs]]=39168+hs,cs[39168+hs]=co[153][hs]);for(co[154]="".split(""),hs=0;hs!=co[154].length;++hs)co[154][hs].charCodeAt(0)!==65533&&(lo[co[154][hs]]=39424+hs,cs[39424+hs]=co[154][hs]);for(co[155]="".split(""),hs=0;hs!=co[155].length;++hs)co[155][hs].charCodeAt(0)!==65533&&(lo[co[155][hs]]=39680+hs,cs[39680+hs]=co[155][hs]);for(co[156]="".split(""),hs=0;hs!=co[156].length;++hs)co[156][hs].charCodeAt(0)!==65533&&(lo[co[156][hs]]=39936+hs,cs[39936+hs]=co[156][hs]);for(co[157]="".split(""),hs=0;hs!=co[157].length;++hs)co[157][hs].charCodeAt(0)!==65533&&(lo[co[157][hs]]=40192+hs,cs[40192+hs]=co[157][hs]);for(co[158]="".split(""),hs=0;hs!=co[158].length;++hs)co[158][hs].charCodeAt(0)!==65533&&(lo[co[158][hs]]=40448+hs,cs[40448+hs]=co[158][hs]);for(co[159]="".split(""),hs=0;hs!=co[159].length;++hs)co[159][hs].charCodeAt(0)!==65533&&(lo[co[159][hs]]=40704+hs,cs[40704+hs]=co[159][hs]);for(co[160]="".split(""),hs=0;hs!=co[160].length;++hs)co[160][hs].charCodeAt(0)!==65533&&(lo[co[160][hs]]=40960+hs,cs[40960+hs]=co[160][hs]);for(co[161]="".split(""),hs=0;hs!=co[161].length;++hs)co[161][hs].charCodeAt(0)!==65533&&(lo[co[161][hs]]=41216+hs,cs[41216+hs]=co[161][hs]);for(co[162]="".split(""),hs=0;hs!=co[162].length;++hs)co[162][hs].charCodeAt(0)!==65533&&(lo[co[162][hs]]=41472+hs,cs[41472+hs]=co[162][hs]);for(co[163]="".split(""),hs=0;hs!=co[163].length;++hs)co[163][hs].charCodeAt(0)!==65533&&(lo[co[163][hs]]=41728+hs,cs[41728+hs]=co[163][hs]);for(co[164]="".split(""),hs=0;hs!=co[164].length;++hs)co[164][hs].charCodeAt(0)!==65533&&(lo[co[164][hs]]=41984+hs,cs[41984+hs]=co[164][hs]);for(co[165]="".split(""),hs=0;hs!=co[165].length;++hs)co[165][hs].charCodeAt(0)!==65533&&(lo[co[165][hs]]=42240+hs,cs[42240+hs]=co[165][hs]);for(co[166]="".split(""),hs=0;hs!=co[166].length;++hs)co[166][hs].charCodeAt(0)!==65533&&(lo[co[166][hs]]=42496+hs,cs[42496+hs]=co[166][hs]);for(co[167]="".split(""),hs=0;hs!=co[167].length;++hs)co[167][hs].charCodeAt(0)!==65533&&(lo[co[167][hs]]=42752+hs,cs[42752+hs]=co[167][hs]);for(co[168]="".split(""),hs=0;hs!=co[168].length;++hs)co[168][hs].charCodeAt(0)!==65533&&(lo[co[168][hs]]=43008+hs,cs[43008+hs]=co[168][hs]);for(co[169]="".split(""),hs=0;hs!=co[169].length;++hs)co[169][hs].charCodeAt(0)!==65533&&(lo[co[169][hs]]=43264+hs,cs[43264+hs]=co[169][hs]);for(co[170]="".split(""),hs=0;hs!=co[170].length;++hs)co[170][hs].charCodeAt(0)!==65533&&(lo[co[170][hs]]=43520+hs,cs[43520+hs]=co[170][hs]);for(co[171]="".split(""),hs=0;hs!=co[171].length;++hs)co[171][hs].charCodeAt(0)!==65533&&(lo[co[171][hs]]=43776+hs,cs[43776+hs]=co[171][hs]);for(co[172]="".split(""),hs=0;hs!=co[172].length;++hs)co[172][hs].charCodeAt(0)!==65533&&(lo[co[172][hs]]=44032+hs,cs[44032+hs]=co[172][hs]);for(co[173]="".split(""),hs=0;hs!=co[173].length;++hs)co[173][hs].charCodeAt(0)!==65533&&(lo[co[173][hs]]=44288+hs,cs[44288+hs]=co[173][hs]);for(co[174]="".split(""),hs=0;hs!=co[174].length;++hs)co[174][hs].charCodeAt(0)!==65533&&(lo[co[174][hs]]=44544+hs,cs[44544+hs]=co[174][hs]);for(co[175]="".split(""),hs=0;hs!=co[175].length;++hs)co[175][hs].charCodeAt(0)!==65533&&(lo[co[175][hs]]=44800+hs,cs[44800+hs]=co[175][hs]);for(co[176]="".split(""),hs=0;hs!=co[176].length;++hs)co[176][hs].charCodeAt(0)!==65533&&(lo[co[176][hs]]=45056+hs,cs[45056+hs]=co[176][hs]);for(co[177]="".split(""),hs=0;hs!=co[177].length;++hs)co[177][hs].charCodeAt(0)!==65533&&(lo[co[177][hs]]=45312+hs,cs[45312+hs]=co[177][hs]);for(co[178]="".split(""),hs=0;hs!=co[178].length;++hs)co[178][hs].charCodeAt(0)!==65533&&(lo[co[178][hs]]=45568+hs,cs[45568+hs]=co[178][hs]);for(co[179]="".split(""),hs=0;hs!=co[179].length;++hs)co[179][hs].charCodeAt(0)!==65533&&(lo[co[179][hs]]=45824+hs,cs[45824+hs]=co[179][hs]);for(co[180]="".split(""),hs=0;hs!=co[180].length;++hs)co[180][hs].charCodeAt(0)!==65533&&(lo[co[180][hs]]=46080+hs,cs[46080+hs]=co[180][hs]);for(co[181]="".split(""),hs=0;hs!=co[181].length;++hs)co[181][hs].charCodeAt(0)!==65533&&(lo[co[181][hs]]=46336+hs,cs[46336+hs]=co[181][hs]);for(co[182]="".split(""),hs=0;hs!=co[182].length;++hs)co[182][hs].charCodeAt(0)!==65533&&(lo[co[182][hs]]=46592+hs,cs[46592+hs]=co[182][hs]);for(co[183]="".split(""),hs=0;hs!=co[183].length;++hs)co[183][hs].charCodeAt(0)!==65533&&(lo[co[183][hs]]=46848+hs,cs[46848+hs]=co[183][hs]);for(co[184]="".split(""),hs=0;hs!=co[184].length;++hs)co[184][hs].charCodeAt(0)!==65533&&(lo[co[184][hs]]=47104+hs,cs[47104+hs]=co[184][hs]);for(co[185]="".split(""),hs=0;hs!=co[185].length;++hs)co[185][hs].charCodeAt(0)!==65533&&(lo[co[185][hs]]=47360+hs,cs[47360+hs]=co[185][hs]);for(co[186]="".split(""),hs=0;hs!=co[186].length;++hs)co[186][hs].charCodeAt(0)!==65533&&(lo[co[186][hs]]=47616+hs,cs[47616+hs]=co[186][hs]);for(co[187]="".split(""),hs=0;hs!=co[187].length;++hs)co[187][hs].charCodeAt(0)!==65533&&(lo[co[187][hs]]=47872+hs,cs[47872+hs]=co[187][hs]);for(co[188]="".split(""),hs=0;hs!=co[188].length;++hs)co[188][hs].charCodeAt(0)!==65533&&(lo[co[188][hs]]=48128+hs,cs[48128+hs]=co[188][hs]);for(co[189]="".split(""),hs=0;hs!=co[189].length;++hs)co[189][hs].charCodeAt(0)!==65533&&(lo[co[189][hs]]=48384+hs,cs[48384+hs]=co[189][hs]);for(co[190]="".split(""),hs=0;hs!=co[190].length;++hs)co[190][hs].charCodeAt(0)!==65533&&(lo[co[190][hs]]=48640+hs,cs[48640+hs]=co[190][hs]);for(co[191]="".split(""),hs=0;hs!=co[191].length;++hs)co[191][hs].charCodeAt(0)!==65533&&(lo[co[191][hs]]=48896+hs,cs[48896+hs]=co[191][hs]);for(co[192]="".split(""),hs=0;hs!=co[192].length;++hs)co[192][hs].charCodeAt(0)!==65533&&(lo[co[192][hs]]=49152+hs,cs[49152+hs]=co[192][hs]);for(co[193]="".split(""),hs=0;hs!=co[193].length;++hs)co[193][hs].charCodeAt(0)!==65533&&(lo[co[193][hs]]=49408+hs,cs[49408+hs]=co[193][hs]);for(co[194]="".split(""),hs=0;hs!=co[194].length;++hs)co[194][hs].charCodeAt(0)!==65533&&(lo[co[194][hs]]=49664+hs,cs[49664+hs]=co[194][hs]);for(co[195]="".split(""),hs=0;hs!=co[195].length;++hs)co[195][hs].charCodeAt(0)!==65533&&(lo[co[195][hs]]=49920+hs,cs[49920+hs]=co[195][hs]);for(co[196]="".split(""),hs=0;hs!=co[196].length;++hs)co[196][hs].charCodeAt(0)!==65533&&(lo[co[196][hs]]=50176+hs,cs[50176+hs]=co[196][hs]);for(co[197]="".split(""),hs=0;hs!=co[197].length;++hs)co[197][hs].charCodeAt(0)!==65533&&(lo[co[197][hs]]=50432+hs,cs[50432+hs]=co[197][hs]);for(co[198]="".split(""),hs=0;hs!=co[198].length;++hs)co[198][hs].charCodeAt(0)!==65533&&(lo[co[198][hs]]=50688+hs,cs[50688+hs]=co[198][hs]);for(co[199]="".split(""),hs=0;hs!=co[199].length;++hs)co[199][hs].charCodeAt(0)!==65533&&(lo[co[199][hs]]=50944+hs,cs[50944+hs]=co[199][hs]);for(co[200]="".split(""),hs=0;hs!=co[200].length;++hs)co[200][hs].charCodeAt(0)!==65533&&(lo[co[200][hs]]=51200+hs,cs[51200+hs]=co[200][hs]);for(co[202]="".split(""),hs=0;hs!=co[202].length;++hs)co[202][hs].charCodeAt(0)!==65533&&(lo[co[202][hs]]=51712+hs,cs[51712+hs]=co[202][hs]);for(co[203]="".split(""),hs=0;hs!=co[203].length;++hs)co[203][hs].charCodeAt(0)!==65533&&(lo[co[203][hs]]=51968+hs,cs[51968+hs]=co[203][hs]);for(co[204]="".split(""),hs=0;hs!=co[204].length;++hs)co[204][hs].charCodeAt(0)!==65533&&(lo[co[204][hs]]=52224+hs,cs[52224+hs]=co[204][hs]);for(co[205]="".split(""),hs=0;hs!=co[205].length;++hs)co[205][hs].charCodeAt(0)!==65533&&(lo[co[205][hs]]=52480+hs,cs[52480+hs]=co[205][hs]);for(co[206]="".split(""),hs=0;hs!=co[206].length;++hs)co[206][hs].charCodeAt(0)!==65533&&(lo[co[206][hs]]=52736+hs,cs[52736+hs]=co[206][hs]);for(co[207]="".split(""),hs=0;hs!=co[207].length;++hs)co[207][hs].charCodeAt(0)!==65533&&(lo[co[207][hs]]=52992+hs,cs[52992+hs]=co[207][hs]);for(co[208]="".split(""),hs=0;hs!=co[208].length;++hs)co[208][hs].charCodeAt(0)!==65533&&(lo[co[208][hs]]=53248+hs,cs[53248+hs]=co[208][hs]);for(co[209]="".split(""),hs=0;hs!=co[209].length;++hs)co[209][hs].charCodeAt(0)!==65533&&(lo[co[209][hs]]=53504+hs,cs[53504+hs]=co[209][hs]);for(co[210]="".split(""),hs=0;hs!=co[210].length;++hs)co[210][hs].charCodeAt(0)!==65533&&(lo[co[210][hs]]=53760+hs,cs[53760+hs]=co[210][hs]);for(co[211]="".split(""),hs=0;hs!=co[211].length;++hs)co[211][hs].charCodeAt(0)!==65533&&(lo[co[211][hs]]=54016+hs,cs[54016+hs]=co[211][hs]);for(co[212]="".split(""),hs=0;hs!=co[212].length;++hs)co[212][hs].charCodeAt(0)!==65533&&(lo[co[212][hs]]=54272+hs,cs[54272+hs]=co[212][hs]);for(co[213]="".split(""),hs=0;hs!=co[213].length;++hs)co[213][hs].charCodeAt(0)!==65533&&(lo[co[213][hs]]=54528+hs,cs[54528+hs]=co[213][hs]);for(co[214]="".split(""),hs=0;hs!=co[214].length;++hs)co[214][hs].charCodeAt(0)!==65533&&(lo[co[214][hs]]=54784+hs,cs[54784+hs]=co[214][hs]);for(co[215]="".split(""),hs=0;hs!=co[215].length;++hs)co[215][hs].charCodeAt(0)!==65533&&(lo[co[215][hs]]=55040+hs,cs[55040+hs]=co[215][hs]);for(co[216]="".split(""),hs=0;hs!=co[216].length;++hs)co[216][hs].charCodeAt(0)!==65533&&(lo[co[216][hs]]=55296+hs,cs[55296+hs]=co[216][hs]);for(co[217]="".split(""),hs=0;hs!=co[217].length;++hs)co[217][hs].charCodeAt(0)!==65533&&(lo[co[217][hs]]=55552+hs,cs[55552+hs]=co[217][hs]);for(co[218]="".split(""),hs=0;hs!=co[218].length;++hs)co[218][hs].charCodeAt(0)!==65533&&(lo[co[218][hs]]=55808+hs,cs[55808+hs]=co[218][hs]);for(co[219]="".split(""),hs=0;hs!=co[219].length;++hs)co[219][hs].charCodeAt(0)!==65533&&(lo[co[219][hs]]=56064+hs,cs[56064+hs]=co[219][hs]);for(co[220]="".split(""),hs=0;hs!=co[220].length;++hs)co[220][hs].charCodeAt(0)!==65533&&(lo[co[220][hs]]=56320+hs,cs[56320+hs]=co[220][hs]);for(co[221]="".split(""),hs=0;hs!=co[221].length;++hs)co[221][hs].charCodeAt(0)!==65533&&(lo[co[221][hs]]=56576+hs,cs[56576+hs]=co[221][hs]);for(co[222]="".split(""),hs=0;hs!=co[222].length;++hs)co[222][hs].charCodeAt(0)!==65533&&(lo[co[222][hs]]=56832+hs,cs[56832+hs]=co[222][hs]);for(co[223]="".split(""),hs=0;hs!=co[223].length;++hs)co[223][hs].charCodeAt(0)!==65533&&(lo[co[223][hs]]=57088+hs,cs[57088+hs]=co[223][hs]);for(co[224]="".split(""),hs=0;hs!=co[224].length;++hs)co[224][hs].charCodeAt(0)!==65533&&(lo[co[224][hs]]=57344+hs,cs[57344+hs]=co[224][hs]);for(co[225]="".split(""),hs=0;hs!=co[225].length;++hs)co[225][hs].charCodeAt(0)!==65533&&(lo[co[225][hs]]=57600+hs,cs[57600+hs]=co[225][hs]);for(co[226]="".split(""),hs=0;hs!=co[226].length;++hs)co[226][hs].charCodeAt(0)!==65533&&(lo[co[226][hs]]=57856+hs,cs[57856+hs]=co[226][hs]);for(co[227]="".split(""),hs=0;hs!=co[227].length;++hs)co[227][hs].charCodeAt(0)!==65533&&(lo[co[227][hs]]=58112+hs,cs[58112+hs]=co[227][hs]);for(co[228]="".split(""),hs=0;hs!=co[228].length;++hs)co[228][hs].charCodeAt(0)!==65533&&(lo[co[228][hs]]=58368+hs,cs[58368+hs]=co[228][hs]);for(co[229]="".split(""),hs=0;hs!=co[229].length;++hs)co[229][hs].charCodeAt(0)!==65533&&(lo[co[229][hs]]=58624+hs,cs[58624+hs]=co[229][hs]);for(co[230]="".split(""),hs=0;hs!=co[230].length;++hs)co[230][hs].charCodeAt(0)!==65533&&(lo[co[230][hs]]=58880+hs,cs[58880+hs]=co[230][hs]);for(co[231]="".split(""),hs=0;hs!=co[231].length;++hs)co[231][hs].charCodeAt(0)!==65533&&(lo[co[231][hs]]=59136+hs,cs[59136+hs]=co[231][hs]);for(co[232]="".split(""),hs=0;hs!=co[232].length;++hs)co[232][hs].charCodeAt(0)!==65533&&(lo[co[232][hs]]=59392+hs,cs[59392+hs]=co[232][hs]);for(co[233]="".split(""),hs=0;hs!=co[233].length;++hs)co[233][hs].charCodeAt(0)!==65533&&(lo[co[233][hs]]=59648+hs,cs[59648+hs]=co[233][hs]);for(co[234]="".split(""),hs=0;hs!=co[234].length;++hs)co[234][hs].charCodeAt(0)!==65533&&(lo[co[234][hs]]=59904+hs,cs[59904+hs]=co[234][hs]);for(co[235]="".split(""),hs=0;hs!=co[235].length;++hs)co[235][hs].charCodeAt(0)!==65533&&(lo[co[235][hs]]=60160+hs,cs[60160+hs]=co[235][hs]);for(co[236]="".split(""),hs=0;hs!=co[236].length;++hs)co[236][hs].charCodeAt(0)!==65533&&(lo[co[236][hs]]=60416+hs,cs[60416+hs]=co[236][hs]);for(co[237]="".split(""),hs=0;hs!=co[237].length;++hs)co[237][hs].charCodeAt(0)!==65533&&(lo[co[237][hs]]=60672+hs,cs[60672+hs]=co[237][hs]);for(co[238]="".split(""),hs=0;hs!=co[238].length;++hs)co[238][hs].charCodeAt(0)!==65533&&(lo[co[238][hs]]=60928+hs,cs[60928+hs]=co[238][hs]);for(co[239]="".split(""),hs=0;hs!=co[239].length;++hs)co[239][hs].charCodeAt(0)!==65533&&(lo[co[239][hs]]=61184+hs,cs[61184+hs]=co[239][hs]);for(co[240]="".split(""),hs=0;hs!=co[240].length;++hs)co[240][hs].charCodeAt(0)!==65533&&(lo[co[240][hs]]=61440+hs,cs[61440+hs]=co[240][hs]);for(co[241]="".split(""),hs=0;hs!=co[241].length;++hs)co[241][hs].charCodeAt(0)!==65533&&(lo[co[241][hs]]=61696+hs,cs[61696+hs]=co[241][hs]);for(co[242]="".split(""),hs=0;hs!=co[242].length;++hs)co[242][hs].charCodeAt(0)!==65533&&(lo[co[242][hs]]=61952+hs,cs[61952+hs]=co[242][hs]);for(co[243]="".split(""),hs=0;hs!=co[243].length;++hs)co[243][hs].charCodeAt(0)!==65533&&(lo[co[243][hs]]=62208+hs,cs[62208+hs]=co[243][hs]);for(co[244]="".split(""),hs=0;hs!=co[244].length;++hs)co[244][hs].charCodeAt(0)!==65533&&(lo[co[244][hs]]=62464+hs,cs[62464+hs]=co[244][hs]);for(co[245]="".split(""),hs=0;hs!=co[245].length;++hs)co[245][hs].charCodeAt(0)!==65533&&(lo[co[245][hs]]=62720+hs,cs[62720+hs]=co[245][hs]);for(co[246]="".split(""),hs=0;hs!=co[246].length;++hs)co[246][hs].charCodeAt(0)!==65533&&(lo[co[246][hs]]=62976+hs,cs[62976+hs]=co[246][hs]);for(co[247]="".split(""),hs=0;hs!=co[247].length;++hs)co[247][hs].charCodeAt(0)!==65533&&(lo[co[247][hs]]=63232+hs,cs[63232+hs]=co[247][hs]);for(co[248]="".split(""),hs=0;hs!=co[248].length;++hs)co[248][hs].charCodeAt(0)!==65533&&(lo[co[248][hs]]=63488+hs,cs[63488+hs]=co[248][hs]);for(co[249]="".split(""),hs=0;hs!=co[249].length;++hs)co[249][hs].charCodeAt(0)!==65533&&(lo[co[249][hs]]=63744+hs,cs[63744+hs]=co[249][hs]);for(co[250]="".split(""),hs=0;hs!=co[250].length;++hs)co[250][hs].charCodeAt(0)!==65533&&(lo[co[250][hs]]=64e3+hs,cs[64e3+hs]=co[250][hs]);for(co[251]="".split(""),hs=0;hs!=co[251].length;++hs)co[251][hs].charCodeAt(0)!==65533&&(lo[co[251][hs]]=64256+hs,cs[64256+hs]=co[251][hs]);for(co[252]="".split(""),hs=0;hs!=co[252].length;++hs)co[252][hs].charCodeAt(0)!==65533&&(lo[co[252][hs]]=64512+hs,cs[64512+hs]=co[252][hs]);for(co[253]="".split(""),hs=0;hs!=co[253].length;++hs)co[253][hs].charCodeAt(0)!==65533&&(lo[co[253][hs]]=64768+hs,cs[64768+hs]=co[253][hs]);return{enc:lo,dec:cs}}(),is[950]=function(){var cs=[],lo={},co=[],hs;for(co[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),hs=0;hs!=co[0].length;++hs)co[0][hs].charCodeAt(0)!==65533&&(lo[co[0][hs]]=0+hs,cs[0+hs]=co[0][hs]);for(co[161]="".split(""),hs=0;hs!=co[161].length;++hs)co[161][hs].charCodeAt(0)!==65533&&(lo[co[161][hs]]=41216+hs,cs[41216+hs]=co[161][hs]);for(co[162]="".split(""),hs=0;hs!=co[162].length;++hs)co[162][hs].charCodeAt(0)!==65533&&(lo[co[162][hs]]=41472+hs,cs[41472+hs]=co[162][hs]);for(co[163]="".split(""),hs=0;hs!=co[163].length;++hs)co[163][hs].charCodeAt(0)!==65533&&(lo[co[163][hs]]=41728+hs,cs[41728+hs]=co[163][hs]);for(co[164]="".split(""),hs=0;hs!=co[164].length;++hs)co[164][hs].charCodeAt(0)!==65533&&(lo[co[164][hs]]=41984+hs,cs[41984+hs]=co[164][hs]);for(co[165]="".split(""),hs=0;hs!=co[165].length;++hs)co[165][hs].charCodeAt(0)!==65533&&(lo[co[165][hs]]=42240+hs,cs[42240+hs]=co[165][hs]);for(co[166]="".split(""),hs=0;hs!=co[166].length;++hs)co[166][hs].charCodeAt(0)!==65533&&(lo[co[166][hs]]=42496+hs,cs[42496+hs]=co[166][hs]);for(co[167]="".split(""),hs=0;hs!=co[167].length;++hs)co[167][hs].charCodeAt(0)!==65533&&(lo[co[167][hs]]=42752+hs,cs[42752+hs]=co[167][hs]);for(co[168]="".split(""),hs=0;hs!=co[168].length;++hs)co[168][hs].charCodeAt(0)!==65533&&(lo[co[168][hs]]=43008+hs,cs[43008+hs]=co[168][hs]);for(co[169]="".split(""),hs=0;hs!=co[169].length;++hs)co[169][hs].charCodeAt(0)!==65533&&(lo[co[169][hs]]=43264+hs,cs[43264+hs]=co[169][hs]);for(co[170]="".split(""),hs=0;hs!=co[170].length;++hs)co[170][hs].charCodeAt(0)!==65533&&(lo[co[170][hs]]=43520+hs,cs[43520+hs]=co[170][hs]);for(co[171]="".split(""),hs=0;hs!=co[171].length;++hs)co[171][hs].charCodeAt(0)!==65533&&(lo[co[171][hs]]=43776+hs,cs[43776+hs]=co[171][hs]);for(co[172]="".split(""),hs=0;hs!=co[172].length;++hs)co[172][hs].charCodeAt(0)!==65533&&(lo[co[172][hs]]=44032+hs,cs[44032+hs]=co[172][hs]);for(co[173]="".split(""),hs=0;hs!=co[173].length;++hs)co[173][hs].charCodeAt(0)!==65533&&(lo[co[173][hs]]=44288+hs,cs[44288+hs]=co[173][hs]);for(co[174]="".split(""),hs=0;hs!=co[174].length;++hs)co[174][hs].charCodeAt(0)!==65533&&(lo[co[174][hs]]=44544+hs,cs[44544+hs]=co[174][hs]);for(co[175]="".split(""),hs=0;hs!=co[175].length;++hs)co[175][hs].charCodeAt(0)!==65533&&(lo[co[175][hs]]=44800+hs,cs[44800+hs]=co[175][hs]);for(co[176]="".split(""),hs=0;hs!=co[176].length;++hs)co[176][hs].charCodeAt(0)!==65533&&(lo[co[176][hs]]=45056+hs,cs[45056+hs]=co[176][hs]);for(co[177]="".split(""),hs=0;hs!=co[177].length;++hs)co[177][hs].charCodeAt(0)!==65533&&(lo[co[177][hs]]=45312+hs,cs[45312+hs]=co[177][hs]);for(co[178]="".split(""),hs=0;hs!=co[178].length;++hs)co[178][hs].charCodeAt(0)!==65533&&(lo[co[178][hs]]=45568+hs,cs[45568+hs]=co[178][hs]);for(co[179]="".split(""),hs=0;hs!=co[179].length;++hs)co[179][hs].charCodeAt(0)!==65533&&(lo[co[179][hs]]=45824+hs,cs[45824+hs]=co[179][hs]);for(co[180]="".split(""),hs=0;hs!=co[180].length;++hs)co[180][hs].charCodeAt(0)!==65533&&(lo[co[180][hs]]=46080+hs,cs[46080+hs]=co[180][hs]);for(co[181]="".split(""),hs=0;hs!=co[181].length;++hs)co[181][hs].charCodeAt(0)!==65533&&(lo[co[181][hs]]=46336+hs,cs[46336+hs]=co[181][hs]);for(co[182]="".split(""),hs=0;hs!=co[182].length;++hs)co[182][hs].charCodeAt(0)!==65533&&(lo[co[182][hs]]=46592+hs,cs[46592+hs]=co[182][hs]);for(co[183]="".split(""),hs=0;hs!=co[183].length;++hs)co[183][hs].charCodeAt(0)!==65533&&(lo[co[183][hs]]=46848+hs,cs[46848+hs]=co[183][hs]);for(co[184]="".split(""),hs=0;hs!=co[184].length;++hs)co[184][hs].charCodeAt(0)!==65533&&(lo[co[184][hs]]=47104+hs,cs[47104+hs]=co[184][hs]);for(co[185]="".split(""),hs=0;hs!=co[185].length;++hs)co[185][hs].charCodeAt(0)!==65533&&(lo[co[185][hs]]=47360+hs,cs[47360+hs]=co[185][hs]);for(co[186]="".split(""),hs=0;hs!=co[186].length;++hs)co[186][hs].charCodeAt(0)!==65533&&(lo[co[186][hs]]=47616+hs,cs[47616+hs]=co[186][hs]);for(co[187]="".split(""),hs=0;hs!=co[187].length;++hs)co[187][hs].charCodeAt(0)!==65533&&(lo[co[187][hs]]=47872+hs,cs[47872+hs]=co[187][hs]);for(co[188]="".split(""),hs=0;hs!=co[188].length;++hs)co[188][hs].charCodeAt(0)!==65533&&(lo[co[188][hs]]=48128+hs,cs[48128+hs]=co[188][hs]);for(co[189]="".split(""),hs=0;hs!=co[189].length;++hs)co[189][hs].charCodeAt(0)!==65533&&(lo[co[189][hs]]=48384+hs,cs[48384+hs]=co[189][hs]);for(co[190]="".split(""),hs=0;hs!=co[190].length;++hs)co[190][hs].charCodeAt(0)!==65533&&(lo[co[190][hs]]=48640+hs,cs[48640+hs]=co[190][hs]);for(co[191]="".split(""),hs=0;hs!=co[191].length;++hs)co[191][hs].charCodeAt(0)!==65533&&(lo[co[191][hs]]=48896+hs,cs[48896+hs]=co[191][hs]);for(co[192]="".split(""),hs=0;hs!=co[192].length;++hs)co[192][hs].charCodeAt(0)!==65533&&(lo[co[192][hs]]=49152+hs,cs[49152+hs]=co[192][hs]);for(co[193]="".split(""),hs=0;hs!=co[193].length;++hs)co[193][hs].charCodeAt(0)!==65533&&(lo[co[193][hs]]=49408+hs,cs[49408+hs]=co[193][hs]);for(co[194]="".split(""),hs=0;hs!=co[194].length;++hs)co[194][hs].charCodeAt(0)!==65533&&(lo[co[194][hs]]=49664+hs,cs[49664+hs]=co[194][hs]);for(co[195]="".split(""),hs=0;hs!=co[195].length;++hs)co[195][hs].charCodeAt(0)!==65533&&(lo[co[195][hs]]=49920+hs,cs[49920+hs]=co[195][hs]);for(co[196]="".split(""),hs=0;hs!=co[196].length;++hs)co[196][hs].charCodeAt(0)!==65533&&(lo[co[196][hs]]=50176+hs,cs[50176+hs]=co[196][hs]);for(co[197]="".split(""),hs=0;hs!=co[197].length;++hs)co[197][hs].charCodeAt(0)!==65533&&(lo[co[197][hs]]=50432+hs,cs[50432+hs]=co[197][hs]);for(co[198]="".split(""),hs=0;hs!=co[198].length;++hs)co[198][hs].charCodeAt(0)!==65533&&(lo[co[198][hs]]=50688+hs,cs[50688+hs]=co[198][hs]);for(co[201]="".split(""),hs=0;hs!=co[201].length;++hs)co[201][hs].charCodeAt(0)!==65533&&(lo[co[201][hs]]=51456+hs,cs[51456+hs]=co[201][hs]);for(co[202]="".split(""),hs=0;hs!=co[202].length;++hs)co[202][hs].charCodeAt(0)!==65533&&(lo[co[202][hs]]=51712+hs,cs[51712+hs]=co[202][hs]);for(co[203]="".split(""),hs=0;hs!=co[203].length;++hs)co[203][hs].charCodeAt(0)!==65533&&(lo[co[203][hs]]=51968+hs,cs[51968+hs]=co[203][hs]);for(co[204]="".split(""),hs=0;hs!=co[204].length;++hs)co[204][hs].charCodeAt(0)!==65533&&(lo[co[204][hs]]=52224+hs,cs[52224+hs]=co[204][hs]);for(co[205]="".split(""),hs=0;hs!=co[205].length;++hs)co[205][hs].charCodeAt(0)!==65533&&(lo[co[205][hs]]=52480+hs,cs[52480+hs]=co[205][hs]);for(co[206]="".split(""),hs=0;hs!=co[206].length;++hs)co[206][hs].charCodeAt(0)!==65533&&(lo[co[206][hs]]=52736+hs,cs[52736+hs]=co[206][hs]);for(co[207]="".split(""),hs=0;hs!=co[207].length;++hs)co[207][hs].charCodeAt(0)!==65533&&(lo[co[207][hs]]=52992+hs,cs[52992+hs]=co[207][hs]);for(co[208]="".split(""),hs=0;hs!=co[208].length;++hs)co[208][hs].charCodeAt(0)!==65533&&(lo[co[208][hs]]=53248+hs,cs[53248+hs]=co[208][hs]);for(co[209]="".split(""),hs=0;hs!=co[209].length;++hs)co[209][hs].charCodeAt(0)!==65533&&(lo[co[209][hs]]=53504+hs,cs[53504+hs]=co[209][hs]);for(co[210]="".split(""),hs=0;hs!=co[210].length;++hs)co[210][hs].charCodeAt(0)!==65533&&(lo[co[210][hs]]=53760+hs,cs[53760+hs]=co[210][hs]);for(co[211]="".split(""),hs=0;hs!=co[211].length;++hs)co[211][hs].charCodeAt(0)!==65533&&(lo[co[211][hs]]=54016+hs,cs[54016+hs]=co[211][hs]);for(co[212]="".split(""),hs=0;hs!=co[212].length;++hs)co[212][hs].charCodeAt(0)!==65533&&(lo[co[212][hs]]=54272+hs,cs[54272+hs]=co[212][hs]);for(co[213]="".split(""),hs=0;hs!=co[213].length;++hs)co[213][hs].charCodeAt(0)!==65533&&(lo[co[213][hs]]=54528+hs,cs[54528+hs]=co[213][hs]);for(co[214]="".split(""),hs=0;hs!=co[214].length;++hs)co[214][hs].charCodeAt(0)!==65533&&(lo[co[214][hs]]=54784+hs,cs[54784+hs]=co[214][hs]);for(co[215]="".split(""),hs=0;hs!=co[215].length;++hs)co[215][hs].charCodeAt(0)!==65533&&(lo[co[215][hs]]=55040+hs,cs[55040+hs]=co[215][hs]);for(co[216]="".split(""),hs=0;hs!=co[216].length;++hs)co[216][hs].charCodeAt(0)!==65533&&(lo[co[216][hs]]=55296+hs,cs[55296+hs]=co[216][hs]);for(co[217]="".split(""),hs=0;hs!=co[217].length;++hs)co[217][hs].charCodeAt(0)!==65533&&(lo[co[217][hs]]=55552+hs,cs[55552+hs]=co[217][hs]);for(co[218]="".split(""),hs=0;hs!=co[218].length;++hs)co[218][hs].charCodeAt(0)!==65533&&(lo[co[218][hs]]=55808+hs,cs[55808+hs]=co[218][hs]);for(co[219]="".split(""),hs=0;hs!=co[219].length;++hs)co[219][hs].charCodeAt(0)!==65533&&(lo[co[219][hs]]=56064+hs,cs[56064+hs]=co[219][hs]);for(co[220]="".split(""),hs=0;hs!=co[220].length;++hs)co[220][hs].charCodeAt(0)!==65533&&(lo[co[220][hs]]=56320+hs,cs[56320+hs]=co[220][hs]);for(co[221]="".split(""),hs=0;hs!=co[221].length;++hs)co[221][hs].charCodeAt(0)!==65533&&(lo[co[221][hs]]=56576+hs,cs[56576+hs]=co[221][hs]);for(co[222]="".split(""),hs=0;hs!=co[222].length;++hs)co[222][hs].charCodeAt(0)!==65533&&(lo[co[222][hs]]=56832+hs,cs[56832+hs]=co[222][hs]);for(co[223]="".split(""),hs=0;hs!=co[223].length;++hs)co[223][hs].charCodeAt(0)!==65533&&(lo[co[223][hs]]=57088+hs,cs[57088+hs]=co[223][hs]);for(co[224]="".split(""),hs=0;hs!=co[224].length;++hs)co[224][hs].charCodeAt(0)!==65533&&(lo[co[224][hs]]=57344+hs,cs[57344+hs]=co[224][hs]);for(co[225]="".split(""),hs=0;hs!=co[225].length;++hs)co[225][hs].charCodeAt(0)!==65533&&(lo[co[225][hs]]=57600+hs,cs[57600+hs]=co[225][hs]);for(co[226]="".split(""),hs=0;hs!=co[226].length;++hs)co[226][hs].charCodeAt(0)!==65533&&(lo[co[226][hs]]=57856+hs,cs[57856+hs]=co[226][hs]);for(co[227]="".split(""),hs=0;hs!=co[227].length;++hs)co[227][hs].charCodeAt(0)!==65533&&(lo[co[227][hs]]=58112+hs,cs[58112+hs]=co[227][hs]);for(co[228]="".split(""),hs=0;hs!=co[228].length;++hs)co[228][hs].charCodeAt(0)!==65533&&(lo[co[228][hs]]=58368+hs,cs[58368+hs]=co[228][hs]);for(co[229]="".split(""),hs=0;hs!=co[229].length;++hs)co[229][hs].charCodeAt(0)!==65533&&(lo[co[229][hs]]=58624+hs,cs[58624+hs]=co[229][hs]);for(co[230]="".split(""),hs=0;hs!=co[230].length;++hs)co[230][hs].charCodeAt(0)!==65533&&(lo[co[230][hs]]=58880+hs,cs[58880+hs]=co[230][hs]);for(co[231]="".split(""),hs=0;hs!=co[231].length;++hs)co[231][hs].charCodeAt(0)!==65533&&(lo[co[231][hs]]=59136+hs,cs[59136+hs]=co[231][hs]);for(co[232]="".split(""),hs=0;hs!=co[232].length;++hs)co[232][hs].charCodeAt(0)!==65533&&(lo[co[232][hs]]=59392+hs,cs[59392+hs]=co[232][hs]);for(co[233]="".split(""),hs=0;hs!=co[233].length;++hs)co[233][hs].charCodeAt(0)!==65533&&(lo[co[233][hs]]=59648+hs,cs[59648+hs]=co[233][hs]);for(co[234]="".split(""),hs=0;hs!=co[234].length;++hs)co[234][hs].charCodeAt(0)!==65533&&(lo[co[234][hs]]=59904+hs,cs[59904+hs]=co[234][hs]);for(co[235]="".split(""),hs=0;hs!=co[235].length;++hs)co[235][hs].charCodeAt(0)!==65533&&(lo[co[235][hs]]=60160+hs,cs[60160+hs]=co[235][hs]);for(co[236]="".split(""),hs=0;hs!=co[236].length;++hs)co[236][hs].charCodeAt(0)!==65533&&(lo[co[236][hs]]=60416+hs,cs[60416+hs]=co[236][hs]);for(co[237]="".split(""),hs=0;hs!=co[237].length;++hs)co[237][hs].charCodeAt(0)!==65533&&(lo[co[237][hs]]=60672+hs,cs[60672+hs]=co[237][hs]);for(co[238]="".split(""),hs=0;hs!=co[238].length;++hs)co[238][hs].charCodeAt(0)!==65533&&(lo[co[238][hs]]=60928+hs,cs[60928+hs]=co[238][hs]);for(co[239]="".split(""),hs=0;hs!=co[239].length;++hs)co[239][hs].charCodeAt(0)!==65533&&(lo[co[239][hs]]=61184+hs,cs[61184+hs]=co[239][hs]);for(co[240]="".split(""),hs=0;hs!=co[240].length;++hs)co[240][hs].charCodeAt(0)!==65533&&(lo[co[240][hs]]=61440+hs,cs[61440+hs]=co[240][hs]);for(co[241]="".split(""),hs=0;hs!=co[241].length;++hs)co[241][hs].charCodeAt(0)!==65533&&(lo[co[241][hs]]=61696+hs,cs[61696+hs]=co[241][hs]);for(co[242]="".split(""),hs=0;hs!=co[242].length;++hs)co[242][hs].charCodeAt(0)!==65533&&(lo[co[242][hs]]=61952+hs,cs[61952+hs]=co[242][hs]);for(co[243]="".split(""),hs=0;hs!=co[243].length;++hs)co[243][hs].charCodeAt(0)!==65533&&(lo[co[243][hs]]=62208+hs,cs[62208+hs]=co[243][hs]);for(co[244]="".split(""),hs=0;hs!=co[244].length;++hs)co[244][hs].charCodeAt(0)!==65533&&(lo[co[244][hs]]=62464+hs,cs[62464+hs]=co[244][hs]);for(co[245]="".split(""),hs=0;hs!=co[245].length;++hs)co[245][hs].charCodeAt(0)!==65533&&(lo[co[245][hs]]=62720+hs,cs[62720+hs]=co[245][hs]);for(co[246]="".split(""),hs=0;hs!=co[246].length;++hs)co[246][hs].charCodeAt(0)!==65533&&(lo[co[246][hs]]=62976+hs,cs[62976+hs]=co[246][hs]);for(co[247]="".split(""),hs=0;hs!=co[247].length;++hs)co[247][hs].charCodeAt(0)!==65533&&(lo[co[247][hs]]=63232+hs,cs[63232+hs]=co[247][hs]);for(co[248]="".split(""),hs=0;hs!=co[248].length;++hs)co[248][hs].charCodeAt(0)!==65533&&(lo[co[248][hs]]=63488+hs,cs[63488+hs]=co[248][hs]);for(co[249]="".split(""),hs=0;hs!=co[249].length;++hs)co[249][hs].charCodeAt(0)!==65533&&(lo[co[249][hs]]=63744+hs,cs[63744+hs]=co[249][hs]);return{enc:lo,dec:cs}}(),is[1250]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1251]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1252]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1253]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1254]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1255]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1256]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1257]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1258]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[1e4]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[10006]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[10007]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[10008]=function(){var cs=[],lo={},co=[],hs;for(co[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),hs=0;hs!=co[0].length;++hs)co[0][hs].charCodeAt(0)!==65533&&(lo[co[0][hs]]=0+hs,cs[0+hs]=co[0][hs]);for(co[161]="".split(""),hs=0;hs!=co[161].length;++hs)co[161][hs].charCodeAt(0)!==65533&&(lo[co[161][hs]]=41216+hs,cs[41216+hs]=co[161][hs]);for(co[162]="".split(""),hs=0;hs!=co[162].length;++hs)co[162][hs].charCodeAt(0)!==65533&&(lo[co[162][hs]]=41472+hs,cs[41472+hs]=co[162][hs]);for(co[163]="".split(""),hs=0;hs!=co[163].length;++hs)co[163][hs].charCodeAt(0)!==65533&&(lo[co[163][hs]]=41728+hs,cs[41728+hs]=co[163][hs]);for(co[164]="".split(""),hs=0;hs!=co[164].length;++hs)co[164][hs].charCodeAt(0)!==65533&&(lo[co[164][hs]]=41984+hs,cs[41984+hs]=co[164][hs]);for(co[165]="".split(""),hs=0;hs!=co[165].length;++hs)co[165][hs].charCodeAt(0)!==65533&&(lo[co[165][hs]]=42240+hs,cs[42240+hs]=co[165][hs]);for(co[166]="".split(""),hs=0;hs!=co[166].length;++hs)co[166][hs].charCodeAt(0)!==65533&&(lo[co[166][hs]]=42496+hs,cs[42496+hs]=co[166][hs]);for(co[167]="".split(""),hs=0;hs!=co[167].length;++hs)co[167][hs].charCodeAt(0)!==65533&&(lo[co[167][hs]]=42752+hs,cs[42752+hs]=co[167][hs]);for(co[168]="".split(""),hs=0;hs!=co[168].length;++hs)co[168][hs].charCodeAt(0)!==65533&&(lo[co[168][hs]]=43008+hs,cs[43008+hs]=co[168][hs]);for(co[169]="".split(""),hs=0;hs!=co[169].length;++hs)co[169][hs].charCodeAt(0)!==65533&&(lo[co[169][hs]]=43264+hs,cs[43264+hs]=co[169][hs]);for(co[176]="".split(""),hs=0;hs!=co[176].length;++hs)co[176][hs].charCodeAt(0)!==65533&&(lo[co[176][hs]]=45056+hs,cs[45056+hs]=co[176][hs]);for(co[177]="".split(""),hs=0;hs!=co[177].length;++hs)co[177][hs].charCodeAt(0)!==65533&&(lo[co[177][hs]]=45312+hs,cs[45312+hs]=co[177][hs]);for(co[178]="".split(""),hs=0;hs!=co[178].length;++hs)co[178][hs].charCodeAt(0)!==65533&&(lo[co[178][hs]]=45568+hs,cs[45568+hs]=co[178][hs]);for(co[179]="".split(""),hs=0;hs!=co[179].length;++hs)co[179][hs].charCodeAt(0)!==65533&&(lo[co[179][hs]]=45824+hs,cs[45824+hs]=co[179][hs]);for(co[180]="".split(""),hs=0;hs!=co[180].length;++hs)co[180][hs].charCodeAt(0)!==65533&&(lo[co[180][hs]]=46080+hs,cs[46080+hs]=co[180][hs]);for(co[181]="".split(""),hs=0;hs!=co[181].length;++hs)co[181][hs].charCodeAt(0)!==65533&&(lo[co[181][hs]]=46336+hs,cs[46336+hs]=co[181][hs]);for(co[182]="".split(""),hs=0;hs!=co[182].length;++hs)co[182][hs].charCodeAt(0)!==65533&&(lo[co[182][hs]]=46592+hs,cs[46592+hs]=co[182][hs]);for(co[183]="".split(""),hs=0;hs!=co[183].length;++hs)co[183][hs].charCodeAt(0)!==65533&&(lo[co[183][hs]]=46848+hs,cs[46848+hs]=co[183][hs]);for(co[184]="".split(""),hs=0;hs!=co[184].length;++hs)co[184][hs].charCodeAt(0)!==65533&&(lo[co[184][hs]]=47104+hs,cs[47104+hs]=co[184][hs]);for(co[185]="".split(""),hs=0;hs!=co[185].length;++hs)co[185][hs].charCodeAt(0)!==65533&&(lo[co[185][hs]]=47360+hs,cs[47360+hs]=co[185][hs]);for(co[186]="".split(""),hs=0;hs!=co[186].length;++hs)co[186][hs].charCodeAt(0)!==65533&&(lo[co[186][hs]]=47616+hs,cs[47616+hs]=co[186][hs]);for(co[187]="".split(""),hs=0;hs!=co[187].length;++hs)co[187][hs].charCodeAt(0)!==65533&&(lo[co[187][hs]]=47872+hs,cs[47872+hs]=co[187][hs]);for(co[188]="".split(""),hs=0;hs!=co[188].length;++hs)co[188][hs].charCodeAt(0)!==65533&&(lo[co[188][hs]]=48128+hs,cs[48128+hs]=co[188][hs]);for(co[189]="".split(""),hs=0;hs!=co[189].length;++hs)co[189][hs].charCodeAt(0)!==65533&&(lo[co[189][hs]]=48384+hs,cs[48384+hs]=co[189][hs]);for(co[190]="".split(""),hs=0;hs!=co[190].length;++hs)co[190][hs].charCodeAt(0)!==65533&&(lo[co[190][hs]]=48640+hs,cs[48640+hs]=co[190][hs]);for(co[191]="".split(""),hs=0;hs!=co[191].length;++hs)co[191][hs].charCodeAt(0)!==65533&&(lo[co[191][hs]]=48896+hs,cs[48896+hs]=co[191][hs]);for(co[192]="".split(""),hs=0;hs!=co[192].length;++hs)co[192][hs].charCodeAt(0)!==65533&&(lo[co[192][hs]]=49152+hs,cs[49152+hs]=co[192][hs]);for(co[193]="".split(""),hs=0;hs!=co[193].length;++hs)co[193][hs].charCodeAt(0)!==65533&&(lo[co[193][hs]]=49408+hs,cs[49408+hs]=co[193][hs]);for(co[194]="".split(""),hs=0;hs!=co[194].length;++hs)co[194][hs].charCodeAt(0)!==65533&&(lo[co[194][hs]]=49664+hs,cs[49664+hs]=co[194][hs]);for(co[195]="".split(""),hs=0;hs!=co[195].length;++hs)co[195][hs].charCodeAt(0)!==65533&&(lo[co[195][hs]]=49920+hs,cs[49920+hs]=co[195][hs]);for(co[196]="".split(""),hs=0;hs!=co[196].length;++hs)co[196][hs].charCodeAt(0)!==65533&&(lo[co[196][hs]]=50176+hs,cs[50176+hs]=co[196][hs]);for(co[197]="".split(""),hs=0;hs!=co[197].length;++hs)co[197][hs].charCodeAt(0)!==65533&&(lo[co[197][hs]]=50432+hs,cs[50432+hs]=co[197][hs]);for(co[198]="".split(""),hs=0;hs!=co[198].length;++hs)co[198][hs].charCodeAt(0)!==65533&&(lo[co[198][hs]]=50688+hs,cs[50688+hs]=co[198][hs]);for(co[199]="".split(""),hs=0;hs!=co[199].length;++hs)co[199][hs].charCodeAt(0)!==65533&&(lo[co[199][hs]]=50944+hs,cs[50944+hs]=co[199][hs]);for(co[200]="".split(""),hs=0;hs!=co[200].length;++hs)co[200][hs].charCodeAt(0)!==65533&&(lo[co[200][hs]]=51200+hs,cs[51200+hs]=co[200][hs]);for(co[201]="".split(""),hs=0;hs!=co[201].length;++hs)co[201][hs].charCodeAt(0)!==65533&&(lo[co[201][hs]]=51456+hs,cs[51456+hs]=co[201][hs]);for(co[202]="".split(""),hs=0;hs!=co[202].length;++hs)co[202][hs].charCodeAt(0)!==65533&&(lo[co[202][hs]]=51712+hs,cs[51712+hs]=co[202][hs]);for(co[203]="".split(""),hs=0;hs!=co[203].length;++hs)co[203][hs].charCodeAt(0)!==65533&&(lo[co[203][hs]]=51968+hs,cs[51968+hs]=co[203][hs]);for(co[204]="".split(""),hs=0;hs!=co[204].length;++hs)co[204][hs].charCodeAt(0)!==65533&&(lo[co[204][hs]]=52224+hs,cs[52224+hs]=co[204][hs]);for(co[205]="".split(""),hs=0;hs!=co[205].length;++hs)co[205][hs].charCodeAt(0)!==65533&&(lo[co[205][hs]]=52480+hs,cs[52480+hs]=co[205][hs]);for(co[206]="".split(""),hs=0;hs!=co[206].length;++hs)co[206][hs].charCodeAt(0)!==65533&&(lo[co[206][hs]]=52736+hs,cs[52736+hs]=co[206][hs]);for(co[207]="".split(""),hs=0;hs!=co[207].length;++hs)co[207][hs].charCodeAt(0)!==65533&&(lo[co[207][hs]]=52992+hs,cs[52992+hs]=co[207][hs]);for(co[208]="".split(""),hs=0;hs!=co[208].length;++hs)co[208][hs].charCodeAt(0)!==65533&&(lo[co[208][hs]]=53248+hs,cs[53248+hs]=co[208][hs]);for(co[209]="".split(""),hs=0;hs!=co[209].length;++hs)co[209][hs].charCodeAt(0)!==65533&&(lo[co[209][hs]]=53504+hs,cs[53504+hs]=co[209][hs]);for(co[210]="".split(""),hs=0;hs!=co[210].length;++hs)co[210][hs].charCodeAt(0)!==65533&&(lo[co[210][hs]]=53760+hs,cs[53760+hs]=co[210][hs]);for(co[211]="".split(""),hs=0;hs!=co[211].length;++hs)co[211][hs].charCodeAt(0)!==65533&&(lo[co[211][hs]]=54016+hs,cs[54016+hs]=co[211][hs]);for(co[212]="".split(""),hs=0;hs!=co[212].length;++hs)co[212][hs].charCodeAt(0)!==65533&&(lo[co[212][hs]]=54272+hs,cs[54272+hs]=co[212][hs]);for(co[213]="".split(""),hs=0;hs!=co[213].length;++hs)co[213][hs].charCodeAt(0)!==65533&&(lo[co[213][hs]]=54528+hs,cs[54528+hs]=co[213][hs]);for(co[214]="".split(""),hs=0;hs!=co[214].length;++hs)co[214][hs].charCodeAt(0)!==65533&&(lo[co[214][hs]]=54784+hs,cs[54784+hs]=co[214][hs]);for(co[215]="".split(""),hs=0;hs!=co[215].length;++hs)co[215][hs].charCodeAt(0)!==65533&&(lo[co[215][hs]]=55040+hs,cs[55040+hs]=co[215][hs]);for(co[216]="".split(""),hs=0;hs!=co[216].length;++hs)co[216][hs].charCodeAt(0)!==65533&&(lo[co[216][hs]]=55296+hs,cs[55296+hs]=co[216][hs]);for(co[217]="".split(""),hs=0;hs!=co[217].length;++hs)co[217][hs].charCodeAt(0)!==65533&&(lo[co[217][hs]]=55552+hs,cs[55552+hs]=co[217][hs]);for(co[218]="".split(""),hs=0;hs!=co[218].length;++hs)co[218][hs].charCodeAt(0)!==65533&&(lo[co[218][hs]]=55808+hs,cs[55808+hs]=co[218][hs]);for(co[219]="".split(""),hs=0;hs!=co[219].length;++hs)co[219][hs].charCodeAt(0)!==65533&&(lo[co[219][hs]]=56064+hs,cs[56064+hs]=co[219][hs]);for(co[220]="".split(""),hs=0;hs!=co[220].length;++hs)co[220][hs].charCodeAt(0)!==65533&&(lo[co[220][hs]]=56320+hs,cs[56320+hs]=co[220][hs]);for(co[221]="".split(""),hs=0;hs!=co[221].length;++hs)co[221][hs].charCodeAt(0)!==65533&&(lo[co[221][hs]]=56576+hs,cs[56576+hs]=co[221][hs]);for(co[222]="".split(""),hs=0;hs!=co[222].length;++hs)co[222][hs].charCodeAt(0)!==65533&&(lo[co[222][hs]]=56832+hs,cs[56832+hs]=co[222][hs]);for(co[223]="".split(""),hs=0;hs!=co[223].length;++hs)co[223][hs].charCodeAt(0)!==65533&&(lo[co[223][hs]]=57088+hs,cs[57088+hs]=co[223][hs]);for(co[224]="".split(""),hs=0;hs!=co[224].length;++hs)co[224][hs].charCodeAt(0)!==65533&&(lo[co[224][hs]]=57344+hs,cs[57344+hs]=co[224][hs]);for(co[225]="".split(""),hs=0;hs!=co[225].length;++hs)co[225][hs].charCodeAt(0)!==65533&&(lo[co[225][hs]]=57600+hs,cs[57600+hs]=co[225][hs]);for(co[226]="".split(""),hs=0;hs!=co[226].length;++hs)co[226][hs].charCodeAt(0)!==65533&&(lo[co[226][hs]]=57856+hs,cs[57856+hs]=co[226][hs]);for(co[227]="".split(""),hs=0;hs!=co[227].length;++hs)co[227][hs].charCodeAt(0)!==65533&&(lo[co[227][hs]]=58112+hs,cs[58112+hs]=co[227][hs]);for(co[228]="".split(""),hs=0;hs!=co[228].length;++hs)co[228][hs].charCodeAt(0)!==65533&&(lo[co[228][hs]]=58368+hs,cs[58368+hs]=co[228][hs]);for(co[229]="".split(""),hs=0;hs!=co[229].length;++hs)co[229][hs].charCodeAt(0)!==65533&&(lo[co[229][hs]]=58624+hs,cs[58624+hs]=co[229][hs]);for(co[230]="".split(""),hs=0;hs!=co[230].length;++hs)co[230][hs].charCodeAt(0)!==65533&&(lo[co[230][hs]]=58880+hs,cs[58880+hs]=co[230][hs]);for(co[231]="".split(""),hs=0;hs!=co[231].length;++hs)co[231][hs].charCodeAt(0)!==65533&&(lo[co[231][hs]]=59136+hs,cs[59136+hs]=co[231][hs]);for(co[232]="".split(""),hs=0;hs!=co[232].length;++hs)co[232][hs].charCodeAt(0)!==65533&&(lo[co[232][hs]]=59392+hs,cs[59392+hs]=co[232][hs]);for(co[233]="".split(""),hs=0;hs!=co[233].length;++hs)co[233][hs].charCodeAt(0)!==65533&&(lo[co[233][hs]]=59648+hs,cs[59648+hs]=co[233][hs]);for(co[234]="".split(""),hs=0;hs!=co[234].length;++hs)co[234][hs].charCodeAt(0)!==65533&&(lo[co[234][hs]]=59904+hs,cs[59904+hs]=co[234][hs]);for(co[235]="".split(""),hs=0;hs!=co[235].length;++hs)co[235][hs].charCodeAt(0)!==65533&&(lo[co[235][hs]]=60160+hs,cs[60160+hs]=co[235][hs]);for(co[236]="".split(""),hs=0;hs!=co[236].length;++hs)co[236][hs].charCodeAt(0)!==65533&&(lo[co[236][hs]]=60416+hs,cs[60416+hs]=co[236][hs]);for(co[237]="".split(""),hs=0;hs!=co[237].length;++hs)co[237][hs].charCodeAt(0)!==65533&&(lo[co[237][hs]]=60672+hs,cs[60672+hs]=co[237][hs]);for(co[238]="".split(""),hs=0;hs!=co[238].length;++hs)co[238][hs].charCodeAt(0)!==65533&&(lo[co[238][hs]]=60928+hs,cs[60928+hs]=co[238][hs]);for(co[239]="".split(""),hs=0;hs!=co[239].length;++hs)co[239][hs].charCodeAt(0)!==65533&&(lo[co[239][hs]]=61184+hs,cs[61184+hs]=co[239][hs]);for(co[240]="".split(""),hs=0;hs!=co[240].length;++hs)co[240][hs].charCodeAt(0)!==65533&&(lo[co[240][hs]]=61440+hs,cs[61440+hs]=co[240][hs]);for(co[241]="".split(""),hs=0;hs!=co[241].length;++hs)co[241][hs].charCodeAt(0)!==65533&&(lo[co[241][hs]]=61696+hs,cs[61696+hs]=co[241][hs]);for(co[242]="".split(""),hs=0;hs!=co[242].length;++hs)co[242][hs].charCodeAt(0)!==65533&&(lo[co[242][hs]]=61952+hs,cs[61952+hs]=co[242][hs]);for(co[243]="".split(""),hs=0;hs!=co[243].length;++hs)co[243][hs].charCodeAt(0)!==65533&&(lo[co[243][hs]]=62208+hs,cs[62208+hs]=co[243][hs]);for(co[244]="".split(""),hs=0;hs!=co[244].length;++hs)co[244][hs].charCodeAt(0)!==65533&&(lo[co[244][hs]]=62464+hs,cs[62464+hs]=co[244][hs]);for(co[245]="".split(""),hs=0;hs!=co[245].length;++hs)co[245][hs].charCodeAt(0)!==65533&&(lo[co[245][hs]]=62720+hs,cs[62720+hs]=co[245][hs]);for(co[246]="".split(""),hs=0;hs!=co[246].length;++hs)co[246][hs].charCodeAt(0)!==65533&&(lo[co[246][hs]]=62976+hs,cs[62976+hs]=co[246][hs]);for(co[247]="".split(""),hs=0;hs!=co[247].length;++hs)co[247][hs].charCodeAt(0)!==65533&&(lo[co[247][hs]]=63232+hs,cs[63232+hs]=co[247][hs]);return{enc:lo,dec:cs}}(),is[10029]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[10079]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[10081]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),is[28591]=function(){for(var cs=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,lo=[],co={},hs=0;hs!=cs.length;++hs)cs.charCodeAt(hs)!==65533&&(co[cs.charAt(hs)]=hs),lo[hs]=cs.charAt(hs);return{enc:co,dec:lo}}(),us.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"&&(us.exports=is);/*! cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */(function(cs,lo){if(typeof is>"u")if(typeof commonjsRequire<"u"){var co=is;us.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"?us.exports=lo(co):cs.cptable=lo(co)}else throw new Error("cptable not found");else is=lo(is)})(commonjsGlobal,function(cs){var lo={1200:"utf16le",1201:"utf16be",12e3:"utf32le",12001:"utf32be",16969:"utf64le",20127:"ascii",65e3:"utf7",65001:"utf8"},co=[874,1250,1251,1252,1253,1254,1255,1256,1e4],hs=[932,936,949,950],uo=[65001],xa={},ba={},$a={},wl={},Sl=function(uu){return String.fromCharCode(uu)},Cl=function(uu){return uu.charCodeAt(0)},_l=typeof Buffer<"u",Il=function(){};if(_l){var Fl=!Buffer.from;if(!Fl)try{Buffer.from("foo","utf8")}catch{Fl=!0}Il=Fl?function(mu,uu){return uu?new Buffer(mu,uu):new Buffer(mu)}:Buffer.from.bind(Buffer),Buffer.allocUnsafe||(Buffer.allocUnsafe=function(mu){return new Buffer(mu)});var Ml=1024,Tl=Buffer.allocUnsafe(Ml),Dl=function(uu){for(var cu=Buffer.allocUnsafe(65536),ru=0;ru<65536;++ru)cu[ru]=0;for(var Yl=Object.keys(uu),Hl=Yl.length,Kl=0,_c=Yl[Kl];Kl<Hl;++Kl)(_c=Yl[Kl])&&(cu[_c.charCodeAt(0)]=uu[_c]);return cu},Bl=function(uu){var cu=Dl(cs[uu].enc);return function(Yl,Hl){var Kl=Yl.length,_c,Ql=0,su=0,gu=0,Cu=0;if(typeof Yl=="string")for(_c=Buffer.allocUnsafe(Kl),Ql=0;Ql<Kl;++Ql)_c[Ql]=cu[Yl.charCodeAt(Ql)];else if(Buffer.isBuffer(Yl)){for(_c=Buffer.allocUnsafe(2*Kl),su=0,Ql=0;Ql<Kl;++Ql)gu=Yl[Ql],gu<128?_c[su++]=cu[gu]:gu<224?(_c[su++]=cu[((gu&31)<<6)+(Yl[Ql+1]&63)],++Ql):gu<240?(_c[su++]=cu[((gu&15)<<12)+((Yl[Ql+1]&63)<<6)+(Yl[Ql+2]&63)],Ql+=2):(Cu=((gu&7)<<18)+((Yl[Ql+1]&63)<<12)+((Yl[Ql+2]&63)<<6)+(Yl[Ql+3]&63),Ql+=3,Cu<65536?_c[su++]=cu[Cu]:(Cu-=65536,_c[su++]=cu[55296+(Cu>>10&1023)],_c[su++]=cu[56320+(Cu&1023)]));_c=_c.slice(0,su)}else for(_c=Buffer.allocUnsafe(Kl),Ql=0;Ql<Kl;++Ql)_c[Ql]=cu[Yl[Ql].charCodeAt(0)];return!Hl||Hl==="buf"?_c:Hl!=="arr"?_c.toString("binary"):[].slice.call(_c)}},Ll=function(uu){var cu=cs[uu].dec,ru=Buffer.allocUnsafe(131072),Yl=0,Hl="";for(Yl=0;Yl<cu.length;++Yl)if(Hl=cu[Yl]){var Kl=Hl.charCodeAt(0);ru[2*Yl]=Kl&255,ru[2*Yl+1]=Kl>>8}return function(Ql){var su=Ql.length,gu=0,Cu=0;if(2*su>Ml&&(Ml=2*su,Tl=Buffer.allocUnsafe(Ml)),Buffer.isBuffer(Ql))for(gu=0;gu<su;gu++)Cu=2*Ql[gu],Tl[2*gu]=ru[Cu],Tl[2*gu+1]=ru[Cu+1];else if(typeof Ql=="string")for(gu=0;gu<su;gu++)Cu=2*Ql.charCodeAt(gu),Tl[2*gu]=ru[Cu],Tl[2*gu+1]=ru[Cu+1];else for(gu=0;gu<su;gu++)Cu=2*Ql[gu],Tl[2*gu]=ru[Cu],Tl[2*gu+1]=ru[Cu+1];return Tl.slice(0,2*su).toString("ucs2")}},Nl=function(uu){for(var cu=cs[uu].enc,ru=Buffer.allocUnsafe(131072),Yl=0;Yl<131072;++Yl)ru[Yl]=0;for(var Hl=Object.keys(cu),Kl=0,_c=Hl[Kl];Kl<Hl.length;++Kl)if(_c=Hl[Kl]){var Ql=_c.charCodeAt(0);ru[2*Ql]=cu[_c]&255,ru[2*Ql+1]=cu[_c]>>8}return function(gu,Cu){var vu=gu.length,fu=Buffer.allocUnsafe(2*vu),Fu=0,_f=0,Xu=0,Gu=0,Uu=0;if(typeof gu=="string"){for(Fu=Gu=0;Fu<vu;++Fu)_f=gu.charCodeAt(Fu)*2,fu[Gu++]=ru[_f+1]||ru[_f],ru[_f+1]>0&&(fu[Gu++]=ru[_f]);fu=fu.slice(0,Gu)}else if(Buffer.isBuffer(gu)){for(Fu=Gu=0;Fu<vu;++Fu)Uu=gu[Fu],Uu<128?_f=Uu:Uu<224?(_f=((Uu&31)<<6)+(gu[Fu+1]&63),++Fu):Uu<240?(_f=((Uu&15)<<12)+((gu[Fu+1]&63)<<6)+(gu[Fu+2]&63),Fu+=2):(_f=((Uu&7)<<18)+((gu[Fu+1]&63)<<12)+((gu[Fu+2]&63)<<6)+(gu[Fu+3]&63),Fu+=3),_f<65536?(_f*=2,fu[Gu++]=ru[_f+1]||ru[_f],ru[_f+1]>0&&(fu[Gu++]=ru[_f])):(Xu=_f-65536,_f=2*(55296+(Xu>>10&1023)),fu[Gu++]=ru[_f+1]||ru[_f],ru[_f+1]>0&&(fu[Gu++]=ru[_f]),_f=2*(56320+(Xu&1023)),fu[Gu++]=ru[_f+1]||ru[_f],ru[_f+1]>0&&(fu[Gu++]=ru[_f]));fu=fu.slice(0,Gu)}else for(Fu=Gu=0;Fu<vu;Fu++)_f=gu[Fu].charCodeAt(0)*2,fu[Gu++]=ru[_f+1]||ru[_f],ru[_f+1]>0&&(fu[Gu++]=ru[_f]);return!Cu||Cu==="buf"?fu:Cu!=="arr"?fu.toString("binary"):[].slice.call(fu)}},zl=function(uu){var cu=cs[uu].dec,ru=Buffer.allocUnsafe(131072),Yl=0,Hl,Kl=0,_c=0,Ql=0;for(Ql=0;Ql<65536;++Ql)ru[2*Ql]=255,ru[2*Ql+1]=253;for(Yl=0;Yl<cu.length;++Yl)(Hl=cu[Yl])&&(Kl=Hl.charCodeAt(0),_c=2*Yl,ru[_c]=Kl&255,ru[_c+1]=Kl>>8);return function(gu){var Cu=gu.length,vu=Buffer.allocUnsafe(2*Cu),fu=0,Fu=0,_f=0;if(Buffer.isBuffer(gu))for(fu=0;fu<Cu;fu++)Fu=2*gu[fu],ru[Fu]===255&&ru[Fu+1]===253&&(Fu=2*((gu[fu]<<8)+gu[fu+1]),++fu),vu[_f++]=ru[Fu],vu[_f++]=ru[Fu+1];else if(typeof gu=="string")for(fu=0;fu<Cu;fu++)Fu=2*gu.charCodeAt(fu),ru[Fu]===255&&ru[Fu+1]===253&&(Fu=2*((gu.charCodeAt(fu)<<8)+gu.charCodeAt(fu+1)),++fu),vu[_f++]=ru[Fu],vu[_f++]=ru[Fu+1];else for(fu=0;fu<Cu;fu++)Fu=2*gu[fu],ru[Fu]===255&&ru[Fu+1]===253&&(Fu=2*((gu[fu]<<8)+gu[fu+1]),++fu),vu[_f++]=ru[Fu],vu[_f++]=ru[Fu+1];return vu.slice(0,_f).toString("ucs2")}};xa[65001]=function mu(uu){if(typeof uu=="string")return mu(uu.split("").map(Cl));var cu=uu.length,ru=0,Yl=0;4*cu>Ml&&(Ml=4*cu,Tl=Buffer.allocUnsafe(Ml));var Hl=0;cu>=3&&uu[0]==239&&uu[1]==187&&uu[2]==191&&(Hl=3);for(var Kl=1,_c=0,Ql=0;Hl<cu;Hl+=Kl)Kl=1,Ql=uu[Hl],Ql<128?ru=Ql:Ql<224?(ru=(Ql&31)*64+(uu[Hl+1]&63),Kl=2):Ql<240?(ru=((Ql&15)<<12)+(uu[Hl+1]&63)*64+(uu[Hl+2]&63),Kl=3):(ru=(Ql&7)*262144+((uu[Hl+1]&63)<<12)+(uu[Hl+2]&63)*64+(uu[Hl+3]&63),Kl=4),ru<65536?(Tl[_c++]=ru&255,Tl[_c++]=ru>>8):(ru-=65536,Yl=55296+(ru>>10&1023),ru=56320+(ru&1023),Tl[_c++]=Yl&255,Tl[_c++]=Yl>>>8,Tl[_c++]=ru&255,Tl[_c++]=ru>>>8&255);return Tl.slice(0,_c).toString("ucs2")},ba[65001]=function(uu,cu){if(_l&&Buffer.isBuffer(uu))return!cu||cu==="buf"?uu:cu!=="arr"?uu.toString("binary"):[].slice.call(uu);var ru=uu.length,Yl=0,Hl=0,Kl=0,_c=typeof uu=="string";4*ru>Ml&&(Ml=4*ru,Tl=Buffer.allocUnsafe(Ml));for(var Ql=0;Ql<ru;++Ql)Yl=_c?uu.charCodeAt(Ql):uu[Ql].charCodeAt(0),Yl<=127?Tl[Kl++]=Yl:Yl<=2047?(Tl[Kl++]=192+(Yl>>6),Tl[Kl++]=128+(Yl&63)):Yl>=55296&&Yl<=57343?(Yl-=55296,++Ql,Hl=(_c?uu.charCodeAt(Ql):uu[Ql].charCodeAt(0))-56320+(Yl<<10),Tl[Kl++]=240+(Hl>>>18&7),Tl[Kl++]=144+(Hl>>>12&63),Tl[Kl++]=128+(Hl>>>6&63),Tl[Kl++]=128+(Hl&63)):(Tl[Kl++]=224+(Yl>>12),Tl[Kl++]=128+(Yl>>6&63),Tl[Kl++]=128+(Yl&63));return!cu||cu==="buf"?Tl.slice(0,Kl):cu!=="arr"?Tl.slice(0,Kl).toString("binary"):[].slice.call(Tl,0,Kl)}}var $l=function(){if(_l){if($a[co[0]])return;var uu=0,cu=0;for(uu=0;uu<co.length;++uu)cu=co[uu],cs[cu]&&($a[cu]=Ll(cu),wl[cu]=Bl(cu));for(uu=0;uu<hs.length;++uu)cu=hs[uu],cs[cu]&&($a[cu]=zl(cu),wl[cu]=Nl(cu));for(uu=0;uu<uo.length;++uu)cu=uo[uu],xa[cu]&&($a[cu]=xa[cu]),ba[cu]&&(wl[cu]=ba[cu])}},Vl=function(mu,uu){return""},Gl=function(uu){delete $a[uu],delete wl[uu]},iu=function(){if(_l){if(!$a[co[0]])return;co.forEach(Gl),hs.forEach(Gl),uo.forEach(Gl)}ju=Vl,zu=0},nu={encache:$l,decache:iu,sbcs:co,dbcs:hs};$l();var Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?",ju=Vl,zu=0,Wu=function mu(uu,cu,ru){if(uu===zu&&ju)return ju(cu,ru);if(wl[uu])return ju=wl[zu=uu],ju(cu,ru);_l&&Buffer.isBuffer(cu)&&(cu=cu.toString("utf8"));var Yl=cu.length,Hl=_l?Buffer.allocUnsafe(4*Yl):[],Kl=0,_c=0,Ql=0,su=0,gu=cs[uu],Cu,vu="",fu=typeof cu=="string";if(gu&&(Cu=gu.enc))for(_c=0;_c<Yl;++_c,++Ql)Kl=Cu[fu?cu.charAt(_c):cu[_c]],Kl>255?(Hl[Ql]=Kl>>8,Hl[++Ql]=Kl&255):Hl[Ql]=Kl&255;else if(vu=lo[uu])switch(vu){case"utf8":if(_l&&fu){Hl=Il(cu,vu),Ql=Hl.length;break}for(_c=0;_c<Yl;++_c,++Ql)Kl=fu?cu.charCodeAt(_c):cu[_c].charCodeAt(0),Kl<=127?Hl[Ql]=Kl:Kl<=2047?(Hl[Ql]=192+(Kl>>6),Hl[++Ql]=128+(Kl&63)):Kl>=55296&&Kl<=57343?(Kl-=55296,su=(fu?cu.charCodeAt(++_c):cu[++_c].charCodeAt(0))-56320+(Kl<<10),Hl[Ql]=240+(su>>>18&7),Hl[++Ql]=144+(su>>>12&63),Hl[++Ql]=128+(su>>>6&63),Hl[++Ql]=128+(su&63)):(Hl[Ql]=224+(Kl>>12),Hl[++Ql]=128+(Kl>>6&63),Hl[++Ql]=128+(Kl&63));break;case"ascii":if(_l&&typeof cu=="string"){Hl=Il(cu,vu),Ql=Hl.length;break}for(_c=0;_c<Yl;++_c,++Ql)if(Kl=fu?cu.charCodeAt(_c):cu[_c].charCodeAt(0),Kl<=127)Hl[Ql]=Kl;else throw new Error("bad ascii "+Kl);break;case"utf16le":if(_l&&typeof cu=="string"){Hl=Il(cu,vu),Ql=Hl.length;break}for(_c=0;_c<Yl;++_c)Kl=fu?cu.charCodeAt(_c):cu[_c].charCodeAt(0),Hl[Ql++]=Kl&255,Hl[Ql++]=Kl>>8;break;case"utf16be":for(_c=0;_c<Yl;++_c)Kl=fu?cu.charCodeAt(_c):cu[_c].charCodeAt(0),Hl[Ql++]=Kl>>8,Hl[Ql++]=Kl&255;break;case"utf32le":for(_c=0;_c<Yl;++_c)Kl=fu?cu.charCodeAt(_c):cu[_c].charCodeAt(0),Kl>=55296&&Kl<=57343&&(Kl=65536+(Kl-55296<<10)+(cu[++_c].charCodeAt(0)-56320)),Hl[Ql++]=Kl&255,Kl>>=8,Hl[Ql++]=Kl&255,Kl>>=8,Hl[Ql++]=Kl&255,Kl>>=8,Hl[Ql++]=Kl&255;break;case"utf32be":for(_c=0;_c<Yl;++_c)Kl=fu?cu.charCodeAt(_c):cu[_c].charCodeAt(0),Kl>=55296&&Kl<=57343&&(Kl=65536+(Kl-55296<<10)+(cu[++_c].charCodeAt(0)-56320)),Hl[Ql+3]=Kl&255,Kl>>=8,Hl[Ql+2]=Kl&255,Kl>>=8,Hl[Ql+1]=Kl&255,Kl>>=8,Hl[Ql]=Kl&255,Ql+=4;break;case"utf7":for(_c=0;_c<Yl;_c++){var Fu=fu?cu.charAt(_c):cu[_c].charAt(0);if(Fu==="+"){Hl[Ql++]=43,Hl[Ql++]=45;continue}if(lu.indexOf(Fu)>-1){Hl[Ql++]=Fu.charCodeAt(0);continue}var _f=mu(1201,Fu);Hl[Ql++]=43,Hl[Ql++]=Jl.charCodeAt(_f[0]>>2),Hl[Ql++]=Jl.charCodeAt(((_f[0]&3)<<4)+((_f[1]||0)>>4)),Hl[Ql++]=Jl.charCodeAt(((_f[1]&15)<<2)+((_f[2]||0)>>6)),Hl[Ql++]=45}break;default:throw new Error("Unsupported magic: "+uu+" "+lo[uu])}else throw new Error("Unrecognized CP: "+uu);return Hl=Hl.slice(0,Ql),_l?!ru||ru==="buf"?Hl:ru!=="arr"?Hl.toString("binary"):[].slice.call(Hl):ru=="str"?Hl.map(Sl).join(""):Hl},qu=function mu(uu,cu){var ru;if(ru=$a[uu])return ru(cu);if(typeof cu=="string")return mu(uu,cu.split("").map(Cl));var Yl=cu.length,Hl=new Array(Yl),Kl="",_c=0,Ql=0,su=1,gu=0,Cu=0,vu=cs[uu],fu,Fu="";if(vu&&(fu=vu.dec))for(Ql=0;Ql<Yl;Ql+=su){if(su=2,Kl=fu[(cu[Ql]<<8)+cu[Ql+1]],Kl||(su=1,Kl=fu[cu[Ql]]),!Kl)throw new Error("Unrecognized code: "+cu[Ql]+" "+cu[Ql+su-1]+" "+Ql+" "+su+" "+fu[cu[Ql]]);Hl[gu++]=Kl}else if(Fu=lo[uu])switch(Fu){case"utf8":for(Yl>=3&&cu[0]==239&&cu[1]==187&&cu[2]==191&&(Ql=3);Ql<Yl;Ql+=su)su=1,cu[Ql]<128?_c=cu[Ql]:cu[Ql]<224?(_c=(cu[Ql]&31)*64+(cu[Ql+1]&63),su=2):cu[Ql]<240?(_c=((cu[Ql]&15)<<12)+(cu[Ql+1]&63)*64+(cu[Ql+2]&63),su=3):(_c=(cu[Ql]&7)*262144+((cu[Ql+1]&63)<<12)+(cu[Ql+2]&63)*64+(cu[Ql+3]&63),su=4),_c<65536||(_c-=65536,Cu=55296+(_c>>10&1023),_c=56320+(_c&1023),Hl[gu++]=String.fromCharCode(Cu)),Hl[gu++]=String.fromCharCode(_c);break;case"ascii":if(_l&&Buffer.isBuffer(cu))return cu.toString(Fu);for(Ql=0;Ql<Yl;Ql++)Hl[Ql]=String.fromCharCode(cu[Ql]);gu=Yl;break;case"utf16le":if(Yl>=2&&cu[0]==255&&cu[1]==254&&(Ql=2),_l&&Buffer.isBuffer(cu))return cu.toString(Fu);for(su=2;Ql+1<Yl;Ql+=su)Hl[gu++]=String.fromCharCode((cu[Ql+1]<<8)+cu[Ql]);break;case"utf16be":for(Yl>=2&&cu[0]==254&&cu[1]==255&&(Ql=2),su=2;Ql+1<Yl;Ql+=su)Hl[gu++]=String.fromCharCode((cu[Ql]<<8)+cu[Ql+1]);break;case"utf32le":for(Yl>=4&&cu[0]==255&&cu[1]==254&&cu[2]===0&&cu[3]===0&&(Ql=4),su=4;Ql<Yl;Ql+=su)_c=(cu[Ql+3]<<24)+(cu[Ql+2]<<16)+(cu[Ql+1]<<8)+cu[Ql],_c>65535?(_c-=65536,Hl[gu++]=String.fromCharCode(55296+(_c>>10&1023)),Hl[gu++]=String.fromCharCode(56320+(_c&1023))):Hl[gu++]=String.fromCharCode(_c);break;case"utf32be":for(Yl>=4&&cu[3]==255&&cu[2]==254&&cu[1]===0&&cu[0]===0&&(Ql=4),su=4;Ql<Yl;Ql+=su)_c=(cu[Ql]<<24)+(cu[Ql+1]<<16)+(cu[Ql+2]<<8)+cu[Ql+3],_c>65535?(_c-=65536,Hl[gu++]=String.fromCharCode(55296+(_c>>10&1023)),Hl[gu++]=String.fromCharCode(56320+(_c&1023))):Hl[gu++]=String.fromCharCode(_c);break;case"utf7":for(Yl>=4&&cu[0]==43&&cu[1]==47&&cu[2]==118&&(Yl>=5&&cu[3]==56&&cu[4]==45?Ql=5:(cu[3]==56||cu[3]==57||cu[3]==43||cu[3]==47)&&(Ql=4));Ql<Yl;Ql+=su){if(cu[Ql]!==43){su=1,Hl[gu++]=String.fromCharCode(cu[Ql]);continue}if(su=1,cu[Ql+1]===45){su=2,Hl[gu++]="+";continue}for(;String.fromCharCode(cu[Ql+su]).match(/[A-Za-z0-9+\/]/);)su++;var _f=0;cu[Ql+su]===45&&(++su,_f=1);for(var Xu=[],Gu="",Uu=0,Au=0,Pu=0,Ou=0,ip=0,$u=0,np=0,Eu=1;Eu<su-_f&&(Ou=Jl.indexOf(String.fromCharCode(cu[Ql+Eu++])),ip=Jl.indexOf(String.fromCharCode(cu[Ql+Eu++])),Uu=Ou<<2|ip>>4,Xu.push(Uu),$u=Jl.indexOf(String.fromCharCode(cu[Ql+Eu++])),!($u===-1||(Au=(ip&15)<<4|$u>>2,Xu.push(Au),np=Jl.indexOf(String.fromCharCode(cu[Ql+Eu++])),np===-1)));)Pu=($u&3)<<6|np,np<64&&Xu.push(Pu);for(Gu=mu(1201,Xu),Eu=0;Eu<Gu.length;++Eu)Hl[gu++]=Gu.charAt(Eu)}break;default:throw new Error("Unsupported magic: "+uu+" "+lo[uu])}else throw new Error("Unrecognized CP: "+uu);return Hl.slice(0,gu).join("")},Mu=function(uu){return!!(cs[uu]||lo[uu])};return cs.utils={decode:qu,encode:Wu,hascp:Mu,magic:lo,cache:nu},cs})}(cpexcel)),cpexcel.exports}(function(us,is){var cs={};function lo(co){co.version="0.18.5",co.style_version="1.2.0";var hs,uo=1200,xa=1252;typeof cptable<"u"?hs=cptable:typeof commonjsRequire<"u"&&(hs=requireCpexcel());var ba=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],$a={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},wl=function(ga){ba.indexOf(ga)!=-1&&(xa=$a[0]=ga)},Sl=function(ga){wl(uo=ga)};function Cl(){Sl(1200),wl(1252)}function _l(ga){for(var yl=[],xl=0,El=ga.length;xl<El;++xl)yl[xl]=ga.charCodeAt(xl);return yl}function Il(ga){for(var yl=[],xl=0;xl<ga.length>>1;++xl)yl[xl]=String.fromCharCode(ga.charCodeAt(2*xl+1)+(ga.charCodeAt(2*xl)<<8));return yl.join("")}var Fl=function(ga){var yl=ga.charCodeAt(0),xl=ga.charCodeAt(1);return yl==255&&xl==254?function(El){for(var Al=[],Pl=0;Pl<El.length>>1;++Pl)Al[Pl]=String.fromCharCode(El.charCodeAt(2*Pl)+(El.charCodeAt(2*Pl+1)<<8));return Al.join("")}(ga.slice(2)):yl==254&&xl==255?Il(ga.slice(2)):yl==65279?ga.slice(1):ga},Ml=function(ga){return String.fromCharCode(ga)},Tl=function(ga){return String.fromCharCode(ga)};hs!==void 0&&(Sl=function(ga){wl(uo=ga)},Fl=function(ga){return ga.charCodeAt(0)===255&&ga.charCodeAt(1)===254?hs.utils.decode(1200,_l(ga.slice(2))):ga},Ml=function(ga){return uo===1200?String.fromCharCode(ga):hs.utils.decode(uo,[255&ga,ga>>8])[0]},Tl=function(ga){return hs.utils.decode(xa,[ga])[0]});var Dl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bl(ga){for(var yl,xl,El,Al,Pl,Rl="",Ol=0,Ul=0,Wl=0;Wl<ga.length;)Al=(yl=ga.charCodeAt(Wl++))>>2,Pl=(3&yl)<<4|(xl=ga.charCodeAt(Wl++))>>4,Ol=(15&xl)<<2|(El=ga.charCodeAt(Wl++))>>6,Ul=63&El,isNaN(xl)?Ol=Ul=64:isNaN(El)&&(Ul=64),Rl+=Dl.charAt(Al)+Dl.charAt(Pl)+Dl.charAt(Ol)+Dl.charAt(Ul);return Rl}function Ll(ga){var yl,xl,El,Al,Pl,Rl,Ol="";ga=ga.replace(/[^\w\+\/\=]/g,"");for(var Ul=0;Ul<ga.length;)yl=Dl.indexOf(ga.charAt(Ul++))<<2|(Al=Dl.indexOf(ga.charAt(Ul++)))>>4,Ol+=String.fromCharCode(yl),xl=(15&Al)<<4|(Pl=Dl.indexOf(ga.charAt(Ul++)))>>2,Pl!==64&&(Ol+=String.fromCharCode(xl)),El=(3&Pl)<<6|(Rl=Dl.indexOf(ga.charAt(Ul++))),Rl!==64&&(Ol+=String.fromCharCode(El));return Ol}var Nl=typeof Buffer<"u"&&typeof process$1<"u"&&process$1.versions!==void 0&&!!process$1.versions.node,zl=function(){if(typeof Buffer>"u")return function(){};var ga=!Buffer.from;if(!ga)try{Buffer.from("foo","utf8")}catch{ga=!0}return ga?function(yl,xl){return xl?new Buffer(yl,xl):new Buffer(yl)}:Buffer.from.bind(Buffer)}();function $l(ga){return Nl?Buffer.alloc?Buffer.alloc(ga):new Buffer(ga):new(typeof Uint8Array<"u"?Uint8Array:Array)(ga)}function Vl(ga){return Nl?Buffer.allocUnsafe?Buffer.allocUnsafe(ga):new Buffer(ga):new(typeof Uint8Array<"u"?Uint8Array:Array)(ga)}var Gl=function(ga){return Nl?zl(ga,"binary"):ga.split("").map(function(yl){return 255&yl.charCodeAt(0)})};function iu(ga){if(typeof ArrayBuffer>"u")return Gl(ga);for(var yl=new ArrayBuffer(ga.length),xl=new Uint8Array(yl),El=0;El!=ga.length;++El)xl[El]=255&ga.charCodeAt(El);return yl}function nu(ga){if(Array.isArray(ga))return ga.map(function(El){return String.fromCharCode(El)}).join("");for(var yl=[],xl=0;xl<ga.length;++xl)yl[xl]=String.fromCharCode(ga[xl]);return yl.join("")}function Jl(ga){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(ga instanceof ArrayBuffer)return Jl(new Uint8Array(ga));for(var yl=new Array(ga.length),xl=0;xl<ga.length;++xl)yl[xl]=ga[xl];return yl}var lu=Nl?function(ga){return Buffer.concat(ga.map(function(yl){return Buffer.isBuffer(yl)?yl:zl(yl)}))}:function(ga){if(typeof Uint8Array>"u")return[].concat.apply([],ga.map(function(Pl){return Array.isArray(Pl)?Pl:[].slice.call(Pl)}));for(var xl=0,yl=0,xl=0;xl<ga.length;++xl)yl+=ga[xl].length;for(var El,Al=new Uint8Array(yl),yl=xl=0;xl<ga.length;yl+=El,++xl)if(El=ga[xl].length,ga[xl]instanceof Uint8Array)Al.set(ga[xl],yl);else{if(typeof ga[xl]=="string")throw"wtf";Al.set(new Uint8Array(ga[xl]),yl)}return Al},ju=/\u0000/g,zu=/[\u0001-\u0006]/g;function Wu(ga){for(var yl="",xl=ga.length-1;0<=xl;)yl+=ga.charAt(xl--);return yl}function qu(ga,yl){return ga=""+ga,yl<=ga.length?ga:P0("0",yl-ga.length)+ga}function Mu(ga,yl){return ga=""+ga,yl<=ga.length?ga:P0(" ",yl-ga.length)+ga}function mu(ga,yl){return ga=""+ga,yl<=ga.length?ga:ga+P0(" ",yl-ga.length)}var uu=Math.pow(2,32);function cu(Al,yl){if(uu<Al||Al<-uu)return xl=Al,El=yl,xl=""+Math.round(xl),El<=xl.length?xl:P0("0",El-xl.length)+xl;var xl,El,Al=Math.round(Al);return(yl=yl)<=(Al=""+(Al=Al)).length?Al:P0("0",yl-Al.length)+Al}function ru(ga,yl){return yl=yl||0,ga.length>=7+yl&&(32|ga.charCodeAt(yl))==103&&(32|ga.charCodeAt(yl+1))==101&&(32|ga.charCodeAt(yl+2))==110&&(32|ga.charCodeAt(yl+3))==101&&(32|ga.charCodeAt(yl+4))==114&&(32|ga.charCodeAt(yl+5))==97&&(32|ga.charCodeAt(yl+6))==108}var Yl=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Hl=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Kl={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_c={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ql={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function su(ga,yl,xl){for(var El=ga<0?-1:1,Al=ga*El,Pl=0,Rl=1,Ol=0,Ul=1,Wl=0,Xl=0,ou=Math.floor(Al);Wl<yl&&(Ol=(ou=Math.floor(Al))*Rl+Pl,Xl=ou*Wl+Ul,!(Al-ou<5e-8));)Al=1/(Al-ou),Pl=Rl,Rl=Ol,Ul=Wl,Wl=Xl;return yl<Xl&&(Ol=yl<Wl?(Xl=Ul,Pl):(Xl=Wl,Rl)),xl?(xl=Math.floor(El*Ol/Xl),[xl,El*Ol-xl*Xl,Xl]):[0,El*Ol,Xl]}function gu(Ol,yl,xl){if(2958465<Ol||Ol<0)return null;var El=0|Ol,Al=Math.floor(86400*(Ol-El)),Pl=0,Rl=[],Ol={D:El,T:Al,u:86400*(Ol-El)-Al,y:0,m:0,d:0,H:0,M:0,S:0,q:0};return Math.abs(Ol.u)<1e-6&&(Ol.u=0),yl&&yl.date1904&&(El+=1462),.9999<Ol.u&&(Ol.u=0,++Al==86400&&(Ol.T=Al=0,++El,++Ol.D)),El===60?(Rl=xl?[1317,10,29]:[1900,2,29],Pl=3):El===0?(Rl=xl?[1317,8,29]:[1900,1,0],Pl=6):(60<El&&--El,(yl=new Date(1900,0,1)).setDate(yl.getDate()+El-1),Rl=[yl.getFullYear(),yl.getMonth()+1,yl.getDate()],Pl=yl.getDay(),El<60&&(Pl=(Pl+6)%7),xl&&(Pl=function(Ul,Wl){return Wl[0]-=581,Wl=Ul.getDay(),Ul<60&&(Wl=(Wl+6)%7),Wl}(yl,Rl))),Ol.y=Rl[0],Ol.m=Rl[1],Ol.d=Rl[2],Ol.S=Al%60,Al=Math.floor(Al/60),Ol.M=Al%60,Al=Math.floor(Al/60),Ol.H=Al,Ol.q=Pl,Ol}var Cu=new Date(1899,11,31,0,0,0),vu=Cu.getTime(),fu=new Date(1900,2,1,0,0,0);function Fu(ga,yl){var xl=ga.getTime();return yl?xl-=1262304e5:fu<=ga&&(xl+=864e5),(xl-(vu+6e4*(ga.getTimezoneOffset()-Cu.getTimezoneOffset())))/864e5}function _f(ga){return ga.indexOf(".")==-1?ga:ga.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Xu(ga){var yl,xl,El,Al=Math.floor(Math.log(Math.abs(ga))*Math.LOG10E),Pl=-4<=Al&&Al<=-1?ga.toPrecision(10+Al):Math.abs(Al)<=9?(xl=(yl=ga)<0?12:11,(El=_f(yl.toFixed(12))).length<=xl||(El=yl.toPrecision(10)).length<=xl?El:yl.toExponential(5)):Al===10?ga.toFixed(10).substr(0,12):(Pl=_f((ga=ga).toFixed(11))).length>(ga<0?12:11)||Pl==="0"||Pl==="-0"?ga.toPrecision(6):Pl;return _f((Pl=Pl.toUpperCase()).indexOf("E")==-1?Pl:Pl.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2"))}function Gu(ga,yl){switch(typeof ga){case"string":return ga;case"boolean":return ga?"TRUE":"FALSE";case"number":return(0|ga)===ga?ga.toString(10):Xu(ga);case"undefined":return"";case"object":if(ga==null)return"";if(ga instanceof Date)return Vu(14,Fu(ga,yl&&yl.date1904),yl)}throw new Error("unsupported value in General format: "+ga)}function Uu(ga){if(ga.length<=3)return ga;for(var yl=ga.length%3,xl=ga.substr(0,yl);yl!=ga.length;yl+=3)xl+=(0<xl.length?",":"")+ga.substr(yl,3);return xl}var Au=/%/g,Pu=/# (\?+)( ?)\/( ?)(\d+)/,Ou=/^#*0*\.([0#]+)/,ip=/\).*[0#]/,$u=/\(###\) ###\\?-####/;function np(ga){for(var yl,xl="",El=0;El!=ga.length;++El)switch(yl=ga.charCodeAt(El)){case 35:break;case 63:xl+=" ";break;case 48:xl+="0";break;default:xl+=String.fromCharCode(yl)}return xl}function Eu(ga,yl){return yl=Math.pow(10,yl),""+Math.round(ga*yl)/yl}function Lu(El,yl){var xl=El-Math.floor(El),El=Math.pow(10,yl);return yl<(""+Math.round(xl*El)).length?0:Math.round(xl*El)}function up(ga,yl,xl){if(ga.charCodeAt(0)===40&&!yl.match(ip)){var El=yl.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=xl?up("n",El,xl):"("+up("n",El,-xl)+")"}if(yl.charCodeAt(yl.length-1)===44)return function(Su,Yu,ep){for(var rp=Yu.length-1;Yu.charCodeAt(rp-1)===44;)--rp;return Rp(Su,Yu.substr(0,rp),ep/Math.pow(10,3*(Yu.length-rp)))}(ga,yl,xl);if(yl.indexOf("%")!==-1)return Ol=ga,Wl=xl,Ul=(Xl=yl).replace(Au,""),Xl=Xl.length-Ul.length,Rp(Ol,Ul,Wl*Math.pow(10,2*Xl))+P0("%",Xl);var Al;if(yl.indexOf("E")!==-1)return function Su(Yu,ep){var rp,bp=Yu.indexOf("E")-Yu.indexOf(".")-1;if(Yu.match(/^#+0.0E\+0$/)){if(ep==0)return"0.0E+0";if(ep<0)return"-"+Su(Yu,-ep);var jp=Yu.indexOf(".");jp===-1&&(jp=Yu.indexOf("E"));var Ap=Math.floor(Math.log(ep)*Math.LOG10E)%jp;if(Ap<0&&(Ap+=jp),(rp=(ep/Math.pow(10,Ap)).toPrecision(1+bp+(jp+Ap)%jp)).indexOf("e")===-1){var $p=Math.floor(Math.log(ep)*Math.LOG10E);for(rp.indexOf(".")===-1?rp=rp.charAt(0)+"."+rp.substr(1)+"E+"+($p-rp.length+Ap):rp+="E+"+($p-Ap);rp.substr(0,2)==="0.";)rp=(rp=rp.charAt(0)+rp.substr(2,jp)+"."+rp.substr(2+jp)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");rp=rp.replace(/\+-/,"-")}rp=rp.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e0,t0,Vp,h0){return t0+Vp+h0.substr(0,(jp+Ap)%jp)+"."+h0.substr(Ap)+"E"})}else rp=ep.toExponential(bp);return Yu.match(/E\+00$/)&&rp.match(/e[+-]\d$/)&&(rp=rp.substr(0,rp.length-1)+"0"+rp.charAt(rp.length-1)),(rp=Yu.match(/E\-/)&&rp.match(/e\+/)?rp.replace(/e\+/,"e"):rp).replace("e","E")}(yl,xl);if(yl.charCodeAt(0)===36)return"$"+up(ga,yl.substr(yl.charAt(1)==" "?2:1),xl);var Pl,Rl,Ol,Ul,Wl,Xl,ou,au=Math.abs(xl),du=xl<0?"-":"";if(yl.match(/^00+$/))return du+cu(au,yl.length);if(yl.match(/^[#?]+$/))return(Al=(Al=cu(xl,0))==="0"?"":Al).length>yl.length?Al:np(yl.substr(0,yl.length-Al.length))+Al;if(Pl=yl.match(Pu))return ou=Pl,Ol=au,Ul=du,Wl=parseInt(ou[4],10),Xl=Math.round(Ol*Wl),Ol=Math.floor(Xl/Wl),Ul+(Ol===0?"":""+Ol)+" "+((Xl-=Ol*Wl)==0?P0(" ",ou[1].length+1+ou[4].length):Mu(Xl,ou[1].length)+ou[2]+"/"+ou[3]+qu(Wl,ou[4].length));if(yl.match(/^#+0+$/))return du+cu(au,yl.length-yl.indexOf("0"));if(Pl=yl.match(Ou))return Al=Eu(xl,Pl[1].length).replace(/^([^\.]+)$/,"$1."+np(Pl[1])).replace(/\.$/,"."+np(Pl[1])).replace(/\.(\d*)$/,function(Su,Yu){return"."+Yu+P0("0",np(Pl[1]).length-Yu.length)}),yl.indexOf("0.")!==-1?Al:Al.replace(/^0\./,".");if(yl=yl.replace(/^#+([0.])/,"$1"),Pl=yl.match(/^(0*)\.(#*)$/))return du+Eu(au,Pl[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Pl[1].length?"0.":".");if(Pl=yl.match(/^#{1,3},##0(\.?)$/))return du+Uu(cu(au,0));if(Pl=yl.match(/^#,##0\.([#0]*0)$/))return xl<0?"-"+up(ga,yl,-xl):Uu(""+(Math.floor(xl)+(ou=xl,(Du=Pl[1].length)<(""+Math.round((ou-Math.floor(ou))*Math.pow(10,Du))).length?1:0)))+"."+qu(Lu(xl,Pl[1].length),Pl[1].length);if(Pl=yl.match(/^#,#*,#0/))return up(ga,yl.replace(/^#,#*,/,""),xl);if(Pl=yl.match(/^([0#]+)(\\?-([0#]+))+$/))return Al=Wu(up(ga,yl.replace(/[\\-]/g,""),xl)),Rl=0,Wu(Wu(yl.replace(/\\/g,"")).replace(/[0#]/g,function(Su){return Rl<Al.length?Al.charAt(Rl++):Su==="0"?"0":""}));if(yl.match($u))return"("+(Al=up(ga,"##########",xl)).substr(0,3)+") "+Al.substr(3,3)+"-"+Al.substr(6);var Du="";if(Pl=yl.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Rl=Math.min(Pl[4].length,7),xu=su(au,Math.pow(10,Rl)-1,!1),Al=du,(Du=Rp("n",Pl[1],xu[1])).charAt(Du.length-1)==" "&&(Du=Du.substr(0,Du.length-1)+"0"),Al+=Du+Pl[2]+"/"+Pl[3],(Du=mu(xu[2],Rl)).length<Pl[4].length&&(Du=np(Pl[4].substr(Pl[4].length-Du.length))+Du),Al+=Du;if(Pl=yl.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Rl=Math.min(Math.max(Pl[1].length,Pl[4].length),7),du+((xu=su(au,Math.pow(10,Rl)-1,!0))[0]||(xu[1]?"":"0"))+" "+(xu[1]?Mu(xu[1],Rl)+Pl[2]+"/"+Pl[3]+mu(xu[2],Rl):P0(" ",2*Rl+1+Pl[2].length+Pl[3].length));if(Pl=yl.match(/^[#0?]+$/))return Al=cu(xl,0),yl.length<=Al.length?Al:np(yl.substr(0,yl.length-Al.length))+Al;if(Pl=yl.match(/^([#0?]+)\.([#0]+)$/)){Al=""+xl.toFixed(Math.min(Pl[2].length,10)).replace(/([^0])0+$/,"$1"),Rl=Al.indexOf(".");var xu=yl.indexOf(".")-Rl,Qu=yl.length-Al.length-xu;return np(yl.substr(0,xu)+Al+yl.substr(yl.length-Qu))}if(Pl=yl.match(/^00,000\.([#0]*0)$/))return Rl=Lu(xl,Pl[1].length),xl<0?"-"+up(ga,yl,-xl):Uu((Qu=xl)<2147483647&&-2147483648<Qu?""+(0<=Qu?0|Qu:Qu-1|0):""+Math.floor(Qu)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Su){return"00,"+(Su.length<3?qu(0,3-Su.length):"")+Su})+"."+qu(Rl,Pl[1].length);switch(yl){case"###,##0.00":return up(ga,"#,##0.00",xl);case"###,###":case"##,###":case"#,###":var Bu=Uu(cu(au,0));return Bu!=="0"?du+Bu:"";case"###,###.00":return up(ga,"###,##0.00",xl).replace(/^0\./,".");case"#,###.00":return up(ga,"#,##0.00",xl).replace(/^0\./,".")}throw new Error("unsupported format |"+yl+"|")}function mp(ga,yl,xl){if(ga.charCodeAt(0)===40&&!yl.match(ip)){var El=yl.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=xl?mp("n",El,xl):"("+mp("n",El,-xl)+")"}if(yl.charCodeAt(yl.length-1)===44)return function(xu,Qu,Bu){for(var Su=Qu.length-1;Qu.charCodeAt(Su-1)===44;)--Su;return Rp(xu,Qu.substr(0,Su),Bu/Math.pow(10,3*(Qu.length-Su)))}(ga,yl,xl);if(yl.indexOf("%")!==-1)return Al=ga,Rl=xl,El=(Pl=yl).replace(Au,""),Pl=Pl.length-El.length,Rp(Al,El,Rl*Math.pow(10,2*Pl))+P0("%",Pl);var Al,Pl,Rl,Ol;if(yl.indexOf("E")!==-1)return function xu(Qu,Bu){var Su,Yu=Qu.indexOf("E")-Qu.indexOf(".")-1;if(Qu.match(/^#+0.0E\+0$/)){if(Bu==0)return"0.0E+0";if(Bu<0)return"-"+xu(Qu,-Bu);var ep=Qu.indexOf(".");ep===-1&&(ep=Qu.indexOf("E"));var rp,bp=Math.floor(Math.log(Bu)*Math.LOG10E)%ep;bp<0&&(bp+=ep),(Su=(Bu/Math.pow(10,bp)).toPrecision(1+Yu+(ep+bp)%ep)).match(/[Ee]/)||(rp=Math.floor(Math.log(Bu)*Math.LOG10E),Su.indexOf(".")===-1?Su=Su.charAt(0)+"."+Su.substr(1)+"E+"+(rp-Su.length+bp):Su+="E+"+(rp-bp),Su=Su.replace(/\+-/,"-")),Su=Su.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(jp,Ap,$p,e0){return Ap+$p+e0.substr(0,(ep+bp)%ep)+"."+e0.substr(bp)+"E"})}else Su=Bu.toExponential(Yu);return Qu.match(/E\+00$/)&&Su.match(/e[+-]\d$/)&&(Su=Su.substr(0,Su.length-1)+"0"+Su.charAt(Su.length-1)),(Su=Qu.match(/E\-/)&&Su.match(/e\+/)?Su.replace(/e\+/,"e"):Su).replace("e","E")}(yl,xl);if(yl.charCodeAt(0)===36)return"$"+mp(ga,yl.substr(yl.charAt(1)==" "?2:1),xl);var Ul,Wl,Xl=Math.abs(xl),ou=xl<0?"-":"";if(yl.match(/^00+$/))return ou+qu(Xl,yl.length);if(yl.match(/^[#?]+$/))return(Ol=xl===0?"":""+xl).length>yl.length?Ol:np(yl.substr(0,yl.length-Ol.length))+Ol;if(Ul=yl.match(Pu))return ou+((au=Xl)===0?"":""+au)+P0(" ",(au=Ul)[1].length+2+au[4].length);if(yl.match(/^#+0+$/))return ou+qu(Xl,yl.length-yl.indexOf("0"));if(Ul=yl.match(Ou))return Ol=(Ol=(""+xl).replace(/^([^\.]+)$/,"$1."+np(Ul[1])).replace(/\.$/,"."+np(Ul[1]))).replace(/\.(\d*)$/,function(xu,Qu){return"."+Qu+P0("0",np(Ul[1]).length-Qu.length)}),yl.indexOf("0.")!==-1?Ol:Ol.replace(/^0\./,".");if(yl=yl.replace(/^#+([0.])/,"$1"),Ul=yl.match(/^(0*)\.(#*)$/))return ou+(""+Xl).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Ul[1].length?"0.":".");if(Ul=yl.match(/^#{1,3},##0(\.?)$/))return ou+Uu(""+Xl);if(Ul=yl.match(/^#,##0\.([#0]*0)$/))return xl<0?"-"+mp(ga,yl,-xl):Uu(""+xl)+"."+P0("0",Ul[1].length);if(Ul=yl.match(/^#,#*,#0/))return mp(ga,yl.replace(/^#,#*,/,""),xl);if(Ul=yl.match(/^([0#]+)(\\?-([0#]+))+$/))return Ol=Wu(mp(ga,yl.replace(/[\\-]/g,""),xl)),Wl=0,Wu(Wu(yl.replace(/\\/g,"")).replace(/[0#]/g,function(xu){return Wl<Ol.length?Ol.charAt(Wl++):xu==="0"?"0":""}));if(yl.match($u))return"("+(Ol=mp(ga,"##########",xl)).substr(0,3)+") "+Ol.substr(3,3)+"-"+Ol.substr(6);var au="";if(Ul=yl.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return Wl=Math.min(Ul[4].length,7),du=su(Xl,Math.pow(10,Wl)-1,!1),Ol=ou,(au=Rp("n",Ul[1],du[1])).charAt(au.length-1)==" "&&(au=au.substr(0,au.length-1)+"0"),Ol+=au+Ul[2]+"/"+Ul[3],(au=mu(du[2],Wl)).length<Ul[4].length&&(au=np(Ul[4].substr(Ul[4].length-au.length))+au),Ol+=au;if(Ul=yl.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return Wl=Math.min(Math.max(Ul[1].length,Ul[4].length),7),ou+((du=su(Xl,Math.pow(10,Wl)-1,!0))[0]||(du[1]?"":"0"))+" "+(du[1]?Mu(du[1],Wl)+Ul[2]+"/"+Ul[3]+mu(du[2],Wl):P0(" ",2*Wl+1+Ul[2].length+Ul[3].length));if(Ul=yl.match(/^[#0?]+$/))return Ol=""+xl,yl.length<=Ol.length?Ol:np(yl.substr(0,yl.length-Ol.length))+Ol;if(Ul=yl.match(/^([#0]+)\.([#0]+)$/)){Ol=""+xl.toFixed(Math.min(Ul[2].length,10)).replace(/([^0])0+$/,"$1"),Wl=Ol.indexOf(".");var au=yl.indexOf(".")-Wl,du=yl.length-Ol.length-au;return np(yl.substr(0,au)+Ol+yl.substr(yl.length-du))}if(Ul=yl.match(/^00,000\.([#0]*0)$/))return xl<0?"-"+mp(ga,yl,-xl):Uu(""+xl).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(xu){return"00,"+(xu.length<3?qu(0,3-xu.length):"")+xu})+"."+qu(0,Ul[1].length);switch(yl){case"###,###":case"##,###":case"#,###":var Du=Uu(""+Xl);return Du!=="0"?ou+Du:"";default:if(yl.match(/\.[0#?]*$/))return mp(ga,yl.slice(0,yl.lastIndexOf(".")),xl)+np(yl.slice(yl.lastIndexOf(".")))}throw new Error("unsupported format |"+yl+"|")}function Rp(ga,yl,xl){return((0|xl)===xl?mp:up)(ga,yl,xl)}var kp=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function hu(ga){for(var yl=0,xl="",El="";yl<ga.length;)switch(xl=ga.charAt(yl)){case"G":ru(ga,yl)&&(yl+=6),yl++;break;case'"':for(;ga.charCodeAt(++yl)!==34&&yl<ga.length;);++yl;break;case"\\":case"_":yl+=2;break;case"@":++yl;break;case"B":case"b":if(ga.charAt(yl+1)==="1"||ga.charAt(yl+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(ga.substr(yl,3).toUpperCase()==="A/P"||ga.substr(yl,5).toUpperCase()==="AM/PM"||ga.substr(yl,5).toUpperCase()==="/")return!0;++yl;break;case"[":for(El=xl;ga.charAt(yl++)!=="]"&&yl<ga.length;)El+=ga.charAt(yl);if(El.match(kp))return!0;break;case".":case"0":case"#":for(;yl<ga.length&&(-1<"0#?.,E+-%".indexOf(xl=ga.charAt(++yl))||xl=="\\"&&ga.charAt(yl+1)=="-"&&-1<"0#".indexOf(ga.charAt(yl+2))););break;case"?":for(;ga.charAt(++yl)===xl;);break;case"*":++yl,ga.charAt(yl)!=" "&&ga.charAt(yl)!="*"||++yl;break;case"(":case")":++yl;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;yl<ga.length&&-1<"0123456789".indexOf(ga.charAt(++yl)););break;case" ":default:++yl}return!1}function Zl(ga,yl,xl,El){for(var Al,Pl,Rl,Ol=[],Ul="",Wl=0,Xl="",ou="t",au="H";Wl<ga.length;)switch(Xl=ga.charAt(Wl)){case"G":if(!ru(ga,Wl))throw new Error("unrecognized character "+Xl+" in "+ga);Ol[Ol.length]={t:"G",v:"General"},Wl+=7;break;case'"':for(Ul="";(Rl=ga.charCodeAt(++Wl))!==34&&Wl<ga.length;)Ul+=String.fromCharCode(Rl);Ol[Ol.length]={t:"t",v:Ul},++Wl;break;case"\\":var du=ga.charAt(++Wl),Du=du==="("||du===")"?du:"t";Ol[Ol.length]={t:Du,v:du},++Wl;break;case"_":Ol[Ol.length]={t:"t",v:" "},Wl+=2;break;case"@":Ol[Ol.length]={t:"T",v:yl},++Wl;break;case"B":case"b":if(ga.charAt(Wl+1)==="1"||ga.charAt(Wl+1)==="2"){if(Al==null&&(Al=gu(yl,xl,ga.charAt(Wl+1)==="2"))==null)return"";Ol[Ol.length]={t:"X",v:ga.substr(Wl,2)},ou=Xl,Wl+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":Xl=Xl.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(yl<0||Al==null&&(Al=gu(yl,xl))==null)return"";for(Ul=Xl;++Wl<ga.length&&ga.charAt(Wl).toLowerCase()===Xl;)Ul+=Xl;(Xl=Xl==="m"&&ou.toLowerCase()==="h"?"M":Xl)==="h"&&(Xl=au),Ol[Ol.length]={t:Xl,v:Ul},ou=Xl;break;case"A":case"a":case"":if(du={t:Xl,v:Xl},Al==null&&(Al=gu(yl,xl)),ga.substr(Wl,3).toUpperCase()==="A/P"?(Al!=null&&(du.v=12<=Al.H?"P":"A"),du.t="T",au="h",Wl+=3):ga.substr(Wl,5).toUpperCase()==="AM/PM"?(Al!=null&&(du.v=12<=Al.H?"PM":"AM"),du.t="T",Wl+=5,au="h"):ga.substr(Wl,5).toUpperCase()==="/"?(Al!=null&&(du.v=12<=Al.H?"":""),du.t="T",Wl+=5,au="h"):(du.t="t",++Wl),Al==null&&du.t==="T")return"";Ol[Ol.length]=du,ou=Xl;break;case"[":for(Ul=Xl;ga.charAt(Wl++)!=="]"&&Wl<ga.length;)Ul+=ga.charAt(Wl);if(Ul.slice(-1)!=="]")throw'unterminated "[" block: |'+Ul+"|";if(Ul.match(kp)){if(Al==null&&(Al=gu(yl,xl))==null)return"";Ol[Ol.length]={t:"Z",v:Ul.toLowerCase()},ou=Ul.charAt(1)}else-1<Ul.indexOf("$")&&(Ul=(Ul.match(/\$([^-\[\]]*)/)||[])[1]||"$",hu(ga)||(Ol[Ol.length]={t:"t",v:Ul}));break;case".":if(Al!=null){for(Ul=Xl;++Wl<ga.length&&(Xl=ga.charAt(Wl))==="0";)Ul+=Xl;Ol[Ol.length]={t:"s",v:Ul};break}case"0":case"#":for(Ul=Xl;++Wl<ga.length&&-1<"0#?.,E+-%".indexOf(Xl=ga.charAt(Wl));)Ul+=Xl;Ol[Ol.length]={t:"n",v:Ul};break;case"?":for(Ul=Xl;ga.charAt(++Wl)===Xl;)Ul+=Xl;Ol[Ol.length]={t:Xl,v:Ul},ou=Xl;break;case"*":++Wl,ga.charAt(Wl)!=" "&&ga.charAt(Wl)!="*"||++Wl;break;case"(":case")":Ol[Ol.length]={t:El===1?"t":Xl,v:Xl},++Wl;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(Ul=Xl;Wl<ga.length&&-1<"0123456789".indexOf(ga.charAt(++Wl));)Ul+=ga.charAt(Wl);Ol[Ol.length]={t:"D",v:Ul};break;case" ":Ol[Ol.length]={t:Xl,v:Xl},++Wl;break;case"$":Ol[Ol.length]={t:"t",v:"$"},++Wl;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(Xl)===-1)throw new Error("unrecognized character "+Xl+" in "+ga);Ol[Ol.length]={t:"t",v:Xl},++Wl}var xu,Qu=0,Bu=0;for(Wl=Ol.length-1,ou="t";0<=Wl;--Wl)switch(Ol[Wl].t){case"h":case"H":Ol[Wl].t=au,ou="h",Qu<1&&(Qu=1);break;case"s":(xu=Ol[Wl].v.match(/\.0+$/))&&(Bu=Math.max(Bu,xu[0].length-1)),Qu<3&&(Qu=3);case"d":case"y":case"M":case"e":ou=Ol[Wl].t;break;case"m":ou==="s"&&(Ol[Wl].t="M",Qu<2&&(Qu=2));break;case"X":break;case"Z":(Qu=(Qu=Qu<1&&Ol[Wl].v.match(/[Hh]/)?1:Qu)<2&&Ol[Wl].v.match(/[Mm]/)?2:Qu)<3&&Ol[Wl].v.match(/[Ss]/)&&(Qu=3)}switch(Qu){case 0:break;case 1:.5<=Al.u&&(Al.u=0,++Al.S),60<=Al.S&&(Al.S=0,++Al.M),60<=Al.M&&(Al.M=0,++Al.H);break;case 2:.5<=Al.u&&(Al.u=0,++Al.S),60<=Al.S&&(Al.S=0,++Al.M)}var Su,Yu="";for(Wl=0;Wl<Ol.length;++Wl)switch(Ol[Wl].t){case"t":case"T":case" ":case"D":break;case"X":Ol[Wl].v="",Ol[Wl].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":Ol[Wl].v=function(e0,t0,Vp,h0){var D0,R0="",b0=0,S0=0,y0=Vp.y,o0=0;switch(e0){case 98:y0=Vp.y+543;case 121:switch(t0.length){case 1:case 2:D0=y0%100,o0=2;break;default:D0=y0%1e4,o0=4}break;case 109:switch(t0.length){case 1:case 2:D0=Vp.m,o0=t0.length;break;case 3:return Hl[Vp.m-1][1];case 5:return Hl[Vp.m-1][0];default:return Hl[Vp.m-1][2]}break;case 100:switch(t0.length){case 1:case 2:D0=Vp.d,o0=t0.length;break;case 3:return Yl[Vp.q][0];default:return Yl[Vp.q][1]}break;case 104:switch(t0.length){case 1:case 2:D0=1+(Vp.H+11)%12,o0=t0.length;break;default:throw"bad hour format: "+t0}break;case 72:switch(t0.length){case 1:case 2:D0=Vp.H,o0=t0.length;break;default:throw"bad hour format: "+t0}break;case 77:switch(t0.length){case 1:case 2:D0=Vp.M,o0=t0.length;break;default:throw"bad minute format: "+t0}break;case 115:if(t0!="s"&&t0!="ss"&&t0!=".0"&&t0!=".00"&&t0!=".000")throw"bad second format: "+t0;return Vp.u!==0||t0!="s"&&t0!="ss"?(60*(S0=2<=h0?h0===3?1e3:100:h0===1?10:1)<=(b0=Math.round(S0*(Vp.S+Vp.u)))&&(b0=0),t0==="s"?b0===0?"0":""+b0/S0:(R0=qu(b0,2+h0),t0==="ss"?R0.substr(0,2):"."+R0.substr(2,t0.length-1))):qu(Vp.S,t0.length);case 90:switch(t0){case"[h]":case"[hh]":D0=24*Vp.D+Vp.H;break;case"[m]":case"[mm]":D0=60*(24*Vp.D+Vp.H)+Vp.M;break;case"[s]":case"[ss]":D0=60*(60*(24*Vp.D+Vp.H)+Vp.M)+Math.round(Vp.S+Vp.u);break;default:throw"bad abstime format: "+t0}o0=t0.length===3?1:2;break;case 101:D0=y0,o0=1}return 0<o0?qu(D0,o0):""}(Ol[Wl].t.charCodeAt(0),Ol[Wl].v,Al,Bu),Ol[Wl].t="t";break;case"n":case"?":for(Su=Wl+1;Ol[Su]!=null&&((Xl=Ol[Su].t)==="?"||Xl==="D"||(Xl===" "||Xl==="t")&&Ol[Su+1]!=null&&(Ol[Su+1].t==="?"||Ol[Su+1].t==="t"&&Ol[Su+1].v==="/")||Ol[Wl].t==="("&&(Xl===" "||Xl==="n"||Xl===")")||Xl==="t"&&(Ol[Su].v==="/"||Ol[Su].v===" "&&Ol[Su+1]!=null&&Ol[Su+1].t=="?"));)Ol[Wl].v+=Ol[Su].v,Ol[Su]={v:"",t:";"},++Su;Yu+=Ol[Wl].v,Wl=Su-1;break;case"G":Ol[Wl].t="t",Ol[Wl].v=Gu(yl,xl)}var ep,rp,bp="";if(0<Yu.length){Yu.charCodeAt(0)==40?(ep=yl<0&&Yu.charCodeAt(0)===45?-yl:yl,rp=Rp("n",Yu,ep)):(rp=Rp("n",Yu,ep=yl<0&&1<El?-yl:yl),ep<0&&Ol[0]&&Ol[0].t=="t"&&(rp=rp.substr(1),Ol[0].v="-"+Ol[0].v)),Su=rp.length-1;for(var jp=Ol.length,Wl=0;Wl<Ol.length;++Wl)if(Ol[Wl]!=null&&Ol[Wl].t!="t"&&-1<Ol[Wl].v.indexOf(".")){jp=Wl;break}var Ap=Ol.length;if(jp===Ol.length&&rp.indexOf("E")===-1){for(Wl=Ol.length-1;0<=Wl;--Wl)Ol[Wl]!=null&&"n?".indexOf(Ol[Wl].t)!==-1&&(Su>=Ol[Wl].v.length-1?(Su-=Ol[Wl].v.length,Ol[Wl].v=rp.substr(Su+1,Ol[Wl].v.length)):Su<0?Ol[Wl].v="":(Ol[Wl].v=rp.substr(0,Su+1),Su=-1),Ol[Wl].t="t",Ap=Wl);0<=Su&&Ap<Ol.length&&(Ol[Ap].v=rp.substr(0,Su+1)+Ol[Ap].v)}else if(jp!==Ol.length&&rp.indexOf("E")===-1){for(Su=rp.indexOf(".")-1,Wl=jp;0<=Wl;--Wl)if(Ol[Wl]!=null&&"n?".indexOf(Ol[Wl].t)!==-1){for(Pl=-1<Ol[Wl].v.indexOf(".")&&Wl===jp?Ol[Wl].v.indexOf(".")-1:Ol[Wl].v.length-1,bp=Ol[Wl].v.substr(Pl+1);0<=Pl;--Pl)0<=Su&&(Ol[Wl].v.charAt(Pl)==="0"||Ol[Wl].v.charAt(Pl)==="#")&&(bp=rp.charAt(Su--)+bp);Ol[Wl].v=bp,Ol[Wl].t="t",Ap=Wl}for(0<=Su&&Ap<Ol.length&&(Ol[Ap].v=rp.substr(0,Su+1)+Ol[Ap].v),Su=rp.indexOf(".")+1,Wl=jp;Wl<Ol.length;++Wl)if(Ol[Wl]!=null&&("n?(".indexOf(Ol[Wl].t)!==-1||Wl===jp)){for(Pl=-1<Ol[Wl].v.indexOf(".")&&Wl===jp?Ol[Wl].v.indexOf(".")+1:0,bp=Ol[Wl].v.substr(0,Pl);Pl<Ol[Wl].v.length;++Pl)Su<rp.length&&(bp+=rp.charAt(Su++));Ol[Wl].v=bp,Ol[Wl].t="t",Ap=Wl}}}for(Wl=0;Wl<Ol.length;++Wl)Ol[Wl]!=null&&-1<"n?".indexOf(Ol[Wl].t)&&(ep=1<El&&yl<0&&0<Wl&&Ol[Wl-1].v==="-"?-yl:yl,Ol[Wl].v=Rp(Ol[Wl].t,Ol[Wl].v,ep),Ol[Wl].t="t");var $p="";for(Wl=0;Wl!==Ol.length;++Wl)Ol[Wl]!=null&&($p+=Ol[Wl].v);return $p}var eu=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Nu(ga,yl){if(yl!=null){var xl=parseFloat(yl[2]);switch(yl[1]){case"=":if(ga==xl)return 1;break;case">":if(xl<ga)return 1;break;case"<":if(ga<xl)return 1;break;case"<>":if(ga!=xl)return 1;break;case">=":if(xl<=ga)return 1;break;case"<=":if(ga<=xl)return 1}}}function Zu(ga,yl){var xl=function(Rl){for(var Ol=[],Ul=!1,Wl=0,Xl=0;Wl<Rl.length;++Wl)switch(Rl.charCodeAt(Wl)){case 34:Ul=!Ul;break;case 95:case 42:case 92:++Wl;break;case 59:Ol[Ol.length]=Rl.substr(Xl,Wl-Xl),Xl=Wl+1}if(Ol[Ol.length]=Rl.substr(Xl),Ul===!0)throw new Error("Format |"+Rl+"| unterminated string ");return Ol}(ga),El=xl.length,Al=xl[El-1].indexOf("@");if(El<4&&-1<Al&&--El,4<xl.length)throw new Error("cannot find right format for |"+xl.join("|")+"|");if(typeof yl!="number")return[4,xl.length===4||-1<Al?xl[xl.length-1]:"@"];switch(xl.length){case 1:xl=-1<Al?["General","General","General",xl[0]]:[xl[0],xl[0],xl[0],"@"];break;case 2:xl=-1<Al?[xl[0],xl[0],xl[0],xl[1]]:[xl[0],xl[1],xl[0],"@"];break;case 3:xl=-1<Al?[xl[0],xl[1],xl[0],xl[2]]:[xl[0],xl[1],xl[2],"@"]}var Pl=0<yl?xl[0]:yl<0?xl[1]:xl[2];return xl[0].indexOf("[")===-1&&xl[1].indexOf("[")===-1?[El,Pl]:xl[0].match(/\[[=<>]/)==null&&xl[1].match(/\[[=<>]/)==null?[El,Pl]:(ga=xl[0].match(eu),Pl=xl[1].match(eu),Nu(yl,ga)?[El,xl[0]]:Nu(yl,Pl)?[El,xl[1]]:[El,xl[ga!=null&&Pl!=null?2:1]])}function Vu(ga,yl,xl){xl==null&&(xl={});var El="";switch(typeof ga){case"string":El=ga=="m/d/yy"&&xl.dateNF?xl.dateNF:ga;break;case"number":(El=(El=ga==14&&xl.dateNF?xl.dateNF:(xl.table!=null?xl.table:Kl)[ga])==null?xl.table&&xl.table[_c[ga]]||Kl[_c[ga]]:El)==null&&(El=Ql[ga]||"General")}if(ru(El,0))return Gu(yl,xl);var Al=Zu(El,yl=yl instanceof Date?Fu(yl,xl.date1904):yl);if(ru(Al[1]))return Gu(yl,xl);if(yl===!0)yl="TRUE";else if(yl===!1)yl="FALSE";else if(yl===""||yl==null)return"";return Zl(Al[1],yl,xl,Al[0])}function yu(ga,yl){if(typeof yl!="number"){yl=+yl||-1;for(var xl=0;xl<392;++xl)if(Kl[xl]!=null){if(Kl[xl]==ga){yl=xl;break}}else yl<0&&(yl=xl);yl<0&&(yl=391)}return Kl[yl]=ga,yl}function Hu(ga){for(var yl=0;yl!=392;++yl)ga[yl]!==void 0&&yu(ga[yl],yl)}function Sp(){var ga;(ga=ga||{})[0]="General",ga[1]="0",ga[2]="0.00",ga[3]="#,##0",ga[4]="#,##0.00",ga[9]="0%",ga[10]="0.00%",ga[11]="0.00E+00",ga[12]="# ?/?",ga[13]="# ??/??",ga[14]="m/d/yy",ga[15]="d-mmm-yy",ga[16]="d-mmm",ga[17]="mmm-yy",ga[18]="h:mm AM/PM",ga[19]="h:mm:ss AM/PM",ga[20]="h:mm",ga[21]="h:mm:ss",ga[22]="m/d/yy h:mm",ga[37]="#,##0 ;(#,##0)",ga[38]="#,##0 ;[Red](#,##0)",ga[39]="#,##0.00;(#,##0.00)",ga[40]="#,##0.00;[Red](#,##0.00)",ga[45]="mm:ss",ga[46]="[h]:mm:ss",ga[47]="mmss.0",ga[48]="##0.0E+0",ga[49]="@",ga[56]='"/ "hh""mm""ss" "',Kl=ga}var Np={format:Vu,load:yu,_table:Kl,load_table:Hu,parse_date_code:gu,is_date:hu,get_table:function(){return Np._table=Kl}},Lp={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ku=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,wp,Bp=function(){var ga={};ga.version="1.2.0";var yl=function(){for(var Su=0,Yu=new Array(256),ep=0;ep!=256;++ep)Su=1&(Su=1&(Su=1&(Su=1&(Su=1&(Su=1&(Su=1&(Su=1&(Su=ep)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1)?-306674912^Su>>>1:Su>>>1,Yu[ep]=Su;return typeof Int32Array<"u"?new Int32Array(Yu):Yu}(),xl=function(Su){for(var Yu=0,ep=0,bp=0,rp=new(typeof Int32Array<"u"?Int32Array:Array)(4096),bp=0;bp!=256;++bp)rp[bp]=Su[bp];for(bp=0;bp!=256;++bp)for(ep=Su[bp],Yu=256+bp;Yu<4096;Yu+=256)ep=rp[Yu]=ep>>>8^Su[255&ep];var jp=[];for(bp=1;bp!=16;++bp)jp[bp-1]=typeof Int32Array<"u"?rp.subarray(256*bp,256*bp+256):rp.slice(256*bp,256*bp+256);return jp}(yl),El=xl[0],Al=xl[1],Pl=xl[2],Rl=xl[3],Ol=xl[4],Ul=xl[5],Wl=xl[6],Xl=xl[7],ou=xl[8],au=xl[9],du=xl[10],Du=xl[11],xu=xl[12],Qu=xl[13],Bu=xl[14];return ga.table=yl,ga.bstr=function(Su,Yu){for(var ep=-1^Yu,rp=0,bp=Su.length;rp<bp;)ep=ep>>>8^yl[255&(ep^Su.charCodeAt(rp++))];return~ep},ga.buf=function(Su,Yu){for(var ep=-1^Yu,rp=Su.length-15,bp=0;bp<rp;)ep=Bu[Su[bp++]^255&ep]^Qu[Su[bp++]^ep>>8&255]^xu[Su[bp++]^ep>>16&255]^Du[Su[bp++]^ep>>>24]^du[Su[bp++]]^au[Su[bp++]]^ou[Su[bp++]]^Xl[Su[bp++]]^Wl[Su[bp++]]^Ul[Su[bp++]]^Ol[Su[bp++]]^Rl[Su[bp++]]^Pl[Su[bp++]]^Al[Su[bp++]]^El[Su[bp++]]^yl[Su[bp++]];for(rp+=15;bp<rp;)ep=ep>>>8^yl[255&(ep^Su[bp++])];return~ep},ga.str=function(Su,Yu){for(var ep,rp=-1^Yu,bp=0,jp=Su.length,Ap=0;bp<jp;)rp=(Ap=Su.charCodeAt(bp++))<128?rp>>>8^yl[255&(rp^Ap)]:Ap<2048?(rp=rp>>>8^yl[255&(rp^(192|Ap>>6&31))])>>>8^yl[255&(rp^(128|63&Ap))]:55296<=Ap&&Ap<57344?(Ap=64+(1023&Ap),ep=1023&Su.charCodeAt(bp++),(rp=(rp=(rp=rp>>>8^yl[255&(rp^(240|Ap>>8&7))])>>>8^yl[255&(rp^(128|Ap>>2&63))])>>>8^yl[255&(rp^(128|ep>>6&15|(3&Ap)<<4))])>>>8^yl[255&(rp^(128|63&ep))]):(rp=(rp=rp>>>8^yl[255&(rp^(224|Ap>>12&15))])>>>8^yl[255&(rp^(128|Ap>>6&63))])>>>8^yl[255&(rp^(128|63&Ap))];return~rp},ga}(),Pp=function(){var ga,yl={};function xl(cp){if(cp.charAt(cp.length-1)=="/")return cp.slice(0,-1).indexOf("/")===-1?cp:xl(cp.slice(0,-1));var Kp=cp.lastIndexOf("/");return Kp===-1?cp:cp.slice(0,Kp+1)}function El(cp){if(cp.charAt(cp.length-1)=="/")return El(cp.slice(0,-1));var Kp=cp.lastIndexOf("/");return Kp===-1?cp:cp.slice(Kp+1)}function Al(cp){D1(cp,0);for(var Kp,yp={};cp.l<=cp.length-4;){var zp=cp.read_shift(2),vp=cp.read_shift(2),l0=cp.l+vp,Wp={};zp===21589&&(1&(Kp=cp.read_shift(1))&&(Wp.mtime=cp.read_shift(4)),5<vp&&(2&Kp&&(Wp.atime=cp.read_shift(4)),4&Kp&&(Wp.ctime=cp.read_shift(4))),Wp.mtime&&(Wp.mt=new Date(1e3*Wp.mtime))),cp.l=l0,yp[zp]=Wp}return yp}function Pl(){return ga=ga||requireEmpty()}function Rl(cp,Kp){if(cp[0]==80&&cp[1]==75)return Km(cp,Kp);if((32|cp[0])==109&&(32|cp[1])==105)return function(g0,tm){if(Su(g0.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var L0=tm&&tm.root||"",w0=(Nl&&Buffer.isBuffer(g0)?g0.toString("binary"):Su(g0)).split(`\r
`),nm=0,im="";for(nm=0;nm<w0.length;++nm)if(im=w0[nm],/^Content-Location:/i.test(im)&&(im=im.slice(im.indexOf("file")),L0=L0||im.slice(0,im.lastIndexOf("/")+1),im.slice(0,L0.length)!=L0))for(;0<L0.length&&(L0=(L0=L0.slice(0,L0.length-1)).slice(0,L0.lastIndexOf("/")+1),im.slice(0,L0.length)!=L0););if(g0=(w0[1]||"").match(/boundary="(.*?)"/),!g0)throw new Error("MAD cannot find boundary");var h1="--"+(g0[1]||""),um={FileIndex:[],FullPaths:[]};Ul(um);var Am,Z0=0;for(nm=0;nm<w0.length;++nm){var Nm=w0[nm];Nm!==h1&&Nm!==h1+"--"||(Z0++&&function(Bm,F0,H0){for(var $0,Dm="",Vm="",J1="",sv=0;sv<10;++sv){var H1=F0[sv];if(!H1||H1.match(/^\s*$/))break;var vv=H1.match(/^(.*?):\s*([^\s].*)$/);if(vv)switch(vv[1].toLowerCase()){case"content-location":Dm=vv[2].trim();break;case"content-type":J1=vv[2].trim();break;case"content-transfer-encoding":Vm=vv[2].trim()}}switch(++sv,Vm.toLowerCase()){case"base64":$0=Gl(Ll(F0.slice(sv).join("")));break;case"quoted-printable":$0=function(yv){for(var Ax=[],kv=0;kv<yv.length;++kv){for(var Yy=yv[kv];kv<=yv.length&&Yy.charAt(Yy.length-1)=="=";)Yy=Yy.slice(0,Yy.length-1)+yv[++kv];Ax.push(Yy)}for(var Tx=0;Tx<Ax.length;++Tx)Ax[Tx]=Ax[Tx].replace(/[=][0-9A-Fa-f]{2}/g,function(xR){return String.fromCharCode(parseInt(xR.slice(1),16))});return Gl(Ax.join(`\r
`))}(F0.slice(sv));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Vm)}H0=uy(Bm,Dm.slice(H0.length),$0,{unsafe:!0}),J1&&(H0.ctype=J1)}(um,w0.slice(Am,nm),L0),Am=nm)}return um}(cp,Kp);if(cp.length<512)throw new Error("CFB file size "+cp.length+" < 512");var yp,zp,vp,l0=3,Wp=512,A0=0,Xp=[],Up=cp.slice(0,512);D1(Up,0);var _g=function(g0){if(g0[g0.l]==80&&g0[g0.l+1]==75)return[0,0];g0.chk(Du,"Header Signature: "),g0.l+=16;var tm=g0.read_shift(2,"u");return[g0.read_shift(2,"u"),tm]}(Up);switch(l0=_g[0]){case 3:Wp=512;break;case 4:Wp=4096;break;case 0:if(_g[1]==0)return Km(cp,Kp);default:throw new Error("Major Version: Expected 3 or 4 saw "+l0)}Wp!==512&&D1(Up=cp.slice(0,Wp),28);var p0=cp.slice(0,Wp);(function(g0,tm){var L0=9;switch(g0.l+=2,L0=g0.read_shift(2)){case 9:if(tm!=3)throw new Error("Sector Shift: Expected 9 saw "+L0);break;case 12:if(tm!=4)throw new Error("Sector Shift: Expected 12 saw "+L0);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+L0)}g0.chk("0600","Mini Sector Shift: "),g0.chk("000000000000","Reserved: ")})(Up,l0);var Q0=Up.read_shift(4,"i");if(l0===3&&Q0!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Q0);Up.l+=4,zp=Up.read_shift(4,"i"),Up.l+=4,Up.chk("00100000","Mini Stream Cutoff Size: "),vp=Up.read_shift(4,"i"),yp=Up.read_shift(4,"i"),em=Up.read_shift(4,"i"),A0=Up.read_shift(4,"i");for(var X0,U0=0;U0<109&&!((X0=Up.read_shift(4,"i"))<0);++U0)Xp[U0]=X0;var k0=function(g0,tm){for(var L0=Math.ceil(g0.length/tm)-1,w0=[],nm=1;nm<L0;++nm)w0[nm-1]=g0.slice(nm*tm,(nm+1)*tm);return w0[L0-1]=g0.slice(L0*tm),w0}(cp,Wp);(function g0(tm,L0,w0,nm,im){var h1=du;if(tm===du){if(L0!==0)throw new Error("DIFAT chain shorter than expected")}else if(tm!==-1){var um=w0[tm],Am=(nm>>>2)-1;if(um){for(var Z0=0;Z0<Am&&(h1=Ev(um,4*Z0))!==du;++Z0)im.push(h1);g0(Ev(um,nm-4),L0-1,w0,nm,im)}}})(em,A0,k0,Wp,Xp);var W0=function(g0,tm,L0,w0){var nm=g0.length,im=[],h1=[],um=[],Am=[],Z0=w0-1,Nm=0,Bm=0,F0=0,H0=0;for(Nm=0;Nm<nm;++Nm)if(um=[],nm<=(F0=Nm+tm)&&(F0-=nm),!h1[F0]){Am=[];var $0=[];for(Bm=F0;0<=Bm;){$0[Bm]=!0,h1[Bm]=!0,um[um.length]=Bm,Am.push(g0[Bm]);var Dm=L0[Math.floor(4*Bm/w0)];if(w0<4+(H0=4*Bm&Z0))throw new Error("FAT boundary crossed: "+Bm+" 4 "+w0);if(!g0[Dm]||(Bm=Ev(g0[Dm],H0),$0[Bm]))break}im[F0]={nodes:um,data:Uy([Am])}}return im}(k0,zp,Xp,Wp);W0[zp].name="!Directory",0<yp&&vp!==du&&(W0[vp].name="!MiniFAT"),W0[Xp[0]].name="!FAT",W0.fat_addrs=Xp,W0.ssz=Wp;var Q0=[],em=[],A0=[];return function(g0,tm,L0,w0,nm,im,h1){for(var um,Am=0,Z0=L0.length?2:0,Nm=g0[zp].data,Bm=0,F0=0;Bm<Nm.length;Bm+=128){var H0=Nm.slice(Bm,Bm+128);D1(H0,64),F0=H0.read_shift(2),um=ey(H0,0,F0-Z0),L0.push(um);var $0={name:um,type:H0.read_shift(1),color:H0.read_shift(1),L:H0.read_shift(4,"i"),R:H0.read_shift(4,"i"),C:H0.read_shift(4,"i"),clsid:H0.read_shift(16),state:H0.read_shift(4,"i"),start:0,size:0};H0.read_shift(2)+H0.read_shift(2)+H0.read_shift(2)+H0.read_shift(2)!==0&&($0.ct=Ol(H0,H0.l-8)),H0.read_shift(2)+H0.read_shift(2)+H0.read_shift(2)+H0.read_shift(2)!==0&&($0.mt=Ol(H0,H0.l-8)),$0.start=H0.read_shift(4,"i"),$0.size=H0.read_shift(4,"i"),$0.size<0&&$0.start<0&&($0.size=$0.type=0,$0.start=du,$0.name=""),$0.type===5?(Am=$0.start,0<w0&&Am!==du&&(g0[Am].name="!StreamData")):4096<=$0.size?($0.storage="fat",g0[$0.start]===void 0&&(g0[$0.start]=function(Dm,Vm,J1,sv,H1){var vv=[],yv=[];H1=H1||[];var Ax=sv-1,kv=0,Yy=0;for(kv=Vm;0<=kv;){H1[kv]=!0,vv[vv.length]=kv,yv.push(Dm[kv]);var Tx=J1[Math.floor(4*kv/sv)];if(sv<4+(Yy=4*kv&Ax))throw new Error("FAT boundary crossed: "+kv+" 4 "+sv);if(!Dm[Tx])break;kv=Ev(Dm[Tx],Yy)}return{nodes:vv,data:Uy([yv])}}(tm,$0.start,g0.fat_addrs,g0.ssz)),g0[$0.start].name=$0.name,$0.content=g0[$0.start].data.slice(0,$0.size)):($0.storage="minifat",$0.size<0?$0.size=0:Am!==du&&$0.start!==du&&g0[Am]&&($0.content=function(Dm,Vm,J1){for(var sv=Dm.start,H1=Dm.size,vv=[],yv=sv;J1&&0<H1&&0<=yv;)vv.push(Vm.slice(yv*au,yv*au+au)),H1-=au,yv=Ev(J1,4*yv);return vv.length===0?Zp(0):lu(vv).slice(0,Dm.size)}($0,g0[Am].data,(g0[h1]||{}).data))),$0.content&&D1($0.content,0),nm[um]=$0,im.push($0)}}(W0,k0,Q0,yp,{},em,vp),function(g0,tm,L0){for(var w0=0,nm=0,im=0,h1=0,um=0,Am=L0.length,Z0=[],Nm=[];w0<Am;++w0)Z0[w0]=Nm[w0]=w0,tm[w0]=L0[w0];for(;um<Nm.length;++um)w0=Nm[um],nm=g0[w0].L,im=g0[w0].R,h1=g0[w0].C,Z0[w0]===w0&&(nm!==-1&&Z0[nm]!==nm&&(Z0[w0]=Z0[nm]),im!==-1&&Z0[im]!==im&&(Z0[w0]=Z0[im])),h1!==-1&&(Z0[h1]=w0),nm!==-1&&w0!=Z0[w0]&&(Z0[nm]=Z0[w0],Nm.lastIndexOf(nm)<um&&Nm.push(nm)),im!==-1&&w0!=Z0[w0]&&(Z0[im]=Z0[w0],Nm.lastIndexOf(im)<um&&Nm.push(im));for(w0=1;w0<Am;++w0)Z0[w0]===w0&&(im!==-1&&Z0[im]!==im?Z0[w0]=Z0[im]:nm!==-1&&Z0[nm]!==nm&&(Z0[w0]=Z0[nm]));for(w0=1;w0<Am;++w0)if(g0[w0].type!==0){if((um=w0)!=Z0[um])for(;um=Z0[um],tm[w0]=tm[um]+"/"+tm[w0],um!==0&&Z0[um]!==-1&&um!=Z0[um];);Z0[w0]=-1}for(tm[0]+="/",w0=1;w0<Am;++w0)g0[w0].type!==2&&(tm[w0]+="/")}(em,A0,Q0),Q0.shift(),A0={FileIndex:em,FullPaths:A0},Kp&&Kp.raw&&(A0.raw={header:p0,sectors:k0}),A0}function Ol(cp,Kp){return new Date(1e3*(a1(cp,Kp+4)/1e7*Math.pow(2,32)+a1(cp,Kp)/1e7-11644473600))}function Ul(cp,zp){var yp=zp||{},zp=yp.root||"Root Entry";if(cp.FullPaths||(cp.FullPaths=[]),cp.FileIndex||(cp.FileIndex=[]),cp.FullPaths.length!==cp.FileIndex.length)throw new Error("inconsistent CFB structure");cp.FullPaths.length===0&&(cp.FullPaths[0]=zp+"/",cp.FileIndex[0]={name:zp,type:5}),yp.CLSID&&(cp.FileIndex[0].clsid=yp.CLSID),zp=cp,yp="Sh33tJ5",Pp.find(zp,"/"+yp)||((cp=Zp(4))[0]=55,cp[1]=cp[3]=50,cp[2]=54,zp.FileIndex.push({name:yp,type:2,content:cp,size:4,L:69,R:69,C:69}),zp.FullPaths.push(zp.FullPaths[0]+yp),Wl(zp))}function Wl(cp,Kp){Ul(cp);for(var yp=!1,zp=!1,vp=cp.FullPaths.length-1;0<=vp;--vp){var l0=cp.FileIndex[vp];switch(l0.type){case 0:zp?yp=!0:(cp.FileIndex.pop(),cp.FullPaths.pop());break;case 1:case 2:case 5:zp=!0,isNaN(l0.R*l0.L*l0.C)&&(yp=!0),-1<l0.R&&-1<l0.L&&l0.R==l0.L&&(yp=!0);break;default:yp=!0}}if(yp||Kp){for(var Wp=new Date(1987,1,19),Xp=0,Up=Object.create?Object.create(null):{},_g=[],vp=0;vp<cp.FullPaths.length;++vp)Up[cp.FullPaths[vp]]=!0,cp.FileIndex[vp].type!==0&&_g.push([cp.FullPaths[vp],cp.FileIndex[vp]]);for(vp=0;vp<_g.length;++vp){var p0=xl(_g[vp][0]);(zp=Up[p0])||(_g.push([p0,{name:El(p0).replace("/",""),type:1,clsid:Qu,ct:Wp,mt:Wp,content:null}]),Up[p0]=!0)}for(_g.sort(function(k0,W0){return function(Q0,em){for(var A0,g0=Q0.split("/"),tm=em.split("/"),L0=0,w0=Math.min(g0.length,tm.length);L0<w0;++L0){if(A0=g0[L0].length-tm[L0].length)return A0;if(g0[L0]!=tm[L0])return g0[L0]<tm[L0]?-1:1}return g0.length-tm.length}(k0[0],W0[0])}),cp.FullPaths=[],cp.FileIndex=[],vp=0;vp<_g.length;++vp)cp.FullPaths[vp]=_g[vp][0],cp.FileIndex[vp]=_g[vp][1];for(vp=0;vp<_g.length;++vp){var X0=cp.FileIndex[vp],U0=cp.FullPaths[vp];if(X0.name=El(U0).replace("/",""),X0.L=X0.R=X0.C=-(X0.color=1),X0.size=X0.content?X0.content.length:0,X0.start=0,X0.clsid=X0.clsid||Qu,vp===0)X0.C=1<_g.length?1:-1,X0.size=0,X0.type=5;else if(U0.slice(-1)=="/"){for(Xp=vp+1;Xp<_g.length&&xl(cp.FullPaths[Xp])!=U0;++Xp);for(X0.C=Xp>=_g.length?-1:Xp,Xp=vp+1;Xp<_g.length&&xl(cp.FullPaths[Xp])!=xl(U0);++Xp);X0.R=Xp>=_g.length?-1:Xp,X0.type=1}else xl(cp.FullPaths[vp+1]||"")==xl(U0)&&(X0.R=vp+1),X0.type=2}}}function Xl(cp,Kp){var yp=Kp||{};if(yp.fileType=="mad")return function(U0,k0){for(var W0=k0||{},Q0=W0.boundary||"SheetJS",em=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Q0="------="+Q0).slice(2)+'"',"","",""],A0=U0.FullPaths[0],g0=A0,tm=U0.FileIndex[0],L0=1;L0<U0.FullPaths.length;++L0)if(g0=U0.FullPaths[L0].slice(A0.length),(tm=U0.FileIndex[L0]).size&&tm.content&&g0!="Sh33tJ5"){g0=g0.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Z0){return"_x"+Z0.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Z0){return"_u"+Z0.charCodeAt(0).toString(16)+"_"});for(var w0=tm.content,nm=Nl&&Buffer.isBuffer(w0)?w0.toString("binary"):Su(w0),im=0,h1=Math.min(1024,nm.length),um=0,Am=0;Am<=h1;++Am)32<=(um=nm.charCodeAt(Am))&&um<128&&++im;w0=4*h1/5<=im,em.push(Q0),em.push("Content-Location: "+(W0.root||"file:///C:/SheetJS/")+g0),em.push("Content-Transfer-Encoding: "+(w0?"quoted-printable":"base64")),em.push("Content-Type: "+function(F0,Nm){if(F0.ctype)return F0.ctype;var Bm=F0.name||"",F0=Bm.match(/\.([^\.]+)$/);return F0&&Z1[F0[1]]||Nm&&(F0=(Bm=Nm).match(/[\.\\]([^\.\\])+$/))&&Z1[F0[1]]?Z1[F0[1]]:"application/octet-stream"}(tm,g0)),em.push(""),em.push((w0?function(Z0){Z0=Z0.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(J1){return J1=J1.charCodeAt(0).toString(16).toUpperCase(),"="+(J1.length==1?"0"+J1:J1)}),(Z0=Z0.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)==`
`&&(Z0="=0D"+Z0.slice(1)),Z0=Z0.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,`
=0A`).replace(/([^\r\n])\n/gm,"$1=0A");for(var Nm=[],Bm=Z0.split(`\r
`),F0=0;F0<Bm.length;++F0){var H0=Bm[F0];if(H0.length!=0)for(var $0=0;$0<H0.length;){var Dm=76,Vm=H0.slice($0,$0+Dm);Vm.charAt(Dm-1)=="="?Dm--:Vm.charAt(Dm-2)=="="?Dm-=2:Vm.charAt(Dm-3)=="="&&(Dm-=3),Vm=H0.slice($0,$0+Dm),($0+=Dm)<H0.length&&(Vm+="="),Nm.push(Vm)}else Nm.push("")}return Nm.join(`\r
`)}:function(Z0){for(var Nm=Bl(Z0),Bm=[],F0=0;F0<Nm.length;F0+=76)Bm.push(Nm.slice(F0,F0+76));return Bm.join(`\r
`)+`\r
`})(nm))}return em.push(Q0+`--\r
`),em.join(`\r
`)}(cp,yp);if(Wl(cp),yp.fileType==="zip")return function(U0,W0){var W0=W0||{},Q0=[],em=[],A0=Zp(1),g0=W0.compression?8:0,tm=0,L0=0,w0=0,nm=0,im=0,h1=U0.FullPaths[0],um=h1,Am=U0.FileIndex[0],Z0=[],Nm=0;for(L0=1;L0<U0.FullPaths.length;++L0)if(um=U0.FullPaths[L0].slice(h1.length),(Am=U0.FileIndex[L0]).size&&Am.content&&um!="Sh33tJ5"){var Bm=nm,F0=Zp(um.length);for(w0=0;w0<um.length;++w0)F0.write_shift(1,127&um.charCodeAt(w0));F0=F0.slice(0,F0.l),Z0[im]=Bp.buf(Am.content,0);var H0=Am.content;g0==8&&(H0=function($0){return ou?ou.deflateRawSync($0):N0($0)}(H0)),(A0=Zp(30)).write_shift(4,67324752),A0.write_shift(2,20),A0.write_shift(2,tm),A0.write_shift(2,g0),Am.mt?function($0,Dm){var Vm=(Dm=typeof Dm=="string"?new Date(Dm):Dm).getHours();Vm=(Vm=Vm<<6|Dm.getMinutes())<<5|Dm.getSeconds()>>>1,$0.write_shift(2,Vm),Vm=(Vm=(Vm=Dm.getFullYear()-1980)<<4|Dm.getMonth()+1)<<5|Dm.getDate(),$0.write_shift(2,Vm)}(A0,Am.mt):A0.write_shift(4,0),A0.write_shift(-4,Z0[im]),A0.write_shift(4,H0.length),A0.write_shift(4,Am.content.length),A0.write_shift(2,F0.length),A0.write_shift(2,0),nm+=A0.length,Q0.push(A0),nm+=F0.length,Q0.push(F0),nm+=H0.length,Q0.push(H0),(A0=Zp(46)).write_shift(4,33639248),A0.write_shift(2,0),A0.write_shift(2,20),A0.write_shift(2,tm),A0.write_shift(2,g0),A0.write_shift(4,0),A0.write_shift(-4,Z0[im]),A0.write_shift(4,H0.length),A0.write_shift(4,Am.content.length),A0.write_shift(2,F0.length),A0.write_shift(2,0),A0.write_shift(2,0),A0.write_shift(2,0),A0.write_shift(2,0),A0.write_shift(4,0),A0.write_shift(4,Bm),Nm+=A0.l,em.push(A0),Nm+=F0.length,em.push(F0),++im}return(A0=Zp(22)).write_shift(4,101010256),A0.write_shift(2,0),A0.write_shift(2,0),A0.write_shift(2,im),A0.write_shift(2,im),A0.write_shift(4,Nm),A0.write_shift(4,nm),A0.write_shift(2,0),lu([lu(Q0),lu(em),A0])}(cp,yp);for(var zp=function(U0){for(var k0=0,W0=0,Q0=0;Q0<U0.FileIndex.length;++Q0){var em=U0.FileIndex[Q0];em.content&&0<(em=em.content.length)&&(em<4096?k0+=em+63>>6:W0+=em+511>>9)}for(var A0=U0.FullPaths.length+3>>2,g0=k0+127>>7,tm=(k0+7>>3)+W0+A0+g0,L0=tm+127>>7,w0=L0<=109?0:Math.ceil((L0-109)/127);L0<tm+L0+w0+127>>7;)w0=++L0<=109?0:Math.ceil((L0-109)/127);return A0=[1,w0,L0,g0,A0,W0,k0,0],U0.FileIndex[0].size=k0<<6,A0[7]=(U0.FileIndex[0].start=A0[0]+A0[1]+A0[2]+A0[3]+A0[4]+A0[5])+(A0[6]+7>>3),A0}(cp),vp=Zp(zp[7]<<9),Wp=0,l0=0,Wp=0;Wp<8;++Wp)vp.write_shift(1,xu[Wp]);for(Wp=0;Wp<8;++Wp)vp.write_shift(2,0);for(vp.write_shift(2,62),vp.write_shift(2,3),vp.write_shift(2,65534),vp.write_shift(2,9),vp.write_shift(2,6),Wp=0;Wp<3;++Wp)vp.write_shift(2,0);for(vp.write_shift(4,0),vp.write_shift(4,zp[2]),vp.write_shift(4,zp[0]+zp[1]+zp[2]+zp[3]-1),vp.write_shift(4,0),vp.write_shift(4,4096),vp.write_shift(4,zp[3]?zp[0]+zp[1]+zp[2]-1:du),vp.write_shift(4,zp[3]),vp.write_shift(-4,zp[1]?zp[0]-1:du),vp.write_shift(4,zp[1]),Wp=0;Wp<109;++Wp)vp.write_shift(-4,Wp<zp[2]?zp[1]+Wp:-1);if(zp[1])for(l0=0;l0<zp[1];++l0){for(;Wp<236+127*l0;++Wp)vp.write_shift(-4,Wp<zp[2]?zp[1]+Wp:-1);vp.write_shift(-4,l0===zp[1]-1?du:l0+1)}function Xp(U0){for(l0+=U0;Wp<l0-1;++Wp)vp.write_shift(-4,Wp+1);U0&&(++Wp,vp.write_shift(-4,du))}for(l0=Wp=0,l0+=zp[1];Wp<l0;++Wp)vp.write_shift(-4,Bu.DIFSECT);for(l0+=zp[2];Wp<l0;++Wp)vp.write_shift(-4,Bu.FATSECT);Xp(zp[3]),Xp(zp[4]);for(var Up=0,_g=0,p0=cp.FileIndex[0];Up<cp.FileIndex.length;++Up)(p0=cp.FileIndex[Up]).content&&((_g=p0.content.length)<4096||(p0.start=l0,Xp(_g+511>>9)));for(Xp(zp[6]+7>>3);511&vp.l;)vp.write_shift(-4,Bu.ENDOFCHAIN);for(Up=l0=Wp=0;Up<cp.FileIndex.length;++Up)(p0=cp.FileIndex[Up]).content&&(!(_g=p0.content.length)||4096<=_g||(p0.start=l0,Xp(_g+63>>6)));for(;511&vp.l;)vp.write_shift(-4,Bu.ENDOFCHAIN);for(Wp=0;Wp<zp[4]<<2;++Wp){var X0=cp.FullPaths[Wp];if(X0&&X0.length!==0){if(p0=cp.FileIndex[Wp],Wp===0&&(p0.start=p0.size?p0.start-1:du),X0=Wp===0&&yp.root||p0.name,_g=2*(X0.length+1),vp.write_shift(64,X0,"utf16le"),vp.write_shift(2,_g),vp.write_shift(1,p0.type),vp.write_shift(1,p0.color),vp.write_shift(-4,p0.L),vp.write_shift(-4,p0.R),vp.write_shift(-4,p0.C),p0.clsid)vp.write_shift(16,p0.clsid,"hex");else for(Up=0;Up<4;++Up)vp.write_shift(4,0);vp.write_shift(4,p0.state||0),vp.write_shift(4,0),vp.write_shift(4,0),vp.write_shift(4,0),vp.write_shift(4,0),vp.write_shift(4,p0.start),vp.write_shift(4,p0.size),vp.write_shift(4,0)}else{for(Up=0;Up<17;++Up)vp.write_shift(4,0);for(Up=0;Up<3;++Up)vp.write_shift(4,-1);for(Up=0;Up<12;++Up)vp.write_shift(4,0)}}for(Wp=1;Wp<cp.FileIndex.length;++Wp)if(4096<=(p0=cp.FileIndex[Wp]).size)if(vp.l=p0.start+1<<9,Nl&&Buffer.isBuffer(p0.content))p0.content.copy(vp,vp.l,0,p0.size),vp.l+=p0.size+511&-512;else{for(Up=0;Up<p0.size;++Up)vp.write_shift(1,p0.content[Up]);for(;511&Up;++Up)vp.write_shift(1,0)}for(Wp=1;Wp<cp.FileIndex.length;++Wp)if(0<(p0=cp.FileIndex[Wp]).size&&p0.size<4096)if(Nl&&Buffer.isBuffer(p0.content))p0.content.copy(vp,vp.l,0,p0.size),vp.l+=p0.size+63&-64;else{for(Up=0;Up<p0.size;++Up)vp.write_shift(1,p0.content[Up]);for(;63&Up;++Up)vp.write_shift(1,0)}if(Nl)vp.l=vp.length;else for(;vp.l<vp.length;)vp.write_shift(1,0);return vp}yl.version="1.2.1";var ou,au=64,du=-2,Du="d0cf11e0a1b11ae1",xu=[208,207,17,224,161,177,26,225],Qu="00000000000000000000000000000000",Bu={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:du,FREESECT:-1,HEADER_SIGNATURE:Du,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Qu,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Su(cp){for(var Kp=new Array(cp.length),yp=0;yp<cp.length;++yp)Kp[yp]=String.fromCharCode(cp[yp]);return Kp.join("")}for(var Yu=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ep=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],rp=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],bp,jp=typeof Uint8Array<"u",Ap=jp?new Uint8Array(256):[],$p=0;$p<256;++$p)Ap[$p]=255&((bp=139536&((bp=$p)<<1|bp<<11)|558144&(bp<<5|bp<<15))>>16|bp>>8|bp);function e0(cp,zp){var yp=7&zp,zp=zp>>>3;return(cp[zp]|(yp<=5?0:cp[1+zp]<<8))>>>yp&7}function t0(cp,zp){var yp=7&zp,zp=zp>>>3;return(cp[zp]|(yp<=3?0:cp[1+zp]<<8))>>>yp&31}function Vp(cp,zp){var yp=7&zp,zp=zp>>>3;return(cp[zp]|(yp<=1?0:cp[1+zp]<<8))>>>yp&127}function h0(cp,Wp,yp){var zp=7&Wp,vp=Wp>>>3,l0=(1<<yp)-1,Wp=cp[vp]>>>zp;return yp<8-zp?Wp&l0:(Wp|=cp[1+vp]<<8-zp,yp<16-zp?Wp&l0:(Wp|=cp[2+vp]<<16-zp,yp<24-zp?Wp&l0:(Wp|=cp[3+vp]<<24-zp)&l0))}function D0(cp,Kp,yp){var zp=7&Kp,vp=Kp>>>3;return zp<=5?cp[vp]|=(7&yp)<<zp:(cp[vp]|=yp<<zp&255,cp[1+vp]=(7&yp)>>8-zp),Kp+3}function R0(cp,Kp,yp){var zp=Kp>>>3;return yp<<=7&Kp,cp[zp]|=255&yp,yp>>>=8,cp[1+zp]=yp,Kp+8}function b0(cp,Kp,yp){var zp=Kp>>>3;return yp<<=7&Kp,cp[zp]|=255&yp,yp>>>=8,cp[1+zp]=255&yp,cp[2+zp]=yp>>>8,Kp+16}function S0(cp,Kp){var yp=cp.length,zp=Kp<2*yp?2*yp:Kp+5,vp=0;if(Kp<=yp)return cp;if(Nl){var l0=Vl(zp);if(cp.copy)cp.copy(l0);else for(;vp<cp.length;++vp)l0[vp]=cp[vp];return l0}if(jp){var Wp=new Uint8Array(zp);if(Wp.set)Wp.set(cp);else for(;vp<yp;++vp)Wp[vp]=cp[vp];return Wp}return cp.length=zp,cp}function y0(cp){for(var Kp=new Array(cp),yp=0;yp<cp;++yp)Kp[yp]=0;return Kp}function o0(cp,Kp,yp){for(var zp,vp=1,_g=0,l0=0,Wp=0,Xp=cp.length,Up=jp?new Uint16Array(32):y0(32),_g=0;_g<32;++_g)Up[_g]=0;for(_g=Xp;_g<yp;++_g)cp[_g]=0;Xp=cp.length;var p0=jp?new Uint16Array(Xp):y0(Xp);for(_g=0;_g<Xp;++_g)Up[zp=cp[_g]]++,vp<zp&&(vp=zp),p0[_g]=0;for(Up[0]=0,_g=1;_g<=vp;++_g)Up[_g+16]=Wp=Wp+Up[_g-1]<<1;for(_g=0;_g<Xp;++_g)(Wp=cp[_g])!=0&&(p0[_g]=Up[Wp+16]++);var X0,U0,k0,W0;for(_g=0;_g<Xp;++_g)if((X0=cp[_g])!=0)for(U0=p0[_g],k0=vp,W0=void 0,W0=Ap[255&U0],Wp=(k0<=8?W0>>>8-k0:(W0=W0<<8|Ap[U0>>8&255],k0<=16?W0>>>16-k0:(W0=W0<<8|Ap[U0>>16&255])>>>24-k0))>>vp-X0,l0=(1<<vp+4-X0)-1;0<=l0;--l0)Kp[Wp|l0<<X0]=15&X0|_g<<4;return vp}var z0=jp?new Uint16Array(512):y0(512),G0=jp?new Uint16Array(32):y0(32);if(!jp){for(var rm=0;rm<512;++rm)z0[rm]=0;for(rm=0;rm<32;++rm)G0[rm]=0}(function(){for(var cp=[],Kp=0;Kp<32;Kp++)cp.push(5);o0(cp,G0,32);for(var yp=[],Kp=0;Kp<=143;Kp++)yp.push(8);for(;Kp<=255;Kp++)yp.push(9);for(;Kp<=279;Kp++)yp.push(7);for(;Kp<=287;Kp++)yp.push(8);o0(yp,z0,288)})();var Om=function(){for(var cp=jp?new Uint8Array(32768):[],Kp=0,yp=0;Kp<rp.length-1;++Kp)for(;yp<rp[Kp+1];++yp)cp[yp]=Kp;for(;yp<32768;++yp)cp[yp]=29;for(var zp=jp?new Uint8Array(259):[],Kp=0,yp=0;Kp<ep.length-1;++Kp)for(;yp<ep[Kp+1];++yp)zp[yp]=Kp;return function(vp,l0){return(vp.length<8?function(Wp,Xp){for(var Up=0;Up<Wp.length;){var _g=Math.min(65535,Wp.length-Up),p0=Up+_g==Wp.length;for(Xp.write_shift(1,+p0),Xp.write_shift(2,_g),Xp.write_shift(2,65535&~_g);0<_g--;)Xp[Xp.l++]=Wp[Up++]}return Xp.l}:function(Wp,Xp){for(var Up=0,_g=0,p0=jp?new Uint16Array(32768):[];_g<Wp.length;){var X0=Math.min(65535,Wp.length-_g);if(X0<10){for(7&(Up=D0(Xp,Up,+(_g+X0==Wp.length)))&&(Up+=8-(7&Up)),Xp.l=Up/8|0,Xp.write_shift(2,X0),Xp.write_shift(2,65535&~X0);0<X0--;)Xp[Xp.l++]=Wp[_g++];Up=8*Xp.l}else{Up=D0(Xp,Up,+(_g+X0==Wp.length)+2);for(var U0=0;0<X0--;){var k0=Wp[_g],U0=32767&(U0<<5^k0),W0=-1,Q0=0;if((W0=p0[U0])&&(_g<(W0|=-32768&_g)&&(W0-=32768),W0<_g))for(;Wp[W0+Q0]==Wp[_g+Q0]&&Q0<250;)++Q0;if(2<Q0){(k0=zp[Q0])<=22?Up=R0(Xp,Up,Ap[k0+1]>>1)-1:(R0(Xp,Up,3),R0(Xp,Up+=5,Ap[k0-23]>>5),Up+=3);var em=k0<8?0:k0-4>>2;0<em&&(b0(Xp,Up,Q0-ep[k0]),Up+=em),k0=cp[_g-W0],Up=R0(Xp,Up,Ap[k0]>>3),Up-=3;var A0=k0<4?0:k0-2>>1;0<A0&&(b0(Xp,Up,_g-W0-rp[k0]),Up+=A0);for(var g0=0;g0<Q0;++g0)p0[U0]=32767&_g,U0=32767&(U0<<5^Wp[_g]),++_g;X0-=Q0-1}else k0<=143?k0+=48:(em=((em=1)&em)<<(7&(A0=Up)),Xp[A0>>>3]|=em,Up=A0+1),Up=R0(Xp,Up,Ap[k0]),p0[U0]=32767&_g,++_g}Up=R0(Xp,Up,0)-1}}return Xp.l=(Up+7)/8|0,Xp.l})(vp,l0)}}();function N0(yp){var Kp=Zp(50+Math.floor(1.1*yp.length)),yp=Om(yp,Kp);return Kp.slice(0,yp)}var c0=jp?new Uint16Array(32768):y0(32768),ym=jp?new Uint16Array(32768):y0(32768),$m=jp?new Uint16Array(128):y0(128),Mm=1,Jm=1;function I1(cp,Kp){if(cp[0]==3&&!(3&cp[1]))return[$l(Kp),2];for(var yp=0,zp=0,vp=Vl(Kp||1<<18),l0=0,Wp=vp.length>>>0,Xp=0,Up=0;!(1&zp);)if(zp=e0(cp,yp),yp+=3,zp>>>1!=0)for(Up=zp>>1==1?(Xp=9,5):(yp=function(Q0,em){var A0,g0,tm,L0=t0(Q0,em)+257,w0=t0(Q0,em+=5)+1,nm=(tm=7&(g0=em+=5),4+(((A0=Q0)[g0=g0>>>3]|(tm<=4?0:A0[1+g0]<<8))>>>tm&15));em+=4;for(var im=0,h1=jp?new Uint8Array(19):y0(19),um=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Am=1,Z0=jp?new Uint8Array(8):y0(8),Nm=jp?new Uint8Array(8):y0(8),Bm=h1.length,F0=0;F0<nm;++F0)h1[Yu[F0]]=im=e0(Q0,em),Am<im&&(Am=im),Z0[im]++,em+=3;var H0=0;for(Z0[0]=0,F0=1;F0<=Am;++F0)Nm[F0]=H0=H0+Z0[F0-1]<<1;for(F0=0;F0<Bm;++F0)(H0=h1[F0])!=0&&(um[F0]=Nm[H0]++);for(var $0,F0=0;F0<Bm;++F0)if(($0=h1[F0])!=0){H0=Ap[um[F0]]>>8-$0;for(var Dm=(1<<7-$0)-1;0<=Dm;--Dm)$m[H0|Dm<<$0]=7&$0|F0<<3}for(var Vm,J1,sv,H1=[],Am=1;H1.length<L0+w0;)switch(em+=7&(H0=$m[Vp(Q0,em)]),H0>>>=3){case 16:for(im=3+(sv=void 0,sv=7&(J1=em),((Vm=Q0)[J1=J1>>>3]|(sv<=6?0:Vm[1+J1]<<8))>>>sv&3),em+=2,H0=H1[H1.length-1];0<im--;)H1.push(H0);break;case 17:for(im=3+e0(Q0,em),em+=3;0<im--;)H1.push(0);break;case 18:for(im=11+Vp(Q0,em),em+=7;0<im--;)H1.push(0);break;default:H1.push(H0),Am<H0&&(Am=H0)}var vv=H1.slice(0,L0),yv=H1.slice(L0);for(F0=L0;F0<286;++F0)vv[F0]=0;for(F0=w0;F0<30;++F0)yv[F0]=0;return Mm=o0(vv,c0,286),Jm=o0(yv,ym,30),em}(cp,yp),Xp=Mm,Jm);;){!Kp&&Wp<l0+32767&&(Wp=(vp=S0(vp,l0+32767)).length);var _g=h0(cp,yp,Xp),p0=(zp>>>1==1?z0:c0)[_g];if(yp+=15&p0,((p0>>>=4)>>>8&255)==0)vp[l0++]=p0;else{if(p0==256)break;var X0=(p0-=257)<8?0:p0-4>>2;5<X0&&(X0=0);var U0=l0+ep[p0];0<X0&&(U0+=h0(cp,yp,X0),yp+=X0),_g=h0(cp,yp,Up),yp+=15&(p0=(zp>>>1==1?G0:ym)[_g]);var _g=(p0>>>=4)<4?0:p0-2>>1,k0=rp[p0];for(0<_g&&(k0+=h0(cp,yp,_g),yp+=_g),!Kp&&Wp<U0&&(Wp=(vp=S0(vp,U0+100)).length);l0<U0;)vp[l0]=vp[l0-k0],++l0}}else{7&yp&&(yp+=8-(7&yp));var W0=cp[yp>>>3]|cp[1+(yp>>>3)]<<8;if(yp+=32,0<W0)for(!Kp&&Wp<l0+W0&&(Wp=(vp=S0(vp,l0+W0)).length);0<W0--;)vp[l0++]=cp[yp>>>3],yp+=8}return Kp?[vp,yp+7>>>3]:[vp.slice(0,l0),yp+7>>>3]}function Cp(cp,Kp){return Kp=I1(cp.slice(cp.l||0),Kp),cp.l+=Kp[1],Kp[0]}function Qm(cp,Kp){if(!cp)throw new Error(Kp);typeof console<"u"&&console.error(Kp)}function Km(cp,Kp){var yp=cp;D1(yp,0);var zp={FileIndex:[],FullPaths:[]};Ul(zp,{root:Kp.root});for(var vp=yp.length-4;(yp[vp]!=80||yp[vp+1]!=75||yp[vp+2]!=5||yp[vp+3]!=6)&&0<=vp;)--vp;yp.l=vp+4,yp.l+=4;var l0=yp.read_shift(2);for(yp.l+=6,Kp=yp.read_shift(4),yp.l=Kp,vp=0;vp<l0;++vp){yp.l+=20;var Wp=yp.read_shift(4),Xp=yp.read_shift(4),Up=yp.read_shift(2),_g=yp.read_shift(2),p0=yp.read_shift(2);yp.l+=8;var X0=yp.read_shift(4),U0=Al(yp.slice(yp.l+Up,yp.l+Up+_g));yp.l+=Up+_g+p0,p0=yp.l,yp.l=X0+4,function(k0,W0,Q0,em,A0){k0.l+=2;var g0=k0.read_shift(2),tm=k0.read_shift(2),L0=function(Vm){var F0=65535&Vm.read_shift(2),H0=65535&Vm.read_shift(2),$0=new Date,Dm=31&H0,Vm=15&(H0>>>=5);return H0>>>=4,$0.setMilliseconds(0),$0.setFullYear(1980+H0),$0.setMonth(Vm-1),$0.setDate(Dm),Vm=31&F0,Dm=63&(F0>>>=5),F0>>>=6,$0.setHours(F0),$0.setMinutes(Dm),$0.setSeconds(Vm<<1),$0}(k0);if(8257&g0)throw new Error("Unsupported ZIP encryption");k0.read_shift(4);for(var w0,nm=k0.read_shift(4),im=k0.read_shift(4),h1=k0.read_shift(2),um=k0.read_shift(2),Am="",Z0=0;Z0<h1;++Z0)Am+=String.fromCharCode(k0[k0.l++]);um&&(((w0=Al(k0.slice(k0.l,k0.l+um)))[21589]||{}).mt&&(L0=w0[21589].mt),((A0||{})[21589]||{}).mt&&(L0=A0[21589].mt)),k0.l+=um;var Nm=k0.slice(k0.l,k0.l+nm);switch(tm){case 8:Nm=function(Bm,$0){if(!ou)return Cp(Bm,$0);var H0=new ou.InflateRaw,$0=H0._processChunk(Bm.slice(Bm.l),H0._finishFlushFlag);return Bm.l+=H0.bytesRead,$0}(k0,im);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+tm)}um=!1,8&g0&&(k0.read_shift(4)==134695760&&(k0.read_shift(4),um=!0),nm=k0.read_shift(4),im=k0.read_shift(4)),nm!=W0&&Qm(um,"Bad compressed size: "+W0+" != "+nm),im!=Q0&&Qm(um,"Bad uncompressed size: "+Q0+" != "+im),uy(em,Am,Nm,{unsafe:!0,mt:L0})}(yp,Wp,Xp,zp,U0),yp.l=p0}return zp}var Z1={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function uy(cp,Kp,yp,zp){var vp=zp&&zp.unsafe;vp||Ul(cp);var l0,Wp=!vp&&Pp.find(cp,Kp);return Wp||(l0=cp.FullPaths[0],l0=Kp.slice(0,l0.length)==l0?Kp:(l0.slice(-1)!="/"&&(l0+="/"),(l0+Kp).replace("//","/")),Wp={name:El(Kp),type:2},cp.FileIndex.push(Wp),cp.FullPaths.push(l0),vp||Pp.utils.cfb_gc(cp)),Wp.content=yp,Wp.size=yp?yp.length:0,zp&&(zp.CLSID&&(Wp.clsid=zp.CLSID),zp.mt&&(Wp.mt=zp.mt),zp.ct&&(Wp.ct=zp.ct)),Wp}return yl.find=function(cp,Kp){var yp=cp.FullPaths.map(function(Up){return Up.toUpperCase()}),zp=yp.map(function(Up){var _g=Up.split("/");return _g[_g.length-(Up.slice(-1)=="/"?2:1)]}),vp=!1;Kp.charCodeAt(0)===47?(vp=!0,Kp=yp[0].slice(0,-1)+Kp):vp=Kp.indexOf("/")!==-1;var Xp=Kp.toUpperCase(),l0=(vp===!0?yp:zp).indexOf(Xp);if(l0!==-1)return cp.FileIndex[l0];var Wp=!Xp.match(zu),Xp=Xp.replace(ju,"");for(Wp&&(Xp=Xp.replace(zu,"!")),l0=0;l0<yp.length;++l0)if((Wp?yp[l0].replace(zu,"!"):yp[l0]).replace(ju,"")==Xp||(Wp?zp[l0].replace(zu,"!"):zp[l0]).replace(ju,"")==Xp)return cp.FileIndex[l0];return null},yl.read=function(cp,Kp){var yp,zp,vp=Kp&&Kp.type;switch(vp||Nl&&Buffer.isBuffer(cp)&&(vp="buffer"),vp||"base64"){case"file":return yp=cp,zp=Kp,Pl(),Rl(ga.readFileSync(yp),zp);case"base64":return Rl(Gl(Ll(cp)),Kp);case"binary":return Rl(Gl(cp),Kp)}return Rl(cp,Kp)},yl.parse=Rl,yl.write=function(cp,Kp){var yp=Xl(cp,Kp);switch(Kp&&Kp.type||"buffer"){case"file":return Pl(),ga.writeFileSync(Kp.filename,yp),yp;case"binary":return typeof yp=="string"?yp:Su(yp);case"base64":return Bl(typeof yp=="string"?yp:Su(yp));case"buffer":if(Nl)return Buffer.isBuffer(yp)?yp:zl(yp);case"array":return typeof yp=="string"?Gl(yp):yp}return yp},yl.writeFile=function(cp,Kp,yp){Pl(),yp=Xl(cp,yp),ga.writeFileSync(Kp,yp)},yl.utils={cfb_new:function(cp){var Kp={};return Ul(Kp,cp),Kp},cfb_add:uy,cfb_del:function(cp,Kp){Ul(cp);var yp=Pp.find(cp,Kp);if(yp){for(var zp=0;zp<cp.FileIndex.length;++zp)if(cp.FileIndex[zp]==yp)return cp.FileIndex.splice(zp,1),cp.FullPaths.splice(zp,1),!0}return!1},cfb_mov:function(cp,Kp,yp){Ul(cp);var zp=Pp.find(cp,Kp);if(zp){for(var vp=0;vp<cp.FileIndex.length;++vp)if(cp.FileIndex[vp]==zp)return cp.FileIndex[vp].name=El(yp),cp.FullPaths[vp]=yp,!0}return!1},cfb_gc:function(cp){Wl(cp,!0)},ReadShift:$y,CheckField:Dx,prep_blob:D1,bconcat:lu,use_zlib:function(cp){try{var Kp=new cp.InflateRaw;if(Kp._processChunk(new Uint8Array([3,0]),Kp._finishFlushFlag),!Kp.bytesRead)throw new Error("zlib does not expose bytesRead");ou=cp}catch(yp){console.error("cannot use native zlib: "+(yp.message||yp))}},_deflateRaw:N0,_inflateRaw:Cp,consts:Bu},yl}();if(typeof commonjsRequire<"u")try{wp=requireEmpty()}catch{}function n0(ga){return typeof ga=="string"?iu(ga):Array.isArray(ga)?function(yl){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(yl)}(ga):ga}function Jp(ga,yl,xl){if(wp!==void 0&&wp.writeFileSync)return xl?wp.writeFileSync(ga,yl,xl):wp.writeFileSync(ga,yl);if(typeof Deno<"u"){if(xl&&typeof yl=="string")switch(xl){case"utf8":yl=new TextEncoder(xl).encode(yl);break;case"binary":yl=iu(yl);break;default:throw new Error("Unsupported encoding "+xl)}return Deno.writeFileSync(ga,yl)}var El=xl=="utf8"?$v(yl):yl;if(typeof IE_SaveFile<"u")return IE_SaveFile(El,ga);if(typeof Blob<"u"){if(El=new Blob([n0(El)],{type:"application/octet-stream"}),typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(El,ga);if(typeof saveAs<"u")return saveAs(El,ga);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var Al=URL.createObjectURL(El);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Al)},6e4),chrome.downloads.download({url:Al,filename:ga,saveAs:!0});if(El=document.createElement("a"),El.download!=null)return El.download=ga,El.href=Al,document.body.appendChild(El),El.click(),document.body.removeChild(El),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Al)},6e4),Al}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var Pl=File(ga);return Pl.open("w"),Pl.encoding="binary",Array.isArray(yl)&&(yl=nu(yl)),Pl.write(yl),Pl.close(),yl}catch(Rl){if(!Rl.message||!Rl.message.match(/onstruct/))throw Rl}throw new Error("cannot save file "+ga)}function Ju(ga){for(var yl=Object.keys(ga),xl=[],El=0;El<yl.length;++El)Object.prototype.hasOwnProperty.call(ga,yl[El])&&xl.push(yl[El]);return xl}function _d(ga,yl){for(var xl=[],El=Ju(ga),Al=0;Al!==El.length;++Al)xl[ga[El[Al]][yl]]==null&&(xl[ga[El[Al]][yl]]=El[Al]);return xl}function hp(ga){for(var yl=[],xl=Ju(ga),El=0;El!==xl.length;++El)yl[ga[xl[El]]]=xl[El];return yl}function xp(ga){for(var yl=[],xl=Ju(ga),El=0;El!==xl.length;++El)yl[ga[xl[El]]]=parseInt(xl[El],10);return yl}var Ru=new Date(1899,11,30,0,0,0);function sp(ga,yl){var xl=ga.getTime();return(xl-(Ru.getTime()+6e4*(ga.getTimezoneOffset()-Ru.getTimezoneOffset())))/864e5}var lp=new Date,Ip=Ru.getTime()+6e4*(lp.getTimezoneOffset()-Ru.getTimezoneOffset()),_p=lp.getTimezoneOffset();function Mp(ga){var yl=new Date;return yl.setTime(24*ga*60*60*1e3+Ip),yl.getTimezoneOffset()!==_p&&yl.setTime(yl.getTime()+6e4*(yl.getTimezoneOffset()-_p)),yl}var d0=new Date("2017-02-19T19:06:09.000Z"),dp=isNaN(d0.getFullYear())?new Date("2/19/17"):d0,a0=dp.getFullYear()==2017;function Dp(ga,yl){var xl=new Date(ga);return a0?(0<yl?xl.setTime(xl.getTime()+60*xl.getTimezoneOffset()*1e3):yl<0&&xl.setTime(xl.getTime()-60*xl.getTimezoneOffset()*1e3),xl):ga instanceof Date?ga:dp.getFullYear()==1917&&!isNaN(xl.getFullYear())?(yl=xl.getFullYear(),-1<ga.indexOf(""+yl)||xl.setFullYear(xl.getFullYear()+100),xl):(xl=ga.match(/\d+/g)||["2017","2","19","0","0","0"],xl=new Date(+xl[0],+xl[1]-1,+xl[2],+xl[3]||0,+xl[4]||0,+xl[5]||0),xl=-1<ga.indexOf("Z")?new Date(xl.getTime()-60*xl.getTimezoneOffset()*1e3):xl)}function _0(ga,yl){if(Nl&&Buffer.isBuffer(ga)){if(yl){if(ga[0]==255&&ga[1]==254)return $v(ga.slice(2).toString("utf16le"));if(ga[1]==254&&ga[2]==255)return $v(Il(ga.slice(2).toString("binary")))}return ga.toString("binary")}if(typeof TextDecoder<"u")try{if(yl){if(ga[0]==255&&ga[1]==254)return $v(new TextDecoder("utf-16le").decode(ga.slice(2)));if(ga[0]==254&&ga[1]==255)return $v(new TextDecoder("utf-16be").decode(ga.slice(2)))}var xl={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(ga)&&(ga=new Uint8Array(ga)),new TextDecoder("latin1").decode(ga).replace(/[]/g,function(Pl){return xl[Pl]||Pl})}catch{}for(var El=[],Al=0;Al!=ga.length;++Al)El.push(String.fromCharCode(ga[Al]));return El.join("")}function E0(ga){if(typeof JSON<"u"&&!Array.isArray(ga))return JSON.parse(JSON.stringify(ga));if(typeof ga!="object"||ga==null)return ga;if(ga instanceof Date)return new Date(ga.getTime());var yl,xl={};for(yl in ga)Object.prototype.hasOwnProperty.call(ga,yl)&&(xl[yl]=E0(ga[yl]));return xl}function P0(ga,yl){for(var xl="";xl.length<yl;)xl+=ga;return xl}function sm(El){var yl=Number(El);if(!isNaN(yl))return isFinite(yl)?yl:NaN;if(!/\d/.test(El))return yl;var xl=1,El=El.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return xl*=100,""});return isNaN(yl=Number(El))?(El=El.replace(/[(](.*)[)]/,function(Al,Pl){return xl=-xl,Pl}),isNaN(yl=Number(El))?yl:yl/xl):yl/xl}var Y0=["january","february","march","april","may","june","july","august","september","october","november","december"];function _m(ga){var yl=new Date(ga),xl=new Date(NaN),El=yl.getYear(),Al=yl.getMonth(),Pl=yl.getDate();if(isNaN(Pl))return xl;var Rl=ga.toLowerCase();if(Rl.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(3<(Rl=Rl.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length&&Y0.indexOf(Rl)==-1)return xl}else if(Rl.match(/[a-z]/))return xl;return El<0||8099<El||(!(0<Al||1<Pl)||El==101)&&ga.match(/[^-0-9:,\/\\]/)?xl:yl}var Em,om=(Em="abacaba".split(/(:?b)/i).length==5,function(ga,yl,xl){if(Em||typeof yl=="string")return ga.split(yl);for(var El=ga.split(yl),Al=[El[0]],Pl=1;Pl<El.length;++Pl)Al.push(xl),Al.push(El[Pl]);return Al});function _1(ga){return ga?ga.content&&ga.type?_0(ga.content,!0):ga.data?Fl(ga.data):ga.asNodeBuffer&&Nl?Fl(ga.asNodeBuffer().toString("binary")):ga.asBinary?Fl(ga.asBinary()):ga._data&&ga._data.getContent?Fl(_0(Array.prototype.slice.call(ga._data.getContent(),0))):null:null}function Pm(ga){if(!ga)return null;if(ga.data)return _l(ga.data);if(ga.asNodeBuffer&&Nl)return ga.asNodeBuffer();if(ga._data&&ga._data.getContent){var yl=ga._data.getContent();return typeof yl=="string"?_l(yl):Array.prototype.slice.call(yl)}return ga.content&&ga.type?ga.content:null}function p1(ga,yl){for(var xl=ga.FullPaths||Ju(ga.files),El=yl.toLowerCase().replace(/[\/]/g,"\\"),Al=El.replace(/\\/g,"/"),Pl=0;Pl<xl.length;++Pl){var Rl=xl[Pl].replace(/^Root Entry[\/]/,"").toLowerCase();if(El==Rl||Al==Rl)return ga.files?ga.files[xl[Pl]]:ga.FileIndex[Pl]}return null}function s1(ga,yl){if(ga=p1(ga,yl),ga==null)throw new Error("Cannot find file "+yl+" in zip");return ga}function e1(ga,yl,xl){if(!xl)return((xl=s1(ga,yl))&&xl.name.slice(-4)===".bin"?Pm:_1)(xl);if(!yl)return null;try{return e1(ga,yl)}catch{return null}}function q0(ga,yl,xl){if(!xl)return _1(s1(ga,yl));if(!yl)return null;try{return q0(ga,yl)}catch{return null}}function q1(ga){for(var yl=ga.FullPaths||Ju(ga.files),xl=[],El=0;El<yl.length;++El)yl[El].slice(-1)!="/"&&xl.push(yl[El].replace(/^Root Entry[\/]/,""));return xl.sort()}function j0(ga,yl,xl){if(ga.FullPaths){if(typeof xl=="string"){var El=(Nl?zl:function(Al){for(var Pl=[],Rl=0,Ol=Al.length+250,Ul=$l(Al.length+255),Wl=0;Wl<Al.length;++Wl){var Xl,ou=Al.charCodeAt(Wl);ou<128?Ul[Rl++]=ou:ou<2048?(Ul[Rl++]=192|ou>>6&31,Ul[Rl++]=128|63&ou):55296<=ou&&ou<57344?(ou=64+(1023&ou),Xl=1023&Al.charCodeAt(++Wl),Ul[Rl++]=240|ou>>8&7,Ul[Rl++]=128|ou>>2&63,Ul[Rl++]=128|Xl>>6&15|(3&ou)<<4,Ul[Rl++]=128|63&Xl):(Ul[Rl++]=224|ou>>12&15,Ul[Rl++]=128|ou>>6&63,Ul[Rl++]=128|63&ou),Ol<Rl&&(Pl.push(Ul.slice(0,Rl)),Rl=0,Ul=$l(65535),Ol=65530)}return Pl.push(Ul.slice(0,Rl)),lu(Pl)})(xl);return Pp.utils.cfb_add(ga,yl,El)}Pp.utils.cfb_add(ga,yl,xl)}else ga.file(yl,xl)}function xm(){return Pp.utils.cfb_new()}function V1(ga,yl){switch(yl.type){case"base64":return Pp.read(ga,{type:"base64"});case"binary":return Pp.read(ga,{type:"binary"});case"buffer":case"array":return Pp.read(ga,{type:"buffer"})}throw new Error("Unrecognized type "+yl.type)}function Pv(ga,yl){if(ga.charAt(0)=="/")return ga.slice(1);var xl=yl.split("/");yl.slice(-1)!="/"&&xl.pop();for(var El=ga.split("/");El.length!==0;){var Al=El.shift();Al===".."?xl.pop():Al!=="."&&xl.push(Al)}return xl.join("/")}var t1=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Sy=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,H2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,hm=t1.match(H2)?H2:/<[^>]*>/g,K0=/<\w*:/,pm=/<(\/?)\w+:/;function am(ga,yl,xl){for(var El={},Al=0,Pl=0;Al!==ga.length&&(Pl=ga.charCodeAt(Al))!==32&&Pl!==10&&Pl!==13;++Al);if(yl||(El[0]=ga.slice(0,Al)),Al===ga.length)return El;var Rl,Ol,Ul,Wl=ga.match(Sy),Xl=0,ou=0,au="",du="";if(Wl)for(ou=0;ou!=Wl.length;++ou){for(du=Wl[ou],Pl=0;Pl!=du.length&&du.charCodeAt(Pl)!==61;++Pl);for(au=du.slice(0,Pl).trim();du.charCodeAt(Pl+1)==32;)++Pl;for(Ol=(Al=du.charCodeAt(Pl+1))==34||Al==39?1:0,Rl=du.slice(Pl+1+Ol,du.length-Ol),Xl=0;Xl!=au.length&&au.charCodeAt(Xl)!==58;++Xl);Xl===au.length?(El[au=0<au.indexOf("_")?au.slice(0,au.indexOf("_")):au]=Rl,El[au.toLowerCase()]=Rl):El[Ul=(Xl===5&&au.slice(0,5)==="xmlns"?"xmlns":"")+au.slice(Xl+1)]&&au.slice(Xl-3,Xl)=="ext"||(El[Ul]=Rl,El[Ul.toLowerCase()]=Rl)}return El}function x1(ga){return ga.replace(pm,"<$1")}var Fy,L1,Uv={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Jv=hp(Uv),dm=(Fy=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,L1=/_x([\da-fA-F]{4})_/gi,function ga(yl){var xl=yl+"",El=xl.indexOf("<![CDATA[");return El==-1?xl.replace(Fy,function(Al,Pl){return Uv[Al]||String.fromCharCode(parseInt(Pl,-1<Al.indexOf("x")?16:10))||Al}).replace(L1,function(Al,Pl){return String.fromCharCode(parseInt(Pl,16))}):(yl=xl.indexOf("]]>"),ga(xl.slice(0,El))+xl.slice(El+9,yl)+ga(xl.slice(yl+3)))}),xv=/[&<>'"]/g,B0=/[\u0000-\u0008\u000b-\u001f]/g;function bm(ga){return(ga+"").replace(xv,function(yl){return Jv[yl]}).replace(B0,function(yl){return"_x"+("000"+yl.charCodeAt(0).toString(16)).slice(-4)+"_"})}function dy(ga){return bm(ga).replace(/ /g,"_x0020_")}var vm=/[\u0000-\u001f]/g;function b1(ga){return(ga+"").replace(xv,function(yl){return Jv[yl]}).replace(/\n/g,"<br/>").replace(vm,function(yl){return"&#x"+("000"+yl.charCodeAt(0).toString(16)).slice(-4)+";"})}var Fm,g1=(Fm=/&#(\d+);/g,function(ga){return ga.replace(Fm,jy)});function jy(ga,yl){return String.fromCharCode(parseInt(yl,10))}function J0(ga){switch(ga){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ym(ga){for(var yl,xl,El,Al,Pl="",Rl=0,Ol=0;Rl<ga.length;)(yl=ga.charCodeAt(Rl++))<128?Pl+=String.fromCharCode(yl):(xl=ga.charCodeAt(Rl++),191<yl&&yl<224?(Ol=(31&yl)<<6,Ol|=63&xl,Pl+=String.fromCharCode(Ol)):(El=ga.charCodeAt(Rl++),yl<240?Pl+=String.fromCharCode((15&yl)<<12|(63&xl)<<6|63&El):(Al=((7&yl)<<18|(63&xl)<<12|(63&El)<<6|63&(Ol=ga.charCodeAt(Rl++)))-65536,Pl+=String.fromCharCode(55296+(Al>>>10&1023)),Pl+=String.fromCharCode(56320+(1023&Al)))));return Pl}function A1(ga){for(var yl,xl,El=$l(2*ga.length),Al=1,Pl=0,Rl=0,Ol=0;Ol<ga.length;Ol+=Al)Al=1,(xl=ga.charCodeAt(Ol))<128?yl=xl:xl<224?(yl=64*(31&xl)+(63&ga.charCodeAt(Ol+1)),Al=2):xl<240?(yl=4096*(15&xl)+64*(63&ga.charCodeAt(Ol+1))+(63&ga.charCodeAt(Ol+2)),Al=3):(Al=4,yl=262144*(7&xl)+4096*(63&ga.charCodeAt(Ol+1))+64*(63&ga.charCodeAt(Ol+2))+(63&ga.charCodeAt(Ol+3)),Rl=55296+((yl-=65536)>>>10&1023),yl=56320+(1023&yl)),Rl!==0&&(El[Pl++]=255&Rl,El[Pl++]=Rl>>>8,Rl=0),El[Pl++]=yl%256,El[Pl++]=yl>>>8;return El.slice(0,Pl).toString("ucs2")}function T1(ga){return zl(ga,"binary").toString("utf8")}var Lm,Q1,n1,Hx="foo bar baz",Tm=Nl&&(T1(Hx)==Ym(Hx)?T1:A1(Hx)==Ym(Hx)&&A1)||Ym,$v=Nl?function(ga){return zl(ga,"utf8").toString("binary")}:function(ga){for(var yl,xl=[],El=0,Al=0;El<ga.length;)switch(!0){case(Al=ga.charCodeAt(El++))<128:xl.push(String.fromCharCode(Al));break;case Al<2048:xl.push(String.fromCharCode(192+(Al>>6))),xl.push(String.fromCharCode(128+(63&Al)));break;case(55296<=Al&&Al<57344):Al-=55296,yl=ga.charCodeAt(El++)-56320+(Al<<10),xl.push(String.fromCharCode(240+(yl>>18&7))),xl.push(String.fromCharCode(144+(yl>>12&63))),xl.push(String.fromCharCode(128+(yl>>6&63))),xl.push(String.fromCharCode(128+(63&yl)));break;default:xl.push(String.fromCharCode(224+(Al>>12))),xl.push(String.fromCharCode(128+(Al>>6&63))),xl.push(String.fromCharCode(128+(63&Al)))}return xl.join("")},My=(Lm={},function(ga,yl){var xl=ga+"|"+(yl||"");return Lm[xl]||(Lm[xl]=new RegExp("<(?:\\w+:)?"+ga+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+ga+">",yl||""))}),Qv=(Q1=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(ga){return[new RegExp("&"+ga[0]+";","ig"),ga[1]]}),function(ga){for(var yl=ga.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),xl=0;xl<Q1.length;++xl)yl=yl.replace(Q1[xl][0],Q1[xl][1]);return yl}),ov=(n1={},function(ga){return n1[ga]!==void 0?n1[ga]:n1[ga]=new RegExp("<(?:vt:)?"+ga+">([\\s\\S]*?)</(?:vt:)?"+ga+">","g")}),B1=/<\/?(?:vt:)?variant>/g,U1=/<(?:vt:)([^>]*)>([\s\S]*)</;function Wm(El,yl){var xl=am(El),El=El.match(ov(xl.baseType))||[],Al=[];if(El.length==xl.size)return El.forEach(function(Pl){Pl=Pl.replace(B1,"").match(U1),Pl&&Al.push({v:Tm(Pl[2]),t:Pl[1]})}),Al;if(yl.WTF)throw new Error("unexpected vector length "+El.length+" != "+xl.size);return Al}var bv=/(^\s|\s$|\n)/;function d1(ga,yl){return"<"+ga+(yl.match(bv)?' xml:space="preserve"':"")+">"+yl+"</"+ga+">"}function uv(ga){return Ju(ga).map(function(yl){return" "+yl+'="'+ga[yl]+'"'}).join("")}function v0(ga,yl,xl){return"<"+ga+(xl!=null?uv(xl):"")+(yl!=null?(yl.match(bv)?' xml:space="preserve"':"")+">"+yl+"</"+ga:"/")+">"}function Iv(ga,yl){try{return ga.toISOString().replace(/\.\d*/,"")}catch(xl){if(yl)throw xl}return""}function ax(ga){if(Nl&&Buffer.isBuffer(ga))return ga.toString("utf8");if(typeof ga=="string")return ga;if(typeof Uint8Array<"u"&&ga instanceof Uint8Array)return Tm(nu(Jl(ga)));throw new Error("Bad input format: expected Buffer or string")}var hv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,Cm={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zv=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],O1={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function G1(ga){for(var yl=[],xl=0;xl<ga[0].length;++xl)if(ga[0][xl])for(var El=0,Al=ga[0][xl].length;El<Al;El+=10240)yl.push.apply(yl,ga[0][xl].slice(El,El+10240));return yl}function av(ga,yl,xl){for(var El=[],Al=yl;Al<xl;Al+=2)El.push(String.fromCharCode(Wv(ga,Al)));return El.join("").replace(ju,"")}function Ny(ga,yl,xl){for(var El=[],Al=yl;Al<yl+xl;++Al)El.push(("0"+ga[Al].toString(16)).slice(-2));return El.join("")}function dv(ga,yl,xl){for(var El=[],Al=yl;Al<xl;Al++)El.push(String.fromCharCode(ry(ga,Al)));return El.join("")}function Ly(ga,yl){var xl=a1(ga,yl);return 0<xl?K1(ga,yl+4,yl+4+xl-1):""}function By(ga,yl){var xl=a1(ga,yl);return 0<xl?K1(ga,yl+4,yl+4+xl-1):""}function fy(ga,yl){var xl=2*a1(ga,yl);return 0<xl?K1(ga,yl+4,yl+4+xl-1):""}function kx(ga,yl){var xl=a1(ga,yl);return 0<xl?ey(ga,yl+4,yl+4+xl):""}function gy(ga,yl){var xl=a1(ga,yl);return 0<xl?K1(ga,yl+4,yl+4+xl):""}function Cy(ga,yl){for(var xl=1-2*(ga[yl+7]>>>7),El=((127&ga[yl+7])<<4)+(ga[yl+6]>>>4&15),Al=15&ga[yl+6],Pl=5;0<=Pl;--Pl)Al=256*Al+ga[yl+Pl];return El==2047?Al==0?1/0*xl:NaN:(El==0?El=-1022:(El-=1023,Al+=Math.pow(2,52)),xl*Math.pow(2,El-52)*Al)}var Uy=Nl?function(ga){return 0<ga[0].length&&Buffer.isBuffer(ga[0][0])?Buffer.concat(ga[0].map(function(yl){return Buffer.isBuffer(yl)?yl:zl(yl)})):G1(ga)}:G1,ey=Nl?function(ga,yl,xl){return Buffer.isBuffer(ga)?ga.toString("utf16le",yl,xl).replace(ju,""):av(ga,yl,xl)}:av,w1=Nl?function(ga,yl,xl){return Buffer.isBuffer(ga)?ga.toString("hex",yl,yl+xl):Ny(ga,yl,xl)}:Ny,K1=Nl?function(ga,yl,xl){return Buffer.isBuffer(ga)?ga.toString("utf8",yl,xl):dv(ga,yl,xl)}:dv,wm=Ly,Ov=By,$1=fy,ty=kx,f1=gy,wv=Cy,Zy=function(ga){return Array.isArray(ga)||typeof Uint8Array<"u"&&ga instanceof Uint8Array};Nl&&(wm=function(ga,yl){if(!Buffer.isBuffer(ga))return Ly(ga,yl);var xl=ga.readUInt32LE(yl);return 0<xl?ga.toString("utf8",yl+4,yl+4+xl-1):""},Ov=function(ga,yl){if(!Buffer.isBuffer(ga))return By(ga,yl);var xl=ga.readUInt32LE(yl);return 0<xl?ga.toString("utf8",yl+4,yl+4+xl-1):""},$1=function(ga,yl){if(!Buffer.isBuffer(ga))return fy(ga,yl);var xl=2*ga.readUInt32LE(yl);return ga.toString("utf16le",yl+4,yl+4+xl-1)},ty=function(ga,yl){if(!Buffer.isBuffer(ga))return kx(ga,yl);var xl=ga.readUInt32LE(yl);return ga.toString("utf16le",yl+4,yl+4+xl)},f1=function(ga,yl){if(!Buffer.isBuffer(ga))return gy(ga,yl);var xl=ga.readUInt32LE(yl);return ga.toString("utf8",yl+4,yl+4+xl)},wv=function(ga,yl){return Buffer.isBuffer(ga)?ga.readDoubleLE(yl):Cy(ga,yl)},Zy=function(ga){return Buffer.isBuffer(ga)||Array.isArray(ga)||typeof Uint8Array<"u"&&ga instanceof Uint8Array}),hs!==void 0&&(ey=function(ga,yl,xl){return hs.utils.decode(1200,ga.slice(yl,xl)).replace(ju,"")},K1=function(ga,yl,xl){return hs.utils.decode(65001,ga.slice(yl,xl))},wm=function(ga,yl){var xl=a1(ga,yl);return 0<xl?hs.utils.decode(xa,ga.slice(yl+4,yl+4+xl-1)):""},Ov=function(ga,yl){var xl=a1(ga,yl);return 0<xl?hs.utils.decode(uo,ga.slice(yl+4,yl+4+xl-1)):""},$1=function(ga,yl){var xl=2*a1(ga,yl);return 0<xl?hs.utils.decode(1200,ga.slice(yl+4,yl+4+xl-1)):""},ty=function(ga,yl){var xl=a1(ga,yl);return 0<xl?hs.utils.decode(1200,ga.slice(yl+4,yl+4+xl)):""},f1=function(ga,yl){var xl=a1(ga,yl);return 0<xl?hs.utils.decode(65001,ga.slice(yl+4,yl+4+xl)):""});var ry=function(ga,yl){return ga[yl]},Wv=function(ga,yl){return 256*ga[yl+1]+ga[yl]},lx=function(ga,yl){return yl=256*ga[yl+1]+ga[yl],yl<32768?yl:-1*(65535-yl+1)},a1=function(ga,yl){return ga[yl+3]*(1<<24)+(ga[yl+2]<<16)+(ga[yl+1]<<8)+ga[yl]},Ev=function(ga,yl){return ga[yl+3]<<24|ga[yl+2]<<16|ga[yl+1]<<8|ga[yl]},Px=function(ga,yl){return ga[yl]<<24|ga[yl+1]<<16|ga[yl+2]<<8|ga[yl+3]};function $y(ga,yl){var xl,El,Al,Pl,Rl,Ol,Ul="",Wl=[];switch(yl){case"dbcs":if(Ol=this.l,Nl&&Buffer.isBuffer(this))Ul=this.slice(this.l,this.l+2*ga).toString("utf16le");else for(Rl=0;Rl<ga;++Rl)Ul+=String.fromCharCode(Wv(this,Ol)),Ol+=2;ga*=2;break;case"utf8":Ul=K1(this,this.l,this.l+ga);break;case"utf16le":ga*=2,Ul=ey(this,this.l,this.l+ga);break;case"wstr":if(hs===void 0)return $y.call(this,ga,"dbcs");Ul=hs.utils.decode(uo,this.slice(this.l,this.l+2*ga)),ga*=2;break;case"lpstr-ansi":Ul=wm(this,this.l),ga=4+a1(this,this.l);break;case"lpstr-cp":Ul=Ov(this,this.l),ga=4+a1(this,this.l);break;case"lpwstr":Ul=$1(this,this.l),ga=4+2*a1(this,this.l);break;case"lpp4":ga=4+a1(this,this.l),Ul=ty(this,this.l),2&ga&&(ga+=2);break;case"8lpp4":ga=4+a1(this,this.l),Ul=f1(this,this.l),3&ga&&(ga+=4-(3&ga));break;case"cstr":for(ga=0,Ul="";(Al=ry(this,this.l+ga++))!==0;)Wl.push(Ml(Al));Ul=Wl.join("");break;case"_wstr":for(ga=0,Ul="";(Al=Wv(this,this.l+ga))!==0;)Wl.push(Ml(Al)),ga+=2;ga+=2,Ul=Wl.join("");break;case"dbcs-cont":for(Ul="",Ol=this.l,Rl=0;Rl<ga;++Rl){if(this.lens&&this.lens.indexOf(Ol)!==-1)return Al=ry(this,Ol),this.l=Ol+1,Pl=$y.call(this,ga-Rl,Al?"dbcs-cont":"sbcs-cont"),Wl.join("")+Pl;Wl.push(Ml(Wv(this,Ol))),Ol+=2}Ul=Wl.join(""),ga*=2;break;case"cpstr":if(hs!==void 0){Ul=hs.utils.decode(uo,this.slice(this.l,this.l+ga));break}case"sbcs-cont":for(Ul="",Ol=this.l,Rl=0;Rl!=ga;++Rl){if(this.lens&&this.lens.indexOf(Ol)!==-1)return Al=ry(this,Ol),this.l=Ol+1,Pl=$y.call(this,ga-Rl,Al?"dbcs-cont":"sbcs-cont"),Wl.join("")+Pl;Wl.push(Ml(ry(this,Ol))),Ol+=1}Ul=Wl.join("");break;default:switch(ga){case 1:return xl=ry(this,this.l),this.l++,xl;case 2:return xl=(yl==="i"?lx:Wv)(this,this.l),this.l+=2,xl;case 4:case-4:return yl==="i"||!(128&this[this.l+3])?(xl=(0<ga?Ev:Px)(this,this.l),this.l+=4,xl):(El=a1(this,this.l),this.l+=4,El);case 8:case-8:if(yl==="f")return El=ga==8?wv(this,this.l):wv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,El;ga=8;case 16:Ul=w1(this,this.l,ga)}}return this.l+=ga,Ul}var Zx=function(ga,yl,xl){ga[xl]=255&yl,ga[xl+1]=yl>>>8&255,ga[xl+2]=yl>>>16&255,ga[xl+3]=yl>>>24&255},Jx=function(ga,yl,xl){ga[xl]=255&yl,ga[xl+1]=yl>>8&255,ga[xl+2]=yl>>16&255,ga[xl+3]=yl>>24&255},Ix=function(ga,yl,xl){ga[xl]=255&yl,ga[xl+1]=yl>>>8&255};function Ox(ga,yl,xl){var El=0,Al=0;if(xl==="dbcs"){for(Al=0;Al!=yl.length;++Al)Ix(this,yl.charCodeAt(Al),this.l+2*Al);El=2*yl.length}else if(xl==="sbcs"){if(hs!==void 0&&xa==874)for(Al=0;Al!=yl.length;++Al){var Pl=hs.utils.encode(xa,yl.charAt(Al));this[this.l+Al]=Pl[0]}else for(yl=yl.replace(/[^\x00-\x7F]/g,"_"),Al=0;Al!=yl.length;++Al)this[this.l+Al]=255&yl.charCodeAt(Al);El=yl.length}else{if(xl==="hex"){for(;Al<ga;++Al)this[this.l++]=parseInt(yl.slice(2*Al,2*Al+2),16)||0;return this}if(xl==="utf16le"){for(var Rl=Math.min(this.l+ga,this.length),Al=0;Al<Math.min(yl.length,ga);++Al){var Ol=yl.charCodeAt(Al);this[this.l++]=255&Ol,this[this.l++]=Ol>>8}for(;this.l<Rl;)this[this.l++]=0;return this}switch(ga){case 1:El=1,this[this.l]=255&yl;break;case 2:El=2,this[this.l]=255&yl,yl>>>=8,this[this.l+1]=255&yl;break;case 3:El=3,this[this.l]=255&yl,yl>>>=8,this[this.l+1]=255&yl,yl>>>=8,this[this.l+2]=255&yl;break;case 4:El=4,Zx(this,yl,this.l);break;case 8:if(El=8,xl==="f"){(function(Ul,Wl,Xl){var ou=(Wl<0||1/Wl==-1/0?1:0)<<7,au=0,du=0,Du=ou?-Wl:Wl;isFinite(Du)?Du==0?au=du=0:(au=Math.floor(Math.log(Du)/Math.LN2),du=Du*Math.pow(2,52-au),au<=-1023&&(!isFinite(du)||du<Math.pow(2,52))?au=-1022:(du-=Math.pow(2,52),au+=1023)):(au=2047,du=isNaN(Wl)?26985:0);for(var xu=0;xu<=5;++xu,du/=256)Ul[Xl+xu]=255&du;Ul[Xl+6]=(15&au)<<4|15&du,Ul[Xl+7]=au>>4|ou})(this,yl,this.l);break}case 16:break;case-4:El=4,Jx(this,yl,this.l)}}return this.l+=El,this}function Dx(ga,yl){var xl=w1(this,this.l,ga.length>>1);if(xl!==ga)throw new Error(yl+"Expected "+ga+" saw "+xl);this.l+=ga.length>>1}function D1(ga,yl){ga.l=yl,ga.read_shift=$y,ga.chk=Dx,ga.write_shift=Ox}function F1(ga,yl){ga.l+=yl}function Zp(ga){return ga=$l(ga),D1(ga,0),ga}function Hv(ga,yl,xl){if(ga){D1(ga,ga.l||0);for(var El,Al=ga.length,Pl=0;ga.l<Al;){128&(Pl=ga.read_shift(1))&&(Pl=(127&Pl)+((127&ga.read_shift(1))<<7));for(var Rl,Ol=p2[Pl]||p2[65535],Ul=127&(Rl=ga.read_shift(1)),Wl=1;Wl<4&&128&Rl;++Wl)Ul+=(127&(Rl=ga.read_shift(1)))<<7*Wl;El=ga.l+Ul;var Xl=Ol.f&&Ol.f(ga,Ul,xl);if(ga.l=El,yl(Xl,Ol,Pl))return}}}function j1(){function ga(Rl){return D1(Rl=Zp(Rl),0),Rl}function yl(){Pl&&(Pl.length>Pl.l&&((Pl=Pl.slice(0,Pl.l)).l=Pl.length),0<Pl.length&&El.push(Pl),Pl=null)}function xl(Rl){return Pl&&Rl<Pl.length-Pl.l?Pl:(yl(),Pl=ga(Math.max(Rl+1,Al)))}var El=[],Al=Nl?256:2048,Pl=ga(Al);return{next:xl,push:function(Rl){yl(),(Pl=Rl).l==null&&(Pl.l=Pl.length),xl(Al)},end:function(){return yl(),lu(El)},_bufs:El}}function i0(ga,yl,xl,El){var Al=+yl;if(!isNaN(Al)){yl=1+(128<=Al?1:0)+1,128<=(El=El||p2[Al].p||(xl||[]).length||0)&&++yl,16384<=El&&++yl,2097152<=El&&++yl;var Pl=ga.next(yl);Al<=127?Pl.write_shift(1,Al):(Pl.write_shift(1,128+(127&Al)),Pl.write_shift(1,Al>>7));for(var Rl=0;Rl!=4;++Rl){if(!(128<=El)){Pl.write_shift(1,El);break}Pl.write_shift(1,128+(127&El)),El>>=7}0<El&&Zy(xl)&&ga.push(xl)}}function _y(ga,yl,xl){var El=E0(ga);if(yl.s?(El.cRel&&(El.c+=yl.s.c),El.rRel&&(El.r+=yl.s.r)):(El.cRel&&(El.c+=yl.c),El.rRel&&(El.r+=yl.r)),!xl||xl.biff<12){for(;256<=El.c;)El.c-=256;for(;65536<=El.r;)El.r-=65536}return El}function Ay(ga,yl,xl){return ga=E0(ga),ga.s=_y(ga.s,yl.s,xl),ga.e=_y(ga.e,yl.s,xl),ga}function Ty(ga,yl){if(ga.cRel&&ga.c<0)for(ga=E0(ga);ga.c<0;)ga.c+=8<yl?16384:256;if(ga.rRel&&ga.r<0)for(ga=E0(ga);ga.r<0;)ga.r+=8<yl?1048576:5<yl?65536:16384;var xl=cm(ga);return ga.cRel||ga.cRel==null||(xl=xl.replace(/^([A-Z])/,"$$$1")),xl=!ga.rRel&&ga.rRel!=null?xl.replace(/([A-Z]|^)(\d+)$/,"$1$$$2"):xl}function ux(ga,yl){return ga.s.r!=0||ga.s.rRel||ga.e.r!=(12<=yl.biff?1048575:8<=yl.biff?65536:16384)||ga.e.rRel?ga.s.c!=0||ga.s.cRel||ga.e.c!=(12<=yl.biff?16383:255)||ga.e.cRel?Ty(ga.s,yl.biff)+":"+Ty(ga.e,yl.biff):(ga.s.rRel?"":"$")+l1(ga.s.r)+":"+(ga.e.rRel?"":"$")+l1(ga.e.r):(ga.s.cRel?"":"$")+Gm(ga.s.c)+":"+(ga.e.cRel?"":"$")+Gm(ga.e.c)}function hx(ga){return parseInt(ga.replace(/\$(\d+)$/,"$1"),10)-1}function l1(ga){return""+(ga+1)}function dx(ga){for(var yl=ga.replace(/^\$([A-Z])/,"$1"),xl=0,El=0;El!==yl.length;++El)xl=26*xl+yl.charCodeAt(El)-64;return xl-1}function Gm(ga){if(ga<0)throw new Error("invalid column "+ga);var yl="";for(++ga;ga;ga=Math.floor((ga-1)/26))yl=String.fromCharCode((ga-1)%26+65)+yl;return yl}function c1(ga){for(var yl=0,xl=0,El=0;El<ga.length;++El){var Al=ga.charCodeAt(El);48<=Al&&Al<=57?yl=10*yl+(Al-48):65<=Al&&Al<=90&&(xl=26*xl+(Al-64))}return{c:xl-1,r:yl-1}}function cm(ga){for(var yl=ga.c+1,xl="";yl;yl=(yl-1)/26|0)xl=String.fromCharCode((yl-1)%26+65)+xl;return xl+(ga.r+1)}function Y1(ga){var yl=ga.indexOf(":");return yl==-1?{s:c1(ga),e:c1(ga)}:{s:c1(ga.slice(0,yl)),e:c1(ga.slice(yl+1))}}function fm(ga,yl){return yl===void 0||typeof yl=="number"?fm(ga.s,ga.e):(ga=typeof ga!="string"?cm(ga):ga)==(yl=typeof yl!="string"?cm(yl):yl)?ga:ga+":"+yl}function Sm(ga){for(var yl={s:{c:0,r:0},e:{c:0,r:0}},Pl=0,xl=0,El=0,Al=ga.length,Pl=0;xl<Al&&!((El=ga.charCodeAt(xl)-64)<1||26<El);++xl)Pl=26*Pl+El;for(yl.s.c=--Pl,Pl=0;xl<Al&&!((El=ga.charCodeAt(xl)-48)<0||9<El);++xl)Pl=10*Pl+El;if(yl.s.r=--Pl,xl===Al||El!=10)return yl.e.c=yl.s.c,yl.e.r=yl.s.r,yl;for(++xl,Pl=0;xl!=Al&&!((El=ga.charCodeAt(xl)-64)<1||26<El);++xl)Pl=26*Pl+El;for(yl.e.c=--Pl,Pl=0;xl!=Al&&!((El=ga.charCodeAt(xl)-48)<0||9<El);++xl)Pl=10*Pl+El;return yl.e.r=--Pl,yl}function ev(ga,yl){var xl=ga.t=="d"&&yl instanceof Date;if(ga.z!=null)try{return ga.w=Vu(ga.z,xl?sp(yl):yl)}catch{}try{return ga.w=Vu((ga.XF||{}).numFmtId||(xl?14:0),xl?sp(yl):yl)}catch{return""+yl}}function z1(ga,yl,xl){return ga==null||ga.t==null||ga.t=="z"?"":ga.w!==void 0?ga.w:(ga.t=="d"&&!ga.z&&xl&&xl.dateNF&&(ga.z=xl.dateNF),ga.t=="e"?op[ga.v]||ga.v:ev(ga,yl??ga.v))}function qv(ga,El){var xl=El&&El.sheet?El.sheet:"Sheet1",El={};return El[xl]=ga,{SheetNames:[xl],Sheets:El}}function i1(ga,yl,xl){var El=xl||{},Al=ga?Array.isArray(ga):El.dense,Pl=ga||(Al?[]:{}),Rl=0,Ol=0;Pl&&El.origin!=null&&(typeof El.origin=="number"?Rl=El.origin:(Rl=(Ul=typeof El.origin=="string"?c1(El.origin):El.origin).r,Ol=Ul.c),Pl["!ref"]||(Pl["!ref"]="A1:A1"));var Ul,Wl={s:{c:1e7,r:1e7},e:{c:0,r:0}};Pl["!ref"]&&(Ul=Sm(Pl["!ref"]),Wl.s.c=Ul.s.c,Wl.s.r=Ul.s.r,Wl.e.c=Math.max(Wl.e.c,Ul.e.c),Wl.e.r=Math.max(Wl.e.r,Ul.e.r),Rl==-1&&(Wl.e.r=Rl=Ul.e.r+1));for(var Xl=0;Xl!=yl.length;++Xl)if(yl[Xl]){if(!Array.isArray(yl[Xl]))throw new Error("aoa_to_sheet expects an array of arrays");for(var ou=0;ou!=yl[Xl].length;++ou)if(yl[Xl][ou]!==void 0){var au={v:yl[Xl][ou]},du=Rl+Xl,Du=Ol+ou;if(Wl.s.r>du&&(Wl.s.r=du),Wl.s.c>Du&&(Wl.s.c=Du),Wl.e.r<du&&(Wl.e.r=du),Wl.e.c<Du&&(Wl.e.c=Du),!yl[Xl][ou]||typeof yl[Xl][ou]!="object"||Array.isArray(yl[Xl][ou])||yl[Xl][ou]instanceof Date)if(Array.isArray(au.v)&&(au.f=yl[Xl][ou][1],au.v=au.v[0]),au.v===null)if(au.f)au.t="n";else if(El.nullError)au.t="e",au.v=0;else{if(!El.sheetStubs)continue;au.t="z"}else typeof au.v=="number"?au.t="n":typeof au.v=="boolean"?au.t="b":au.v instanceof Date?(au.z=El.dateNF||Kl[14],El.cellDates?(au.t="d",au.w=Vu(au.z,sp(au.v))):(au.t="n",au.v=sp(au.v),au.w=Vu(au.z,au.v))):au.t="s";else au=yl[Xl][ou];Al?(Pl[du]||(Pl[du]=[]),Pl[du][Du]&&Pl[du][Du].z&&(au.z=Pl[du][Du].z),Pl[du][Du]=au):(Pl[du=cm({c:Du,r:du})]&&Pl[du].z&&(au.z=Pl[du].z),Pl[du]=au)}}return Wl.s.c<1e7&&(Pl["!ref"]=fm(Wl)),Pl}function Sv(ga,yl){return i1(null,ga,yl)}function Xm(ga,yl){return(yl=yl||Zp(4)).write_shift(4,ga),yl}function R1(ga){var yl=ga.read_shift(4);return yl===0?"":ga.read_shift(yl,"dbcs")}function o1(ga,yl){var xl=!1;return yl==null&&(xl=!0,yl=Zp(4+2*ga.length)),yl.write_shift(4,ga.length),0<ga.length&&yl.write_shift(0,ga,"dbcs"),xl?yl.slice(0,yl.l):yl}function my(ga,yl){var xl,El=ga.l,Al=ga.read_shift(1),Rl=R1(ga),Pl=[],Rl={t:Rl,h:Rl};if(1&Al){for(var Ol=ga.read_shift(4),Ul=0;Ul!=Ol;++Ul)Pl.push({ich:(xl=ga).read_shift(2),ifnt:xl.read_shift(2)});Rl.r=Pl}else Rl.r=[{ich:0,ifnt:0}];return ga.l=El+yl,Rl}var Dv=my;function fv(ga,yl){var xl,El=!1;return yl==null&&(El=!0,yl=Zp(23+4*ga.t.length)),yl.write_shift(1,1),o1(ga.t,yl),yl.write_shift(4,1),xl={ich:0,ifnt:0},(ga=(ga=yl)||Zp(4)).write_shift(2,xl.ich||0),ga.write_shift(2,xl.ifnt||0),El?yl.slice(0,yl.l):yl}function tv(ga){var yl=ga.read_shift(4),xl=ga.read_shift(2);return xl+=ga.read_shift(1)<<16,ga.l++,{c:yl,iStyleRef:xl}}function pv(ga,yl){return(yl=yl??Zp(8)).write_shift(-4,ga.c),yl.write_shift(3,ga.iStyleRef||ga.s),yl.write_shift(1,0),yl}function Fv(ga){var yl=ga.read_shift(2);return yl+=ga.read_shift(1)<<16,ga.l++,{c:-1,iStyleRef:yl}}function Cv(ga,yl){return(yl=yl??Zp(4)).write_shift(3,ga.iStyleRef||ga.s),yl.write_shift(1,0),yl}var Qx=R1,Jy=o1;function zy(ga){var yl=ga.read_shift(4);return yl===0||yl===4294967295?"":ga.read_shift(yl,"dbcs")}function Qy(ga,yl){var xl=!1;return yl==null&&(xl=!0,yl=Zp(127)),yl.write_shift(4,0<ga.length?ga.length:4294967295),0<ga.length&&yl.write_shift(0,ga,"dbcs"),xl?yl.slice(0,yl.l):yl}var fx=R1,gx=zy,Wy=Qy;function mx(ga){var yl=ga.slice(ga.l,ga.l+4),xl=1&yl[0],El=2&yl[0];return ga.l+=4,yl=El==0?wv([0,0,0,0,252&yl[0],yl[1],yl[2],yl[3]],0):Ev(yl,0)>>2,xl?yl/100:yl}function vx(ga,yl){yl==null&&(yl=Zp(4));var xl=0,El=0,Al=100*ga;if(ga==(0|ga)&&-536870912<=ga&&ga<1<<29?El=1:Al==(0|Al)&&-536870912<=Al&&Al<1<<29&&(xl=El=1),!El)throw new Error("unsupported RkNumber "+ga);yl.write_shift(-4,((xl?Al:ga)<<2)+(xl+2))}function Fx(ga){var yl={s:{},e:{}};return yl.s.r=ga.read_shift(4),yl.e.r=ga.read_shift(4),yl.s.c=ga.read_shift(4),yl.e.c=ga.read_shift(4),yl}var jv=Fx,Vv=function(ga,yl){return(yl=yl||Zp(16)).write_shift(4,ga.s.r),yl.write_shift(4,ga.e.r),yl.write_shift(4,ga.s.c),yl.write_shift(4,ga.e.c),yl};function M1(ga){if(ga.length-ga.l<8)throw"XLS Xnum Buffer underflow";return ga.read_shift(8,"f")}function vy(ga,yl){return(yl||Zp(8)).write_shift(8,ga,"f")}function Gv(ga,yl){if(yl=yl||Zp(8),!ga||ga.auto)return yl.write_shift(4,0),yl.write_shift(4,0),yl;ga.index!=null?(yl.write_shift(1,2),yl.write_shift(1,ga.index)):ga.theme!=null?(yl.write_shift(1,6),yl.write_shift(1,ga.theme)):(yl.write_shift(1,5),yl.write_shift(1,0));var xl=ga.tint||0;return 0<xl?xl*=32767:xl<0&&(xl*=32768),yl.write_shift(2,xl),ga.rgb&&ga.theme==null?(typeof(ga=ga.rgb||"FFFFFF")=="number"&&(ga=("000000"+ga.toString(16)).slice(-6)),yl.write_shift(1,parseInt(ga.slice(0,2),16)),yl.write_shift(1,parseInt(ga.slice(2,4),16)),yl.write_shift(1,parseInt(ga.slice(4,6),16)),yl.write_shift(1,255)):(yl.write_shift(2,0),yl.write_shift(1,0),yl.write_shift(1,0)),yl}function ex(ga,yl){var xl=ga.read_shift(4);switch(xl){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[ga.read_shift(4)]||""}if(400<xl)throw new Error("Unsupported Clipboard: "+xl.toString(16));return ga.l-=4,ga.read_shift(0,yl==1?"lpstr":"lpwstr")}var yx=2,rv=3,xx=12,bx=81,wx=[80,bx],yy={1:{n:"CodePage",t:yx},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:rv},5:{n:"LineCount",t:rv},6:{n:"ParagraphCount",t:rv},7:{n:"SlideCount",t:rv},8:{n:"NoteCount",t:rv},9:{n:"HiddenCount",t:rv},10:{n:"MultimediaClipCount",t:rv},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:rv},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:rv,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Hy={1:{n:"CodePage",t:yx},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:rv},15:{n:"WordCount",t:rv},16:{n:"CharCount",t:rv},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:rv},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},tx={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},bu=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Iu=E0([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(ga){return[ga>>16&255,ga>>8&255,255&ga]})),op={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},fp={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},tu={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},wu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ku(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Tu(ga,yl){var xl,El=function(Ul){for(var Wl=[],Xl=Ju(Ul),ou=0;ou!==Xl.length;++ou)Wl[Ul[Xl[ou]]]==null&&(Wl[Ul[Xl[ou]]]=[]),Wl[Ul[Xl[ou]]].push(Xl[ou]);return Wl}(tu),Al=[];Al[Al.length]=t1,Al[Al.length]=v0("Types",null,{xmlns:Cm.CT,"xmlns:xsd":Cm.xsd,"xmlns:xsi":Cm.xsi}),Al=Al.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(Ul){return v0("Default",null,{Extension:Ul[0],ContentType:Ul[1]})}));function Pl(Ul){ga[Ul]&&0<ga[Ul].length&&(xl=ga[Ul][0],Al[Al.length]=v0("Override",null,{PartName:(xl[0]=="/"?"":"/")+xl,ContentType:wu[Ul][yl.bookType]||wu[Ul].xlsx}))}function Rl(Ul){(ga[Ul]||[]).forEach(function(Wl){Al[Al.length]=v0("Override",null,{PartName:(Wl[0]=="/"?"":"/")+Wl,ContentType:wu[Ul][yl.bookType]||wu[Ul].xlsx})})}function Ol(Ul){(ga[Ul]||[]).forEach(function(Wl){Al[Al.length]=v0("Override",null,{PartName:(Wl[0]=="/"?"":"/")+Wl,ContentType:El[Ul][0]})})}return Pl("workbooks"),Rl("sheets"),Rl("charts"),Ol("themes"),["strs","styles"].forEach(Pl),["coreprops","extprops","custprops"].forEach(Ol),Ol("vba"),Ol("comments"),Ol("threadedcomments"),Ol("drawings"),Rl("metadata"),Ol("people"),2<Al.length&&(Al[Al.length]="</Types>",Al[1]=Al[1].replace("/>",">")),Al.join("")}var _u={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tp(ga){var yl=ga.lastIndexOf("/");return ga.slice(0,yl+1)+"_rels/"+ga.slice(yl+1)+".rels"}function ap(ga,yl){var xl={"!id":{}};if(!ga)return xl;yl.charAt(0)!=="/"&&(yl="/"+yl);var El={};return(ga.match(hm)||[]).forEach(function(Al){var Pl,Rl=am(Al);Rl[0]==="<Relationship"&&((Pl={}).Type=Rl.Type,Pl.Target=Rl.Target,Pl.Id=Rl.Id,Rl.TargetMode&&(Pl.TargetMode=Rl.TargetMode),Al=Rl.TargetMode==="External"?Rl.Target:Pv(Rl.Target,yl),xl[Al]=Pl,El[Rl.Id]=Pl)}),xl["!id"]=El,xl}function gp(ga){var yl=[t1,v0("Relationships",null,{xmlns:Cm.RELS})];return Ju(ga["!id"]).forEach(function(xl){yl[yl.length]=v0("Relationship",null,ga["!id"][xl])}),2<yl.length&&(yl[yl.length]="</Relationships>",yl[1]=yl[1].replace("/>",">")),yl.join("")}function pp(ga,yl,xl,El,Al,Pl){if(Al=Al||{},ga["!id"]||(ga["!id"]={}),ga["!idx"]||(ga["!idx"]=1),yl<0)for(yl=ga["!idx"];ga["!id"]["rId"+yl];++yl);if(ga["!idx"]=yl+1,Al.Id="rId"+yl,Al.Type=El,Al.Target=xl,-1<[_u.HLINK,_u.XPATH,_u.XMISS].indexOf(Al.Type)&&(Al.TargetMode="External"),ga["!id"][Al.Id])throw new Error("Cannot rewrite rId "+yl);return ga["!id"][Al.Id]=Al,ga[("/"+Al.Target).replace("//","/")]=Al,yl}var Tp="application/vnd.oasis.opendocument.spreadsheet";function Yp(ga,yl,xl){return['  <rdf:Description rdf:about="'+ga+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(xl||"odf")+"#"+yl+`"/>
`,`  </rdf:Description>
`].join("")}function Gp(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+co.version+"</meta:generator></office:meta></office:document-meta>"}var Hp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],u0=function(){for(var ga=new Array(Hp.length),yl=0;yl<Hp.length;++yl){var xl=Hp[yl],xl="(?:"+xl[0].slice(0,xl[0].indexOf(":"))+":)"+xl[0].slice(xl[0].indexOf(":")+1);ga[yl]=new RegExp("<"+xl+"[^>]*>([\\s\\S]*?)</"+xl+">")}return ga}();function f0(ga){var yl={};ga=Tm(ga);for(var xl=0;xl<Hp.length;++xl){var El=Hp[xl],Al=ga.match(u0[xl]);Al!=null&&0<Al.length&&(yl[El[1]]=dm(Al[1])),El[2]==="date"&&yl[El[1]]&&(yl[El[1]]=Dp(yl[El[1]]))}return yl}function qp(ga,yl,xl,El,Al){Al[ga]==null&&yl!=null&&yl!==""&&(yl=bm(Al[ga]=yl),El[El.length]=xl?v0(ga,yl,xl):d1(ga,yl))}function Qp(ga,yl){var xl=yl||{},El=[t1,v0("cp:coreProperties",null,{"xmlns:cp":Cm.CORE_PROPS,"xmlns:dc":Cm.dc,"xmlns:dcterms":Cm.dcterms,"xmlns:dcmitype":Cm.dcmitype,"xmlns:xsi":Cm.xsi})],Al={};if(!ga&&!xl.Props)return El.join("");ga&&(ga.CreatedDate!=null&&qp("dcterms:created",typeof ga.CreatedDate=="string"?ga.CreatedDate:Iv(ga.CreatedDate,xl.WTF),{"xsi:type":"dcterms:W3CDTF"},El,Al),ga.ModifiedDate!=null&&qp("dcterms:modified",typeof ga.ModifiedDate=="string"?ga.ModifiedDate:Iv(ga.ModifiedDate,xl.WTF),{"xsi:type":"dcterms:W3CDTF"},El,Al));for(var Pl=0;Pl!=Hp.length;++Pl){var Rl=Hp[Pl],Ol=xl.Props&&xl.Props[Rl[1]]!=null?xl.Props[Rl[1]]:ga?ga[Rl[1]]:null;Ol===!0?Ol="1":Ol===!1?Ol="0":typeof Ol=="number"&&(Ol=String(Ol)),Ol!=null&&qp(Rl[0],Ol,null,El,Al)}return 2<El.length&&(El[El.length]="</cp:coreProperties>",El[1]=El[1].replace("/>",">")),El.join("")}var s0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],C0=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function x0(ga,yl,xl,El){var Al=[];if(typeof ga=="string")Al=Wm(ga,El);else for(var Pl=0;Pl<ga.length;++Pl)Al=Al.concat(ga[Pl].map(function(Xl){return{v:Xl}}));var Rl,Ol=typeof yl=="string"?Wm(yl,El).map(function(Xl){return Xl.v}):yl,Ul=0;if(0<Ol.length)for(var Wl=0;Wl!==Al.length;Wl+=2){switch(Rl=+Al[Wl+1].v,Al[Wl].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":xl.Worksheets=Rl,xl.SheetNames=Ol.slice(Ul,Ul+Rl);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":xl.NamedRanges=Rl,xl.DefinedNames=Ol.slice(Ul,Ul+Rl);break;case"Charts":case"Diagramme":xl.Chartsheets=Rl,xl.ChartNames=Ol.slice(Ul,Ul+Rl)}Ul+=Rl}}function O0(ga){var yl=[],xl=v0;return(ga=ga||{}).Application="SheetJS",yl[yl.length]=t1,yl[yl.length]=v0("Properties",null,{xmlns:Cm.EXT_PROPS,"xmlns:vt":Cm.vt}),s0.forEach(function(El){if(ga[El[1]]!==void 0){var Al;switch(El[2]){case"string":Al=bm(String(ga[El[1]]));break;case"bool":Al=ga[El[1]]?"true":"false"}Al!==void 0&&(yl[yl.length]=xl(El[0],Al))}}),yl[yl.length]=xl("HeadingPairs",xl("vt:vector",xl("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+xl("vt:variant",xl("vt:i4",String(ga.Worksheets))),{size:2,baseType:"variant"})),yl[yl.length]=xl("TitlesOfParts",xl("vt:vector",ga.SheetNames.map(function(El){return"<vt:lpstr>"+bm(El)+"</vt:lpstr>"}).join(""),{size:ga.Worksheets,baseType:"lpstr"})),2<yl.length&&(yl[yl.length]="</Properties>",yl[1]=yl[1].replace("/>",">")),yl.join("")}var lm=/<[^>]+>[^<]*/g;function Rm(ga){var yl=[t1,v0("Properties",null,{xmlns:Cm.CUST_PROPS,"xmlns:vt":Cm.vt})];if(!ga)return yl.join("");var xl=1;return Ju(ga).forEach(function(El){++xl,yl[yl.length]=v0("property",function(Al,Pl){switch(typeof Al){case"string":var Rl=v0("vt:lpwstr",bm(Al));return Rl=Rl.replace(/&quot;/g,"_x0022_");case"number":return v0((0|Al)==Al?"vt:i4":"vt:r8",bm(String(Al)));case"boolean":return v0("vt:bool",Al?"true":"false")}if(Al instanceof Date)return v0("vt:filetime",Iv(Al));throw new Error("Unable to serialize "+Al)}(ga[El]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:xl,name:bm(El)})}),2<yl.length&&(yl[yl.length]="</Properties>",yl[1]=yl[1].replace("/>",">")),yl.join("")}var m0,M0={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function r0(xl){var yl=xl.read_shift(4),xl=xl.read_shift(4);return new Date(1e3*(xl/1e7*Math.pow(2,32)+yl/1e7-11644473600)).toISOString().replace(/\.000/,"")}function I0(ga,yl,xl){var El=ga.l,Al=ga.read_shift(0,"lpstr-cp");if(xl)for(;ga.l-El&3;)++ga.l;return Al}function gm(ga,yl,xl){var El=ga.read_shift(0,"lpwstr");return El}function km(ga,yl,xl){return yl===31?gm(ga):I0(ga,0,xl)}function Im(ga,yl,xl){return km(ga,yl,xl===!1?0:4)}function xy(ga){for(var yl,xl,El,Al=ga.read_shift(4),Pl=[],Rl=0;Rl<Al/2;++Rl)Pl.push((El=xl=void 0,xl=(yl=ga).l,El=nv(yl,bx),yl[yl.l]==0&&yl[yl.l+1]==0&&yl.l-xl&2&&(yl.l+=2),[El,nv(yl,rv)]));return Pl}function by(ga,yl){for(var xl=ga.read_shift(4),El={},Al=0;Al!=xl;++Al){var Pl=ga.read_shift(4),Rl=ga.read_shift(4);El[Pl]=ga.read_shift(Rl,yl===1200?"utf16le":"utf8").replace(ju,"").replace(zu,"!"),yl===1200&&Rl%2&&(ga.l+=2)}return 3&ga.l&&(ga.l=ga.l>>3<<2),El}function Kv(ga){var yl=ga.read_shift(4),xl=ga.slice(ga.l,ga.l+yl);return ga.l+=yl,0<(3&yl)&&(ga.l+=4-(3&yl)&3),xl}function nv(ga,yl,xl){var El,Al,Pl=ga.read_shift(2),Rl=xl||{};if(ga.l+=2,yl!==xx&&Pl!==yl&&wx.indexOf(yl)===-1&&((65534&yl)!=4126||(65534&Pl)!=4126))throw new Error("Expected type "+yl+" saw "+Pl);switch(yl===xx?Pl:yl){case 2:return El=ga.read_shift(2,"i"),Rl.raw||(ga.l+=2),El;case 3:return El=ga.read_shift(4,"i");case 11:return ga.read_shift(4)!==0;case 19:return El=ga.read_shift(4);case 30:return I0(ga,0,4).replace(ju,"");case 31:return gm(ga);case 64:return r0(ga);case 65:return Kv(ga);case 71:return(Al={}).Size=(El=ga).read_shift(4),El.l+=Al.Size+3-(Al.Size-1)%4,Al;case 80:return Im(ga,Pl,!Rl.raw).replace(ju,"");case 81:return function(Ol,Ul){if(!Ul)throw new Error("VtUnalignedString must have positive length");return km(Ol,Ul,0)}(ga,Pl).replace(ju,"");case 4108:return xy(ga);case 4126:case 4127:return(Pl==4127?function(Ol){for(var Ul=Ol.read_shift(4),Wl=[],Xl=0;Xl!=Ul;++Xl){var ou=Ol.l;Wl[Xl]=Ol.read_shift(0,"lpwstr").replace(ju,""),Ol.l-ou&2&&(Ol.l+=2)}return Wl}:function(Ol){for(var Ul=Ol.read_shift(4),Wl=[],Xl=0;Xl!=Ul;++Xl)Wl[Xl]=Ol.read_shift(0,"lpstr-cp").replace(ju,"");return Wl})(ga);default:throw new Error("TypedPropertyValue unrecognized type "+yl+" "+Pl)}}function ny(ga,yl){var xl,El,Al,Pl=Zp(4),Rl=Zp(4);switch(Pl.write_shift(4,ga==80?31:ga),ga){case 3:Rl.write_shift(-4,yl);break;case 5:(Rl=Zp(8)).write_shift(8,yl,"f");break;case 11:Rl.write_shift(4,yl?1:0);break;case 64:El=(typeof(xl=yl)=="string"?new Date(Date.parse(xl)):xl).getTime()/1e3+11644473600,Al=El%Math.pow(2,32),xl=(El-Al)/Math.pow(2,32),xl*=1e7,0<(El=(Al*=1e7)/Math.pow(2,32)|0)&&(Al%=Math.pow(2,32),xl+=El),(El=Zp(8)).write_shift(4,Al),El.write_shift(4,xl),Rl=El;break;case 31:case 80:for((Rl=Zp(4+2*(yl.length+1)+(yl.length%2?0:2))).write_shift(4,yl.length+1),Rl.write_shift(0,yl,"dbcs");Rl.l!=Rl.length;)Rl.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+ga+" "+yl)}return lu([Pl,Rl])}function m1(ga,yl){for(var xl=ga.l,El=ga.read_shift(4),Al=ga.read_shift(4),Pl=[],Wl=0,Rl=0,Ol=-1,Ul={},Wl=0;Wl!=Al;++Wl){var Xl=ga.read_shift(4),ou=ga.read_shift(4);Pl[Wl]=[Xl,ou+xl]}Pl.sort(function(Bu,Su){return Bu[1]-Su[1]});var au={};for(Wl=0;Wl!=Al;++Wl){if(ga.l!==Pl[Wl][1]){var du=!0;if(0<Wl&&yl)switch(yl[Pl[Wl-1][0]].t){case 2:ga.l+2===Pl[Wl][1]&&(ga.l+=2,du=!1);break;case 80:case 4108:ga.l<=Pl[Wl][1]&&(ga.l=Pl[Wl][1],du=!1)}if((!yl||Wl==0)&&ga.l<=Pl[Wl][1]&&(du=!1,ga.l=Pl[Wl][1]),du)throw new Error("Read Error: Expected address "+Pl[Wl][1]+" at "+ga.l+" :"+Wl)}if(yl){var Du=yl[Pl[Wl][0]];if(au[Du.n]=nv(ga,Du.t,{raw:!0}),Du.p==="version"&&(au[Du.n]=String(au[Du.n]>>16)+"."+("0000"+String(65535&au[Du.n])).slice(-4)),Du.n=="CodePage")switch(au[Du.n]){case 0:au[Du.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Sl(Rl=au[Du.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+au[Du.n])}}else if(Pl[Wl][0]===1)Rl=au.CodePage=nv(ga,yx),Sl(Rl),Ol!==-1&&(Qu=ga.l,ga.l=Pl[Ol][1],Ul=by(ga,Rl),ga.l=Qu);else if(Pl[Wl][0]===0)Rl!==0?Ul=by(ga,Rl):(Ol=Wl,ga.l=Pl[Wl+1][1]);else{var xu,Qu=Ul[Pl[Wl][0]];switch(ga[ga.l]){case 65:ga.l+=4,xu=Kv(ga);break;case 30:case 31:ga.l+=4,xu=Im(ga,ga[ga.l-4]).replace(/\u0000+$/,"");break;case 3:ga.l+=4,xu=ga.read_shift(4,"i");break;case 19:ga.l+=4,xu=ga.read_shift(4);break;case 5:ga.l+=4,xu=ga.read_shift(8,"f");break;case 11:ga.l+=4,xu=v1(ga,4);break;case 64:ga.l+=4,xu=Dp(r0(ga));break;default:throw new Error("unparsed value: "+ga[ga.l])}au[Qu]=xu}}return ga.l=xl+El,au}var _v=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Mv(ga,yl,xl){var El,Al,Pl,Rl,Ol=Zp(8),Ul=[],Wl=[],Xl=8,ou=0,au=Zp(8),du=Zp(8);if(au.write_shift(4,2),au.write_shift(4,1200),du.write_shift(4,1),Wl.push(au),Ul.push(du),Xl+=8+au.length,!yl){(du=Zp(8)).write_shift(4,0),Ul.unshift(du);var Du=[Zp(4)];for(Du[0].write_shift(4,ga.length),ou=0;ou<ga.length;++ou){var xu=ga[ou][0];for((au=Zp(8+2*(xu.length+1)+(xu.length%2?0:2))).write_shift(4,ou+2),au.write_shift(4,xu.length+1),au.write_shift(0,xu,"dbcs");au.l!=au.length;)au.write_shift(1,0);Du.push(au)}au=lu(Du),Wl.unshift(au),Xl+=8+au.length}for(ou=0;ou<ga.length;++ou)yl&&!yl[ga[ou][0]]||-1<_v.indexOf(ga[ou][0])||-1<C0.indexOf(ga[ou][0])||ga[ou][1]!=null&&(Pl=ga[ou][1],El=0,au=yl?((Rl=xl[El=+yl[ga[ou][0]]]).p=="version"&&typeof Pl=="string"&&(Pl=(+(Al=Pl.split("."))[0]<<16)+(+Al[1]||0)),ny(Rl.t,Pl)):((Rl=function(Bu){switch(typeof Bu){case"boolean":return 11;case"number":return(0|Bu)==Bu?3:5;case"string":return 31;case"object":if(Bu instanceof Date)return 64}return-1}(Pl))==-1&&(Rl=31,Pl=String(Pl)),ny(Rl,Pl)),Wl.push(au),(du=Zp(8)).write_shift(4,yl?El:2+ou),Ul.push(du),Xl+=8+au.length);for(var Qu=8*(Wl.length+1),ou=0;ou<Wl.length;++ou)Ul[ou].write_shift(4,Qu),Qu+=Wl[ou].length;return Ol.write_shift(4,Xl),Ol.write_shift(4,Wl.length),lu([Ol].concat(Ul).concat(Wl))}function gv(ga,yl,xl){var El=ga.content;if(!El)return{};D1(El,0);var Al,Pl=0;El.chk("feff","Byte Order: "),El.read_shift(2);var Rl=El.read_shift(4),Ol=El.read_shift(16);if(Ol!==Pp.utils.consts.HEADER_CLSID&&Ol!==xl)throw new Error("Bad PropertySet CLSID "+Ol);if((ga=El.read_shift(4))!==1&&ga!==2)throw new Error("Unrecognized #Sets: "+ga);if(xl=El.read_shift(16),Ol=El.read_shift(4),ga===1&&Ol!==El.l)throw new Error("Length mismatch: "+Ol+" !== "+El.l);ga===2&&(Al=El.read_shift(16),Pl=El.read_shift(4));var Ul,Wl,Xl=m1(El,yl),ou={SystemIdentifier:Rl};for(Ul in Xl)ou[Ul]=Xl[Ul];if(ou.FMTID=xl,ga===1)return ou;if(Pl-El.l==2&&(El.l+=2),El.l!==Pl)throw new Error("Length mismatch 2: "+El.l+" !== "+Pl);try{Wl=m1(El,null)}catch{}for(Ul in Wl)ou[Ul]=Wl[Ul];return ou.FMTID=[xl,Al],ou}function Nv(ga,yl,xl,El,Al,Pl){var Rl=Zp(Al?68:48),Ol=[Rl];return Rl.write_shift(2,65534),Rl.write_shift(2,0),Rl.write_shift(4,842412599),Rl.write_shift(16,Pp.utils.consts.HEADER_CLSID,"hex"),Rl.write_shift(4,Al?2:1),Rl.write_shift(16,yl,"hex"),Rl.write_shift(4,Al?68:48),El=Mv(ga,xl,El),Ol.push(El),Al&&(Al=Mv(Al,null,null),Rl.write_shift(16,Pl,"hex"),Rl.write_shift(4,68+El.length),Ol.push(Al)),lu(Ol)}function Yv(ga,yl){return ga.read_shift(yl),null}function v1(ga,yl){return ga.read_shift(yl)===1}function V0(ga,yl){return(yl=yl||Zp(2)).write_shift(2,+!!ga),yl}function mm(ga){return ga.read_shift(2,"u")}function Hm(ga,yl){return(yl=yl||Zp(2)).write_shift(2,ga),yl}function X1(ga,yl){return function(xl,El,Al){for(var Pl=[],Rl=xl.l+El;xl.l<Rl;)Pl.push(Al(xl,Rl-xl.l));if(Rl!==xl.l)throw new Error("Slurp error");return Pl}(ga,yl,mm)}function Ry(ga,yl,xl){return(xl=xl||Zp(2)).write_shift(1,yl=="e"?+ga:+!!ga),xl.write_shift(1,yl=="e"?1:0),xl}function k1(ga,yl,xl){var El=ga.read_shift(xl&&12<=xl.biff?2:1),Al="sbcs-cont",Pl=uo;return xl&&8<=xl.biff&&(uo=1200),xl&&xl.biff!=8?xl.biff==12&&(Al="wstr"):ga.read_shift(1)&&(Al="dbcs-cont"),2<=xl.biff&&xl.biff<=5&&(Al="cpstr"),Al=El?ga.read_shift(El,Al):"",uo=Pl,Al}function Av(ga,yl,xl){if(xl){if(2<=xl.biff&&xl.biff<=5)return ga.read_shift(yl,"cpstr");if(12<=xl.biff)return ga.read_shift(yl,"dbcs-cont")}return ga.read_shift(1)===0?ga.read_shift(yl,"sbcs-cont"):ga.read_shift(yl,"dbcs-cont")}function Xv(ga,yl,xl){var El=ga.read_shift(xl&&xl.biff==2?1:2);return El===0?(ga.l++,""):Av(ga,El,xl)}function N1(ga,yl,xl){if(5<xl.biff)return Xv(ga,0,xl);var El=ga.read_shift(1);return El===0?(ga.l++,""):ga.read_shift(El,xl.biff<=4||!ga.lens?"cpstr":"sbcs-cont")}function iv(ga,yl,xl){return(xl=xl||Zp(3+2*ga.length)).write_shift(2,ga.length),xl.write_shift(1,1),xl.write_shift(31,ga,"utf16le"),xl}function iy(ga){var yl,xl,El,Al,Pl=ga.read_shift(16);switch(Pl){case"e0c9ea79f9bace118c8200aa004ba90b":return xl=(yl=ga).read_shift(4),El=yl.l,Al=!1,24<xl&&(yl.l+=xl-24,yl.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(Al=!0),yl.l=El),xl=yl.read_shift((Al?xl-24:xl)>>1,"utf16le").replace(ju,""),Al&&(yl.l+=24),xl;case"0303000000000000c000000000000046":return function(Rl){for(var Ol=Rl.read_shift(2),Ul="";0<Ol--;)Ul+="../";var Wl=Rl.read_shift(0,"lpstr-ansi");if(Rl.l+=2,Rl.read_shift(2)!=57005)throw new Error("Bad FileMoniker");if(Rl.read_shift(4)===0)return Ul+Wl.replace(/\\/g,"/");if(Wl=Rl.read_shift(4),Rl.read_shift(2)!=3)throw new Error("Bad FileMoniker");return Ul+Rl.read_shift(Wl>>1,"utf16le").replace(ju,"")}(ga);default:throw new Error("Unsupported Moniker "+Pl)}}function u1(ga){var yl=ga.read_shift(4);return 0<yl?ga.read_shift(yl,"utf16le").replace(ju,""):""}function Lv(ga,yl){(yl=yl||Zp(6+2*ga.length)).write_shift(4,1+ga.length);for(var xl=0;xl<ga.length;++xl)yl.write_shift(2,ga.charCodeAt(xl));return yl.write_shift(2,0),yl}function Tv(ga){return[ga.read_shift(1),ga.read_shift(1),ga.read_shift(1),ga.read_shift(1)]}function jm(ga){return ga=Tv(ga),ga[3]=0,ga}function P1(ga){return{r:ga.read_shift(2),c:ga.read_shift(2),ixfe:ga.read_shift(2)}}function qy(ga,yl,xl,El){return(El=El||Zp(6)).write_shift(2,ga),El.write_shift(2,yl),El.write_shift(2,xl||0),El}function Bv(ga){return[ga.read_shift(2),mx(ga)]}function jx(ga){var yl=ga.read_shift(2),xl=ga.read_shift(2);return{s:{c:ga.read_shift(2),r:yl},e:{c:ga.read_shift(2),r:xl}}}function Mx(ga,yl){return(yl=yl||Zp(8)).write_shift(2,ga.s.r),yl.write_shift(2,ga.e.r),yl.write_shift(2,ga.s.c),yl.write_shift(2,ga.e.c),yl}function _b(ga){var yl=ga.read_shift(2),xl=ga.read_shift(2);return{s:{c:ga.read_shift(1),r:yl},e:{c:ga.read_shift(1),r:xl}}}var Vy=_b;function E1(ga){ga.l+=4;var yl=ga.read_shift(2),xl=ga.read_shift(2),El=ga.read_shift(2);return ga.l+=12,[xl,yl,El]}function Zm(ga){ga.l+=2,ga.l+=ga.read_shift(2)}var Zv={0:Zm,4:Zm,5:Zm,6:Zm,7:function(ga){return ga.l+=4,ga.cf=ga.read_shift(2),{}},8:Zm,9:Zm,10:Zm,11:Zm,12:Zm,13:function(ga){var yl={};return ga.l+=4,ga.l+=16,yl.fSharedNote=ga.read_shift(2),ga.l+=4,yl},14:Zm,15:Zm,16:Zm,17:Zm,18:Zm,19:Zm,20:Zm,21:E1};function lv(ga,yl){var xl={BIFFVer:0,dt:0};switch(xl.BIFFVer=ga.read_shift(2),2<=(yl-=2)&&(xl.dt=ga.read_shift(2),ga.l-=2),xl.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(6<yl)throw new Error("Unexpected BIFF Ver "+xl.BIFFVer)}return ga.read_shift(yl),xl}function ky(ga,yl,xl){var El=1536,Al=16;switch(xl.bookType){case"biff8":break;case"biff5":El=1280,Al=8;break;case"biff4":El=4,Al=6;break;case"biff3":El=3,Al=6;break;case"biff2":El=2,Al=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}return xl=Zp(Al),xl.write_shift(2,El),xl.write_shift(2,yl),4<Al&&xl.write_shift(2,29282),6<Al&&xl.write_shift(2,1997),8<Al&&(xl.write_shift(2,49161),xl.write_shift(2,1),xl.write_shift(2,1798),xl.write_shift(2,0)),xl}function wy(ga){var yl=Zp(8);yl.write_shift(4,ga.Count),yl.write_shift(4,ga.Unique);for(var xl,El,Al,Pl=[],Rl=0;Rl<ga.length;++Rl)Pl[Rl]=(xl=ga[Rl],Al=El=void 0,El=xl.t||"",(Al=Zp(3)).write_shift(2,El.length),Al.write_shift(1,1),(xl=Zp(2*El.length)).write_shift(2*El.length,El,"utf16le"),lu([Al,xl]));var Ol=lu([yl].concat(Pl));return Ol.parts=[yl.length].concat(Pl.map(function(Ul){return Ul.length})),Ol}function Py(ga,yl,xl){var El=0;return xl&&xl.biff==2||(El=ga.read_shift(2)),ga=ga.read_shift(2),xl&&xl.biff==2&&(El=1-(ga>>15),ga&=32767),[{Unsynced:1&El,DyZero:(2&El)>>1,ExAsc:(4&El)>>2,ExDsc:(8&El)>>3},ga]}var qx=N1;function A2(ga,Pl,Rl){var El=ga.l+Pl,Ol=Rl.biff!=8&&Rl.biff?2:4,Al=ga.read_shift(Ol),Pl=ga.read_shift(Ol),Rl=ga.read_shift(2),Ol=ga.read_shift(2);return ga.l=El,{s:{r:Al,c:Rl},e:{r:Pl,c:Ol}}}function T2(ga,yl,xl,El){return xl=xl&&xl.biff==5,(El=El||Zp(xl?16:20)).write_shift(2,0),ga.style?(El.write_shift(2,ga.numFmtId||0),El.write_shift(2,65524)):(El.write_shift(2,ga.numFmtId||0),El.write_shift(2,yl<<4)),yl=0,0<ga.numFmtId&&xl&&(yl|=1024),El.write_shift(4,yl),El.write_shift(4,0),xl||El.write_shift(4,0),El.write_shift(2,0),El}function FE(ga,yl,xl){var El=P1(ga);return xl.biff!=2&&yl!=9||++ga.l,ga=(yl=ga).read_shift(1),ga=yl.read_shift(1)===1?ga:ga===1,El.val=ga,El.t=ga===!0||ga===!1?"b":"e",El}function jE(ga,yl,xl){return yl===0?"":N1(ga,0,xl)}function ME(ga,yl,xl){var El,Al=ga.read_shift(2),Al={fBuiltIn:1&Al,fWantAdvise:Al>>>1&1,fWantPict:Al>>>2&1,fOle:Al>>>3&1,fOleLink:Al>>>4&1,cf:Al>>>5&1023,fIcon:Al>>>15&1};return xl.sbcch===14849&&(El=function(Pl,Wl,Ol){Pl.l+=4,Wl-=4;var Ul=Pl.l+Wl,Wl=k1(Pl,0,Ol);if((Ol=Pl.read_shift(2))!==(Ul-=Pl.l))throw new Error("Malformed AddinUdf: padding = "+Ul+" != "+Ol);return Pl.l+=Ol,Wl}(ga,yl-2,xl)),Al.body=El||ga.read_shift(yl-2),typeof El=="string"&&(Al.Name=El),Al}var U_=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function NE(ga,Ul,xl){var El=ga.l+Ul,Al=ga.read_shift(2),Pl=ga.read_shift(1),Rl=ga.read_shift(1),Ol=ga.read_shift(xl&&xl.biff==2?1:2),Ul=0;return(!xl||5<=xl.biff)&&(xl.biff!=5&&(ga.l+=2),Ul=ga.read_shift(2),xl.biff==5&&(ga.l+=2),ga.l+=4),Rl=Av(ga,Rl,xl),32&Al&&(Rl=U_[Rl.charCodeAt(0)]),Al=El-ga.l,xl&&xl.biff==2&&--Al,{chKey:Pl,Name:Rl,itab:Ul,rgce:El!=ga.l&&Ol!==0&&0<Al?function(Wl,Du,ou,xu){var du,Du=Wl.l+Du,xu=c2(Wl,xu,ou);return Du!==Wl.l&&(du=l2(Wl,Du-Wl.l,xu,ou)),[xu,du]}(ga,Al,xl,Ol):[]}}function LE(ga,yl,xl){if(xl.biff<8)return function(Ol,Ul){return Ol[Ol.l+1]==3&&Ol[Ol.l]++,Ul=k1(Ol,0,Ul),Ul.charCodeAt(0)==3?Ul.slice(1):Ul}(ga,xl);for(var El,Al,Pl=[],yl=ga.l+yl,Rl=ga.read_shift(8<xl.biff?4:2);Rl--!=0;)Pl.push((El=ga,xl.biff,Al=8<(Al=xl).biff?4:2,[El.read_shift(Al),El.read_shift(Al,"i"),El.read_shift(Al,"i")]));if(ga.l!=yl)throw new Error("Bad ExternSheet: "+ga.l+" != "+yl);return Pl}function BE(ga,yl,xl){var El=Vy(ga);switch(xl.biff){case 2:ga.l++,yl-=7;break;case 3:case 4:ga.l+=2,yl-=8;break;default:ga.l+=6,yl-=12}return[El,function(Al,Pl,Rl){var Ol,Ul=Al.l+Pl,Wl=Rl.biff==2?1:2,Xl=Al.read_shift(Wl);if(Xl==65535)return[[],F1(Al,Pl-2)];var ou=c2(Al,Xl,Rl);return Pl!==Xl+Wl&&(Ol=l2(Al,Pl-Xl-Wl,ou,Rl)),Al.l=Ul,[ou,Ol]}(ga,yl,xl)]}var $_={8:function(ga,yl){var xl=ga.l+yl;ga.l+=10;var El=ga.read_shift(2);return ga.l+=4,ga.l+=2,ga.l+=2,ga.l+=2,ga.l+=4,yl=ga.read_shift(1),ga.l+=yl,ga.l=xl,{fmt:El}}};function z_(ga){var yl=Zp(24),xl=c1(ga[0]);yl.write_shift(2,xl.r),yl.write_shift(2,xl.r),yl.write_shift(2,xl.c),yl.write_shift(2,xl.c);for(var El="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),Al=0;Al<16;++Al)yl.write_shift(1,parseInt(El[Al],16));return lu([yl,function(Pl){var Rl=Zp(512),Ol=0,Ul=Pl.Target,Wl=-1<(Pl=(Ul=Ul.slice(0,7)=="file://"?Ul.slice(7):Ul).indexOf("#"))?31:23;switch(Ul.charAt(0)){case"#":Wl=28;break;case".":Wl&=-3}Rl.write_shift(4,2),Rl.write_shift(4,Wl);for(var Xl=[8,6815827,6619237,4849780,83],Ol=0;Ol<Xl.length;++Ol)Rl.write_shift(4,Xl[Ol]);if(Wl==28)Lv(Ul=Ul.slice(1),Rl);else if(2&Wl){for(Xl="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),Ol=0;Ol<Xl.length;++Ol)Rl.write_shift(1,parseInt(Xl[Ol],16));var ou=-1<Pl?Ul.slice(0,Pl):Ul;for(Rl.write_shift(4,2*(ou.length+1)),Ol=0;Ol<ou.length;++Ol)Rl.write_shift(2,ou.charCodeAt(Ol));Rl.write_shift(2,0),8&Wl&&Lv(-1<Pl?Ul.slice(Pl+1):"",Rl)}else{for(Xl="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),Ol=0;Ol<Xl.length;++Ol)Rl.write_shift(1,parseInt(Xl[Ol],16));for(var au=0;Ul.slice(3*au,3*au+3)=="../"||Ul.slice(3*au,3*au+3)=="..\\";)++au;for(Rl.write_shift(2,au),Rl.write_shift(4,Ul.length-3*au+1),Ol=0;Ol<Ul.length-3*au;++Ol)Rl.write_shift(1,255&Ul.charCodeAt(Ol+3*au));for(Rl.write_shift(1,0),Rl.write_shift(2,65535),Rl.write_shift(2,57005),Ol=0;Ol<6;++Ol)Rl.write_shift(4,0)}return Rl.slice(0,Rl.l)}(ga[1])])}function UE(ga,Ul,xl){if(!xl.cellStyles)return F1(ga,Ul);var El=xl&&12<=xl.biff?4:2,Al=ga.read_shift(El),Pl=ga.read_shift(El),Rl=ga.read_shift(El),Ol=ga.read_shift(El),Ul=ga.read_shift(2);return El==2&&(ga.l+=2),Ol={s:Al,e:Pl,w:Rl,ixfe:Ol,flags:Ul},(5<=xl.biff||!xl.biff)&&(Ol.level=Ul>>8&7),Ol}var W_=P1,H_=X1,Jw=Xv,$E,zE,R2,q_=[2,3,48,49,131,139,140,245],pw=($E={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},zE=hp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127}),R2={B:8,C:250,L:1,D:8,"?":0,"":0},{to_workbook:function(ga,yl){try{return qv(WE(ga,yl),yl)}catch(xl){if(yl&&yl.WTF)throw xl}return{SheetNames:[],Sheets:{}}},to_sheet:WE,from_sheet:function(ga,yl){if(0<=+(yl=yl||{}).codepage&&Sl(+yl.codepage),yl.type=="string")throw new Error("Cannot write DBF to JS string");for(var xl=j1(),El=(yl=X2(ga,{header:1,raw:!0,cellDates:!0}))[0],Al=yl.slice(1),Pl=ga["!cols"]||[],Wl=0,Rl=0,Ol=0,Ul=1,Wl=0;Wl<El.length;++Wl)if(((Pl[Wl]||{}).DBF||{}).name)El[Wl]=Pl[Wl].DBF.name,++Ol;else if(El[Wl]!=null){if(++Ol,typeof El[Wl]=="number"&&(El[Wl]=El[Wl].toString(10)),typeof El[Wl]!="string")throw new Error("DBF Invalid column name "+El[Wl]+" |"+typeof El[Wl]+"|");if(El.indexOf(El[Wl])!==Wl){for(Rl=0;Rl<1024;++Rl)if(El.indexOf(El[Wl]+"_"+Rl)==-1){El[Wl]+="_"+Rl;break}}}var Xl=Sm(ga["!ref"]),ou=[],au=[],du=[];for(Wl=0;Wl<=Xl.e.c-Xl.s.c;++Wl){for(var Du="",xu="",Qu=0,Bu=[],Rl=0;Rl<Al.length;++Rl)Al[Rl][Wl]!=null&&Bu.push(Al[Rl][Wl]);if(Bu.length!=0&&El[Wl]!=null){for(Rl=0;Rl<Bu.length;++Rl){switch(typeof Bu[Rl]){case"number":xu="B";break;case"string":xu="C";break;case"boolean":xu="L";break;case"object":xu=Bu[Rl]instanceof Date?"D":"C";break;default:xu="C"}Qu=Math.max(Qu,String(Bu[Rl]).length),Du=Du&&Du!=xu?"C":xu}250<Qu&&(Qu=250),(xu=((Pl[Wl]||{}).DBF||{}).type)=="C"&&Pl[Wl].DBF.len>Qu&&(Qu=Pl[Wl].DBF.len),Du=="B"&&xu=="N"&&(Du="N",du[Wl]=Pl[Wl].DBF.dec,Qu=Pl[Wl].DBF.len),au[Wl]=Du=="C"||xu=="N"?Qu:R2[Du]||0,Ul+=au[Wl],ou[Wl]=Du}else ou[Wl]="?"}var Su,Yu,ep=xl.next(32);for(ep.write_shift(4,318902576),ep.write_shift(4,Al.length),ep.write_shift(2,296+32*Ol),ep.write_shift(2,Ul),Wl=0;Wl<4;++Wl)ep.write_shift(4,0);for(ep.write_shift(4,0|(+zE[xa]||3)<<8),Rl=Wl=0;Wl<El.length;++Wl)El[Wl]!=null&&(Su=xl.next(32),Yu=(El[Wl].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11),Su.write_shift(1,Yu,"sbcs"),Su.write_shift(1,ou[Wl]=="?"?"C":ou[Wl],"sbcs"),Su.write_shift(4,Rl),Su.write_shift(1,au[Wl]||R2[ou[Wl]]||0),Su.write_shift(1,du[Wl]||0),Su.write_shift(1,2),Su.write_shift(4,0),Su.write_shift(1,0),Su.write_shift(4,0),Su.write_shift(4,0),Rl+=au[Wl]||R2[ou[Wl]]||0);var rp=xl.next(264);for(rp.write_shift(4,13),Wl=0;Wl<65;++Wl)rp.write_shift(4,0);for(Wl=0;Wl<Al.length;++Wl){var bp=xl.next(Ul);for(bp.write_shift(1,0),Rl=0;Rl<El.length;++Rl)if(El[Rl]!=null)switch(ou[Rl]){case"L":bp.write_shift(1,Al[Wl][Rl]==null?63:Al[Wl][Rl]?84:70);break;case"B":bp.write_shift(8,Al[Wl][Rl]||0,"f");break;case"N":var jp="0";for(typeof Al[Wl][Rl]=="number"&&(jp=Al[Wl][Rl].toFixed(du[Rl]||0)),Ol=0;Ol<au[Rl]-jp.length;++Ol)bp.write_shift(1,32);bp.write_shift(1,jp,"sbcs");break;case"D":Al[Wl][Rl]?(bp.write_shift(4,("0000"+Al[Wl][Rl].getFullYear()).slice(-4),"sbcs"),bp.write_shift(2,("00"+(Al[Wl][Rl].getMonth()+1)).slice(-2),"sbcs"),bp.write_shift(2,("00"+Al[Wl][Rl].getDate()).slice(-2),"sbcs")):bp.write_shift(8,"00000000","sbcs");break;case"C":var Ap=String(Al[Wl][Rl]!=null?Al[Wl][Rl]:"").slice(0,au[Rl]);for(bp.write_shift(1,Ap,"sbcs"),Ol=0;Ol<au[Rl]-Ap.length;++Ol)bp.write_shift(1,32)}}return xl.next(1).write_shift(1,26),xl.end()}});function WE(ga,yl){return yl=yl||{},yl.dateNF||(yl.dateNF="yyyymmdd"),ga=Sv(function(xl,El){var Al=[],Pl=$l(1);switch(El.type){case"base64":Pl=Gl(Ll(xl));break;case"binary":Pl=Gl(xl);break;case"buffer":case"array":Pl=xl}D1(Pl,0);var Rl=Pl.read_shift(1),Ol=!!(136&Rl),Ul=!1,Wl=!1;switch(Rl){case 2:case 3:break;case 48:case 49:Ol=Ul=!0;break;case 131:case 139:break;case 140:Wl=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+Rl.toString(16))}var Xl=0,ou=521;Rl==2&&(Xl=Pl.read_shift(2)),Pl.l+=3,1048576<(Xl=Rl!=2?Pl.read_shift(4):Xl)&&(Xl=1e6),Rl!=2&&(ou=Pl.read_shift(2));var au=Pl.read_shift(2),du=El.codepage||1252;Rl!=2&&(Pl.l+=16,Pl.read_shift(1),Pl[Pl.l]!==0&&(du=$E[Pl[Pl.l]]),Pl.l+=1,Pl.l+=2),Wl&&(Pl.l+=36);for(var Du=[],xu={},Qu=Math.min(Pl.length,Rl==2?521:ou-10-(Ul?264:0)),Bu=Wl?32:11;Pl.l<Qu&&Pl[Pl.l]!=13;)switch((xu={}).name=hs.utils.decode(du,Pl.slice(Pl.l,Pl.l+Bu)).replace(/[\u0000\r\n].*$/g,""),Pl.l+=Bu,xu.type=String.fromCharCode(Pl.read_shift(1)),Rl==2||Wl||(xu.offset=Pl.read_shift(4)),xu.len=Pl.read_shift(1),Rl==2&&(xu.offset=Pl.read_shift(2)),xu.dec=Pl.read_shift(1),xu.name.length&&Du.push(xu),Rl!=2&&(Pl.l+=Wl?13:14),xu.type){case"B":Ul&&xu.len==8||!El.WTF||console.log("Skipping "+xu.name+":"+xu.type);break;case"G":case"P":El.WTF&&console.log("Skipping "+xu.name+":"+xu.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+xu.type)}if(Pl[Pl.l]!==13&&(Pl.l=ou-1),Pl.read_shift(1)!==13)throw new Error("DBF Terminator not found "+Pl.l+" "+Pl[Pl.l]);Pl.l=ou;var Su=0,Yu=0;for(Al[0]=[],Yu=0;Yu!=Du.length;++Yu)Al[0][Yu]=Du[Yu].name;for(;0<Xl--;)if(Pl[Pl.l]!==42)for(++Pl.l,Al[++Su]=[],Yu=Yu=0;Yu!=Du.length;++Yu){var ep=Pl.slice(Pl.l,Pl.l+Du[Yu].len);Pl.l+=Du[Yu].len,D1(ep,0);var rp=hs.utils.decode(du,ep);switch(Du[Yu].type){case"C":rp.trim().length&&(Al[Su][Yu]=rp.replace(/\s+$/,""));break;case"D":rp.length===8?Al[Su][Yu]=new Date(+rp.slice(0,4),+rp.slice(4,6)-1,+rp.slice(6,8)):Al[Su][Yu]=rp;break;case"F":Al[Su][Yu]=parseFloat(rp.trim());break;case"+":case"I":Al[Su][Yu]=Wl?2147483648^ep.read_shift(-4,"i"):ep.read_shift(4,"i");break;case"L":switch(rp.trim().toUpperCase()){case"Y":case"T":Al[Su][Yu]=!0;break;case"N":case"F":Al[Su][Yu]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+rp+"|")}break;case"M":if(!Ol)throw new Error("DBF Unexpected MEMO for type "+Rl.toString(16));Al[Su][Yu]="##MEMO##"+(Wl?parseInt(rp.trim(),10):ep.read_shift(4));break;case"N":(rp=rp.replace(/\u0000/g,"").trim())&&rp!="."&&(Al[Su][Yu]=+rp||0);break;case"@":Al[Su][Yu]=new Date(ep.read_shift(-8,"f")-621356832e5);break;case"T":Al[Su][Yu]=new Date(864e5*(ep.read_shift(4)-2440588)+ep.read_shift(4));break;case"Y":Al[Su][Yu]=ep.read_shift(4,"i")/1e4+ep.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":Al[Su][Yu]=-ep.read_shift(-8,"f");break;case"B":if(Ul&&Du[Yu].len==8){Al[Su][Yu]=ep.read_shift(8,"f");break}case"G":case"P":ep.l+=Du[Yu].len;break;case"0":if(Du[Yu].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Du[Yu].type)}}else Pl.l+=au;if(Rl!=2&&Pl.l<Pl.length&&Pl[Pl.l++]!=26)throw new Error("DBF EOF Marker missing "+(Pl.l-1)+" of "+Pl.length+" "+Pl[Pl.l-1].toString(16));return El&&El.sheetRows&&(Al=Al.slice(0,El.sheetRows)),El.DBF=Du,Al}(ga,yl),yl),ga["!cols"]=yl.DBF.map(function(xl){return{wch:xl.len,DBF:xl}}),delete yl.DBF,ga}var k2,HE,qE,VE,GE=(k2={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},HE=new RegExp("\x1BN("+Ju(k2).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),qE=function(ga,yl){return yl=k2[yl],typeof yl=="number"?Tl(yl):yl},VE=function(ga,yl,xl){return xl=yl.charCodeAt(0)-32<<4|xl.charCodeAt(0)-48,xl==59?ga:Tl(xl)},k2["|"]=254,{to_workbook:function(ga,yl){return qv(KE(ga,yl),yl)},to_sheet:KE,from_sheet:function(ga,yl){var xl,El,Al=["ID;PWXL;N;E"],Pl=[],Rl=Sm(ga["!ref"]),Ol=Array.isArray(ga),Ul=`\r
`;Al.push("P;PGeneral"),Al.push("F;P0;DG0G8;M255"),ga["!cols"]&&(xl=Al,ga["!cols"].forEach(function(au,du){du="F;W"+(du+1)+" "+(du+1)+" ",au.hidden?du+="0":(typeof au.width!="number"||au.wpx||(au.wpx=r2(au.width)),typeof au.wpx!="number"||au.wch||(au.wch=n2(au.wpx)),typeof au.wch=="number"&&(du+=Math.round(au.wch))),du.charAt(du.length-1)!=" "&&xl.push(du)})),ga["!rows"]&&(El=Al,ga["!rows"].forEach(function(au,du){var Du="F;";au.hidden?Du+="M0;":au.hpt?Du+="M"+20*au.hpt+";":au.hpx&&(Du+="M"+20*i2(au.hpx)+";"),2<Du.length&&El.push(Du+"R"+(du+1))})),Al.push("B;Y"+(Rl.e.r-Rl.s.r+1)+";X"+(Rl.e.c-Rl.s.c+1)+";D"+[Rl.s.c,Rl.s.r,Rl.e.c,Rl.e.r].join(" "));for(var Wl=Rl.s.r;Wl<=Rl.e.r;++Wl)for(var Xl=Rl.s.c;Xl<=Rl.e.c;++Xl){var ou=cm({r:Wl,c:Xl});(ou=Ol?(ga[Wl]||[])[Xl]:ga[ou])&&(ou.v!=null||ou.f&&!ou.F)&&Pl.push(function(au,du,Du){var xu="C;Y"+(du+1)+";X"+(Du+1)+";K";switch(au.t){case"n":xu+=au.v||0,au.f&&!au.F&&(xu+=";E"+kw(au.f,{r:du,c:Du}));break;case"b":xu+=au.v?"TRUE":"FALSE";break;case"e":xu+=au.w||au.v;break;case"d":xu+='"'+(au.w||au.v)+'"';break;case"s":xu+='"'+au.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return xu}(ou,Wl,Xl))}return Al.join(Ul)+Ul+Pl.join(Ul)+Ul+"E"+Ul}});function P2(au,yl){var xl,El,Al=au.split(/[\n\r]+/),Pl=-1,Rl=-1,Ol=0,Ul=0,Wl=[],Xl=[],ou=null,au={},du=[],Du=[],xu=0;for(0<=+yl.codepage&&Sl(+yl.codepage);Ol!==Al.length;++Ol){xu=0;var Qu,Bu=Al[Ol].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,VE).replace(HE,qE),Su=Bu.replace(/;;/g,"\0").split(";").map(function(h0){return h0.replace(/\u0000/g,";")}),Yu=Su[0];if(0<Bu.length)switch(Yu){case"ID":case"E":case"B":case"O":case"W":break;case"P":Su[1].charAt(0)=="P"&&Xl.push(Bu.slice(3).replace(/;;/g,";"));break;case"C":for(var ep=!1,rp=!1,bp=!1,jp=!1,Ap=-1,$p=-1,Ul=1;Ul<Su.length;++Ul)switch(Su[Ul].charAt(0)){case"A":break;case"X":Rl=parseInt(Su[Ul].slice(1))-1,rp=!0;break;case"Y":for(Pl=parseInt(Su[Ul].slice(1))-1,rp||(Rl=0),El=Wl.length;El<=Pl;++El)Wl[El]=[];break;case"K":(Qu=Su[Ul].slice(1)).charAt(0)==='"'?Qu=Qu.slice(1,Qu.length-1):Qu==="TRUE"?Qu=!0:Qu==="FALSE"?Qu=!1:isNaN(sm(Qu))?isNaN(_m(Qu).getDate())||(Qu=Dp(Qu)):(Qu=sm(Qu),ou!==null&&hu(ou)&&(Qu=Mp(Qu))),hs!==void 0&&typeof Qu=="string"&&(yl||{}).type!="string"&&(yl||{}).codepage&&(Qu=hs.utils.decode(yl.codepage,Qu)),ep=!0;break;case"E":jp=!0;var e0=zx(Su[Ul].slice(1),{r:Pl,c:Rl});Wl[Pl][Rl]=[Wl[Pl][Rl],e0];break;case"S":bp=!0,Wl[Pl][Rl]=[Wl[Pl][Rl],"S5S"];break;case"G":break;case"R":Ap=parseInt(Su[Ul].slice(1))-1;break;case"C":$p=parseInt(Su[Ul].slice(1))-1;break;default:if(yl&&yl.WTF)throw new Error("SYLK bad record "+Bu)}if(ep&&(Wl[Pl][Rl]&&Wl[Pl][Rl].length==2?Wl[Pl][Rl][0]=Qu:Wl[Pl][Rl]=Qu,ou=null),bp){if(jp)throw new Error("SYLK shared formula cannot have own formula");var t0=-1<Ap&&Wl[Ap][$p];if(!t0||!t0[1])throw new Error("SYLK shared formula cannot find base");Wl[Pl][Rl][1]=HS(t0[1],{r:Pl-Ap,c:Rl-$p})}break;case"F":var Vp=0;for(Ul=1;Ul<Su.length;++Ul)switch(Su[Ul].charAt(0)){case"X":Rl=parseInt(Su[Ul].slice(1))-1,++Vp;break;case"Y":for(Pl=parseInt(Su[Ul].slice(1))-1,El=Wl.length;El<=Pl;++El)Wl[El]=[];break;case"M":xu=parseInt(Su[Ul].slice(1))/20;break;case"F":case"G":break;case"P":ou=Xl[parseInt(Su[Ul].slice(1))];break;case"S":case"D":case"N":break;case"W":for(xl=Su[Ul].slice(1).split(" "),El=parseInt(xl[0],10);El<=parseInt(xl[1],10);++El)xu=parseInt(xl[2],10),Du[El-1]=xu===0?{hidden:!0}:{wch:xu},rx(Du[El-1]);break;case"C":Du[Rl=parseInt(Su[Ul].slice(1))-1]||(Du[Rl]={});break;case"R":du[Pl=parseInt(Su[Ul].slice(1))-1]||(du[Pl]={}),0<xu?(du[Pl].hpt=xu,du[Pl].hpx=Ux(xu)):xu===0&&(du[Pl].hidden=!0);break;default:if(yl&&yl.WTF)throw new Error("SYLK bad record "+Bu)}Vp<1&&(ou=null);break;default:if(yl&&yl.WTF)throw new Error("SYLK bad record "+Bu)}}return 0<du.length&&(au["!rows"]=du),0<Du.length&&(au["!cols"]=Du),[Wl=yl&&yl.sheetRows?Wl.slice(0,yl.sheetRows):Wl,au]}function KE(El,yl){var xl=function(Rl,Ol){switch(Ol.type){case"base64":return P2(Ll(Rl),Ol);case"binary":return P2(Rl,Ol);case"buffer":return P2(Nl&&Buffer.isBuffer(Rl)?Rl.toString("binary"):nu(Rl),Ol);case"array":return P2(_0(Rl),Ol)}throw new Error("Unrecognized type "+Ol.type)}(El,yl),El=xl[0],Al=xl[1],Pl=Sv(El,yl);return Ju(Al).forEach(function(Rl){Pl[Rl]=Al[Rl]}),Pl}var YE={to_workbook:function(ga,yl){return qv(XE(ga,yl),yl)},to_sheet:XE,from_sheet:function(ga){var yl=[],xl=Sm(ga["!ref"]),El=Array.isArray(ga);O2(yl,"TABLE",0,1,"sheetjs"),O2(yl,"VECTORS",0,xl.e.r-xl.s.r+1,""),O2(yl,"TUPLES",0,xl.e.c-xl.s.c+1,""),O2(yl,"DATA",0,0,"");for(var Al=xl.s.r;Al<=xl.e.r;++Al){Iy(yl,-1,0,"BOT");for(var Pl=xl.s.c;Pl<=xl.e.c;++Pl){var Rl,Ol=cm({r:Al,c:Pl});if(Rl=El?(ga[Al]||[])[Pl]:ga[Ol])switch(Rl.t){case"n":var Ul=Rl.w;(Ul=!Ul&&Rl.v!=null?Rl.v:Ul)==null?Rl.f&&!Rl.F?Iy(yl,1,0,"="+Rl.f):Iy(yl,1,0,""):Iy(yl,0,Ul,"V");break;case"b":Iy(yl,0,Rl.v?1:0,Rl.v?"TRUE":"FALSE");break;case"s":Iy(yl,1,0,isNaN(Rl.v)?Rl.v:'="'+Rl.v+'"');break;case"d":Rl.w||(Rl.w=Vu(Rl.z||Kl[14],sp(Dp(Rl.v)))),Iy(yl,0,Rl.w,"V");break;default:Iy(yl,1,0,"")}else Iy(yl,1,0,"")}}return Iy(yl,-1,0,"EOD"),yl.join(`\r
`)}};function I2(ga,yl){for(var xl=ga.split(`
`),El=-1,Al=-1,Pl=0,Rl=[];Pl!==xl.length;++Pl)if(xl[Pl].trim()!=="BOT"){if(!(El<0)){for(var Ol=xl[Pl].trim().split(","),Ul=Ol[0],Wl=Ol[1],Xl=xl[++Pl]||"";1&(Xl.match(/["]/g)||[]).length&&Pl<xl.length-1;)Xl+=`
`+xl[++Pl];switch(Xl=Xl.trim(),+Ul){case-1:if(Xl==="BOT"){Rl[++El]=[],Al=0;continue}if(Xl!=="EOD")throw new Error("Unrecognized DIF special command "+Xl);break;case 0:Xl==="TRUE"?Rl[El][Al]=!0:Xl==="FALSE"?Rl[El][Al]=!1:isNaN(sm(Wl))?isNaN(_m(Wl).getDate())?Rl[El][Al]=Wl:Rl[El][Al]=Dp(Wl):Rl[El][Al]=sm(Wl),++Al;break;case 1:Xl=(Xl=Xl.slice(1,Xl.length-1)).replace(/""/g,'"'),Xl&&Xl.match(/^=".*"$/)&&(Xl=Xl.slice(2,-1)),Rl[El][Al++]=Xl!==""?Xl:null}if(Xl==="EOD")break}}else Rl[++El]=[],Al=0;return Rl=yl&&yl.sheetRows?Rl.slice(0,yl.sheetRows):Rl}function XE(ga,yl){return Sv(function(xl,El){switch(El.type){case"base64":return I2(Ll(xl),El);case"binary":return I2(xl,El);case"buffer":return I2(Nl&&Buffer.isBuffer(xl)?xl.toString("binary"):nu(xl),El);case"array":return I2(_0(xl),El)}throw new Error("Unrecognized type "+El.type)}(ga,yl),yl)}function O2(ga,yl,xl,El,Al){ga.push(yl),ga.push(xl+","+El),ga.push('"'+Al.replace(/"/g,'""')+'"')}function Iy(ga,yl,xl,El){ga.push(yl+","+xl),ga.push(yl==1?'"'+El.replace(/"/g,'""')+'"':El)}var ZE,gw,JE,QE,eS=(ZE=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),gw=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,JE=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),QE="--SocialCalcSpreadsheetControlSave--",{to_workbook:function(ga,yl){return qv(tS(ga,yl),yl)},to_sheet:tS,from_sheet:function(ga){return[ZE,gw,JE,gw,function(yl){if(!yl||!yl["!ref"])return"";for(var xl,El,Al=[],Pl=[],Rl=Y1(yl["!ref"]),Ol=Array.isArray(yl),Ul=Rl.s.r;Ul<=Rl.e.r;++Ul)for(var Wl=Rl.s.c;Wl<=Rl.e.c;++Wl)if(El=cm({r:Ul,c:Wl}),(xl=Ol?(yl[Ul]||[])[Wl]:yl[El])&&xl.v!=null&&xl.t!=="z"){switch(Pl=["cell",El,"t"],xl.t){case"s":case"str":Pl.push(mw(xl.v));break;case"n":xl.f?(Pl[2]="vtf",Pl[3]="n",Pl[4]=xl.v,Pl[5]=mw(xl.f)):(Pl[2]="v",Pl[3]=xl.v);break;case"b":Pl[2]="vt"+(xl.f?"f":"c"),Pl[3]="nl",Pl[4]=xl.v?"1":"0",Pl[5]=mw(xl.f||(xl.v?"TRUE":"FALSE"));break;case"d":var Xl=sp(Dp(xl.v));Pl[2]="vtc",Pl[3]="nd",Pl[4]=""+Xl,Pl[5]=xl.w||Vu(xl.z||Kl[14],Xl);break;case"e":continue}Al.push(Pl.join(":"))}return Al.push("sheet:c:"+(Rl.e.c-Rl.s.c+1)+":r:"+(Rl.e.r-Rl.s.r+1)+":tvf:1"),Al.push("valueformat:1:text-wiki"),Al.join(`
`)}(ga),QE].join(`
`)}});function mw(ga){return ga.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function tS(ga,yl){return Sv(function(xl,El){for(var Al,Pl=xl.split(`
`),Rl=-1,Ol=0,Ul=[];Ol!==Pl.length;++Ol){var Wl=Pl[Ol].trim().split(":");if(Wl[0]==="cell"){var Xl=c1(Wl[1]);if(Ul.length<=Xl.r)for(Rl=Ul.length;Rl<=Xl.r;++Rl)Ul[Rl]||(Ul[Rl]=[]);switch(Rl=Xl.r,Al=Xl.c,Wl[2]){case"t":Ul[Rl][Al]=Wl[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`);break;case"v":Ul[Rl][Al]=+Wl[3];break;case"vtf":var ou=Wl[Wl.length-1];case"vtc":Wl[3]==="nl"?Ul[Rl][Al]=!!+Wl[4]:Ul[Rl][Al]=+Wl[4],Wl[2]=="vtf"&&(Ul[Rl][Al]=[Ul[Rl][Al],ou])}}}return Ul=El&&El.sheetRows?Ul.slice(0,El.sheetRows):Ul}(ga,yl),yl)}var vw,D2,Nx=(vw={44:",",9:"	",59:";",124:"|"},D2={44:3,9:2,59:1,124:0},{to_workbook:function(ga,yl){return qv(iS(ga,yl),yl)},to_sheet:iS,from_sheet:function(ga){for(var yl=[],xl=Sm(ga["!ref"]),El=Array.isArray(ga),Al=xl.s.r;Al<=xl.e.r;++Al){for(var Pl=[],Rl=xl.s.c;Rl<=xl.e.c;++Rl){var Ol=cm({r:Al,c:Rl});if((Ol=El?(ga[Al]||[])[Rl]:ga[Ol])&&Ol.v!=null){for(var Ul=(Ol.w||(z1(Ol),Ol.w)||"").slice(0,10);Ul.length<10;)Ul+=" ";Pl.push(Ul+(Rl===0?" ":""))}else Pl.push("          ")}yl.push(Pl.join(""))}return yl.join(`
`)}});function rS(ga,yl,xl,El,Al){Al.raw?yl[xl][El]=ga:ga===""||(ga==="TRUE"?yl[xl][El]=!0:ga==="FALSE"?yl[xl][El]=!1:isNaN(sm(ga))?isNaN(_m(ga).getDate())?yl[xl][El]=ga:yl[xl][El]=Dp(ga):yl[xl][El]=sm(ga))}function nS(ga){for(var yl={},xl=!1,El=0,Al=0;El<ga.length;++El)(Al=ga.charCodeAt(El))==34?xl=!xl:!xl&&Al in vw&&(yl[Al]=(yl[Al]||0)+1);for(El in Al=[],yl)Object.prototype.hasOwnProperty.call(yl,El)&&Al.push([yl[El],El]);if(!Al.length)for(El in yl=D2)Object.prototype.hasOwnProperty.call(yl,El)&&Al.push([yl[El],El]);return Al.sort(function(Pl,Rl){return Pl[0]-Rl[0]||D2[Pl[1]]-D2[Rl[1]]}),vw[Al.pop()[1]]||44}function V_(ga,El){var xl=El||{},El="",Al=xl.dense?[]:{},Pl={s:{c:0,r:0},e:{c:0,r:0}};ga.slice(0,4)=="sep="?ga.charCodeAt(5)==13&&ga.charCodeAt(6)==10?(El=ga.charAt(4),ga=ga.slice(7)):ga.charCodeAt(5)==13||ga.charCodeAt(5)==10?(El=ga.charAt(4),ga=ga.slice(6)):El=nS(ga.slice(0,1024)):El=xl&&xl.FS?xl.FS:nS(ga.slice(0,1024));var Rl=0,Ol=0,Ul=0,Wl=0,Xl=0,ou=El.charCodeAt(0),au=!1,du=0,Du=ga.charCodeAt(0);ga=ga.replace(/\r\n/gm,`
`);var xu=xl.dateNF!=null?(El=(El=typeof(El=xl.dateNF)=="number"?Kl[El]:El).replace(Ku,"(\\d+)"),new RegExp("^"+El+"$")):null;function Qu(){var Bu,Su=ga.slice(Wl,Xl),Yu={};if((Su=Su.charAt(0)=='"'&&Su.charAt(Su.length-1)=='"'?Su.slice(1,-1).replace(/""/g,'"'):Su).length===0?Yu.t="z":xl.raw||Su.trim().length===0?(Yu.t="s",Yu.v=Su):Su.charCodeAt(0)==61?Su.charCodeAt(1)==34&&Su.charCodeAt(Su.length-1)==34?(Yu.t="s",Yu.v=Su.slice(2,-1).replace(/""/g,'"')):Su.length!=1?(Yu.t="n",Yu.f=Su.slice(1)):(Yu.t="s",Yu.v=Su):Su=="TRUE"?(Yu.t="b",Yu.v=!0):Su=="FALSE"?(Yu.t="b",Yu.v=!1):isNaN(Ul=sm(Su))?!isNaN(_m(Su).getDate())||xu&&Su.match(xu)?(Yu.z=xl.dateNF||Kl[14],Bu=0,xu&&Su.match(xu)&&(Su=function(ep,rp){var bp=-1,jp=-1,Ap=-1,$p=-1,e0=-1,t0=-1;(ep.match(Ku)||[]).forEach(function(h0,D0){var R0=parseInt(rp[D0+1],10);switch(h0.toLowerCase().charAt(0)){case"y":bp=R0;break;case"d":Ap=R0;break;case"h":$p=R0;break;case"s":t0=R0;break;case"m":0<=$p?e0=R0:jp=R0}}),0<=t0&&e0==-1&&0<=jp&&(e0=jp,jp=-1);var Vp=(""+(0<=bp?bp:new Date().getFullYear())).slice(-4)+"-"+("00"+(1<=jp?jp:1)).slice(-2)+"-"+("00"+(1<=Ap?Ap:1)).slice(-2);return(Vp=Vp.length==7?"0"+Vp:Vp).length==8&&(Vp="20"+Vp),ep=("00"+(0<=$p?$p:0)).slice(-2)+":"+("00"+(0<=e0?e0:0)).slice(-2)+":"+("00"+(0<=t0?t0:0)).slice(-2),$p==-1&&e0==-1&&t0==-1?Vp:bp==-1&&jp==-1&&Ap==-1?ep:Vp+"T"+ep}(xl.dateNF,Su.match(xu)||[]),Bu=1),xl.cellDates?(Yu.t="d",Yu.v=Dp(Su,Bu)):(Yu.t="n",Yu.v=sp(Dp(Su,Bu))),xl.cellText!==!1&&(Yu.w=Vu(Yu.z,Yu.v instanceof Date?sp(Yu.v):Yu.v)),xl.cellNF||delete Yu.z):(Yu.t="s",Yu.v=Su):(!(Yu.t="n")!==xl.cellText&&(Yu.w=Su),Yu.v=Ul),Yu.t=="z"||(xl.dense?(Al[Rl]||(Al[Rl]=[]),Al[Rl][Ol]=Yu):Al[cm({c:Ol,r:Rl})]=Yu),Wl=Xl+1,Du=ga.charCodeAt(Wl),Pl.e.c<Ol&&(Pl.e.c=Ol),Pl.e.r<Rl&&(Pl.e.r=Rl),du!=ou)return Ol=0,++Rl,xl.sheetRows&&xl.sheetRows<=Rl?1:void 0;++Ol}e:for(;Xl<ga.length;++Xl)switch(du=ga.charCodeAt(Xl)){case 34:Du===34&&(au=!au);break;case ou:case 10:case 13:if(!au&&Qu())break e}return 0<Xl-Wl&&Qu(),Al["!ref"]=fm(Pl),Al}function G_(ga,yl){return!yl||!yl.PRN||yl.FS||ga.slice(0,4)=="sep="||0<=ga.indexOf("	")||0<=ga.indexOf(",")||0<=ga.indexOf(";")?V_(ga,yl):Sv(function(xl,El){var Al=El||{},Pl=[];if(!xl||xl.length===0)return Pl;for(var Rl=xl.split(/[\r\n]/),Ol=Rl.length-1;0<=Ol&&Rl[Ol].length===0;)--Ol;for(var Ul=10,Wl=0,Xl=0;Xl<=Ol;++Xl)(Wl=Rl[Xl].indexOf(" "))==-1?Wl=Rl[Xl].length:Wl++,Ul=Math.max(Ul,Wl);for(Xl=0;Xl<=Ol;++Xl){Pl[Xl]=[];var ou=0;for(rS(Rl[Xl].slice(0,Ul).trim(),Pl,Xl,ou,Al),ou=1;ou<=(Rl[Xl].length-Ul)/10+1;++ou)rS(Rl[Xl].slice(Ul+10*(ou-1),Ul+10*ou).trim(),Pl,Xl,ou,Al)}return Pl=Al.sheetRows?Pl.slice(0,Al.sheetRows):Pl}(ga,yl),yl)}function iS(ga,yl){var xl="",El=yl.type=="string"?[0,0,0,0]:qw(ga,yl);switch(yl.type){case"base64":xl=Ll(ga);break;case"binary":xl=ga;break;case"buffer":xl=yl.codepage==65001?ga.toString("utf8"):yl.codepage&&hs!==void 0?hs.utils.decode(yl.codepage,ga):Nl&&Buffer.isBuffer(ga)?ga.toString("binary"):nu(ga);break;case"array":xl=_0(ga);break;case"string":xl=ga;break;default:throw new Error("Unrecognized type "+yl.type)}return El[0]==239&&El[1]==187&&El[2]==191?xl=Tm(xl.slice(3)):yl.type!="string"&&yl.type!="buffer"&&yl.codepage==65001?xl=Tm(xl):yl.type=="binary"&&hs!==void 0&&yl.codepage&&(xl=hs.utils.decode(yl.codepage,hs.utils.encode(28591,xl))),xl.slice(0,19)=="socialcalc:version:"?eS.to_sheet(yl.type=="string"?xl:Tm(xl),yl):G_(xl,yl)}var F2,yw,xw,sS,Ex=(F2={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},yw=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""],xw={0:{n:"BOF",f:mm},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(ga,yl,xl){var El={s:{c:0,r:0},e:{c:0,r:0}};return yl==8&&xl.qpro?(El.s.c=ga.read_shift(1),ga.l++,El.s.r=ga.read_shift(2),El.e.c=ga.read_shift(1),ga.l++,El.e.r=ga.read_shift(2)):(El.s.c=ga.read_shift(2),El.s.r=ga.read_shift(2),yl==12&&xl.qpro&&(ga.l+=2),El.e.c=ga.read_shift(2),El.e.r=ga.read_shift(2),yl==12&&xl.qpro&&(ga.l+=2),El.s.c==65535&&(El.s.c=El.e.c=El.s.r=El.e.r=0)),El}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(ga,yl,xl){return(xl=j2(ga,0,xl))[1].v=ga.read_shift(2,"i"),xl}},14:{n:"NUMBER",f:function(ga,yl,xl){return(xl=j2(ga,0,xl))[1].v=ga.read_shift(8,"f"),xl}},15:{n:"LABEL",f:aS},16:{n:"FORMULA",f:function(ga,yl,xl){var El=ga.l+yl;return(yl=j2(ga,0,xl))[1].v=ga.read_shift(8,"f"),xl.qpro?ga.l=El:(El=ga.read_shift(2),function(Al,Pl){D1(Al,0);for(var Rl=[],Ol=0,Ul="",Wl="",Xl="",ou="";Al.l<Al.length;){var au=Al[Al.l++];switch(au){case 0:Rl.push(Al.read_shift(8,"f"));break;case 1:Wl=Lx(Pl[0].c,Al.read_shift(2),!0),Ul=Lx(Pl[0].r,Al.read_shift(2),!1),Rl.push(Wl+Ul);break;case 2:var du=Lx(Pl[0].c,Al.read_shift(2),!0),Du=Lx(Pl[0].r,Al.read_shift(2),!1);Wl=Lx(Pl[0].c,Al.read_shift(2),!0),Ul=Lx(Pl[0].r,Al.read_shift(2),!1),Rl.push(du+Du+":"+Wl+Ul);break;case 3:if(Al.l<Al.length)return console.error("WK1 premature formula end");break;case 4:Rl.push("("+Rl.pop()+")");break;case 5:Rl.push(Al.read_shift(2));break;case 6:for(var xu="";au=Al[Al.l++];)xu+=String.fromCharCode(au);Rl.push('"'+xu.replace(/"/g,'""')+'"');break;case 8:Rl.push("-"+Rl.pop());break;case 23:Rl.push("+"+Rl.pop());break;case 22:Rl.push("NOT("+Rl.pop()+")");break;case 20:case 21:ou=Rl.pop(),Xl=Rl.pop(),Rl.push(["AND","OR"][au-20]+"("+Xl+","+ou+")");break;default:if(au<32&&yw[au])ou=Rl.pop(),Xl=Rl.pop(),Rl.push(Xl+yw[au]+ou);else{if(!F2[au])return au<=7?console.error("WK1 invalid opcode "+au.toString(16)):au<=24?console.error("WK1 unsupported op "+au.toString(16)):au<=30?console.error("WK1 invalid opcode "+au.toString(16)):au<=115?console.error("WK1 unsupported function opcode "+au.toString(16)):console.error("WK1 unrecognized opcode "+au.toString(16));if((Ol=(Ol=F2[au][1])==69?Al[Al.l++]:Ol)>Rl.length)return console.error("WK1 bad formula parse 0x"+au.toString(16)+":|"+Rl.join("|")+"|");Du=Rl.slice(-Ol),Rl.length-=Ol,Rl.push(F2[au][0]+"("+Du.join(",")+")")}}}Rl.length==1?Pl[1].f=""+Rl[0]:console.error("WK1 bad formula parse |"+Rl.join("|")+"|")}(ga.slice(ga.l,ga.l+El),yl),ga.l+=El),yl}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:aS},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:uS},222:{n:"SHEETNAMELP",f:function(ga,yl){var xl=ga[ga.l++];yl-1<xl&&(xl=yl-1);for(var El="";El.length<xl;)El+=String.fromCharCode(ga[ga.l++]);return El}},65535:{n:""}},sS={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(ga,yl){var xl=e2(ga);return xl[1].t="s",xl[1].v=ga.read_shift(yl-4,"cstr"),xl}},23:{n:"NUMBER17",f:lS},24:{n:"NUMBER18",f:function(ga,yl){var xl=e2(ga);xl[1].v=ga.read_shift(2);var El=xl[1].v>>1;if(1&xl[1].v)switch(7&El){case 0:El=5e3*(El>>3);break;case 1:El=500*(El>>3);break;case 2:El=(El>>3)/20;break;case 3:El=(El>>3)/200;break;case 4:El=(El>>3)/2e3;break;case 5:El=(El>>3)/2e4;break;case 6:El=(El>>3)/16;break;case 7:El=(El>>3)/64}return xl[1].v=El,xl}},25:{n:"FORMULA19",f:function(ga,yl){var xl=lS(ga);return ga.l+=yl-14,xl}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(ga,yl){for(var xl={},El=ga.l+yl;ga.l<El;){var Al=ga.read_shift(2);if(Al==14e3){for(xl[Al]=[0,""],xl[Al][0]=ga.read_shift(2);ga[ga.l];)xl[Al][1]+=String.fromCharCode(ga[ga.l]),ga.l++;ga.l++}}return xl}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(El,yl){var xl=e2(El),El=El.read_shift(4);return xl[1].v=El>>6,xl}},38:{n:"??"},39:{n:"NUMBER27",f:cS},40:{n:"FORMULA28",f:function(ga,yl){var xl=cS(ga);return ga.l+=yl-10,xl}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:uS},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(ga,yl,xl){if(xl.qpro&&!(yl<21))return xl=ga.read_shift(1),ga.l+=17,ga.l+=1,ga.l+=2,[xl,ga.read_shift(yl-21,"cstr")]}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},{sheet_to_wk1:function(ga,yl){var xl=yl||{};if(0<=+xl.codepage&&Sl(+xl.codepage),xl.type=="string")throw new Error("Cannot write WK1 to JS string");var El=j1(),Al=Sm(ga["!ref"]),Pl=Array.isArray(ga),Rl=[];T0(El,0,(yl=1030,(xl=Zp(2)).write_shift(2,yl),xl)),T0(El,6,(yl=Al,(xl=Zp(8)).write_shift(2,yl.s.c),xl.write_shift(2,yl.s.r),xl.write_shift(2,yl.e.c),xl.write_shift(2,yl.e.r),xl));for(var Ol,Ul,Wl,Xl,ou=Math.min(Al.e.r,8191),au=Al.s.r;au<=ou;++au)for(var du=l1(au),Du=Al.s.c;Du<=Al.e.c;++Du){au===Al.s.r&&(Rl[Du]=Gm(Du));var xu=Rl[Du]+du,xu=Pl?(ga[au]||[])[Du]:ga[xu];xu&&xu.t!="z"&&(xu.t=="n"?(0|xu.v)==xu.v&&-32768<=xu.v&&xu.v<=32767?T0(El,13,(Ol=au,Ul=Du,Wl=xu.v,Xl=void 0,(Xl=Zp(7)).write_shift(1,255),Xl.write_shift(2,Ul),Xl.write_shift(2,Ol),Xl.write_shift(2,Wl,"i"),Xl)):T0(El,14,(Ul=au,Ol=Du,Wl=xu.v,Xl=void 0,(Xl=Zp(13)).write_shift(1,255),Xl.write_shift(2,Ol),Xl.write_shift(2,Ul),Xl.write_shift(8,Wl,"f"),Xl)):T0(El,15,function(Qu,Bu,Su){var Yu=Zp(7+Su.length);Yu.write_shift(1,255),Yu.write_shift(2,Bu),Yu.write_shift(2,Qu),Yu.write_shift(1,39);for(var ep=0;ep<Yu.length;++ep){var rp=Su.charCodeAt(ep);Yu.write_shift(1,128<=rp?95:rp)}return Yu.write_shift(1,0),Yu}(au,Du,z1(xu).slice(0,239))))}return T0(El,1),El.end()},book_to_wk3:function(ga,yl){if(0<=+(yl=yl||{}).codepage&&Sl(+yl.codepage),yl.type=="string")throw new Error("Cannot write WK3 to JS string");var xl=j1();T0(xl,0,function(xu){var Qu=Zp(26);Qu.write_shift(2,4096),Qu.write_shift(2,4),Qu.write_shift(4,0);for(var Bu=0,Su=0,Yu=0,ep=0;ep<xu.SheetNames.length;++ep){var rp=xu.SheetNames[ep],rp=xu.Sheets[rp];rp&&rp["!ref"]&&(++Yu,rp=Y1(rp["!ref"]),Bu<rp.e.r&&(Bu=rp.e.r),Su<rp.e.c&&(Su=rp.e.c))}return 8191<Bu&&(Bu=8191),Qu.write_shift(2,Bu),Qu.write_shift(1,Yu),Qu.write_shift(1,Su),Qu.write_shift(2,0),Qu.write_shift(2,0),Qu.write_shift(1,1),Qu.write_shift(1,2),Qu.write_shift(4,0),Qu.write_shift(4,0),Qu}(ga));for(var El=0,Al=0;El<ga.SheetNames.length;++El)(ga.Sheets[ga.SheetNames[El]]||{})["!ref"]&&T0(xl,27,function(xu,Qu){var Bu=Zp(5+xu.length);Bu.write_shift(2,14e3),Bu.write_shift(2,Qu);for(var Su=0;Su<xu.length;++Su){var Yu=xu.charCodeAt(Su);Bu[Bu.l++]=127<Yu?95:Yu}return Bu[Bu.l++]=0,Bu}(ga.SheetNames[El],Al++));for(var Pl=0,El=0;El<ga.SheetNames.length;++El){var Rl=ga.Sheets[ga.SheetNames[El]];if(Rl&&Rl["!ref"]){for(var Ol=Sm(Rl["!ref"]),Ul=Array.isArray(Rl),Wl=[],Xl=Math.min(Ol.e.r,8191),ou=Ol.s.r;ou<=Xl;++ou)for(var au=l1(ou),du=Ol.s.c;du<=Ol.e.c;++du){ou===Ol.s.r&&(Wl[du]=Gm(du));var Du=Wl[du]+au,Du=Ul?(Rl[ou]||[])[du]:Rl[Du];Du&&Du.t!="z"&&(Du.t=="n"?T0(xl,23,function(bp,Ap,jp,Yu){var ep=Zp(14);if(ep.write_shift(2,bp),ep.write_shift(1,jp),ep.write_shift(1,Ap),Yu==0)return ep.write_shift(4,0),ep.write_shift(4,0),ep.write_shift(2,65535),ep;var rp=0,bp=0,jp=0,Ap=0;return Yu<0&&(rp=1,Yu=-Yu),bp=0|Math.log2(Yu),Yu/=Math.pow(2,bp-31),!(2147483648&(Ap=Yu>>>0))&&(++bp,Ap=(Yu/=2)>>>0),Yu-=Ap,Ap|=2147483648,Ap>>>=0,Yu*=Math.pow(2,32),jp=Yu>>>0,ep.write_shift(4,jp),ep.write_shift(4,Ap),bp+=16383+(rp?32768:0),ep.write_shift(2,bp),ep}(ou,du,Pl,Du.v)):T0(xl,22,function(Qu,Bu,Su,Yu){var ep=Zp(6+Yu.length);ep.write_shift(2,Qu),ep.write_shift(1,Su),ep.write_shift(1,Bu),ep.write_shift(1,39);for(var rp=0;rp<Yu.length;++rp){var bp=Yu.charCodeAt(rp);ep.write_shift(1,128<=bp?95:bp)}return ep.write_shift(1,0),ep}(ou,du,Pl,z1(Du).slice(0,239))))}++Pl}}return T0(xl,1),xl.end()},to_workbook:function(ga,yl){switch(yl.type){case"base64":return bw(Gl(Ll(ga)),yl);case"binary":return bw(Gl(ga),yl);case"buffer":case"array":return bw(ga,yl)}throw"Unsupported type "+yl.type}});function oS(ga,yl,xl){if(ga){D1(ga,ga.l||0);for(var El=xl.Enum||xw;ga.l<ga.length;){var Al=ga.read_shift(2),Pl=El[Al]||El[65535],Ol=ga.read_shift(2),Rl=ga.l+Ol,Ol=Pl.f&&Pl.f(ga,Ol,xl);if(ga.l=Rl,yl(Ol,Pl,Al))return}}}function bw(ga,yl){if(!ga)return ga;var xl=yl||{},El=xl.dense?[]:{},Al="Sheet1",Pl="",Rl=0,Ol={},Ul=[],Wl=[],Xl={s:{r:0,c:0},e:{r:0,c:0}},ou=xl.sheetRows||0;if(ga[2]==0&&(ga[3]==8||ga[3]==9)&&16<=ga.length&&ga[14]==5&&ga[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(ga[2]==2)xl.Enum=xw,oS(ga,function(xu,Qu,Bu){switch(Bu){case 0:4096<=(xl.vers=xu)&&(xl.qpro=!0);break;case 6:Xl=xu;break;case 204:xu&&(Pl=xu);break;case 222:Pl=xu;break;case 15:case 51:xl.qpro||(xu[1].v=xu[1].v.slice(1));case 13:case 14:case 16:Bu==14&&(112&xu[2])==112&&1<(15&xu[2])&&(15&xu[2])<15&&(xu[1].z=xl.dateNF||Kl[14],xl.cellDates&&(xu[1].t="d",xu[1].v=Mp(xu[1].v))),xl.qpro&&xu[3]>Rl&&(El["!ref"]=fm(Xl),Ol[Al]=El,Ul.push(Al),El=xl.dense?[]:{},Xl={s:{r:0,c:0},e:{r:0,c:0}},Rl=xu[3],Al=Pl||"Sheet"+(Rl+1),Pl="");var Su=xl.dense?(El[xu[0].r]||[])[xu[0].c]:El[cm(xu[0])];if(Su){Su.t=xu[1].t,Su.v=xu[1].v,xu[1].z!=null&&(Su.z=xu[1].z),xu[1].f!=null&&(Su.f=xu[1].f);break}xl.dense?(El[xu[0].r]||(El[xu[0].r]=[]),El[xu[0].r][xu[0].c]=xu[1]):El[cm(xu[0])]=xu[1]}},xl);else{if(ga[2]!=26&&ga[2]!=14)throw new Error("Unrecognized LOTUS BOF "+ga[2]);xl.Enum=sS,ga[2]==14&&(xl.qpro=!0,ga.l=0),oS(ga,function(xu,Qu,Bu){switch(Bu){case 204:Al=xu;break;case 22:xu[1].v=xu[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xu[3]>Rl&&(El["!ref"]=fm(Xl),Ol[Al]=El,Ul.push(Al),El=xl.dense?[]:{},Xl={s:{r:0,c:0},e:{r:0,c:0}},Rl=xu[3],Al="Sheet"+(Rl+1)),0<ou&&xu[0].r>=ou)break;xl.dense?(El[xu[0].r]||(El[xu[0].r]=[]),El[xu[0].r][xu[0].c]=xu[1]):El[cm(xu[0])]=xu[1],Xl.e.c<xu[0].c&&(Xl.e.c=xu[0].c),Xl.e.r<xu[0].r&&(Xl.e.r=xu[0].r);break;case 27:xu[14e3]&&(Wl[xu[14e3][0]]=xu[14e3][1]);break;case 1537:Wl[xu[0]]=xu[1],xu[0]==Rl&&(Al=xu[1])}},xl)}if(El["!ref"]=fm(Xl),Ol[Pl||Al]=El,Ul.push(Pl||Al),!Wl.length)return{SheetNames:Ul,Sheets:Ol};for(var au={},du=[],Du=0;Du<Wl.length;++Du)Ol[Ul[Du]]?(du.push(Wl[Du]||Ul[Du]),au[Wl[Du]]=Ol[Wl[Du]]||Ol[Ul[Du]]):(du.push(Wl[Du]),au[Wl[Du]]={"!ref":"A1"});return{SheetNames:du,Sheets:au}}function j2(ga,yl,xl){var El=[{c:0,r:0},{t:"n",v:0},0,0];return xl.qpro&&xl.vers!=20768?(El[0].c=ga.read_shift(1),El[3]=ga.read_shift(1),El[0].r=ga.read_shift(2),ga.l+=2):(El[2]=ga.read_shift(1),El[0].c=ga.read_shift(2),El[0].r=ga.read_shift(2)),El}function aS(ga,Al,xl){var El=ga.l+Al,Al=j2(ga,0,xl);return Al[1].t="s",xl.vers!=20768?(xl.qpro&&ga.l++,Al[1].v=ga.read_shift(El-ga.l,"cstr"),Al):(ga.l++,El=ga.read_shift(1),Al[1].v=ga.read_shift(El,"utf8"),Al)}function Lx(ga,yl,xl){var El=32768&yl;return(El?"":"$")+(xl?Gm:l1)(yl=(El?ga:0)+(8192<=(yl&=-32769)?yl-16384:yl))}function e2(ga){var yl=[{c:0,r:0},{t:"n",v:0},0];return yl[0].r=ga.read_shift(2),yl[3]=ga[ga.l++],yl[0].c=ga[ga.l++],yl}function lS(Pl,yl){var xl=e2(Pl),El=Pl.read_shift(4),Al=Pl.read_shift(4);if((Rl=Pl.read_shift(2))==65535)return El===0&&Al===3221225472?(xl[1].t="e",xl[1].v=15):El===0&&Al===3489660928?(xl[1].t="e",xl[1].v=42):xl[1].v=0,xl;var Pl=32768&Rl,Rl=(32767&Rl)-16446;return xl[1].v=(1-2*Pl)*(Al*Math.pow(2,32+Rl)+El*Math.pow(2,Rl)),xl}function cS(El,yl){var xl=e2(El),El=El.read_shift(8,"f");return xl[1].v=El,xl}function uS(ga,yl){return ga[ga.l+yl-1]==0?ga.read_shift(yl,"cstr"):""}var hS,dS,fS,pS,K_=(hS=My("t"),dS=My("rPr"),fS=/<(?:\w+:)?r>/g,pS=/<\/(?:\w+:)?r>/,function(ga){return ga.replace(fS,"").split(pS).map(Y_).filter(function(yl){return yl.v})});function Y_(ga){var yl=ga.match(hS);return yl?(yl={t:"s",v:dm(yl[1])},ga=ga.match(dS),ga&&(yl.s=function(xl){var El={},Al=xl.match(hm),Pl=0,Rl=!1;if(Al)for(;Pl!=Al.length;++Pl){var Ol=am(Al[Pl]);switch(Ol[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!Ol.val)break;case"<shadow>":case"<shadow/>":El.shadow=1;break;case"</shadow>":break;case"<charset":if(Ol.val=="1")break;El.cp=$a[parseInt(Ol.val,10)];break;case"<outline":if(!Ol.val)break;case"<outline>":case"<outline/>":El.outline=1;break;case"</outline>":break;case"<rFont":El.name=Ol.val;break;case"<sz":El.sz=Ol.val;break;case"<strike":if(!Ol.val)break;case"<strike>":case"<strike/>":El.strike=1;break;case"</strike>":break;case"<u":if(!Ol.val)break;switch(Ol.val){case"double":El.uval="double";break;case"singleAccounting":El.uval="single-accounting";break;case"doubleAccounting":El.uval="double-accounting"}case"<u>":case"<u/>":El.u=1;break;case"</u>":break;case"<b":if(Ol.val=="0")break;case"<b>":case"<b/>":El.b=1;break;case"</b>":break;case"<i":if(Ol.val=="0")break;case"<i>":case"<i/>":El.i=1;break;case"</i>":break;case"<color":Ol.rgb&&(El.color=Ol.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":El.family=Ol.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":El.valign=Ol.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Rl=!0;break;case"</ext>":Rl=!1;break;default:if(Ol[0].charCodeAt(1)!==47&&!Rl)throw new Error("Unrecognized rich format "+Ol[0])}}return El}(ga[1])),yl):{t:"s",v:""}}var gS,X_=(gS=/(\r\n|\n)/g,function(ga){return ga.map(Z_).join("")});function Z_(ga){var yl,xl,El,Al=[[],ga.v,[]];return ga.v?(ga.s&&(yl=ga.s,xl=Al[0],El=Al[2],ga=[],yl.u&&ga.push("text-decoration: underline;"),yl.uval&&ga.push("text-underline-style:"+yl.uval+";"),yl.sz&&ga.push("font-size:"+yl.sz+"pt;"),yl.outline&&ga.push("text-effect: outline;"),yl.shadow&&ga.push("text-shadow: auto;"),xl.push('<span style="'+ga.join("")+'">'),yl.b&&(xl.push("<b>"),El.push("</b>")),yl.i&&(xl.push("<i>"),El.push("</i>")),yl.strike&&(xl.push("<s>"),El.push("</s>")),(ga=yl.valign||"")=="superscript"||ga=="super"?ga="sup":ga=="subscript"&&(ga="sub"),ga!=""&&(xl.push("<"+ga+">"),El.push("</"+ga+">")),El.push("</span>")),Al[0].join("")+Al[1].replace(gS,"<br/>")+Al[2].join("")):""}var J_=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Q_=/<(?:\w+:)?r>/,eA=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ww(ga,El){var xl=!El||El.cellHTML,El={};return ga?(ga.match(/^\s*<(?:\w+:)?t[^>]*>/)?(El.t=dm(Tm(ga.slice(ga.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),El.r=Tm(ga),xl&&(El.h=b1(El.t))):ga.match(Q_)&&(El.r=Tm(ga),El.t=dm(Tm((ga.replace(eA,"").match(J_)||[]).join("").replace(hm,""))),xl&&(El.h=X_(K_(El.r)))),El):{t:""}}var tA=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rA=/<(?:\w+:)?(?:si|sstItem)>/g,nA=/<\/(?:\w+:)?(?:si|sstItem)>/,iA=/^\s|\s$|[\t\n\r]/;function mS(ga,yl){if(!yl.bookSST)return"";var xl=[t1];xl[xl.length]=v0("sst",null,{xmlns:zv[0],count:ga.Count,uniqueCount:ga.Unique});for(var El,Al,Pl=0;Pl!=ga.length;++Pl)ga[Pl]!=null&&(Al="<si>",(El=ga[Pl]).r?Al+=El.r:(Al+="<t",El.t||(El.t=""),El.t.match(iA)&&(Al+=' xml:space="preserve"'),Al+=">"+bm(El.t)+"</t>"),Al+="</si>",xl[xl.length]=Al);return 2<xl.length&&(xl[xl.length]="</sst>",xl[1]=xl[1].replace("/>",">")),xl.join("")}var sA=function(ga,yl){var xl=!1;return yl==null&&(xl=!0,yl=Zp(15+4*ga.t.length)),yl.write_shift(1,0),o1(ga.t,yl),xl?yl.slice(0,yl.l):yl};function oA(ga){var yl,xl,El=j1();i0(El,159,(yl=ga,(xl=xl||Zp(8)).write_shift(4,yl.Count),xl.write_shift(4,yl.Unique),xl));for(var Al=0;Al<ga.length;++Al)i0(El,19,sA(ga[Al]));return i0(El,160),El.end()}function vS(ga){if(hs!==void 0)return hs.utils.encode(xa,ga);for(var yl=[],xl=ga.split(""),El=0;El<xl.length;++El)yl[El]=xl[El].charCodeAt(0);return yl}function Gy(ga,yl){var xl={};return xl.Major=ga.read_shift(2),xl.Minor=ga.read_shift(2),4<=yl&&(ga.l+=yl-4),xl}function aA(ga){var yl=[];ga.l+=4;for(var xl=ga.read_shift(4);0<xl--;)yl.push(function(El){for(var Pl=El.read_shift(4),Al=El.l+Pl-4,Pl={},Rl=El.read_shift(4),Ol=[];0<Rl--;)Ol.push({t:El.read_shift(4),v:El.read_shift(0,"lpp4")});if(Pl.name=El.read_shift(0,"lpp4"),Pl.comps=Ol,El.l!=Al)throw new Error("Bad DataSpaceMapEntry: "+El.l+" != "+Al);return Pl}(ga));return yl}function lA(ga){var yl,xl,xl=(xl={},(yl=ga).read_shift(4),yl.l+=4,xl.id=yl.read_shift(0,"lpp4"),xl.name=yl.read_shift(0,"lpp4"),xl.R=Gy(yl,4),xl.U=Gy(yl,4),xl.W=Gy(yl,4),xl);if(xl.ename=ga.read_shift(0,"8lpp4"),xl.blksz=ga.read_shift(4),xl.cmode=ga.read_shift(4),ga.read_shift(4)!=4)throw new Error("Bad !Primary record");return xl}function yS(ga,xl){var xl=ga.l+xl,El={};El.Flags=63&ga.read_shift(4),ga.l+=4,El.AlgID=ga.read_shift(4);var Al=!1;switch(El.AlgID){case 26126:case 26127:case 26128:Al=El.Flags==36;break;case 26625:Al=El.Flags==4;break;case 0:Al=El.Flags==16||El.Flags==4||El.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+El.AlgID}if(!Al)throw new Error("Encryption Flags/AlgID mismatch");return El.AlgIDHash=ga.read_shift(4),El.KeySize=ga.read_shift(4),El.ProviderType=ga.read_shift(4),ga.l+=8,El.CSPName=ga.read_shift(xl-ga.l>>1,"utf16le"),ga.l=xl,El}function xS(ga,El){var xl={},El=ga.l+El;return ga.l+=4,xl.Salt=ga.slice(ga.l,ga.l+16),ga.l+=16,xl.Verifier=ga.slice(ga.l,ga.l+16),ga.l+=16,ga.read_shift(4),xl.VerifierHash=ga.slice(ga.l,El),ga.l=El,xl}function cA(ga){var yl=Gy(ga);switch(yl.Minor){case 2:return[yl.Minor,function(Al){if((63&Al.read_shift(4))!=36)throw new Error("EncryptionInfo mismatch");var El=Al.read_shift(4),El=yS(Al,El),Al=xS(Al,Al.length-Al.l);return{t:"Std",h:El,v:Al}}(ga)];case 3:return[yl.Minor,function(){throw new Error("File is password-protected: ECMA-376 Extensible")}()];case 4:return[yl.Minor,function(Al){var El=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];Al.l+=4;var Al=Al.read_shift(Al.length-Al.l,"utf8"),Pl={};return Al.replace(hm,function(Rl){var Ol=am(Rl);switch(x1(Ol[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":El.forEach(function(Ul){Pl[Ul]=Ol[Ul]});break;case"<dataIntegrity":Pl.encryptedHmacKey=Ol.encryptedHmacKey,Pl.encryptedHmacValue=Ol.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":Pl.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":Pl.uri=Ol.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":Pl.encs.push(Ol);break;default:throw Ol[0]}}),Pl}(ga)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+yl.Minor)}function Ew(ga){var yl,xl=0,El=vS(ga),Al=El.length+1,Pl=$l(Al);for(Pl[0]=El.length,yl=1;yl!=Al;++yl)Pl[yl]=El[yl-1];for(yl=Al-1;0<=yl;--yl)xl=((16384&xl?1:0)|xl<<1&32767)^Pl[yl];return 52811^xl}var Sw,bS,wS,ES=(Sw=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],bS=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],wS=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],function(ga){for(var yl,xl,El=vS(ga),Al=function(Ul){for(var Wl=bS[Ul.length-1],Xl=104,ou=Ul.length-1;0<=ou;--ou)for(var au=Ul[ou],du=0;du!=7;++du)64&au&&(Wl^=wS[Xl]),au*=2,--Xl;return Wl}(El),Pl=El.length,Rl=$l(16),Ol=0;Ol!=16;++Ol)Rl[Ol]=0;for((1&Pl)==1&&(yl=Al>>8,Rl[Pl]=Bx(Sw[0],yl),--Pl,yl=255&Al,ga=El[El.length-1],Rl[Pl]=Bx(ga,yl));0<Pl;)yl=Al>>8,Rl[--Pl]=Bx(El[Pl],yl),yl=255&Al,Rl[--Pl]=Bx(El[Pl],yl);for(xl=(Pl=15)-El.length;0<xl;)yl=Al>>8,Rl[Pl]=Bx(Sw[xl],yl),--xl,yl=255&Al,Rl[--Pl]=Bx(El[Pl],yl),--Pl,--xl;return Rl});function Bx(ga,yl){return 255&((yl=ga^yl)/2|128*yl)}var uA=function(ga){var yl=0,xl=ES(ga);return function(El){return El=function(Al,Pl,Rl,Ol,Ul){var Wl,Xl;for(Ul=Ul||Pl,Ol=Ol||ES(Al),Wl=0;Wl!=Pl.length;++Wl)Xl=Pl[Wl],Xl=255&((Xl^=Ol[Rl])>>5|Xl<<3),Ul[Wl]=Xl,++Rl;return[Ul,Rl,Ol]}("",El,yl,xl),yl=El[1],El[0]}};function hA(ga,yl,xl){return xl=xl||{},xl.Info=ga.read_shift(2),ga.l-=2,xl.Info===1?xl.Data=function(El){var Al={},Pl=Al.EncryptionVersionInfo=Gy(El,4);if(Pl.Major!=1||Pl.Minor!=1)throw"unrecognized version code "+Pl.Major+" : "+Pl.Minor;return Al.Salt=El.read_shift(16),Al.EncryptedVerifier=El.read_shift(16),Al.EncryptedVerifierHash=El.read_shift(16),Al}(ga):xl.Data=function(El,Al){var Pl={},Rl=Pl.EncryptionVersionInfo=Gy(El,4);if(Al-=4,Rl.Minor!=2)throw new Error("unrecognized minor version code: "+Rl.Minor);if(4<Rl.Major||Rl.Major<2)throw new Error("unrecognized major version code: "+Rl.Major);return Pl.Flags=El.read_shift(4),Al-=4,Rl=El.read_shift(4),Al-=4,Pl.EncryptionHeader=yS(El,Rl),Al-=Rl,Pl.EncryptionVerifier=xS(El,Al),Pl}(ga,yl),xl}var SS={to_workbook:function(ga,yl){return qv(CS(ga,yl),yl)},to_sheet:CS,from_sheet:function(ga){for(var yl=["{\\rtf1\\ansi"],xl=Sm(ga["!ref"]),El=Array.isArray(ga),Al=xl.s.r;Al<=xl.e.r;++Al){yl.push("\\trowd\\trautofit1");for(var Pl=xl.s.c;Pl<=xl.e.c;++Pl)yl.push("\\cellx"+(Pl+1));for(yl.push("\\pard\\intbl"),Pl=xl.s.c;Pl<=xl.e.c;++Pl){var Rl=cm({r:Al,c:Pl});(Rl=El?(ga[Al]||[])[Pl]:ga[Rl])&&(Rl.v!=null||Rl.f&&!Rl.F)&&(yl.push(" "+(Rl.w||(z1(Rl),Rl.w))),yl.push("\\cell"))}yl.push("\\pard\\intbl\\row")}return yl.join("")+"}"}};function CS(ga,yl){switch(yl.type){case"base64":return M2(Ll(ga),yl);case"binary":return M2(ga,yl);case"buffer":return M2(Nl&&Buffer.isBuffer(ga)?ga.toString("binary"):nu(ga),yl);case"array":return M2(_0(ga),yl)}throw new Error("Unrecognized type "+yl.type)}function M2(El,yl){var xl=(yl||{}).dense?[]:{},El=El.match(/\\trowd.*?\\row\b/g);if(!El.length)throw new Error("RTF missing table");var Al={s:{c:0,r:0},e:{c:0,r:El.length-1}};return El.forEach(function(Pl,Rl){Array.isArray(xl)&&(xl[Rl]=[]);for(var Ol,Ul=/\\\w+\b/g,Wl=0,Xl=-1;Ol=Ul.exec(Pl);)Ol[0]==="\\cell"&&(++Xl,(Ol=(Ol=Pl.slice(Wl,Ul.lastIndex-Ol[0].length))[0]==" "?Ol.slice(1):Ol).length&&(Ol={v:Ol,t:"s"},Array.isArray(xl)?xl[Rl][Xl]=Ol:xl[cm({r:Rl,c:Xl})]=Ol)),Wl=Ul.lastIndex;Xl>Al.e.c&&(Al.e.c=Xl)}),xl["!ref"]=fm(Al),xl}function t2(ga){for(var yl=0,xl=1;yl!=3;++yl)xl=256*xl+(255<ga[yl]?255:ga[yl]<0?0:ga[yl]);return xl.toString(16).toUpperCase().slice(1)}function N2(ga,yl){return yl===0?ga:(ga=function(Xl){var El=Xl[0]/255,Al=Xl[1]/255,Pl=Xl[2]/255,Rl=Math.max(El,Al,Pl),Ol=Math.min(El,Al,Pl),Ul=Rl-Ol;if(Ul==0)return[0,0,El];var Wl=0,Xl=0,Xl=Ul/(1<(Ol=Rl+Ol)?2-Ol:Ol);switch(Rl){case El:Wl=((Al-Pl)/Ul+6)%6;break;case Al:Wl=(Pl-El)/Ul+2;break;case Pl:Wl=(El-Al)/Ul+4}return[Wl/6,Xl,Ol/2]}((ga=(ga=ga).slice(ga[0]==="#"?1:0).slice(0,6),[parseInt(ga.slice(0,2),16),parseInt(ga.slice(2,4),16),parseInt(ga.slice(4,6),16)])),ga[2]=yl<0?ga[2]*(1+yl):1-(1-ga[2])*(1-yl),t2(function(Rl){var El,Al=Rl[0],Pl=Rl[1],Rl=Rl[2],Ol=2*Pl*(Rl<.5?Rl:1-Rl),Ul=[Rl=Rl-Ol/2,Rl,Rl],Wl=6*Al;if(Pl!==0)switch(0|Wl){case 0:case 6:El=Ol*Wl,Ul[0]+=Ol,Ul[1]+=El;break;case 1:El=Ol*(2-Wl),Ul[0]+=El,Ul[1]+=Ol;break;case 2:El=Ol*(Wl-2),Ul[1]+=Ol,Ul[2]+=El;break;case 3:El=Ol*(4-Wl),Ul[1]+=El,Ul[2]+=Ol;break;case 4:El=Ol*(Wl-4),Ul[2]+=Ol,Ul[0]+=El;break;case 5:El=Ol*(6-Wl),Ul[2]+=El,Ul[0]+=Ol}for(var Xl=0;Xl!=3;++Xl)Ul[Xl]=Math.round(255*Ul[Xl]);return Ul}(ga)))}var _S=6,dA=15,fA=1,mv=_S;function r2(ga){return Math.floor((ga+Math.round(128/mv)/256)*mv)}function n2(ga){return Math.floor((ga-5)/mv*100+.5)/100}function L2(ga){return Math.round((ga*mv+5)/mv*256)/256}function Cw(ga){return L2(n2(r2(ga)))}function _w(ga){var yl=Math.abs(ga-Cw(ga)),xl=mv;if(.005<yl)for(mv=fA;mv<dA;++mv)Math.abs(ga-Cw(ga))<=yl&&(yl=Math.abs(ga-Cw(ga)),xl=mv);mv=xl}function rx(ga){ga.width?(ga.wpx=r2(ga.width),ga.wch=n2(ga.wpx),ga.MDW=mv):ga.wpx?(ga.wch=n2(ga.wpx),ga.width=L2(ga.wch),ga.MDW=mv):typeof ga.wch=="number"&&(ga.width=L2(ga.wch),ga.wpx=r2(ga.width),ga.MDW=mv),ga.customWidth&&delete ga.customWidth}var AS=96;function i2(ga){return 96*ga/AS}function Ux(ga){return ga*AS/96}var pA={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},B2=["numFmtId","fillId","fontId","borderId","xfId"],U2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],TS,RS,kS,PS,IS,s2,gA=(TS=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,RS=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,kS=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,PS=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,IS=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/,function(ga,yl,xl){var El,Al,Pl,Rl,Ol,Ul={};return ga&&((El=(ga=ga.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(TS))&&function(Wl,Xl,ou){Xl.NumberFmt=[];for(var au=Ju(Kl),du=0;du<au.length;++du)Xl.NumberFmt[au[du]]=Kl[au[du]];var Du=Wl[0].match(hm);if(Du)for(du=0;du<Du.length;++du){var xu=am(Du[du]);switch(x1(xu[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var Qu=dm(Tm(xu.formatCode)),Bu=parseInt(xu.numFmtId,10);if(Xl.NumberFmt[Bu]=Qu,0<Bu){if(392<Bu){for(Bu=392;60<Bu&&Xl.NumberFmt[Bu]!=null;--Bu);Xl.NumberFmt[Bu]=Qu}yu(Qu,Bu)}break;case"</numFmt>":break;default:if(ou.WTF)throw new Error("unrecognized "+xu[0]+" in numFmts")}}}(El,Ul,xl),(El=ga.match(PS))&&function(Wl,Xl,ou,au){Xl.Fonts=[];var du={},Du=!1;(Wl[0].match(hm)||[]).forEach(function(xu){var Qu,Bu=am(xu);switch(x1(Bu[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":Xl.Fonts.push(du),du={};break;case"<name":Bu.val&&(du.name=Tm(Bu.val));break;case"<name/>":case"</name>":break;case"<b":du.bold=Bu.val?J0(Bu.val):1;break;case"<b/>":du.bold=1;break;case"<i":du.italic=Bu.val?J0(Bu.val):1;break;case"<i/>":du.italic=1;break;case"<u":switch(Bu.val){case"none":du.underline=0;break;case"single":du.underline=1;break;case"double":du.underline=2;break;case"singleAccounting":du.underline=33;break;case"doubleAccounting":du.underline=34}break;case"<u/>":du.underline=1;break;case"<strike":du.strike=Bu.val?J0(Bu.val):1;break;case"<strike/>":du.strike=1;break;case"<outline":du.outline=Bu.val?J0(Bu.val):1;break;case"<outline/>":du.outline=1;break;case"<shadow":du.shadow=Bu.val?J0(Bu.val):1;break;case"<shadow/>":du.shadow=1;break;case"<condense":du.condense=Bu.val?J0(Bu.val):1;break;case"<condense/>":du.condense=1;break;case"<extend":du.extend=Bu.val?J0(Bu.val):1;break;case"<extend/>":du.extend=1;break;case"<sz":Bu.val&&(du.sz=+Bu.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":Bu.val&&(du.vertAlign=Bu.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":Bu.val&&(du.family=parseInt(Bu.val,10));break;case"<family/>":case"</family>":break;case"<scheme":Bu.val&&(du.scheme=Bu.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(Bu.val=="1")break;Bu.codepage=$a[parseInt(Bu.val,10)];break;case"<color":du.color||(du.color={}),Bu.auto&&(du.color.auto=J0(Bu.auto)),Bu.rgb?du.color.rgb=Bu.rgb.slice(-6):Bu.indexed?(du.color.index=parseInt(Bu.indexed,10),Qu=Iu[du.color.index],Qu=(Qu=du.color.index==81?Iu[1]:Qu)||Iu[1],du.color.rgb=Qu[0].toString(16)+Qu[1].toString(16)+Qu[2].toString(16)):Bu.theme&&(du.color.theme=parseInt(Bu.theme,10),Bu.tint&&(du.color.tint=parseFloat(Bu.tint)),Bu.theme&&ou.themeElements&&ou.themeElements.clrScheme&&(du.color.rgb=N2(ou.themeElements.clrScheme[du.color.theme].rgb,du.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":Du=!0;break;case"</AlternateContent>":Du=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Du=!0;break;case"</ext>":Du=!1;break;default:if(au&&au.WTF&&!Du)throw new Error("unrecognized "+Bu[0]+" in fonts")}})}(El,Ul,yl,xl),(El=ga.match(kS))&&function(Wl,Xl,ou){Xl.Fills=[];var au={},du=!1;(Wl[0].match(hm)||[]).forEach(function(Du){var xu=am(Du);switch(x1(xu[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":au={},Xl.Fills.push(au);break;case"</fill>":case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":Xl.Fills.push(au),au={};break;case"<patternFill":case"<patternFill>":xu.patternType&&(au.patternType=xu.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":au.bgColor||(au.bgColor={}),xu.indexed&&(au.bgColor.indexed=parseInt(xu.indexed,10)),xu.theme&&(au.bgColor.theme=parseInt(xu.theme,10)),xu.tint&&(au.bgColor.tint=parseFloat(xu.tint)),xu.rgb&&(au.bgColor.rgb=xu.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":au.fgColor||(au.fgColor={}),xu.theme&&(au.fgColor.theme=parseInt(xu.theme,10)),xu.tint&&(au.fgColor.tint=parseFloat(xu.tint)),xu.rgb!=null&&(au.fgColor.rgb=xu.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":case"</stop>":break;case"<color":case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":du=!0;break;case"</ext>":du=!1;break;default:if(ou&&ou.WTF&&!du)throw new Error("unrecognized "+xu[0]+" in fills")}})}(El,Ul,xl),(El=ga.match(IS))&&function(Wl,Xl,ou){Xl.Borders=[];var au={},du=!1;(Wl[0].match(hm)||[]).forEach(function(Du){var xu=am(Du);switch(x1(xu[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":au={},xu.diagonalUp&&(au.diagonalUp=J0(xu.diagonalUp)),xu.diagonalDown&&(au.diagonalDown=J0(xu.diagonalDown)),Xl.Borders.push(au);break;case"</border>":case"<left/>":break;case"<left":case"<left>":case"</left>":case"<right/>":break;case"<right":case"<right>":case"</right>":case"<top/>":break;case"<top":case"<top>":case"</top>":case"<bottom/>":break;case"<bottom":case"<bottom>":case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":break;case"<start":case"<start>":case"<start/>":case"</start>":break;case"<end":case"<end>":case"<end/>":case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":du=!0;break;case"</ext>":du=!1;break;default:if(ou&&ou.WTF&&!du)throw new Error("unrecognized "+xu[0]+" in borders")}})}(El,Ul,xl),(El=ga.match(RS))&&(El=El,Pl=xl,Ol=!((Al=Ul).CellXf=[]),(El[0].match(hm)||[]).forEach(function(Wl){var Xl=am(Wl),ou=0;switch(x1(Xl[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(delete(Rl=Xl)[0],ou=0;ou<B2.length;++ou)Rl[B2[ou]]&&(Rl[B2[ou]]=parseInt(Rl[B2[ou]],10));for(ou=0;ou<U2.length;++ou)Rl[U2[ou]]&&(Rl[U2[ou]]=J0(Rl[U2[ou]]));if(Al.NumberFmt&&392<Rl.numFmtId){for(ou=392;60<ou;--ou)if(Al.NumberFmt[Rl.numFmtId]==Al.NumberFmt[ou]){Rl.numFmtId=ou;break}}Al.CellXf.push(Rl);break;case"</xf>":break;case"<alignment":case"<alignment/>":var au={};Xl.vertical&&(au.vertical=Xl.vertical),Xl.horizontal&&(au.horizontal=Xl.horizontal),Xl.textRotation!=null&&(au.textRotation=Xl.textRotation),Xl.indent&&(au.indent=Xl.indent),Xl.wrapText&&(au.wrapText=J0(Xl.wrapText)),Rl.alignment=au;break;case"</alignment>":case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":Ol=!0;break;case"</AlternateContent>":Ol=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Ol=!0;break;case"</ext>":Ol=!1;break;default:if(Pl&&Pl.WTF&&!Ol)throw new Error("unrecognized "+Xl[0]+" in cellXfs")}}))),Ul});function DS(ga,yl){if(s2!==void 0)return s2.toXml();var xl,El,Al,Pl,Rl=[t1,v0("styleSheet",null,{xmlns:zv[0],"xmlns:vt":Cm.vt})];return ga.SSF&&(El=ga.SSF,Al=["<numFmts>"],[[5,8],[23,26],[41,44],[50,392]].forEach(function(Ol){for(var Ul=Ol[0];Ul<=Ol[1];++Ul)El[Ul]!=null&&(Al[Al.length]=v0("numFmt",null,{numFmtId:Ul,formatCode:bm(El[Ul])}))}),(xl=Al.length===1?"":(Al[Al.length]="</numFmts>",Al[0]=v0("numFmts",null,{count:Al.length-2}).replace("/>",">"),Al.join("")))!=null)&&(Rl[Rl.length]=xl),Rl[Rl.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',Rl[Rl.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',Rl[Rl.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',Rl[Rl.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',yl=yl.cellXfs,(Pl=[])[Pl.length]="<cellXfs/>",yl.forEach(function(Ol){Pl[Pl.length]=v0("xf",null,Ol)}),Pl[Pl.length]="</cellXfs>",(xl=Pl.length===2?"":(Pl[0]=v0("cellXfs",null,{count:Pl.length-2}).replace("/>",">"),Pl.join("")))&&(Rl[Rl.length]=xl),Rl[Rl.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',Rl[Rl.length]='<dxfs count="0"/>',Rl[Rl.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',2<Rl.length&&(Rl[Rl.length]="</styleSheet>",Rl[1]=Rl[1].replace("/>",">")),Rl.join("")}function mA(ga,yl){var xl;(yl=yl||Zp(153)).write_shift(2,20*ga.sz),xl=ga,El=(El=yl)||Zp(2),xl=(xl.italic?2:0)|(xl.strike?8:0)|(xl.outline?16:0)|(xl.shadow?32:0)|(xl.condense?64:0)|(xl.extend?128:0),El.write_shift(1,xl),El.write_shift(1,0),yl.write_shift(2,ga.bold?700:400);var El=0;return ga.vertAlign=="superscript"?El=1:ga.vertAlign=="subscript"&&(El=2),yl.write_shift(2,El),yl.write_shift(1,ga.underline||0),yl.write_shift(1,ga.family||0),yl.write_shift(1,ga.charset||0),yl.write_shift(1,0),Gv(ga.color,yl),El=0,ga.scheme=="major"&&(El=1),ga.scheme=="minor"&&(El=2),yl.write_shift(1,El),o1(ga.name,yl),yl.length>yl.l?yl.slice(0,yl.l):yl}var FS,vA=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],yA=F1;function jS(ga,yl){yl=yl||Zp(84),ga=(FS=FS||hp(vA))[ga.patternType],ga==null&&(ga=40),yl.write_shift(4,ga);var xl=0;if(ga!=40)for(Gv({auto:1},yl),Gv({auto:1},yl);xl<12;++xl)yl.write_shift(4,0);else{for(;xl<4;++xl)yl.write_shift(4,0);for(;xl<12;++xl)yl.write_shift(4,0)}return yl.length>yl.l?yl.slice(0,yl.l):yl}function MS(ga,yl,xl){return(xl=xl||Zp(16)).write_shift(2,yl||0),xl.write_shift(2,ga.numFmtId||0),xl.write_shift(2,0),xl.write_shift(2,0),xl.write_shift(2,0),xl.write_shift(1,0),xl.write_shift(1,0),xl.write_shift(1,0),xl.write_shift(1,0),xl.write_shift(1,0),xl.write_shift(1,0),xl}function o2(ga,yl){return(yl=yl||Zp(10)).write_shift(1,0),yl.write_shift(1,0),yl.write_shift(4,0),yl.write_shift(4,0),yl}lp=F1;function xA(ga,yl){var xl;yl&&(xl=0,[[5,8],[23,26],[41,44],[50,392]].forEach(function(El){for(var Al=El[0];Al<=El[1];++Al)yl[Al]!=null&&++xl}),xl!=0&&(i0(ga,615,Xm(xl)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(El){for(var Al,Pl,Rl,Ol=El[0];Ol<=El[1];++Ol)yl[Ol]!=null&&i0(ga,44,(Al=Ol,Pl=yl[Ol],(Rl=(Rl=void 0)||Zp(6+4*Pl.length)).write_shift(2,Al),o1(Pl,Rl),Pl=Rl.length>Rl.l?Rl.slice(0,Rl.l):Rl,Rl.l==null&&(Rl.l=Rl.length),Pl))}),i0(ga,616)))}function bA(ga){var yl;i0(ga,613,Xm(1)),i0(ga,46,((yl=yl||Zp(51)).write_shift(1,0),o2(0,yl),o2(0,yl),o2(0,yl),o2(0,yl),o2(0,yl),yl.length>yl.l?yl.slice(0,yl.l):yl)),i0(ga,614)}function wA(ga){var yl,xl;i0(ga,619,Xm(1)),i0(ga,48,(yl={xfId:0,builtinId:0,name:"Normal"},(xl=xl||Zp(52)).write_shift(4,yl.xfId),xl.write_shift(2,1),xl.write_shift(1,+yl.builtinId),xl.write_shift(1,0),Qy(yl.name||"",xl),xl.length>xl.l?xl.slice(0,xl.l):xl)),i0(ga,620)}function EA(ga){var yl,xl,El,Al;i0(ga,508,(yl=0,xl="TableStyleMedium9",El="PivotStyleMedium4",(Al=Zp(2052)).write_shift(4,yl),Qy(xl,Al),Qy(El,Al),Al.length>Al.l?Al.slice(0,Al.l):Al)),i0(ga,509)}function SA(ga,yl){var xl,El=j1();return i0(El,278),xA(El,ga.SSF),i0(ga=El,611,Xm(1)),i0(ga,43,mA({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),i0(ga,612),i0(ga=El,603,Xm(2)),i0(ga,45,jS({patternType:"none"})),i0(ga,45,jS({patternType:"gray125"})),i0(ga,604),bA(El),i0(ga=El,626,Xm(1)),i0(ga,47,MS({numFmtId:0},65535)),i0(ga,627),xl=El,yl=yl.cellXfs,i0(xl,617,Xm(yl.length)),yl.forEach(function(Al){i0(xl,47,MS(Al,0))}),i0(xl,618),wA(El),i0(yl=El,505,Xm(0)),i0(yl,506),EA(El),i0(El,279),El.end()}var CA=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _A(ga,yl,xl){yl.themeElements.clrScheme=[];var El={};(ga[0].match(hm)||[]).forEach(function(Al){var Pl=am(Al);switch(Pl[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":El.rgb=Pl.val;break;case"<a:sysClr":El.rgb=Pl.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":Pl[0].charAt(1)==="/"?(yl.themeElements.clrScheme[CA.indexOf(Pl[0])]=El,El={}):El.name=Pl[0].slice(3,Pl[0].length-1);break;default:if(xl&&xl.WTF)throw new Error("Unrecognized "+Pl[0]+" in clrScheme")}})}function AA(){}function TA(){}var RA=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,kA=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,PA=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,IA=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function NS(ga,yl){var xl,El,Al,Pl,Rl,Ol={};if(!(xl=(ga=!ga||ga.length===0?Aw():ga).match(IA)))throw new Error("themeElements not found in theme");return El=xl[0],Pl=yl,(Al=Ol).themeElements={},[["clrScheme",RA,_A],["fontScheme",kA,AA],["fmtScheme",PA,TA]].forEach(function(Ul){if(!(Rl=El.match(Ul[1])))throw new Error(Ul[0]+" not found in themeElements");Ul[2](Rl,Al,Pl)}),Ol.raw=ga,Ol}function Aw(ga,yl){return yl&&yl.themeXLSX?yl.themeXLSX:ga&&typeof ga.raw=="string"?ga.raw:(ga=[t1],ga[ga.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',ga[ga.length]="<a:themeElements>",ga[ga.length]='<a:clrScheme name="Office">',ga[ga.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',ga[ga.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',ga[ga.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',ga[ga.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',ga[ga.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',ga[ga.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',ga[ga.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',ga[ga.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',ga[ga.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',ga[ga.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',ga[ga.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',ga[ga.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',ga[ga.length]="</a:clrScheme>",ga[ga.length]='<a:fontScheme name="Office">',ga[ga.length]="<a:majorFont>",ga[ga.length]='<a:latin typeface="Cambria"/>',ga[ga.length]='<a:ea typeface=""/>',ga[ga.length]='<a:cs typeface=""/>',ga[ga.length]='<a:font script="Jpan" typeface=" "/>',ga[ga.length]='<a:font script="Hang" typeface=" "/>',ga[ga.length]='<a:font script="Hans" typeface=""/>',ga[ga.length]='<a:font script="Hant" typeface=""/>',ga[ga.length]='<a:font script="Arab" typeface="Times New Roman"/>',ga[ga.length]='<a:font script="Hebr" typeface="Times New Roman"/>',ga[ga.length]='<a:font script="Thai" typeface="Tahoma"/>',ga[ga.length]='<a:font script="Ethi" typeface="Nyala"/>',ga[ga.length]='<a:font script="Beng" typeface="Vrinda"/>',ga[ga.length]='<a:font script="Gujr" typeface="Shruti"/>',ga[ga.length]='<a:font script="Khmr" typeface="MoolBoran"/>',ga[ga.length]='<a:font script="Knda" typeface="Tunga"/>',ga[ga.length]='<a:font script="Guru" typeface="Raavi"/>',ga[ga.length]='<a:font script="Cans" typeface="Euphemia"/>',ga[ga.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',ga[ga.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',ga[ga.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',ga[ga.length]='<a:font script="Thaa" typeface="MV Boli"/>',ga[ga.length]='<a:font script="Deva" typeface="Mangal"/>',ga[ga.length]='<a:font script="Telu" typeface="Gautami"/>',ga[ga.length]='<a:font script="Taml" typeface="Latha"/>',ga[ga.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',ga[ga.length]='<a:font script="Orya" typeface="Kalinga"/>',ga[ga.length]='<a:font script="Mlym" typeface="Kartika"/>',ga[ga.length]='<a:font script="Laoo" typeface="DokChampa"/>',ga[ga.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',ga[ga.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',ga[ga.length]='<a:font script="Viet" typeface="Times New Roman"/>',ga[ga.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',ga[ga.length]='<a:font script="Geor" typeface="Sylfaen"/>',ga[ga.length]="</a:majorFont>",ga[ga.length]="<a:minorFont>",ga[ga.length]='<a:latin typeface="Calibri"/>',ga[ga.length]='<a:ea typeface=""/>',ga[ga.length]='<a:cs typeface=""/>',ga[ga.length]='<a:font script="Jpan" typeface=" "/>',ga[ga.length]='<a:font script="Hang" typeface=" "/>',ga[ga.length]='<a:font script="Hans" typeface=""/>',ga[ga.length]='<a:font script="Hant" typeface=""/>',ga[ga.length]='<a:font script="Arab" typeface="Arial"/>',ga[ga.length]='<a:font script="Hebr" typeface="Arial"/>',ga[ga.length]='<a:font script="Thai" typeface="Tahoma"/>',ga[ga.length]='<a:font script="Ethi" typeface="Nyala"/>',ga[ga.length]='<a:font script="Beng" typeface="Vrinda"/>',ga[ga.length]='<a:font script="Gujr" typeface="Shruti"/>',ga[ga.length]='<a:font script="Khmr" typeface="DaunPenh"/>',ga[ga.length]='<a:font script="Knda" typeface="Tunga"/>',ga[ga.length]='<a:font script="Guru" typeface="Raavi"/>',ga[ga.length]='<a:font script="Cans" typeface="Euphemia"/>',ga[ga.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',ga[ga.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',ga[ga.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',ga[ga.length]='<a:font script="Thaa" typeface="MV Boli"/>',ga[ga.length]='<a:font script="Deva" typeface="Mangal"/>',ga[ga.length]='<a:font script="Telu" typeface="Gautami"/>',ga[ga.length]='<a:font script="Taml" typeface="Latha"/>',ga[ga.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',ga[ga.length]='<a:font script="Orya" typeface="Kalinga"/>',ga[ga.length]='<a:font script="Mlym" typeface="Kartika"/>',ga[ga.length]='<a:font script="Laoo" typeface="DokChampa"/>',ga[ga.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',ga[ga.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',ga[ga.length]='<a:font script="Viet" typeface="Arial"/>',ga[ga.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',ga[ga.length]='<a:font script="Geor" typeface="Sylfaen"/>',ga[ga.length]="</a:minorFont>",ga[ga.length]="</a:fontScheme>",ga[ga.length]='<a:fmtScheme name="Office">',ga[ga.length]="<a:fillStyleLst>",ga[ga.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',ga[ga.length]='<a:gradFill rotWithShape="1">',ga[ga.length]="<a:gsLst>",ga[ga.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',ga[ga.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',ga[ga.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',ga[ga.length]="</a:gsLst>",ga[ga.length]='<a:lin ang="16200000" scaled="1"/>',ga[ga.length]="</a:gradFill>",ga[ga.length]='<a:gradFill rotWithShape="1">',ga[ga.length]="<a:gsLst>",ga[ga.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',ga[ga.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',ga[ga.length]="</a:gsLst>",ga[ga.length]='<a:lin ang="16200000" scaled="0"/>',ga[ga.length]="</a:gradFill>",ga[ga.length]="</a:fillStyleLst>",ga[ga.length]="<a:lnStyleLst>",ga[ga.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',ga[ga.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',ga[ga.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',ga[ga.length]="</a:lnStyleLst>",ga[ga.length]="<a:effectStyleLst>",ga[ga.length]="<a:effectStyle>",ga[ga.length]="<a:effectLst>",ga[ga.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',ga[ga.length]="</a:effectLst>",ga[ga.length]="</a:effectStyle>",ga[ga.length]="<a:effectStyle>",ga[ga.length]="<a:effectLst>",ga[ga.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',ga[ga.length]="</a:effectLst>",ga[ga.length]="</a:effectStyle>",ga[ga.length]="<a:effectStyle>",ga[ga.length]="<a:effectLst>",ga[ga.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',ga[ga.length]="</a:effectLst>",ga[ga.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',ga[ga.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',ga[ga.length]="</a:effectStyle>",ga[ga.length]="</a:effectStyleLst>",ga[ga.length]="<a:bgFillStyleLst>",ga[ga.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',ga[ga.length]='<a:gradFill rotWithShape="1">',ga[ga.length]="<a:gsLst>",ga[ga.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',ga[ga.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',ga[ga.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',ga[ga.length]="</a:gsLst>",ga[ga.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',ga[ga.length]="</a:gradFill>",ga[ga.length]='<a:gradFill rotWithShape="1">',ga[ga.length]="<a:gsLst>",ga[ga.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',ga[ga.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',ga[ga.length]="</a:gsLst>",ga[ga.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',ga[ga.length]="</a:gradFill>",ga[ga.length]="</a:bgFillStyleLst>",ga[ga.length]="</a:fmtScheme>",ga[ga.length]="</a:themeElements>",ga[ga.length]="<a:objectDefaults>",ga[ga.length]="<a:spDef>",ga[ga.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',ga[ga.length]="</a:spDef>",ga[ga.length]="<a:lnDef>",ga[ga.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',ga[ga.length]="</a:lnDef>",ga[ga.length]="</a:objectDefaults>",ga[ga.length]="<a:extraClrSchemeLst/>",ga[ga.length]="</a:theme>",ga.join(""))}function OA(ga){var yl={};switch(yl.xclrType=ga.read_shift(2),yl.nTintShade=ga.read_shift(2),yl.xclrType){case 0:ga.l+=4;break;case 1:yl.xclrValue=F1(ga,4);break;case 2:yl.xclrValue=Tv(ga);break;case 3:yl.xclrValue=ga.read_shift(4);break;case 4:ga.l+=4}return ga.l+=8,yl}function DA(ga){var yl=ga.read_shift(2),xl=ga.read_shift(2)-4,El=[yl];switch(yl){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:El[1]=OA(ga);break;case 6:El[1]=F1(ga,xl);break;case 14:case 15:El[1]=ga.read_shift(xl==1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+yl+" "+xl)}return El}function FA(){var ga,yl,xl,El=j1();return i0(El,332),i0(El,334,Xm(1)),i0(El,335,((xl=Zp(12+2*(yl={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,yl.flags),xl.write_shift(4,yl.version),o1(yl.name,xl),xl.slice(0,xl.l))),i0(El,336),i0(El,339,(ga=1,(xl=Zp(8+2*(yl="XLDAPR").length)).write_shift(4,ga),o1(yl,xl),xl.slice(0,xl.l))),i0(El,52),i0(El,35,Xm(514)),i0(El,4096,Xm(0)),i0(El,4097,Hm(1)),i0(El,36),i0(El,53),i0(El,340),i0(El,337,(ga=1,yl=!0,(xl=Zp(8)).write_shift(4,ga),xl.write_shift(4,yl?1:0),xl)),i0(El,51,function(Al){var Pl=Zp(4+8*Al.length);Pl.write_shift(4,Al.length);for(var Rl=0;Rl<Al.length;++Rl)Pl.write_shift(4,Al[Rl][0]),Pl.write_shift(4,Al[Rl][1]);return Pl}([[1,0]])),i0(El,338),i0(El,333),El.end()}function LS(){var ga=[t1];return ga.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),ga.join("")}var $x=1024;function BS(ga,yl){for(var xl=[21600,21600],El=["m0,0l0",xl[1],xl[0],xl[1],xl[0],"0xe"].join(","),Al=[v0("xml",null,{"xmlns:v":O1.v,"xmlns:o":O1.o,"xmlns:x":O1.x,"xmlns:mv":O1.mv}).replace(/\/>/,">"),v0("o:shapelayout",v0("o:idmap",null,{"v:ext":"edit",data:ga}),{"v:ext":"edit"}),v0("v:shapetype",[v0("v:stroke",null,{joinstyle:"miter"}),v0("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:xl.join(","),path:El})];$x<1e3*ga;)$x+=1e3;return yl.forEach(function(Pl){var Rl=c1(Pl[0]),Ul={color2:"#BEFF82",type:"gradient"};Ul.type=="gradient"&&(Ul.angle="-180");var Ol=Ul.type=="gradient"?v0("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,Ul=v0("v:fill",Ol,Ul);++$x,Al=Al.concat(["<v:shape"+uv({id:"_x0000_s"+$x,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(Pl[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",Ul,v0("v:shadow",null,{on:"t",obscured:"t"}),v0("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",d1("x:Anchor",[Rl.c+1,0,Rl.r+1,0,Rl.c+3,20,Rl.r+5,20].join(",")),d1("x:AutoFill","False"),d1("x:Row",String(Rl.r)),d1("x:Column",String(Rl.c)),Pl[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),Al.push("</xml>"),Al.join("")}function US(ga,yl,xl,El){var Al,Pl=Array.isArray(ga);yl.forEach(function(Rl){var Ol,Ul=c1(Rl.ref);(Al=Pl?(ga[Ul.r]||(ga[Ul.r]=[]),ga[Ul.r][Ul.c]):ga[Rl.ref])||(Al={t:"z"},Pl?ga[Ul.r][Ul.c]=Al:ga[Rl.ref]=Al,(Ol=Sm(ga["!ref"]||"BDWGO1000001:A1")).s.r>Ul.r&&(Ol.s.r=Ul.r),Ol.e.r<Ul.r&&(Ol.e.r=Ul.r),Ol.s.c>Ul.c&&(Ol.s.c=Ul.c),Ol.e.c<Ul.c&&(Ol.e.c=Ul.c),(Ol=fm(Ol))!==ga["!ref"]&&(ga["!ref"]=Ol)),Al.c||(Al.c=[]);var Wl={a:Rl.author,t:Rl.t,r:Rl.r,T:xl};Rl.h&&(Wl.h=Rl.h);for(var Xl=Al.c.length-1;0<=Xl;--Xl){if(!xl&&Al.c[Xl].T)return;xl&&!Al.c[Xl].T&&Al.c.splice(Xl,1)}if(xl&&El){for(Xl=0;Xl<El.length;++Xl)if(Wl.a==El[Xl].id){Wl.a=El[Xl].name||Wl.a;break}}Al.c.push(Wl)})}function $S(ga){var yl=[t1,v0("comments",null,{xmlns:zv[0]})],xl=[];return yl.push("<authors>"),ga.forEach(function(El){El[1].forEach(function(Al){var Pl=bm(Al.a);xl.indexOf(Pl)==-1&&(xl.push(Pl),yl.push("<author>"+Pl+"</author>")),Al.T&&Al.ID&&xl.indexOf("tc="+Al.ID)==-1&&(xl.push("tc="+Al.ID),yl.push("<author>tc="+Al.ID+"</author>"))})}),xl.length==0&&(xl.push("SheetJ5"),yl.push("<author>SheetJ5</author>")),yl.push("</authors>"),yl.push("<commentList>"),ga.forEach(function(El){var Al=0,Pl=[];if(El[1][0]&&El[1][0].T&&El[1][0].ID?Al=xl.indexOf("tc="+El[1][0].ID):El[1].forEach(function(Ul){Ul.a&&(Al=xl.indexOf(bm(Ul.a))),Pl.push(Ul.t||"")}),yl.push('<comment ref="'+El[0]+'" authorId="'+Al+'"><text>'),Pl.length<=1)yl.push(d1("t",bm(Pl[0]||"")));else{for(var Rl=`Comment:
    `+Pl[0]+`
`,Ol=1;Ol<Pl.length;++Ol)Rl+=`Reply:
    `+Pl[Ol]+`
`;yl.push(d1("t",bm(Rl)))}yl.push("</text></comment>")}),yl.push("</commentList>"),2<yl.length&&(yl[yl.length]="</comments>",yl[1]=yl[1].replace("/>",">")),yl.join("")}d0=R1;function jA(ga){var yl=j1(),xl=[];return i0(yl,628),i0(yl,630),ga.forEach(function(El){El[1].forEach(function(Al){-1<xl.indexOf(Al.a)||(xl.push(Al.a.slice(0,54)),i0(yl,632,o1(Al.a.slice(0,54))))})}),i0(yl,631),i0(yl,633),ga.forEach(function(El){El[1].forEach(function(Al){Al.iauthor=xl.indexOf(Al.a);var Pl,Rl={s:c1(El[0]),e:c1(El[0])};i0(yl,635,(Rl=[Rl,Al],(Pl=Pl??Zp(36)).write_shift(4,Rl[1].iauthor),Vv(Rl[0],Pl),Pl.write_shift(4,0),Pl.write_shift(4,0),Pl.write_shift(4,0),Pl.write_shift(4,0),Pl)),Al.t&&0<Al.t.length&&i0(yl,637,fv(Al)),i0(yl,636),delete Al.iauthor})}),i0(yl,634),i0(yl,629),yl.end()}var MA="application/vnd.ms-office.vbaProject",zS=["xlsb","xlsm","xlam","biff8","xla"],Tw,WS,zx=(WS=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,function(ga,yl){return Tw=yl,ga.replace(WS,NA)});function NA(ga,yl,xl,El){var Al=!1,Pl=!1;return xl.length==0?Pl=!0:xl.charAt(0)=="["&&(Pl=!0,xl=xl.slice(1,-1)),El.length==0?Al=!0:El.charAt(0)=="["&&(Al=!0,El=El.slice(1,-1)),xl=0<xl.length?0|parseInt(xl,10):0,El=0<El.length?0|parseInt(El,10):0,Al?El+=Tw.c:--El,Pl?xl+=Tw.r:--xl,yl+(Al?"":"$")+Gm(El)+(Pl?"":"$")+l1(xl)}var Rw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kw=function(ga,yl){return ga.replace(Rw,function(xl,El,Al,Pl,Rl,Ol){return Pl=dx(Pl)-(Al?0:yl.c),Ol=hx(Ol)-(Rl?0:yl.r),El+"R"+(Ol==0?"":Rl?1+Ol:"["+Ol+"]")+"C"+(Pl==0?"":Al?1+Pl:"["+Pl+"]")})};function HS(ga,yl){return ga.replace(Rw,function(xl,El,Al,Pl,Rl,Ol){return El+(Al=="$"?Al+Pl:Gm(dx(Pl)+yl.c))+(Rl=="$"?Rl+Ol:l1(hx(Ol)+yl.r))})}function qS(ga){return ga.replace(/_xlfn\./g,"")}function W1(ga){ga.l+=1}function nx(ga,yl){return yl=ga.read_shift(yl==1?1:2),[16383&yl,yl>>14&1,yl>>15&1]}function VS(Rl,yl,Al){var Pl=2;if(Al){if(2<=Al.biff&&Al.biff<=5)return GS(Rl);Al.biff==12&&(Pl=4)}var El=Rl.read_shift(Pl),Al=Rl.read_shift(Pl),Pl=nx(Rl,2),Rl=nx(Rl,2);return{s:{r:El,c:Pl[0],cRel:Pl[1],rRel:Pl[2]},e:{r:Al,c:Rl[0],cRel:Rl[1],rRel:Rl[2]}}}function GS(Al){var yl=nx(Al,2),xl=nx(Al,2),El=Al.read_shift(1),Al=Al.read_shift(1);return{s:{r:yl[0],c:El,cRel:yl[1],rRel:yl[2]},e:{r:xl[0],c:Al,cRel:xl[1],rRel:xl[2]}}}function KS(Rl,yl,Pl){if(Pl&&2<=Pl.biff&&Pl.biff<=5)return Al=nx(El=Rl,2),El=El.read_shift(1),{r:Al[0],c:El,cRel:Al[1],rRel:Al[2]};var El,Al,Pl=Rl.read_shift(Pl&&Pl.biff==12?4:2),Rl=nx(Rl,2);return{r:Pl,c:Rl[0],cRel:Rl[1],rRel:Rl[2]}}function LA(Rl,yl,Pl){if(Pl=Pl&&Pl.biff?Pl.biff:8,2<=Pl&&Pl<=5)return function(ou){var Ul=ou.read_shift(2),Wl=ou.read_shift(1),Xl=(32768&Ul)>>15,ou=(16384&Ul)>>14;return Ul&=16383,Xl==1&&8192<=Ul&&(Ul-=16384),ou==1&&128<=Wl&&(Wl-=256),{r:Ul,c:Wl,cRel:ou,rRel:Xl}}(Rl);var El=Rl.read_shift(12<=Pl?4:2),Al=Rl.read_shift(2),Pl=(16384&Al)>>14,Rl=(32768&Al)>>15;if(Al&=16383,Rl==1)for(;524287<El;)El-=1048576;if(Pl==1)for(;8191<Al;)Al-=16384;return{r:El,c:Al,cRel:Pl,rRel:Rl}}function YS(ga){var yl=1&ga[ga.l+1];return ga.l+=4,[yl,1]}function XS(ga){return[ga.read_shift(1),ga.read_shift(1)]}function BA(ga,yl,xl){var El=0,Al=0;xl.biff==12?(El=ga.read_shift(4),Al=ga.read_shift(4)):(Al=1+ga.read_shift(1),El=1+ga.read_shift(2)),2<=xl.biff&&xl.biff<8&&(--El,--Al==0&&(Al=256));for(var Pl=0,Rl=[];Pl!=El&&(Rl[Pl]=[]);++Pl)for(var Ol=0;Ol!=Al;++Ol)Rl[Pl][Ol]=function(Ul,Wl){var Xl=[Ul.read_shift(1)];if(Wl==12)switch(Xl[0]){case 2:Xl[0]=4;break;case 4:Xl[0]=16;break;case 0:Xl[0]=1;break;case 1:Xl[0]=2}switch(Xl[0]){case 4:Xl[1]=v1(Ul,1)?"TRUE":"FALSE",Wl!=12&&(Ul.l+=7);break;case 37:case 16:Xl[1]=op[Ul[Ul.l]],Ul.l+=Wl==12?4:8;break;case 0:Ul.l+=8;break;case 1:Xl[1]=M1(Ul);break;case 2:Xl[1]=N1(Ul,0,{biff:0<Wl&&Wl<8?2:Wl});break;default:throw new Error("Bad SerAr: "+Xl[0])}return Xl}(ga,xl.biff);return Rl}function a2(ga,yl,xl){return ga.l+=2,[(ga=(El=ga).read_shift(2),El=El.read_shift(2),{r:ga,c:255&El,fQuoted:!!(16384&El),cRel:El>>15,rRel:El>>15})];var El}function Pw(ga){return ga.l+=6,[]}function ZS(ga){return ga.l+=2,[mm(ga),1&ga.read_shift(2)]}var UA=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],JS={1:{n:"PtgExp",f:function(ga,yl,xl){return ga.l++,xl&&xl.biff==12?[ga.read_shift(4,"i"),0]:[ga.read_shift(2),ga.read_shift(xl&&xl.biff==2?1:2)]}},2:{n:"PtgTbl",f:F1},3:{n:"PtgAdd",f:W1},4:{n:"PtgSub",f:W1},5:{n:"PtgMul",f:W1},6:{n:"PtgDiv",f:W1},7:{n:"PtgPower",f:W1},8:{n:"PtgConcat",f:W1},9:{n:"PtgLt",f:W1},10:{n:"PtgLe",f:W1},11:{n:"PtgEq",f:W1},12:{n:"PtgGe",f:W1},13:{n:"PtgGt",f:W1},14:{n:"PtgNe",f:W1},15:{n:"PtgIsect",f:W1},16:{n:"PtgUnion",f:W1},17:{n:"PtgRange",f:W1},18:{n:"PtgUplus",f:W1},19:{n:"PtgUminus",f:W1},20:{n:"PtgPercent",f:W1},21:{n:"PtgParen",f:W1},22:{n:"PtgMissArg",f:W1},23:{n:"PtgStr",f:function(ga,yl,xl){return ga.l++,k1(ga,0,xl)}},26:{n:"PtgSheet",f:function(ga,yl,xl){return ga.l+=5,ga.l+=2,ga.l+=xl.biff==2?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(ga,yl,xl){return ga.l+=xl.biff==2?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(ga){return ga.l++,op[ga.read_shift(1)]}},29:{n:"PtgBool",f:function(ga){return ga.l++,ga.read_shift(1)!==0}},30:{n:"PtgInt",f:function(ga){return ga.l++,ga.read_shift(2)}},31:{n:"PtgNum",f:function(ga){return ga.l++,M1(ga)}},32:{n:"PtgArray",f:function(ga,yl,xl){var El=(96&ga[ga.l++])>>5;return ga.l+=xl.biff==2?6:xl.biff==12?14:7,[El]}},33:{n:"PtgFunc",f:function(ga,yl,xl){var El=(96&ga[ga.l])>>5;return ga.l+=1,xl=ga.read_shift(xl&&xl.biff<=3?1:2),[XA[xl],tC[xl],El]}},34:{n:"PtgFuncVar",f:function(ga,yl,xl){var El=ga[ga.l++],Al=ga.read_shift(1),Pl=xl&&xl.biff<=3?[El==88?-1:0,ga.read_shift(1)]:[(Pl=ga)[Pl.l+1]>>7,32767&Pl.read_shift(2)];return[Al,(Pl[0]===0?tC:YA)[Pl[1]]]}},35:{n:"PtgName",f:function(ga,yl,xl){var El=ga.read_shift(1)>>>5&3,Al=!xl||8<=xl.biff?4:2,Al=ga.read_shift(Al);switch(xl.biff){case 2:ga.l+=5;break;case 3:case 4:ga.l+=8;break;case 5:ga.l+=12}return[El,0,Al]}},36:{n:"PtgRef",f:function(ga,yl,xl){var El=(96&ga[ga.l])>>5;return ga.l+=1,[El,KS(ga,0,xl)]}},37:{n:"PtgArea",f:function(ga,yl,xl){return[(96&ga[ga.l++])>>5,VS(ga,2<=xl.biff&&xl.biff,xl)]}},38:{n:"PtgMemArea",f:function(ga,yl,xl){var El=ga.read_shift(1)>>>5&3;return ga.l+=xl&&xl.biff==2?3:4,[El,ga.read_shift(xl&&xl.biff==2?1:2)]}},39:{n:"PtgMemErr",f:F1},40:{n:"PtgMemNoMem",f:F1},41:{n:"PtgMemFunc",f:function(ga,yl,xl){return[ga.read_shift(1)>>>5&3,ga.read_shift(xl&&xl.biff==2?1:2)]}},42:{n:"PtgRefErr",f:function(ga,yl,xl){var El=ga.read_shift(1)>>>5&3;return ga.l+=4,xl.biff<8&&ga.l--,xl.biff==12&&(ga.l+=2),[El]}},43:{n:"PtgAreaErr",f:function(ga,yl,xl){var El=(96&ga[ga.l++])>>5;return ga.l+=xl&&8<xl.biff?12:xl.biff<8?6:8,[El]}},44:{n:"PtgRefN",f:function(ga,yl,xl){var El=(96&ga[ga.l])>>5;return ga.l+=1,[El,LA(ga,0,xl)]}},45:{n:"PtgAreaN",f:function(ga,yl,xl){return[(96&ga[ga.l++])>>5,function(Ul,Ol){if(Ol.biff<8)return GS(Ul);var Pl=Ul.read_shift(Ol.biff==12?4:2),Rl=Ul.read_shift(Ol.biff==12?4:2),Ol=nx(Ul,2),Ul=nx(Ul,2);return{s:{r:Pl,c:Ol[0],cRel:Ol[1],rRel:Ol[2]},e:{r:Rl,c:Ul[0],cRel:Ul[1],rRel:Ul[2]}}}(ga,xl)]}},46:{n:"PtgMemAreaN",f:function(ga){return[ga.read_shift(1)>>>5&3,ga.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(ga){return[ga.read_shift(1)>>>5&3,ga.read_shift(2)]}},57:{n:"PtgNameX",f:function(ga,yl,xl){return xl.biff==5?function(El){var Al=El.read_shift(1)>>>5&3,Pl=El.read_shift(2,"i");El.l+=8;var Rl=El.read_shift(2);return El.l+=12,[Al,Pl,Rl]}(ga):[ga.read_shift(1)>>>5&3,ga.read_shift(2),ga.read_shift(4)]}},58:{n:"PtgRef3d",f:function(ga,yl,xl){var El=(96&ga[ga.l])>>5;ga.l+=1;var Al=ga.read_shift(2);return xl&&xl.biff==5&&(ga.l+=12),[El,Al,KS(ga,0,xl)]}},59:{n:"PtgArea3d",f:function(ga,yl,xl){var El=(96&ga[ga.l++])>>5,Al=ga.read_shift(2,"i");if(xl)switch(xl.biff){case 5:ga.l+=12;break}return[El,Al,VS(ga,0,xl)]}},60:{n:"PtgRefErr3d",f:function(ga,yl,xl){var El=(96&ga[ga.l++])>>5,Al=ga.read_shift(2),Pl=4;if(xl)switch(xl.biff){case 5:Pl=15;break;case 12:Pl=6}return ga.l+=Pl,[El,Al]}},61:{n:"PtgAreaErr3d",f:function(ga,yl,xl){var El=(96&ga[ga.l++])>>5,Al=ga.read_shift(2),Pl=8;if(xl)switch(xl.biff){case 5:ga.l+=12,Pl=6;break;case 12:Pl=12}return ga.l+=Pl,[El,Al]}},255:{}},$A={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zA={1:{n:"PtgElfLel",f:ZS},2:{n:"PtgElfRw",f:a2},3:{n:"PtgElfCol",f:a2},6:{n:"PtgElfRwV",f:a2},7:{n:"PtgElfColV",f:a2},10:{n:"PtgElfRadical",f:a2},11:{n:"PtgElfRadicalS",f:Pw},13:{n:"PtgElfColS",f:Pw},15:{n:"PtgElfColSV",f:Pw},16:{n:"PtgElfRadicalLel",f:ZS},25:{n:"PtgList",f:function(Pl){Pl.l+=2;var yl=Pl.read_shift(2),xl=Pl.read_shift(2),El=Pl.read_shift(4),Al=Pl.read_shift(2),Pl=Pl.read_shift(2);return{ixti:yl,coltype:3&xl,rt:UA[xl>>2&31],idx:El,c:Al,C:Pl}}},29:{n:"PtgSxName",f:function(ga){return ga.l+=2,[ga.read_shift(4)]}},255:{}},WA={0:{n:"PtgAttrNoop",f:function(ga){return ga.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(ga,yl,xl){var El=255&ga[ga.l+1]?1:0;return ga.l+=xl&&xl.biff==2?3:4,[El]}},2:{n:"PtgAttrIf",f:function(ga,yl,xl){var El=255&ga[ga.l+1]?1:0;return ga.l+=2,[El,ga.read_shift(xl&&xl.biff==2?1:2)]}},4:{n:"PtgAttrChoose",f:function(ga,yl,xl){ga.l+=2;for(var El=ga.read_shift(xl&&xl.biff==2?1:2),Al=[],Pl=0;Pl<=El;++Pl)Al.push(ga.read_shift(xl&&xl.biff==2?1:2));return Al}},8:{n:"PtgAttrGoto",f:function(ga,yl,xl){var El=255&ga[ga.l+1]?1:0;return ga.l+=2,[El,ga.read_shift(xl&&xl.biff==2?1:2)]}},16:{n:"PtgAttrSum",f:function(ga,yl,xl){ga.l+=xl&&xl.biff==2?3:4}},32:{n:"PtgAttrBaxcel",f:YS},33:{n:"PtgAttrBaxcel",f:YS},64:{n:"PtgAttrSpace",f:function(ga){return ga.read_shift(2),XS(ga)}},65:{n:"PtgAttrSpaceSemi",f:function(ga){return ga.read_shift(2),XS(ga)}},128:{n:"PtgAttrIfError",f:function(ga){var yl=255&ga[ga.l+1]?1:0;return ga.l+=2,[yl,ga.read_shift(2)]}},255:{}};function l2(ga,yl,xl,El){if(El.biff<8)return F1(ga,yl);for(var Al=ga.l+yl,Pl=[],Rl=0;Rl!==xl.length;++Rl)switch(xl[Rl][0]){case"PtgArray":xl[Rl][1]=BA(ga,0,El),Pl.push(xl[Rl][1]);break;case"PtgMemArea":xl[Rl][2]=function(Ol,Ul){for(var Wl=Ol.read_shift(Ul.biff==12?4:2),Xl=[],ou=0;ou!=Wl;++ou)Xl.push((Ul.biff==12?jv:jx)(Ol));return Xl}(ga,(xl[Rl][1],El)),Pl.push(xl[Rl][2]);break;case"PtgExp":El&&El.biff==12&&(xl[Rl][1][1]=ga.read_shift(4),Pl.push(xl[Rl][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+xl[Rl][0]}return(yl=Al-ga.l)!==0&&Pl.push(F1(ga,yl)),Pl}function c2(ga,yl,xl){for(var El,Al,Pl=ga.l+yl,Rl=[];Pl!=ga.l;)yl=Pl-ga.l,Al=ga[ga.l],El=JS[Al]||JS[$A[Al]],(El=Al===24||Al===25?(Al===24?zA:WA)[ga[ga.l+1]]:El)&&El.f?Rl.push([El.n,El.f(ga,yl,xl)]):F1(ga,yl);return Rl}var HA={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function QS(ga,yl,xl){if(!ga)return"SH33TJSERR0";if(8<xl.biff&&(!ga.XTI||!ga.XTI[yl]))return ga.SheetNames[yl];if(!ga.XTI)return"SH33TJSERR6";var El=ga.XTI[yl];if(xl.biff<8)return 1e4<yl&&(yl-=65536),(yl=yl<0?-yl:yl)==0?"":ga.XTI[yl-1];if(!El)return"SH33TJSERR1";var Al="";if(8<xl.biff)switch(ga[El[0]][0]){case 357:return Al=El[1]==-1?"#REF":ga.SheetNames[El[1]],El[1]==El[2]?Al:Al+":"+ga.SheetNames[El[2]];case 358:return xl.SID!=null?ga.SheetNames[xl.SID]:"SH33TJSSAME"+ga[El[0]][0];case 355:default:return"SH33TJSSRC"+ga[El[0]][0]}switch(ga[El[0]][0][0]){case 1025:return Al=El[1]==-1?"#REF":ga.SheetNames[El[1]]||"SH33TJSERR3",El[1]==El[2]?Al:Al+":"+ga.SheetNames[El[2]];case 14849:return ga[El[0]].slice(1).map(function(Pl){return Pl.Name}).join(";;");default:return ga[El[0]][0][3]?(Al=El[1]==-1?"#REF":ga[El[0]][0][3][El[1]]||"SH33TJSERR4",El[1]==El[2]?Al:Al+":"+ga[El[0]][0][3][El[2]]):"SH33TJSERR2"}}function eC(ga,yl,xl){return yl=QS(ga,yl,xl),yl=="#REF"?yl:function(El,Al){if(!(El||Al&&Al.biff<=5&&2<=Al.biff))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(El)?"'"+El+"'":El}(yl,xl)}function Rv(ga,yl,xl,El,Al){var Pl,Rl,Ol,Ul=Al&&Al.biff||8,Wl={s:{c:0,r:0}},Xl=[],ou=0,au=0,du="";if(!ga[0]||!ga[0][0])return"";for(var Du=-1,xu="",Qu=0,Bu=ga[0].length;Qu<Bu;++Qu){var Su=ga[0][Qu];switch(Su[0]){case"PtgUminus":Xl.push("-"+Xl.pop());break;case"PtgUplus":Xl.push("+"+Xl.pop());break;case"PtgPercent":Xl.push(Xl.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(D0=Xl.pop(),Pl=Xl.pop(),0<=Du){switch(ga[0][Du][1][0]){case 0:xu=P0(" ",ga[0][Du][1][1]);break;case 1:xu=P0("\r",ga[0][Du][1][1]);break;default:if(xu="",Al.WTF)throw new Error("Unexpected PtgAttrSpaceType "+ga[0][Du][1][0])}Pl+=xu,Du=-1}Xl.push(Pl+HA[Su[0]]+D0);break;case"PtgIsect":D0=Xl.pop(),Pl=Xl.pop(),Xl.push(Pl+" "+D0);break;case"PtgUnion":D0=Xl.pop(),Pl=Xl.pop(),Xl.push(Pl+","+D0);break;case"PtgRange":D0=Xl.pop(),Pl=Xl.pop(),Xl.push(Pl+":"+D0);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":break;case"PtgRef":Rl=_y(Su[1][1],Wl,Al),Xl.push(Ty(Rl,Ul));break;case"PtgRefN":Rl=xl?_y(Su[1][1],xl,Al):Su[1][1],Xl.push(Ty(Rl,Ul));break;case"PtgRef3d":ou=Su[1][1],Rl=_y(Su[1][2],Wl,Al),du=eC(El,ou,Al),Xl.push(du+"!"+Ty(Rl,Ul));break;case"PtgFunc":case"PtgFuncVar":var ep=Su[1][0],Yu=Su[1][1],ep=ep||0,rp=(ep&=127)==0?[]:Xl.slice(-ep);Xl.length-=ep,Yu==="User"&&(Yu=rp.shift()),Xl.push(Yu+"("+rp.join(",")+")");break;case"PtgBool":Xl.push(Su[1]?"TRUE":"FALSE");break;case"PtgInt":Xl.push(Su[1]);break;case"PtgNum":Xl.push(String(Su[1]));break;case"PtgStr":Xl.push('"'+Su[1].replace(/"/g,'""')+'"');break;case"PtgErr":Xl.push(Su[1]);break;case"PtgAreaN":Ol=Ay(Su[1][1],xl?{s:xl}:Wl,Al),Xl.push(ux(Ol,Al));break;case"PtgArea":Ol=Ay(Su[1][1],Wl,Al),Xl.push(ux(Ol,Al));break;case"PtgArea3d":ou=Su[1][1],Ol=Su[1][2],du=eC(El,ou,Al),Xl.push(du+"!"+ux(Ol,Al));break;case"PtgAttrSum":Xl.push("SUM("+Xl.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":au=Su[1][2];var bp=(El.names||[])[au-1]||(El[0]||[])[au],jp=bp?bp.Name:"SH33TJSNAME"+String(au);jp&&jp.slice(0,6)=="_xlfn."&&!Al.xlfn&&(jp=jp.slice(6)),Xl.push(jp);break;case"PtgNameX":var Ap,$p=Su[1][1],au=Su[1][2];if(!(Al.biff<=5)){bp="",((El[$p]||[])[0]||[])[0]==14849||(((El[$p]||[])[0]||[])[0]==1025?El[$p][au]&&0<El[$p][au].itab&&(bp=El.SheetNames[El[$p][au].itab-1]+"!"):bp=El.SheetNames[au-1]+"!"),El[$p]&&El[$p][au]?bp+=El[$p][au].Name:El[0]&&El[0][au]?bp+=El[0][au].Name:(jp=(QS(El,$p,Al)||"").split(";;"))[au-1]?bp=jp[au-1]:bp+="SH33TJSERRX",Xl.push(bp);break}Ap=(Ap=El[$p=$p<0?-$p:$p]?El[$p][au]:Ap)||{Name:"SH33TJSERRY"},Xl.push(Ap.Name);break;case"PtgParen":var e0="(",t0=")";if(0<=Du){switch(xu="",ga[0][Du][1][0]){case 2:e0=P0(" ",ga[0][Du][1][1])+e0;break;case 3:e0=P0("\r",ga[0][Du][1][1])+e0;break;case 4:t0=P0(" ",ga[0][Du][1][1])+t0;break;case 5:t0=P0("\r",ga[0][Du][1][1])+t0;break;default:if(Al.WTF)throw new Error("Unexpected PtgAttrSpaceType "+ga[0][Du][1][0])}Du=-1}Xl.push(e0+Xl.pop()+t0);break;case"PtgRefErr":case"PtgRefErr3d":Xl.push("#REF!");break;case"PtgExp":Rl={c:Su[1][1],r:Su[1][0]};var Vp={c:xl.c,r:xl.r};if(El.sharedf[cm(Rl)])$p=El.sharedf[cm(Rl)],Xl.push(Rv($p,0,Vp,El,Al));else{for(var h0=!1,D0=0;D0!=El.arrayf.length;++D0)if(Pl=El.arrayf[D0],!(Rl.c<Pl[0].s.c||Rl.c>Pl[0].e.c||Rl.r<Pl[0].s.r||Rl.r>Pl[0].e.r)){Xl.push(Rv(Pl[1],0,Vp,El,Al)),h0=!0;break}h0||Xl.push(Su[1])}break;case"PtgArray":Xl.push("{"+function(S0){for(var y0=[],o0=0;o0<S0.length;++o0){for(var z0=S0[o0],G0=[],rm=0;rm<z0.length;++rm){var Om=z0[rm];Om?Om[0]===2?G0.push('"'+Om[1].replace(/"/g,'""')+'"'):G0.push(Om[1]):G0.push("")}y0.push(G0.join(","))}return y0.join(";")}(Su[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Du=Qu;break;case"PtgTbl":case"PtgMemErr":break;case"PtgMissArg":Xl.push("");break;case"PtgAreaErr":case"PtgAreaErr3d":Xl.push("#REF!");break;case"PtgList":Xl.push("Table"+Su[1].idx+"[#"+Su[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":default:throw new Error("Unrecognized Formula Token: "+String(Su))}if(Al.biff!=3&&0<=Du&&["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(ga[0][Qu][0])==-1){var R0=!0;switch((Su=ga[0][Du])[1][0]){case 4:R0=!1;case 0:xu=P0(" ",Su[1][1]);break;case 5:R0=!1;case 1:xu=P0("\r",Su[1][1]);break;default:if(xu="",Al.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Su[1][0])}Xl.push((R0?xu:"")+Xl.pop()+(R0?"":xu)),Du=-1}}if(1<Xl.length&&Al.WTF)throw new Error("bad formula stack");return Xl[0]}function Iw(ga,Rl,xl){var El=ga.l+Rl,Al=P1(ga);xl.biff==2&&++ga.l;var Pl=function(Ol){var Ul;if(Wv(Ol,Ol.l+6)!==65535)return[M1(Ol),"n"];switch(Ol[Ol.l]){case 0:return Ol.l+=8,["String","s"];case 1:return Ul=Ol[Ol.l+2]===1,Ol.l+=8,[Ul,"b"];case 2:return Ul=Ol[Ol.l+2],Ol.l+=8,[Ul,"e"];case 3:return Ol.l+=8,["","s"]}return[]}(ga),Rl=ga.read_shift(1);return xl.biff!=2&&(ga.read_shift(1),5<=xl.biff&&ga.read_shift(4)),xl=function(Ol,Ul,Wl){var Xl,ou=Ol.l+Ul,au=Wl.biff==2?1:2,du=Ol.read_shift(au);if(du==65535)return[[],F1(Ol,Ul-2)];var Du=c2(Ol,du,Wl);return Ul!==du+au&&(Xl=l2(Ol,Ul-du-au,Du,Wl)),Ol.l=ou,[Du,Xl]}(ga,El-ga.l,xl),{cell:Al,val:Pl[0],formula:xl,shared:Rl>>3&1,tt:Pl[1]}}function qA(ga,yl,xl,El,Al){yl=qy(yl,xl,Al),Al=(xl=ga.v)!=null?vy(typeof xl=="number"?xl:0):((xl=Zp(8)).write_shift(1,3),xl.write_shift(1,0),xl.write_shift(2,0),xl.write_shift(2,0),xl.write_shift(2,65535),xl),xl=Zp(6),xl.write_shift(2,33),xl.write_shift(4,0);for(var Pl=Zp(ga.bf.length),Rl=0;Rl<ga.bf.length;++Rl)Pl[Rl]=ga.bf[Rl];return lu([yl,Al,xl,Pl])}function $2(ga,yl,xl){var Al=ga.read_shift(4),El=c2(ga,Al,xl),Al=ga.read_shift(4);return[El,0<Al?l2(ga,Al,El,xl):null]}var VA=$2,z2=$2,GA=$2,KA=$2,YA={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},tC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},XA={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rC(ga){return(ga=(ga=(ga=(ga=(ga=ga.slice(0,3)=="of:"?ga.slice(3):ga).charCodeAt(0)==61&&(ga=ga.slice(1)).charCodeAt(0)==61?ga.slice(1):ga).replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(yl,xl){return xl.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function Ow(ga){return ga=ga.split(":"),[ga[0].split(".")[0],ga[0].split(".")[1]+(1<ga.length?":"+(ga[1].split(".")[1]||ga[1].split(".")[0]):"")]}var u2={},Wx={},h2=typeof Map<"u";function Dw(ga,yl,xl){var El=0,Al=ga.length;if(xl){if(h2?xl.has(yl):Object.prototype.hasOwnProperty.call(xl,yl)){for(var Pl=h2?xl.get(yl):xl[yl];El<Pl.length;++El)if(ga[Pl[El]].t===yl)return ga.Count++,Pl[El]}}else for(;El<Al;++El)if(ga[El].t===yl)return ga.Count++,El;return ga[Al]={t:yl},ga.Count++,ga.Unique++,xl&&(h2?(xl.has(yl)||xl.set(yl,[]),xl.get(yl).push(Al)):(Object.prototype.hasOwnProperty.call(xl,yl)||(xl[yl]=[]),xl[yl].push(Al))),Al}function W2(El,yl){var xl={min:El+1,max:El+1},El=-1;return yl.MDW&&(mv=yl.MDW),yl.width!=null?xl.customWidth=1:yl.wpx!=null?El=n2(yl.wpx):yl.wch!=null&&(El=yl.wch),-1<El?(xl.width=L2(El),xl.customWidth=1):yl.width!=null&&(xl.width=yl.width),yl.hidden&&(xl.hidden=!0),yl.level!=null&&(xl.outlineLevel=xl.level=yl.level),xl}function Sx(ga,yl){ga&&(yl=yl=="xlml"?[1,1,1,1,.5,.5]:[.7,.7,.75,.75,.3,.3],ga.left==null&&(ga.left=yl[0]),ga.right==null&&(ga.right=yl[1]),ga.top==null&&(ga.top=yl[2]),ga.bottom==null&&(ga.bottom=yl[3]),ga.header==null&&(ga.header=yl[4]),ga.footer==null&&(ga.footer=yl[5]))}function ix(ga,yl,xl){if(s2!==void 0){if(/^\d+$/.exec(yl.s)||yl.s&&yl.s==+yl.s)return yl.s;var El=yl.s||{};return yl.z&&(El.numFmt=yl.z),s2.addStyle(El)}var Al=xl.revssf[yl.z!=null?yl.z:"General"],Pl=60,Rl=ga.length;if(Al==null&&xl.ssf){for(;Pl<392;++Pl)if(xl.ssf[Pl]==null){yu(yl.z,Pl),xl.ssf[Pl]=yl.z,xl.revssf[yl.z]=Al=Pl;break}}for(Pl=0;Pl!=Rl;++Pl)if(ga[Pl].numFmtId===Al)return Pl;return ga[Rl]={numFmtId:Al,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},Rl}function nC(ga,yl,xl,El,Al,Pl){try{El.cellNF&&(ga.z=Kl[yl])}catch(Ol){if(El.WTF)throw Ol}if(ga.t!=="z"||El.cellStyles){if(ga.t==="d"&&typeof ga.v=="string"&&(ga.v=Dp(ga.v)),(!El||El.cellText!==!1)&&ga.t!=="z")try{if(Kl[yl]==null&&yu(Lp[yl]||"General",yl),ga.t==="e")ga.w=ga.w||op[ga.v];else if(yl===0)if(ga.t==="n")(0|ga.v)===ga.v?ga.w=ga.v.toString(10):ga.w=Xu(ga.v);else if(ga.t==="d"){var Rl=sp(ga.v);ga.w=(0|Rl)===Rl?Rl.toString(10):Xu(Rl)}else{if(ga.v===void 0)return;ga.w=Gu(ga.v,Wx)}else ga.t==="d"?ga.w=Vu(yl,sp(ga.v),Wx):ga.w=Vu(yl,ga.v,Wx)}catch(Ol){if(El.WTF)throw Ol}if(El.cellStyles&&xl!=null)try{ga.s=Pl.Fills[xl],ga.s.fgColor&&ga.s.fgColor.theme&&!ga.s.fgColor.rgb&&(ga.s.fgColor.rgb=N2(Al.themeElements.clrScheme[ga.s.fgColor.theme].rgb,ga.s.fgColor.tint||0),El.WTF&&(ga.s.fgColor.raw_rgb=Al.themeElements.clrScheme[ga.s.fgColor.theme].rgb)),ga.s.bgColor&&ga.s.bgColor.theme&&(ga.s.bgColor.rgb=N2(Al.themeElements.clrScheme[ga.s.bgColor.theme].rgb,ga.s.bgColor.tint||0),El.WTF&&(ga.s.bgColor.raw_rgb=Al.themeElements.clrScheme[ga.s.bgColor.theme].rgb))}catch(Ol){if(El.WTF&&Pl.Fills)throw Ol}}}var ZA=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,JA=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,QA=/<(?:\w:)?hyperlink [^>]*>/gm,eT=/"(\w*:\w*)"/,tT=/<(?:\w:)?col\b[^>]*[\/]?>/g,rT=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,nT=/<(?:\w:)?pageMargins[^>]*\/>/g,iC=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,iT=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,sT=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function oT(ga,yl,xl,El,Al,Pl,Rl){if(!ga)return ga;El=El||{"!id":{}};var Ol=yl.dense?[]:{},Ul={s:{r:2e6,c:2e6},e:{r:0,c:0}},Wl="",jp="",Xl=ga.match(JA);Xl?(Wl=ga.slice(0,Xl.index),jp=ga.slice(Xl.index+Xl[0].length)):Wl=jp=ga;var ou=Wl.match(iC);ou?Fw(ou[0],0,Al,xl):(ou=Wl.match(iT))&&(ga=ou[0],ou[1],ou=Ol,au=Al,du=xl,Fw(ga.slice(0,ga.indexOf(">")),0,au,du));var au,du,Du=(Wl.match(/<(?:\w*:)?dimension/)||{index:-1}).index;0<Du&&(au=Wl.slice(Du,Du+50).match(eT))&&(du=Ol,(Qu=Sm(Qu=au[1])).s.r<=Qu.e.r&&Qu.s.c<=Qu.e.c&&0<=Qu.s.r&&0<=Qu.s.c&&(du["!ref"]=fm(Qu)));var xu,Qu=Wl.match(sT);Qu&&Qu[1]&&(Su=Qu[1],(xu=Al).Views||(xu.Views=[{}]),(Su.match(cT)||[]).forEach(function(Ap,$p){Ap=am(Ap),xu.Views[$p]||(xu.Views[$p]={}),+Ap.zoomScale&&(xu.Views[$p].zoom=+Ap.zoomScale),J0(Ap.rightToLeft)&&(xu.Views[$p].RTL=!0)}));var Bu,Su=[];yl.cellStyles&&(Bu=Wl.match(tT))&&function(Ap,$p){for(var e0=!1,t0=0;t0!=$p.length;++t0){var Vp=am($p[t0],!0);Vp.hidden&&(Vp.hidden=J0(Vp.hidden));var h0=parseInt(Vp.min,10)-1,D0=parseInt(Vp.max,10)-1;for(Vp.outlineLevel&&(Vp.level=+Vp.outlineLevel||0),delete Vp.min,delete Vp.max,Vp.width=+Vp.width,!e0&&Vp.width&&(e0=!0,_w(Vp.width)),rx(Vp);h0<=D0;)Ap[h0++]=E0(Vp)}}(Su,Bu),Xl&&uT(Xl[1],Ol,yl,Ul,Pl,Rl),Rl=jp.match(rT),Rl&&(Ol["!autofilter"]={ref:(Rl[0].match(/ref="([^"]*)"/)||[])[1]});var Yu=[],ep=jp.match(ZA);if(ep)for(Du=0;Du!=ep.length;++Du)Yu[Du]=Sm(ep[Du].slice(ep[Du].indexOf('"')+1));Rl=jp.match(QA),Rl&&function(Ap,$p,e0){for(var t0=Array.isArray(Ap),Vp=0;Vp!=$p.length;++Vp){var h0=am(Tm($p[Vp]),!0);if(!h0.ref)return;var D0=((e0||{})["!id"]||[])[h0.id];D0?(h0.Target=D0.Target,h0.location&&(h0.Target+="#"+dm(h0.location))):(h0.Target="#"+dm(h0.location),D0={Target:h0.Target,TargetMode:"Internal"}),h0.Rel=D0,h0.tooltip&&(h0.Tooltip=h0.tooltip,delete h0.tooltip);for(var R0=Sm(h0.ref),b0=R0.s.r;b0<=R0.e.r;++b0)for(var S0=R0.s.c;S0<=R0.e.c;++S0){var y0=cm({c:S0,r:b0});t0?(Ap[b0]||(Ap[b0]=[]),Ap[b0][S0]||(Ap[b0][S0]={t:"z",v:void 0}),Ap[b0][S0].l=h0):(Ap[y0]||(Ap[y0]={t:"z",v:void 0}),Ap[y0].l=h0)}}}(Ol,Rl,El);var rp,bp,jp=jp.match(nT);return jp&&(Ol["!margins"]=(rp=am(jp[0]),bp={},["left","right","top","bottom","header","footer"].forEach(function(Ap){rp[Ap]&&(bp[Ap]=parseFloat(rp[Ap]))}),bp)),!Ol["!ref"]&&Ul.e.c>=Ul.s.c&&Ul.e.r>=Ul.s.r&&(Ol["!ref"]=fm(Ul)),0<yl.sheetRows&&Ol["!ref"]&&(jp=Sm(Ol["!ref"]),yl.sheetRows<=+jp.e.r&&(jp.e.r=yl.sheetRows-1,jp.e.r>Ul.e.r&&(jp.e.r=Ul.e.r),jp.e.r<jp.s.r&&(jp.s.r=jp.e.r),jp.e.c>Ul.e.c&&(jp.e.c=Ul.e.c),jp.e.c<jp.s.c&&(jp.s.c=jp.e.c),Ol["!fullref"]=Ol["!ref"],Ol["!ref"]=fm(jp))),0<Su.length&&(Ol["!cols"]=Su),0<Yu.length&&(Ol["!merges"]=Yu),Ol}function Fw(ga,yl,xl,El){ga=am(ga),xl.Sheets[El]||(xl.Sheets[El]={}),ga.codeName&&(xl.Sheets[El].CodeName=dm(Tm(ga.codeName)))}var aT=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lT=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"],cT=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,sC,oC,aC,lC,cC,uC,hC,uT=(sC=/<(?:\w+:)?c[ \/>]/,oC=/<\/(?:\w+:)?row>/,aC=/r=["']([^"']*)["']/,lC=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,cC=/ref=["']([^"']*)["']/,uC=My("v"),hC=My("f"),function(ga,yl,xl,El,Al,Pl){for(var Rl,Ol,Ul,Wl,Xl,ou,au=0,du="",Du=[],xu=[],Qu=0,Bu=0,Su="",Yu=0,ep=0,rp=0,bp=0,jp=Array.isArray(Pl.CellXf),Ap=[],$p=[],e0=Array.isArray(yl),t0=[],Vp={},h0=!1,D0=!!xl.sheetStubs,R0=ga.split(oC),b0=0,S0=R0.length;b0!=S0;++b0){var y0=(du=R0[b0].trim()).length;if(y0!==0){var o0=0;e:for(au=0;au<y0;++au)switch(du[au]){case">":if(du[au-1]!="/"){++au;break e}if(xl&&xl.cellStyles){if(Yu=(Ul=am(du.slice(o0,au),!0)).r!=null?parseInt(Ul.r,10):Yu+1,ep=-1,xl.sheetRows&&xl.sheetRows<Yu)continue;h0=!(Vp={}),Ul.ht&&(h0=!0,Vp.hpt=parseFloat(Ul.ht),Vp.hpx=Ux(Vp.hpt)),Ul.hidden=="1"&&(h0=!0,Vp.hidden=!0),Ul.outlineLevel!=null&&(h0=!0,Vp.level=+Ul.outlineLevel),h0&&(t0[Yu-1]=Vp)}break;case"<":o0=au}if(au<=o0)break;if(Yu=(Ul=am(du.slice(o0,au),!0)).r!=null?parseInt(Ul.r,10):Yu+1,ep=-1,!(xl.sheetRows&&xl.sheetRows<Yu)){El.s.r>Yu-1&&(El.s.r=Yu-1),El.e.r<Yu-1&&(El.e.r=Yu-1),xl&&xl.cellStyles&&(h0=!(Vp={}),Ul.ht&&(h0=!0,Vp.hpt=parseFloat(Ul.ht),Vp.hpx=Ux(Vp.hpt)),Ul.hidden=="1"&&(h0=!0,Vp.hidden=!0),Ul.outlineLevel!=null&&(h0=!0,Vp.level=+Ul.outlineLevel),h0&&(t0[Yu-1]=Vp)),Du=du.slice(au).split(sC);for(var z0,G0=0;G0!=Du.length&&Du[G0].trim().charAt(0)=="<";++G0);for(Du=Du.slice(G0),au=0;au!=Du.length;++au)if((du=Du[au].trim()).length!==0){if(xu=du.match(aC),Qu=au,Bu=0,du="<c "+(du.slice(0,1)=="<"?">":"")+du,xu!=null&&xu.length===2){for(Qu=0,Su=xu[1],Bu=0;Bu!=Su.length&&!((Rl=Su.charCodeAt(Bu)-64)<1||26<Rl);++Bu)Qu=26*Qu+Rl;ep=--Qu}else++ep;for(Bu=0;Bu!=du.length&&du.charCodeAt(Bu)!==62;++Bu);if(++Bu,(Ul=am(du.slice(0,Bu),!0)).r||(Ul.r=cm({r:Yu-1,c:ep})),Ol={t:""},(xu=(Su=du.slice(Bu)).match(uC))!=null&&xu[1]!==""&&(Ol.v=dm(xu[1])),xl.cellFormula){(xu=Su.match(hC))!=null&&xu[1]!==""?(Ol.f=dm(Tm(xu[1])).replace(/\r\n/g,`
`),xl.xlfn||(Ol.f=qS(Ol.f)),-1<xu[0].indexOf('t="array"')?(Ol.F=(Su.match(cC)||[])[1],-1<Ol.F.indexOf(":")&&Ap.push([Sm(Ol.F),Ol.F])):-1<xu[0].indexOf('t="shared"')&&(Xl=am(xu[0]),z0=dm(Tm(xu[1])),xl.xlfn||(z0=qS(z0)),$p[parseInt(Xl.si,10)]=[Xl,z0,Ul.r])):(xu=Su.match(/<f[^>]*\/>/))&&$p[(Xl=am(xu[0])).si]&&(Ol.f=(ou=$p[Xl.si][1],N0=$p[Xl.si][2],z0=Ul.r,N0=Y1(N0).s,z0=c1(z0),HS(ou,{r:z0.r-N0.r,c:z0.c-N0.c})));for(var rm=c1(Ul.r),Bu=0;Bu<Ap.length;++Bu)rm.r>=Ap[Bu][0].s.r&&rm.r<=Ap[Bu][0].e.r&&rm.c>=Ap[Bu][0].s.c&&rm.c<=Ap[Bu][0].e.c&&(Ol.F=Ap[Bu][1])}if(Ul.t==null&&Ol.v===void 0)if(Ol.f||Ol.F)Ol.v=0,Ol.t="n";else{if(!D0)continue;Ol.t="z"}else Ol.t=Ul.t||"n";switch(El.s.c>ep&&(El.s.c=ep),El.e.c<ep&&(El.e.c=ep),Ol.t){case"n":if(Ol.v==""||Ol.v==null){if(!D0)continue;Ol.t="z"}else Ol.v=parseFloat(Ol.v);break;case"s":if(Ol.v===void 0){if(!D0)continue;Ol.t="z"}else Wl=u2[parseInt(Ol.v,10)],Ol.v=Wl.t,Ol.r=Wl.r,xl.cellHTML&&(Ol.h=Wl.h);break;case"str":Ol.t="s",Ol.v=Ol.v!=null?Tm(Ol.v):"",xl.cellHTML&&(Ol.h=b1(Ol.v));break;case"inlineStr":xu=Su.match(lC),Ol.t="s",xu!=null&&(Wl=ww(xu[1]))?(Ol.v=Wl.t,xl.cellHTML&&(Ol.h=Wl.h)):Ol.v="";break;case"b":Ol.v=J0(Ol.v);break;case"d":xl.cellDates?Ol.v=Dp(Ol.v,1):(Ol.v=sp(Dp(Ol.v,1)),Ol.t="n");break;case"e":xl&&xl.cellText===!1||(Ol.w=Ol.v),Ol.v=fp[Ol.v]}var Om,rp=bp=0,N0=null;jp&&Ul.s!==void 0&&(N0=Pl.CellXf[Ul.s])!=null&&(N0.numFmtId!=null&&(rp=N0.numFmtId),xl.cellStyles&&N0.fillId!=null&&(bp=N0.fillId)),nC(Ol,rp,bp,xl,Al,Pl),xl.cellDates&&jp&&Ol.t=="n"&&hu(Kl[rp])&&(Ol.t="d",Ol.v=Mp(Ol.v)),Ul.cm&&xl.xlmeta&&(Om=(xl.xlmeta.Cell||[])[+Ul.cm-1])&&Om.type=="XLDAPR"&&(Ol.D=!0),e0?(yl[(Om=c1(Ul.r)).r]||(yl[Om.r]=[]),yl[Om.r][Om.c]=Ol):yl[Ul.r]=Ol}}}}0<t0.length&&(yl["!rows"]=t0)});function hT(ga,yl){for(var xl,El,Al,Pl,Rl=[],Ol=[],Ul=Sm(ga["!ref"]),Wl=[],Xl=0,xu=0,ou=ga["!rows"],au=Array.isArray(ga),du={r:""},Du=-1,xu=Ul.s.c;xu<=Ul.e.c;++xu)Wl[xu]=Gm(xu);for(Xl=Ul.s.r;Xl<=Ul.e.r;++Xl){for(Ol=[],Al=l1(Xl),xu=Ul.s.c;xu<=Ul.e.c;++xu){El=Wl[xu]+Al;var Qu=au?(ga[Xl]||[])[xu]:ga[El];Qu!==void 0&&(xl=function(Bu,Su,Yu,ep){if(Bu.c&&Yu["!comments"].push([Su,Bu.c]),Bu.v===void 0&&typeof Bu.f!="string"||Bu.t==="z"&&!Bu.f)return"";var rp="",bp=Bu.t,jp=Bu.v;if(Bu.t!=="z")switch(Bu.t){case"b":rp=Bu.v?"1":"0";break;case"n":rp=""+Bu.v;break;case"e":rp=op[Bu.v];break;case"d":rp=ep&&ep.cellDates?Dp(Bu.v,-1).toISOString():((Bu=E0(Bu)).t="n",""+(Bu.v=sp(Dp(Bu.v)))),Bu.z===void 0&&(Bu.z=Kl[14]);break;default:rp=Bu.v}var Ap=d1("v",bm(rp)),$p={r:Su},e0=ix(ep.cellXfs,Bu,ep);switch(e0!==0&&($p.s=e0),Bu.t){case"n":break;case"d":$p.t="d";break;case"b":$p.t="b";break;case"e":$p.t="e";break;case"z":break;default:if(Bu.v==null){delete Bu.t;break}if(32767<Bu.v.length)throw new Error("Text length must not exceed 32767 characters");if(ep&&ep.bookSST){Ap=d1("v",""+Dw(ep.Strings,Bu.v,ep.revStrings)),$p.t="s";break}$p.t="str"}return Bu.t!=bp&&(Bu.t=bp,Bu.v=jp),typeof Bu.f=="string"&&Bu.f&&(jp=Bu.F&&Bu.F.slice(0,Su.length)==Su?{t:"array",ref:Bu.F}:null,Ap=v0("f",bm(Bu.f),jp)+(Bu.v!=null?Ap:"")),Bu.l&&Yu["!links"].push([Su,Bu.l]),Bu.D&&($p.cm=1),v0("c",Ap,$p)}(Qu,El,ga,yl))!=null&&Ol.push(xl)}(0<Ol.length||ou&&ou[Xl])&&(du={r:Al},ou&&ou[Xl]&&((Pl=ou[Xl]).hidden&&(du.hidden=1),Du=-1,Pl.hpx?Du=i2(Pl.hpx):Pl.hpt&&(Du=Pl.hpt),-1<Du&&(du.ht=Du,du.customHeight=1),Pl.level&&(du.outlineLevel=Pl.level)),Rl[Rl.length]=v0("row",Ol.join(""),du))}if(ou)for(;Xl<ou.length;++Xl)ou&&ou[Xl]&&(du={r:Xl+1},(Pl=ou[Xl]).hidden&&(du.hidden=1),Du=-1,Pl.hpx?Du=i2(Pl.hpx):Pl.hpt&&(Du=Pl.hpt),-1<Du&&(du.ht=Du,du.customHeight=1),Pl.level&&(du.outlineLevel=Pl.level),Rl[Rl.length]=v0("row","",du));return Rl.join("")}function dC(ga,yl,xl,El){var Al,Pl,Rl=[t1,v0("worksheet",null,{xmlns:zv[0],"xmlns:r":Cm.r})],Ol=xl.SheetNames[ga],Ul=xl.Sheets[Ol],Wl=(Ul=Ul??{})["!ref"]||"A1",Xl=Sm(Wl);if(16383<Xl.e.c||1048575<Xl.e.r){if(yl.WTF)throw new Error("Range "+Wl+" exceeds format limit A1:XFD1048576");Xl.e.c=Math.min(Xl.e.c,16383),Xl.e.r=Math.min(Xl.e.c,1048575),Wl=fm(Xl)}El=El||{},Ul["!comments"]=[];var ou,au,du=[];(function(Bu,Su,Yu,ep,rp){var bp=!1,jp={},Ap=null;if(ep.bookType!=="xlsx"&&Su.vbaraw){var $p=Su.SheetNames[Yu];try{Su.Workbook&&($p=Su.Workbook.Sheets[Yu].CodeName||$p)}catch{}bp=!0,jp.codeName=$v(bm($p))}Bu&&Bu["!outline"]&&(ep={summaryBelow:1,summaryRight:1},Bu["!outline"].above&&(ep.summaryBelow=0),Bu["!outline"].left&&(ep.summaryRight=0),Ap=(Ap||"")+v0("outlinePr",null,ep)),(bp||Ap)&&(rp[rp.length]=v0("sheetPr",Ap,jp))})(Ul,xl,ga,yl,Rl),Rl[Rl.length]=v0("dimension",null,{ref:Wl}),Rl[Rl.length]=(Ol={workbookViewId:"0"},((((Xl=xl)||{}).Workbook||{}).Views||[])[0]&&(Ol.rightToLeft=Xl.Workbook.Views[0].RTL?"1":"0"),v0("sheetViews",v0("sheetView",null,Ol),{})),yl.sheetFormat&&(Rl[Rl.length]=v0("sheetFormatPr",null,{defaultRowHeight:yl.sheetFormat.defaultRowHeight||"16",baseColWidth:yl.sheetFormat.baseColWidth||"10",outlineLevelRow:yl.sheetFormat.outlineLevelRow||"7"})),Ul["!cols"]!=null&&0<Ul["!cols"].length&&(Rl[Rl.length]=function(Bu){for(var Su,Yu=["<cols>"],ep=0;ep!=Bu.length;++ep)(Su=Bu[ep])&&(Yu[Yu.length]=v0("col",null,W2(ep,Su)));return Yu[Yu.length]="</cols>",Yu.join("")}(Ul["!cols"])),Rl[Al=Rl.length]="<sheetData/>",Ul["!links"]=[],Ul["!ref"]!=null&&0<(Pl=hT(Ul,yl)).length&&(Rl[Rl.length]=Pl),Rl.length>Al+1&&(Rl[Rl.length]="</sheetData>",Rl[Al]=Rl[Al].replace("/>",">")),Ul["!protect"]&&(Rl[Rl.length]=(ou=Ul["!protect"],au={sheet:1},aT.forEach(function(Bu){ou[Bu]!=null&&ou[Bu]&&(au[Bu]="1")}),lT.forEach(function(Bu){ou[Bu]==null||ou[Bu]||(au[Bu]="0")}),ou.password&&(au.password=Ew(ou.password).toString(16).toUpperCase()),v0("sheetProtection",null,au))),Ul["!autofilter"]!=null&&(Rl[Rl.length]=function(Bu,Su,Yu,ep){var rp=typeof Bu.ref=="string"?Bu.ref:fm(Bu.ref);Yu.Workbook||(Yu.Workbook={Sheets:[]}),Yu.Workbook.Names||(Yu.Workbook.Names=[]);var bp=Yu.Workbook.Names;(Bu=Y1(rp)).s.r==Bu.e.r&&(Bu.e.r=Y1(Su["!ref"]).e.r,rp=fm(Bu));for(var jp=0;jp<bp.length;++jp){var Ap=bp[jp];if(Ap.Name=="_xlnm._FilterDatabase"&&Ap.Sheet==ep){Ap.Ref="'"+Yu.SheetNames[ep]+"'!"+rp;break}}return jp==bp.length&&bp.push({Name:"_xlnm._FilterDatabase",Sheet:ep,Ref:"'"+Yu.SheetNames[ep]+"'!"+rp}),v0("autoFilter",null,{ref:rp})}(Ul["!autofilter"],Ul,xl,ga)),Ul["!merges"]!=null&&0<Ul["!merges"].length&&(Rl[Rl.length]=function(Bu){if(Bu.length===0)return"";for(var Su='<mergeCells count="'+Bu.length+'">',Yu=0;Yu!=Bu.length;++Yu)Su+='<mergeCell ref="'+fm(Bu[Yu])+'"/>';return Su+"</mergeCells>"}(Ul["!merges"]));var Du,xu,Qu=-1;return 0<Ul["!links"].length&&(Rl[Rl.length]="<hyperlinks>",Ul["!links"].forEach(function(Bu){Bu[1].Target&&(xu={ref:Bu[0]},Bu[1].Target.charAt(0)!="#"&&(Qu=pp(El,-1,bm(Bu[1].Target).replace(/#.*$/,""),_u.HLINK),xu["r:id"]="rId"+Qu),-1<(Du=Bu[1].Target.indexOf("#"))&&(xu.location=bm(Bu[1].Target.slice(Du+1))),Bu[1].Tooltip&&(xu.tooltip=bm(Bu[1].Tooltip)),Rl[Rl.length]=v0("hyperlink",null,xu))}),Rl[Rl.length]="</hyperlinks>"),delete Ul["!links"],Ul["!margins"]!=null&&(Rl[Rl.length]=(Sx(xl=Ul["!margins"]),v0("pageMargins",null,xl))),yl&&!yl.ignoreEC&&yl.ignoreEC!=null||(Rl[Rl.length]=d1("ignoredErrors",v0("ignoredError",null,{numberStoredAsText:1,sqref:Wl}))),0<du.length&&(Qu=pp(El,-1,"../drawings/drawing"+(ga+1)+".xml",_u.DRAW),Rl[Rl.length]=v0("drawing",null,{"r:id":"rId"+Qu}),Ul["!drawing"]=du),0<Ul["!comments"].length&&(Qu=pp(El,-1,"../drawings/vmlDrawing"+(ga+1)+".vml",_u.VML),Rl[Rl.length]=v0("legacyDrawing",null,{"r:id":"rId"+Qu}),Ul["!legacy"]=Qu),1<Rl.length&&(Rl[Rl.length]="</worksheet>",Rl[1]=Rl[1].replace("/>",">")),Rl.join("")}function dT(ga,yl,xl,El){xl=function(Al,Pl,Rl){var Ol=Zp(145),Ul=(Rl["!rows"]||[])[Al]||{};Ol.write_shift(4,Al),Ol.write_shift(4,0);var Xl=320;Ul.hpx?Xl=20*i2(Ul.hpx):Ul.hpt&&(Xl=20*Ul.hpt),Ol.write_shift(2,Xl),Ol.write_shift(1,0),Xl=0,Ul.level&&(Xl|=Ul.level),Ul.hidden&&(Xl|=16),(Ul.hpx||Ul.hpt)&&(Xl|=32),Ol.write_shift(1,Xl),Ol.write_shift(1,0);var Wl=0,Xl=Ol.l;Ol.l+=4;for(var ou={r:Al,c:0},au=0;au<16;++au)if(!(Pl.s.c>au+1<<10||Pl.e.c<au<<10)){for(var du=-1,Du=-1,xu=au<<10;xu<au+1<<10;++xu)ou.c=xu,(Array.isArray(Rl)?(Rl[ou.r]||[])[ou.c]:Rl[cm(ou)])&&(du<0&&(du=xu),Du=xu);du<0||(++Wl,Ol.write_shift(4,du),Ol.write_shift(4,Du))}return Al=Ol.l,Ol.l=Xl,Ol.write_shift(4,Wl),Ol.l=Al,Ol.length>Ol.l?Ol.slice(0,Ol.l):Ol}(El,xl,yl),(17<xl.length||(yl["!rows"]||[])[El])&&i0(ga,0,xl)}var H2=jv,fT=Vv;function fC(ga){return[Fv(ga),M1(ga),"n"]}var Hx=jv,pT=Vv,pC=["left","right","top","bottom","header","footer"];function gT(ga,yl,xl,El,Al,Pl,Rl){if(yl.v===void 0)return!1;var Ol="";switch(yl.t){case"b":Ol=yl.v?"1":"0";break;case"d":(yl=E0(yl)).z=yl.z||Kl[14],yl.v=sp(Dp(yl.v)),yl.t="n";break;case"n":case"e":Ol=""+yl.v;break;default:Ol=yl.v}var Ul,Wl,Xl,ou,au,du,Du,xu,Qu,Bu,Su,Yu,ep,rp,bp,jp,Ap,$p,e0,t0,Vp={r:xl,c:El};switch(Vp.s=ix(Al.cellXfs,yl,Al),yl.l&&Pl["!links"].push([cm(Vp),yl.l]),yl.c&&Pl["!comments"].push([cm(Vp),yl.c]),yl.t){case"s":case"str":return Al.bookSST?(Ol=Dw(Al.Strings,yl.v,Al.revStrings),Vp.t="s",Vp.v=Ol,Rl?i0(ga,18,(Cv(Ap=Vp,$p=$p??Zp(8)),$p.write_shift(4,Ap.v),$p)):i0(ga,7,(pv(Ap=Vp,jp=jp??Zp(12)),jp.write_shift(4,Ap.v),jp))):(Vp.t="str",Rl?i0(ga,17,(rp=yl,Cv(Vp,bp=bp??Zp(8+4*rp.v.length)),o1(rp.v,bp),bp.length>bp.l?bp.slice(0,bp.l):bp)):i0(ga,6,(rp=yl,pv(Vp,ep=ep??Zp(12+4*rp.v.length)),o1(rp.v,ep),ep.length>ep.l?ep.slice(0,ep.l):ep))),!0;case"n":return yl.v==(0|yl.v)&&-1e3<yl.v&&yl.v<1e3?Rl?i0(ga,13,(Su=yl,Cv(Vp,Yu=Yu??Zp(8)),vx(Su.v,Yu),Yu)):i0(ga,2,(Su=yl,pv(Vp,Bu=Bu??Zp(12)),vx(Su.v,Bu),Bu)):Rl?i0(ga,16,(xu=yl,Cv(Vp,Qu=Qu??Zp(12)),vy(xu.v,Qu),Qu)):i0(ga,5,(xu=yl,pv(Vp,Du=Du??Zp(16)),vy(xu.v,Du),Du)),!0;case"b":return Vp.t="b",Rl?i0(ga,15,(au=yl,Cv(Vp,du=du??Zp(5)),du.write_shift(1,au.v?1:0),du)):i0(ga,4,(au=yl,pv(Vp,ou=ou??Zp(9)),ou.write_shift(1,au.v?1:0),ou)),!0;case"e":return Vp.t="e",Rl?i0(ga,14,(Wl=yl,Cv(Vp,Xl=Xl??Zp(8)),Xl.write_shift(1,Wl.v),Xl.write_shift(2,0),Xl.write_shift(1,0),Xl)):i0(ga,3,(Wl=yl,pv(Vp,Ul=Ul??Zp(9)),Ul.write_shift(1,Wl.v),Ul)),!0}return Rl?i0(ga,12,Cv(Vp,t0=t0??Zp(4))):i0(ga,1,pv(Vp,e0=e0??Zp(8))),!0}function mT(ga,yl){var xl,El;yl&&yl["!merges"]&&(i0(ga,177,(xl=yl["!merges"].length,(El=El??Zp(4)).write_shift(4,xl),El)),yl["!merges"].forEach(function(Al){i0(ga,176,pT(Al))}),i0(ga,178))}function vT(ga,yl){yl&&yl["!cols"]&&(i0(ga,390),yl["!cols"].forEach(function(xl,El){xl&&i0(ga,60,function(Al,Pl,Rl){Rl==null&&(Rl=Zp(18));var Ol=W2(Al,Pl);return Rl.write_shift(-4,Al),Rl.write_shift(-4,Al),Rl.write_shift(4,256*(Ol.width||10)),Rl.write_shift(4,0),Al=0,Pl.hidden&&(Al|=1),typeof Ol.width=="number"&&(Al|=2),Pl.level&&(Al|=Pl.level<<8),Rl.write_shift(2,Al),Rl}(El,xl))}),i0(ga,391))}function yT(ga,yl){var xl;yl&&yl["!ref"]&&(i0(ga,648),i0(ga,649,(xl=Sm(yl["!ref"]),(yl=Zp(24)).write_shift(4,4),yl.write_shift(4,1),Vv(xl,yl),yl)),i0(ga,650))}function xT(ga,yl,xl){yl["!links"].forEach(function(El){var Al,Pl;El[1].Target&&(Al=pp(xl,-1,El[1].Target.replace(/#.*$/,""),_u.HLINK),i0(ga,494,(Pl=Al,El=Zp(50+4*((Al=El)[1].Target.length+(Al[1].Tooltip||"").length)),Vv({s:c1(Al[0]),e:c1(Al[0])},El),Wy("rId"+Pl,El),o1(((Pl=Al[1].Target.indexOf("#"))==-1?"":Al[1].Target.slice(Pl+1))||"",El),o1(Al[1].Tooltip||"",El),o1("",El),El.slice(0,El.l))))}),delete yl["!links"]}function bT(ga,yl,xl){i0(ga,133),i0(ga,137,function(El,Al){Al==null&&(Al=Zp(30));var Pl=924;return(((El||{}).Views||[])[0]||{}).RTL&&(Pl|=32),Al.write_shift(2,Pl),Al.write_shift(4,0),Al.write_shift(4,0),Al.write_shift(4,0),Al.write_shift(1,0),Al.write_shift(1,0),Al.write_shift(2,0),Al.write_shift(2,100),Al.write_shift(2,0),Al.write_shift(2,0),Al.write_shift(2,0),Al.write_shift(4,0),Al}(xl)),i0(ga,138),i0(ga,134)}function wT(ga,yl){var xl,El;yl["!protect"]&&i0(ga,535,(xl=yl["!protect"],(El=El??Zp(66)).write_shift(2,xl.password?Ew(xl.password):0),El.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(Al){Al[1]?El.write_shift(4,xl[Al[0]]==null||xl[Al[0]]?0:1):El.write_shift(4,xl[Al[0]]!=null&&xl[Al[0]]?0:1)}),El))}function ET(ga,yl,xl,El){var Al=j1(),Wl=xl.SheetNames[ga],Pl=xl.Sheets[Wl]||{},Rl=Wl;try{xl&&xl.Workbook&&(Rl=xl.Workbook.Sheets[ga].CodeName||Rl)}catch{}var Ol,Ul,Wl=Sm(Pl["!ref"]||"A1");if(16383<Wl.e.c||1048575<Wl.e.r){if(yl.WTF)throw new Error("Range "+(Pl["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");Wl.e.c=Math.min(Wl.e.c,16383),Wl.e.r=Math.min(Wl.e.c,1048575)}return Pl["!links"]=[],Pl["!comments"]=[],i0(Al,129),(xl.vbaraw||Pl["!outline"])&&i0(Al,147,function(Xl,ou,au){au==null&&(au=Zp(84+4*Xl.length));var du=192;ou&&(ou.above&&(du&=-65),ou.left&&(du&=-129)),au.write_shift(1,du);for(var Du=1;Du<3;++Du)au.write_shift(1,0);return Gv({auto:1},au),au.write_shift(-4,-1),au.write_shift(-4,-1),Jy(Xl,au),au.slice(0,au.l)}(Rl,Pl["!outline"])),i0(Al,148,fT(Wl)),bT(Al,0,xl.Workbook),vT(Al,Pl),function(Xl,ou,au){var du,Du=Sm(ou["!ref"]||"A1"),xu=[];i0(Xl,145);var Qu=Array.isArray(ou),Bu=Du.e.r;ou["!rows"]&&(Bu=Math.max(Du.e.r,ou["!rows"].length-1));for(var Su=Du.s.r;Su<=Bu;++Su){du=l1(Su),dT(Xl,ou,Du,Su);var Yu=!1;if(Su<=Du.e.r)for(var ep=Du.s.c;ep<=Du.e.c;++ep){Su===Du.s.r&&(xu[ep]=Gm(ep)),rp=xu[ep]+du;var rp=Qu?(ou[Su]||[])[ep]:ou[rp];rp?Yu=gT(Xl,rp,Su,ep,au,ou,Yu):Yu=!1}}i0(Xl,146)}(Al,Pl,yl),wT(Al,Pl),function(Xl,ou,au,du){if(ou["!autofilter"]){var Qu=ou["!autofilter"],Du=typeof Qu.ref=="string"?Qu.ref:fm(Qu.ref);au.Workbook||(au.Workbook={Sheets:[]}),au.Workbook.Names||(au.Workbook.Names=[]);var xu=au.Workbook.Names,Qu=Y1(Du);Qu.s.r==Qu.e.r&&(Qu.e.r=Y1(ou["!ref"]).e.r,Du=fm(Qu));for(var Bu=0;Bu<xu.length;++Bu){var Su=xu[Bu];if(Su.Name=="_xlnm._FilterDatabase"&&Su.Sheet==du){Su.Ref="'"+au.SheetNames[du]+"'!"+Du;break}}Bu==xu.length&&xu.push({Name:"_xlnm._FilterDatabase",Sheet:du,Ref:"'"+au.SheetNames[du]+"'!"+Du}),i0(Xl,161,Vv(Sm(Du))),i0(Xl,162)}}(Al,Pl,xl,ga),mT(Al,Pl),xT(Al,Pl,El),Pl["!margins"]&&i0(Al,476,(Ol=Pl["!margins"],Ul==null&&(Ul=Zp(48)),Sx(Ol),pC.forEach(function(Xl){vy(Ol[Xl],Ul)}),Ul)),yl&&!yl.ignoreEC&&yl.ignoreEC!=null||yT(Al,Pl),Wl=Al,yl=ga,El=El,0<(Pl=Pl)["!comments"].length&&(yl=pp(El,-1,"../drawings/vmlDrawing"+(yl+1)+".vml",_u.VML),i0(Wl,551,Wy("rId"+yl)),Pl["!legacy"]=yl),i0(Al,130),Al.end()}function ST(ga,yl,xl,El,Al,Pl){var Rl=Pl||{"!type":"chart"};if(!ga)return Pl;var Ol,Ul=0,Wl=0,Xl={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(ga.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(ou){var au=function(du){var Du,xu=[],Qu=du.match(/^<c:numCache>/);(du.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(Su){Su=Su.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/),Su&&(xu[+Su[1]]=Qu?+Su[2]:Su[2])});var Bu=dm((du.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(du.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(Su){Du=Su.replace(/<.*?>/g,"")}),[xu,Bu,Du]}(ou);Xl.s.r=Xl.s.c=0,Xl.e.c=Ul,Ol=Gm(Ul),au[0].forEach(function(du,Du){Rl[Ol+l1(Du)]={t:"n",v:du,z:au[1]},Wl=Du}),Xl.e.r<Wl&&(Xl.e.r=Wl),++Ul}),0<Ul&&(Rl["!ref"]=fm(Xl)),Rl}var jw=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],CT=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],_T=[],AT=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function gC(ga,yl){for(var xl=0;xl!=ga.length;++xl)for(var El=ga[xl],Al=0;Al!=yl.length;++Al){var Pl=yl[Al];if(El[Pl[0]]==null)El[Pl[0]]=Pl[1];else switch(Pl[2]){case"bool":typeof El[Pl[0]]=="string"&&(El[Pl[0]]=J0(El[Pl[0]]));break;case"int":typeof El[Pl[0]]=="string"&&(El[Pl[0]]=parseInt(El[Pl[0]],10))}}}function mC(ga,yl){for(var xl=0;xl!=yl.length;++xl){var El=yl[xl];if(ga[El[0]]==null)ga[El[0]]=El[1];else switch(El[2]){case"bool":typeof ga[El[0]]=="string"&&(ga[El[0]]=J0(ga[El[0]]));break;case"int":typeof ga[El[0]]=="string"&&(ga[El[0]]=parseInt(ga[El[0]],10))}}}function vC(ga){mC(ga.WBProps,jw),mC(ga.CalcPr,AT),gC(ga.WBView,CT),gC(ga.Sheets,_T),Wx.date1904=J0(ga.WBProps.date1904)}var TT="][*?/\\".split("");function yC(ga,yl){if(31<ga.length)throw new Error("Sheet names cannot exceed 31 chars");var xl=!0;return TT.forEach(function(El){if(ga.indexOf(El)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),xl}function xC(ga){if(!ga||!ga.SheetNames||!ga.Sheets)throw new Error("Invalid Workbook");if(!ga.SheetNames.length)throw new Error("Workbook is empty");var yl,xl,El,Al=ga.Workbook&&ga.Workbook.Sheets||[];yl=ga.SheetNames,xl=Al,El=!!ga.vbaraw,yl.forEach(function(Rl,Ol){yC(Rl);for(var Ul=0;Ul<Ol;++Ul)if(Rl==yl[Ul])throw new Error("Duplicate Sheet Name: "+Rl);if(El){var Wl=xl&&xl[Ol]&&xl[Ol].CodeName||Rl;if(Wl.charCodeAt(0)==95&&22<Wl.length)throw new Error("Bad Code Name: Worksheet"+Wl)}});for(var Pl=0;Pl<ga.SheetNames.length;++Pl)(function(Rl,Ol){if(Rl&&Rl["!ref"]){var Ul=Sm(Rl["!ref"]);if(Ul.e.c<Ul.s.c||Ul.e.r<Ul.s.r)throw new Error("Bad range ("+Ol+"): "+Rl["!ref"])}})(ga.Sheets[ga.SheetNames[Pl]],(ga.SheetNames[Pl],Pl))}var RT=/<\w+:workbook/;function bC(ga){var yl=[t1];yl[yl.length]=v0("workbook",null,{xmlns:zv[0],"xmlns:r":Cm.r});var xl=ga.Workbook&&0<(ga.Workbook.Names||[]).length,El={codeName:"ThisWorkbook"};ga.Workbook&&ga.Workbook.WBProps&&(jw.forEach(function(Ol){ga.Workbook.WBProps[Ol[0]]!=null&&ga.Workbook.WBProps[Ol[0]]!=Ol[1]&&(El[Ol[0]]=ga.Workbook.WBProps[Ol[0]])}),ga.Workbook.WBProps.CodeName&&(El.codeName=ga.Workbook.WBProps.CodeName,delete El.CodeName)),yl[yl.length]=v0("workbookPr",null,El);var Al=ga.Workbook&&ga.Workbook.Sheets||[],Pl=0;if(Al&&Al[0]&&Al[0].Hidden){for(yl[yl.length]="<bookViews>",Pl=0;Pl!=ga.SheetNames.length&&Al[Pl]&&Al[Pl].Hidden;++Pl);Pl==ga.SheetNames.length&&(Pl=0),yl[yl.length]='<workbookView firstSheet="'+Pl+'" activeTab="'+Pl+'"/>',yl[yl.length]="</bookViews>"}for(yl[yl.length]="<sheets>",Pl=0;Pl!=ga.SheetNames.length;++Pl){var Rl={name:bm(ga.SheetNames[Pl].slice(0,31))};if(Rl.sheetId=""+(Pl+1),Rl["r:id"]="rId"+(Pl+1),Al[Pl])switch(Al[Pl].Hidden){case 1:Rl.state="hidden";break;case 2:Rl.state="veryHidden"}yl[yl.length]=v0("sheet",null,Rl)}return yl[yl.length]="</sheets>",xl&&(yl[yl.length]="<definedNames>",ga.Workbook&&ga.Workbook.Names&&ga.Workbook.Names.forEach(function(Ol){var Ul={name:Ol.Name};Ol.Comment&&(Ul.comment=Ol.Comment),Ol.Sheet!=null&&(Ul.localSheetId=""+Ol.Sheet),Ol.Hidden&&(Ul.hidden="1"),Ol.Ref&&(yl[yl.length]=v0("definedName",bm(Ol.Ref),Ul))}),yl[yl.length]="</definedNames>"),2<yl.length&&(yl[yl.length]="</workbook>",yl[1]=yl[1].replace("/>",">")),yl.join("")}function kT(ga,yl){var xl={};return ga.read_shift(4),xl.ArchID=ga.read_shift(4),ga.l+=yl-8,xl}function PT(ga,yl){i0(ga,143);for(var xl,El=0;El!=yl.SheetNames.length;++El){var Al={Hidden:yl.Workbook&&yl.Workbook.Sheets&&yl.Workbook.Sheets[El]&&yl.Workbook.Sheets[El].Hidden||0,iTabID:El+1,strRelID:"rId"+(El+1),name:yl.SheetNames[El]};i0(ga,156,(xl=Al,(Al=(Al=void 0)||Zp(127)).write_shift(4,xl.Hidden),Al.write_shift(4,xl.iTabID),Wy(xl.strRelID,Al),o1(xl.name.slice(0,31),Al),Al.length>Al.l?Al.slice(0,Al.l):Al))}i0(ga,144)}function IT(ga,yl){if(yl.Workbook&&yl.Workbook.Sheets){for(var xl,El=yl.Workbook.Sheets,Al=0,Pl=-1,Rl=-1;Al<El.length;++Al)!El[Al]||!El[Al].Hidden&&Pl==-1?Pl=Al:El[Al].Hidden==1&&Rl==-1&&(Rl=Al);Pl<Rl||(i0(ga,135),i0(ga,158,(yl=Pl,(xl=xl||Zp(29)).write_shift(-4,0),xl.write_shift(-4,460),xl.write_shift(4,28800),xl.write_shift(4,17600),xl.write_shift(4,500),xl.write_shift(4,yl),xl.write_shift(4,yl),xl.write_shift(1,120),xl.length>xl.l?xl.slice(0,xl.l):xl)),i0(ga,136))}}function OT(ga,yl){var xl=j1();return i0(xl,131),i0(xl,128,function(El){El=El||Zp(127);for(var Al=0;Al!=4;++Al)El.write_shift(4,0);return o1("SheetJS",El),o1(co.version,El),o1(co.version,El),o1("7262",El),El.length>El.l?El.slice(0,El.l):El}()),i0(xl,153,function(El,Al){Al=Al||Zp(72);var Pl=0;return El&&El.filterPrivacy&&(Pl|=8),Al.write_shift(4,Pl),Al.write_shift(4,0),Jy(El&&El.CodeName||"ThisWorkbook",Al),Al.slice(0,Al.l)}(ga.Workbook&&ga.Workbook.WBProps||null)),IT(xl,ga),PT(xl,ga),i0(xl,132),xl.end()}function DT(ga,yl,xl){return(yl.slice(-4)===".bin"?function(El,Al){var Pl={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},Rl=[],Ol=!1;(Al=Al||{}).biff=12;var Ul=[],Wl=[[]];return Wl.SheetNames=[],Wl.XTI=[],p2[16]={n:"BrtFRTArchID$",f:kT},Hv(El,function(Xl,ou,au){switch(au){case 156:Wl.SheetNames.push(Xl.name),Pl.Sheets.push(Xl);break;case 153:Pl.WBProps=Xl;break;case 39:Xl.Sheet!=null&&(Al.SID=Xl.Sheet),Xl.Ref=Rv(Xl.Ptg,0,null,Wl,Al),delete Al.SID,delete Xl.Ptg,Ul.push(Xl);break;case 1036:break;case 357:case 358:case 355:case 667:Wl[0].length?Wl.push([au,Xl]):Wl[0]=[au,Xl],Wl[Wl.length-1].XTI=[];break;case 362:Wl.length===0&&(Wl[0]=[],Wl[0].XTI=[]),Wl[Wl.length-1].XTI=Wl[Wl.length-1].XTI.concat(Xl),Wl.XTI=Wl.XTI.concat(Xl);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:Rl.push(au),Ol=!0;break;case 36:Rl.pop(),Ol=!1;break;case 37:Rl.push(au),Ol=!0;break;case 38:Rl.pop(),Ol=!1;break;case 16:break;default:if(!ou.T&&(!Ol||Al.WTF&&Rl[Rl.length-1]!=37&&Rl[Rl.length-1]!=35))throw new Error("Unexpected record 0x"+au.toString(16))}},Al),vC(Pl),Pl.Names=Ul,Pl.supbooks=Wl,Pl}:function(El,Al){if(!El)throw new Error("Could not find file");var Pl={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},Rl=!1,Ol="xmlns",Ul={},Wl=0;if(El.replace(hm,function(Xl,ou){var au=am(Xl);switch(x1(au[0])){case"<?xml":break;case"<workbook":Xl.match(RT)&&(Ol="xmlns"+Xl.match(/<(\w+):/)[1]),Pl.xmlns=au[Ol];break;case"</workbook>":break;case"<fileVersion":delete au[0],Pl.AppVersion=au;break;case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":jw.forEach(function(du){if(au[du[0]]!=null)switch(du[2]){case"bool":Pl.WBProps[du[0]]=J0(au[du[0]]);break;case"int":Pl.WBProps[du[0]]=parseInt(au[du[0]],10);break;default:Pl.WBProps[du[0]]=au[du[0]]}}),au.codeName&&(Pl.WBProps.CodeName=Tm(au.codeName));break;case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete au[0],Pl.WBView.push(au);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(au.state){case"hidden":au.Hidden=1;break;case"veryHidden":au.Hidden=2;break;default:au.Hidden=0}delete au.state,au.name=dm(Tm(au.name)),delete au[0],Pl.Sheets.push(au);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":break;case"<definedNames>":case"<definedNames":Rl=!0;break;case"</definedNames>":Rl=!1;break;case"<definedName":(Ul={}).Name=Tm(au.name),au.comment&&(Ul.Comment=au.comment),au.localSheetId&&(Ul.Sheet=+au.localSheetId),J0(au.hidden||"0")&&(Ul.Hidden=!0),Wl=ou+Xl.length;break;case"</definedName>":Ul.Ref=dm(Tm(El.slice(Wl,ou))),Pl.Names.push(Ul);break;case"<definedName/>":break;case"<calcPr":case"<calcPr/>":delete au[0],Pl.CalcPr=au;break;case"</calcPr>":case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Rl=!0;break;case"</ext>":Rl=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":Rl=!0;break;case"</AlternateContent>":Rl=!1;break;case"<revisionPtr":break;default:if(!Rl&&Al.WTF)throw new Error("unrecognized "+au[0]+" in workbook")}return Xl}),zv.indexOf(Pl.xmlns)===-1)throw new Error("Unknown Namespace: "+Pl.xmlns);return vC(Pl),Pl})(ga,xl)}function FT(ga,yl,xl,El,Al,Pl,Rl,Ol){return(yl.slice(-4)===".bin"?function(Ul,Wl,Xl,ou,au,du,Du){if(!Ul)return Ul;var xu=Wl||{};ou=ou||{"!id":{}};var Qu,Bu,Su,Yu,ep,rp,bp,jp,Ap,$p,e0=xu.dense?[]:{},t0={s:{r:2e6,c:2e6},e:{r:0,c:0}},Vp=!1,h0=!1,D0=[];xu.biff=12;var R0=xu["!row"]=0,b0=!1,S0=[],y0={},o0=xu.supbooks||au.supbooks||[[]];if(o0.sharedf=y0,o0.arrayf=S0,o0.SheetNames=au.SheetNames||au.Sheets.map(function(c0){return c0.name}),!xu.supbooks&&(xu.supbooks=o0,au.Names))for(var z0=0;z0<au.Names.length;++z0)o0[0][z0+1]=au.Names[z0];var G0,rm=[],Om=[],N0=!1;return p2[16]={n:"BrtShortReal",f:fC},Hv(Ul,function(c0,ym,$m){if(!h0)switch($m){case 148:Qu=c0;break;case 0:Bu=c0,xu.sheetRows&&xu.sheetRows<=Bu.r&&(h0=!0),Ap=l1(ep=Bu.r),xu["!row"]=Bu.r,(c0.hidden||c0.hpt||c0.level!=null)&&(c0.hpt&&(c0.hpx=Ux(c0.hpt)),Om[c0.r]=c0);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(Su={t:c0[2]},c0[2]){case"n":Su.v=c0[1];break;case"s":jp=u2[c0[1]],Su.v=jp.t,Su.r=jp.r;break;case"b":Su.v=!!c0[1];break;case"e":Su.v=c0[1],xu.cellText!==!1&&(Su.w=op[Su.v]);break;case"str":Su.t="s",Su.v=c0[1];break;case"is":Su.t="s",Su.v=c0[1].t}if((Yu=Du.CellXf[c0[0].iStyleRef])&&nC(Su,Yu.numFmtId,null,xu,du,Du),rp=c0[0].c==-1?rp+1:c0[0].c,xu.dense?(e0[ep]||(e0[ep]=[]),e0[ep][rp]=Su):e0[Gm(rp)+Ap]=Su,xu.cellFormula){for(b0=!1,R0=0;R0<S0.length;++R0){var Mm=S0[R0];Bu.r>=Mm[0].s.r&&Bu.r<=Mm[0].e.r&&rp>=Mm[0].s.c&&rp<=Mm[0].e.c&&(Su.F=fm(Mm[0]),b0=!0)}!b0&&3<c0.length&&(Su.f=c0[3])}t0.s.r>Bu.r&&(t0.s.r=Bu.r),t0.s.c>rp&&(t0.s.c=rp),t0.e.r<Bu.r&&(t0.e.r=Bu.r),t0.e.c<rp&&(t0.e.c=rp),xu.cellDates&&Yu&&Su.t=="n"&&hu(Kl[Yu.numFmtId])&&(Jm=gu(Su.v))&&(Su.t="d",Su.v=new Date(Jm.y,Jm.m-1,Jm.d,Jm.H,Jm.M,Jm.S,Jm.u)),G0&&(G0.type=="XLDAPR"&&(Su.D=!0),G0=void 0);break;case 1:case 12:if(!xu.sheetStubs||Vp)break;Su={t:"z",v:void 0},rp=c0[0].c==-1?rp+1:c0[0].c,xu.dense?(e0[ep]||(e0[ep]=[]),e0[ep][rp]=Su):e0[Gm(rp)+Ap]=Su,t0.s.r>Bu.r&&(t0.s.r=Bu.r),t0.s.c>rp&&(t0.s.c=rp),t0.e.r<Bu.r&&(t0.e.r=Bu.r),t0.e.c<rp&&(t0.e.c=rp),G0&&(G0.type=="XLDAPR"&&(Su.D=!0),G0=void 0);break;case 176:D0.push(c0);break;case 49:G0=((xu.xlmeta||{}).Cell||[])[c0-1];break;case 494:var Jm=ou["!id"][c0.relId];for(Jm?(c0.Target=Jm.Target,c0.loc&&(c0.Target+="#"+c0.loc),c0.Rel=Jm):c0.relId==""&&(c0.Target="#"+c0.loc),ep=c0.rfx.s.r;ep<=c0.rfx.e.r;++ep)for(rp=c0.rfx.s.c;rp<=c0.rfx.e.c;++rp)xu.dense?(e0[ep]||(e0[ep]=[]),e0[ep][rp]||(e0[ep][rp]={t:"z",v:void 0}),e0[ep][rp].l=c0):(bp=cm({c:rp,r:ep}),e0[bp]||(e0[bp]={t:"z",v:void 0}),e0[bp].l=c0);break;case 426:if(!xu.cellFormula)break;S0.push(c0),($p=xu.dense?e0[ep][rp]:e0[Gm(rp)+Ap]).f=Rv(c0[1],0,{r:Bu.r,c:rp},o0,xu),$p.F=fm(c0[0]);break;case 427:if(!xu.cellFormula)break;y0[cm(c0[0].s)]=c0[1],($p=xu.dense?e0[ep][rp]:e0[Gm(rp)+Ap]).f=Rv(c0[1],0,{r:Bu.r,c:rp},o0,xu);break;case 60:if(!xu.cellStyles)break;for(;c0.e>=c0.s;)rm[c0.e--]={width:c0.w/256,hidden:!!(1&c0.flags),level:c0.level},N0||(N0=!0,_w(c0.w/256)),rx(rm[c0.e+1]);break;case 161:e0["!autofilter"]={ref:fm(c0)};break;case 476:e0["!margins"]=c0;break;case 147:au.Sheets[Xl]||(au.Sheets[Xl]={}),c0.name&&(au.Sheets[Xl].CodeName=c0.name),(c0.above||c0.left)&&(e0["!outline"]={above:c0.above,left:c0.left});break;case 137:au.Views||(au.Views=[{}]),au.Views[0]||(au.Views[0]={}),c0.RTL&&(au.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:Vp=!0;break;case 36:Vp=!1;break;case 37:Vp=!0;break;case 38:Vp=!1;break;default:if(!ym.T&&(!Vp||xu.WTF))throw new Error("Unexpected record 0x"+$m.toString(16))}},xu),delete xu.supbooks,delete xu["!row"],!e0["!ref"]&&(t0.s.r<2e6||Qu&&(0<Qu.e.r||0<Qu.e.c||0<Qu.s.r||0<Qu.s.c))&&(e0["!ref"]=fm(Qu||t0)),xu.sheetRows&&e0["!ref"]&&(Ul=Sm(e0["!ref"]),xu.sheetRows<=+Ul.e.r&&(Ul.e.r=xu.sheetRows-1,Ul.e.r>t0.e.r&&(Ul.e.r=t0.e.r),Ul.e.r<Ul.s.r&&(Ul.s.r=Ul.e.r),Ul.e.c>t0.e.c&&(Ul.e.c=t0.e.c),Ul.e.c<Ul.s.c&&(Ul.s.c=Ul.e.c),e0["!fullref"]=e0["!ref"],e0["!ref"]=fm(Ul))),0<D0.length&&(e0["!merges"]=D0),0<rm.length&&(e0["!cols"]=rm),0<Om.length&&(e0["!rows"]=Om),e0}:oT)(ga,El,xl,Al,Pl,Rl,Ol)}function jT(ga,yl,xl,El,Al,Pl){return yl.slice(-4)===".bin"?function(Rl,Ol,Ul,Wl,Xl){if(!Rl)return Rl;Wl=Wl||{"!id":{}};var ou={"!type":"chart","!drawel":null,"!rel":""},au=!1;return Hv(Rl,function(du,Du,xu){switch(xu){case 550:ou["!rel"]=du;break;case 651:Xl.Sheets[Ul]||(Xl.Sheets[Ul]={}),du.name&&(Xl.Sheets[Ul].CodeName=du.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:au=!0;break;case 36:au=!1;break;case 37:break;case 38:break;default:if(!(0<Du.T)){if(!(Du.T<0)){if(!au||Ol.WTF)throw new Error("Unexpected record 0x"+xu.toString(16))}}}},Ol),Wl["!id"][ou["!rel"]]&&(ou["!drawel"]=Wl["!id"][ou["!rel"]]),ou}(ga,El,xl,Al,Pl):function(Rl,Ol,Ul,Wl){if(!Rl)return Rl;Ul=Ul||{"!id":{}};var Xl={"!type":"chart","!drawel":null,"!rel":""},ou=Rl.match(iC);return ou&&Fw(ou[0],0,Wl,Ol),(Rl=Rl.match(/drawing r:id="(.*?)"/))&&(Xl["!rel"]=Rl[1]),Ul["!id"][Xl["!rel"]]&&(Xl["!drawel"]=Ul["!id"][Xl["!rel"]]),Xl}(ga,xl,Al,Pl)}function MT(ga,yl,xl,El){return(yl.slice(-4)===".bin"?function(Al,Pl,Rl){var Ol,Ul={NumberFmt:[]};for(Ol in Kl)Ul.NumberFmt[Ol]=Kl[Ol];Ul.CellXf=[],Ul.Fonts=[];var Wl=[],Xl=!1;return Hv(Al,function(ou,au,du){switch(du){case 44:Ul.NumberFmt[ou[0]]=ou[1],yu(ou[1],ou[0]);break;case 43:Ul.Fonts.push(ou),ou.color.theme!=null&&Pl&&Pl.themeElements&&Pl.themeElements.clrScheme&&(ou.color.rgb=N2(Pl.themeElements.clrScheme[ou.color.theme].rgb,ou.color.tint||0));break;case 1025:case 45:case 46:break;case 47:Wl[Wl.length-1]==617&&Ul.CellXf.push(ou);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:Xl=!0;break;case 36:Xl=!1;break;case 37:Wl.push(du),Xl=!0;break;case 38:Wl.pop(),Xl=!1;break;default:if(0<au.T)Wl.push(du);else if(au.T<0)Wl.pop();else if(!Xl||Rl.WTF&&Wl[Wl.length-1]!=37)throw new Error("Unexpected record 0x"+du.toString(16))}}),Ul}:gA)(ga,xl,El)}function NT(ga,yl,xl){return yl.slice(-4)===".bin"?(El=xl,Pl=!(Al=[]),Hv(ga,function(Rl,Ol,Ul){switch(Ul){case 159:Al.Count=Rl[0],Al.Unique=Rl[1];break;case 19:Al.push(Rl);break;case 160:return 1;case 35:Pl=!0;break;case 36:Pl=!1;break;default:if(Ol.T,!Pl||El.WTF)throw new Error("Unexpected record 0x"+Ul.toString(16))}}),Al):function(Rl,Ol){var Ul=[],Wl="";if(!Rl)return Ul;if(Rl=Rl.match(tA)){Wl=Rl[2].replace(rA,"").split(nA);for(var Xl=0;Xl!=Wl.length;++Xl){var ou=ww(Wl[Xl].trim(),Ol);ou!=null&&(Ul[Ul.length]=ou)}Rl=am(Rl[1]),Ul.Count=Rl.count,Ul.Unique=Rl.uniqueCount}return Ul}(ga,xl);var El,Al,Pl}function LT(ga,yl,xl){return yl.slice(-4)===".bin"?(El=xl,Al=[],Pl=[],Ol=!(Rl={}),Hv(ga,function(Ul,Wl,Xl){switch(Xl){case 632:Pl.push(Ul);break;case 635:Rl=Ul;break;case 637:Rl.t=Ul.t,Rl.h=Ul.h,Rl.r=Ul.r;break;case 636:if(Rl.author=Pl[Rl.iauthor],delete Rl.iauthor,El.sheetRows&&Rl.rfx&&El.sheetRows<=Rl.rfx.r)break;Rl.t||(Rl.t=""),delete Rl.rfx,Al.push(Rl);break;case 3072:break;case 35:Ol=!0;break;case 36:Ol=!1;break;case 37:case 38:break;default:if(!Wl.T&&(!Ol||El.WTF))throw new Error("Unexpected record 0x"+Xl.toString(16))}}),Al):function(Ul,Wl){if(Ul.match(/<(?:\w+:)?comments *\/>/))return[];var Xl=[],ou=[],au=Ul.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);return au&&au[1]&&au[1].split(/<\/\w*:?author>/).forEach(function(du){du===""||du.trim()===""||(du=du.match(/<(?:\w+:)?author[^>]*>(.*)/))&&Xl.push(du[1])}),(Ul=Ul.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/))&&Ul[1]&&Ul[1].split(/<\/\w*:?comment>/).forEach(function(du){var Du,xu;du===""||du.trim()===""||(Du=du.match(/<(?:\w+:)?comment[^>]*>/))&&(Du={author:(xu=am(Du[0])).authorId&&Xl[xu.authorId]||"sheetjsghost",ref:xu.ref,guid:xu.guid},xu=c1(xu.ref),Wl.sheetRows&&Wl.sheetRows<=xu.r||(du=!!(du=du.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/))&&!!du[1]&&ww(du[1])||{r:"",t:"",h:""},Du.r=du.r,du.r=="<t></t>"&&(du.t=du.h=""),Du.t=(du.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),Wl.cellHTML&&(Du.h=du.h),ou.push(Du)))}),ou}(ga,xl);var El,Al,Pl,Rl,Ol}function BT(ga,yl){return yl.slice(-4)===".bin"?(xl=[],Hv(ga,function(El,Al,Pl){if(Pl===63)xl.push(El);else if(!Al.T)throw new Error("Unexpected record 0x"+Pl.toString(16))}),xl):function(El){var Al=[];if(!El)return Al;var Pl=1;return(El.match(hm)||[]).forEach(function(Rl){var Ol=am(Rl);switch(Ol[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete Ol[0],Ol.i?Pl=Ol.i:Ol.i=Pl,Al.push(Ol)}}),Al}(ga);var xl}function UT(ga,yl,xl,El){if(xl.slice(-4)===".bin")return function(Al,Pl){if(!Al)return Al;var Rl=Pl||{},Ol=!1;Hv(Al,function(Ul,Wl,Xl){switch(Xl){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:Ol=!0;break;case 36:Ol=!1;break;default:if(!Wl.T&&(!Ol||Rl.WTF))throw new Error("Unexpected record 0x"+Xl.toString(16))}},Rl)}(ga,El)}function $T(ga,yl,xl){return yl.slice(-4)===".bin"?(El={Types:[],Cell:[],Value:[]},Al=xl||{},Rl=!(Pl=[]),Ol=2,Hv(ga,function(Ul,Wl,Xl){switch(Xl){case 335:El.Types.push({name:Ul.name});break;case 51:Ul.forEach(function(ou){Ol==1?El.Cell.push({type:El.Types[ou[0]-1].name,index:ou[1]}):Ol==0&&El.Value.push({type:El.Types[ou[0]-1].name,index:ou[1]})});break;case 337:Ol=Ul?1:0;break;case 338:Ol=2;break;case 35:Pl.push(Xl),Rl=!0;break;case 36:Pl.pop(),Rl=!1;break;default:if(!Wl.T&&(!Rl||Al.WTF&&Pl[Pl.length-1]!=35))throw new Error("Unexpected record 0x"+Xl.toString(16))}}),El):function(Ul,Wl){var Xl={Types:[],Cell:[],Value:[]};if(!Ul)return Xl;var ou,au=!1,du=2;return Ul.replace(hm,function(Du){var xu=am(Du);switch(x1(xu[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":Xl.Types.push({name:xu.name});break;case"</metadataType>":break;case"<futureMetadata":for(var Qu=0;Qu<Xl.Types.length;++Qu)Xl.Types[Qu].name==xu.name&&(ou=Xl.Types[Qu]);break;case"</futureMetadata>":case"<bk>":case"</bk>":break;case"<rc":du==1?Xl.Cell.push({type:Xl.Types[xu.t-1].name,index:+xu.v}):du==0&&Xl.Value.push({type:Xl.Types[xu.t-1].name,index:+xu.v});break;case"</rc>":break;case"<cellMetadata":du=1;break;case"</cellMetadata>":du=2;break;case"<valueMetadata":du=0;break;case"</valueMetadata>":du=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":au=!0;break;case"</ext>":au=!1;break;case"<rvb":if(!ou)break;ou.offsets||(ou.offsets=[]),ou.offsets.push(+xu.i);break;default:if(!au&&Wl.WTF)throw new Error("unrecognized "+xu[0]+" in metadata")}return Du}),Xl}(ga,xl);var El,Al,Pl,Rl,Ol}var d2,wC=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,EC=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ey(ga,yl){var xl=ga.split(/\s+/),El=[];if(El[0]=xl[0],xl.length===1)return El;var Al,Pl,Rl,Ol=ga.match(wC);if(Ol)for(Rl=0;Rl!=Ol.length;++Rl)(Pl=(Al=Ol[Rl].match(EC))[1].indexOf(":"))===-1?El[Al[1]]=Al[2].slice(1,Al[2].length-1):El[Al[1].slice(0,6)==="xmlns:"?"xmlns"+Al[1].slice(6):Al[1].slice(Pl+1)]=Al[2].slice(1,Al[2].length-1);return El}function zT(ga,yl,xl){if(ga.t!=="z"){if(!xl||xl.cellText!==!1)try{ga.t==="e"?ga.w=ga.w||op[ga.v]:yl==="General"?ga.t==="n"?(0|ga.v)===ga.v?ga.w=ga.v.toString(10):ga.w=Xu(ga.v):ga.w=Gu(ga.v):ga.w=(El=yl||"General",Al=ga.v,(El=d2[El]||dm(El))==="General"?Gu(Al):Vu(El,Al))}catch(Rl){if(xl.WTF)throw Rl}var El,Al;try{var Pl=d2[yl]||yl||"General";xl.cellNF&&(ga.z=Pl),xl.cellDates&&ga.t=="n"&&hu(Pl)&&(Pl=gu(ga.v))&&(ga.t="d",ga.v=new Date(Pl.y,Pl.m-1,Pl.d,Pl.H,Pl.M,Pl.S,Pl.u))}catch(Rl){if(xl.WTF)throw Rl}}}function Mw(ga,yl){var xl=yl||{};Sp();var El,Al=Fl(ax(ga)),Pl=(Al=xl.type=="binary"||xl.type=="array"||xl.type=="base64"?hs!==void 0?hs.utils.decode(65001,_l(Al)):Tm(Al):Al).slice(0,1024).toLowerCase(),Rl=!1;if((1023&(Pl=Pl.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&Pl.indexOf(","),1023&Pl.indexOf(";"))){var Ol=E0(xl);return Ol.type="string",Nx.to_workbook(Al,Ol)}if(Pl.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(vp){0<=Pl.indexOf("<"+vp)&&(Rl=!0)}),Rl)return function(vp,l0){if(vp=vp.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi),!vp||vp.length==0)throw new Error("Invalid HTML: could not find <table>");if(vp.length==1)return qv(_C(vp[0],l0),l0);var Wp=Xw();return vp.forEach(function(Xp,Up){Zw(Wp,_C(Xp,l0),"Sheet"+(Up+1))}),Wp}(Al,xl);d2={"General Number":"General","General Date":Kl[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Kl[15],"Short Date":Kl[14],"Long Time":Kl[19],"Medium Time":Kl[18],"Short Time":Kl[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Kl[2],Standard:Kl[4],Percent:Kl[10],Scientific:Kl[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var Ul,Wl=[],Xl,ou={},au=[],du=xl.dense?[]:{},Du="",xu={},Qu={},Bu=Ey('<Data ss:Type="String">'),Su=0,Yu=0,ep=0,rp={s:{r:2e6,c:2e6},e:{r:0,c:0}},bp={},jp={},Ap="",$p=0,e0=[],t0={},Vp={},h0=0,D0=[],R0=[],b0={},S0=[],y0=!1,o0=[],z0=[],G0={},rm=0,Om=0,N0={Sheets:[],WBProps:{date1904:!1}},c0={};hv.lastIndex=0,Al=Al.replace(/<!--([\s\S]*?)-->/gm,"");for(var ym,$m,Mm,Jm,I1="";El=hv.exec(Al);)switch(El[3]=(I1=El[3]).toLowerCase()){case"data":if(I1=="data"){if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"))}else El[0].charAt(El[0].length-2)!=="/"&&Wl.push([El[3],!0]);break}if(Wl[Wl.length-1][1])break;El[1]==="/"?function(vp,l0,Wp,Xp,Up,_g,p0,X0,U0,k0){var W0="General",Q0=Xp.StyleID,em={};k0=k0||{};var A0=[],g0=0;for((Q0=Q0===void 0&&X0?X0.StyleID:Q0)===void 0&&p0&&(Q0=p0.StyleID);_g[Q0]!==void 0&&(_g[Q0].nf&&(W0=_g[Q0].nf),_g[Q0].Interior&&A0.push(_g[Q0].Interior),_g[Q0].Parent);)Q0=_g[Q0].Parent;switch(Wp.Type){case"Boolean":Xp.t="b",Xp.v=J0(vp);break;case"String":Xp.t="s",Xp.r=g1(dm(vp)),Xp.v=-1<vp.indexOf("<")?dm(l0||vp).replace(/<.*?>/g,""):Xp.r;break;case"DateTime":vp.slice(-1)!="Z"&&(vp+="Z"),Xp.v=(Dp(vp)-new Date(Date.UTC(1899,11,30)))/864e5,Xp.v!=Xp.v?Xp.v=dm(vp):Xp.v<60&&(Xp.v=Xp.v-1),W0&&W0!="General"||(W0="yyyy-mm-dd");case"Number":Xp.v===void 0&&(Xp.v=+vp),Xp.t||(Xp.t="n");break;case"Error":Xp.t="e",Xp.v=fp[vp],k0.cellText!==!1&&(Xp.w=vp);break;default:vp==""&&l0==""?Xp.t="z":(Xp.t="s",Xp.v=g1(l0||vp))}if(zT(Xp,W0,k0),k0.cellFormula!==!1)if(Xp.Formula)Wp=dm(Xp.Formula),Wp.charCodeAt(0)==61&&(Wp=Wp.slice(1)),Xp.f=zx(Wp,Up),delete Xp.Formula,Xp.ArrayRange=="RC"?Xp.F=zx("RC:RC",Up):Xp.ArrayRange&&(Xp.F=zx(Xp.ArrayRange,Up),U0.push([Sm(Xp.F),Xp.F]));else for(g0=0;g0<U0.length;++g0)Up.r>=U0[g0][0].s.r&&Up.r<=U0[g0][0].e.r&&Up.c>=U0[g0][0].s.c&&Up.c<=U0[g0][0].e.c&&(Xp.F=U0[g0][1]);k0.cellStyles&&(A0.forEach(function(tm){!em.patternType&&tm.patternType&&(em.patternType=tm.patternType)}),Xp.s=em),Xp.StyleID!==void 0&&(Xp.ixfe=Xp.StyleID)}(Al.slice(Su,El.index),Ap,Bu,Wl[Wl.length-1][0]=="comment"?b0:xu,{c:Yu,r:ep},bp,S0[Yu],Qu,o0,xl):(Ap="",Bu=Ey(El[0]),Su=El.index+El[0].length);break;case"cell":if(El[1]==="/")if(0<R0.length&&(xu.c=R0),(!xl.sheetRows||xl.sheetRows>ep)&&xu.v!==void 0&&(xl.dense?(du[ep]||(du[ep]=[]),du[ep][Yu]=xu):du[Gm(Yu)+l1(ep)]=xu),xu.HRef&&(xu.l={Target:dm(xu.HRef)},xu.HRefScreenTip&&(xu.l.Tooltip=xu.HRefScreenTip),delete xu.HRef,delete xu.HRefScreenTip),(xu.MergeAcross||xu.MergeDown)&&(rm=Yu+(0|parseInt(xu.MergeAcross,10)),Om=ep+(0|parseInt(xu.MergeDown,10)),e0.push({s:{c:Yu,r:ep},e:{c:rm,r:Om}})),xl.sheetStubs)if(xu.MergeAcross||xu.MergeDown){for(var Cp=Yu;Cp<=rm;++Cp)for(var Qm=ep;Qm<=Om;++Qm)(Yu<Cp||ep<Qm)&&(xl.dense?(du[Qm]||(du[Qm]=[]),du[Qm][Cp]={t:"z"}):du[Gm(Cp)+l1(Qm)]={t:"z"});Yu=rm+1}else++Yu;else xu.MergeAcross?Yu=rm+1:++Yu;else(Yu=(xu=function(vp){var l0={};if(vp.split(/\s+/).length===1)return l0;var Wp,Xp,Up,_g=vp.match(wC);if(_g)for(Up=0;Up!=_g.length;++Up)(Xp=(Wp=_g[Up].match(EC))[1].indexOf(":"))===-1?l0[Wp[1]]=Wp[2].slice(1,Wp[2].length-1):l0[Wp[1].slice(0,6)==="xmlns:"?"xmlns"+Wp[1].slice(6):Wp[1].slice(Xp+1)]=Wp[2].slice(1,Wp[2].length-1);return l0}(El[0])).Index?+xu.Index-1:Yu)<rp.s.c&&(rp.s.c=Yu),Yu>rp.e.c&&(rp.e.c=Yu),El[0].slice(-2)==="/>"&&++Yu,R0=[];break;case"row":El[1]==="/"||El[0].slice(-2)==="/>"?(ep<rp.s.r&&(rp.s.r=ep),ep>rp.e.r&&(rp.e.r=ep),El[0].slice(-2)==="/>"&&(Qu=Ey(El[0])).Index&&(ep=+Qu.Index-1),Yu=0,++ep):((Qu=Ey(El[0])).Index&&(ep=+Qu.Index-1),G0={},Qu.AutoFitHeight!="0"&&!Qu.Height||(G0.hpx=parseInt(Qu.Height,10),G0.hpt=i2(G0.hpx),z0[ep]=G0),Qu.Hidden=="1"&&(G0.hidden=!0,z0[ep]=G0));break;case"worksheet":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"));au.push(Du),rp.s.r<=rp.e.r&&rp.s.c<=rp.e.c&&(du["!ref"]=fm(rp),xl.sheetRows&&xl.sheetRows<=rp.e.r&&(du["!fullref"]=du["!ref"],rp.e.r=xl.sheetRows-1,du["!ref"]=fm(rp))),e0.length&&(du["!merges"]=e0),0<S0.length&&(du["!cols"]=S0),0<z0.length&&(du["!rows"]=z0),ou[Du]=du}else rp={s:{r:2e6,c:2e6},e:{r:0,c:0}},ep=Yu=0,Wl.push([El[3],!1]),Ul=Ey(El[0]),Du=dm(Ul.Name),du=xl.dense?[]:{},e0=[],o0=[],z0=[],c0={name:Du,Hidden:0},N0.Sheets.push(c0);break;case"table":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"))}else{if(El[0].slice(-2)=="/>")break;Wl.push([El[3],!1]),y0=!(S0=[])}break;case"style":El[1]==="/"?($m=bp,Mm=jp,(Jm=xl).cellStyles&&(!Mm.Interior||(Jm=Mm.Interior).Pattern&&(Jm.patternType=pA[Jm.Pattern]||Jm.Pattern)),$m[Mm.ID]=Mm):jp=Ey(El[0]);break;case"numberformat":jp.nf=dm(Ey(El[0]).Format||"General"),d2[jp.nf]&&(jp.nf=d2[jp.nf]);for(var Km=0;Km!=392&&Kl[Km]!=jp.nf;++Km);if(Km==392){for(Km=57;Km!=392;++Km)if(Kl[Km]==null){yu(jp.nf,Km);break}}break;case"column":if(Wl[Wl.length-1][0]!=="table")break;if((Xl=Ey(El[0])).Hidden&&(Xl.hidden=!0,delete Xl.Hidden),Xl.Width&&(Xl.wpx=parseInt(Xl.Width,10)),!y0&&10<Xl.wpx){y0=!0,mv=_S;for(var Z1=0;Z1<S0.length;++Z1)S0[Z1]&&rx(S0[Z1])}y0&&rx(Xl),S0[Xl.Index-1||S0.length]=Xl;for(var uy=0;uy<+Xl.Span;++uy)S0[S0.length]=E0(Xl);break;case"namedrange":if(El[1]==="/")break;N0.Names||(N0.Names=[]);var cp=am(El[0]),Kp={Name:cp.Name,Ref:zx(cp.RefersTo.slice(1),{r:0,c:0})};0<N0.Sheets.length&&(Kp.Sheet=N0.Sheets.length-1),N0.Names.push(Kp);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":break;case"font":if(El[0].slice(-2)==="/>")break;El[1]==="/"?Ap+=Al.slice($p,El.index):$p=El.index+El[0].length;break;case"interior":if(!xl.cellStyles)break;jp.Interior=Ey(El[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(El[0].slice(-2)==="/>")break;El[1]==="/"?(Mm=t0,cp=I1,Kp=Al.slice(h0,El.index),Mm[cp=(m0=m0||hp(M0))[cp]||cp]=Kp):h0=El.index+El[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"))}else Wl.push([El[3],!1]);break;case"comment":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"));(ym=b0).t=ym.v||"",ym.t=ym.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),ym.v=ym.w=ym.ixfe=void 0,R0.push(b0)}else Wl.push([El[3],!1]),b0={a:(Ul=Ey(El[0])).Author};break;case"autofilter":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"))}else El[0].charAt(El[0].length-2)!=="/"&&(ym=Ey(El[0]),du["!autofilter"]={ref:zx(ym.Range).replace(/\$/g,"")},Wl.push([El[3],!0]));break;case"name":break;case"datavalidation":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"))}else El[0].charAt(El[0].length-2)!=="/"&&Wl.push([El[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(El[1]==="/"){if((Ul=Wl.pop())[0]!==El[3])throw new Error("Bad state: "+Ul.join("|"))}else El[0].charAt(El[0].length-2)!=="/"&&Wl.push([El[3],!0]);break;case"null":break;default:if(Wl.length==0&&El[3]=="document"||Wl.length==0&&El[3]=="uof")return NC(Al,xl);var yp=!0;switch(Wl[Wl.length-1][0]){case"officedocumentsettings":switch(El[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:yp=!1}break;case"componentoptions":switch(El[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:yp=!1}break;case"excelworkbook":switch(El[3]){case"date1904":N0.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:yp=!1}break;case"workbookoptions":switch(El[3]){case"owcversion":case"height":case"width":break;default:yp=!1}break;case"worksheetoptions":switch(El[3]){case"visible":if(El[0].slice(-2)!=="/>")if(El[1]==="/")switch(Al.slice(h0,El.index)){case"SheetHidden":c0.Hidden=1;break;case"SheetVeryHidden":c0.Hidden=2}else h0=El.index+El[0].length;break;case"header":du["!margins"]||Sx(du["!margins"]={},"xlml"),isNaN(+am(El[0]).Margin)||(du["!margins"].header=+am(El[0]).Margin);break;case"footer":du["!margins"]||Sx(du["!margins"]={},"xlml"),isNaN(+am(El[0]).Margin)||(du["!margins"].footer=+am(El[0]).Margin);break;case"pagemargins":var zp=am(El[0]);du["!margins"]||Sx(du["!margins"]={},"xlml"),isNaN(+zp.Top)||(du["!margins"].top=+zp.Top),isNaN(+zp.Left)||(du["!margins"].left=+zp.Left),isNaN(+zp.Right)||(du["!margins"].right=+zp.Right),isNaN(+zp.Bottom)||(du["!margins"].bottom=+zp.Bottom);break;case"displayrighttoleft":N0.Views||(N0.Views=[]),N0.Views[0]||(N0.Views[0]={}),N0.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":break;case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":break;case"nosummaryrowsbelowdetail":du["!outline"]||(du["!outline"]={}),du["!outline"].above=!0;break;case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":du["!outline"]||(du["!outline"]={}),du["!outline"].left=!0;break;case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;default:yp=!1}break;case"pivottable":case"pivotcache":switch(El[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:yp=!1}break;case"pagebreaks":switch(El[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:yp=!1}break;case"autofilter":switch(El[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:yp=!1}break;case"querytable":switch(El[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:yp=!1}break;case"datavalidation":switch(El[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:yp=!1}break;case"sorting":case"conditionalformatting":switch(El[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:yp=!1}break;case"mapinfo":case"schema":case"data":switch(El[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:yp=!1}break;case"smarttags":break;default:yp=!1}if(yp||El[3].match(/!\[CDATA/))break;if(!Wl[Wl.length-1][1])throw"Unrecognized tag: "+El[3]+"|"+Wl.join("|");if(Wl[Wl.length-1][0]==="customdocumentproperties"){if(El[0].slice(-2)==="/>")break;El[1]==="/"?function(vp,l0,Wp,Xp){var Up=Xp;switch((Wp[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":Up=J0(Xp);break;case"i2":case"int":Up=parseInt(Xp,10);break;case"r4":case"float":Up=parseFloat(Xp);break;case"date":case"dateTime.tz":Up=Dp(Xp);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+Wp[0])}vp[dm(l0)]=Up}(Vp,I1,D0,Al.slice(h0,El.index)):h0=(D0=El).index+El[0].length;break}if(xl.WTF)throw"Unrecognized tag: "+El[3]+"|"+Wl.join("|")}return Ol={},xl.bookSheets||xl.bookProps||(Ol.Sheets=ou),Ol.SheetNames=au,Ol.Workbook=N0,Ol.SSF=E0(Kl),Ol.Props=t0,Ol.Custprops=Vp,Ol}function Nw(ga,yl){switch(Ww(yl=yl||{}),yl.type||"base64"){case"base64":return Mw(Ll(ga),yl);case"binary":case"buffer":case"file":return Mw(ga,yl);case"array":return Mw(nu(ga),yl)}}function WT(ga,yl){var xl,El,Al,Pl,Rl,Ol,Ul,Wl=[];return ga.Props&&Wl.push((xl=ga.Props,El=yl,Al=[],Ju(M0).map(function(Xl){for(var ou=0;ou<Hp.length;++ou)if(Hp[ou][1]==Xl)return Hp[ou];for(ou=0;ou<s0.length;++ou)if(s0[ou][1]==Xl)return s0[ou];throw Xl}).forEach(function(Xl){var ou;xl[Xl[1]]!=null&&(ou=(El&&El.Props&&El.Props[Xl[1]]!=null?El.Props:xl)[Xl[1]],typeof(ou=Xl[2]==="date"?new Date(ou).toISOString().replace(/\.\d*Z/,"Z"):ou)=="number"?ou=String(ou):ou===!0||ou===!1?ou=ou?"1":"0":ou instanceof Date&&(ou=new Date(ou).toISOString().replace(/\.\d*Z/,"")),Al.push(d1(M0[Xl[1]]||Xl[1],ou)))}),v0("DocumentProperties",Al.join(""),{xmlns:O1.o}))),ga.Custprops&&Wl.push((Pl=ga.Props,Rl=ga.Custprops,Ol=["Worksheets","SheetNames"],ga="CustomDocumentProperties",Ul=[],Pl&&Ju(Pl).forEach(function(Xl){if(Object.prototype.hasOwnProperty.call(Pl,Xl)){for(var ou=0;ou<Hp.length;++ou)if(Xl==Hp[ou][1])return;for(ou=0;ou<s0.length;++ou)if(Xl==s0[ou][1])return;for(ou=0;ou<Ol.length;++ou)if(Xl==Ol[ou])return;var au="string",du=typeof(du=Pl[Xl])=="number"?(au="float",String(du)):du===!0||du===!1?(au="boolean",du?"1":"0"):String(du);Ul.push(v0(dy(Xl),du,{"dt:dt":au}))}}),Rl&&Ju(Rl).forEach(function(Xl){var ou,au;Object.prototype.hasOwnProperty.call(Rl,Xl)&&(Pl&&Object.prototype.hasOwnProperty.call(Pl,Xl)||(ou="string",au=typeof(au=Rl[Xl])=="number"?(ou="float",String(au)):au===!0||au===!1?(ou="boolean",au?"1":"0"):au instanceof Date?(ou="dateTime.tz",au.toISOString()):String(au),Ul.push(v0(dy(Xl),au,{"dt:dt":ou}))))}),"<"+ga+' xmlns="'+O1.o+'">'+Ul.join("")+"</"+ga+">")),Wl.join("")}function SC(ga){return v0("NamedRange",null,{"ss:Name":ga.Name,"ss:RefersTo":"="+kw(ga.Ref,{r:0,c:0})})}function HT(ga,yl,xl,El,Al,Pl,Rl){if(!ga||ga.v==null&&ga.f==null)return"";var Ol={};if(ga.f&&(Ol["ss:Formula"]="="+bm(kw(ga.f,Rl))),ga.F&&ga.F.slice(0,yl.length)==yl&&(yl=c1(ga.F.slice(yl.length+1)),Ol["ss:ArrayRange"]="RC:R"+(yl.r==Rl.r?"":"["+(yl.r-Rl.r)+"]")+"C"+(yl.c==Rl.c?"":"["+(yl.c-Rl.c)+"]")),ga.l&&ga.l.Target&&(Ol["ss:HRef"]=bm(ga.l.Target),ga.l.Tooltip&&(Ol["x:HRefScreenTip"]=bm(ga.l.Tooltip))),xl["!merges"])for(var Ul=xl["!merges"],Wl=0;Wl!=Ul.length;++Wl)Ul[Wl].s.c==Rl.c&&Ul[Wl].s.r==Rl.r&&(Ul[Wl].e.c>Ul[Wl].s.c&&(Ol["ss:MergeAcross"]=Ul[Wl].e.c-Ul[Wl].s.c),Ul[Wl].e.r>Ul[Wl].s.r&&(Ol["ss:MergeDown"]=Ul[Wl].e.r-Ul[Wl].s.r));var Xl="",ou="";switch(ga.t){case"z":if(!El.sheetStubs)return"";break;case"n":Xl="Number",ou=String(ga.v);break;case"b":Xl="Boolean",ou=ga.v?"1":"0";break;case"e":Xl="Error",ou=op[ga.v];break;case"d":Xl="DateTime",ou=new Date(ga.v).toISOString(),ga.z==null&&(ga.z=ga.z||Kl[14]);break;case"s":Xl="String",ou=((ga.v||"")+"").replace(xv,function(au){return Jv[au]}).replace(vm,function(au){return"&#x"+au.charCodeAt(0).toString(16).toUpperCase()+";"})}return xl=ix(El.cellXfs,ga,El),Ol["ss:StyleID"]="s"+(21+xl),Ol["ss:Index"]=Rl.c+1,xl=ga.v!=null?ou:"",xl=ga.t=="z"?"":'<Data ss:Type="'+Xl+'">'+xl+"</Data>",0<(ga.c||[]).length&&(xl+=ga.c.map(function(au){var du=v0("ss:Data",(au.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return v0("Comment",du,{"ss:Author":au.a})}).join("")),v0("Cell",xl,Ol)}function qT(ga,yl){if(!ga["!ref"])return"";var xl=Sm(ga["!ref"]),El=ga["!merges"]||[],Al=0,Pl=[];ga["!cols"]&&ga["!cols"].forEach(function(Qu,ep){rx(Qu);var Su=!!Qu.width,Yu=W2(ep,Qu),ep={"ss:Index":ep+1};Su&&(ep["ss:Width"]=r2(Yu.width)),Qu.hidden&&(ep["ss:Hidden"]="1"),Pl.push(v0("Column",null,ep))});for(var Rl,Ol,Ul=Array.isArray(ga),Wl=xl.s.r;Wl<=xl.e.r;++Wl){for(var Xl=[(Rl=Wl,Ol=(ga["!rows"]||[])[Wl],Rl='<Row ss:Index="'+(Rl+1)+'"',Ol&&(Ol.hpt&&!Ol.hpx&&(Ol.hpx=Ux(Ol.hpt)),Ol.hpx&&(Rl+=' ss:AutoFitHeight="0" ss:Height="'+Ol.hpx+'"'),Ol.hidden&&(Rl+=' ss:Hidden="1"')),Rl+">")],ou=xl.s.c;ou<=xl.e.c;++ou){for(var au,du,Du,xu=!1,Al=0;Al!=El.length;++Al)if(!(El[Al].s.c>ou||El[Al].s.r>Wl||El[Al].e.c<ou||El[Al].e.r<Wl)){El[Al].s.c==ou&&El[Al].s.r==Wl||(xu=!0);break}xu||(du=cm(au={r:Wl,c:ou}),Du=Ul?(ga[Wl]||[])[ou]:ga[du],Xl.push(HT(Du,du,ga,yl,0,0,au)))}Xl.push("</Row>"),2<Xl.length&&Pl.push(Xl.join(""))}return Pl.join("")}function VT(ga,yl,xl){var El=[],Pl=xl.SheetNames[ga],Al=xl.Sheets[Pl],Pl=Al?function(Rl,Ol,Ul){if(!Rl||!((Ul||{}).Workbook||{}).Names)return"";for(var Wl=Ul.Workbook.Names,Xl=[],ou=0;ou<Wl.length;++ou){var au=Wl[ou];au.Sheet==Ol&&(au.Name.match(/^_xlfn\./)||Xl.push(SC(au)))}return Xl.join("")}(Al,ga,xl):"";return 0<Pl.length&&El.push("<Names>"+Pl+"</Names>"),0<(Pl=Al?qT(Al,yl):"").length&&El.push("<Table>"+Pl+"</Table>"),El.push(function(Rl,Ol,Ul){if(!Rl)return"";var Wl=[];if(Rl["!margins"]&&(Wl.push("<PageSetup>"),Rl["!margins"].header&&Wl.push(v0("Header",null,{"x:Margin":Rl["!margins"].header})),Rl["!margins"].footer&&Wl.push(v0("Footer",null,{"x:Margin":Rl["!margins"].footer})),Wl.push(v0("PageMargins",null,{"x:Bottom":Rl["!margins"].bottom||"0.75","x:Left":Rl["!margins"].left||"0.7","x:Right":Rl["!margins"].right||"0.7","x:Top":Rl["!margins"].top||"0.75"})),Wl.push("</PageSetup>")),Ul&&Ul.Workbook&&Ul.Workbook.Sheets&&Ul.Workbook.Sheets[Ol])if(Ul.Workbook.Sheets[Ol].Hidden)Wl.push(v0("Visible",Ul.Workbook.Sheets[Ol].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var Xl=0;Xl<Ol&&(!Ul.Workbook.Sheets[Xl]||Ul.Workbook.Sheets[Xl].Hidden);++Xl);Xl==Ol&&Wl.push("<Selected/>")}return((((Ul||{}).Workbook||{}).Views||[])[0]||{}).RTL&&Wl.push("<DisplayRightToLeft/>"),Rl["!protect"]&&(Wl.push(d1("ProtectContents","True")),Rl["!protect"].objects&&Wl.push(d1("ProtectObjects","True")),Rl["!protect"].scenarios&&Wl.push(d1("ProtectScenarios","True")),Rl["!protect"].selectLockedCells==null||Rl["!protect"].selectLockedCells?Rl["!protect"].selectUnlockedCells==null||Rl["!protect"].selectUnlockedCells||Wl.push(d1("EnableSelection","UnlockedCells")):Wl.push(d1("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(ou){Rl["!protect"][ou[0]]&&Wl.push("<"+ou[1]+"/>")})),Wl.length==0?"":v0("WorksheetOptions",Wl.join(""),{xmlns:O1.x})}(Al,ga,xl)),El.join("")}function GT(ga,yl){yl=yl||{},ga.SSF||(ga.SSF=E0(Kl)),ga.SSF&&(Sp(),Hu(ga.SSF),yl.revssf=xp(ga.SSF),yl.revssf[ga.SSF[65535]]=0,yl.ssf=ga.SSF,yl.cellXfs=[],ix(yl.cellXfs,{},{revssf:{General:0}}));var xl=[];xl.push(WT(ga,yl)),xl.push(""),xl.push(""),xl.push("");for(var El,Al=0;Al<ga.SheetNames.length;++Al)xl.push(v0("Worksheet",VT(Al,yl,ga),{"ss:Name":bm(ga.SheetNames[Al])}));return xl[2]=(El=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'],yl.cellXfs.forEach(function(Pl,Rl){var Ol=[];Ol.push(v0("NumberFormat",null,{"ss:Format":bm(Kl[Pl.numFmtId])})),Rl={"ss:ID":"s"+(21+Rl)},El.push(v0("Style",Ol.join(""),Rl))}),v0("Styles",El.join(""))),xl[3]=function(Pl){if(!((Pl||{}).Workbook||{}).Names)return"";for(var Rl=Pl.Workbook.Names,Ol=[],Ul=0;Ul<Rl.length;++Ul){var Wl=Rl[Ul];Wl.Sheet==null&&(Wl.Name.match(/^_xlfn\./)||Ol.push(SC(Wl)))}return v0("Names",Ol.join(""))}(ga),t1+v0("Workbook",xl.join(""),{xmlns:O1.ss,"xmlns:o":O1.o,"xmlns:x":O1.x,"xmlns:ss":O1.ss,"xmlns:dt":O1.dt,"xmlns:html":O1.html})}function KT(ga){var yl={},xl=ga.content;return xl.l=28,yl.AnsiUserType=xl.read_shift(0,"lpstr-ansi"),yl.AnsiClipboardFormat=ex(xl,1),xl.length-xl.l<=4?yl:(ga=xl.read_shift(4),ga==0||40<ga?yl:(xl.l-=4,yl.Reserved1=xl.read_shift(0,"lpstr-ansi"),xl.length-xl.l<=4||(ga=xl.read_shift(4))!==1907505652?yl:(yl.UnicodeClipboardFormat=ex(xl,2),(ga=xl.read_shift(4))==0||40<ga?yl:(xl.l-=4,void(yl.Reserved2=xl.read_shift(0,"lpwstr"))))))}var YT=[60,1084,2066,2165,2175];function Oy(ga,yl,xl){if(ga.t!=="z"&&ga.XF){var El,Al=0;try{Al=ga.z||ga.XF.numFmtId||0,yl.cellNF&&(ga.z=Kl[Al])}catch(Pl){if(yl.WTF)throw Pl}if(!yl||yl.cellText!==!1)try{ga.t==="e"?ga.w=ga.w||op[ga.v]:Al===0||Al=="General"?ga.t==="n"?(0|ga.v)===ga.v?ga.w=ga.v.toString(10):ga.w=Xu(ga.v):ga.w=Gu(ga.v):ga.w=Vu(Al,ga.v,{date1904:!!xl,dateNF:yl&&yl.dateNF})}catch(Pl){if(yl.WTF)throw Pl}yl.cellDates&&Al&&ga.t=="n"&&hu(Kl[Al]||String(Al))&&(El=gu(ga.v))&&(ga.t="d",ga.v=new Date(El.y,El.m-1,El.d,El.H,El.M,El.S,El.u))}}function q2(ga,yl,xl){return{v:ga,ixfe:yl,t:xl}}function XT(ga,yl){var xl={opts:{}},El={};function Al(Up){return!(Up<8)&&Up<64&&bp[Up-8]||Iu[Up]}function Pl(Up,_g,p0){if(!(1<y0||p0.sheetRows&&Up.r>=p0.sheetRows)){var X0,U0,k0;if(p0.cellStyles&&_g.XF&&_g.XF.data&&(U0=p0,(k0=(X0=_g).XF.data)&&k0.patternType&&U0&&U0.cellStyles&&(X0.s={},X0.s.patternType=k0.patternType,(U0=t2(Al(k0.icvFore)))&&(X0.s.fgColor={rgb:U0}),(U0=t2(Al(k0.icvBack)))&&(X0.s.bgColor={rgb:U0}))),delete _g.ixfe,delete _g.XF,Su=cm(Rl=Up),du&&du.s&&du.e||(du={s:{r:0,c:0},e:{r:0,c:0}}),Up.r<du.s.r&&(du.s.r=Up.r),Up.c<du.s.c&&(du.s.c=Up.c),Up.r+1>du.e.r&&(du.e.r=Up.r+1),Up.c+1>du.e.c&&(du.e.c=Up.c+1),p0.cellFormula&&_g.f){for(var W0=0;W0<ep.length;++W0)if(!(ep[W0][0].s.c>Up.c||ep[W0][0].s.r>Up.r||ep[W0][0].e.c<Up.c||ep[W0][0].e.r<Up.r)){_g.F=fm(ep[W0][0]),ep[W0][0].s.c==Up.c&&ep[W0][0].s.r==Up.r||delete _g.f,_g.f&&(_g.f=""+Rv(ep[W0][1],0,Up,R0,$p));break}}p0.dense?(ou[Up.r]||(ou[Up.r]=[]),ou[Up.r][Up.c]=_g):ou[Su]=_g}}var Rl,Ol,Ul,Wl,Xl,ou=yl.dense?[]:{},au={},du={},Du=null,xu=[],Qu="",Bu={},Su="",Yu={},ep=[],rp=[],bp=[],jp={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Ap={},$p={enc:!1,sbcch:0,snames:[],sharedf:Yu,arrayf:ep,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!yl&&!!yl.cellStyles,WTF:!!yl&&!!yl.wtf};yl.password&&($p.password=yl.password);var e0=[],t0=[],Vp=[],h0=[],D0=!1,R0=[];R0.SheetNames=$p.snames,R0.sharedf=$p.sharedf,R0.arrayf=$p.arrayf,R0.names=[],R0.XTI=[];var b0,S0=0,y0=0,o0=0,z0=[],G0=[];$p.codepage=1200,Sl(1200);for(var rm=!1;ga.l<ga.length-1;){var Om=ga.l,N0=ga.read_shift(2);if(N0===0&&S0===10)break;var c0=ga.l===ga.length?0:ga.read_shift(2),ym=Lw[N0];if(ym&&ym.f){if(yl.bookSheets&&S0===133&&N0!==133)break;if(S0=N0,ym.r===2||ym.r==12){var $m=ga.read_shift(2);if(c0-=2,!$p.enc&&$m!==N0&&((255&$m)<<8|$m>>8)!==N0)throw new Error("rt mismatch: "+$m+"!="+N0);ym.r==12&&(ga.l+=10,c0-=10)}var Mm,Jm,I1,Cp={},Cp=N0===10?ym.f(ga,c0,$p):function(Up,_g,p0,X0,U0){var k0=X0,W0=[],Q0=p0.slice(p0.l,p0.l+k0);if(U0&&U0.enc&&U0.enc.insitu&&0<Q0.length)switch(Up){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:U0.enc.insitu(Q0)}W0.push(Q0),p0.l+=k0;for(var em=Wv(p0,p0.l),A0=Lw[em],g0=0;A0!=null&&-1<YT.indexOf(em);)k0=Wv(p0,p0.l+2),g0=p0.l+4,em==2066?g0+=4:em!=2165&&em!=2175||(g0+=12),Q0=p0.slice(g0,p0.l+4+k0),W0.push(Q0),p0.l+=4+k0,A0=Lw[em=Wv(p0,p0.l)];var tm=lu(W0);D1(tm,0);var L0=0;tm.lens=[];for(var w0=0;w0<W0.length;++w0)tm.lens.push(L0),L0+=W0[w0].length;if(tm.length<X0)throw"XLS Record 0x"+Up.toString(16)+" Truncated: "+tm.length+" < "+X0;return _g.f(tm,tm.length,U0)}(N0,ym,ga,c0,$p);if(y0!=0||[9,521,1033,2057].indexOf(S0)!==-1)switch(N0){case 34:xl.opts.Date1904=jp.WBProps.date1904=Cp;break;case 134:xl.opts.WriteProtect=!0;break;case 47:if($p.enc||(ga.l=0),$p.enc=Cp,!yl.password)throw new Error("File is password-protected");if(Cp.valid==null)throw new Error("Encryption scheme unsupported");if(!Cp.valid)throw new Error("Password is incorrect");break;case 92:$p.lastuser=Cp;break;case 66:var Qm=Number(Cp);switch(Qm){case 21010:Qm=1200;break;case 32768:Qm=1e4;break;case 32769:Qm=1252}Sl($p.codepage=Qm),rm=!0;break;case 317:$p.rrtabid=Cp;break;case 25:$p.winlocked=Cp;break;case 439:xl.opts.RefreshAll=Cp;break;case 12:xl.opts.CalcCount=Cp;break;case 16:xl.opts.CalcDelta=Cp;break;case 17:xl.opts.CalcIter=Cp;break;case 13:xl.opts.CalcMode=Cp;break;case 14:xl.opts.CalcPrecision=Cp;break;case 95:xl.opts.CalcSaveRecalc=Cp;break;case 15:$p.CalcRefMode=Cp;break;case 2211:xl.opts.FullCalc=Cp;break;case 129:Cp.fDialog&&(ou["!type"]="dialog"),Cp.fBelow||((ou["!outline"]||(ou["!outline"]={})).above=!0),Cp.fRight||((ou["!outline"]||(ou["!outline"]={})).left=!0);break;case 224:rp.push(Cp);break;case 430:R0.push([Cp]),R0[R0.length-1].XTI=[];break;case 35:case 547:R0[R0.length-1].push(Cp);break;case 24:case 536:b0={Name:Cp.Name,Ref:Rv(Cp.rgce,0,null,R0,$p)},0<Cp.itab&&(b0.Sheet=Cp.itab-1),R0.names.push(b0),R0[0]||(R0[0]=[],R0[0].XTI=[]),R0[R0.length-1].push(Cp),Cp.Name=="_xlnm._FilterDatabase"&&0<Cp.itab&&Cp.rgce&&Cp.rgce[0]&&Cp.rgce[0][0]&&Cp.rgce[0][0][0]=="PtgArea3d"&&(G0[Cp.itab-1]={ref:fm(Cp.rgce[0][0][1][2])});break;case 22:$p.ExternCount=Cp;break;case 23:R0.length==0&&(R0[0]=[],R0[0].XTI=[]),R0[R0.length-1].XTI=R0[R0.length-1].XTI.concat(Cp),R0.XTI=R0.XTI.concat(Cp);break;case 2196:if($p.biff<8)break;b0!=null&&(b0.Comment=Cp[1]);break;case 18:ou["!protect"]=Cp;break;case 19:Cp!==0&&$p.WTF&&console.error("Password verifier: "+Cp);break;case 133:au[Cp.pos]=Cp,$p.snames.push(Cp.name);break;case 10:if(--y0)break;du.e&&(0<du.e.r&&0<du.e.c&&(du.e.r--,du.e.c--,ou["!ref"]=fm(du),yl.sheetRows&&yl.sheetRows<=du.e.r&&(Km=du.e.r,du.e.r=yl.sheetRows-1,ou["!fullref"]=ou["!ref"],ou["!ref"]=fm(du),du.e.r=Km),du.e.r++,du.e.c++),0<e0.length&&(ou["!merges"]=e0),0<t0.length&&(ou["!objects"]=t0),0<Vp.length&&(ou["!cols"]=Vp),0<h0.length&&(ou["!rows"]=h0),jp.Sheets.push(Ap)),Qu===""?Bu=ou:El[Qu]=ou,ou=yl.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if($p.biff===8&&($p.biff={9:2,521:3,1033:4}[N0]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Cp.BIFFVer]||8),$p.biffguess=Cp.BIFFVer==0,Cp.BIFFVer==0&&Cp.dt==4096&&($p.biff=5,rm=!0,Sl($p.codepage=28591)),$p.biff==8&&Cp.BIFFVer==0&&Cp.dt==16&&($p.biff=2),y0++)break;var Km,ou=yl.dense?[]:{};$p.biff<8&&!rm&&(rm=!0,Sl($p.codepage=yl.codepage||1252)),$p.biff<5||Cp.BIFFVer==0&&Cp.dt==4096?(Qu===""&&(Qu="Sheet1"),du={s:{r:0,c:0},e:{r:0,c:0}},Km={pos:ga.l-c0,name:Qu},au[Km.pos]=Km,$p.snames.push(Qu)):Qu=(au[Om]||{name:""}).name,Cp.dt==32&&(ou["!type"]="chart"),Cp.dt==64&&(ou["!type"]="macro"),e0=[],t0=[],$p.arrayf=ep=[],Vp=[],D0=!(h0=[]),Ap={Hidden:(au[Om]||{hs:0}).hs,name:Qu};break;case 515:case 3:case 2:ou["!type"]=="chart"&&(yl.dense?(ou[Cp.r]||[])[Cp.c]:ou[cm({c:Cp.c,r:Cp.r})])&&++Cp.c,cp={ixfe:Cp.ixfe,XF:rp[Cp.ixfe]||{},v:Cp.val,t:"n"},0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Cp.c,r:Cp.r},cp,yl);break;case 5:case 517:cp={ixfe:Cp.ixfe,XF:rp[Cp.ixfe],v:Cp.val,t:Cp.t},0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Cp.c,r:Cp.r},cp,yl);break;case 638:cp={ixfe:Cp.ixfe,XF:rp[Cp.ixfe],v:Cp.rknum,t:"n"},0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Cp.c,r:Cp.r},cp,yl);break;case 189:for(var Z1=Cp.c;Z1<=Cp.C;++Z1){var uy=Cp.rkrec[Z1-Cp.c][0],cp={ixfe:uy,XF:rp[uy],v:Cp.rkrec[Z1-Cp.c][1],t:"n"};0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Z1,r:Cp.r},cp,yl)}break;case 6:case 518:case 1030:if(Cp.val=="String"){Du=Cp;break}(cp=q2(Cp.val,Cp.cell.ixfe,Cp.tt)).XF=rp[cp.ixfe],yl.cellFormula&&(!((Kp=Cp.formula)&&Kp[0]&&Kp[0][0]&&Kp[0][0][0]=="PtgExp")||Yu[I1=cm({r:Mm=Kp[0][0][1][0],c:Jm=Kp[0][0][1][1]})]?cp.f=""+Rv(Cp.formula,0,Cp.cell,R0,$p):cp.F=((yl.dense?(ou[Mm]||[])[Jm]:ou[I1])||{}).F),0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl(Cp.cell,cp,yl),Du=Cp;break;case 7:case 519:if(!Du)throw new Error("String record expects Formula");(cp=q2(Du.val=Cp,Du.cell.ixfe,"s")).XF=rp[cp.ixfe],yl.cellFormula&&(cp.f=""+Rv(Du.formula,0,Du.cell,R0,$p)),0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl(Du.cell,cp,yl),Du=null;break;case 33:case 545:ep.push(Cp);var Kp=cm(Cp[0].s),yp=yl.dense?(ou[Cp[0].s.r]||[])[Cp[0].s.c]:ou[Kp];if(yl.cellFormula&&yp){if(!Du||!Kp||!yp)break;yp.f=""+Rv(Cp[1],0,Cp[0],R0,$p),yp.F=fm(Cp[0])}break;case 1212:if(!yl.cellFormula)break;if(Su){if(!Du)break;Yu[cm(Du.cell)]=Cp[0],((yp=yl.dense?(ou[Du.cell.r]||[])[Du.cell.c]:ou[cm(Du.cell)])||{}).f=""+Rv(Cp[0],0,Rl,R0,$p)}break;case 253:cp=q2(xu[Cp.isst].t,Cp.ixfe,"s"),xu[Cp.isst].h&&(cp.h=xu[Cp.isst].h),cp.XF=rp[cp.ixfe],0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Cp.c,r:Cp.r},cp,yl);break;case 513:yl.sheetStubs&&(cp={ixfe:Cp.ixfe,XF:rp[Cp.ixfe],t:"z"},0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Cp.c,r:Cp.r},cp,yl));break;case 190:if(yl.sheetStubs)for(var zp=Cp.c;zp<=Cp.C;++zp){var vp=Cp.ixfe[zp-Cp.c];cp={ixfe:vp,XF:rp[vp],t:"z"},0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:zp,r:Cp.r},cp,yl)}break;case 214:case 516:case 4:(cp=q2(Cp.val,Cp.ixfe,"s")).XF=rp[cp.ixfe],0<o0&&(cp.z=z0[cp.ixfe>>8&63]),Oy(cp,yl,xl.opts.Date1904),Pl({c:Cp.c,r:Cp.r},cp,yl);break;case 0:case 512:y0===1&&(du=Cp);break;case 252:xu=Cp;break;case 1054:if($p.biff==4){z0[o0++]=Cp[1];for(var l0=0;l0<o0+163&&Kl[l0]!=Cp[1];++l0);163<=l0&&yu(Cp[1],o0+163)}else yu(Cp[1],Cp[0]);break;case 30:z0[o0++]=Cp;for(var Wp=0;Wp<o0+163&&Kl[Wp]!=Cp;++Wp);163<=Wp&&yu(Cp,o0+163);break;case 229:e0=e0.concat(Cp);break;case 93:t0[Cp.cmo[0]]=$p.lastobj=Cp;break;case 438:$p.lastobj.TxO=Cp;break;case 127:$p.lastobj.ImData=Cp;break;case 440:for(Ul=Cp[0].s.r;Ul<=Cp[0].e.r;++Ul)for(Ol=Cp[0].s.c;Ol<=Cp[0].e.c;++Ol)(yp=yl.dense?(ou[Ul]||[])[Ol]:ou[cm({c:Ol,r:Ul})])&&(yp.l=Cp[1]);break;case 2048:for(Ul=Cp[0].s.r;Ul<=Cp[0].e.r;++Ul)for(Ol=Cp[0].s.c;Ol<=Cp[0].e.c;++Ol)(yp=yl.dense?(ou[Ul]||[])[Ol]:ou[cm({c:Ol,r:Ul})])&&yp.l&&(yp.l.Tooltip=Cp[1]);break;case 28:if($p.biff<=5&&2<=$p.biff)break;yp=yl.dense?(ou[Cp[0].r]||[])[Cp[0].c]:ou[cm(Cp[0])];var Xp=t0[Cp[2]];yp||(yp=yl.dense?(ou[Cp[0].r]||(ou[Cp[0].r]=[]),ou[Cp[0].r][Cp[0].c]={t:"z"}):ou[cm(Cp[0])]={t:"z"},du.e.r=Math.max(du.e.r,Cp[0].r),du.s.r=Math.min(du.s.r,Cp[0].r),du.e.c=Math.max(du.e.c,Cp[0].c),du.s.c=Math.min(du.s.c,Cp[0].c)),yp.c||(yp.c=[]),Xp={a:Cp[1],t:Xp.TxO.t},yp.c.push(Xp);break;case 2173:rp[Cp.ixfe],Cp.ext.forEach(function(_g){_g[0]});break;case 125:if(!$p.cellStyles)break;for(;Cp.e>=Cp.s;)Vp[Cp.e--]={width:Cp.w/256,level:Cp.level||0,hidden:!!(1&Cp.flags)},D0||(D0=!0,_w(Cp.w/256)),rx(Vp[Cp.e+1]);break;case 520:Xp={},Cp.level!=null&&((h0[Cp.r]=Xp).level=Cp.level),Cp.hidden&&((h0[Cp.r]=Xp).hidden=!0),Cp.hpt&&((h0[Cp.r]=Xp).hpt=Cp.hpt,Xp.hpx=Ux(Cp.hpt));break;case 38:case 39:case 40:case 41:ou["!margins"]||Sx(ou["!margins"]={}),ou["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[N0]]=Cp;break;case 161:ou["!margins"]||Sx(ou["!margins"]={}),ou["!margins"].header=Cp.header,ou["!margins"].footer=Cp.footer;break;case 574:Cp.RTL&&(jp.Views[0].RTL=!0);break;case 146:bp=Cp;break;case 2198:Xl=Cp;break;case 140:Wl=Cp;break;case 442:Qu?Ap.CodeName=Cp||Ap.name:jp.WBProps.CodeName=Cp||"ThisWorkbook"}}else ym||console.error("Missing Info for XLS Record 0x"+N0.toString(16)),ga.l+=c0}return xl.SheetNames=Ju(au).sort(function(Up,_g){return Number(Up)-Number(_g)}).map(function(Up){return au[Up].name}),yl.bookSheets||(xl.Sheets=El),!xl.SheetNames.length&&Bu["!ref"]?(xl.SheetNames.push("Sheet1"),xl.Sheets&&(xl.Sheets.Sheet1=Bu)):xl.Preamble=Bu,xl.Sheets&&G0.forEach(function(Up,_g){xl.Sheets[xl.SheetNames[_g]]["!autofilter"]=Up}),xl.Strings=xu,xl.SSF=E0(Kl),$p.enc&&(xl.Encryption=$p.enc),Xl&&(xl.Themes=Xl),xl.Metadata={},Wl!==void 0&&(xl.Metadata.Country=Wl),0<R0.names.length&&(jp.Names=R0.names),xl.Workbook=jp,xl}var f2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function V2(ga,yl){var xl,El,Al,Pl,Rl;if(Ww(yl=yl||{}),Cl(),yl.codepage&&wl(yl.codepage),ga.FullPaths){if(Pp.find(ga,"/encryption"))throw new Error("File is password-protected");xl=Pp.find(ga,"!CompObj"),Al=Pp.find(ga,"/Workbook")||Pp.find(ga,"/Book")}else{switch(yl.type){case"base64":ga=Gl(Ll(ga));break;case"binary":ga=Gl(ga);break;case"buffer":break;case"array":Array.isArray(ga)||(ga=Array.prototype.slice.call(ga))}D1(ga,0),Al={content:ga}}if(xl&&KT(xl),yl.bookProps&&!yl.bookSheets)El={};else{var Ol=Nl?"buffer":"array";if(Al&&Al.content)El=XT(Al.content,yl);else if((Al=Pp.find(ga,"PerfectOffice_MAIN"))&&Al.content)El=Ex.to_workbook(Al.content,(yl.type=Ol,yl));else{if(!(Al=Pp.find(ga,"NativeContent_MAIN"))||!Al.content)throw(Al=Pp.find(ga,"MN0"))&&Al.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");El=Ex.to_workbook(Al.content,(yl.type=Ol,yl))}yl.bookVBA&&ga.FullPaths&&Pp.find(ga,"/_VBA_PROJECT_CUR/VBA/dir")&&(El.vbaraw=(Pl=ga,Rl=Pp.utils.cfb_new({root:"R"}),Pl.FullPaths.forEach(function(Ul,Wl){Ul.slice(-1)!=="/"&&Ul.match(/_VBA_PROJECT_CUR/)&&(Ul=Ul.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,""),Pp.utils.cfb_add(Rl,Ul,Pl.FileIndex[Wl].content))}),Pp.write(Rl)))}return Ol={},ga.FullPaths&&function(Ul,Wl,Xl){var ou=Pp.find(Ul,"/!DocumentSummaryInformation");if(ou&&0<ou.size)try{var au,du=gv(ou,yy,f2.DSI);for(au in du)Wl[au]=du[au]}catch(Bu){if(Xl.WTF)throw Bu}var Du=Pp.find(Ul,"/!SummaryInformation");if(Du&&0<Du.size)try{var xu,Qu=gv(Du,Hy,f2.SI);for(xu in Qu)Wl[xu]==null&&(Wl[xu]=Qu[xu])}catch(Bu){if(Xl.WTF)throw Bu}Wl.HeadingPairs&&Wl.TitlesOfParts&&(x0(Wl.HeadingPairs,Wl.TitlesOfParts,Wl,Xl),delete Wl.HeadingPairs,delete Wl.TitlesOfParts)}(ga,Ol,yl),El.Props=El.Custprops=Ol,yl.bookFiles&&(El.cfb=ga),El}function ZT(ga,Pl){var xl,El,Al=Pl||{},Pl=Pp.utils.cfb_new({root:"R"}),Rl="/Workbook";switch(Al.bookType||"xls"){case"xls":Al.bookType="biff8";case"xla":Al.bookType||(Al.bookType="xla");case"biff8":Rl="/Workbook",Al.biff=8;break;case"biff5":Rl="/Book",Al.biff=5;break;default:throw new Error("invalid type "+Al.bookType+" for XLS CFB")}return Pp.utils.cfb_add(Pl,Rl,CC(ga,Al)),Al.biff==8&&(ga.Props||ga.Custprops)&&function(Ol,Ul){var Wl,Xl=[],ou=[],au=[],du=0,Du=_d(yy,"n"),xu=_d(Hy,"n");if(Ol.Props)for(Wl=Ju(Ol.Props),du=0;du<Wl.length;++du)(Object.prototype.hasOwnProperty.call(Du,Wl[du])?Xl:Object.prototype.hasOwnProperty.call(xu,Wl[du])?ou:au).push([Wl[du],Ol.Props[Wl[du]]]);if(Ol.Custprops)for(Wl=Ju(Ol.Custprops),du=0;du<Wl.length;++du)Object.prototype.hasOwnProperty.call(Ol.Props||{},Wl[du])||(Object.prototype.hasOwnProperty.call(Du,Wl[du])?Xl:Object.prototype.hasOwnProperty.call(xu,Wl[du])?ou:au).push([Wl[du],Ol.Custprops[Wl[du]]]);for(var Qu=[],du=0;du<au.length;++du)-1<_v.indexOf(au[du][0])||-1<C0.indexOf(au[du][0])||au[du][1]!=null&&Qu.push(au[du]);ou.length&&Pp.utils.cfb_add(Ul,"/SummaryInformation",Nv(ou,f2.SI,xu,Hy)),(Xl.length||Qu.length)&&Pp.utils.cfb_add(Ul,"/DocumentSummaryInformation",Nv(Xl,f2.DSI,Du,yy,Qu.length?Qu:null,f2.UDI))}(ga,Pl),Al.biff==8&&ga.vbaraw&&(xl=Pl,(El=Pp.read(ga.vbaraw,{type:typeof ga.vbaraw=="string"?"binary":"buffer"})).FullPaths.forEach(function(Ol,Ul){Ul==0||(Ol=Ol.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/")).slice(-1)!=="/"&&Pp.utils.cfb_add(xl,Ol,El.FileIndex[Ul].content)})),Pl}var p2={0:{f:function(ga,yl){var xl={},El=ga.l+yl;xl.r=ga.read_shift(4),ga.l+=4;var Al=ga.read_shift(2);return ga.l+=1,yl=ga.read_shift(1),ga.l=El,7&yl&&(xl.level=7&yl),16&yl&&(xl.hidden=!0),32&yl&&(xl.hpt=Al/20),xl}},1:{f:function(ga){return[tv(ga)]}},2:{f:function(ga){return[tv(ga),mx(ga),"n"]}},3:{f:function(ga){return[tv(ga),ga.read_shift(1),"e"]}},4:{f:function(ga){return[tv(ga),ga.read_shift(1),"b"]}},5:{f:function(ga){return[tv(ga),M1(ga),"n"]}},6:{f:function(ga){return[tv(ga),R1(ga),"str"]}},7:{f:function(ga){return[tv(ga),ga.read_shift(4),"s"]}},8:{f:function(ga,yl,xl){var El=ga.l+yl,Al=tv(ga);Al.r=xl["!row"];var Pl=[Al,R1(ga),"str"];return xl.cellFormula?(ga.l+=2,yl=z2(ga,El-ga.l,xl),Pl[3]=Rv(yl,0,Al,xl.supbooks,xl)):ga.l=El,Pl}},9:{f:function(ga,yl,xl){var El=ga.l+yl,Al=tv(ga);Al.r=xl["!row"];var Pl=[Al,M1(ga),"n"];return xl.cellFormula?(ga.l+=2,yl=z2(ga,El-ga.l,xl),Pl[3]=Rv(yl,0,Al,xl.supbooks,xl)):ga.l=El,Pl}},10:{f:function(ga,yl,xl){var El=ga.l+yl,Al=tv(ga);Al.r=xl["!row"];var Pl=[Al,ga.read_shift(1),"b"];return xl.cellFormula?(ga.l+=2,yl=z2(ga,El-ga.l,xl),Pl[3]=Rv(yl,0,Al,xl.supbooks,xl)):ga.l=El,Pl}},11:{f:function(ga,yl,xl){var El=ga.l+yl,Al=tv(ga);Al.r=xl["!row"];var Pl=[Al,ga.read_shift(1),"e"];return xl.cellFormula?(ga.l+=2,yl=z2(ga,El-ga.l,xl),Pl[3]=Rv(yl,0,Al,xl.supbooks,xl)):ga.l=El,Pl}},12:{f:function(ga){return[Fv(ga)]}},13:{f:function(ga){return[Fv(ga),mx(ga),"n"]}},14:{f:function(ga){return[Fv(ga),ga.read_shift(1),"e"]}},15:{f:function(ga){return[Fv(ga),ga.read_shift(1),"b"]}},16:{f:fC},17:{f:function(ga){return[Fv(ga),R1(ga),"str"]}},18:{f:function(ga){return[Fv(ga),ga.read_shift(4),"s"]}},19:{f:my},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(ga,Rl,Ol){var El=ga.l+Rl;ga.l+=4,ga.l+=1;var Al=ga.read_shift(4),Pl=fx(ga),Rl=GA(ga,0,Ol),Ol=zy(ga);return ga.l=El,Rl={Name:Pl,Ptg:Rl},Al<268435455&&(Rl.Sheet=Al),Ol&&(Rl.Comment=Ol),Rl}},40:{},42:{},43:{f:function(ga,yl,xl){var El={};El.sz=ga.read_shift(2)/20;var Al,Pl=(Pl=(Al=ga).read_shift(1),Al.l++,{fBold:1&Pl,fItalic:2&Pl,fUnderline:4&Pl,fStrikeout:8&Pl,fOutline:16&Pl,fShadow:32&Pl,fCondense:64&Pl,fExtend:128&Pl});switch(Pl.fItalic&&(El.italic=1),Pl.fCondense&&(El.condense=1),Pl.fExtend&&(El.extend=1),Pl.fShadow&&(El.shadow=1),Pl.fOutline&&(El.outline=1),Pl.fStrikeout&&(El.strike=1),ga.read_shift(2)===700&&(El.bold=1),ga.read_shift(2)){case 1:El.vertAlign="superscript";break;case 2:El.vertAlign="subscript"}switch((Pl=ga.read_shift(1))!=0&&(El.underline=Pl),0<(Pl=ga.read_shift(1))&&(El.family=Pl),0<(Pl=ga.read_shift(1))&&(El.charset=Pl),ga.l++,El.color=function(Rl){var Ol={},Ul=Rl.read_shift(1)>>>1,Wl=Rl.read_shift(1),Xl=Rl.read_shift(2,"i"),ou=Rl.read_shift(1),au=Rl.read_shift(1),du=Rl.read_shift(1);switch(Rl.l++,Ul){case 0:Ol.auto=1;break;case 1:Ol.index=Wl;var Du=Iu[Wl];Du&&(Ol.rgb=t2(Du));break;case 2:Ol.rgb=t2([ou,au,du]);break;case 3:Ol.theme=Wl}return Xl!=0&&(Ol.tint=0<Xl?Xl/32767:Xl/32768),Ol}(ga),ga.read_shift(1)){case 1:El.scheme="major";break;case 2:El.scheme="minor"}return El.name=R1(ga),El}},44:{f:function(ga,yl){return[ga.read_shift(2),R1(ga)]}},45:{f:yA},46:{f:lp},47:{f:function(ga,Al){var xl=ga.l+Al,El=ga.read_shift(2),Al=ga.read_shift(2);return ga.l=xl,{ixfe:El,numFmtId:Al}}},48:{},49:{f:function(ga){return ga.read_shift(4,"i")}},50:{},51:{f:function(ga){for(var yl=[],xl=ga.read_shift(4);0<xl--;)yl.push([ga.read_shift(4),ga.read_shift(4)]);return yl}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UE},62:{f:function(ga){return[tv(ga),my(ga),"is"]}},63:{f:function(ga){var yl={};yl.i=ga.read_shift(4);var xl={};return xl.r=ga.read_shift(4),xl.c=ga.read_shift(4),yl.r=cm(xl),2&(ga=ga.read_shift(1))&&(yl.l="1"),8&ga&&(yl.a="1"),yl}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:F1,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(ga){var yl=ga.read_shift(2);return ga.l+=28,{RTL:32&yl}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(ga,yl){var xl={},El=ga[ga.l];return++ga.l,xl.above=!(64&El),xl.left=!(128&El),ga.l+=18,xl.name=Qx(ga),xl}},148:{f:H2,p:16},151:{f:function(){}},152:{},153:{f:function(ga,yl){var xl={},El=ga.read_shift(4);return xl.defaultThemeVersion=ga.read_shift(4),0<(ga=8<yl?R1(ga):"").length&&(xl.CodeName=ga),xl.autoCompressPictures=!!(65536&El),xl.backupFile=!!(64&El),xl.checkCompatibility=!!(4096&El),xl.date1904=!!(1&El),xl.filterPrivacy=!!(8&El),xl.hidePivotFieldList=!!(1024&El),xl.promptedSolutions=!!(16&El),xl.publishItems=!!(2048&El),xl.refreshAllConnections=!!(262144&El),xl.saveExternalLinkValues=!!(128&El),xl.showBorderUnselectedTables=!!(4&El),xl.showInkAnnotation=!!(32&El),xl.showObjects=["all","placeholders","none"][El>>13&3],xl.showPivotChartFilter=!!(32768&El),xl.updateLinks=["userSet","never","always"][El>>8&3],xl}},154:{},155:{},156:{f:function(ga,yl){var xl={};return xl.Hidden=ga.read_shift(4),xl.iTabID=ga.read_shift(4),xl.strRelID=gx(ga),xl.name=R1(ga),xl}},157:{},158:{},159:{T:1,f:function(ga){return[ga.read_shift(4),ga.read_shift(4)]}},160:{T:-1},161:{T:1,f:jv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Hx},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(ga,yl){return{flags:ga.read_shift(4),version:ga.read_shift(4),name:R1(ga)}}},336:{T:-1},337:{f:function(ga){return ga.l+=4,ga.read_shift(4)!=0},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:gx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:LE},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(ga,Pl,xl){var El=ga.l+Pl,Al=Fx(ga),Pl=ga.read_shift(1);return(Al=[Al])[2]=Pl,xl.cellFormula?(xl=VA(ga,El-ga.l,xl),Al[1]=xl):ga.l=El,Al}},427:{f:function(ga,Al,xl){var El=ga.l+Al,Al=[jv(ga)];return xl.cellFormula&&(xl=KA(ga,El-ga.l,xl),Al[1]=xl),ga.l=El,Al}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(ga){var yl={};return pC.forEach(function(xl){yl[xl]=M1(ga)}),yl}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(ga,Ol){var xl=ga.l+Ol,El=jv(ga),Al=zy(ga),Pl=R1(ga),Rl=R1(ga),Ol=R1(ga);return ga.l=xl,Ol={rfx:El,relId:Al,loc:Pl,display:Ol},Rl&&(Ol.Tooltip=Rl),Ol}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:gx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:d0},633:{T:1},634:{T:-1},635:{T:1,f:function(ga){var yl={};yl.iauthor=ga.read_shift(4);var xl=jv(ga);return yl.rfx=xl.s,yl.ref=cm(xl.s),ga.l+=16,yl}},636:{T:-1},637:{f:Dv},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(ga,yl){return ga.l+=10,{name:R1(ga)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Lw={6:{f:Iw},10:{f:Yv},12:{f:mm},13:{f:mm},14:{f:v1},15:{f:v1},16:{f:M1},17:{f:v1},18:{f:v1},19:{f:mm},20:{f:jE},21:{f:jE},23:{f:LE},24:{f:NE},25:{f:v1},26:{},27:{},28:{f:function(ga,yl,xl){return function(El,Al){if(!(Al.biff<8)){var Pl=El.read_shift(2),Rl=El.read_shift(2),Ol=El.read_shift(2),Ul=El.read_shift(2),Wl=N1(El,0,Al);return Al.biff<8&&El.read_shift(1),[{r:Pl,c:Rl},Wl,Ul,Ol]}}(ga,xl)}},29:{},34:{f:v1},35:{f:ME},38:{f:M1},39:{f:M1},40:{f:M1},41:{f:M1},42:{f:v1},43:{f:v1},47:{f:function(ga,yl,xl){var El={Type:8<=xl.biff?ga.read_shift(2):0};return El.Type?hA(ga,yl-2,El):(yl=ga,xl.biff,ga=xl,xl=El,yl={key:mm(yl),verificationBytes:mm(yl)},ga.password&&(yl.verifier=Ew(ga.password)),xl.valid=yl.verificationBytes===yl.verifier,xl.valid&&(xl.insitu=uA(ga.password))),El}},49:{f:function(ga,yl,xl){var El={dyHeight:ga.read_shift(2),fl:ga.read_shift(2)};switch(xl&&xl.biff||8){case 2:break;case 3:case 4:ga.l+=2;break;default:ga.l+=10}return El.name=k1(ga,0,xl),El}},51:{f:mm},60:{},61:{f:function(ga){return{Pos:[ga.read_shift(2),ga.read_shift(2)],Dim:[ga.read_shift(2),ga.read_shift(2)],Flags:ga.read_shift(2),CurTab:ga.read_shift(2),FirstTab:ga.read_shift(2),Selected:ga.read_shift(2),TabRatio:ga.read_shift(2)}}},64:{f:v1},65:{f:function(){}},66:{f:mm},77:{},80:{},81:{},82:{},85:{f:mm},89:{},90:{},91:{},92:{f:function(ga,yl,Al){if(Al.enc)return ga.l+=yl,"";var El=ga.l,Al=N1(ga,0,Al);return ga.read_shift(yl+El-ga.l),Al}},93:{f:function(ga,yl,xl){return xl&&xl.biff<8?function(El,Al,Pl){El.l+=4;var Rl=El.read_shift(2),Ol=El.read_shift(2),Ul=El.read_shift(2);El.l+=2,El.l+=2,El.l+=2,El.l+=2,El.l+=2,El.l+=2,El.l+=2,El.l+=2,El.l+=2,El.l+=6,Al-=36;var Wl=[];return Wl.push(($_[Rl]||F1)(El,Al,Pl)),{cmo:[Ol,Rl,Ul],ft:Wl}}(ga,yl,xl):{cmo:xl=E1(ga),ft:function(El,Al){for(var Pl=El.l+Al,Rl=[];El.l<Pl;){var Ol=El.read_shift(2);El.l-=2;try{Rl.push(Zv[Ol](El,Pl-El.l))}catch{return El.l=Pl,Rl}}return El.l!=Pl&&(El.l=Pl),Rl}(ga,yl-22,xl[1])}}},94:{},95:{f:v1},96:{},97:{},99:{f:v1},125:{f:UE},128:{f:function(ga){if(ga.l+=4,(ga=[ga.read_shift(2),ga.read_shift(2)])[0]!==0&&ga[0]--,ga[1]!==0&&ga[1]--,7<ga[0]||7<ga[1])throw new Error("Bad Gutters: "+ga.join("|"));return ga}},129:{f:function(ga,yl,xl){return{fDialog:16&(yl=xl&&xl.biff==8||yl==2?ga.read_shift(2):(ga.l+=yl,0)),fBelow:64&yl,fRight:128&yl}}},130:{f:mm},131:{f:v1},132:{f:v1},133:{f:function(ga,yl,xl){var El=ga.read_shift(4),Al=3&ga.read_shift(1),Pl=ga.read_shift(1);switch(Pl){case 0:Pl="Worksheet";break;case 1:Pl="Macrosheet";break;case 2:Pl="Chartsheet";break;case 6:Pl="VBAModule"}return xl=k1(ga,0,xl),{pos:El,hs:Al,dt:Pl,name:xl=xl.length===0?"Sheet1":xl}}},134:{},140:{f:function(ga){var yl=[0,0],xl=ga.read_shift(2);return yl[0]=tx[xl]||xl,xl=ga.read_shift(2),yl[1]=tx[xl]||xl,yl}},141:{f:mm},144:{},146:{f:function(ga){for(var yl=ga.read_shift(2),xl=[];0<yl--;)xl.push(jm(ga));return xl}},151:{},152:{},153:{},154:{},155:{},156:{f:mm},157:{},158:{},160:{f:H_},161:{f:function(ga,yl){var xl={};return yl<32||(ga.l+=16,xl.header=M1(ga),xl.footer=M1(ga),ga.l+=2),xl}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(ga,yl){for(var xl=ga.l+yl-2,El=ga.read_shift(2),Al=ga.read_shift(2),Pl=[];ga.l<xl;)Pl.push(Bv(ga));if(ga.l!==xl)throw new Error("MulRK read error");if(yl=ga.read_shift(2),Pl.length!=yl-Al+1)throw new Error("MulRK length mismatch");return{r:El,c:Al,C:yl,rkrec:Pl}}},190:{f:function(ga,yl){for(var xl=ga.l+yl-2,El=ga.read_shift(2),Al=ga.read_shift(2),Pl=[];ga.l<xl;)Pl.push(ga.read_shift(2));if(ga.l!==xl)throw new Error("MulBlank read error");if(yl=ga.read_shift(2),Pl.length!=yl-Al+1)throw new Error("MulBlank length mismatch");return{r:El,c:Al,C:yl,ixfe:Pl}}},193:{f:Yv},197:{},198:{},199:{},200:{},201:{},202:{f:v1},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:mm},220:{},221:{f:v1},222:{},224:{f:function(ga,yl,xl){var El,Al,Pl,Rl={};return Rl.ifnt=ga.read_shift(2),Rl.numFmtId=ga.read_shift(2),Rl.flags=ga.read_shift(2),Rl.fStyle=Rl.flags>>2&1,yl-=6,Rl.data=(El=ga,Rl.fStyle,Al=xl,Pl={},yl=El.read_shift(4),ga=El.read_shift(4),xl=El.read_shift(4),El=El.read_shift(2),Pl.patternType=bu[xl>>26],Al.cellStyles&&(Pl.alc=7&yl,Pl.fWrap=yl>>3&1,Pl.alcV=yl>>4&7,Pl.fJustLast=yl>>7&1,Pl.trot=yl>>8&255,Pl.cIndent=yl>>16&15,Pl.fShrinkToFit=yl>>20&1,Pl.iReadOrder=yl>>22&2,Pl.fAtrNum=yl>>26&1,Pl.fAtrFnt=yl>>27&1,Pl.fAtrAlc=yl>>28&1,Pl.fAtrBdr=yl>>29&1,Pl.fAtrPat=yl>>30&1,Pl.fAtrProt=yl>>31&1,Pl.dgLeft=15&ga,Pl.dgRight=ga>>4&15,Pl.dgTop=ga>>8&15,Pl.dgBottom=ga>>12&15,Pl.icvLeft=ga>>16&127,Pl.icvRight=ga>>23&127,Pl.grbitDiag=ga>>30&3,Pl.icvTop=127&xl,Pl.icvBottom=xl>>7&127,Pl.icvDiag=xl>>14&127,Pl.dgDiag=xl>>21&15,Pl.icvFore=127&El,Pl.icvBack=El>>7&127,Pl.fsxButton=El>>14&1),Pl),Rl}},225:{f:function(ga,yl){return yl===0||ga.read_shift(2),1200}},226:{f:Yv},227:{},229:{f:function(ga,yl){for(var xl=[],El=ga.read_shift(2);El--;)xl.push(jx(ga));return xl}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(ga,yl){for(var xl=ga.l+yl,yl=ga.read_shift(4),El=ga.read_shift(4),Al=[],Pl=0;Pl!=El&&ga.l<xl;++Pl)Al.push(function(Ol){var Ul=uo;uo=1200;var Wl,Xl=Ol.read_shift(2),ou=4&(xu=Ol.read_shift(1)),au=8&xu,du=1+(1&xu),Du=0,xu={};return au&&(Du=Ol.read_shift(2)),ou&&(Wl=Ol.read_shift(4)),du=du==2?"dbcs-cont":"sbcs-cont",du=Xl===0?"":Ol.read_shift(Xl,du),au&&(Ol.l+=4*Du),ou&&(Ol.l+=Wl),xu.t=du,au||(xu.raw="<t>"+xu.t+"</t>",xu.r=xu.t),uo=Ul,xu}(ga));return Al.Count=yl,Al.Unique=El,Al}},253:{f:function(ga){var yl=P1(ga);return yl.isst=ga.read_shift(4),yl}},255:{f:function(ga,yl){var xl={};return xl.dsst=ga.read_shift(2),ga.l+=yl-2,xl}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:X1},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:v1},353:{f:Yv},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(ga,Pl,xl){var El=ga.l+Pl,Al=ga.read_shift(2),Pl=ga.read_shift(2);if((xl.sbcch=Pl)==1025||Pl==14849)return[Pl,Al];if(Pl<1||255<Pl)throw new Error("Unexpected SupBook type: "+Pl);for(var xl=Av(ga,Pl),Rl=[];El>ga.l;)Rl.push(Xv(ga));return[Pl,Al,xl,Rl]}},431:{f:v1},432:{},433:{},434:{},437:{},438:{f:function(ga,yl,xl){var El=ga.l,Al="";try{ga.l+=4;var Pl=(xl.lastobj||{cmo:[0,0]}).cmo[1];[0,5,7,11,12,14].indexOf(Pl)==-1?ga.l+=6:function(Wl){var Xl=Wl.read_shift(1);Wl.l++;var ou=Wl.read_shift(2);Wl.l+=2}(ga);var Rl=ga.read_shift(2);ga.read_shift(2),mm(ga),Pl=ga.read_shift(2),ga.l+=Pl;for(var Ol=1;Ol<ga.lens.length-1;++Ol){if(ga.l-El!=ga.lens[Ol])throw new Error("TxO: bad continue record");var Ul=ga[ga.l];if((Al+=Av(ga,ga.lens[Ol+1]-ga.lens[Ol]-1)).length>=(Ul?Rl:2*Rl))break}if(Al.length!==Rl&&Al.length!==2*Rl)throw new Error("cchText: "+Rl+" != "+Al.length);return ga.l=El+yl,{t:Al}}catch{return ga.l=El+yl,{t:Al}}}},439:{f:v1},440:{f:function(ga,yl){var xl=jx(ga);return ga.l+=16,[xl,function(El,Al){var Pl=El.l+Al;if((ou=El.read_shift(4))!==2)throw new Error("Unrecognized streamVersion: "+ou);Al=El.read_shift(2),El.l+=2;var Rl,Ol,Ul,Wl,Xl,ou="";16&Al&&(Rl=u1(El,El.l)),128&Al&&(Ol=u1(El,El.l)),(257&Al)==257&&(Ul=u1(El,El.l)),(257&Al)==1&&(au=iy(El,El.l)),8&Al&&(ou=u1(El,El.l)),32&Al&&(Wl=El.read_shift(16)),64&Al&&(Xl=r0(El)),El.l=Pl;var au=Ol||Ul||au||"";return au&&ou&&(au+="#"+ou),au=au||"#"+ou,au={Target:au=2&Al&&au.charAt(0)=="/"&&au.charAt(1)!="/"?"file://"+au:au},Wl&&(au.guid=Wl),Xl&&(au.time=Xl),Rl&&(au.Tooltip=Rl),au}(ga,yl-24)]}},441:{},442:{f:Xv},443:{},444:{f:mm},445:{},446:{},448:{f:Yv},449:{f:function(ga){return ga.read_shift(2),ga.read_shift(4)},r:2},450:{f:Yv},512:{f:A2},513:{f:W_},515:{f:function(ga,yl,xl){return xl.biffguess&&xl.biff==2&&(xl.biff=5),xl=P1(ga),ga=M1(ga),xl.val=ga,xl}},516:{f:function(ga,yl,xl){return xl.biffguess&&xl.biff==2&&(xl.biff=5),ga.l,yl=P1(ga),xl.biff==2&&ga.l++,xl=Xv(ga,ga.l,xl),yl.val=xl,yl}},517:{f:FE},519:{f:Jw},520:{f:function(ga){var yl={};yl.r=ga.read_shift(2),yl.c=ga.read_shift(2),yl.cnt=ga.read_shift(2)-yl.c;var xl=ga.read_shift(2);ga.l+=4;var El=ga.read_shift(1);return ga.l+=3,7&El&&(yl.level=7&El),32&El&&(yl.hidden=!0),64&El&&(yl.hpt=xl/20),yl}},523:{},545:{f:BE},549:{f:Py},566:{},574:{f:function(ga,yl,xl){return xl&&2<=xl.biff&&xl.biff<5?{}:{RTL:64&ga.read_shift(2)}}},638:{f:function(El){var yl=El.read_shift(2),xl=El.read_shift(2),El=Bv(El);return{r:yl,c:xl,ixfe:El[0],rknum:El[1]}}},659:{},1048:{},1054:{f:function(ga,yl,xl){return[ga.read_shift(2),N1(ga,0,xl)]}},1084:{},1212:{f:function(ga,yl,xl){var El=_b(ga);ga.l++;var Al=ga.read_shift(1);return[function(Pl,Rl,Ol){var Ul,Wl=Pl.l+Rl,Xl=Pl.read_shift(2),ou=c2(Pl,Xl,Ol);return Xl==65535?[[],F1(Pl,Rl-2)]:(Rl!==Xl+2&&(Ul=l2(Pl,Wl-Xl-2,ou,Ol)),[ou,Ul])}(ga,yl-=8,xl),Al,El]}},2048:{f:function(ga,yl){return ga.read_shift(2),[jx(ga),ga.read_shift((yl-10)/2,"dbcs-cont").replace(ju,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:lv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Yv},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(ga){ga.l+=2;var yl={cxfs:0,crc:0};return yl.cxfs=ga.read_shift(2),yl.crc=ga.read_shift(4),yl},r:12},2173:{f:function(ga,yl){ga.l,ga.l+=2,yl=ga.read_shift(2),ga.l+=2;for(var xl=ga.read_shift(2),El=[];0<xl--;)El.push(DA(ga,ga.l));return{ixfe:yl,ext:El}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:v1,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(ga,yl,xl){if(!(xl.biff<8)){var El=ga.read_shift(2),Al=ga.read_shift(2);return[Av(ga,El,xl),Av(ga,Al,xl)]}ga.l+=yl},r:12},2197:{},2198:{f:function(ga,yl,xl){var El=ga.l+yl;if(ga.read_shift(4)!==124226)if(xl.cellStyles){var Al,Pl=ga.slice(ga.l);ga.l=El;try{Al=V1(Pl,{type:"array"})}catch{return}if(yl=q0(Al,"theme/theme/theme1.xml",!0),yl)return NS(yl,xl)}else ga.l=El},r:12},2199:{},2200:{},2201:{},2202:{f:function(ga){return[ga.read_shift(4)!==0,ga.read_shift(4)!==0,ga.read_shift(4)]},r:12},2203:{f:Yv},2204:{},2205:{},2206:{},2207:{},2211:{f:function(ga){var yl,xl,El=(xl=(yl=ga).read_shift(2),El=yl.read_shift(2),yl.l+=8,{type:xl});if(El.type!=2211)throw new Error("Invalid Future Record "+El.type);return ga.read_shift(4)!==0}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:mm},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(ga,yl,xl){var El={area:!1};return xl.biff!=5?ga.l+=yl:(yl=ga.read_shift(1),ga.l+=3,16&yl&&(El.area=!0)),El}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(ga){for(var yl=ga.read_shift(2),xl=[];0<yl--;)xl.push(jm(ga));return xl}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:A2},1:{},2:{f:function(ga){var yl=P1(ga);return++ga.l,ga=ga.read_shift(2),yl.t="n",yl.val=ga,yl}},3:{f:function(ga){var yl=P1(ga);return++ga.l,ga=M1(ga),yl.t="n",yl.val=ga,yl}},4:{f:function(ga,yl,xl){xl.biffguess&&xl.biff==5&&(xl.biff=2);var El=P1(ga);return++ga.l,xl=N1(ga,0,xl),El.t="str",El.val=xl,El}},5:{f:FE},7:{f:function(ga){var yl=ga.read_shift(1);return yl===0?(ga.l++,""):ga.read_shift(yl,"sbcs-cont")}},8:{},9:{f:lv},11:{},22:{f:mm},30:{f:qx},31:{},32:{},33:{f:BE},36:{},37:{f:Py},50:{f:function(ga,yl){ga.l+=6,ga.l+=2,ga.l+=1,ga.l+=3,ga.l+=1,ga.l+=yl-13}},62:{},52:{},67:{},68:{f:mm},69:{},86:{},126:{},127:{f:function(ga){var yl=ga.read_shift(2),El=ga.read_shift(2),xl=ga.read_shift(4),El={fmt:yl,env:El,len:xl,data:ga.slice(ga.l,ga.l+xl)};return ga.l+=xl,El}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(ga,Pl,Rl){var El=ga.l+Pl,Al=P1(ga),Pl=ga.read_shift(2),Rl=Av(ga,Pl,Rl);return ga.l=El,Al.t="str",Al.val=Rl,Al}},223:{},234:{},354:{},421:{},518:{f:Iw},521:{f:lv},536:{f:NE},547:{f:ME},561:{},579:{},1030:{f:Iw},1033:{f:lv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function T0(ga,yl,xl,El){var Al=yl;isNaN(Al)||(yl=El||(xl||[]).length||0,(El=ga.next(4)).write_shift(2,Al),El.write_shift(2,yl),0<yl&&Zy(xl)&&ga.push(xl))}function g2(ga,yl,xl){return(ga=ga||Zp(7)).write_shift(2,yl),ga.write_shift(2,xl),ga.write_shift(2,0),ga.write_shift(1,0),ga}function JT(ga,yl,xl,El){if(yl.v!=null)switch(yl.t){case"d":case"n":var Al=yl.t=="d"?sp(Dp(yl.v)):yl.v;return void(Al==(0|Al)&&0<=Al&&Al<65536?T0(ga,2,(Xl=xl,ou=El,au=Al,g2(du=Zp(9),Xl,ou),du.write_shift(2,au),du)):T0(ga,3,(au=xl,du=El,Al=Al,g2(Wl=Zp(15),au,du),Wl.write_shift(8,Al,"f"),Wl)));case"b":case"e":return void T0(ga,5,(Wl=xl,Pl=El,Rl=yl.v,Ol=yl.t,g2(Ul=Zp(9),Wl,Pl),Ry(Rl,Ol||"b",Ul),Ul));case"s":case"str":return void T0(ga,4,(Pl=xl,Rl=El,Ol=(yl.v||"").slice(0,255),g2(Ul=Zp(8+2*Ol.length),Pl,Rl),Ul.write_shift(1,Ol.length),Ul.write_shift(Ol.length,Ol,"sbcs"),Ul.l<Ul.length?Ul.slice(0,Ul.l):Ul))}var Pl,Rl,Ol,Ul,Wl,Xl,ou,au,du;T0(ga,1,g2(null,xl,El))}function QT(ga,yl){for(var xl=yl||{},yl=j1(),El=0,Al=0;Al<ga.SheetNames.length;++Al)ga.SheetNames[Al]==xl.sheet&&(El=Al);if(El==0&&xl.sheet&&ga.SheetNames[0]!=xl.sheet)throw new Error("Sheet not found: "+xl.sheet);return T0(yl,xl.biff==4?1033:xl.biff==3?521:9,ky(0,16,xl)),function(Pl,Rl,Ol){var Ul,Wl,Xl=Array.isArray(Rl),ou=Sm(Rl["!ref"]||"A1"),au=[];if(255<ou.e.c||16383<ou.e.r){if(Ol.WTF)throw new Error("Range "+(Rl["!ref"]||"A1")+" exceeds format limit A1:IV16384");ou.e.c=Math.min(ou.e.c,255),ou.e.r=Math.min(ou.e.c,16383),Ul=fm(ou)}for(var du=ou.s.r;du<=ou.e.r;++du){Wl=l1(du);for(var Du=ou.s.c;Du<=ou.e.c;++Du){du===ou.s.r&&(au[Du]=Gm(Du)),Ul=au[Du]+Wl;var xu=Xl?(Rl[du]||[])[Du]:Rl[Ul];xu&&JT(Pl,xu,du,Du)}}}(yl,ga.Sheets[ga.SheetNames[El]],xl),T0(yl,10),yl.end()}function eR(ga,yl,xl){var El,Al;T0(ga,49,(Al=(El={sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"}).name||"Arial",(ga=Zp((xl=(ga=xl)&&ga.biff==5)?15+Al.length:16+2*Al.length)).write_shift(2,20*(El.sz||12)),ga.write_shift(4,0),ga.write_shift(2,400),ga.write_shift(4,0),ga.write_shift(2,0),ga.write_shift(1,Al.length),xl||ga.write_shift(1,1),ga.write_shift((xl?1:2)*Al.length,Al,xl?"sbcs":"utf16le"),ga))}function tR(ga,yl,xl){yl&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(El){for(var Al,Pl,Rl,Ol,Ul=El[0];Ul<=El[1];++Ul)yl[Ul]!=null&&T0(ga,1054,(Al=Ul,Pl=yl[Ul],Ol=void 0,Rl=(Rl=xl)&&Rl.biff==5,(Ol=Ol||Zp(Rl?3+Pl.length:5+2*Pl.length)).write_shift(2,Al),Ol.write_shift(Rl?1:2,Pl.length),Rl||Ol.write_shift(1,1),Ol.write_shift((Rl?1:2)*Pl.length,Pl,Rl?"sbcs":"utf16le"),(Ol=Ol.length>Ol.l?Ol.slice(0,Ol.l):Ol).l==null&&(Ol.l=Ol.length),Ol))})}function rR(ga,yl){for(var xl=0;xl<yl["!links"].length;++xl){var El=yl["!links"][xl];T0(ga,440,z_(El)),El[1].Tooltip&&T0(ga,2048,function(Al){var Pl=Al[1].Tooltip,Rl=Zp(10+2*(Pl.length+1));Rl.write_shift(2,2048),Al=c1(Al[0]),Rl.write_shift(2,Al.r),Rl.write_shift(2,Al.r),Rl.write_shift(2,Al.c),Rl.write_shift(2,Al.c);for(var Ol=0;Ol<Pl.length;++Ol)Rl.write_shift(2,Pl.charCodeAt(Ol));return Rl.write_shift(2,0),Rl}(El))}delete yl["!links"]}function nR(ga,yl){var xl;yl&&(xl=0,yl.forEach(function(El,Al){var Pl;++xl<=256&&El&&T0(ga,125,(Pl=W2(Al,El),El=Al,(Al=Zp(12)).write_shift(2,El),Al.write_shift(2,El),Al.write_shift(2,256*Pl.width),Al.write_shift(2,0),El=0,Pl.hidden&&(El|=1),Al.write_shift(1,El),El=Pl.level||0,Al.write_shift(1,El),Al.write_shift(2,0),Al))}))}function iR(ga,yl,xl,El,Al){var Pl,Rl,Ol,Ul,Wl,Xl,ou,au,du,Du,xu,Qu=16+ix(Al.cellXfs,yl,Al);if(yl.v!=null||yl.bf)if(yl.bf)T0(ga,6,qA(yl,xl,El,0,Qu));else switch(yl.t){case"d":case"n":var Bu=yl.t=="d"?sp(Dp(yl.v)):yl.v;T0(ga,515,(Xl=xl,ou=El,au=Bu,du=Qu,Du=Zp(14),qy(Xl,ou,du,Du),vy(au,Du),Du));break;case"b":case"e":T0(ga,517,(Bu=xl,Xl=El,ou=yl.v,du=Qu,au=yl.t,Du=Zp(8),qy(Bu,Xl,du,Du),Ry(ou,au,Du),Du));break;case"s":case"str":Al.bookSST?(xu=Dw(Al.Strings,yl.v,Al.revStrings),T0(ga,253,(Pl=xl,Rl=El,Ol=xu,Ul=Qu,Wl=Zp(10),qy(Pl,Rl,Ul,Wl),Wl.write_shift(4,Ol),Wl))):T0(ga,516,(xu=xl,Pl=El,Rl=(yl.v||"").slice(0,255),Ul=Qu,Ol=Zp(+(Wl=!(Ol=Al)||Ol.biff==8)+8+(1+Wl)*Rl.length),qy(xu,Pl,Ul,Ol),Ol.write_shift(2,Rl.length),Wl&&Ol.write_shift(1,1),Ol.write_shift((1+Wl)*Rl.length,Rl,Wl?"utf16le":"sbcs"),Ol));break;default:T0(ga,513,qy(xl,El,Qu))}else T0(ga,513,qy(xl,El,Qu))}function sR(ga,yl,xl){var El,Al,Pl=j1(),Yu=xl.SheetNames[ga],Rl=xl.Sheets[Yu]||{},Ol=(xl||{}).Workbook||{},Ul=(Ol.Sheets||[])[ga]||{},Wl=Array.isArray(Rl),Xl=yl.biff==8,ou=[],au=Sm(Rl["!ref"]||"A1"),du=Xl?65536:16384;if(255<au.e.c||au.e.r>=du){if(yl.WTF)throw new Error("Range "+(Rl["!ref"]||"A1")+" exceeds format limit A1:IV16384");au.e.c=Math.min(au.e.c,255),au.e.r=Math.min(au.e.c,du-1)}T0(Pl,2057,ky(0,16,yl)),T0(Pl,13,Hm(1)),T0(Pl,12,Hm(100)),T0(Pl,15,V0(!0)),T0(Pl,17,V0(!1)),T0(Pl,16,vy(.001)),T0(Pl,95,V0(!0)),T0(Pl,42,V0(!1)),T0(Pl,43,V0(!1)),T0(Pl,130,Hm(1)),T0(Pl,128,(xl=[0,0],(ga=Zp(8)).write_shift(4,0),ga.write_shift(2,xl[0]?xl[0]+1:0),ga.write_shift(2,xl[1]?xl[1]+1:0),ga)),T0(Pl,131,V0(!1)),T0(Pl,132,V0(!1)),Xl&&nR(Pl,Rl["!cols"]),T0(Pl,512,(du=au,(xl=Zp(2*(ga=(xl=yl).biff!=8&&xl.biff?2:4)+6)).write_shift(ga,du.s.r),xl.write_shift(ga,du.e.r+1),xl.write_shift(2,du.s.c),xl.write_shift(2,du.e.c+1),xl.write_shift(2,0),xl)),Xl&&(Rl["!links"]=[]);for(var Du=au.s.r;Du<=au.e.r;++Du){Al=l1(Du);for(var xu=au.s.c;xu<=au.e.c;++xu){Du===au.s.r&&(ou[xu]=Gm(xu)),El=ou[xu]+Al;var Qu=Wl?(Rl[Du]||[])[xu]:Rl[El];Qu&&(iR(Pl,Qu,Du,xu,yl),Xl&&Qu.l&&Rl["!links"].push([El,Qu.l]))}}var Bu,Su,Yu=Ul.CodeName||Ul.name||Yu;return Xl&&T0(Pl,574,(Ol=(Ol.Views||[])[0],Su=Zp(18),Bu=1718,Ol&&Ol.RTL&&(Bu|=64),Su.write_shift(2,Bu),Su.write_shift(4,0),Su.write_shift(4,64),Su.write_shift(4,0),Su.write_shift(4,0),Su)),Xl&&(Rl["!merges"]||[]).length&&T0(Pl,229,function(ep){var rp=Zp(2+8*ep.length);rp.write_shift(2,ep.length);for(var bp=0;bp<ep.length;++bp)Mx(ep[bp],rp);return rp}(Rl["!merges"])),Xl&&rR(Pl,Rl),T0(Pl,442,iv(Yu)),Xl&&(Bu=Pl,Su=Rl,(Yu=Zp(19)).write_shift(4,2151),Yu.write_shift(4,0),Yu.write_shift(4,0),Yu.write_shift(2,3),Yu.write_shift(1,1),Yu.write_shift(4,0),T0(Bu,2151,Yu),(Yu=Zp(39)).write_shift(4,2152),Yu.write_shift(4,0),Yu.write_shift(4,0),Yu.write_shift(2,3),Yu.write_shift(1,0),Yu.write_shift(4,0),Yu.write_shift(2,1),Yu.write_shift(4,4),Yu.write_shift(2,0),Mx(Sm(Su["!ref"]||"A1"),Yu),Yu.write_shift(4,4),T0(Bu,2152,Yu)),T0(Pl,10),Pl.end()}function oR(ga,yl,xl){var El=j1(),Ol=(ga||{}).Workbook||{},Al=Ol.Sheets||[],Pl=Ol.WBProps||{},Rl=xl.biff==8,Ol=xl.biff==5;T0(El,2057,ky(0,5,xl)),xl.bookType=="xla"&&T0(El,135),T0(El,225,Rl?Hm(1200):null),T0(El,193,function(Bu,Su){Su=Su||Zp(Bu);for(var Yu=0;Yu<Bu;++Yu)Su.write_shift(1,0);return Su}(2)),Ol&&T0(El,191),Ol&&T0(El,192),T0(El,226),T0(El,92,function(Bu){var Su=!Bu||Bu.biff==8,Yu=Zp(Su?112:54);for(Yu.write_shift(Bu.biff==8?2:1,7),Su&&Yu.write_shift(1,0),Yu.write_shift(4,859007059),Yu.write_shift(4,5458548|(Su?0:536870912));Yu.l<Yu.length;)Yu.write_shift(1,Su?0:32);return Yu}(xl)),T0(El,66,Hm(Rl?1200:1252)),Rl&&T0(El,353,Hm(0)),Rl&&T0(El,448),T0(El,317,function(Bu){for(var Su=Zp(2*Bu),Yu=0;Yu<Bu;++Yu)Su.write_shift(2,Yu+1);return Su}(ga.SheetNames.length)),Rl&&ga.vbaraw&&T0(El,211),Rl&&ga.vbaraw&&T0(El,442,iv(Pl.CodeName||"ThisWorkbook")),T0(El,156,Hm(17)),T0(El,25,V0(!1)),T0(El,18,V0(!1)),T0(El,19,Hm(0)),Rl&&T0(El,431,V0(!1)),Rl&&T0(El,444,Hm(0)),T0(El,61,((Ol=Zp(18)).write_shift(2,0),Ol.write_shift(2,0),Ol.write_shift(2,29280),Ol.write_shift(2,17600),Ol.write_shift(2,56),Ol.write_shift(2,0),Ol.write_shift(2,0),Ol.write_shift(2,1),Ol.write_shift(2,500),Ol)),T0(El,64,V0(!1)),T0(El,141,Hm(0)),T0(El,34,V0(((Pl=ga).Workbook&&Pl.Workbook.WBProps&&J0(Pl.Workbook.WBProps.date1904)?"true":"false")=="true")),T0(El,14,V0(!0)),Rl&&T0(El,439,V0(!1)),T0(El,218,Hm(0)),eR(El,0,xl),tR(El,ga.SSF,xl),function(Bu,Su){for(var Yu=0;Yu<16;++Yu)T0(Bu,224,T2({numFmtId:0,style:!0},0,Su));Su.cellXfs.forEach(function(ep){T0(Bu,224,T2(ep,0,Su))})}(El,xl),Rl&&T0(El,352,V0(!1)),Ol=El.end(),Pl=j1(),Rl&&T0(Pl,140,((Qu=Qu||Zp(4)).write_shift(2,1),Qu.write_shift(2,1),Qu)),Rl&&xl.Strings&&function(Bu,Su,Yu){var ep=(Yu||[]).length||0;if(ep<=8224)return T0(Bu,Su,Yu,ep);if(!isNaN(Su)){for(var rp=Yu.parts||[],bp=0,jp=0,Ap=0;Ap+(rp[bp]||8224)<=8224;)Ap+=rp[bp]||8224,bp++;var $p=Bu.next(4);for($p.write_shift(2,Su),$p.write_shift(2,Ap),Bu.push(Yu.slice(jp,jp+Ap)),jp+=Ap;jp<ep;){for(($p=Bu.next(4)).write_shift(2,60),Ap=0;Ap+(rp[bp]||8224)<=8224;)Ap+=rp[bp]||8224,bp++;$p.write_shift(2,Ap),Bu.push(Yu.slice(jp,jp+Ap)),jp+=Ap}}}(Pl,252,wy(xl.Strings)),T0(Pl,10);for(var El=Pl.end(),Ul=j1(),Wl=0,Xl=0,Xl=0;Xl<ga.SheetNames.length;++Xl)Wl+=(Rl?12:11)+(Rl?2:1)*ga.SheetNames[Xl].length;var ou,au,du,Du,xu=Ol.length+Wl+El.length;for(Xl=0;Xl<ga.SheetNames.length;++Xl)T0(Ul,133,(ou={pos:xu,hs:(Al[Xl]||{}).Hidden||0,dt:0,name:ga.SheetNames[Xl]},Du=du=void 0,du=!(au=xl)||8<=au.biff?2:1,(Du=Zp(8+du*ou.name.length)).write_shift(4,ou.pos),Du.write_shift(1,ou.hs||0),Du.write_shift(1,ou.dt),Du.write_shift(1,ou.name.length),8<=au.biff&&Du.write_shift(1,1),Du.write_shift(du*ou.name.length,ou.name,au.biff<8?"sbcs":"utf16le"),(au=Du.slice(0,Du.l)).l=Du.l,au)),xu+=yl[Xl].length;var Qu=Ul.end();if(Wl!=Qu.length)throw new Error("BS8 "+Wl+" != "+Qu.length);return Pl=[],Ol.length&&Pl.push(Ol),Qu.length&&Pl.push(Qu),El.length&&Pl.push(El),lu(Pl)}function CC(ga,yl){for(var xl=0;xl<=ga.SheetNames.length;++xl){var El=ga.Sheets[ga.SheetNames[xl]];El&&El["!ref"]&&255<Y1(El["!ref"]).e.c&&typeof console<"u"&&console.error&&console.error("Worksheet '"+ga.SheetNames[xl]+"' extends beyond column IV (255).  Data may be lost.")}var Al=yl||{};switch(Al.biff||2){case 8:case 5:return function(Pl,Rl){var Ol=Rl||{},Ul=[];Pl&&!Pl.SSF&&(Pl.SSF=E0(Kl)),Pl&&Pl.SSF&&(Sp(),Hu(Pl.SSF),Ol.revssf=xp(Pl.SSF),Ol.revssf[Pl.SSF[65535]]=0,Ol.ssf=Pl.SSF),Ol.Strings=[],Ol.Strings.Count=0,Ol.Strings.Unique=0,Hw(Ol),Ol.cellXfs=[],ix(Ol.cellXfs,{},{revssf:{General:0}}),Pl.Props||(Pl.Props={});for(var Wl=0;Wl<Pl.SheetNames.length;++Wl)Ul[Ul.length]=sR(Wl,Ol,Pl);return Ul.unshift(oR(Pl,Ul,Ol)),lu(Ul)}(ga,yl);case 4:case 3:case 2:return QT(ga,yl)}throw new Error("invalid type "+Al.bookType+" for BIFF")}function _C(ga,yl){var xl=yl||{},El=xl.dense?[]:{},Al=(ga=ga.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!Al)throw new Error("Invalid HTML: could not find <table>");for(var Pl,yl=ga.match(/<\/table/i),au=Al.index,Rl=yl&&yl.index||ga.length,Ol=om(ga.slice(au,Rl),/(:?<tr[^>]*>)/i,"<tr>"),Ul=-1,Wl=0,Xl={s:{r:1e7,c:1e7},e:{r:0,c:0}},ou=[],au=0;au<Ol.length;++au){var du=Ol[au].trim(),Du=du.slice(0,3).toLowerCase();if(Du!="<tr"){if(Du=="<td"||Du=="<th")for(var xu=du.split(/<\/t[dh]>/i),Rl=0;Rl<xu.length;++Rl){var Qu=xu[Rl].trim();if(Qu.match(/<t[dh]/i)){for(var Bu=Qu,Su=0;Bu.charAt(0)=="<"&&-1<(Su=Bu.indexOf(">"));)Bu=Bu.slice(Su+1);for(var Yu=0;Yu<ou.length;++Yu){var ep=ou[Yu];ep.s.c==Wl&&ep.s.r<Ul&&Ul<=ep.e.r&&(Wl=ep.e.c+1,Yu=-1)}var rp=am(Qu.slice(0,Qu.indexOf(">"))),bp=rp.colspan?+rp.colspan:1;(1<(Pl=+rp.rowspan)||1<bp)&&ou.push({s:{r:Ul,c:Wl},e:{r:Ul+(Pl||1)-1,c:Wl+bp-1}}),Qu=rp.t||rp["data-t"]||"",Bu.length&&(Bu=Qv(Bu),Xl.s.r>Ul&&(Xl.s.r=Ul),Xl.e.r<Ul&&(Xl.e.r=Ul),Xl.s.c>Wl&&(Xl.s.c=Wl),Xl.e.c<Wl&&(Xl.e.c=Wl),Bu.length&&(rp={t:"s",v:Bu},xl.raw||!Bu.trim().length||Qu=="s"||(Bu==="TRUE"?rp={t:"b",v:!0}:Bu==="FALSE"?rp={t:"b",v:!1}:isNaN(sm(Bu))?isNaN(_m(Bu).getDate())||(rp={t:"d",v:Dp(Bu)},(rp=xl.cellDates?rp:{t:"n",v:sp(rp.v)}).z=xl.dateNF||Kl[14]):rp={t:"n",v:sm(Bu)}),xl.dense?(El[Ul]||(El[Ul]=[]),El[Ul][Wl]=rp):El[cm({r:Ul,c:Wl})]=rp)),Wl+=bp}}}else{if(++Ul,xl.sheetRows&&xl.sheetRows<=Ul){--Ul;break}Wl=0}}return El["!ref"]=fm(Xl),ou.length&&(El["!merges"]=ou),El}function AC(ga,yl,xl,El){for(var Al=ga["!merges"]||[],Pl=[],Rl=yl.s.c;Rl<=yl.e.c;++Rl){for(var Ol,Ul,Wl,Xl,ou=0,au=0,du=0;du<Al.length;++du)if(!(Al[du].s.r>xl||Al[du].s.c>Rl||Al[du].e.r<xl||Al[du].e.c<Rl)){if(Al[du].s.r<xl||Al[du].s.c<Rl){ou=-1;break}ou=Al[du].e.r-Al[du].s.r+1,au=Al[du].e.c-Al[du].s.c+1;break}ou<0||(Ol=cm({r:xl,c:Rl}),Wl=(Ul=El.dense?(ga[xl]||[])[Rl]:ga[Ol])&&Ul.v!=null&&(Ul.h||b1(Ul.w||(z1(Ul),Ul.w)||""))||"",Xl={},1<ou&&(Xl.rowspan=ou),1<au&&(Xl.colspan=au),El.editable?Wl='<span contenteditable="true">'+Wl+"</span>":Ul&&(Xl["data-t"]=Ul&&Ul.t||"z",Ul.v!=null&&(Xl["data-v"]=Ul.v),Ul.z!=null&&(Xl["data-z"]=Ul.z),Ul.l&&(Ul.l.Target||"#").charAt(0)!="#"&&(Wl='<a href="'+Ul.l.Target+'">'+Wl+"</a>")),Xl.id=(El.id||"sjs")+"-"+Ol,Pl.push(v0("td",Wl,Xl)))}return"<tr>"+Pl.join("")+"</tr>"}var TC='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',RC="</body></html>";function kC(ga,yl,xl){return[].join("")+"<table"+(xl&&xl.id?' id="'+xl.id+'"':"")+">"}function PC(ga,Al){var xl=Al||{},El=xl.header!=null?xl.header:TC,Al=xl.footer!=null?xl.footer:RC,Pl=[El],Rl=Y1(ga["!ref"]);xl.dense=Array.isArray(ga),Pl.push(kC(0,0,xl));for(var Ol=Rl.s.r;Ol<=Rl.e.r;++Ol)Pl.push(AC(ga,Rl,Ol,xl));return Pl.push("</table>"+Al),Pl.join("")}function IC(ga,yl,xl){var El=xl||{},Al=0,Pl=0;El.origin!=null&&(typeof El.origin=="number"?Al=El.origin:(Al=(xl=typeof El.origin=="string"?c1(El.origin):El.origin).r,Pl=xl.c));var Rl=yl.getElementsByTagName("tr"),Ol=Math.min(El.sheetRows||1e7,Rl.length),Ul={s:{r:0,c:0},e:{r:Al,c:Pl}};ga["!ref"]&&(yl=Y1(ga["!ref"]),Ul.s.r=Math.min(Ul.s.r,yl.s.r),Ul.s.c=Math.min(Ul.s.c,yl.s.c),Ul.e.r=Math.max(Ul.e.r,yl.e.r),Ul.e.c=Math.max(Ul.e.c,yl.e.c),Al==-1&&(Ul.e.r=Al=yl.e.r+1));var Wl,Xl,ou=[],au=0,du=ga["!rows"]||(ga["!rows"]=[]),Du=0,xu=0,Qu=0,Bu=0;for(ga["!cols"]||(ga["!cols"]=[]);Du<Rl.length&&xu<Ol;++Du){var Su=Rl[Du];if(DC(Su)){if(El.display)continue;du[xu]={hidden:!0}}for(var Yu=Su.children,Qu=Bu=0;Qu<Yu.length;++Qu){var ep=Yu[Qu];if(!El.display||!DC(ep)){for(var rp=ep.hasAttribute("data-v")?ep.getAttribute("data-v"):ep.hasAttribute("v")?ep.getAttribute("v"):Qv(ep.innerHTML),bp=ep.getAttribute("data-z")||ep.getAttribute("z"),au=0;au<ou.length;++au){var jp=ou[au];jp.s.c==Bu+Pl&&jp.s.r<xu+Al&&xu+Al<=jp.e.r&&(Bu=jp.e.c+1-Pl,au=-1)}Xl=+ep.getAttribute("colspan")||1,(1<(Wl=+ep.getAttribute("rowspan")||1)||1<Xl)&&ou.push({s:{r:xu+Al,c:Bu+Pl},e:{r:xu+Al+(Wl||1)-1,c:Bu+Pl+(Xl||1)-1}});var Ap={t:"s",v:rp},$p=ep.getAttribute("data-t")||ep.getAttribute("t")||"";rp!=null&&(rp.length==0?Ap.t=$p||"z":El.raw||rp.trim().length==0||$p=="s"||(rp==="TRUE"?Ap={t:"b",v:!0}:rp==="FALSE"?Ap={t:"b",v:!1}:isNaN(sm(rp))?isNaN(_m(rp).getDate())||(Ap={t:"d",v:Dp(rp)},(Ap=El.cellDates?Ap:{t:"n",v:sp(Ap.v)}).z=El.dateNF||Kl[14]):Ap={t:"n",v:sm(rp)})),Ap.z===void 0&&bp!=null&&(Ap.z=bp);var e0="",t0=ep.getElementsByTagName("A");if(t0&&t0.length)for(var Vp=0;Vp<t0.length&&(!t0[Vp].hasAttribute("href")||(e0=t0[Vp].getAttribute("href")).charAt(0)=="#");++Vp);e0&&e0.charAt(0)!="#"&&(Ap.l={Target:e0}),El.dense?(ga[xu+Al]||(ga[xu+Al]=[]),ga[xu+Al][Bu+Pl]=Ap):ga[cm({c:Bu+Pl,r:xu+Al})]=Ap,Ul.e.c<Bu+Pl&&(Ul.e.c=Bu+Pl),Bu+=Xl}}++xu}return ou.length&&(ga["!merges"]=(ga["!merges"]||[]).concat(ou)),Ul.e.r=Math.max(Ul.e.r,xu-1+Al),ga["!ref"]=fm(Ul),Ol<=xu&&(ga["!fullref"]=fm((Ul.e.r=Rl.length-Du+xu-1+Al,Ul))),ga}function OC(ga,yl){return IC((yl||{}).dense?[]:{},ga,yl)}function DC(ga){var xl,yl="",xl=(xl=ga).ownerDocument.defaultView&&typeof xl.ownerDocument.defaultView.getComputedStyle=="function"?xl.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null;return(yl=(yl=xl?xl(ga).getPropertyValue("display"):yl)||ga.style&&ga.style.display)==="none"}var FC={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function jC(ga,yl){var xl=yl||{},El,Al,Pl,Rl,Ol,Ul=ax(ga),Wl=[],Xl={name:""},ou="",au=0,du={},Du=[],xu=xl.dense?[]:{},Qu={value:""},Bu="",Su=0,Yu=[],ep=-1,rp=-1,bp={s:{r:1e6,c:1e7},e:{r:0,c:0}},jp=0,Ap={},$p=[],e0={},t0=[],Vp=1,h0=1,D0=[],R0={Names:[]},b0={},S0=["",""],y0=[],o0={},z0="",G0=0,rm=!1,Om=!1,N0=0;for(hv.lastIndex=0,Ul=Ul.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");Rl=hv.exec(Ul);)switch(Rl[3]=Rl[3].replace(/_.*$/,"")){case"table":case"":Rl[1]==="/"?(bp.e.c>=bp.s.c&&bp.e.r>=bp.s.r?xu["!ref"]=fm(bp):xu["!ref"]="A1:A1",0<xl.sheetRows&&xl.sheetRows<=bp.e.r&&(xu["!fullref"]=xu["!ref"],bp.e.r=xl.sheetRows-1,xu["!ref"]=fm(bp)),$p.length&&(xu["!merges"]=$p),t0.length&&(xu["!rows"]=t0),Pl.name=Pl.||Pl.name,typeof JSON<"u"&&JSON.stringify(Pl),Du.push(Pl.name),du[Pl.name]=xu,Om=!1):Rl[0].charAt(Rl[0].length-2)!=="/"&&(Pl=am(Rl[0],!1),ep=rp=-1,bp.s.r=bp.s.c=1e7,bp.e.r=bp.e.c=0,xu=xl.dense?[]:{},$p=[],t0=[],Om=!0);break;case"table-row-group":Rl[1]==="/"?--jp:++jp;break;case"table-row":case"":if(Rl[1]==="/"){ep+=Vp,Vp=1;break}if((c0=am(Rl[0],!1)).?ep=c0.-1:ep==-1&&(ep=0),(Vp=+c0["number-rows-repeated"]||1)<10)for(N0=0;N0<Vp;++N0)0<jp&&(t0[ep+N0]={level:jp});rp=-1;break;case"covered-table-cell":Rl[1]!=="/"&&++rp,xl.sheetStubs&&(xl.dense?(xu[ep]||(xu[ep]=[]),xu[ep][rp]={t:"z"}):xu[cm({r:ep,c:rp})]={t:"z"}),Bu="",Yu=[];break;case"table-cell":case"":if(Rl[0].charAt(Rl[0].length-2)==="/")++rp,Qu=am(Rl[0],!1),h0=parseInt(Qu["number-columns-repeated"]||"1",10),Ol={t:"z",v:null},Qu.formula&&xl.cellFormula!=0&&(Ol.f=rC(dm(Qu.formula))),(Qu.||Qu["value-type"])=="string"&&(Ol.t="s",Ol.v=dm(Qu["string-value"]||""),xl.dense?(xu[ep]||(xu[ep]=[]),xu[ep][rp]=Ol):xu[cm({r:ep,c:rp})]=Ol),rp+=h0-1;else if(Rl[1]!=="/"){Bu="",Su=0,Yu=[],h0=1;var c0=Vp?ep+Vp-1:ep;if(++rp>bp.e.c&&(bp.e.c=rp),rp<bp.s.c&&(bp.s.c=rp),ep<bp.s.r&&(bp.s.r=ep),c0>bp.e.r&&(bp.e.r=c0),y0=[],o0={},Ol={t:(Qu=am(Rl[0],!1)).||Qu["value-type"],v:null},xl.cellFormula)if(Qu.formula&&(Qu.formula=dm(Qu.formula)),Qu["number-matrix-columns-spanned"]&&Qu["number-matrix-rows-spanned"]&&(e0={s:{r:ep,c:rp},e:{r:ep+(parseInt(Qu["number-matrix-rows-spanned"],10)||0)-1,c:rp+(parseInt(Qu["number-matrix-columns-spanned"],10)||0)-1}},Ol.F=fm(e0),D0.push([e0,Ol.F])),Qu.formula)Ol.f=rC(Qu.formula);else for(N0=0;N0<D0.length;++N0)ep>=D0[N0][0].s.r&&ep<=D0[N0][0].e.r&&rp>=D0[N0][0].s.c&&rp<=D0[N0][0].e.c&&(Ol.F=D0[N0][1]);switch((Qu["number-columns-spanned"]||Qu["number-rows-spanned"])&&(e0={s:{r:ep,c:rp},e:{r:ep+(parseInt(Qu["number-rows-spanned"],10)||0)-1,c:rp+(parseInt(Qu["number-columns-spanned"],10)||0)-1}},$p.push(e0)),Qu["number-columns-repeated"]&&(h0=parseInt(Qu["number-columns-repeated"],10)),Ol.t){case"boolean":Ol.t="b",Ol.v=J0(Qu["boolean-value"]);break;case"float":case"percentage":case"currency":Ol.t="n",Ol.v=parseFloat(Qu.value);break;case"date":Ol.t="d",Ol.v=Dp(Qu["date-value"]),xl.cellDates||(Ol.t="n",Ol.v=sp(Ol.v)),Ol.z="m/d/yy";break;case"time":Ol.t="n",Ol.v=function(Mm){var Jm=0,I1=0,Cp=!1,Qm=Mm.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!Qm)throw new Error("|"+Mm+"| is not an ISO8601 Duration");for(var Km=1;Km!=Qm.length;++Km)if(Qm[Km]){switch(I1=1,3<Km&&(Cp=!0),Qm[Km].slice(Qm[Km].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+Qm[Km].slice(Qm[Km].length-1));case"D":I1*=24;case"H":I1*=60;case"M":if(!Cp)throw new Error("Unsupported ISO Duration Field: M");I1*=60}Jm+=I1*parseInt(Qm[Km],10)}return Jm}(Qu["time-value"])/86400,xl.cellDates&&(Ol.t="d",Ol.v=Mp(Ol.v)),Ol.z="HH:MM:SS";break;case"number":Ol.t="n",Ol.v=parseFloat(Qu.);break;default:if(Ol.t!=="string"&&Ol.t!=="text"&&Ol.t)throw new Error("Unsupported value type "+Ol.t);Ol.t="s",Qu["string-value"]!=null&&(Bu=dm(Qu["string-value"]),Yu=[])}}else{if(rm=!1,Ol.t==="s"&&(Ol.v=Bu||"",Yu.length&&(Ol.R=Yu),rm=Su==0),b0.Target&&(Ol.l=b0),0<y0.length&&(Ol.c=y0,y0=[]),Bu&&xl.cellText!==!1&&(Ol.w=Bu),rm&&(Ol.t="z",delete Ol.v),(!rm||xl.sheetStubs)&&!(xl.sheetRows&&xl.sheetRows<=ep))for(var ym=0;ym<Vp;++ym){if(h0=parseInt(Qu["number-columns-repeated"]||"1",10),xl.dense)for(xu[ep+ym]||(xu[ep+ym]=[]),xu[ep+ym][rp]=ym==0?Ol:E0(Ol);0<--h0;)xu[ep+ym][rp+h0]=E0(Ol);else for(xu[cm({r:ep+ym,c:rp})]=Ol;0<--h0;)xu[cm({r:ep+ym,c:rp+h0})]=E0(Ol);bp.e.c<=rp&&(bp.e.c=rp)}rp+=(h0=parseInt(Qu["number-columns-repeated"]||"1",10))-1,h0=0,Ol={},Bu="",Yu=[]}b0={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(Rl[1]==="/"){if((El=Wl.pop())[0]!==Rl[3])throw"Bad state: "+El}else Rl[0].charAt(Rl[0].length-2)!=="/"&&Wl.push([Rl[3],!0]);break;case"annotation":if(Rl[1]==="/"){if((El=Wl.pop())[0]!==Rl[3])throw"Bad state: "+El;o0.t=Bu,Yu.length&&(o0.R=Yu),o0.a=z0,y0.push(o0)}else Rl[0].charAt(Rl[0].length-2)!=="/"&&Wl.push([Rl[3],!1]);Bu=z0="",Su=G0=0,Yu=[];break;case"creator":Rl[1]==="/"?z0=Ul.slice(G0,Rl.index):G0=Rl.index+Rl[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(Rl[1]==="/"){if((El=Wl.pop())[0]!==Rl[3])throw"Bad state: "+El}else Rl[0].charAt(Rl[0].length-2)!=="/"&&Wl.push([Rl[3],!1]);Bu="",Su=0,Yu=[];break;case"scientific-number":case"currency-symbol":case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(Rl[1]==="/"){if(Ap[Xl.name]=ou,(El=Wl.pop())[0]!==Rl[3])throw"Bad state: "+El}else Rl[0].charAt(Rl[0].length-2)!=="/"&&(ou="",Xl=am(Rl[0],!1),Wl.push([Rl[3],!0]));break;case"script":case"libraries":case"automatic-styles":break;case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":break;case"number":switch(Wl[Wl.length-1][0]){case"time-style":case"date-style":Al=am(Rl[0],!1),ou+=FC[Rl[3]][Al.style==="long"?1:0]}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(Wl[Wl.length-1][0]){case"time-style":case"date-style":Al=am(Rl[0],!1),ou+=FC[Rl[3]][Al.style==="long"?1:0]}break;case"boolean-style":case"boolean":case"text-style":break;case"text":if(Rl[0].slice(-2)==="/>")break;if(Rl[1]==="/")switch(Wl[Wl.length-1][0]){case"number-style":case"date-style":case"time-style":ou+=Ul.slice(au,Rl.index)}else au=Rl.index+Rl[0].length;break;case"named-range":S0=Ow((Al=am(Rl[0],!1))["cell-range-address"]);var $m={Name:Al.name,Ref:S0[0]+"!"+S0[1]};Om&&($m.Sheet=Du.length),R0.Names.push($m);break;case"text-content":case"text-properties":case"embedded-text":break;case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":break;case"p":case"":if(-1<["master-styles"].indexOf(Wl[Wl.length-1][0]))break;Rl[1]!=="/"||Qu&&Qu["string-value"]?(am(Rl[0],!1),Su=Rl.index+Rl[0].length):($m=($m=Ul.slice(Su,Rl.index)).replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(Mm,Jm){return Array(parseInt(Jm,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),$m=[dm($m.replace(/<[^>]*>/g,""))],Bu=(0<Bu.length?Bu+`
`:"")+$m[0]);break;case"s":break;case"database-range":if(Rl[1]==="/")break;try{du[(S0=Ow(am(Rl[0])["target-range-address"]))[0]]["!autofilter"]={ref:S0[1]}}catch{}break;case"date":case"object":break;case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":break;case"a":if(Rl[1]!=="/"){if(!(b0=am(Rl[0],!1)).href)break;b0.Target=dm(b0.href),delete b0.href,b0.Target.charAt(0)=="#"&&-1<b0.Target.indexOf(".")?(S0=Ow(b0.Target.slice(1)),b0.Target="#"+S0[0]+"!"+S0[1]):b0.Target.match(/^\.\.[\\\/]/)&&(b0.Target=b0.Target.slice(3))}break;case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;default:switch(Rl[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(xl.WTF)throw new Error(Rl)}}return ga={Sheets:du,SheetNames:Du,Workbook:R0},xl.bookSheets&&delete ga.Sheets,ga}function MC(ga,yl){yl=yl||{},p1(ga,"META-INF/manifest.xml")&&function(El,Al){for(var Pl,Rl,Ol=ax(El);Pl=hv.exec(Ol);)switch(Pl[3]){case"manifest":break;case"file-entry":if((Rl=am(Pl[0],!1)).path=="/"&&Rl.type!==Tp)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(Al&&Al.WTF)throw Pl}}(e1(ga,"META-INF/manifest.xml"),yl);var xl=q0(ga,"content.xml");if(!xl)throw new Error("Missing content.xml in ODS / UOF file");return yl=jC(Tm(xl),yl),p1(ga,"meta.xml")&&(yl.Props=f0(e1(ga,"meta.xml"))),yl}function NC(ga,yl){return jC(ga,yl)}var aR=function(){var ga=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),yl="<office:document-styles "+uv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+ga+"</office:document-styles>";return function(){return t1+yl}}(),LC=function(){function ga(xl,El,Al){var Pl=[];Pl.push('      <table:table table:name="'+bm(El.SheetNames[Al])+`" table:style-name="ta1">
`);var Rl=0,Ol=0,Ul=Y1(xl["!ref"]||"A1"),Wl=xl["!merges"]||[],Xl=0,ou=Array.isArray(xl);if(xl["!cols"])for(Ol=0;Ol<=Ul.e.c;++Ol)Pl.push("        <table:table-column"+(xl["!cols"][Ol]?' table:style-name="co'+xl["!cols"][Ol].ods+'"':"")+`></table:table-column>
`);for(var au="",du=xl["!rows"]||[],Rl=0;Rl<Ul.s.r;++Rl)au=du[Rl]?' table:style-name="ro'+du[Rl].ods+'"':"",Pl.push("        <table:table-row"+au+`></table:table-row>
`);for(;Rl<=Ul.e.r;++Rl){for(au=du[Rl]?' table:style-name="ro'+du[Rl].ods+'"':"",Pl.push("        <table:table-row"+au+`>
`),Ol=0;Ol<Ul.s.c;++Ol)Pl.push(yl);for(;Ol<=Ul.e.c;++Ol){for(var Du=!1,xu={},Qu="",Xl=0;Xl!=Wl.length;++Xl)if(!(Wl[Xl].s.c>Ol||Wl[Xl].s.r>Rl||Wl[Xl].e.c<Ol||Wl[Xl].e.r<Rl)){Wl[Xl].s.c==Ol&&Wl[Xl].s.r==Rl||(Du=!0),xu["table:number-columns-spanned"]=Wl[Xl].e.c-Wl[Xl].s.c+1,xu["table:number-rows-spanned"]=Wl[Xl].e.r-Wl[Xl].s.r+1;break}if(Du)Pl.push(`          <table:covered-table-cell/>
`);else{var Bu=cm({r:Rl,c:Ol}),Su=ou?(xl[Rl]||[])[Ol]:xl[Bu];if(Su&&Su.f&&(xu["table:formula"]=bm(("of:="+Su.f.replace(Rw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),Su.F&&Su.F.slice(0,Bu.length)==Bu&&(Yu=Y1(Su.F),xu["table:number-matrix-columns-spanned"]=Yu.e.c-Yu.s.c+1,xu["table:number-matrix-rows-spanned"]=Yu.e.r-Yu.s.r+1)),Su){switch(Su.t){case"b":Qu=Su.v?"TRUE":"FALSE",xu["office:value-type"]="boolean",xu["office:boolean-value"]=Su.v?"true":"false";break;case"n":Qu=Su.w||String(Su.v||0),xu["office:value-type"]="float",xu["office:value"]=Su.v||0;break;case"s":case"str":Qu=Su.v==null?"":Su.v,xu["office:value-type"]="string";break;case"d":Qu=Su.w||Dp(Su.v).toISOString(),xu["office:value-type"]="date",xu["office:date-value"]=Dp(Su.v).toISOString(),xu["table:style-name"]="ce1";break;default:Pl.push(yl);continue}var Yu,Bu=bm(Qu).replace(/  +/g,function(rp){return'<text:s text:c="'+rp.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");Su.l&&Su.l.Target&&(Bu=v0("text:a",Bu,{"xlink:href":(Yu=(Yu=(Yu=Su.l.Target).charAt(0)=="#"?"#"+Yu.slice(1).replace(/\./,"!"):Yu).charAt(0)!="#"&&!Yu.match(/^\w+:/)?"../"+Yu:Yu).replace(/&/g,"&amp;")})),Pl.push("          "+v0("table:table-cell",v0("text:p",Bu,{}),xu)+`
`)}else Pl.push(yl)}}Pl.push(`        </table:table-row>
`)}return Pl.push(`      </table:table>
`),Pl.join("")}var yl=`          <table:table-cell />
`;return function(xl,El){var Al=[t1],Pl=uv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),Rl=uv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});El.bookType=="fods"?(Al.push("<office:document"+Pl+Rl+`>
`),Al.push(Gp().replace(/office:document-meta/g,"office:meta"))):Al.push("<office:document-content"+Pl+`>
`),function(Ul,Wl){Ul.push(` <office:automatic-styles>
`),Ul.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),Ul.push(`   <number:month number:style="long"/>
`),Ul.push(`   <number:text>/</number:text>
`),Ul.push(`   <number:day number:style="long"/>
`),Ul.push(`   <number:text>/</number:text>
`),Ul.push(`   <number:year/>
`),Ul.push(`  </number:date-style>
`);var Xl=0;Wl.SheetNames.map(function(au){return Wl.Sheets[au]}).forEach(function(au){if(au&&au["!cols"]){for(var du=0;du<au["!cols"].length;++du)if(au["!cols"][du]){var Du=au["!cols"][du];if(Du.width==null&&Du.wpx==null&&Du.wch==null)continue;rx(Du),Du.ods=Xl,Du=au["!cols"][du].wpx+"px",Ul.push('  <style:style style:name="co'+Xl+`" style:family="table-column">
`),Ul.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Du+`"/>
`),Ul.push(`  </style:style>
`),++Xl}}});var ou=0;Wl.SheetNames.map(function(au){return Wl.Sheets[au]}).forEach(function(au){if(au&&au["!rows"])for(var du,Du=0;Du<au["!rows"].length;++Du)au["!rows"][Du]&&(au["!rows"][Du].ods=ou,du=au["!rows"][Du].hpx+"px",Ul.push('  <style:style style:name="ro'+ou+`" style:family="table-row">
`),Ul.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+du+`"/>
`),Ul.push(`  </style:style>
`),++ou)}),Ul.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),Ul.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),Ul.push(`  </style:style>
`),Ul.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),Ul.push(` </office:automatic-styles>
`)}(Al,xl),Al.push(`  <office:body>
`),Al.push(`    <office:spreadsheet>
`);for(var Ol=0;Ol!=xl.SheetNames.length;++Ol)Al.push(ga(xl.Sheets[xl.SheetNames[Ol]],xl,Ol));return Al.push(`    </office:spreadsheet>
`),Al.push(`  </office:body>
`),El.bookType=="fods"?Al.push("</office:document>"):Al.push("</office:document-content>"),Al.join("")}}();function BC(ga,yl){if(yl.bookType=="fods")return LC(ga,yl);var xl=xm(),El=[],Al=[];return j0(xl,"mimetype","application/vnd.oasis.opendocument.spreadsheet"),j0(xl,"content.xml",LC(ga,yl)),El.push(["content.xml","text/xml"]),Al.push(["content.xml","ContentFile"]),j0(xl,"styles.xml",aR(ga,yl)),El.push(["styles.xml","text/xml"]),Al.push(["styles.xml","StylesFile"]),j0(xl,"meta.xml",t1+Gp()),El.push(["meta.xml","text/xml"]),Al.push(["meta.xml","MetadataFile"]),j0(xl,"manifest.rdf",function(Pl){var Rl=[t1];Rl.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var Ol=0;Ol!=Pl.length;++Ol)Rl.push(Yp(Pl[Ol][0],Pl[Ol][1])),Rl.push([`  <rdf:Description rdf:about="">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+Pl[Ol][0]+`"/>
`,`  </rdf:Description>
`].join(""));return Rl.push(Yp("","Document","pkg")),Rl.push("</rdf:RDF>"),Rl.join("")}(Al)),El.push(["manifest.rdf","application/rdf+xml"]),j0(xl,"META-INF/manifest.xml",function(Pl){var Rl=[t1];Rl.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),Rl.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var Ol=0;Ol<Pl.length;++Ol)Rl.push('  <manifest:file-entry manifest:full-path="'+Pl[Ol][0]+'" manifest:media-type="'+Pl[Ol][1]+`"/>
`);return Rl.push("</manifest:manifest>"),Rl.join("")}(El)),xl}function Ky(ga){return new DataView(ga.buffer,ga.byteOffset,ga.byteLength)}function Bw(ga){return typeof TextDecoder<"u"?new TextDecoder().decode(ga):Tm(nu(ga))}function UC(ga){return typeof TextEncoder<"u"?new TextEncoder().encode(ga):Gl($v(ga))}function ox(ga){var yl=ga.reduce(function(Al,Pl){return Al+Pl.length},0),xl=new Uint8Array(yl),El=0;return ga.forEach(function(Al){xl.set(Al,El),El+=Al.length}),xl}function $C(ga){return 16843009*((ga=(858993459&(ga-=ga>>1&1431655765))+(ga>>2&858993459))+(ga>>4)&252645135)>>>24}function m2(ga,yl){var xl=yl?yl[0]:0,El=127&ga[xl];return 128<=ga[xl++]&&(El|=(127&ga[xl])<<7,ga[xl++]<128||(El|=(127&ga[xl])<<14,ga[xl++]<128||(El|=(127&ga[xl])<<21,ga[xl++]<128||(El+=(127&ga[xl])*Math.pow(2,28),++xl,ga[xl++]<128||(El+=(127&ga[xl])*Math.pow(2,35),++xl,ga[xl++]<128||(El+=(127&ga[xl])*Math.pow(2,42),++xl,ga[xl++])))))),yl&&(yl[0]=xl),El}function qm(ga){var yl=new Uint8Array(7);yl[0]=127&ga;var xl=1;return 127<ga&&(yl[xl-1]|=128,yl[xl]=ga>>7&127,++xl,ga<=16383||(yl[xl-1]|=128,yl[xl]=ga>>14&127,++xl,ga<=2097151||(yl[xl-1]|=128,yl[xl]=ga>>21&127,++xl,ga<=268435455||(yl[xl-1]|=128,yl[xl]=ga/256>>>21&127,++xl,ga<=34359738367||(yl[xl-1]|=128,yl[xl]=ga/65536>>>21&127,++xl,ga<=4398046511103||(yl[xl-1]|=128,yl[xl]=ga/16777216>>>21&127,++xl)))))),yl.slice(0,xl)}function y1(ga){var yl=0,xl=127&ga[0];return 128<=ga[yl++]&&(xl|=(127&ga[1])<<7,ga[yl++]<128||(xl|=(127&ga[2])<<14,ga[yl++]<128||(xl|=(127&ga[3])<<21,ga[+yl]<128||(xl|=(127&ga[4])<<28)))),xl}function Um(ga){for(var yl=[],xl=[0];xl[0]<ga.length;){var El,Al=xl[0],Pl=m2(ga,xl),Rl=7&Pl,Ol=0;if((Pl=Math.floor(Pl/8))==0)break;switch(Rl){case 0:for(var Ul=xl[0];128<=ga[xl[0]++];);El=ga.slice(Ul,xl[0]);break;case 5:Ol=4,El=ga.slice(xl[0],xl[0]+Ol),xl[0]+=Ol;break;case 1:Ol=8,El=ga.slice(xl[0],xl[0]+Ol),xl[0]+=Ol;break;case 2:Ol=m2(ga,xl),El=ga.slice(xl[0],xl[0]+Ol),xl[0]+=Ol;break;case 3:case 4:default:throw new Error("PB Type ".concat(Rl," for Field ").concat(Pl," at offset ").concat(Al))}var Wl={data:El,type:Rl};yl[Pl]==null?yl[Pl]=[Wl]:yl[Pl].push(Wl)}return yl}function S1(ga){var yl=[];return ga.forEach(function(xl,El){El!=0&&xl.forEach(function(Al){Al.data&&(yl.push(qm(8*El+Al.type)),Al.type==2&&yl.push(qm(Al.data.length)),yl.push(Al.data))})}),ox(yl)}function Uw(ga,yl){return(ga==null?void 0:ga.map(function(xl){return yl(xl.data)}))||[]}function oy(ga){for(var yl=[],xl=[0];xl[0]<ga.length;){var El=m2(ga,xl),Al=Um(ga.slice(xl[0],xl[0]+El));xl[0]+=El;var Pl={id:y1(Al[1][0].data),messages:[]};Al[2].forEach(function(Ul){var Ol=Um(Ul.data),Ul=y1(Ol[3][0].data);Pl.messages.push({meta:Ol,data:ga.slice(xl[0],xl[0]+Ul)}),xl[0]+=Ul}),(El=Al[3])!=null&&El[0]&&(Pl.merge=0<y1(Al[3][0].data)>>>0),yl.push(Pl)}return yl}function Cx(ga){var yl=[];return ga.forEach(function(xl){var El=[[],[{data:qm(xl.id),type:0}],[]];xl.merge!=null&&(El[3]=[{data:qm(+!!xl.merge),type:0}]);var Al=[];xl.messages.forEach(function(Pl){Al.push(Pl.data),Pl.meta[3]=[{type:0,data:qm(Pl.data.length)}],El[2].push({data:S1(Pl.meta),type:2})}),xl=S1(El),yl.push(qm(xl.length)),yl.push(xl),Al.forEach(function(Pl){return yl.push(Pl)})}),ox(yl)}function ay(ga){for(var yl=[],xl=0;xl<ga.length;){var El=ga[xl++],Al=ga[xl]|ga[xl+1]<<8|ga[xl+2]<<16;xl+=3,yl.push(function(Pl,Rl){if(Pl!=0)throw new Error("Unexpected Snappy chunk type ".concat(Pl));for(var Ol=[0],Ul=m2(Rl,Ol),Wl=[];Ol[0]<Rl.length;){var Xl=3&Rl[Ol[0]];if(Xl!=0){var ou=0,au=0;if(Xl==1?(au=4+(Rl[Ol[0]]>>2&7),ou=(224&Rl[Ol[0]++])<<3,ou|=Rl[Ol[0]++]):(au=1+(Rl[Ol[0]++]>>2),Xl==2?(ou=Rl[Ol[0]]|Rl[Ol[0]+1]<<8,Ol[0]+=2):(ou=(Rl[Ol[0]]|Rl[Ol[0]+1]<<8|Rl[Ol[0]+2]<<16|Rl[Ol[0]+3]<<24)>>>0,Ol[0]+=4)),Wl=[ox(Wl)],ou==0)throw new Error("Invalid offset 0");if(ou>Wl[0].length)throw new Error("Invalid offset beyond length");if(ou<=au)for(Wl.push(Wl[0].slice(-ou)),au-=ou;au>=Wl[Wl.length-1].length;)Wl.push(Wl[Wl.length-1]),au-=Wl[Wl.length-1].length;Wl.push(Wl[0].slice(-ou,-ou+au))}else Xl=Rl[Ol[0]++]>>2,Xl<60?++Xl:(ou=Xl-59,Xl=Rl[Ol[0]],1<ou&&(Xl|=Rl[Ol[0]+1]<<8),2<ou&&(Xl|=Rl[Ol[0]+2]<<16),3<ou&&(Xl|=Rl[Ol[0]+3]<<24),Xl>>>=0,Xl++,Ol[0]+=ou),Wl.push(Rl.slice(Ol[0],Ol[0]+Xl)),Ol[0]+=Xl}if((Pl=ox(Wl)).length!=Ul)throw new Error("Unexpected length: ".concat(Pl.length," != ").concat(Ul));return Pl}(El,ga.slice(xl,xl+Al))),xl+=Al}if(xl!==ga.length)throw new Error("data is not a valid framed stream!");return ox(yl)}function _x(ga){for(var yl=[],xl=0;xl<ga.length;){var El=Math.min(ga.length-xl,268435455),Al=new Uint8Array(4);yl.push(Al);var Pl=qm(El),Rl=Pl.length;yl.push(Pl),El<=60?(Rl++,yl.push(new Uint8Array([El-1<<2]))):El<=256?(Rl+=2,yl.push(new Uint8Array([240,El-1&255]))):El<=65536?(Rl+=3,yl.push(new Uint8Array([244,El-1&255,El-1>>8&255]))):El<=16777216?(Rl+=4,yl.push(new Uint8Array([248,El-1&255,El-1>>8&255,El-1>>16&255]))):El<=4294967296&&(Rl+=5,yl.push(new Uint8Array([252,El-1&255,El-1>>8&255,El-1>>16&255,El-1>>>24&255]))),yl.push(ga.slice(xl,xl+El)),Rl+=El,Al[0]=0,Al[1]=255&Rl,Al[2]=Rl>>8&255,Al[3]=Rl>>16&255,xl+=El}return ox(yl)}function lR(ga,yl,xl){var El,Al=Ky(ga),Pl=Al.getUint32(8,!0),Rl=12,Ol=-1,Ul=-1,Wl=NaN,Xl=NaN,ou=new Date(2001,0,1);switch(1&Pl&&(Wl=function(au,du){for(var Du=(127&au[du+15])<<7|au[du+14]>>1,xu=1&au[du+14],Qu=du+13;du<=Qu;--Qu)xu=256*xu+au[Qu];return(128&au[du+15]?-xu:xu)*Math.pow(10,Du-6176)}(ga,Rl),Rl+=16),2&Pl&&(Xl=Al.getFloat64(Rl,!0),Rl+=8),4&Pl&&(ou.setTime(ou.getTime()+1e3*Al.getFloat64(Rl,!0)),Rl+=8),8&Pl&&(Ul=Al.getUint32(Rl,!0),Rl+=4),16&Pl&&(Ol=Al.getUint32(Rl,!0),Rl+=4),ga[1]){case 0:break;case 2:El={t:"n",v:Wl};break;case 3:El={t:"s",v:yl[Ul]};break;case 5:El={t:"d",v:ou};break;case 6:El={t:"b",v:0<Xl};break;case 7:El={t:"n",v:Xl/86400};break;case 8:El={t:"e",v:0};break;case 9:if(!(-1<Ol))throw new Error("Unsupported cell type ".concat(ga[1]," : ").concat(31&Pl," : ").concat(ga.slice(0,4)));El={t:"s",v:xl[Ol]};break;case 10:El={t:"n",v:Wl};break;default:throw new Error("Unsupported cell type ".concat(ga[1]," : ").concat(31&Pl," : ").concat(ga.slice(0,4)))}return El}function $w(ga,yl){var xl=new Uint8Array(32),El=Ky(xl),Al=12,Pl=0;switch(xl[0]=5,ga.t){case"n":xl[1]=2,function(Rl,Ol,Ul){var Wl=Math.floor(Ul==0?0:Math.LOG10E*Math.log(Math.abs(Ul)))+6176-16,Xl=Ul/Math.pow(10,Wl-6176);Rl[Ol+15]|=Wl>>7,Rl[Ol+14]|=(127&Wl)<<1;for(var ou=0;1<=Xl;++ou,Xl/=256)Rl[Ol+ou]=255&Xl;Rl[Ol+15]|=0<=Ul?0:128}(xl,Al,ga.v),Pl|=1,Al+=16;break;case"b":xl[1]=6,El.setFloat64(Al,ga.v?1:0,!0),Pl|=2,Al+=8;break;case"s":if(yl.indexOf(ga.v)==-1)throw new Error("Value ".concat(ga.v," missing from SST!"));xl[1]=3,El.setUint32(Al,yl.indexOf(ga.v),!0),Pl|=8,Al+=4;break;default:throw"unsupported cell type "+ga.t}return El.setUint32(8,Pl,!0),xl.slice(0,Al)}function zw(ga,yl){var xl=new Uint8Array(32),El=Ky(xl),Al=12,Pl=0;switch(xl[0]=3,ga.t){case"n":xl[2]=2,El.setFloat64(Al,ga.v,!0),Pl|=32,Al+=8;break;case"b":xl[2]=6,El.setFloat64(Al,ga.v?1:0,!0),Pl|=32,Al+=8;break;case"s":if(yl.indexOf(ga.v)==-1)throw new Error("Value ".concat(ga.v," missing from SST!"));xl[2]=3,El.setUint32(Al,yl.indexOf(ga.v),!0),Pl|=16,Al+=4;break;default:throw"unsupported cell type "+ga.t}return El.setUint32(4,Pl,!0),xl.slice(0,Al)}function cR(ga,yl,xl){switch(ga[0]){case 0:case 1:case 2:case 3:return function(El,Al,Pl,Rl){var Ol,Ul=Ky(El),Wl=Ul.getUint32(4,!0),Xl=(1<Rl?12:8)+4*$C(Wl&(1<Rl?3470:398)),ou=-1,au=-1,du=NaN,Du=new Date(2001,0,1);switch(512&Wl&&(ou=Ul.getUint32(Xl,!0),Xl+=4),Xl+=4*$C(Wl&(1<Rl?12288:4096)),16&Wl&&(au=Ul.getUint32(Xl,!0),Xl+=4),32&Wl&&(du=Ul.getFloat64(Xl,!0),Xl+=8),64&Wl&&(Du.setTime(Du.getTime()+1e3*Ul.getFloat64(Xl,!0)),Xl+=8),El[2]){case 0:break;case 2:Ol={t:"n",v:du};break;case 3:Ol={t:"s",v:Al[au]};break;case 5:Ol={t:"d",v:Du};break;case 6:Ol={t:"b",v:0<du};break;case 7:Ol={t:"n",v:du/86400};break;case 8:Ol={t:"e",v:0};break;case 9:if(-1<ou)Ol={t:"s",v:Pl[ou]};else if(-1<au)Ol={t:"s",v:Al[au]};else{if(isNaN(du))throw new Error("Unsupported cell type ".concat(El.slice(0,4)));Ol={t:"n",v:du}}break;default:throw new Error("Unsupported cell type ".concat(El.slice(0,4)))}return Ol}(ga,yl,xl,ga[0]);case 5:return lR(ga,yl,xl);default:throw new Error("Unsupported payload version ".concat(ga[0]))}}function cv(ga){return m2(Um(ga)[1][0].data)}function zC(ga,El){var El=Um(El.data),xl=y1(El[1][0].data),El=El[3],Al=[];return(El||[]).forEach(function(Pl){var Rl=Um(Pl.data),Ol=y1(Rl[1][0].data)>>>0;switch(xl){case 1:Al[Ol]=Bw(Rl[3][0].data);break;case 8:var Wl=Um(ga[cv(Rl[9][0].data)][0].data),Ul=ga[cv(Wl[1][0].data)][0],Wl=y1(Ul.meta[1][0].data);if(Wl!=2001)throw new Error("2000 unexpected reference to ".concat(Wl));Ul=Um(Ul.data),Al[Ol]=Ul[3].map(function(Xl){return Bw(Xl.data)}).join("")}}),Al}function uR(ga,Al){var xl=Um(Al.data),El=(Al=xl==null?void 0:xl[7])!=null&&Al[0]?0<y1(xl[7][0].data)>>>0?1:0:-1,Al=Uw(xl[5],function(Pl){return function(Rl,Ol){var Ul,Wl,Xl,ou=Um(Rl),au=y1(ou[1][0].data)>>>0,du=y1(ou[2][0].data)>>>0,Du=((Rl=(Du=ou[8])==null?void 0:Du[0])==null?void 0:Rl.data)&&0<y1(ou[8][0].data)||!1;if((Rl=(Rl=ou[7])==null?void 0:Rl[0])!=null&&Rl.data&&Ol!=0)Wl=(Ul=(Ul=ou[7])==null?void 0:Ul[0])==null?void 0:Ul.data,Xl=(Ul=(Ul=ou[6])==null?void 0:Ul[0])==null?void 0:Ul.data;else{if((Ul=(Ul=ou[4])==null?void 0:Ul[0])==null||!Ul.data||Ol==1)throw"NUMBERS Tile missing ".concat(Ol," cell storage");Wl=(Ol=(Ol=ou[4])==null?void 0:Ol[0])==null?void 0:Ol.data,Xl=(ou=(ou=ou[3])==null?void 0:ou[0])==null?void 0:ou.data}for(var xu=Du?4:1,Qu=Ky(Wl),Bu=[],Su=0;Su<Wl.length/2;++Su){var Yu=Qu.getUint16(2*Su,!0);Yu<65535&&Bu.push([Su,Yu])}if(Bu.length!=du)throw"Expected ".concat(du," cells, found ").concat(Bu.length);for(var ep=[],Su=0;Su<Bu.length-1;++Su)ep[Bu[Su][0]]=Xl.subarray(Bu[Su][1]*xu,Bu[Su+1][1]*xu);return 1<=Bu.length&&(ep[Bu[Bu.length-1][0]]=Xl.subarray(Bu[Bu.length-1][1]*xu)),{R:au,cells:ep}}(Pl,El)});return{nrows:y1(xl[4][0].data)>>>0,data:Al.reduce(function(Pl,Rl){return Pl[Rl.R]||(Pl[Rl.R]=[]),Rl.cells.forEach(function(Ol,Ul){if(Pl[Rl.R][Ul])throw new Error("Duplicate cell r=".concat(Rl.R," c=").concat(Ul));Pl[Rl.R][Ul]=Ol}),Pl},[])}}function hR(ga,Al){var xl={"!ref":"A1"},El=ga[cv(Um(Al.data)[2][0].data)],Al=y1(El[0].meta[1][0].data);if(Al!=6001)throw new Error("6000 unexpected reference to ".concat(Al));return function(Pl,Ul,Ol){var ou=Um(Ul.data);if((Ul={s:{r:0,c:0},e:{r:0,c:0}}).e.r=(y1(ou[6][0].data)>>>0)-1,Ul.e.r<0)throw new Error("Invalid row varint ".concat(ou[6][0].data));if(Ul.e.c=(y1(ou[7][0].data)>>>0)-1,Ul.e.c<0)throw new Error("Invalid col varint ".concat(ou[7][0].data));Ol["!ref"]=fm(Ul);var Ul=Um(ou[4][0].data),Wl=zC(Pl,Pl[cv(Ul[4][0].data)][0]),Xl=(ou=Ul[17])!=null&&ou[0]?zC(Pl,Pl[cv(Ul[17][0].data)][0]):[],ou=Um(Ul[3][0].data),au=0;if(ou[1].forEach(function(Du){var xu=Um(Du.data),Du=Pl[cv(xu[2][0].data)][0],xu=y1(Du.meta[1][0].data);if(xu!=6002)throw new Error("6001 unexpected reference to ".concat(xu));Du=uR(0,Du),Du.data.forEach(function(Qu,Bu){Qu.forEach(function(Su,Yu){Yu=cm({r:au+Bu,c:Yu}),Su=cR(Su,Wl,Xl),Su&&(Ol[Yu]=Su)})}),au+=Du.nrows}),(ou=Ul[13])!=null&&ou[0]){if(ou=Pl[cv(Ul[13][0].data)][0],Ul=y1(ou.meta[1][0].data),Ul!=6144)throw new Error("Expected merge type 6144, found ".concat(Ul));Ol["!merges"]=(ou=Um(ou.data))==null?void 0:ou[1].map(function(Du){var xu=Um(Du.data),Du=Ky(Um(xu[1][0].data)[1][0].data),xu=Ky(Um(xu[2][0].data)[1][0].data);return{s:{r:Du.getUint16(0,!0),c:Du.getUint16(2,!0)},e:{r:Du.getUint16(0,!0)+xu.getUint16(0,!0)-1,c:Du.getUint16(2,!0)+xu.getUint16(2,!0)-1}}})}}(ga,El[0],xl),xl}function dR(ga,yl){var xl=Xw(),El=Um(yl.data);if((yl=El[2])!=null&&yl[0])throw new Error("Keynote presentations are not supported");if(Uw(El[1],cv).forEach(function(Al){ga[Al].forEach(function(Pl){var Rl,Ol,Ul,Wl;y1(Pl.meta[1][0].data)==2&&(Ol=ga,Pl=Um((Ul=Pl).data),Wl={name:(Ul=Pl[1])!=null&&Ul[0]?Bw(Pl[1][0].data):"",sheets:[]},Uw(Pl[2],cv).forEach(function(Xl){Ol[Xl].forEach(function(ou){y1(ou.meta[1][0].data)==6e3&&Wl.sheets.push(hR(Ol,ou))})}),(Rl=Wl).sheets.forEach(function(Xl,ou){Zw(xl,Xl,ou==0?Rl.name:Rl.name+"_"+ou,!0)}))})}),xl.SheetNames.length==0)throw new Error("Empty NUMBERS file");return xl}function WC(ga){var yl={},xl=[];if(ga.FullPaths.forEach(function(Al){if(Al.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),ga.FileIndex.forEach(function(Al){if(Al.name.match(/\.iwa$/)){var Pl,Rl;try{Pl=ay(Al.content)}catch(Ol){return console.log("?? "+Al.content.length+" "+(Ol.message||Ol))}try{Rl=oy(Pl)}catch(Ol){return console.log("## "+(Ol.message||Ol))}Rl.forEach(function(Ol){yl[Ol.id]=Ol.messages,xl.push(Ol.id)})}}),!xl.length)throw new Error("File has no messages");if((ga=(ga=(ga=(ga=yl==null?void 0:yl[1])==null?void 0:ga[0])==null?void 0:ga.meta)==null?void 0:ga[1])!=null&&ga[0].data&&y1(yl[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var El=((ga=(ga=(ga=(ga=yl==null?void 0:yl[1])==null?void 0:ga[0])==null?void 0:ga.meta)==null?void 0:ga[1])==null?void 0:ga[0].data)&&y1(yl[1][0].meta[1][0].data)==1&&yl[1][0];if(El||xl.forEach(function(Al){yl[Al].forEach(function(Pl){if(y1(Pl.meta[1][0].data)>>>0==1){if(El)throw new Error("Document has multiple roots");El=Pl}})}),!El)throw new Error("Cannot find Document root");return dR(yl,El)}function fR(ga,yl){if(!yl||!yl.numbers)throw new Error("Must pass a `numbers` option -- check the README");var xl=ga.Sheets[ga.SheetNames[0]];1<ga.SheetNames.length&&console.error("The Numbers writer currently writes only the first table");var El=Y1(xl["!ref"]);El.s.r=El.s.c=0;var Al=!1;9<El.e.c&&(Al=!0,El.e.c=9),49<El.e.r&&(Al=!0,El.e.r=49),Al&&console.error("The Numbers writer is currently limited to ".concat(fm(El)));var Pl=X2(xl,{range:El,header:1}),Rl=["~Sh33tJ5~"];Pl.forEach(function(b0){return b0.forEach(function(S0){typeof S0=="string"&&Rl.push(S0)})});var Ol={},Ul=[],Wl=Pp.read(yl.numbers,{type:"base64"});Wl.FileIndex.map(function(b0,S0){return[b0,Wl.FullPaths[S0]]}).forEach(function(b0){var S0=b0[0],y0=b0[1];S0.type==2&&S0.name.match(/\.iwa/)&&oy(ay(S0.content)).forEach(function(o0){Ul.push(o0.id),Ol[o0.id]={deps:[],location:y0,type:y1(o0.messages[0].meta[1][0].data)}})}),Ul.sort(function(b0,S0){return b0-S0});var Xl=Ul.filter(function(b0){return 1<b0}).map(function(b0){return[b0,qm(b0)]});Wl.FileIndex.map(function(b0,S0){return[b0,Wl.FullPaths[S0]]}).forEach(function(b0){var S0=b0[0];b0[1],S0.name.match(/\.iwa/)&&oy(ay(S0.content)).forEach(function(y0){y0.messages.forEach(function(o0){Xl.forEach(function(z0){y0.messages.some(function(G0){return y1(G0.meta[1][0].data)!=11006&&function(rm,Om){e:for(var N0=0;N0<=rm.length-Om.length;++N0){for(var c0=0;c0<Om.length;++c0)if(rm[N0+c0]!=Om[c0])continue e;return!0}return!1}(G0.data,z0[1])})&&Ol[z0[0]].deps.push(y0.id)})})})});for(var ou,au=Pp.find(Wl,Ol[1].location),du=oy(ay(au.content)),Du=0;Du<du.length;++Du){var xu=du[Du];xu.id==1&&(ou=xu)}for(var Qu=cv(Um(ou.messages[0].data)[1][0].data),du=oy(ay((au=Pp.find(Wl,Ol[Qu].location)).content)),Du=0;Du<du.length;++Du)(xu=du[Du]).id==Qu&&(ou=xu);var e0=Um(ou.messages[0].data);for(e0[1]=[{type:2,data:UC(ga.SheetNames[0])}],ou.messages[0].data=S1(e0),au.content=_x(Cx(du)),au.size=au.content.length,Qu=cv(e0[2][0].data),du=oy(ay((au=Pp.find(Wl,Ol[Qu].location)).content)),Du=0;Du<du.length;++Du)(xu=du[Du]).id==Qu&&(ou=xu);for(Qu=cv(Um(ou.messages[0].data)[2][0].data),du=oy(ay((au=Pp.find(Wl,Ol[Qu].location)).content)),Du=0;Du<du.length;++Du)(xu=du[Du]).id==Qu&&(ou=xu);Al=Um(ou.messages[0].data),Al[6][0].data=qm(El.e.r+1),Al[7][0].data=qm(El.e.c+1);for(var Bu=cv(Al[46][0].data),yl=Pp.find(Wl,Ol[Bu].location),Su=oy(ay(yl.content)),Yu=0;Yu<Su.length&&Su[Yu].id!=Bu;++Yu);if(Su[Yu].id!=Bu)throw"Bad ColumnRowUIDMapArchive";var ep=Um(Su[Yu].messages[0].data);ep[1]=[],ep[2]=[],ep[3]=[];for(var rp=0;rp<=El.e.c;++rp)ep[1].push({type:2,data:S1([[],[{type:0,data:qm(rp+420690)}],[{type:0,data:qm(rp+420690)}]])}),ep[2].push({type:0,data:qm(rp)}),ep[3].push({type:0,data:qm(rp)});ep[4]=[],ep[5]=[],ep[6]=[];for(var bp=0;bp<=El.e.r;++bp)ep[4].push({type:2,data:S1([[],[{type:0,data:qm(bp+726270)}],[{type:0,data:qm(bp+726270)}]])}),ep[5].push({type:0,data:qm(bp)}),ep[6].push({type:0,data:qm(bp)});if(Su[Yu].messages[0].data=S1(ep),yl.content=_x(Cx(Su)),yl.size=yl.content.length,delete Al[46],ga=Um(Al[4][0].data),ga[7][0].data=qm(El.e.r+1),e0=cv(Um(ga[1][0].data)[2][0].data),(Su=oy(ay((yl=Pp.find(Wl,Ol[e0].location)).content)))[0].id!=e0)throw"Bad HeaderStorageBucket";for(var jp=Um(Su[0].messages[0].data),bp=0;bp<Pl.length;++bp){var Ap=Um(jp[2][0].data);Ap[1][0].data=qm(bp),Ap[4][0].data=qm(Pl[bp].length),jp[2][bp]={type:jp[2][0].type,data:S1(Ap)}}Su[0].messages[0].data=S1(jp),yl.content=_x(Cx(Su)),yl.size=yl.content.length;var $p,e0=cv(ga[2][0].data);if((Su=oy(ay((yl=Pp.find(Wl,Ol[e0].location)).content)))[0].id!=e0)throw"Bad HeaderStorageBucket";for(jp=Um(Su[0].messages[0].data),rp=0;rp<=El.e.c;++rp)(Ap=Um(jp[2][0].data))[1][0].data=qm(rp),Ap[4][0].data=qm(El.e.r+1),jp[2][rp]={type:jp[2][0].type,data:S1(Ap)};Su[0].messages[0].data=S1(jp),yl.content=_x(Cx(Su)),yl.size=yl.content.length,xl["!merges"]&&(D0=function(b0){for(var S0=927262;S0<2e6;++S0)if(!Ol[S0])return Ol[S0]=b0,S0;throw new Error("Too many messages")}({type:6144,deps:[Qu],location:Ol[Qu].location}),$p=[[],[]],xl["!merges"].forEach(function(b0){$p[1].push({type:2,data:S1([[],[{type:2,data:S1([[],[{type:5,data:new Uint8Array(new Uint16Array([b0.s.r,b0.s.c]).buffer)}]])}],[{type:2,data:S1([[],[{type:5,data:new Uint8Array(new Uint16Array([b0.e.r-b0.s.r+1,b0.e.c-b0.s.c+1]).buffer)}]])}]])})}),ga[13]=[{type:2,data:S1([[],[{type:0,data:qm(D0)}]])}],du.push({id:D0,messages:[(h0=6144,D0=S1($p),{meta:[[],[{type:0,data:qm(h0)}]],data:D0})]}));var t0=cv(ga[4][0].data);(function(){for(var b0,S0=Pp.find(Wl,Ol[t0].location),y0=oy(ay(S0.content)),o0=0;o0<y0.length;++o0){var z0=y0[o0];z0.id==t0&&(b0=z0)}var G0=Um(b0.messages[0].data);G0[3]=[],Rl.forEach(function(rm,Om){G0[3].push({type:2,data:S1([[],[{type:0,data:qm(Om)}],[{type:0,data:qm(1)}],[{type:2,data:UC(rm)}]])})}),b0.messages[0].data=S1(G0),S0.content=_x(Cx(y0)),S0.size=S0.content.length})();var Vp=Um(ga[3][0].data),h0=Vp[1][0];delete Vp[2];var h0,D0,D0=Um(h0.data),R0=cv(D0[2][0].data);return function(){for(var b0,S0=Pp.find(Wl,Ol[R0].location),y0=oy(ay(S0.content)),o0=0;o0<y0.length;++o0){var z0=y0[o0];z0.id==R0&&(b0=z0)}var G0=Um(b0.messages[0].data);delete G0[6],delete Vp[7];var rm=new Uint8Array(G0[5][0].data);G0[5]=[];for(var Om=0,N0=0;N0<=El.e.r;++N0){var c0=Um(rm);Om+=function(ym,$m,Mm){var Jm,I1;if((Jm=ym[6])==null||!Jm[0]||(I1=ym[7])==null||!I1[0])throw"Mutation only works on post-BNC storages!";if((I1=(I1=ym[8])==null?void 0:I1[0])!=null&&I1.data&&0<y1(ym[8][0].data))throw"Math only works with normal offsets";for(var Cp,Qm,Km=0,Z1=Ky(ym[7][0].data),uy=0,cp=[],Kp=Ky(ym[4][0].data),yp=0,zp=[],vp=0;vp<$m.length;++vp)if($m[vp]!=null){switch(Z1.setUint16(2*vp,uy,!0),Kp.setUint16(2*vp,yp,!0),typeof $m[vp]){case"string":Cp=$w({t:"s",v:$m[vp]},Mm),Qm=zw({t:"s",v:$m[vp]},Mm);break;case"number":Cp=$w({t:"n",v:$m[vp]},Mm),Qm=zw({t:"n",v:$m[vp]},Mm);break;case"boolean":Cp=$w({t:"b",v:$m[vp]},Mm),Qm=zw({t:"b",v:$m[vp]},Mm);break;default:throw new Error("Unsupported value "+$m[vp])}cp.push(Cp),uy+=Cp.length,zp.push(Qm),yp+=Qm.length,++Km}else Z1.setUint16(2*vp,65535,!0),Kp.setUint16(2*vp,65535);for(ym[2][0].data=qm(Km);vp<ym[7][0].data.length/2;++vp)Z1.setUint16(2*vp,65535,!0),Kp.setUint16(2*vp,65535,!0);return ym[6][0].data=ox(cp),ym[3][0].data=ox(zp),Km}(c0,Pl[N0],Rl),c0[1][0].data=qm(N0),G0[5].push({data:S1(c0),type:2})}G0[1]=[{type:0,data:qm(El.e.c+1)}],G0[2]=[{type:0,data:qm(El.e.r+1)}],G0[3]=[{type:0,data:qm(Om)}],G0[4]=[{type:0,data:qm(El.e.r+1)}],b0.messages[0].data=S1(G0),S0.content=_x(Cx(y0)),S0.size=S0.content.length}(),h0.data=S1(D0),ga[3][0].data=S1(Vp),Al[4][0].data=S1(ga),ou.messages[0].data=S1(Al),au.content=_x(Cx(du)),au.size=au.content.length,Wl}function HC(ga){return function(yl){for(var xl=0;xl!=ga.length;++xl){var El=ga[xl];yl[El[0]]===void 0&&(yl[El[0]]=El[1]),El[2]==="n"&&(yl[El[0]]=Number(yl[El[0]]))}}}function Ww(ga){HC([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(ga)}function Hw(ga){HC([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(ga)}function pR(ga,yl){if(!ga)return 0;try{ga=yl.map(function(xl){return xl.id||(xl.id=xl.strRelID),[xl.name,ga["!id"][xl.id].Target,(xl=ga["!id"][xl.id].Type,-1<_u.WS.indexOf(xl)?"sheet":_u.CS&&xl==_u.CS?"chart":_u.DS&&xl==_u.DS?"dialog":_u.MS&&xl==_u.MS?"macro":xl&&xl.length?xl:"sheet")]})}catch{return null}return ga&&ga.length!==0?ga:null}function gR(ga,yl,xl,El,Al,Pl,Rl,Ol,Ul,Wl,Xl,ou){try{Pl[El]=ap(q0(ga,xl,!0),yl);var au=e1(ga,yl);switch(Ol){case"sheet":xu=FT(au,yl,Al,Ul,Pl[El],Wl,Xl,ou);break;case"chart":if(!(xu=jT(au,yl,Al,Ul,Pl[El],Wl))||!xu["!drawel"])break;var Du=Pv(xu["!drawel"].Target,yl),du=tp(Du),Su=Pv((Su=q0(ga,Du,!0),du=ap(q0(ga,du,!0),Du),Su?(Su=(Su.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1],du["!id"][Su].Target):"??"),Du),Du=tp(Su),xu=ST(q0(ga,Su,!0),0,0,ap(q0(ga,Du,!0),Su),0,xu);break;case"macro":Bu=yl,Pl[El],Bu.slice(-4),xu={"!type":"macro"};break;case"dialog":Bu=yl,Pl[El],Bu.slice(-4),xu={"!type":"dialog"};break;default:throw new Error("Unrecognized sheet type "+Ol)}Rl[El]=xu;var Qu=[];Pl&&Pl[El]&&Ju(Pl[El]).forEach(function(Yu){var ep,rp,bp,jp,Ap,$p,e0="";if(Pl[El][Yu].Type==_u.CMNT){e0=Pv(Pl[El][Yu].Target,yl);var t0=LT(e1(ga,e0,!0),e0,Ul);if(!t0||!t0.length)return;US(xu,t0,!1)}Pl[El][Yu].Type==_u.TCMNT&&(e0=Pv(Pl[El][Yu].Target,yl),Qu=Qu.concat((ep=e1(ga,e0,!0),rp=Ul,jp=!(bp=[]),Ap={},$p=0,ep.replace(hm,function(Vp,h0){var D0=am(Vp);switch(x1(D0[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":break;case"<threadedComment":Ap={author:D0.personId,guid:D0.id,ref:D0.ref,T:1};break;case"</threadedComment>":Ap.t!=null&&bp.push(Ap);break;case"<text>":case"<text":$p=h0+Vp.length;break;case"</text>":Ap.t=ep.slice($p,h0).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":jp=!0;break;case"</mentions>":jp=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":jp=!0;break;case"</ext>":jp=!1;break;default:if(!jp&&rp.WTF)throw new Error("unrecognized "+D0[0]+" in threaded comments")}return Vp}),bp)))}),Qu&&Qu.length&&US(xu,Qu,!0,Ul.people||[])}catch(Yu){if(Ul.WTF)throw Yu}var Bu,Su}function ly(ga){return ga.charAt(0)=="/"?ga.slice(1):ga}function qC(ga,yl){if(Sp(),Ww(yl=yl||{}),p1(ga,"META-INF/manifest.xml")||p1(ga,"objectdata.xml"))return MC(ga,yl);if(p1(ga,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(ga.FileIndex)return WC(ga);var xl=Pp.utils.cfb_new();return q1(ga).forEach(function(y0){j0(xl,y0,function(z0,G0,rm){return Pm(s1(z0,G0))}(ga,y0))}),WC(xl)}if(!p1(ga,"[Content_Types].xml"))throw p1(ga,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):p1(ga,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var El,Al,Pl=q1(ga),Rl=function(y0){var o0=ku();if(!y0||!y0.match)return o0;var z0={};if((y0.match(hm)||[]).forEach(function(G0){var rm=am(G0);switch(rm[0].replace(K0,"<")){case"<?xml":break;case"<Types":o0.xmlns=rm["xmlns"+(rm[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":z0[rm.Extension]=rm.ContentType;break;case"<Override":o0[tu[rm.ContentType]]!==void 0&&o0[tu[rm.ContentType]].push(rm.PartName)}}),o0.xmlns!==Cm.CT)throw new Error("Unknown Namespace: "+o0.xmlns);return o0.calcchain=0<o0.calcchains.length?o0.calcchains[0]:"",o0.sst=0<o0.strs.length?o0.strs[0]:"",o0.style=0<o0.styles.length?o0.styles[0]:"",o0.defaults=z0,delete o0.calcchains,o0}(q0(ga,"[Content_Types].xml")),Ap=!1;if(Rl.workbooks.length===0&&e1(ga,Al="xl/workbook.xml",!0)&&Rl.workbooks.push(Al),Rl.workbooks.length===0){if(!e1(ga,Al="xl/workbook.bin",!0))throw new Error("Could not find workbook");Rl.workbooks.push(Al),Ap=!0}Rl.workbooks[0].slice(-3)=="bin"&&(Ap=!0);var Ol={},Ul={};if(!yl.bookSheets&&!yl.bookProps){if(u2=[],Rl.sst)try{u2=NT(e1(ga,ly(Rl.sst)),Rl.sst,yl)}catch(y0){if(yl.WTF)throw y0}yl.cellStyles&&Rl.themes.length&&(Du=q0(ga,Rl.themes[0].replace(/^\//,""),!0)||"",Rl.themes[0],Ol=NS(Du,yl)),Rl.style&&(Ul=MT(e1(ga,ly(Rl.style)),Rl.style,Ol,yl))}Rl.links.map(function(y0){try{return ap(q0(ga,tp(ly(y0))),y0),UT(e1(ga,ly(y0)),0,y0,yl)}catch{}});var Wl,Xl,ou,au=DT(e1(ga,ly(Rl.workbooks[0])),Rl.workbooks[0],yl),du={},Du="";Rl.coreprops.length&&((Du=e1(ga,ly(Rl.coreprops[0]),!0))&&(du=f0(Du)),Rl.extprops.length!==0&&(Du=e1(ga,ly(Rl.extprops[0]),!0))&&(xu=yl,ou={},Xl=(Xl=du)||{},Wl=Tm(Wl=Du),s0.forEach(function(y0){var o0=(Wl.match(My(y0[0]))||[])[1];switch(y0[2]){case"string":o0&&(Xl[y0[1]]=dm(o0));break;case"bool":Xl[y0[1]]=o0==="true";break;case"raw":var z0=Wl.match(new RegExp("<"+y0[0]+"[^>]*>([\\s\\S]*?)</"+y0[0]+">"));z0&&0<z0.length&&(ou[y0[1]]=z0[1])}}),ou.HeadingPairs&&ou.TitlesOfParts&&x0(ou.HeadingPairs,ou.TitlesOfParts,Xl,xu)));var xu={};yl.bookSheets&&!yl.bookProps||Rl.custprops.length!==0&&(Du=q0(ga,ly(Rl.custprops[0]),!0))&&(xu=function(y0,o0){var z0={},G0="",rm=y0.match(lm);if(rm)for(var Om=0;Om!=rm.length;++Om){var N0=rm[Om],c0=am(N0);switch(c0[0]){case"<?xml":case"<Properties":break;case"<property":G0=dm(c0.name);break;case"</property>":G0=null;break;default:if(N0.indexOf("<vt:")===0){var ym=N0.split(">"),$m=ym[0].slice(4),Mm=ym[1];switch($m){case"lpstr":case"bstr":case"lpwstr":z0[G0]=dm(Mm);break;case"bool":z0[G0]=J0(Mm);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":z0[G0]=parseInt(Mm,10);break;case"r4":case"r8":case"decimal":z0[G0]=parseFloat(Mm);break;case"filetime":case"date":z0[G0]=Dp(Mm);break;case"cy":case"error":z0[G0]=dm(Mm);break;default:if($m.slice(-1)=="/")break;o0.WTF&&typeof console<"u"&&console.warn("Unexpected",N0,$m,ym)}}else if(N0.slice(0,2)!=="</"&&o0.WTF)throw new Error(N0)}}return z0}(Du,yl));var Qu={};if((yl.bookSheets||yl.bookProps)&&(au.Sheets?El=au.Sheets.map(function(y0){return y0.name}):du.Worksheets&&0<du.SheetNames.length&&(El=du.SheetNames),yl.bookProps&&(Qu.Props=du,Qu.Custprops=xu),yl.bookSheets&&El!==void 0&&(Qu.SheetNames=El),yl.bookSheets?Qu.SheetNames:yl.bookProps))return Qu;El={},Du={},yl.bookDeps&&Rl.calcchain&&(Du=BT(e1(ga,ly(Rl.calcchain)),Rl.calcchain));var Bu,Su,Yu=0,ep={},rp=au.Sheets;du.Worksheets=rp.length,du.SheetNames=[];for(var bp=0;bp!=rp.length;++bp)du.SheetNames[bp]=rp[bp].name;var jp=Ap?"bin":"xml",Ap=Rl.workbooks[0].lastIndexOf("/"),$p=(Rl.workbooks[0].slice(0,Ap+1)+"_rels/"+Rl.workbooks[0].slice(Ap+1)+".rels").replace(/^\//,"");p1(ga,$p)||($p="xl/_rels/workbook."+jp+".rels");var e0,t0,Vp,h0=ap(q0(ga,$p,!0),$p.replace(/_rels.*/,"s5s"));1<=(Rl.metadata||[]).length&&(yl.xlmeta=$T(e1(ga,ly(Rl.metadata[0])),Rl.metadata[0],yl)),1<=(Rl.people||[]).length&&(yl.people=(Ap=e1(ga,ly(Rl.people[0])),e0=yl,Vp=!(t0=[]),Ap.replace(hm,function(y0){var o0=am(y0);switch(x1(o0[0])){case"<?xml":case"<personList":case"</personList>":break;case"<person":t0.push({name:o0.displayname,id:o0.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Vp=!0;break;case"</ext>":Vp=!1;break;default:if(!Vp&&e0.WTF)throw new Error("unrecognized "+o0[0]+" in threaded comments")}return y0}),t0)),h0=h0&&pR(h0,au.Sheets);var D0=e1(ga,"xl/worksheets/sheet.xml",!0)?1:0;e:for(Yu=0;Yu!=du.Worksheets;++Yu){var R0="sheet";if(h0&&h0[Yu]?(Bu="xl/"+h0[Yu][1].replace(/[\/]?xl\//,""),p1(ga,Bu)||(Bu=h0[Yu][1]),p1(ga,Bu)||(Bu=$p.replace(/_rels\/.*$/,"")+h0[Yu][1]),R0=h0[Yu][2]):Bu=(Bu="xl/worksheets/sheet"+(Yu+1-D0)+"."+jp).replace(/sheet0\./,"sheet."),Su=Bu.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),yl&&yl.sheets!=null)switch(typeof yl.sheets){case"number":if(Yu!=yl.sheets)continue e;break;case"string":if(du.SheetNames[Yu].toLowerCase()!=yl.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(yl.sheets)){for(var b0=!1,S0=0;S0!=yl.sheets.length;++S0)typeof yl.sheets[S0]=="number"&&yl.sheets[S0]==Yu&&(b0=1),typeof yl.sheets[S0]=="string"&&yl.sheets[S0].toLowerCase()==du.SheetNames[Yu].toLowerCase()&&(b0=1);if(!b0)continue e}}gR(ga,Bu,Su,du.SheetNames[Yu],Yu,ep,El,R0,yl,au,Ol,Ul)}return Qu={Directory:Rl,Workbook:au,Props:du,Custprops:xu,Deps:Du,Sheets:El,SheetNames:du.SheetNames,Strings:u2,Styles:Ul,Themes:Ol,SSF:E0(Kl)},yl&&yl.bookFiles&&(ga.files?(Qu.keys=Pl,Qu.files=ga.files):(Qu.keys=[],Qu.files={},ga.FullPaths.forEach(function(y0,o0){y0=y0.replace(/^Root Entry[\/]/,""),Qu.keys.push(y0),Qu.files[y0]=ga.FileIndex[o0]}))),yl&&yl.bookVBA&&(0<Rl.vba.length?Qu.vbaraw=e1(ga,ly(Rl.vba[0]),!0):Rl.defaults&&Rl.defaults.bin===MA&&(Qu.vbaraw=e1(ga,"xl/vbaProject.bin",!0))),Qu}function mR(ga,yl){var xl,El=yl||{},Al="Workbook",Pl=Pp.find(ga,Al);try{if(Al="/!DataSpaces/Version",!(Pl=Pp.find(ga,Al))||!Pl.content)throw new Error("ECMA-376 Encrypted file missing "+Al);if(Rl=Pl.content,(xl={}).id=Rl.read_shift(0,"lpp4"),xl.R=Gy(Rl,4),xl.U=Gy(Rl,4),xl.W=Gy(Rl,4),Al="/!DataSpaces/DataSpaceMap",!(Pl=Pp.find(ga,Al))||!Pl.content)throw new Error("ECMA-376 Encrypted file missing "+Al);var Rl=aA(Pl.content);if(Rl.length!==1||Rl[0].comps.length!==1||Rl[0].comps[0].t!==0||Rl[0].name!=="StrongEncryptionDataSpace"||Rl[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+Al);if(Al="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(Pl=Pp.find(ga,Al))||!Pl.content)throw new Error("ECMA-376 Encrypted file missing "+Al);if(Rl=function(Ol){var Ul=[];Ol.l+=4;for(var Wl=Ol.read_shift(4);0<Wl--;)Ul.push(Ol.read_shift(0,"lpp4"));return Ul}(Pl.content),Rl.length!=1||Rl[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+Al);if(Al="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(Pl=Pp.find(ga,Al))||!Pl.content)throw new Error("ECMA-376 Encrypted file missing "+Al);lA(Pl.content)}catch{}if(Al="/EncryptionInfo",!(Pl=Pp.find(ga,Al))||!Pl.content)throw new Error("ECMA-376 Encrypted file missing "+Al);if(yl=cA(Pl.content),Al="/EncryptedPackage",!(Pl=Pp.find(ga,Al))||!Pl.content)throw new Error("ECMA-376 Encrypted file missing "+Al);if(yl[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(yl[1],Pl.content,El.password||"",El);if(yl[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(yl[1],Pl.content,El.password||"",El);throw new Error("File is password-protected")}function vR(ga,yl){return(yl.bookType=="ods"?BC:yl.bookType=="numbers"?fR:yl.bookType=="xlsb"?function(xl,El){$x=1024,xl&&!xl.SSF&&(xl.SSF=E0(Kl)),xl&&xl.SSF&&(Sp(),Hu(xl.SSF),El.revssf=xp(xl.SSF),El.revssf[xl.SSF[65535]]=0,El.ssf=xl.SSF),El.rels={},El.wbrels={},El.Strings=[],El.Strings.Count=0,El.Strings.Unique=0,h2?El.revStrings=new Map:(El.revStrings={},El.revStrings.foo=[],delete El.revStrings.foo);var Al=El.bookType=="xlsb"?"bin":"xml",Pl=-1<zS.indexOf(El.bookType),Rl=ku();Hw(El=El||{});var Ol=xm(),Ul="",Wl=0;if(El.cellXfs=[],ix(El.cellXfs,{},{revssf:{General:0}}),xl.Props||(xl.Props={}),j0(Ol,Ul="docProps/core.xml",Qp(xl.Props,El)),Rl.coreprops.push(Ul),pp(El.rels,2,Ul,_u.CORE_PROPS),Ul="docProps/app.xml",!xl.Props||!xl.Props.SheetNames)if(xl.Workbook&&xl.Workbook.Sheets){for(var Xl=[],ou=0;ou<xl.SheetNames.length;++ou)(xl.Workbook.Sheets[ou]||{}).Hidden!=2&&Xl.push(xl.SheetNames[ou]);xl.Props.SheetNames=Xl}else xl.Props.SheetNames=xl.SheetNames;for(xl.Props.Worksheets=xl.Props.SheetNames.length,j0(Ol,Ul,O0(xl.Props)),Rl.extprops.push(Ul),pp(El.rels,3,Ul,_u.EXT_PROPS),xl.Custprops!==xl.Props&&0<Ju(xl.Custprops||{}).length&&(j0(Ol,Ul="docProps/custom.xml",Rm(xl.Custprops)),Rl.custprops.push(Ul),pp(El.rels,4,Ul,_u.CUST_PROPS)),Wl=1;Wl<=xl.SheetNames.length;++Wl){var au,du,Du,xu={"!id":{}},Qu=xl.Sheets[xl.SheetNames[Wl-1]];j0(Ol,Ul="xl/worksheets/sheet"+Wl+"."+Al,function(Bu,Su,Yu,ep,rp){return(Su.slice(-4)===".bin"?ET:dC)(Bu,Yu,ep,rp)}(Wl-1,Ul,El,xl,xu)),Rl.sheets.push(Ul),pp(El.wbrels,-1,"worksheets/sheet"+Wl+"."+Al,_u.WS[0]),Qu&&(au=Qu["!comments"],du=!1,Du="",au&&0<au.length&&(j0(Ol,Du="xl/comments"+Wl+"."+Al,function(Bu,Su,Yu){return(Su.slice(-4)===".bin"?jA:$S)(Bu)}(au,Du)),Rl.comments.push(Du),pp(xu,-1,"../comments"+Wl+"."+Al,_u.CMNT),du=!0),Qu["!legacy"]&&du&&j0(Ol,"xl/drawings/vmlDrawing"+Wl+".vml",BS(Wl,Qu["!comments"])),delete Qu["!comments"],delete Qu["!legacy"]),xu["!id"].rId1&&j0(Ol,tp(Ul),gp(xu))}return El.Strings!=null&&0<El.Strings.length&&(j0(Ol,Ul="xl/sharedStrings."+Al,function(Bu,Su,Yu){return(Su.slice(-4)===".bin"?oA:mS)(Bu,Yu)}(El.Strings,Ul,El)),Rl.strs.push(Ul),pp(El.wbrels,-1,"sharedStrings."+Al,_u.SST)),j0(Ol,Ul="xl/workbook."+Al,function(Bu,Su,Yu){return(Su.slice(-4)===".bin"?OT:bC)(Bu)}(xl,Ul)),Rl.workbooks.push(Ul),pp(El.rels,1,Ul,_u.WB),j0(Ol,Ul="xl/theme/theme1.xml",Aw(xl.Themes,El)),Rl.themes.push(Ul),pp(El.wbrels,-1,"theme/theme1.xml",_u.THEME),j0(Ol,Ul="xl/styles."+Al,function(Bu,Su,Yu){return(Su.slice(-4)===".bin"?SA:DS)(Bu,Yu)}(xl,Ul,El)),Rl.styles.push(Ul),pp(El.wbrels,-1,"styles."+Al,_u.STY),xl.vbaraw&&Pl&&(j0(Ol,Ul="xl/vbaProject.bin",xl.vbaraw),Rl.vba.push(Ul),pp(El.wbrels,-1,"vbaProject.bin",_u.VBA)),j0(Ol,Ul="xl/metadata."+Al,function(Bu){return(Bu.slice(-4)===".bin"?FA:LS)()}(Ul)),Rl.metadata.push(Ul),pp(El.wbrels,-1,"metadata."+Al,_u.XLMETA),j0(Ol,"[Content_Types].xml",Tu(Rl,El)),j0(Ol,"_rels/.rels",gp(El.rels)),j0(Ol,"xl/_rels/workbook."+Al+".rels",gp(El.wbrels)),delete El.revssf,delete El.ssf,Ol}:VC)(ga,yl)}function VC(ga,yl){$x=1024,ga&&!ga.SSF&&(ga.SSF=E0(Kl)),ga&&ga.SSF&&(Sp(),Hu(ga.SSF),yl.revssf=xp(ga.SSF),yl.revssf[ga.SSF[65535]]=0,yl.ssf=ga.SSF),yl.rels={},yl.wbrels={},yl.Strings=[],yl.Strings.Count=0,yl.Strings.Unique=0,h2?yl.revStrings=new Map:(yl.revStrings={},yl.revStrings.foo=[],delete yl.revStrings.foo);var xl="xml",El=-1<zS.indexOf(yl.bookType),Al=ku();Hw(yl=yl||{});var Pl=xm(),Rl="",Ol=0;if(yl.cellXfs=[],ix(yl.cellXfs,{},{revssf:{General:0}}),ga.Props||(ga.Props={}),Rl="docProps/core.xml",j0(Pl,Rl,Qp(ga.Props,yl)),Al.coreprops.push(Rl),pp(yl.rels,2,Rl,_u.CORE_PROPS),Rl="docProps/app.xml",!ga.Props||!ga.Props.SheetNames)if(ga.Workbook&&ga.Workbook.Sheets){for(var Ul=[],Wl=0;Wl<ga.SheetNames.length;++Wl)(ga.Workbook.Sheets[Wl]||{}).Hidden!=2&&Ul.push(ga.SheetNames[Wl]);ga.Props.SheetNames=Ul}else ga.Props.SheetNames=ga.SheetNames;ga.Props.Worksheets=ga.Props.SheetNames.length,j0(Pl,Rl,O0(ga.Props)),Al.extprops.push(Rl),pp(yl.rels,3,Rl,_u.EXT_PROPS),ga.Custprops!==ga.Props&&0<Ju(ga.Custprops||{}).length&&(j0(Pl,Rl="docProps/custom.xml",Rm(ga.Custprops)),Al.custprops.push(Rl),pp(yl.rels,4,Rl,_u.CUST_PROPS));var Xl,ou=["SheetJ5"];for(yl.tcid=0,Ol=1;Ol<=ga.SheetNames.length;++Ol){var au,du,Du,xu,Qu={"!id":{}},Bu=ga.Sheets[ga.SheetNames[Ol-1]];j0(Pl,Rl="xl/worksheets/sheet"+Ol+"."+xl,dC(Ol-1,yl,ga,Qu)),Al.sheets.push(Rl),pp(yl.wbrels,-1,"worksheets/sheet"+Ol+"."+xl,_u.WS[0]),Bu&&(du=!1,Du="",(au=Bu["!comments"])&&0<au.length&&(xu=!1,au.forEach(function(Su){Su[1].forEach(function(Yu){Yu.T==1&&(xu=!0)})}),xu&&(j0(Pl,Du="xl/threadedComments/threadedComment"+Ol+"."+xl,function(Su,Yu,ep){var rp=[t1,v0("ThreadedComments",null,{xmlns:Cm.TCMNT}).replace(/[\/]>/,">")];return Su.forEach(function(bp){var jp="";(bp[1]||[]).forEach(function(Ap,$p){var e0;Ap.T?(Ap.a&&Yu.indexOf(Ap.a)==-1&&Yu.push(Ap.a),e0={ref:bp[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+ep.tcid++).slice(-12)+"}"},$p==0?jp=e0.id:e0.parentId=jp,Ap.ID=e0.id,Ap.a&&(e0.personId="{54EE7950-7262-4200-6969-"+("000000000000"+Yu.indexOf(Ap.a)).slice(-12)+"}"),rp.push(v0("threadedComment",d1("text",Ap.t||""),e0))):delete Ap.ID})}),rp.push("</ThreadedComments>"),rp.join("")}(au,ou,yl)),Al.threadedcomments.push(Du),pp(Qu,-1,"../threadedComments/threadedComment"+Ol+"."+xl,_u.TCMNT)),j0(Pl,Du="xl/comments"+Ol+"."+xl,$S(au)),Al.comments.push(Du),pp(Qu,-1,"../comments"+Ol+"."+xl,_u.CMNT),du=!0),Bu["!legacy"]&&du&&j0(Pl,"xl/drawings/vmlDrawing"+Ol+".vml",BS(Ol,Bu["!comments"])),delete Bu["!comments"],delete Bu["!legacy"]),Qu["!id"].rId1&&j0(Pl,tp(Rl),gp(Qu))}return yl.Strings!=null&&0<yl.Strings.length&&(j0(Pl,Rl="xl/sharedStrings.xml",mS(yl.Strings,yl)),Al.strs.push(Rl),pp(yl.wbrels,-1,"sharedStrings.xml",_u.SST)),j0(Pl,Rl="xl/workbook.xml",bC(ga)),Al.workbooks.push(Rl),pp(yl.rels,1,Rl,_u.WB),j0(Pl,Rl="xl/theme/theme1.xml",Aw(ga.Themes,yl)),Al.themes.push(Rl),pp(yl.wbrels,-1,"theme/theme1.xml",_u.THEME),j0(Pl,Rl="xl/styles.xml",DS(ga,yl)),Al.styles.push(Rl),pp(yl.wbrels,-1,"styles.xml",_u.STY),ga.vbaraw&&El&&(j0(Pl,Rl="xl/vbaProject.bin",ga.vbaraw),Al.vba.push(Rl),pp(yl.wbrels,-1,"vbaProject.bin",_u.VBA)),j0(Pl,Rl="xl/metadata.xml",LS()),Al.metadata.push(Rl),pp(yl.wbrels,-1,"metadata.xml",_u.XLMETA),1<ou.length&&(j0(Pl,Rl="xl/persons/person.xml",(El=ou,Xl=[t1,v0("personList",null,{xmlns:Cm.TCMNT,"xmlns:x":zv[0]}).replace(/[\/]>/,">")],El.forEach(function(Su,Yu){Xl.push(v0("person",null,{displayName:Su,id:"{54EE7950-7262-4200-6969-"+("000000000000"+Yu).slice(-12)+"}",userId:Su,providerId:"None"}))}),Xl.push("</personList>"),Xl.join(""))),Al.people.push(Rl),pp(yl.wbrels,-1,"persons/person.xml",_u.PEOPLE)),j0(Pl,"[Content_Types].xml",Tu(Al,yl)),j0(Pl,"_rels/.rels",gp(yl.rels)),j0(Pl,"xl/_rels/workbook.xml.rels",gp(yl.wbrels)),delete yl.revssf,delete yl.ssf,Pl}function qw(ga,yl){var xl="";switch((yl||{}).type||"base64"){case"buffer":return[ga[0],ga[1],ga[2],ga[3],ga[4],ga[5],ga[6],ga[7]];case"base64":xl=Ll(ga.slice(0,12));break;case"binary":xl=ga;break;case"array":return[ga[0],ga[1],ga[2],ga[3],ga[4],ga[5],ga[6],ga[7]];default:throw new Error("Unrecognized type "+(yl&&yl.type||"undefined"))}return[xl.charCodeAt(0),xl.charCodeAt(1),xl.charCodeAt(2),xl.charCodeAt(3),xl.charCodeAt(4),xl.charCodeAt(5),xl.charCodeAt(6),xl.charCodeAt(7)]}function GC(ga,yl){var xl=0;e:for(;xl<ga.length;)switch(ga.charCodeAt(xl)){case 10:case 13:case 32:++xl;break;case 60:return Nw(ga.slice(xl),yl);default:break e}return Nx.to_workbook(ga,yl)}function Vw(ga,yl,xl,El){return El?(xl.type="string",Nx.to_workbook(ga,xl)):Nx.to_workbook(yl,xl)}function G2(ga,yl){Cl();var xl=yl||{};if(typeof ArrayBuffer<"u"&&ga instanceof ArrayBuffer)return G2(new Uint8Array(ga),((xl=E0(xl)).type="array",xl));typeof Uint8Array<"u"&&ga instanceof Uint8Array&&!xl.type&&(xl.type=typeof Deno<"u"?"buffer":"array");var El,Al,Pl,Rl,Ol,Ul=ga,Wl=!1;if(xl.cellStyles&&(xl.cellNF=!0,xl.sheetStubs=!0),Wx={},xl.dateNF&&(Wx.dateNF=xl.dateNF),xl.type||(xl.type=Nl&&Buffer.isBuffer(ga)?"buffer":"base64"),xl.type=="file"&&(xl.type=Nl?"buffer":"binary",Ul=function(ou){if(wp!==void 0)return wp.readFileSync(ou);if(typeof Deno<"u")return Deno.readFileSync(ou);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var au=File(ou);au.open("r"),au.encoding="binary";var du=au.read();return au.close(),du}catch(Du){if(!Du.message||!Du.message.match(/onstruct/))throw Du}throw new Error("Cannot access file "+ou)}(ga),typeof Uint8Array>"u"||Nl||(xl.type="array")),xl.type=="string"&&(Wl=!0,xl.type="binary",xl.codepage=65001,Ul=(Xl=ga).match(/[^\x00-\x7F]/)?$v(Xl):Xl),xl.type=="array"&&typeof Uint8Array<"u"&&ga instanceof Uint8Array&&typeof ArrayBuffer<"u"){var Xl=new ArrayBuffer(3),Xl=new Uint8Array(Xl);if(Xl.foo="bar",!Xl.foo)return(xl=E0(xl)).type="array",G2(Jl(Ul),xl)}switch((El=qw(Ul,xl))[0]){case 208:if(El[1]===207&&El[2]===17&&El[3]===224&&El[4]===161&&El[5]===177&&El[6]===26&&El[7]===225)return Rl=Pp.read(Ul,xl),Ol=xl,(Pp.find(Rl,"EncryptedPackage")?mR:V2)(Rl,Ol);break;case 9:if(El[1]<=8)return V2(Ul,xl);break;case 60:return Nw(Ul,xl);case 73:if(El[1]===73&&El[2]===42&&El[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(El[1]===68)return function(ou,au){var du=au||{},Du=!!du.WTF;du.WTF=!0;try{var xu=GE.to_workbook(ou,du);return du.WTF=Du,xu}catch(Qu){if(du.WTF=Du,!Qu.message.match(/SYLK bad record ID/)&&Du)throw Qu;return Nx.to_workbook(ou,au)}}(Ul,xl);break;case 84:if(El[1]===65&&El[2]===66&&El[3]===76)return YE.to_workbook(Ul,xl);break;case 80:return El[1]===75&&El[2]<9&&El[3]<9?(Pl=Ol=Ul,(Al=(Al=xl)||{}).type||(Al.type=Nl&&Buffer.isBuffer(Ol)?"buffer":"base64"),qC(V1(Pl,Al),Al)):Vw(ga,Ul,xl,Wl);case 239:return El[3]===60?Nw(Ul,xl):Vw(ga,Ul,xl,Wl);case 255:if(El[1]===254)return Pl=Ul,(Al=xl).type=="base64"&&(Pl=Ll(Pl)),Pl=hs.utils.decode(1200,Pl.slice(2),"str"),Al.type="binary",GC(Pl,Al);if(El[1]===0&&El[2]===2&&El[3]===0)return Ex.to_workbook(Ul,xl);break;case 0:if(El[1]===0&&(2<=El[2]&&El[3]===0||El[2]===0&&(El[3]===8||El[3]===9)))return Ex.to_workbook(Ul,xl);break;case 3:case 131:case 139:case 140:return pw.to_workbook(Ul,xl);case 123:if(El[1]===92&&El[2]===114&&El[3]===116)return SS.to_workbook(Ul,xl);break;case 10:case 13:case 32:return function(ou,au){var du="",Du=qw(ou,au);switch(au.type){case"base64":du=Ll(ou);break;case"binary":du=ou;break;case"buffer":du=ou.toString("binary");break;case"array":du=_0(ou);break;default:throw new Error("Unrecognized type "+au.type)}return Du[0]==239&&Du[1]==187&&Du[2]==191&&(du=Tm(du)),au.type="binary",GC(du,au)}(Ul,xl);case 137:if(El[1]===80&&El[2]===78&&El[3]===71)throw new Error("PNG Image File is not a spreadsheet")}return-1<q_.indexOf(El[0])&&El[2]<=12&&El[3]<=31?pw.to_workbook(Ul,xl):Vw(ga,Ul,xl,Wl)}function KC(ga,yl){return yl=yl||{},yl.type="file",G2(ga,yl)}function YC(ga,yl){switch(yl.type){case"base64":case"binary":break;case"buffer":case"array":yl.type="";break;case"file":return Jp(yl.file,Pp.write(ga,{type:Nl?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+yl.bookType+"' files");default:throw new Error("Unrecognized type "+yl.type)}return Pp.write(ga,yl)}function XC(ga,yl){var xl={},El=Nl?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(yl.compression&&(xl.compression="DEFLATE"),yl.password)xl.type=El;else switch(yl.type){case"base64":xl.type="base64";break;case"binary":xl.type="string";break;case"string":throw new Error("'string' output type invalid for '"+yl.bookType+"' files");case"buffer":case"file":xl.type=El;break;default:throw new Error("Unrecognized type "+yl.type)}if(ga=ga.FullPaths?Pp.write(ga,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[xl.type]||xl.type,compression:!!yl.compression}):ga.generate(xl),typeof Deno<"u"&&typeof ga=="string"){if(yl.type=="binary"||yl.type=="base64")return ga;ga=new Uint8Array(iu(ga))}return yl.password&&typeof encrypt_agile<"u"?YC(encrypt_agile(ga,yl.password),yl):yl.type==="file"?Jp(yl.file,ga):yl.type=="string"?Tm(ga):ga}function Dy(ga,yl,xl){var El=(xl=xl||"")+ga;switch(yl.type){case"base64":return Bl($v(El));case"binary":return $v(El);case"string":return ga;case"file":return Jp(yl.file,El,"utf8");case"buffer":return Nl?zl(El,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(El):Dy(El,{type:"binary"}).split("").map(function(Al){return Al.charCodeAt(0)})}throw new Error("Unrecognized type "+yl.type)}function K2(ga,yl){switch(yl.type){case"string":case"base64":case"binary":for(var xl="",El=0;El<ga.length;++El)xl+=String.fromCharCode(ga[El]);return yl.type=="base64"?Bl(xl):yl.type=="string"?Tm(xl):xl;case"file":return Jp(yl.file,ga);case"buffer":return ga;default:throw new Error("Unrecognized type "+yl.type)}}function Gw(ga,yl){Cl(),xC(ga);var xl,El=E0(yl||{});return El.cellStyles&&(El.cellNF=!0,El.sheetStubs=!0),El.type!="array"?(xl=ga,yl=E0((yl=El)||{}),XC(VC(xl,yl),yl)):(El.type="binary",ga=Gw(ga,El),El.type="array",iu(ga))}function Y2(ga,yl){Cl(),xC(ga);var xl=E0(yl||{});if(xl.cellStyles&&(xl.cellNF=!0,xl.sheetStubs=!0),xl.type=="array")return xl.type="binary",yl=Y2(ga,xl),xl.type="array",iu(yl);var El,Al,Pl,Rl=0;if(xl.sheet&&(Rl=typeof xl.sheet=="number"?xl.sheet:ga.SheetNames.indexOf(xl.sheet),!ga.SheetNames[Rl]))throw new Error("Sheet not found: "+xl.sheet+" : "+typeof xl.sheet);switch(xl.bookType||"xlsb"){case"xml":case"xlml":return Dy(GT(ga,xl),xl);case"slk":case"sylk":return Dy(GE.from_sheet(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"htm":case"html":return Dy(PC(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"txt":return function(Ol,Ul){switch(Ul.type){case"base64":return Bl(Ol);case"binary":case"string":return Ol;case"file":return Jp(Ul.file,Ol,"binary");case"buffer":return Nl?zl(Ol,"binary"):Ol.split("").map(function(Wl){return Wl.charCodeAt(0)})}throw new Error("Unrecognized type "+Ul.type)}(t_(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"csv":return Dy(Yw(ga.Sheets[ga.SheetNames[Rl]],xl),xl,"\uFEFF");case"dif":return Dy(YE.from_sheet(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"dbf":return K2(pw.from_sheet(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"prn":return Dy(Nx.from_sheet(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"rtf":return Dy(SS.from_sheet(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"eth":return Dy(eS.from_sheet(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"fods":return Dy(BC(ga,xl),xl);case"wk1":return K2(Ex.sheet_to_wk1(ga.Sheets[ga.SheetNames[Rl]],xl),xl);case"wk3":return K2(Ex.book_to_wk3(ga,xl),xl);case"biff2":xl.biff||(xl.biff=2);case"biff3":xl.biff||(xl.biff=3);case"biff4":return xl.biff||(xl.biff=4),K2(CC(ga,xl),xl);case"biff5":xl.biff||(xl.biff=5);case"biff8":case"xla":case"xls":return xl.biff||(xl.biff=8),YC(ZT(ga,Pl=(Pl=xl)||{}),Pl);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return El=ga,Pl=E0((Al=xl)||{}),s2=new yR(Al),XC(vR(El,Pl),Pl);default:throw new Error("Unrecognized bookType |"+xl.bookType+"|")}}function Kw(ga){var yl;ga.bookType||((yl=ga.file.slice(ga.file.lastIndexOf(".")).toLowerCase()).match(/^\.[a-z]+$/)&&(ga.bookType=yl.slice(1)),ga.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[ga.bookType]||ga.bookType)}function ZC(ga,yl,xl){return xl=xl||{},xl.type="file",xl.file=yl,Kw(xl),Y2(ga,xl)}function JC(ga,yl,xl,El,Al,Pl,Rl,Ol){var Ul=l1(xl),Wl=Ol.defval,Xl=Ol.raw||!Object.prototype.hasOwnProperty.call(Ol,"raw"),ou=!0,au=Al===1?[]:{};if(Al!==1)if(Object.defineProperty)try{Object.defineProperty(au,"__rowNum__",{value:xl,enumerable:!1})}catch{au.__rowNum__=xl}else au.__rowNum__=xl;if(!Rl||ga[xl])for(var du=yl.s.c;du<=yl.e.c;++du){var Du=Rl?ga[xl][du]:ga[El[du]+Ul];if(Du!==void 0&&Du.t!==void 0){var xu=Du.v;switch(Du.t){case"z":if(xu==null)break;continue;case"e":xu=xu==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+Du.t)}if(Pl[du]!=null){if(xu==null)if(Du.t=="e"&&xu===null)au[Pl[du]]=null;else if(Wl!==void 0)au[Pl[du]]=Wl;else{if(!Xl||xu!==null)continue;au[Pl[du]]=null}else au[Pl[du]]=Xl&&(Du.t!=="n"||Du.t==="n"&&Ol.rawNumbers!==!1)?xu:z1(Du,xu,Ol);xu!=null&&(ou=!1)}}else Wl!==void 0&&Pl[du]!=null&&(au[Pl[du]]=Wl)}return{row:au,isempty:ou}}function X2(ga,yl){if(ga==null||ga["!ref"]==null)return[];var xl,El={t:"n",v:0},Al=0,Pl=1,Rl=[],Ol="",Ul={s:{r:0,c:0},e:{r:0,c:0}},Wl=yl||{},Xl=Wl.range!=null?Wl.range:ga["!ref"];switch(Wl.header===1?Al=1:Wl.header==="A"?Al=2:Array.isArray(Wl.header)?Al=3:Wl.header==null&&(Al=0),typeof Xl){case"string":Ul=Sm(Xl);break;case"number":(Ul=Sm(ga["!ref"])).s.r=Xl;break;default:Ul=Xl}0<Al&&(Pl=0);var ou=l1(Ul.s.r),au=[],du=[],Du=0,xu=0,Qu=Array.isArray(ga),Bu=Ul.s.r,Su=0,Yu={};Qu&&!ga[Bu]&&(ga[Bu]=[]);for(var ep,rp=Wl.skipHidden&&ga["!cols"]||[],bp=Wl.skipHidden&&ga["!rows"]||[],Su=Ul.s.c;Su<=Ul.e.c;++Su)if(!(rp[Su]||{}).hidden)switch(au[Su]=Gm(Su),El=Qu?ga[Bu][Su]:ga[au[Su]+ou],Al){case 1:Rl[Su]=Su-Ul.s.c;break;case 2:Rl[Su]=au[Su];break;case 3:Rl[Su]=Wl.header[Su-Ul.s.c];break;default:if(Ol=xl=z1(El=El??{w:"__EMPTY",t:"s"},null,Wl),xu=Yu[xl]||0){for(;Ol=xl+"_"+xu++,Yu[Ol];);Yu[xl]=xu,Yu[Ol]=1}else Yu[xl]=1;Rl[Su]=Ol}for(Bu=Ul.s.r+Pl;Bu<=Ul.e.r;++Bu)(bp[Bu]||{}).hidden||(ep=JC(ga,Ul,Bu,au,Al,Rl,Qu,Wl)).isempty!==!1&&(Al===1?Wl.blankrows===!1:!Wl.blankrows)||(du[Du++]=ep.row);return du.length=Du,du}var QC=/"/g;function e_(ga,yl,xl,El,Al,Pl,Rl,Ol){for(var Ul=!0,Wl=[],Xl="",ou=l1(xl),au=yl.s.c;au<=yl.e.c;++au)if(El[au]){var du=Ol.dense?(ga[xl]||[])[au]:ga[El[au]+ou];if(du==null)Xl="";else if(du.v!=null){Ul=!1,Xl=""+(Ol.rawNumbers&&du.t=="n"?du.v:z1(du,null,Ol));for(var Du,xu=0;xu!==Xl.length;++xu)if((Du=Xl.charCodeAt(xu))===Al||Du===Pl||Du===34||Ol.forceQuotes){Xl='"'+Xl.replace(QC,'""')+'"';break}Xl=="ID"&&(Xl='"ID"')}else du.f==null||du.F?Xl="":(Ul=!1,0<=(Xl="="+du.f).indexOf(",")&&(Xl='"'+Xl.replace(QC,'""')+'"'));Wl.push(Xl)}return Ol.blankrows===!1&&Ul?null:Wl.join(Rl)}function Yw(ga,yl){var xl=[],El=yl??{};if(ga==null||ga["!ref"]==null)return"";var Al=Sm(ga["!ref"]),Pl=El.FS!==void 0?El.FS:",",Rl=Pl.charCodeAt(0),Ol=El.RS!==void 0?El.RS:`
`,Ul=Ol.charCodeAt(0),Wl=new RegExp((Pl=="|"?"\\|":Pl)+"+$"),Xl="",ou=[];El.dense=Array.isArray(ga);for(var au=El.skipHidden&&ga["!cols"]||[],du=El.skipHidden&&ga["!rows"]||[],Du=Al.s.c;Du<=Al.e.c;++Du)(au[Du]||{}).hidden||(ou[Du]=Gm(Du));for(var xu=0,Qu=Al.s.r;Qu<=Al.e.r;++Qu)(du[Qu]||{}).hidden||(Xl=e_(ga,Al,Qu,ou,Rl,Ul,Pl,El))!=null&&(!(Xl=El.strip?Xl.replace(Wl,""):Xl)&&El.blankrows===!1||xl.push((xu++?Ol:"")+Xl));return delete El.dense,xl.join("")}function t_(ga,yl){return(yl=yl||{}).FS="	",yl.RS=`
`,ga=Yw(ga,yl),hs===void 0||yl.type=="string"?ga:(ga=hs.utils.encode(1200,ga,"str"),""+ga)}function r_(Xl,yl,xl){var El,Al=xl||{},Pl=+!Al.skipHeader,Rl=Xl||{},Ol=0,Ul=0;Rl&&Al.origin!=null&&(typeof Al.origin=="number"?Ol=Al.origin:(Wl=typeof Al.origin=="string"?c1(Al.origin):Al.origin,Ol=Wl.r,Ul=Wl.c));var Wl,Xl={s:{c:0,r:0},e:{c:Ul,r:Ol+yl.length-1+Pl}};Rl["!ref"]?(Wl=Sm(Rl["!ref"]),Xl.e.c=Math.max(Xl.e.c,Wl.e.c),Xl.e.r=Math.max(Xl.e.r,Wl.e.r),Ol==-1&&(Ol=Wl.e.r+1,Xl.e.r=Ol+yl.length-1+Pl)):Ol==-1&&(Ol=0,Xl.e.r=yl.length-1+Pl);var ou=Al.header||[],au=0;yl.forEach(function(Du,xu){Ju(Du).forEach(function(ep){(au=ou.indexOf(ep))==-1&&(ou[au=ou.length]=ep);var Bu=Du[ep],Su="z",Yu="",ep=cm({c:Ul+au,r:Ol+xu+Pl});El=Z2(Rl,ep),!Bu||typeof Bu!="object"||Bu instanceof Date?(typeof Bu=="number"?Su="n":typeof Bu=="boolean"?Su="b":typeof Bu=="string"?Su="s":Bu instanceof Date?(Su="d",Al.cellDates||(Su="n",Bu=sp(Bu)),Yu=Al.dateNF||Kl[14]):Bu===null&&Al.nullError&&(Su="e",Bu=0),El?(El.t=Su,El.v=Bu,delete El.w,delete El.R,Yu&&(El.z=Yu)):Rl[ep]=El={t:Su,v:Bu},Yu&&(El.z=Yu)):Rl[ep]=Bu})}),Xl.e.c=Math.max(Xl.e.c,Ul+ou.length-1);var du=l1(Ol);if(Pl)for(au=0;au<ou.length;++au)Rl[Gm(au+Ul)+du]={t:"s",v:ou[au]};return Rl["!ref"]=fm(Xl),Rl}function Z2(ga,yl,xl){return typeof yl!="string"?Z2(ga,cm(typeof yl!="number"?yl:{r:yl,c:xl||0})):Array.isArray(ga)?(xl=c1(yl),ga[xl.r]||(ga[xl.r]=[]),ga[xl.r][xl.c]||(ga[xl.r][xl.c]={t:"z"})):ga[yl]||(ga[yl]={t:"z"})}function Xw(){return{SheetNames:[],Sheets:{}}}function Zw(ga,yl,xl,El){var Al=1;if(!xl)for(;Al<=65535&&ga.SheetNames.indexOf(xl="Sheet"+Al)!=-1;++Al,xl=void 0);if(!xl||65535<=ga.SheetNames.length)throw new Error("Too many worksheets");if(El&&0<=ga.SheetNames.indexOf(xl)){var El=xl.match(/(^.*?)(\d+)$/),Al=El&&+El[2]||0,Pl=El&&El[1]||xl;for(++Al;Al<=65535&&ga.SheetNames.indexOf(xl=Pl+Al)!=-1;++Al);}if(yC(xl),0<=ga.SheetNames.indexOf(xl))throw new Error("Worksheet with name |"+xl+"| already exists!");return ga.SheetNames.push(xl),ga.Sheets[xl]=yl,xl}function n_(ga,yl,xl){return yl?(ga.l={Target:yl},xl&&(ga.l.Tooltip=xl)):delete ga.l,ga}var J2,Jw={encode_col:Gm,encode_row:l1,encode_cell:cm,encode_range:fm,decode_col:dx,decode_row:hx,split_cell:function(ga){return ga.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:c1,decode_range:Y1,format_cell:z1,sheet_add_aoa:i1,sheet_add_json:r_,sheet_add_dom:IC,aoa_to_sheet:Sv,json_to_sheet:function(ga,yl){return r_(null,ga,yl)},table_to_sheet:OC,table_to_book:function(ga,yl){return qv(OC(ga,yl),yl)},sheet_to_csv:Yw,sheet_to_txt:t_,sheet_to_json:X2,sheet_to_html:PC,sheet_to_formulae:function(ga){var yl,xl="",El="";if(ga==null||ga["!ref"]==null)return[];for(var Al,Pl=Sm(ga["!ref"]),Rl=[],Ol=[],Ul=Array.isArray(ga),Wl=Pl.s.c;Wl<=Pl.e.c;++Wl)Rl[Wl]=Gm(Wl);for(var Xl=Pl.s.r;Xl<=Pl.e.r;++Xl)for(Al=l1(Xl),Wl=Pl.s.c;Wl<=Pl.e.c;++Wl)if(xl=Rl[Wl]+Al,El="",(yl=Ul?(ga[Xl]||[])[Wl]:ga[xl])!==void 0){if(yl.F!=null){if(xl=yl.F,!yl.f)continue;El=yl.f,xl.indexOf(":")==-1&&(xl=xl+":"+xl)}if(yl.f!=null)El=yl.f;else{if(yl.t=="z")continue;if(yl.t=="n"&&yl.v!=null)El=""+yl.v;else if(yl.t=="b")El=yl.v?"TRUE":"FALSE";else if(yl.w!==void 0)El="'"+yl.w;else{if(yl.v===void 0)continue;El=yl.t=="s"?"'"+yl.v:""+yl.v}}Ol[Ol.length]=xl+"="+El}return Ol},sheet_to_row_object_array:X2,sheet_get_cell:Z2,book_new:Xw,book_append_sheet:Zw,book_set_sheet_visibility:function(ga,yl,xl){switch(ga.Workbook||(ga.Workbook={}),ga.Workbook.Sheets||(ga.Workbook.Sheets=[]),yl=function(El,Al){if(typeof Al=="number"){if(0<=Al&&El.SheetNames.length>Al)return Al;throw new Error("Cannot find sheet # "+Al)}if(typeof Al!="string")throw new Error("Cannot find sheet |"+Al+"|");if(-1<(El=El.SheetNames.indexOf(Al)))return El;throw new Error("Cannot find sheet name |"+Al+"|")}(ga,yl),ga.Workbook.Sheets[yl]||(ga.Workbook.Sheets[yl]={}),xl){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+xl)}ga.Workbook.Sheets[yl].Hidden=xl},cell_set_number_format:function(ga,yl){return ga.z=yl,ga},cell_set_hyperlink:n_,cell_set_internal_link:function(ga,yl,xl){return n_(ga,"#"+yl,xl)},cell_add_comment:function(ga,yl,xl){ga.c||(ga.c=[]),ga.c.push({t:yl,a:xl||"SheetJS"})},sheet_set_array_formula:function(ga,yl,xl,El){for(var Al=typeof yl!="string"?yl:Sm(yl),Pl=typeof yl=="string"?yl:fm(yl),Rl=Al.s.r;Rl<=Al.e.r;++Rl)for(var Ol=Al.s.c;Ol<=Al.e.c;++Ol){var Ul=Z2(ga,Rl,Ol);Ul.t="n",Ul.F=Pl,delete Ul.v,Rl==Al.s.r&&Ol==Al.s.c&&(Ul.f=xl,El&&(Ul.D=!0))}return ga},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function i_(ga){J2=ga}var qx={to_json:function(ga,yl){var xl=J2({objectMode:!0});if(ga==null||ga["!ref"]==null)return xl.push(null),xl;var El,Al={t:"n",v:0},Pl=0,Rl=1,Ol=[],Ul="",Wl={s:{r:0,c:0},e:{r:0,c:0}},Xl=yl||{},ou=Xl.range!=null?Xl.range:ga["!ref"];switch(Xl.header===1?Pl=1:Xl.header==="A"?Pl=2:Array.isArray(Xl.header)&&(Pl=3),typeof ou){case"string":Wl=Sm(ou);break;case"number":(Wl=Sm(ga["!ref"])).s.r=ou;break;default:Wl=ou}0<Pl&&(Rl=0);var au=l1(Wl.s.r),du=[],Du=0,xu=Array.isArray(ga),Qu=Wl.s.r,Bu=0,Su={};xu&&!ga[Qu]&&(ga[Qu]=[]);for(var Yu=Xl.skipHidden&&ga["!cols"]||[],ep=Xl.skipHidden&&ga["!rows"]||[],Bu=Wl.s.c;Bu<=Wl.e.c;++Bu)if(!(Yu[Bu]||{}).hidden)switch(du[Bu]=Gm(Bu),Al=xu?ga[Qu][Bu]:ga[du[Bu]+au],Pl){case 1:Ol[Bu]=Bu-Wl.s.c;break;case 2:Ol[Bu]=du[Bu];break;case 3:Ol[Bu]=Xl.header[Bu-Wl.s.c];break;default:if(Ul=El=z1(Al=Al??{w:"__EMPTY",t:"s"},null,Xl),Du=Su[El]||0){for(;Ul=El+"_"+Du++,Su[Ul];);Su[El]=Du,Su[Ul]=1}else Su[El]=1;Ol[Bu]=Ul}return Qu=Wl.s.r+Rl,xl._read=function(){for(;Qu<=Wl.e.r;)if(!(ep[Qu-1]||{}).hidden){var rp=JC(ga,Wl,Qu,du,Pl,Ol,xu,Xl);if(++Qu,rp.isempty===!1||(Pl===1?Xl.blankrows!==!1:Xl.blankrows))return void xl.push(rp.row)}return xl.push(null)},xl},to_html:function(ga,Al){var xl=J2(),El=Al||{},Al=El.header!=null?El.header:TC,Pl=El.footer!=null?El.footer:RC;xl.push(Al);var Rl=Y1(ga["!ref"]);El.dense=Array.isArray(ga),xl.push(kC(0,0,El));var Ol=Rl.s.r,Ul=!1;return xl._read=function(){if(Ol>Rl.e.r)return Ul||(Ul=!0,xl.push("</table>"+Pl)),xl.push(null);for(;Ol<=Rl.e.r;){xl.push(AC(ga,Rl,Ol,El)),++Ol;break}},xl},to_csv:function(ga,yl){var xl=J2(),El=yl??{};if(ga==null||ga["!ref"]==null)return xl.push(null),xl;var Al=Sm(ga["!ref"]),Pl=El.FS!==void 0?El.FS:",",Rl=Pl.charCodeAt(0),Ol=El.RS!==void 0?El.RS:`
`,Ul=Ol.charCodeAt(0),Wl=new RegExp((Pl=="|"?"\\|":Pl)+"+$"),Xl="",ou=[];El.dense=Array.isArray(ga);for(var au=El.skipHidden&&ga["!cols"]||[],du=El.skipHidden&&ga["!rows"]||[],Du=Al.s.c;Du<=Al.e.c;++Du)(au[Du]||{}).hidden||(ou[Du]=Gm(Du));var xu=Al.s.r,Qu=!1,Bu=0;return xl._read=function(){if(!Qu)return Qu=!0,xl.push("\uFEFF");for(;xu<=Al.e.r;)if(++xu,!(du[xu-1]||{}).hidden&&(Xl=e_(ga,Al,xu-1,ou,Rl,Ul,Pl,El),Xl!=null&&((Xl=El.strip?Xl.replace(Wl,""):Xl)||El.blankrows!==!1)))return xl.push((Bu++?Ol:"")+Xl);return xl.push(null)},xl},set_readable:i_},zm=function(){function ga(yl,xl,El){return this instanceof ga?(this.tagName=yl,this._attributes=xl||{},this._children=El||[],this._prefix="",this):new ga(yl,xl,El)}return ga.prototype.createElement=function(){return new ga(arguments)},ga.prototype.children=function(){return this._children},ga.prototype.append=function(yl){return this._children.push(yl),this},ga.prototype.prefix=function(yl){return arguments.length==0?this._prefix:(this._prefix=yl,this)},ga.prototype.attr=function(yl,xl){if(xl==null)return delete this._attributes[yl],this;if(arguments.length==0)return this._attributes;if(typeof yl=="string"&&arguments.length==1)return this._attributes.attr[yl];if(typeof yl=="object"&&arguments.length==1)for(var El in yl)this._attributes[El]=yl[El];else arguments.length==2&&typeof yl=="string"&&(this._attributes[yl]=xl);return this},ga.prototype.escapeAttributeValue=function(yl){return'"'+yl.replace(/\"/g,"&quot;")+'"'},ga.prototype.toXml=function(yl){var xl=(yl=yl||this)._prefix;if(xl+="<"+yl.tagName,yl._attributes)for(var El in yl._attributes)xl+=" "+El+"="+this.escapeAttributeValue(""+yl._attributes[El]);if(yl._children&&0<yl._children.length){xl+=">";for(var Al=0;Al<yl._children.length;Al++)xl+=this.toXml(yl._children[Al]);xl+="</"+yl.tagName+">"}else xl+="/>";return xl},ga}(),yR=function(ga){var yl,xl=164,El={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Al={};for(yl in El)Al[El[yl]]=yl;var Pl={};return{initialize:function(Rl){this.$fonts=zm("fonts").attr("count",0).attr("x14ac:knownFonts","1"),this.$fills=zm("fills").attr("count",0),this.$borders=zm("borders").attr("count",0),this.$numFmts=zm("numFmts").attr("count",0),this.$cellStyleXfs=zm("cellStyleXfs"),this.$xf=zm("xf").attr("numFmtId",0).attr("fontId",0).attr("fillId",0).attr("borderId",0),this.$cellXfs=zm("cellXfs").attr("count",0),this.$cellStyles=zm("cellStyles").append(zm("cellStyle").attr("name","Normal").attr("xfId",0).attr("builtinId",0)),this.$dxfs=zm("dxfs").attr("count","0"),this.$tableStyles=zm("tableStyles").attr("count","0").attr("defaultTableStyle","TableStyleMedium9").attr("defaultPivotStyle","PivotStyleMedium4"),this.$styles=zm("styleSheet").attr("xmlns:mc","http://schemas.openxmlformats.org/markup-compatibility/2006").attr("xmlns:x14ac","http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac").attr("xmlns","http://schemas.openxmlformats.org/spreadsheetml/2006/main").attr("mc:Ignorable","x14ac").prefix('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>').append(this.$numFmts).append(this.$fonts).append(this.$fills).append(this.$borders).append(this.$cellStyleXfs.append(this.$xf)).append(this.$cellXfs).append(this.$cellStyles).append(this.$dxfs).append(this.$tableStyles);var Ol=Rl.defaultCellStyle||{};return Ol.font||(Ol.font={name:"Calibri",sz:"11"}),Ol.font.name||(Ol.font.name="Calibri"),Ol.font.sz||(Ol.font.sz=11),Ol.fill||(Ol.fill={patternType:"none",fgColor:{}}),Ol.border||(Ol.border={}),Ol.numFmt||(Ol.numFmt=0),this.defaultStyle=Ol,Rl=JSON.parse(JSON.stringify(Ol)),Rl.fill={patternType:"gray125",fgColor:{}},this.addStyles([Ol,Rl]),this},addStyle:function(Rl){var Ol=JSON.stringify(Rl),Ul=Pl[Ol];return Ul==null?(Ul=this._addXf(Rl),Pl[Ol]=Ul):Ul=Pl[Ol],Ul},addStyles:function(Rl){var Ol=this;return Rl.map(function(Ul){return Ol.addStyle(Ul)})},_duckTypeStyle:function(Rl){return typeof Rl=="object"&&(Rl.patternFill||Rl.fgColor)?{fill:Rl}:Rl.font||Rl.numFmt||Rl.border||Rl.fill?Rl:this._getStyleCSS(Rl)},_getStyleCSS:function(Rl){return Rl},_addXf:function(Rl){var Ol=this._addFont(Rl.font),Ul=this._addFill(Rl.fill),Wl=this._addBorder(Rl.border),Xl=this._addNumFmt(Rl.numFmt),ou=zm("xf").attr("numFmtId",Xl).attr("fontId",Ol).attr("fillId",Ul).attr("borderId",Wl).attr("xfId","0");return 0<Ol&&ou.attr("applyFont","1"),0<Ul&&ou.attr("applyFill","1"),0<Wl&&ou.attr("applyBorder","1"),0<Xl&&ou.attr("applyNumberFormat","1"),Rl.alignment&&(Xl=zm("alignment"),Rl.alignment.horizontal&&Xl.attr("horizontal",Rl.alignment.horizontal),Rl.alignment.vertical&&Xl.attr("vertical",Rl.alignment.vertical),Rl.alignment.indent&&Xl.attr("indent",Rl.alignment.indent),Rl.alignment.readingOrder&&Xl.attr("readingOrder",Rl.alignment.readingOrder),Rl.alignment.wrapText&&Xl.attr("wrapText",Rl.alignment.wrapText),Rl.alignment.textRotation!=null&&Xl.attr("textRotation",Rl.alignment.textRotation),ou.append(Xl).attr("applyAlignment",1)),this.$cellXfs.append(ou),ou=+this.$cellXfs.children().length,this.$cellXfs.attr("count",ou),ou-1},_addFont:function(Rl){if(!Rl)return 0;var Ol=zm("font").append(zm("sz").attr("val",Rl.sz||this.defaultStyle.font.sz)).append(zm("name").attr("val",Rl.name||this.defaultStyle.font.name));return Rl.bold&&Ol.append(zm("b")),Rl.underline&&Ol.append(zm("u")),Rl.italic&&Ol.append(zm("i")),Rl.strike&&Ol.append(zm("strike")),Rl.outline&&Ol.append(zm("outline")),Rl.shadow&&Ol.append(zm("shadow")),Rl.vertAlign&&Ol.append(zm("vertAlign").attr("val",Rl.vertAlign)),Rl.color&&(Rl.color.theme?(Ol.append(zm("color").attr("theme",Rl.color.theme)),Rl.color.tint&&Ol.append(zm("tint").attr("theme",Rl.color.tint))):Rl.color.rgb&&Ol.append(zm("color").attr("rgb",Rl.color.rgb))),this.$fonts.append(Ol),Ol=this.$fonts.children().length,this.$fonts.attr("count",Ol),Ol-1},_addNumFmt:function(Rl){if(!Rl)return 0;if(typeof Rl=="string"){var Ol=Al[Rl];if(0<=Ol)return Ol}return/^[0-9]+$/.exec(Rl)?Rl:(Rl=Rl.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),Rl=zm("numFmt").attr("numFmtId",++xl).attr("formatCode",Rl),this.$numFmts.append(Rl),Rl=this.$numFmts.children().length,this.$numFmts.attr("count",Rl),xl)},_addFill:function(Rl){if(!Rl)return 0;var Ol,Ul=zm("patternFill").attr("patternType",Rl.patternType||"solid");return Rl.fgColor&&(Ol=zm("fgColor"),Rl.fgColor.rgb?(Rl.fgColor.rgb.length==6&&(Rl.fgColor.rgb="FF"+Rl.fgColor.rgb),Ol.attr("rgb",Rl.fgColor.rgb),Ul.append(Ol)):Rl.fgColor.theme&&(Ol.attr("theme",Rl.fgColor.theme),Rl.fgColor.tint&&Ol.attr("tint",Rl.fgColor.tint),Ul.append(Ol)),Rl.bgColor||(Rl.bgColor={indexed:"64"})),Rl.bgColor&&(Rl=zm("bgColor").attr(Rl.bgColor),Ul.append(Rl)),Ul=zm("fill").append(Ul),this.$fills.append(Ul),Ul=this.$fills.children().length,this.$fills.attr("count",Ul),Ul-1},_getSubBorder:function(Rl,Ol){var Ul=zm(Rl);return Ol&&(Ul.attr("style",Ol.style||"medium"),Ol.color&&(Rl=zm("color"),Ol.color.auto?Rl.attr("auto",Ol.color.auto):Ol.color.rgb?Rl.attr("rgb",Ol.color.rgb):(Ol.color.theme||Ol.color.tint)&&(Rl.attr("theme",Ol.color.theme||"1"),Rl.attr("tint",Ol.color.tint||"0")),Ul.append(Rl))),Ul},_addBorder:function(Rl){if(!Rl)return 0;var Ol=this,Ul=zm("border").attr("diagonalUp",Rl.diagonalUp).attr("diagonalDown",Rl.diagonalDown);["left","right","top","bottom","diagonal"].forEach(function(Xl){Ul.append(Ol._getSubBorder(Xl,Rl[Xl]))}),this.$borders.append(Ul);var Wl=this.$borders.children().length;return this.$borders.attr("count",Wl),Wl-1},toXml:function(){return this.$styles.toXml()}}.initialize(ga||{})};V2!==void 0&&(co.parse_xlscfb=V2),co.parse_zip=qC,co.read=G2,co.readFile=KC,co.readFileSync=KC,co.write=Y2,co.writeFile=ZC,co.writeFileSync=ZC,co.writeFileAsync=function(ga,yl,xl,El){var Al=xl||{};return Al.type="file",Al.file=ga,Kw(Al),Al.type="buffer",El instanceof Function||(El=xl),wp.writeFile(ga,Y2(yl,Al),El)},co.utils=Jw,co.writeXLSX=Gw,co.writeFileXLSX=function(ga,yl,xl){return(xl=xl||{}).type="file",xl.file=yl,Kw(xl),Gw(ga,xl)},co.SSF=Np,qx!==void 0&&(co.stream=qx),Pp!==void 0&&(co.CFB=Pp),typeof commonjsRequire>"u"||((qx=requireStreamBrowserify())||{}).Readable&&i_(qx.Readable)}if(lo(is),typeof window<"u"&&!window.XLSX)try{window.XLSX=cs}catch{}})(xlsx_min,xlsx_min.exports);var xlsx_minExports=xlsx_min.exports;function t(us,is,cs){return(is=function(lo){var co=function(hs,uo){if(typeof hs!="object"||!hs)return hs;var xa=hs[Symbol.toPrimitive];if(xa!==void 0){var ba=xa.call(hs,uo);if(typeof ba!="object")return ba;throw new TypeError("@@toPrimitive must return a primitive value.")}return(uo==="string"?String:Number)(hs)}(lo,"string");return typeof co=="symbol"?co:co+""}(is))in us?Object.defineProperty(us,is,{value:cs,enumerable:!0,configurable:!0,writable:!0}):us[is]=cs,us}function e(us,is){var cs=Object.keys(us);if(Object.getOwnPropertySymbols){var lo=Object.getOwnPropertySymbols(us);is&&(lo=lo.filter(function(co){return Object.getOwnPropertyDescriptor(us,co).enumerable})),cs.push.apply(cs,lo)}return cs}function s(us){for(var is=1;is<arguments.length;is++){var cs=arguments[is]!=null?arguments[is]:{};is%2?e(Object(cs),!0).forEach(function(lo){t(us,lo,cs[lo])}):Object.getOwnPropertyDescriptors?Object.defineProperties(us,Object.getOwnPropertyDescriptors(cs)):e(Object(cs)).forEach(function(lo){Object.defineProperty(us,lo,Object.getOwnPropertyDescriptor(cs,lo))})}return us}function i(us,is){if(us==null)return{};var cs,lo,co=function(uo,xa){if(uo==null)return{};var ba={};for(var $a in uo)if({}.hasOwnProperty.call(uo,$a)){if(xa.indexOf($a)>=0)continue;ba[$a]=uo[$a]}return ba}(us,is);if(Object.getOwnPropertySymbols){var hs=Object.getOwnPropertySymbols(us);for(lo=0;lo<hs.length;lo++)cs=hs[lo],is.indexOf(cs)>=0||{}.propertyIsEnumerable.call(us,cs)&&(co[cs]=us[cs])}return co}function r(us,is){return is||(is=us.slice(0)),Object.freeze(Object.defineProperties(us,{raw:{value:Object.freeze(is)}}))}class n{constructor(){t(this,"browserShadowBlurConstant",1),t(this,"DPI",96),t(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),t(this,"perfLimitSizeTotal",2097152),t(this,"maxCacheSideLimit",4096),t(this,"minCacheSideLimit",256),t(this,"disableStyleCopyPaste",!1),t(this,"enableGLFiltering",!0),t(this,"textureSize",4096),t(this,"forceGLPutImageData",!1),t(this,"cachesBoundsOfCurve",!1),t(this,"fontPaths",{}),t(this,"NUM_FRACTION_DIGITS",4)}}const o=new class extends n{constructor(us){super(),this.configure(us)}configure(){let us=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,us)}addFonts(){let us=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=s(s({},this.fontPaths),us)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(us=>{delete this.fontPaths[us]})}clearFonts(){this.fontPaths={}}restoreDefaults(us){const is=new n,cs=(us==null?void 0:us.reduce((lo,co)=>(lo[co]=is[co],lo),{}))||is;this.configure(cs)}},a=function(us){for(var is=arguments.length,cs=new Array(is>1?is-1:0),lo=1;lo<is;lo++)cs[lo-1]=arguments[lo];return console[us]("fabric",...cs)};class h extends Error{constructor(is,cs){super("fabric: ".concat(is),cs)}}class c extends h{constructor(is){super("".concat(is," 'options.signal' is in 'aborted' state"))}}class l{}let u$1=class extends l{testPrecision(is,cs){const lo="precision ".concat(cs,` float;
void main(){}`),co=is.createShader(is.FRAGMENT_SHADER);return!!co&&(is.shaderSource(co,lo),is.compileShader(co),!!is.getShaderParameter(co,is.COMPILE_STATUS))}queryWebGL(is){const cs=is.getContext("webgl");cs&&(this.maxTextureSize=cs.getParameter(cs.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(lo=>this.testPrecision(cs,lo)),cs.getExtension("WEBGL_lose_context").loseContext(),a("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(is){return!!this.maxTextureSize&&this.maxTextureSize>=is}};const d={};let g;const p=()=>g||(g={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new u$1,dispose(){},copyPasteData:d}),m=()=>p().document,v=()=>p().window,y=()=>{var us;return Math.max((us=o.devicePixelRatio)!==null&&us!==void 0?us:v().devicePixelRatio,1)},_=new class{constructor(){t(this,"charWidthsCache",{}),t(this,"boundsOfCurveCache",{})}getFontCache(us){let{fontFamily:is,fontStyle:cs,fontWeight:lo}=us;is=is.toLowerCase(),this.charWidthsCache[is]||(this.charWidthsCache[is]={});const co=this.charWidthsCache[is],hs="".concat(cs.toLowerCase(),"_").concat((lo+"").toLowerCase());return co[hs]||(co[hs]={}),co[hs]}clearFontCache(us){(us=(us||"").toLowerCase())?this.charWidthsCache[us]&&delete this.charWidthsCache[us]:this.charWidthsCache={}}limitDimsByArea(us){const{perfLimitSizeTotal:is}=o,cs=Math.sqrt(is*us);return[Math.floor(cs),Math.floor(is/cs)]}},x="6.7.1";function C(){}const b=Math.PI/2,S=2*Math.PI,w=Math.PI/180,T=Object.freeze([1,0,0,1,0,0]),O=16,k=.4477152502,D$1="center",M="left",P="top",E="bottom",A="right",j="none",F=/\r?\n/,L="moving",R="scaling",I="rotating",B$1="rotate",X="skewing",Y="resizing",W="modifyPoly",V="modifyPath",z="changed",G="scale",H="scaleX",N="scaleY",U="skewX",q="skewY",K="fill",J="stroke",Q="modified",Z="json",$$1="svg",tt=new class{constructor(){this[Z]=new Map,this[$$1]=new Map}has(us){return this[Z].has(us)}getClass(us){const is=this[Z].get(us);if(!is)throw new h("No class registered for ".concat(us));return is}setClass(us,is){is?this[Z].set(is,us):(this[Z].set(us.type,us),this[Z].set(us.type.toLowerCase(),us))}getSVGClass(us){return this[$$1].get(us)}setSVGClass(us,is){this[$$1].set(is??us.type.toLowerCase(),us)}},et=new class extends Array{remove(us){const is=this.indexOf(us);is>-1&&this.splice(is,1)}cancelAll(){const us=this.splice(0);return us.forEach(is=>is.abort()),us}cancelByCanvas(us){if(!us)return[];const is=this.filter(cs=>{var lo;return cs.target===us||typeof cs.target=="object"&&((lo=cs.target)===null||lo===void 0?void 0:lo.canvas)===us});return is.forEach(cs=>cs.abort()),is}cancelByTarget(us){if(!us)return[];const is=this.filter(cs=>cs.target===us);return is.forEach(cs=>cs.abort()),is}};class st{constructor(){t(this,"__eventListeners",{})}on(is,cs){if(this.__eventListeners||(this.__eventListeners={}),typeof is=="object")return Object.entries(is).forEach(lo=>{let[co,hs]=lo;this.on(co,hs)}),()=>this.off(is);if(cs){const lo=is;return this.__eventListeners[lo]||(this.__eventListeners[lo]=[]),this.__eventListeners[lo].push(cs),()=>this.off(lo,cs)}return()=>!1}once(is,cs){if(typeof is=="object"){const lo=[];return Object.entries(is).forEach(co=>{let[hs,uo]=co;lo.push(this.once(hs,uo))}),()=>lo.forEach(co=>co())}if(cs){const lo=this.on(is,function(){for(var co=arguments.length,hs=new Array(co),uo=0;uo<co;uo++)hs[uo]=arguments[uo];cs.call(this,...hs),lo()});return lo}return()=>!1}_removeEventListener(is,cs){if(this.__eventListeners[is])if(cs){const lo=this.__eventListeners[is],co=lo.indexOf(cs);co>-1&&lo.splice(co,1)}else this.__eventListeners[is]=[]}off(is,cs){if(this.__eventListeners)if(is===void 0)for(const lo in this.__eventListeners)this._removeEventListener(lo);else typeof is=="object"?Object.entries(is).forEach(lo=>{let[co,hs]=lo;this._removeEventListener(co,hs)}):this._removeEventListener(is,cs)}fire(is,cs){var lo;if(!this.__eventListeners)return;const co=(lo=this.__eventListeners[is])===null||lo===void 0?void 0:lo.concat();if(co)for(let hs=0;hs<co.length;hs++)co[hs].call(this,cs||{})}}const it=(us,is)=>{const cs=us.indexOf(is);return cs!==-1&&us.splice(cs,1),us},rt=us=>{if(us===0)return 1;switch(Math.abs(us)/b){case 1:case 3:return 0;case 2:return-1}return Math.cos(us)},nt=us=>{if(us===0)return 0;const is=us/b,cs=Math.sign(us);switch(is){case 1:return cs;case 2:return 0;case 3:return-cs}return Math.sin(us)};class ot{constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof is=="object"?(this.x=is.x,this.y=is.y):(this.x=is,this.y=cs)}add(is){return new ot(this.x+is.x,this.y+is.y)}addEquals(is){return this.x+=is.x,this.y+=is.y,this}scalarAdd(is){return new ot(this.x+is,this.y+is)}scalarAddEquals(is){return this.x+=is,this.y+=is,this}subtract(is){return new ot(this.x-is.x,this.y-is.y)}subtractEquals(is){return this.x-=is.x,this.y-=is.y,this}scalarSubtract(is){return new ot(this.x-is,this.y-is)}scalarSubtractEquals(is){return this.x-=is,this.y-=is,this}multiply(is){return new ot(this.x*is.x,this.y*is.y)}scalarMultiply(is){return new ot(this.x*is,this.y*is)}scalarMultiplyEquals(is){return this.x*=is,this.y*=is,this}divide(is){return new ot(this.x/is.x,this.y/is.y)}scalarDivide(is){return new ot(this.x/is,this.y/is)}scalarDivideEquals(is){return this.x/=is,this.y/=is,this}eq(is){return this.x===is.x&&this.y===is.y}lt(is){return this.x<is.x&&this.y<is.y}lte(is){return this.x<=is.x&&this.y<=is.y}gt(is){return this.x>is.x&&this.y>is.y}gte(is){return this.x>=is.x&&this.y>=is.y}lerp(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return cs=Math.max(Math.min(1,cs),0),new ot(this.x+(is.x-this.x)*cs,this.y+(is.y-this.y)*cs)}distanceFrom(is){const cs=this.x-is.x,lo=this.y-is.y;return Math.sqrt(cs*cs+lo*lo)}midPointFrom(is){return this.lerp(is)}min(is){return new ot(Math.min(this.x,is.x),Math.min(this.y,is.y))}max(is){return new ot(Math.max(this.x,is.x),Math.max(this.y,is.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(is,cs){return this.x=is,this.y=cs,this}setX(is){return this.x=is,this}setY(is){return this.y=is,this}setFromPoint(is){return this.x=is.x,this.y=is.y,this}swap(is){const cs=this.x,lo=this.y;this.x=is.x,this.y=is.y,is.x=cs,is.y=lo}clone(){return new ot(this.x,this.y)}rotate(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at;const lo=nt(is),co=rt(is),hs=this.subtract(cs);return new ot(hs.x*co-hs.y*lo,hs.x*lo+hs.y*co).add(cs)}transform(is){let cs=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new ot(is[0]*this.x+is[2]*this.y+(cs?0:is[4]),is[1]*this.x+is[3]*this.y+(cs?0:is[5]))}}const at=new ot(0,0),ht=us=>!!us&&Array.isArray(us._objects);function ct(us){class is extends us{constructor(){super(...arguments),t(this,"_objects",[])}_onObjectAdded(lo){}_onObjectRemoved(lo){}_onStackOrderChanged(lo){}add(){for(var lo=arguments.length,co=new Array(lo),hs=0;hs<lo;hs++)co[hs]=arguments[hs];const uo=this._objects.push(...co);return co.forEach(xa=>this._onObjectAdded(xa)),uo}insertAt(lo){for(var co=arguments.length,hs=new Array(co>1?co-1:0),uo=1;uo<co;uo++)hs[uo-1]=arguments[uo];return this._objects.splice(lo,0,...hs),hs.forEach(xa=>this._onObjectAdded(xa)),this._objects.length}remove(){const lo=this._objects,co=[];for(var hs=arguments.length,uo=new Array(hs),xa=0;xa<hs;xa++)uo[xa]=arguments[xa];return uo.forEach(ba=>{const $a=lo.indexOf(ba);$a!==-1&&(lo.splice($a,1),co.push(ba),this._onObjectRemoved(ba))}),co}forEachObject(lo){this.getObjects().forEach((co,hs,uo)=>lo(co,hs,uo))}getObjects(){for(var lo=arguments.length,co=new Array(lo),hs=0;hs<lo;hs++)co[hs]=arguments[hs];return co.length===0?[...this._objects]:this._objects.filter(uo=>uo.isType(...co))}item(lo){return this._objects[lo]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(lo,co){return!!this._objects.includes(lo)||!!co&&this._objects.some(hs=>hs instanceof is&&hs.contains(lo,!0))}complexity(){return this._objects.reduce((lo,co)=>lo+=co.complexity?co.complexity():0,0)}sendObjectToBack(lo){return!(!lo||lo===this._objects[0])&&(it(this._objects,lo),this._objects.unshift(lo),this._onStackOrderChanged(lo),!0)}bringObjectToFront(lo){return!(!lo||lo===this._objects[this._objects.length-1])&&(it(this._objects,lo),this._objects.push(lo),this._onStackOrderChanged(lo),!0)}sendObjectBackwards(lo,co){if(!lo)return!1;const hs=this._objects.indexOf(lo);if(hs!==0){const uo=this.findNewLowerIndex(lo,hs,co);return it(this._objects,lo),this._objects.splice(uo,0,lo),this._onStackOrderChanged(lo),!0}return!1}bringObjectForward(lo,co){if(!lo)return!1;const hs=this._objects.indexOf(lo);if(hs!==this._objects.length-1){const uo=this.findNewUpperIndex(lo,hs,co);return it(this._objects,lo),this._objects.splice(uo,0,lo),this._onStackOrderChanged(lo),!0}return!1}moveObjectTo(lo,co){return lo!==this._objects[co]&&(it(this._objects,lo),this._objects.splice(co,0,lo),this._onStackOrderChanged(lo),!0)}findNewLowerIndex(lo,co,hs){let uo;if(hs){uo=co;for(let xa=co-1;xa>=0;--xa)if(lo.isOverlapping(this._objects[xa])){uo=xa;break}}else uo=co-1;return uo}findNewUpperIndex(lo,co,hs){let uo;if(hs){uo=co;for(let xa=co+1;xa<this._objects.length;++xa)if(lo.isOverlapping(this._objects[xa])){uo=xa;break}}else uo=co+1;return uo}collectObjects(lo){let{left:co,top:hs,width:uo,height:xa}=lo,{includeIntersecting:ba=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const $a=[],wl=new ot(co,hs),Sl=wl.add(new ot(uo,xa));for(let Cl=this._objects.length-1;Cl>=0;Cl--){const _l=this._objects[Cl];_l.selectable&&_l.visible&&(ba&&_l.intersectsWithRect(wl,Sl)||_l.isContainedWithinRect(wl,Sl)||ba&&_l.containsPoint(wl)||ba&&_l.containsPoint(Sl))&&$a.push(_l)}return $a}}return is}class lt extends st{_setOptions(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const cs in is)this.set(cs,is[cs])}_setObject(is){for(const cs in is)this._set(cs,is[cs])}set(is,cs){return typeof is=="object"?this._setObject(is):this._set(is,cs),this}_set(is,cs){this[is]=cs}toggle(is){const cs=this.get(is);return typeof cs=="boolean"&&this.set(is,!cs),this}get(is){return this[is]}}function ut(us){return v().requestAnimationFrame(us)}function dt(us){return v().cancelAnimationFrame(us)}let gt=0;const ft=()=>gt++,pt=()=>{const us=m().createElement("canvas");if(!us||us.getContext===void 0)throw new h("Failed to create `canvas` element");return us},mt=()=>m().createElement("img"),vt=us=>{const is=pt();return is.width=us.width,is.height=us.height,is},yt=(us,is,cs)=>us.toDataURL("image/".concat(is),cs),_t=(us,is,cs)=>new Promise((lo,co)=>{us.toBlob(lo,"image/".concat(is),cs)}),xt=us=>us*w,Ct=us=>us/w,bt=us=>us.every((is,cs)=>is===T[cs]),St=(us,is,cs)=>new ot(us).transform(is,cs),wt=us=>{const is=1/(us[0]*us[3]-us[1]*us[2]),cs=[is*us[3],-is*us[1],-is*us[2],is*us[0],0,0],{x:lo,y:co}=new ot(us[4],us[5]).transform(cs,!0);return cs[4]=-lo,cs[5]=-co,cs},Tt=(us,is,cs)=>[us[0]*is[0]+us[2]*is[1],us[1]*is[0]+us[3]*is[1],us[0]*is[2]+us[2]*is[3],us[1]*is[2]+us[3]*is[3],cs?0:us[0]*is[4]+us[2]*is[5]+us[4],cs?0:us[1]*is[4]+us[3]*is[5]+us[5]],Ot=(us,is)=>us.reduceRight((cs,lo)=>lo&&cs?Tt(lo,cs,is):lo||cs,void 0)||T.concat(),kt=us=>{let[is,cs]=us;return Math.atan2(cs,is)},Dt=us=>{const is=kt(us),cs=Math.pow(us[0],2)+Math.pow(us[1],2),lo=Math.sqrt(cs),co=(us[0]*us[3]-us[2]*us[1])/lo,hs=Math.atan2(us[0]*us[2]+us[1]*us[3],cs);return{angle:Ct(is),scaleX:lo,scaleY:co,skewX:Ct(hs),skewY:0,translateX:us[4]||0,translateY:us[5]||0}},Mt=function(us){return[1,0,0,1,us,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Pt(){let{angle:us=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:is=0,y:cs=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const lo=xt(us),co=rt(lo),hs=nt(lo);return[co,hs,-hs,co,is?is-(co*is-hs*cs):0,cs?cs-(hs*is+co*cs):0]}const Et=function(us){return[us,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:us,0,0]},At=us=>Math.tan(xt(us)),jt=us=>[1,0,At(us),1,0,0],Ft=us=>[1,At(us),0,1,0,0],Lt=us=>{let{scaleX:is=1,scaleY:cs=1,flipX:lo=!1,flipY:co=!1,skewX:hs=0,skewY:uo=0}=us,xa=Et(lo?-is:is,co?-cs:cs);return hs&&(xa=Tt(xa,jt(hs),!0)),uo&&(xa=Tt(xa,Ft(uo),!0)),xa},Rt=us=>{const{translateX:is=0,translateY:cs=0,angle:lo=0}=us;let co=Mt(is,cs);lo&&(co=Tt(co,Pt({angle:lo})));const hs=Lt(us);return bt(hs)||(co=Tt(co,hs)),co},It=function(us){let{signal:is,crossOrigin:cs=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(lo,co){if(is&&is.aborted)return co(new c("loadImage"));const hs=mt();let uo;is&&(uo=function(ba){hs.src="",co(ba)},is.addEventListener("abort",uo,{once:!0}));const xa=function(){hs.onload=hs.onerror=null,uo&&(is==null||is.removeEventListener("abort",uo)),lo(hs)};us?(hs.onload=xa,hs.onerror=function(){uo&&(is==null||is.removeEventListener("abort",uo)),co(new h("Error loading ".concat(hs.src)))},cs&&(hs.crossOrigin=cs),hs.src=us):xa()})},Bt=function(us){let{signal:is,reviver:cs=C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((lo,co)=>{const hs=[];is&&is.addEventListener("abort",co,{once:!0}),Promise.all(us.map(uo=>tt.getClass(uo.type).fromObject(uo,{signal:is}).then(xa=>(cs(uo,xa),hs.push(xa),xa)))).then(lo).catch(uo=>{hs.forEach(xa=>{xa.dispose&&xa.dispose()}),co(uo)}).finally(()=>{is&&is.removeEventListener("abort",co)})})},Xt=function(us){let{signal:is}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((cs,lo)=>{const co=[];is&&is.addEventListener("abort",lo,{once:!0});const hs=Object.values(us).map(xa=>xa&&xa.type&&tt.has(xa.type)?Bt([xa],{signal:is}).then(ba=>{let[$a]=ba;return co.push($a),$a}):xa),uo=Object.keys(us);Promise.all(hs).then(xa=>xa.reduce((ba,$a,wl)=>(ba[uo[wl]]=$a,ba),{})).then(cs).catch(xa=>{co.forEach(ba=>{ba.dispose&&ba.dispose()}),lo(xa)}).finally(()=>{is&&is.removeEventListener("abort",lo)})})},Yt=function(us){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((is,cs)=>(cs in us&&(is[cs]=us[cs]),is),{})},Wt=(us,is)=>Object.keys(us).reduce((cs,lo)=>(is(us[lo],lo,us)&&(cs[lo]=us[lo]),cs),{}),Vt=(us,is)=>parseFloat(Number(us).toFixed(is)),zt=us=>"matrix("+us.map(is=>Vt(is,o.NUM_FRACTION_DIGITS)).join(" ")+")",Gt=us=>!!us&&us.toLive!==void 0,Ht=us=>!!us&&typeof us.toObject=="function",Nt=us=>!!us&&us.offsetX!==void 0&&"source"in us,Ut=us=>!!us&&"multiSelectionStacking"in us;function qt(us){const is=us&&Kt(us);let cs=0,lo=0;if(!us||!is)return{left:cs,top:lo};let co=us;const hs=is.documentElement,uo=is.body||{scrollLeft:0,scrollTop:0};for(;co&&(co.parentNode||co.host)&&(co=co.parentNode||co.host,co===is?(cs=uo.scrollLeft||hs.scrollLeft||0,lo=uo.scrollTop||hs.scrollTop||0):(cs+=co.scrollLeft||0,lo+=co.scrollTop||0),co.nodeType!==1||co.style.position!=="fixed"););return{left:cs,top:lo}}const Kt=us=>us.ownerDocument||null,Jt=us=>{var is;return((is=us.ownerDocument)===null||is===void 0?void 0:is.defaultView)||null},Qt=function(us,is,cs){let{width:lo,height:co}=cs,hs=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;us.width=lo,us.height=co,hs>1&&(us.setAttribute("width",(lo*hs).toString()),us.setAttribute("height",(co*hs).toString()),is.scale(hs,hs))},Zt=(us,is)=>{let{width:cs,height:lo}=is;cs&&(us.style.width=typeof cs=="number"?"".concat(cs,"px"):cs),lo&&(us.style.height=typeof lo=="number"?"".concat(lo,"px"):lo)};function $t(us){return us.onselectstart!==void 0&&(us.onselectstart=()=>!1),us.style.userSelect=j,us}class te{constructor(is){t(this,"_originalCanvasStyle",void 0),t(this,"lower",void 0);const cs=this.createLowerCanvas(is);this.lower={el:cs,ctx:cs.getContext("2d")}}createLowerCanvas(is){const cs=(lo=is)&&lo.getContext!==void 0?is:is&&m().getElementById(is)||pt();var lo;if(cs.hasAttribute("data-fabric"))throw new h("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=cs.style.cssText,cs.setAttribute("data-fabric","main"),cs.classList.add("lower-canvas"),cs}cleanupDOM(is){let{width:cs,height:lo}=is;const{el:co}=this.lower;co.classList.remove("lower-canvas"),co.removeAttribute("data-fabric"),co.setAttribute("width","".concat(cs)),co.setAttribute("height","".concat(lo)),co.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(is,cs){const{el:lo,ctx:co}=this.lower;Qt(lo,co,is,cs)}setCSSDimensions(is){Zt(this.lower.el,is)}calcOffset(){return function(is){var cs;const lo=is&&Kt(is),co={left:0,top:0};if(!lo)return co;const hs=((cs=Jt(is))===null||cs===void 0?void 0:cs.getComputedStyle(is,null))||{};co.left+=parseInt(hs.borderLeftWidth,10)||0,co.top+=parseInt(hs.borderTopWidth,10)||0,co.left+=parseInt(hs.paddingLeft,10)||0,co.top+=parseInt(hs.paddingTop,10)||0;let uo={left:0,top:0};const xa=lo.documentElement;is.getBoundingClientRect!==void 0&&(uo=is.getBoundingClientRect());const ba=qt(is);return{left:uo.left+ba.left-(xa.clientLeft||0)+co.left,top:uo.top+ba.top-(xa.clientTop||0)+co.top}}(this.lower.el)}dispose(){p().dispose(this.lower.el),delete this.lower}}const ee={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...T]};class se extends ct(lt){get lowerCanvasEl(){var is;return(is=this.elements.lower)===null||is===void 0?void 0:is.el}get contextContainer(){var is;return(is=this.elements.lower)===null||is===void 0?void 0:is.ctx}static getDefaults(){return se.ownDefaults}constructor(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(cs),this.initElements(is),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(is){this.elements=new te(is)}add(){const is=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),is}insertAt(is){for(var cs=arguments.length,lo=new Array(cs>1?cs-1:0),co=1;co<cs;co++)lo[co-1]=arguments[co];const hs=super.insertAt(is,...lo);return lo.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),hs}remove(){const is=super.remove(...arguments);return is.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),is}_onObjectAdded(is){is.canvas&&is.canvas!==this&&(a("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),is.canvas.remove(is)),is._set("canvas",this),is.setCoords(),this.fire("object:added",{target:is}),is.fire("added",{target:this})}_onObjectRemoved(is){is._set("canvas",void 0),this.fire("object:removed",{target:is}),is.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?y():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(is,cs){return this.setDimensions({width:is},cs)}setHeight(is,cs){return this.setDimensions({height:is},cs)}_setDimensionsImpl(is){let{cssOnly:cs=!1,backstoreOnly:lo=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!cs){const co=s({width:this.width,height:this.height},is);this.elements.setDimensions(co,this.getRetinaScaling()),this.hasLostContext=!0,this.width=co.width,this.height=co.height}lo||this.elements.setCSSDimensions(is),this.calcOffset()}setDimensions(is,cs){this._setDimensionsImpl(is,cs),cs&&cs.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(is){this.viewportTransform=is,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(is,cs){const lo=is,co=[...this.viewportTransform],hs=St(is,wt(co));co[0]=cs,co[3]=cs;const uo=St(hs,co);co[4]+=lo.x-uo.x,co[5]+=lo.y-uo.y,this.setViewportTransform(co)}setZoom(is){this.zoomToPoint(new ot(0,0),is)}absolutePan(is){const cs=[...this.viewportTransform];return cs[4]=-is.x,cs[5]=-is.y,this.setViewportTransform(cs)}relativePan(is){return this.absolutePan(new ot(-is.x-this.viewportTransform[4],-is.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(is){is.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=ut(()=>this.renderAndReset()))}calcViewportBoundaries(){const is=this.width,cs=this.height,lo=wt(this.viewportTransform),co=St({x:0,y:0},lo),hs=St({x:is,y:cs},lo),uo=co.min(hs),xa=co.max(hs);return this.vptCoords={tl:uo,tr:new ot(xa.x,uo.y),bl:new ot(uo.x,xa.y),br:xa}}cancelRequestedRender(){this.nextRenderHandle&&(dt(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(is){}renderCanvas(is,cs){if(this.destroyed)return;const lo=this.viewportTransform,co=this.clipPath;this.calcViewportBoundaries(),this.clearContext(is),is.imageSmoothingEnabled=this.imageSmoothingEnabled,is.patternQuality="best",this.fire("before:render",{ctx:is}),this._renderBackground(is),is.save(),is.transform(lo[0],lo[1],lo[2],lo[3],lo[4],lo[5]),this._renderObjects(is,cs),is.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(is),co&&(co._set("canvas",this),co.shouldCache(),co._transformDone=!0,co.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(is,co)),this._renderOverlay(is),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(is),this.fire("after:render",{ctx:is}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(is,cs){const lo=this.viewportTransform;is.save(),is.transform(...lo),is.globalCompositeOperation="destination-in",cs.transform(is),is.scale(1/cs.zoomX,1/cs.zoomY),is.drawImage(cs._cacheCanvas,-cs.cacheTranslationX,-cs.cacheTranslationY),is.restore()}_renderObjects(is,cs){for(let lo=0,co=cs.length;lo<co;++lo)cs[lo]&&cs[lo].render(is)}_renderBackgroundOrOverlay(is,cs){const lo=this["".concat(cs,"Color")],co=this["".concat(cs,"Image")],hs=this.viewportTransform,uo=this["".concat(cs,"Vpt")];if(!lo&&!co)return;const xa=Gt(lo);if(lo){if(is.save(),is.beginPath(),is.moveTo(0,0),is.lineTo(this.width,0),is.lineTo(this.width,this.height),is.lineTo(0,this.height),is.closePath(),is.fillStyle=xa?lo.toLive(is):lo,uo&&is.transform(...hs),xa){is.transform(1,0,0,1,lo.offsetX||0,lo.offsetY||0);const ba=lo.gradientTransform||lo.patternTransform;ba&&is.transform(...ba)}is.fill(),is.restore()}if(co){is.save();const{skipOffscreen:ba}=this;this.skipOffscreen=uo,uo&&is.transform(...hs),co.render(is),this.skipOffscreen=ba,is.restore()}}_renderBackground(is){this._renderBackgroundOrOverlay(is,"background")}_renderOverlay(is){this._renderBackgroundOrOverlay(is,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ot(this.width/2,this.height/2)}centerObjectH(is){return this._centerObject(is,new ot(this.getCenterPoint().x,is.getCenterPoint().y))}centerObjectV(is){return this._centerObject(is,new ot(is.getCenterPoint().x,this.getCenterPoint().y))}centerObject(is){return this._centerObject(is,this.getCenterPoint())}viewportCenterObject(is){return this._centerObject(is,this.getVpCenter())}viewportCenterObjectH(is){return this._centerObject(is,new ot(this.getVpCenter().x,is.getCenterPoint().y))}viewportCenterObjectV(is){return this._centerObject(is,new ot(is.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return St(this.getCenterPoint(),wt(this.viewportTransform))}_centerObject(is,cs){is.setXY(cs,D$1,D$1),is.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(is){return this.toDatalessObject(is)}toObject(is){return this._toObjectMethod("toObject",is)}toJSON(){return this.toObject()}toDatalessObject(is){return this._toObjectMethod("toDatalessObject",is)}_toObjectMethod(is,cs){const lo=this.clipPath,co=lo&&!lo.excludeFromExport?this._toObject(lo,is,cs):null;return s(s(s({version:x},Yt(this,cs)),{},{objects:this._objects.filter(hs=>!hs.excludeFromExport).map(hs=>this._toObject(hs,is,cs))},this.__serializeBgOverlay(is,cs)),co?{clipPath:co}:null)}_toObject(is,cs,lo){let co;this.includeDefaultValues||(co=is.includeDefaultValues,is.includeDefaultValues=!1);const hs=is[cs](lo);return this.includeDefaultValues||(is.includeDefaultValues=!!co),hs}__serializeBgOverlay(is,cs){const lo={},co=this.backgroundImage,hs=this.overlayImage,uo=this.backgroundColor,xa=this.overlayColor;return Gt(uo)?uo.excludeFromExport||(lo.background=uo.toObject(cs)):uo&&(lo.background=uo),Gt(xa)?xa.excludeFromExport||(lo.overlay=xa.toObject(cs)):xa&&(lo.overlay=xa),co&&!co.excludeFromExport&&(lo.backgroundImage=this._toObject(co,is,cs)),hs&&!hs.excludeFromExport&&(lo.overlayImage=this._toObject(hs,is,cs)),lo}toSVG(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cs=arguments.length>1?arguments[1]:void 0;is.reviver=cs;const lo=[];return this._setSVGPreamble(lo,is),this._setSVGHeader(lo,is),this.clipPath&&lo.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(lo,"background"),this._setSVGBgOverlayImage(lo,"backgroundImage",cs),this._setSVGObjects(lo,cs),this.clipPath&&lo.push(`</g>
`),this._setSVGBgOverlayColor(lo,"overlay"),this._setSVGBgOverlayImage(lo,"overlayImage",cs),lo.push("</svg>"),lo.join("")}_setSVGPreamble(is,cs){cs.suppressPreamble||is.push('<?xml version="1.0" encoding="',cs.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(is,cs){const lo=cs.width||"".concat(this.width),co=cs.height||"".concat(this.height),hs=o.NUM_FRACTION_DIGITS,uo=cs.viewBox;let xa;if(uo)xa='viewBox="'.concat(uo.x," ").concat(uo.y," ").concat(uo.width," ").concat(uo.height,'" ');else if(this.svgViewportTransformation){const ba=this.viewportTransform;xa='viewBox="'.concat(Vt(-ba[4]/ba[0],hs)," ").concat(Vt(-ba[5]/ba[3],hs)," ").concat(Vt(this.width/ba[0],hs)," ").concat(Vt(this.height/ba[3],hs),'" ')}else xa='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');is.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',lo,'" ','height="',co,'" ',xa,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",x,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(cs),`</defs>
`)}createSVGClipPathMarkup(is){const cs=this.clipPath;return cs?(cs.clipPathId="CLIPPATH_".concat(ft()),'<clipPath id="'.concat(cs.clipPathId,`" >
`).concat(cs.toClipPathSVG(is.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(is=>{const cs=this["".concat(is,"Color")];if(Gt(cs)){const lo=this["".concat(is,"Vpt")],co=this.viewportTransform,hs={isType:()=>!1,width:this.width/(lo?co[0]:1),height:this.height/(lo?co[3]:1)};return cs.toSVG(hs,{additionalTransform:lo?zt(co):""})}}).join("")}createSVGFontFacesMarkup(){const is=[],cs={},lo=o.fontPaths;this._objects.forEach(function hs(uo){is.push(uo),ht(uo)&&uo._objects.forEach(hs)}),is.forEach(hs=>{if(!(uo=hs)||typeof uo._renderText!="function")return;var uo;const{styles:xa,fontFamily:ba}=hs;!cs[ba]&&lo[ba]&&(cs[ba]=!0,xa&&Object.values(xa).forEach($a=>{Object.values($a).forEach(wl=>{let{fontFamily:Sl=""}=wl;!cs[Sl]&&lo[Sl]&&(cs[Sl]=!0)})}))});const co=Object.keys(cs).map(hs=>`		@font-face {
			font-family: '`.concat(hs,`';
			src: url('`).concat(lo[hs],`');
		}
`)).join("");return co?`	<style type="text/css"><![CDATA[
`.concat(co,`]]></style>
`):""}_setSVGObjects(is,cs){this.forEachObject(lo=>{lo.excludeFromExport||this._setSVGObject(is,lo,cs)})}_setSVGObject(is,cs,lo){is.push(cs.toSVG(lo))}_setSVGBgOverlayImage(is,cs,lo){const co=this[cs];co&&!co.excludeFromExport&&co.toSVG&&is.push(co.toSVG(lo))}_setSVGBgOverlayColor(is,cs){const lo=this["".concat(cs,"Color")];if(lo)if(Gt(lo)){const co=lo.repeat||"",hs=this.width,uo=this.height,xa=this["".concat(cs,"Vpt")]?zt(wt(this.viewportTransform)):"";is.push('<rect transform="'.concat(xa," translate(").concat(hs/2,",").concat(uo/2,')" x="').concat(lo.offsetX-hs/2,'" y="').concat(lo.offsetY-uo/2,'" width="').concat(co!=="repeat-y"&&co!=="no-repeat"||!Nt(lo)?hs:lo.source.width,'" height="').concat(co!=="repeat-x"&&co!=="no-repeat"||!Nt(lo)?uo:lo.source.height,'" fill="url(#SVGID_').concat(lo.id,`)"></rect>
`))}else is.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',lo,'"',`></rect>
`)}loadFromJSON(is,cs){let{signal:lo}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!is)return Promise.reject(new h("`json` is undefined"));const co=typeof is=="string"?JSON.parse(is):is,{objects:hs=[],backgroundImage:uo,background:xa,overlayImage:ba,overlay:$a,clipPath:wl}=co,Sl=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Bt(hs,{reviver:cs,signal:lo}),Xt({backgroundImage:uo,backgroundColor:xa,overlayImage:ba,overlayColor:$a,clipPath:wl},{signal:lo})]).then(Cl=>{let[_l,Il]=Cl;return this.clear(),this.add(..._l),this.set(co),this.set(Il),this.renderOnAddRemove=Sl,this})}clone(is){const cs=this.toObject(is);return this.cloneWithoutData().loadFromJSON(cs)}cloneWithoutData(){const is=vt(this);return new this.constructor(is)}toDataURL(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:cs="png",quality:lo=1,multiplier:co=1,enableRetinaScaling:hs=!1}=is,uo=co*(hs?this.getRetinaScaling():1);return yt(this.toCanvasElement(uo,is),cs,lo)}toBlob(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:cs="png",quality:lo=1,multiplier:co=1,enableRetinaScaling:hs=!1}=is,uo=co*(hs?this.getRetinaScaling():1);return _t(this.toCanvasElement(uo,is),cs,lo)}toCanvasElement(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:cs,height:lo,left:co,top:hs,filter:uo}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const xa=(cs||this.width)*is,ba=(lo||this.height)*is,$a=this.getZoom(),wl=this.width,Sl=this.height,Cl=this.skipControlsDrawing,_l=$a*is,Il=this.viewportTransform,Fl=[_l,0,0,_l,(Il[4]-(co||0))*is,(Il[5]-(hs||0))*is],Ml=this.enableRetinaScaling,Tl=vt({width:xa,height:ba}),Dl=uo?this._objects.filter(Bl=>uo(Bl)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=Fl,this.width=xa,this.height=ba,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(Tl.getContext("2d"),Dl),this.viewportTransform=Il,this.width=wl,this.height=Sl,this.calcViewportBoundaries(),this.enableRetinaScaling=Ml,this.skipControlsDrawing=Cl,Tl}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),et.cancelByCanvas(this),this.disposed=!0,new Promise((is,cs)=>{const lo=()=>{this.destroy(),is(!0)};lo.kill=cs,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?is(!1):this.nextRenderHandle?this.__cleanupTask=lo:lo()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(is=>is.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}t(se,"ownDefaults",ee);const ie=["touchstart","touchmove","touchend"],re=us=>{const is=qt(us.target),cs=function(lo){const co=lo.changedTouches;return co&&co[0]?co[0]:lo}(us);return new ot(cs.clientX+is.left,cs.clientY+is.top)},ne=us=>ie.includes(us.type)||us.pointerType==="touch",oe=us=>{us.preventDefault(),us.stopPropagation()},ae=us=>{let is=0,cs=0,lo=0,co=0;for(let hs=0,uo=us.length;hs<uo;hs++){const{x:xa,y:ba}=us[hs];(xa>lo||!hs)&&(lo=xa),(xa<is||!hs)&&(is=xa),(ba>co||!hs)&&(co=ba),(ba<cs||!hs)&&(cs=ba)}return{left:is,top:cs,width:lo-is,height:co-cs}},he=["translateX","translateY","scaleX","scaleY"],ce=(us,is)=>le(us,Tt(is,us.calcOwnMatrix())),le=(us,is)=>{const cs=Dt(is),{translateX:lo,translateY:co,scaleX:hs,scaleY:uo}=cs,xa=i(cs,he),ba=new ot(lo,co);us.flipX=!1,us.flipY=!1,Object.assign(us,xa),us.set({scaleX:hs,scaleY:uo}),us.setPositionByOrigin(ba,D$1,D$1)},ue=us=>{us.scaleX=1,us.scaleY=1,us.skewX=0,us.skewY=0,us.flipX=!1,us.flipY=!1,us.rotate(0)},de=us=>({scaleX:us.scaleX,scaleY:us.scaleY,skewX:us.skewX,skewY:us.skewY,angle:us.angle,left:us.left,flipX:us.flipX,flipY:us.flipY,top:us.top}),ge=(us,is,cs)=>{const lo=us/2,co=is/2,hs=[new ot(-lo,-co),new ot(lo,-co),new ot(-lo,co),new ot(lo,co)].map(xa=>xa.transform(cs)),uo=ae(hs);return new ot(uo.width,uo.height)},fe=function(){let us=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;return Tt(wt(arguments.length>1&&arguments[1]!==void 0?arguments[1]:T),us)},pe=function(us){let is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,cs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T;return us.transform(fe(is,cs))},me=function(us){let is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,cs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T;return us.transform(fe(is,cs),!0)},ve=(us,is,cs)=>{const lo=fe(is,cs);return le(us,Tt(lo,us.calcOwnMatrix())),lo},ye=(us,is)=>{var cs;const{transform:{target:lo}}=is;(cs=lo.canvas)===null||cs===void 0||cs.fire("object:".concat(us),s(s({},is),{},{target:lo})),lo.fire(us,is)},_e={left:-.5,top:-.5,center:0,bottom:.5,right:.5},xe=us=>typeof us=="string"?_e[us]:us-.5,Ce="not-allowed";function be(us){return xe(us.originX)===xe(D$1)&&xe(us.originY)===xe(D$1)}function Se(us){return .5-xe(us)}const we=(us,is)=>us[is],Te=(us,is,cs,lo)=>({e:us,transform:is,pointer:new ot(cs,lo)});function Oe(us,is){const cs=us.getTotalAngle()+Ct(Math.atan2(is.y,is.x))+360;return Math.round(cs%360/45)}function ke(us,is,cs,lo,co){var hs;let{target:uo,corner:xa}=us;const ba=uo.controls[xa],$a=((hs=uo.canvas)===null||hs===void 0?void 0:hs.getZoom())||1,wl=uo.padding/$a,Sl=function(Cl,_l,Il,Fl){const Ml=Cl.getRelativeCenterPoint(),Tl=Il!==void 0&&Fl!==void 0?Cl.translateToGivenOrigin(Ml,D$1,D$1,Il,Fl):new ot(Cl.left,Cl.top);return(Cl.angle?_l.rotate(-xt(Cl.angle),Ml):_l).subtract(Tl)}(uo,new ot(lo,co),is,cs);return Sl.x>=wl&&(Sl.x-=wl),Sl.x<=-wl&&(Sl.x+=wl),Sl.y>=wl&&(Sl.y-=wl),Sl.y<=wl&&(Sl.y+=wl),Sl.x-=ba.offsetX,Sl.y-=ba.offsetY,Sl}const De=(us,is,cs,lo)=>{const{target:co,offsetX:hs,offsetY:uo}=is,xa=cs-hs,ba=lo-uo,$a=!we(co,"lockMovementX")&&co.left!==xa,wl=!we(co,"lockMovementY")&&co.top!==ba;return $a&&co.set(M,xa),wl&&co.set(P,ba),($a||wl)&&ye(L,Te(us,is,cs,lo)),$a||wl},Me={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Pe=(us,is,cs)=>(cs<0&&(cs+=1),cs>1&&(cs-=1),cs<1/6?us+6*(is-us)*cs:cs<.5?is:cs<2/3?us+(is-us)*(2/3-cs)*6:us),Ee=(us,is,cs,lo)=>{us/=255,is/=255,cs/=255;const co=Math.max(us,is,cs),hs=Math.min(us,is,cs);let uo,xa;const ba=(co+hs)/2;if(co===hs)uo=xa=0;else{const $a=co-hs;switch(xa=ba>.5?$a/(2-co-hs):$a/(co+hs),co){case us:uo=(is-cs)/$a+(is<cs?6:0);break;case is:uo=(cs-us)/$a+2;break;case cs:uo=(us-is)/$a+4}uo/=6}return[Math.round(360*uo),Math.round(100*xa),Math.round(100*ba),lo]},Ae=function(){let us=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(us)/(us.endsWith("%")?100:1)},je=us=>Math.min(Math.round(us),255).toString(16).toUpperCase().padStart(2,"0"),Fe=us=>{let[is,cs,lo,co=1]=us;const hs=Math.round(.3*is+.59*cs+.11*lo);return[hs,hs,hs,co]};class Le{constructor(is){if(t(this,"isUnrecognised",!1),is)if(is instanceof Le)this.setSource([...is._source]);else if(Array.isArray(is)){const[cs,lo,co,hs=1]=is;this.setSource([cs,lo,co,hs])}else this.setSource(this._tryParsingColor(is));else this.setSource([0,0,0,1])}_tryParsingColor(is){return(is=is.toLowerCase())in Me&&(is=Me[is]),is==="transparent"?[255,255,255,0]:Le.sourceFromHex(is)||Le.sourceFromRgb(is)||Le.sourceFromHsl(is)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(is){this._source=is}toRgb(){const[is,cs,lo]=this.getSource();return"rgb(".concat(is,",").concat(cs,",").concat(lo,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[is,cs,lo]=Ee(...this.getSource());return"hsl(".concat(is,",").concat(cs,"%,").concat(lo,"%)")}toHsla(){const[is,cs,lo,co]=Ee(...this.getSource());return"hsla(".concat(is,",").concat(cs,"%,").concat(lo,"%,").concat(co,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[is,cs,lo,co]=this.getSource();return"".concat(je(is)).concat(je(cs)).concat(je(lo)).concat(je(Math.round(255*co)))}getAlpha(){return this.getSource()[3]}setAlpha(is){return this._source[3]=is,this}toGrayscale(){return this.setSource(Fe(this.getSource())),this}toBlackWhite(is){const[cs,,,lo]=Fe(this.getSource()),co=cs<(is||127)?0:255;return this.setSource([co,co,co,lo]),this}overlayWith(is){is instanceof Le||(is=new Le(is));const cs=this.getSource(),lo=is.getSource(),[co,hs,uo]=cs.map((xa,ba)=>Math.round(.5*xa+.5*lo[ba]));return this.setSource([co,hs,uo,cs[3]]),this}static fromRgb(is){return Le.fromRgba(is)}static fromRgba(is){return new Le(Le.sourceFromRgb(is))}static sourceFromRgb(is){const cs=is.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(cs){const[lo,co,hs]=cs.slice(1,4).map(uo=>{const xa=parseFloat(uo);return uo.endsWith("%")?Math.round(2.55*xa):xa});return[lo,co,hs,Ae(cs[4])]}}static fromHsl(is){return Le.fromHsla(is)}static fromHsla(is){return new Le(Le.sourceFromHsl(is))}static sourceFromHsl(is){const cs=is.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!cs)return;const lo=(Le.parseAngletoDegrees(cs[1])%360+360)%360/360,co=parseFloat(cs[2])/100,hs=parseFloat(cs[3])/100;let uo,xa,ba;if(co===0)uo=xa=ba=hs;else{const $a=hs<=.5?hs*(co+1):hs+co-hs*co,wl=2*hs-$a;uo=Pe(wl,$a,lo+1/3),xa=Pe(wl,$a,lo),ba=Pe(wl,$a,lo-1/3)}return[Math.round(255*uo),Math.round(255*xa),Math.round(255*ba),Ae(cs[4])]}static fromHex(is){return new Le(Le.sourceFromHex(is))}static sourceFromHex(is){if(is.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const cs=is.slice(is.indexOf("#")+1);let lo;lo=cs.length<=4?cs.split("").map(ba=>ba+ba):cs.match(/.{2}/g);const[co,hs,uo,xa=255]=lo.map(ba=>parseInt(ba,16));return[co,hs,uo,xa/255]}}static parseAngletoDegrees(is){const cs=is.toLowerCase(),lo=parseFloat(cs);return cs.includes("rad")?Ct(lo):cs.includes("turn")?360*lo:lo}}const Re=function(us){let is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O;const cs=/\D{0,2}$/.exec(us),lo=parseFloat(us),co=o.DPI;switch(cs==null?void 0:cs[0]){case"mm":return lo*co/25.4;case"cm":return lo*co/2.54;case"in":return lo*co;case"pt":return lo*co/72;case"pc":return lo*co/72*12;case"em":return lo*is;default:return lo}},Ie=us=>{const[is,cs]=us.trim().split(" "),[lo,co]=(hs=is)&&hs!==j?[hs.slice(1,4),hs.slice(5,8)]:hs===j?[hs,hs]:["Mid","Mid"];var hs;return{meetOrSlice:cs||"meet",alignX:lo,alignY:co}},Be=function(us,is){let cs,lo,co=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(is)if(is.toLive)cs="url(#SVGID_".concat(is.id,")");else{const hs=new Le(is),uo=hs.getAlpha();cs=hs.toRgb(),uo!==1&&(lo=uo.toString())}else cs="none";return co?"".concat(us,": ").concat(cs,"; ").concat(lo?"".concat(us,"-opacity: ").concat(lo,"; "):""):"".concat(us,'="').concat(cs,'" ').concat(lo?"".concat(us,'-opacity="').concat(lo,'" '):"")};class Xe{getSvgStyles(is){const cs=this.fillRule?this.fillRule:"nonzero",lo=this.strokeWidth?this.strokeWidth:"0",co=this.strokeDashArray?this.strokeDashArray.join(" "):j,hs=this.strokeDashOffset?this.strokeDashOffset:"0",uo=this.strokeLineCap?this.strokeLineCap:"butt",xa=this.strokeLineJoin?this.strokeLineJoin:"miter",ba=this.strokeMiterLimit?this.strokeMiterLimit:"4",$a=this.opacity!==void 0?this.opacity:"1",wl=this.visible?"":" visibility: hidden;",Sl=is?"":this.getSvgFilter(),Cl=Be(K,this.fill);return[Be(J,this.stroke),"stroke-width: ",lo,"; ","stroke-dasharray: ",co,"; ","stroke-linecap: ",uo,"; ","stroke-dashoffset: ",hs,"; ","stroke-linejoin: ",xa,"; ","stroke-miterlimit: ",ba,"; ",Cl,"fill-rule: ",cs,"; ","opacity: ",$a,";",Sl,wl].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const lo=is?this.calcTransformMatrix():this.calcOwnMatrix(),co='transform="'.concat(zt(lo));return"".concat(co).concat(cs,'" ')}_toSVG(is){return[""]}toSVG(is){return this._createBaseSVGMarkup(this._toSVG(is),{reviver:is})}toClipPathSVG(is){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(is),{reviver:is})}_createBaseClipPathSVGMarkup(is){let{reviver:cs,additionalTransform:lo=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const co=[this.getSvgTransform(!0,lo),this.getSvgCommons()].join(""),hs=is.indexOf("COMMON_PARTS");return is[hs]=co,cs?cs(is.join("")):is.join("")}_createBaseSVGMarkup(is){let{noStyle:cs,reviver:lo,withShadow:co,additionalTransform:hs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const uo=cs?"":'style="'.concat(this.getSvgStyles(),'" '),xa=co?'style="'.concat(this.getSvgFilter(),'" '):"",ba=this.clipPath,$a=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",wl=ba&&ba.absolutePositioned,Sl=this.stroke,Cl=this.fill,_l=this.shadow,Il=[],Fl=is.indexOf("COMMON_PARTS");let Ml;ba&&(ba.clipPathId="CLIPPATH_".concat(ft()),Ml='<clipPath id="'.concat(ba.clipPathId,`" >
`).concat(ba.toClipPathSVG(lo),`</clipPath>
`)),wl&&Il.push("<g ",xa,this.getSvgCommons(),` >
`),Il.push("<g ",this.getSvgTransform(!1),wl?"":xa+this.getSvgCommons(),` >
`);const Tl=[uo,$a,cs?"":this.addPaintOrder()," ",hs?'transform="'.concat(hs,'" '):""].join("");return is[Fl]=Tl,Gt(Cl)&&Il.push(Cl.toSVG(this)),Gt(Sl)&&Il.push(Sl.toSVG(this)),_l&&Il.push(_l.toSVG(this)),ba&&Il.push(Ml),Il.push(is.join("")),Il.push(`</g>
`),wl&&Il.push(`</g>
`),lo?lo(Il.join("")):Il.join("")}addPaintOrder(){return this.paintFirst!==K?' paint-order="'.concat(this.paintFirst,'" '):""}}function Ye(us){return new RegExp("^("+us.join("|")+")\\b","i")}const We="textDecorationThickness",Ve=["fontSize","fontWeight","fontFamily","fontStyle"],ze=["underline","overline","linethrough"],Ge=[...Ve,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],He=[...Ge,...ze,"textBackgroundColor","direction",We],Ne=[...Ve,...ze,J,"strokeWidth",K,"deltaY","textBackgroundColor",We],Ue={_reNewline:F,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:M,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:M,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[We]:66.667},qe="justify",Ke="justify-left",Je="justify-right",Qe="justify-center";var Ze,$e,ts;const es=String.raw(Ze||(Ze=r(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),ss=String.raw($e||($e=r(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),rs=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+es+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+es+"))?\\s+(.*)"),ns={cx:M,x:M,r:"radius",cy:P,y:P,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":We},os="font-size",as="clip-path";Ye(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Ye(["symbol","image","marker","pattern","view","svg"]);const ls=Ye(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(ts||(ts=r(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),es,ss,es,ss,es,ss,es));const ds=new ot(1,0),gs=new ot,fs=(us,is)=>us.rotate(is),ps=(us,is)=>new ot(is).subtract(us),ms=us=>us.distanceFrom(gs),vs=(us,is)=>Math.atan2(Cs(us,is),bs(us,is)),ys=us=>vs(ds,us),_s=us=>us.eq(gs)?us:us.scalarDivide(ms(us)),xs=function(us){let is=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return _s(new ot(-us.y,us.x).scalarMultiply(is?1:-1))},Cs=(us,is)=>us.x*is.y-us.y*is.x,bs=(us,is)=>us.x*is.x+us.y*is.y,Ss=(us,is,cs)=>{if(us.eq(is)||us.eq(cs))return!0;const lo=Cs(is,cs),co=Cs(is,us),hs=Cs(cs,us);return lo>=0?co>=0&&hs<=0:!(co<=0&&hs>=0)},ws="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Ts=new RegExp("(?:\\s|^)"+ws+ws+"("+es+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Os{constructor(is){const cs=typeof is=="string"?Os.parseShadow(is):is;Object.assign(this,Os.ownDefaults,cs),this.id=ft()}static parseShadow(is){const cs=is.trim(),[,lo=0,co=0,hs=0]=(Ts.exec(cs)||[]).map(uo=>parseFloat(uo)||0);return{color:(cs.replace(Ts,"")||"rgb(0,0,0)").trim(),offsetX:lo,offsetY:co,blur:hs}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(is){const cs=fs(new ot(this.offsetX,this.offsetY),xt(-is.angle)),lo=new Le(this.color);let co=40,hs=40;return is.width&&is.height&&(co=100*Vt((Math.abs(cs.x)+this.blur)/is.width,o.NUM_FRACTION_DIGITS)+20,hs=100*Vt((Math.abs(cs.y)+this.blur)/is.height,o.NUM_FRACTION_DIGITS)+20),is.flipX&&(cs.x*=-1),is.flipY&&(cs.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(hs,'%" height="').concat(100+2*hs,'%" x="-').concat(co,'%" width="').concat(100+2*co,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Vt(this.blur?this.blur/2:0,o.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Vt(cs.x,o.NUM_FRACTION_DIGITS),'" dy="').concat(Vt(cs.y,o.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(lo.toRgb(),'" flood-opacity="').concat(lo.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const is={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},cs=Os.ownDefaults;return this.includeDefaultValues?is:Wt(is,(lo,co)=>lo!==cs[co])}static async fromObject(is){return new this(is)}}t(Os,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),t(Os,"type","shadow"),tt.setClass(Os,"shadow");const ks=(us,is,cs)=>Math.max(us,Math.min(is,cs)),Ds=[P,M,H,N,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",U,q],Ms=[K,J,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Ps={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:M,originY:P,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:K,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Es=(us,is,cs,lo)=>(us<Math.abs(is)?(us=is,lo=cs/4):lo=is===0&&us===0?cs/S*Math.asin(1):cs/S*Math.asin(is/us),{a:us,c:is,p:cs,s:lo}),As=(us,is,cs,lo,co)=>us*Math.pow(2,10*(lo-=1))*Math.sin((lo*co-is)*S/cs),js=(us,is,cs,lo)=>-cs*Math.cos(us/lo*b)+cs+is,Fs=(us,is,cs,lo)=>(us/=lo)<1/2.75?cs*(7.5625*us*us)+is:us<2/2.75?cs*(7.5625*(us-=1.5/2.75)*us+.75)+is:us<2.5/2.75?cs*(7.5625*(us-=2.25/2.75)*us+.9375)+is:cs*(7.5625*(us-=2.625/2.75)*us+.984375)+is,Ls=(us,is,cs,lo)=>cs-Fs(lo-us,0,cs,lo)+is;var Rs=Object.freeze({__proto__:null,defaultEasing:js,easeInBack:function(us,is,cs,lo){let co=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return cs*(us/=lo)*us*((co+1)*us-co)+is},easeInBounce:Ls,easeInCirc:(us,is,cs,lo)=>-cs*(Math.sqrt(1-(us/=lo)*us)-1)+is,easeInCubic:(us,is,cs,lo)=>cs*(us/lo)**3+is,easeInElastic:(us,is,cs,lo)=>{const co=cs;let hs=0;if(us===0)return is;if((us/=lo)===1)return is+cs;hs||(hs=.3*lo);const{a:uo,s:xa,p:ba}=Es(co,cs,hs,1.70158);return-As(uo,xa,ba,us,lo)+is},easeInExpo:(us,is,cs,lo)=>us===0?is:cs*2**(10*(us/lo-1))+is,easeInOutBack:function(us,is,cs,lo){let co=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(us/=lo/2)<1?cs/2*(us*us*((1+(co*=1.525))*us-co))+is:cs/2*((us-=2)*us*((1+(co*=1.525))*us+co)+2)+is},easeInOutBounce:(us,is,cs,lo)=>us<lo/2?.5*Ls(2*us,0,cs,lo)+is:.5*Fs(2*us-lo,0,cs,lo)+.5*cs+is,easeInOutCirc:(us,is,cs,lo)=>(us/=lo/2)<1?-cs/2*(Math.sqrt(1-us**2)-1)+is:cs/2*(Math.sqrt(1-(us-=2)*us)+1)+is,easeInOutCubic:(us,is,cs,lo)=>(us/=lo/2)<1?cs/2*us**3+is:cs/2*((us-2)**3+2)+is,easeInOutElastic:(us,is,cs,lo)=>{const co=cs;let hs=0;if(us===0)return is;if((us/=lo/2)===2)return is+cs;hs||(hs=lo*(.3*1.5));const{a:uo,s:xa,p:ba,c:$a}=Es(co,cs,hs,1.70158);return us<1?-.5*As(uo,xa,ba,us,lo)+is:uo*Math.pow(2,-10*(us-=1))*Math.sin((us*lo-xa)*S/ba)*.5+$a+is},easeInOutExpo:(us,is,cs,lo)=>us===0?is:us===lo?is+cs:(us/=lo/2)<1?cs/2*2**(10*(us-1))+is:cs/2*-(2**(-10*--us)+2)+is,easeInOutQuad:(us,is,cs,lo)=>(us/=lo/2)<1?cs/2*us**2+is:-cs/2*(--us*(us-2)-1)+is,easeInOutQuart:(us,is,cs,lo)=>(us/=lo/2)<1?cs/2*us**4+is:-cs/2*((us-=2)*us**3-2)+is,easeInOutQuint:(us,is,cs,lo)=>(us/=lo/2)<1?cs/2*us**5+is:cs/2*((us-2)**5+2)+is,easeInOutSine:(us,is,cs,lo)=>-cs/2*(Math.cos(Math.PI*us/lo)-1)+is,easeInQuad:(us,is,cs,lo)=>cs*(us/=lo)*us+is,easeInQuart:(us,is,cs,lo)=>cs*(us/=lo)*us**3+is,easeInQuint:(us,is,cs,lo)=>cs*(us/lo)**5+is,easeInSine:(us,is,cs,lo)=>-cs*Math.cos(us/lo*b)+cs+is,easeOutBack:function(us,is,cs,lo){let co=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return cs*((us=us/lo-1)*us*((co+1)*us+co)+1)+is},easeOutBounce:Fs,easeOutCirc:(us,is,cs,lo)=>cs*Math.sqrt(1-(us=us/lo-1)*us)+is,easeOutCubic:(us,is,cs,lo)=>cs*((us/lo-1)**3+1)+is,easeOutElastic:(us,is,cs,lo)=>{const co=cs;let hs=0;if(us===0)return is;if((us/=lo)===1)return is+cs;hs||(hs=.3*lo);const{a:uo,s:xa,p:ba,c:$a}=Es(co,cs,hs,1.70158);return uo*2**(-10*us)*Math.sin((us*lo-xa)*S/ba)+$a+is},easeOutExpo:(us,is,cs,lo)=>us===lo?is+cs:cs*-(2**(-10*us/lo)+1)+is,easeOutQuad:(us,is,cs,lo)=>-cs*(us/=lo)*(us-2)+is,easeOutQuart:(us,is,cs,lo)=>-cs*((us=us/lo-1)*us**3-1)+is,easeOutQuint:(us,is,cs,lo)=>cs*((us/lo-1)**5+1)+is,easeOutSine:(us,is,cs,lo)=>cs*Math.sin(us/lo*b)+is});const Is=()=>!1;class Bs{constructor(is){let{startValue:cs,byValue:lo,duration:co=500,delay:hs=0,easing:uo=js,onStart:xa=C,onChange:ba=C,onComplete:$a=C,abort:wl=Is,target:Sl}=is;t(this,"_state","pending"),t(this,"durationProgress",0),t(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=co,this.delay=hs,this.easing=uo,this._onStart=xa,this._onChange=ba,this._onComplete=$a,this._abort=wl,this.target=Sl,this.startValue=cs,this.byValue=lo,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const is=cs=>{this._state==="pending"&&(this.startTime=cs||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>ut(is),this.delay):ut(is)}tick(is){const cs=(is||+new Date)-this.startTime,lo=Math.min(cs,this.duration);this.durationProgress=lo/this.duration;const{value:co,valueProgress:hs}=this.calculate(lo);this.value=Object.freeze(co),this.valueProgress=hs,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):cs>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),ut(this.tick)))}register(){et.push(this)}unregister(){et.remove(this)}abort(){this._state="aborted",this.unregister()}}const Xs=["startValue","endValue"];class Ys extends Bs{constructor(is){let{startValue:cs=0,endValue:lo=100}=is;super(s(s({},i(is,Xs)),{},{startValue:cs,byValue:lo-cs}))}calculate(is){const cs=this.easing(is,this.startValue,this.byValue,this.duration);return{value:cs,valueProgress:Math.abs((cs-this.startValue)/this.byValue)}}}const Ws=["startValue","endValue"];class Vs extends Bs{constructor(is){let{startValue:cs=[0],endValue:lo=[100]}=is;super(s(s({},i(is,Ws)),{},{startValue:cs,byValue:lo.map((co,hs)=>co-cs[hs])}))}calculate(is){const cs=this.startValue.map((lo,co)=>this.easing(is,lo,this.byValue[co],this.duration,co));return{value:cs,valueProgress:Math.abs((cs[0]-this.startValue[0])/this.byValue[0])}}}const zs=["startValue","endValue","easing","onChange","onComplete","abort"],Gs=(us,is,cs,lo)=>is+cs*(1-Math.cos(us/lo*b)),Hs=us=>us&&((is,cs,lo)=>us(new Le(is).toRgba(),cs,lo));class Ns extends Bs{constructor(is){let{startValue:cs,endValue:lo,easing:co=Gs,onChange:hs,onComplete:uo,abort:xa}=is,ba=i(is,zs);const $a=new Le(cs).getSource(),wl=new Le(lo).getSource();super(s(s({},ba),{},{startValue:$a,byValue:wl.map((Sl,Cl)=>Sl-$a[Cl]),easing:co,onChange:Hs(hs),onComplete:Hs(uo),abort:Hs(xa)}))}calculate(is){const[cs,lo,co,hs]=this.startValue.map((xa,ba)=>this.easing(is,xa,this.byValue[ba],this.duration,ba)),uo=[...[cs,lo,co].map(Math.round),ks(0,hs,1)];return{value:uo,valueProgress:uo.map((xa,ba)=>this.byValue[ba]!==0?Math.abs((xa-this.startValue[ba])/this.byValue[ba]):0).find(xa=>xa!==0)||0}}}function Us(us){const is=(cs=>Array.isArray(cs.startValue)||Array.isArray(cs.endValue))(us)?new Vs(us):new Ys(us);return is.start(),is}function qs(us){const is=new Ns(us);return is.start(),is}class Ks{constructor(is){this.status=is,this.points=[]}includes(is){return this.points.some(cs=>cs.eq(is))}append(){for(var is=arguments.length,cs=new Array(is),lo=0;lo<is;lo++)cs[lo]=arguments[lo];return this.points=this.points.concat(cs.filter(co=>!this.includes(co))),this}static isPointContained(is,cs,lo){let co=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(cs.eq(lo))return is.eq(cs);if(cs.x===lo.x)return is.x===cs.x&&(co||is.y>=Math.min(cs.y,lo.y)&&is.y<=Math.max(cs.y,lo.y));if(cs.y===lo.y)return is.y===cs.y&&(co||is.x>=Math.min(cs.x,lo.x)&&is.x<=Math.max(cs.x,lo.x));{const hs=ps(cs,lo),uo=ps(cs,is).divide(hs);return co?Math.abs(uo.x)===Math.abs(uo.y):uo.x===uo.y&&uo.x>=0&&uo.x<=1}}static isPointInPolygon(is,cs){const lo=new ot(is).setX(Math.min(is.x-1,...cs.map(hs=>hs.x)));let co=0;for(let hs=0;hs<cs.length;hs++){const uo=this.intersectSegmentSegment(cs[hs],cs[(hs+1)%cs.length],is,lo);if(uo.includes(is))return!0;co+=+(uo.status==="Intersection")}return co%2==1}static intersectLineLine(is,cs,lo,co){let hs=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],uo=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const xa=cs.x-is.x,ba=cs.y-is.y,$a=co.x-lo.x,wl=co.y-lo.y,Sl=is.x-lo.x,Cl=is.y-lo.y,_l=$a*Cl-wl*Sl,Il=xa*Cl-ba*Sl,Fl=wl*xa-$a*ba;if(Fl!==0){const Ml=_l/Fl,Tl=Il/Fl;return(hs||0<=Ml&&Ml<=1)&&(uo||0<=Tl&&Tl<=1)?new Ks("Intersection").append(new ot(is.x+Ml*xa,is.y+Ml*ba)):new Ks}if(_l===0||Il===0){const Ml=hs||uo||Ks.isPointContained(is,lo,co)||Ks.isPointContained(cs,lo,co)||Ks.isPointContained(lo,is,cs)||Ks.isPointContained(co,is,cs);return new Ks(Ml?"Coincident":void 0)}return new Ks("Parallel")}static intersectSegmentLine(is,cs,lo,co){return Ks.intersectLineLine(is,cs,lo,co,!1,!0)}static intersectSegmentSegment(is,cs,lo,co){return Ks.intersectLineLine(is,cs,lo,co,!1,!1)}static intersectLinePolygon(is,cs,lo){let co=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const hs=new Ks,uo=lo.length;for(let xa,ba,$a,wl=0;wl<uo;wl++){if(xa=lo[wl],ba=lo[(wl+1)%uo],$a=Ks.intersectLineLine(is,cs,xa,ba,co,!1),$a.status==="Coincident")return $a;hs.append(...$a.points)}return hs.points.length>0&&(hs.status="Intersection"),hs}static intersectSegmentPolygon(is,cs,lo){return Ks.intersectLinePolygon(is,cs,lo,!1)}static intersectPolygonPolygon(is,cs){const lo=new Ks,co=is.length,hs=[];for(let uo=0;uo<co;uo++){const xa=is[uo],ba=is[(uo+1)%co],$a=Ks.intersectSegmentPolygon(xa,ba,cs);$a.status==="Coincident"?(hs.push($a),lo.append(xa,ba)):lo.append(...$a.points)}return hs.length>0&&hs.length===is.length?new Ks("Coincident"):(lo.points.length>0&&(lo.status="Intersection"),lo)}static intersectPolygonRectangle(is,cs,lo){const co=cs.min(lo),hs=cs.max(lo),uo=new ot(hs.x,co.y),xa=new ot(co.x,hs.y);return Ks.intersectPolygonPolygon(is,[co,uo,hs,xa])}}class Js extends lt{getX(){return this.getXY().x}setX(is){this.setXY(this.getXY().setX(is))}getY(){return this.getXY().y}setY(is){this.setXY(this.getXY().setY(is))}getRelativeX(){return this.left}setRelativeX(is){this.left=is}getRelativeY(){return this.top}setRelativeY(is){this.top=is}getXY(){const is=this.getRelativeXY();return this.group?St(is,this.group.calcTransformMatrix()):is}setXY(is,cs,lo){this.group&&(is=St(is,wt(this.group.calcTransformMatrix()))),this.setRelativeXY(is,cs,lo)}getRelativeXY(){return new ot(this.left,this.top)}setRelativeXY(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(is,cs,lo)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:is,tr:cs,br:lo,bl:co}=this.aCoords||(this.aCoords=this.calcACoords()),hs=[is,cs,lo,co];if(this.group){const uo=this.group.calcTransformMatrix();return hs.map(xa=>St(xa,uo))}return hs}intersectsWithRect(is,cs){return Ks.intersectPolygonRectangle(this.getCoords(),is,cs).status==="Intersection"}intersectsWithObject(is){const cs=Ks.intersectPolygonPolygon(this.getCoords(),is.getCoords());return cs.status==="Intersection"||cs.status==="Coincident"||is.isContainedWithinObject(this)||this.isContainedWithinObject(is)}isContainedWithinObject(is){return this.getCoords().every(cs=>is.containsPoint(cs))}isContainedWithinRect(is,cs){const{left:lo,top:co,width:hs,height:uo}=this.getBoundingRect();return lo>=is.x&&lo+hs<=cs.x&&co>=is.y&&co+uo<=cs.y}isOverlapping(is){return this.intersectsWithObject(is)||this.isContainedWithinObject(is)||is.isContainedWithinObject(this)}containsPoint(is){return Ks.isPointInPolygon(is,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:is,br:cs}=this.canvas.vptCoords;return!!this.getCoords().some(lo=>lo.x<=cs.x&&lo.x>=is.x&&lo.y<=cs.y&&lo.y>=is.y)||!!this.intersectsWithRect(is,cs)||this.containsPoint(is.midPointFrom(cs))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:is,br:cs}=this.canvas.vptCoords;return this.intersectsWithRect(is,cs)?!0:this.getCoords().every(lo=>(lo.x>=cs.x||lo.x<=is.x)&&(lo.y>=cs.y||lo.y<=is.y))&&this.containsPoint(is.midPointFrom(cs))}getBoundingRect(){return ae(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(is){this._set(H,is),this._set(N,is),this.setCoords()}scaleToWidth(is){const cs=this.getBoundingRect().width/this.getScaledWidth();return this.scale(is/this.width/cs)}scaleToHeight(is){const cs=this.getBoundingRect().height/this.getScaledHeight();return this.scale(is/this.height/cs)}getCanvasRetinaScaling(){var is;return((is=this.canvas)===null||is===void 0?void 0:is.getRetinaScaling())||1}getTotalAngle(){return this.group?Ct(kt(this.calcTransformMatrix())):this.angle}getViewportTransform(){var is;return((is=this.canvas)===null||is===void 0?void 0:is.viewportTransform)||T.concat()}calcACoords(){const is=Pt({angle:this.angle}),{x:cs,y:lo}=this.getRelativeCenterPoint(),co=Mt(cs,lo),hs=Tt(co,is),uo=this._getTransformedDimensions(),xa=uo.x/2,ba=uo.y/2;return{tl:St({x:-xa,y:-ba},hs),tr:St({x:xa,y:-ba},hs),bl:St({x:-xa,y:ba},hs),br:St({x:xa,y:ba},hs)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let is=arguments.length>0&&arguments[0]!==void 0&&arguments[0],cs=[];return!is&&this.group&&(cs=this.group.transformMatrixKey(is)),cs.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,xe(this.originX),xe(this.originY)),cs}calcTransformMatrix(){let is=arguments.length>0&&arguments[0]!==void 0&&arguments[0],cs=this.calcOwnMatrix();if(is||!this.group)return cs;const lo=this.transformMatrixKey(is),co=this.matrixCache;return co&&co.key.every((hs,uo)=>hs===lo[uo])?co.value:(this.group&&(cs=Tt(this.group.calcTransformMatrix(!1),cs)),this.matrixCache={key:lo,value:cs},cs)}calcOwnMatrix(){const is=this.transformMatrixKey(!0),cs=this.ownMatrixCache;if(cs&&cs.key===is)return cs.value;const lo=this.getRelativeCenterPoint(),co={angle:this.angle,translateX:lo.x,translateY:lo.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},hs=Rt(co);return this.ownMatrixCache={key:is,value:hs},hs}_getNonTransformedDimensions(){return new ot(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(is){return this._getTransformedDimensions(is).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const cs=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},is),lo=cs.strokeWidth;let co=lo,hs=0;this.strokeUniform&&(co=0,hs=lo);const uo=cs.width+co,xa=cs.height+co;let ba;return ba=cs.skewX===0&&cs.skewY===0?new ot(uo*cs.scaleX,xa*cs.scaleY):ge(uo,xa,Lt(cs)),ba.scalarAdd(hs)}translateToGivenOrigin(is,cs,lo,co,hs){let uo=is.x,xa=is.y;const ba=xe(co)-xe(cs),$a=xe(hs)-xe(lo);if(ba||$a){const wl=this._getTransformedDimensions();uo+=ba*wl.x,xa+=$a*wl.y}return new ot(uo,xa)}translateToCenterPoint(is,cs,lo){if(cs===D$1&&lo===D$1)return is;const co=this.translateToGivenOrigin(is,cs,lo,D$1,D$1);return this.angle?co.rotate(xt(this.angle),is):co}translateToOriginPoint(is,cs,lo){const co=this.translateToGivenOrigin(is,D$1,D$1,cs,lo);return this.angle?co.rotate(xt(this.angle),is):co}getCenterPoint(){const is=this.getRelativeCenterPoint();return this.group?St(is,this.group.calcTransformMatrix()):is}getRelativeCenterPoint(){return this.translateToCenterPoint(new ot(this.left,this.top),this.originX,this.originY)}getPointByOrigin(is,cs){return this.translateToOriginPoint(this.getRelativeCenterPoint(),is,cs)}setPositionByOrigin(is,cs,lo){const co=this.translateToCenterPoint(is,cs,lo),hs=this.translateToOriginPoint(co,this.originX,this.originY);this.set({left:hs.x,top:hs.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),M,P)}}const Qs=["type"],Zs=["extraParam"];let $s=class fw extends Js{static getDefaults(){return fw.ownDefaults}get type(){const is=this.constructor.type;return is==="FabricObject"?"object":is.toLowerCase()}set type(is){a("warn","Setting type has no effect",is)}constructor(is){super(),t(this,"_cacheContext",null),Object.assign(this,fw.ownDefaults),this.setOptions(is)}_createCacheCanvas(){this._cacheCanvas=pt(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(is){const cs=is.width,lo=is.height,co=o.maxCacheSideLimit,hs=o.minCacheSideLimit;if(cs<=co&&lo<=co&&cs*lo<=o.perfLimitSizeTotal)return cs<hs&&(is.width=hs),lo<hs&&(is.height=hs),is;const uo=cs/lo,[xa,ba]=_.limitDimsByArea(uo),$a=ks(hs,xa,co),wl=ks(hs,ba,co);return cs>$a&&(is.zoomX/=cs/$a,is.width=$a,is.capped=!0),lo>wl&&(is.zoomY/=lo/wl,is.height=wl,is.capped=!0),is}_getCacheCanvasDimensions(){const is=this.getTotalObjectScaling(),cs=this._getTransformedDimensions({skewX:0,skewY:0}),lo=cs.x*is.x/this.scaleX,co=cs.y*is.y/this.scaleY;return{width:Math.ceil(lo+2),height:Math.ceil(co+2),zoomX:is.x,zoomY:is.y,x:lo,y:co}}_updateCacheCanvas(){const is=this._cacheCanvas,cs=this._cacheContext,{width:lo,height:co,zoomX:hs,zoomY:uo,x:xa,y:ba}=this._limitCacheSize(this._getCacheCanvasDimensions()),$a=lo!==is.width||co!==is.height,wl=this.zoomX!==hs||this.zoomY!==uo;if(!is||!cs)return!1;if($a||wl){lo!==is.width||co!==is.height?(is.width=lo,is.height=co):(cs.setTransform(1,0,0,1,0,0),cs.clearRect(0,0,is.width,is.height));const Sl=xa/2,Cl=ba/2;return this.cacheTranslationX=Math.round(is.width/2-Sl)+Sl,this.cacheTranslationY=Math.round(is.height/2-Cl)+Cl,cs.translate(this.cacheTranslationX,this.cacheTranslationY),cs.scale(hs,uo),this.zoomX=hs,this.zoomY=uo,!0}return!1}setOptions(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(is)}transform(is){const cs=this.group&&!this.group._transformDone||this.group&&this.canvas&&is===this.canvas.contextTop,lo=this.calcTransformMatrix(!cs);is.transform(lo[0],lo[1],lo[2],lo[3],lo[4],lo[5])}getObjectScaling(){if(!this.group)return new ot(Math.abs(this.scaleX),Math.abs(this.scaleY));const is=Dt(this.calcTransformMatrix());return new ot(Math.abs(is.scaleX),Math.abs(is.scaleY))}getTotalObjectScaling(){const is=this.getObjectScaling();if(this.canvas){const cs=this.canvas.getZoom(),lo=this.getCanvasRetinaScaling();return is.scalarMultiply(cs*lo)}return is}getObjectOpacity(){let is=this.opacity;return this.group&&(is*=this.group.getObjectOpacity()),is}_constrainScale(is){return Math.abs(is)<this.minScaleLimit?is<0?-this.minScaleLimit:this.minScaleLimit:is===0?1e-4:is}_set(is,cs){is!==H&&is!==N||(cs=this._constrainScale(cs)),is===H&&cs<0?(this.flipX=!this.flipX,cs*=-1):is==="scaleY"&&cs<0?(this.flipY=!this.flipY,cs*=-1):is!=="shadow"||!cs||cs instanceof Os||(cs=new Os(cs));const lo=this[is]!==cs;return this[is]=cs,lo&&this.constructor.cacheProperties.includes(is)&&(this.dirty=!0),this.parent&&(this.dirty||lo&&this.constructor.stateProperties.includes(is))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(is){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(is.save(),this._setupCompositeOperation(is),this.drawSelectionBackground(is),this.transform(is),this._setOpacity(is),this._setShadow(is),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(is)):(this._removeCacheCanvas(),this.drawObject(is,!1,{}),this.dirty=!1),is.restore())}drawSelectionBackground(is){}renderCache(is){if(is=is||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:cs,zoomY:lo,cacheTranslationX:co,cacheTranslationY:hs}=this,{width:uo,height:xa}=this._cacheCanvas;this.drawObject(this._cacheContext,is.forClipping,{zoomX:cs,zoomY:lo,cacheTranslationX:co,cacheTranslationY:hs,width:uo,height:xa,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===J&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(is,cs,lo){is.save(),cs.inverted?is.globalCompositeOperation="destination-out":is.globalCompositeOperation="destination-in",is.setTransform(1,0,0,1,0,0),is.drawImage(lo,0,0),is.restore()}drawObject(is,cs,lo){const co=this.fill,hs=this.stroke;cs?(this.fill="black",this.stroke="",this._setClippingProperties(is)):this._renderBackground(is),this._render(is),this._drawClipPath(is,this.clipPath,lo),this.fill=co,this.stroke=hs}createClipPathLayer(is,cs){const lo=vt(cs),co=lo.getContext("2d");if(co.translate(cs.cacheTranslationX,cs.cacheTranslationY),co.scale(cs.zoomX,cs.zoomY),is._cacheCanvas=lo,cs.parentClipPaths.forEach(hs=>{hs.transform(co)}),cs.parentClipPaths.push(is),is.absolutePositioned){const hs=wt(this.calcTransformMatrix());co.transform(hs[0],hs[1],hs[2],hs[3],hs[4],hs[5])}return is.transform(co),is.drawObject(co,!0,cs),lo}_drawClipPath(is,cs,lo){if(!cs)return;cs._transformDone=!0;const co=this.createClipPathLayer(cs,lo);this.drawClipPathOnCache(is,cs,co)}drawCacheOnCanvas(is){is.scale(1/this.zoomX,1/this.zoomY),is.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let is=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const cs=this._cacheCanvas,lo=this._cacheContext;return!(!cs||!lo||is||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(cs&&lo&&!is&&(lo.save(),lo.setTransform(1,0,0,1,0,0),lo.clearRect(0,0,cs.width,cs.height),lo.restore()),!0)}_renderBackground(is){if(!this.backgroundColor)return;const cs=this._getNonTransformedDimensions();is.fillStyle=this.backgroundColor,is.fillRect(-cs.x/2,-cs.y/2,cs.x,cs.y),this._removeShadow(is)}_setOpacity(is){this.group&&!this.group._transformDone?is.globalAlpha=this.getObjectOpacity():is.globalAlpha*=this.opacity}_setStrokeStyles(is,cs){const lo=cs.stroke;lo&&(is.lineWidth=cs.strokeWidth,is.lineCap=cs.strokeLineCap,is.lineDashOffset=cs.strokeDashOffset,is.lineJoin=cs.strokeLineJoin,is.miterLimit=cs.strokeMiterLimit,Gt(lo)?lo.gradientUnits==="percentage"||lo.gradientTransform||lo.patternTransform?this._applyPatternForTransformedGradient(is,lo):(is.strokeStyle=lo.toLive(is),this._applyPatternGradientTransform(is,lo)):is.strokeStyle=cs.stroke)}_setFillStyles(is,cs){let{fill:lo}=cs;lo&&(Gt(lo)?(is.fillStyle=lo.toLive(is),this._applyPatternGradientTransform(is,lo)):is.fillStyle=lo)}_setClippingProperties(is){is.globalAlpha=1,is.strokeStyle="transparent",is.fillStyle="#000000"}_setLineDash(is,cs){cs&&cs.length!==0&&is.setLineDash(cs)}_setShadow(is){if(!this.shadow)return;const cs=this.shadow,lo=this.canvas,co=this.getCanvasRetinaScaling(),[hs,,,uo]=(lo==null?void 0:lo.viewportTransform)||T,xa=hs*co,ba=uo*co,$a=cs.nonScaling?new ot(1,1):this.getObjectScaling();is.shadowColor=cs.color,is.shadowBlur=cs.blur*o.browserShadowBlurConstant*(xa+ba)*($a.x+$a.y)/4,is.shadowOffsetX=cs.offsetX*xa*$a.x,is.shadowOffsetY=cs.offsetY*ba*$a.y}_removeShadow(is){this.shadow&&(is.shadowColor="",is.shadowBlur=is.shadowOffsetX=is.shadowOffsetY=0)}_applyPatternGradientTransform(is,cs){if(!Gt(cs))return{offsetX:0,offsetY:0};const lo=cs.gradientTransform||cs.patternTransform,co=-this.width/2+cs.offsetX||0,hs=-this.height/2+cs.offsetY||0;return cs.gradientUnits==="percentage"?is.transform(this.width,0,0,this.height,co,hs):is.transform(1,0,0,1,co,hs),lo&&is.transform(lo[0],lo[1],lo[2],lo[3],lo[4],lo[5]),{offsetX:co,offsetY:hs}}_renderPaintInOrder(is){this.paintFirst===J?(this._renderStroke(is),this._renderFill(is)):(this._renderFill(is),this._renderStroke(is))}_render(is){}_renderFill(is){this.fill&&(is.save(),this._setFillStyles(is,this),this.fillRule==="evenodd"?is.fill("evenodd"):is.fill(),is.restore())}_renderStroke(is){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(is),is.save(),this.strokeUniform){const cs=this.getObjectScaling();is.scale(1/cs.x,1/cs.y)}this._setLineDash(is,this.strokeDashArray),this._setStrokeStyles(is,this),is.stroke(),is.restore()}}_applyPatternForTransformedGradient(is,cs){var lo;const co=this._limitCacheSize(this._getCacheCanvasDimensions()),hs=this.getCanvasRetinaScaling(),uo=co.x/this.scaleX/hs,xa=co.y/this.scaleY/hs,ba=vt({width:Math.ceil(uo),height:Math.ceil(xa)}),$a=ba.getContext("2d");$a&&($a.beginPath(),$a.moveTo(0,0),$a.lineTo(uo,0),$a.lineTo(uo,xa),$a.lineTo(0,xa),$a.closePath(),$a.translate(uo/2,xa/2),$a.scale(co.zoomX/this.scaleX/hs,co.zoomY/this.scaleY/hs),this._applyPatternGradientTransform($a,cs),$a.fillStyle=cs.toLive(is),$a.fill(),is.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),is.scale(hs*this.scaleX/co.zoomX,hs*this.scaleY/co.zoomY),is.strokeStyle=(lo=$a.createPattern(ba,"no-repeat"))!==null&&lo!==void 0?lo:"")}_findCenterFromElement(){return new ot(this.left+this.width/2,this.top+this.height/2)}clone(is){const cs=this.toObject(is);return this.constructor.fromObject(cs)}cloneAsImage(is){const cs=this.toCanvasElement(is);return new(tt.getClass("image"))(cs)}toCanvasElement(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const cs=de(this),lo=this.group,co=this.shadow,hs=Math.abs,uo=is.enableRetinaScaling?y():1,xa=(is.multiplier||1)*uo,ba=is.canvasProvider||(Dl=>new se(Dl,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,is.withoutTransform&&ue(this),is.withoutShadow&&(this.shadow=null),is.viewportTransform&&ve(this,this.getViewportTransform()),this.setCoords();const $a=pt(),wl=this.getBoundingRect(),Sl=this.shadow,Cl=new ot;if(Sl){const Dl=Sl.blur,Bl=Sl.nonScaling?new ot(1,1):this.getObjectScaling();Cl.x=2*Math.round(hs(Sl.offsetX)+Dl)*hs(Bl.x),Cl.y=2*Math.round(hs(Sl.offsetY)+Dl)*hs(Bl.y)}const _l=wl.width+Cl.x,Il=wl.height+Cl.y;$a.width=Math.ceil(_l),$a.height=Math.ceil(Il);const Fl=ba($a);is.format==="jpeg"&&(Fl.backgroundColor="#fff"),this.setPositionByOrigin(new ot(Fl.width/2,Fl.height/2),D$1,D$1);const Ml=this.canvas;Fl._objects=[this],this.set("canvas",Fl),this.setCoords();const Tl=Fl.toCanvasElement(xa||1,is);return this.set("canvas",Ml),this.shadow=co,lo&&(this.group=lo),this.set(cs),this.setCoords(),Fl._objects=[],Fl.destroy(),Tl}toDataURL(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yt(this.toCanvasElement(is),is.format||"png",is.quality||1)}toBlob(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _t(this.toCanvasElement(is),is.format||"png",is.quality||1)}isType(){for(var is=arguments.length,cs=new Array(is),lo=0;lo<is;lo++)cs[lo]=arguments[lo];return cs.includes(this.constructor.type)||cs.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(is){const{centeredRotation:cs,originX:lo,originY:co}=this;if(cs){const{x:hs,y:uo}=this.getRelativeCenterPoint();this.originX=D$1,this.originY=D$1,this.left=hs,this.top=uo}if(this.set("angle",is),cs){const{x:hs,y:uo}=this.translateToOriginPoint(this.getRelativeCenterPoint(),lo,co);this.left=hs,this.top=uo,this.originX=lo,this.originY=co}}setOnGroup(){}_setupCompositeOperation(is){this.globalCompositeOperation&&(is.globalCompositeOperation=this.globalCompositeOperation)}dispose(){et.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&p().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(is,cs){return Object.entries(is).reduce((lo,co)=>{let[hs,uo]=co;return lo[hs]=this._animate(hs,uo,cs),lo},{})}_animate(is,cs){let lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const co=is.split("."),hs=this.constructor.colorProperties.includes(co[co.length-1]),{abort:uo,startValue:xa,onChange:ba,onComplete:$a}=lo,wl=s(s({},lo),{},{target:this,startValue:xa??co.reduce((Sl,Cl)=>Sl[Cl],this),endValue:cs,abort:uo==null?void 0:uo.bind(this),onChange:(Sl,Cl,_l)=>{co.reduce((Il,Fl,Ml)=>(Ml===co.length-1&&(Il[Fl]=Sl),Il[Fl]),this),ba&&ba(Sl,Cl,_l)},onComplete:(Sl,Cl,_l)=>{this.setCoords(),$a&&$a(Sl,Cl,_l)}});return hs?qs(wl):Us(wl)}isDescendantOf(is){const{parent:cs,group:lo}=this;return cs===is||lo===is||!!cs&&cs.isDescendantOf(is)||!!lo&&lo!==cs&&lo.isDescendantOf(is)}getAncestors(){const is=[];let cs=this;do cs=cs.parent,cs&&is.push(cs);while(cs);return is}findCommonAncestors(is){if(this===is)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const cs=this.getAncestors(),lo=is.getAncestors();if(cs.length===0&&lo.length>0&&this===lo[lo.length-1])return{fork:[],otherFork:[is,...lo.slice(0,lo.length-1)],common:[this]};for(let co,hs=0;hs<cs.length;hs++){if(co=cs[hs],co===is)return{fork:[this,...cs.slice(0,hs)],otherFork:[],common:cs.slice(hs)};for(let uo=0;uo<lo.length;uo++){if(this===lo[uo])return{fork:[],otherFork:[is,...lo.slice(0,uo)],common:[this,...cs]};if(co===lo[uo])return{fork:[this,...cs.slice(0,hs)],otherFork:[is,...lo.slice(0,uo)],common:cs.slice(hs)}}}return{fork:[this,...cs],otherFork:[is,...lo],common:[]}}hasCommonAncestors(is){const cs=this.findCommonAncestors(is);return cs&&!!cs.common.length}isInFrontOf(is){if(this===is)return;const cs=this.findCommonAncestors(is);if(cs.fork.includes(is))return!0;if(cs.otherFork.includes(this))return!1;const lo=cs.common[0]||this.canvas;if(!lo)return;const co=cs.fork.pop(),hs=cs.otherFork.pop(),uo=lo._objects.indexOf(co),xa=lo._objects.indexOf(hs);return uo>-1&&uo>xa}toObject(){const is=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(fw.customProperties,this.constructor.customProperties||[]);let cs;const lo=o.NUM_FRACTION_DIGITS,{clipPath:co,fill:hs,stroke:uo,shadow:xa,strokeDashArray:ba,left:$a,top:wl,originX:Sl,originY:Cl,width:_l,height:Il,strokeWidth:Fl,strokeLineCap:Ml,strokeDashOffset:Tl,strokeLineJoin:Dl,strokeUniform:Bl,strokeMiterLimit:Ll,scaleX:Nl,scaleY:zl,angle:$l,flipX:Vl,flipY:Gl,opacity:iu,visible:nu,backgroundColor:Jl,fillRule:lu,paintFirst:ju,globalCompositeOperation:zu,skewX:Wu,skewY:qu}=this;co&&!co.excludeFromExport&&(cs=co.toObject(is.concat("inverted","absolutePositioned")));const Mu=uu=>Vt(uu,lo),mu=s(s({},Yt(this,is)),{},{type:this.constructor.type,version:x,originX:Sl,originY:Cl,left:Mu($a),top:Mu(wl),width:Mu(_l),height:Mu(Il),fill:Ht(hs)?hs.toObject():hs,stroke:Ht(uo)?uo.toObject():uo,strokeWidth:Mu(Fl),strokeDashArray:ba&&ba.concat(),strokeLineCap:Ml,strokeDashOffset:Tl,strokeLineJoin:Dl,strokeUniform:Bl,strokeMiterLimit:Mu(Ll),scaleX:Mu(Nl),scaleY:Mu(zl),angle:Mu($l),flipX:Vl,flipY:Gl,opacity:Mu(iu),shadow:xa&&xa.toObject(),visible:nu,backgroundColor:Jl,fillRule:lu,paintFirst:ju,globalCompositeOperation:zu,skewX:Mu(Wu),skewY:Mu(qu)},cs?{clipPath:cs}:null);return this.includeDefaultValues?mu:this._removeDefaultValues(mu)}toDatalessObject(is){return this.toObject(is)}_removeDefaultValues(is){const cs=this.constructor.getDefaults(),lo=Object.keys(cs).length>0?cs:Object.getPrototypeOf(this);return Wt(is,(co,hs)=>{if(hs===M||hs===P||hs==="type")return!0;const uo=lo[hs];return co!==uo&&!(Array.isArray(co)&&Array.isArray(uo)&&co.length===0&&uo.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(is){let cs=i(is,Qs),lo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:co}=lo,hs=i(lo,Zs);return Xt(cs,hs).then(uo=>co?(delete uo[co],new this(cs[co],uo)):new this(uo))}static fromObject(is,cs){return this._fromObject(is,cs)}};t($s,"stateProperties",Ds),t($s,"cacheProperties",Ms),t($s,"ownDefaults",Ps),t($s,"type","FabricObject"),t($s,"colorProperties",[K,J,"backgroundColor"]),t($s,"customProperties",[]),tt.setClass($s),tt.setClass($s,"object");const ti=(us,is,cs)=>(lo,co,hs,uo)=>{const xa=is(lo,co,hs,uo);return xa&&ye(us,s(s({},Te(lo,co,hs,uo)),cs)),xa};function ei(us){return(is,cs,lo,co)=>{const{target:hs,originX:uo,originY:xa}=cs,ba=hs.getRelativeCenterPoint(),$a=hs.translateToOriginPoint(ba,uo,xa),wl=us(is,cs,lo,co);return hs.setPositionByOrigin($a,cs.originX,cs.originY),wl}}const si=ti(Y,ei((us,is,cs,lo)=>{const co=ke(is,is.originX,is.originY,cs,lo);if(xe(is.originX)===xe(D$1)||xe(is.originX)===xe(A)&&co.x<0||xe(is.originX)===xe(M)&&co.x>0){const{target:hs}=is,uo=hs.strokeWidth/(hs.strokeUniform?hs.scaleX:1),xa=be(is)?2:1,ba=hs.width,$a=Math.abs(co.x*xa/hs.scaleX)-uo;return hs.set("width",Math.max($a,1)),ba!==hs.width}return!1}));function ii(us,is,cs,lo,co){lo=lo||{};const hs=this.sizeX||lo.cornerSize||co.cornerSize,uo=this.sizeY||lo.cornerSize||co.cornerSize,xa=lo.transparentCorners!==void 0?lo.transparentCorners:co.transparentCorners,ba=xa?J:K,$a=!xa&&(lo.cornerStrokeColor||co.cornerStrokeColor);let wl,Sl=is,Cl=cs;us.save(),us.fillStyle=lo.cornerColor||co.cornerColor||"",us.strokeStyle=lo.cornerStrokeColor||co.cornerStrokeColor||"",hs>uo?(wl=hs,us.scale(1,uo/hs),Cl=cs*hs/uo):uo>hs?(wl=uo,us.scale(hs/uo,1),Sl=is*uo/hs):wl=hs,us.beginPath(),us.arc(Sl,Cl,wl/2,0,S,!1),us[ba](),$a&&us.stroke(),us.restore()}function ri(us,is,cs,lo,co){lo=lo||{};const hs=this.sizeX||lo.cornerSize||co.cornerSize,uo=this.sizeY||lo.cornerSize||co.cornerSize,xa=lo.transparentCorners!==void 0?lo.transparentCorners:co.transparentCorners,ba=xa?J:K,$a=!xa&&(lo.cornerStrokeColor||co.cornerStrokeColor),wl=hs/2,Sl=uo/2;us.save(),us.fillStyle=lo.cornerColor||co.cornerColor||"",us.strokeStyle=lo.cornerStrokeColor||co.cornerStrokeColor||"",us.translate(is,cs);const Cl=co.getTotalAngle();us.rotate(xt(Cl)),us["".concat(ba,"Rect")](-wl,-Sl,hs,uo),$a&&us.strokeRect(-wl,-Sl,hs,uo),us.restore()}class ni{constructor(is){t(this,"visible",!0),t(this,"actionName",G),t(this,"angle",0),t(this,"x",0),t(this,"y",0),t(this,"offsetX",0),t(this,"offsetY",0),t(this,"sizeX",0),t(this,"sizeY",0),t(this,"touchSizeX",0),t(this,"touchSizeY",0),t(this,"cursorStyle","crosshair"),t(this,"withConnection",!1),Object.assign(this,is)}shouldActivate(is,cs,lo,co){var hs;let{tl:uo,tr:xa,br:ba,bl:$a}=co;return((hs=cs.canvas)===null||hs===void 0?void 0:hs.getActiveObject())===cs&&cs.isControlVisible(is)&&Ks.isPointInPolygon(lo,[uo,xa,ba,$a])}getActionHandler(is,cs,lo){return this.actionHandler}getMouseDownHandler(is,cs,lo){return this.mouseDownHandler}getMouseUpHandler(is,cs,lo){return this.mouseUpHandler}cursorStyleHandler(is,cs,lo){return cs.cursorStyle}getActionName(is,cs,lo){return cs.actionName}getVisibility(is,cs){var lo,co;return(lo=(co=is._controlsVisibility)===null||co===void 0?void 0:co[cs])!==null&&lo!==void 0?lo:this.visible}setVisibility(is,cs,lo){this.visible=is}positionHandler(is,cs,lo,co){return new ot(this.x*is.x+this.offsetX,this.y*is.y+this.offsetY).transform(cs)}calcCornerCoords(is,cs,lo,co,hs,uo){const xa=Ot([Mt(lo,co),Pt({angle:is}),Et((hs?this.touchSizeX:this.sizeX)||cs,(hs?this.touchSizeY:this.sizeY)||cs)]);return{tl:new ot(-.5,-.5).transform(xa),tr:new ot(.5,-.5).transform(xa),br:new ot(.5,.5).transform(xa),bl:new ot(-.5,.5).transform(xa)}}render(is,cs,lo,co,hs){((co=co||{}).cornerStyle||hs.cornerStyle)==="circle"?ii.call(this,is,cs,lo,co,hs):ri.call(this,is,cs,lo,co,hs)}}const oi=(us,is,cs)=>cs.lockRotation?Ce:is.cursorStyle,ai=ti(I,ei((us,is,cs,lo)=>{let{target:co,ex:hs,ey:uo,theta:xa,originX:ba,originY:$a}=is;const wl=co.translateToOriginPoint(co.getRelativeCenterPoint(),ba,$a);if(we(co,"lockRotation"))return!1;const Sl=Math.atan2(uo-wl.y,hs-wl.x),Cl=Math.atan2(lo-wl.y,cs-wl.x);let _l=Ct(Cl-Sl+xa);if(co.snapAngle&&co.snapAngle>0){const Fl=co.snapAngle,Ml=co.snapThreshold||Fl,Tl=Math.ceil(_l/Fl)*Fl,Dl=Math.floor(_l/Fl)*Fl;Math.abs(_l-Dl)<Ml?_l=Dl:Math.abs(_l-Tl)<Ml&&(_l=Tl)}_l<0&&(_l=360+_l),_l%=360;const Il=co.angle!==_l;return co.angle=_l,Il}));function hi(us,is){const cs=is.canvas,lo=us[cs.uniScaleKey];return cs.uniformScaling&&!lo||!cs.uniformScaling&&lo}function ci(us,is,cs){const lo=we(us,"lockScalingX"),co=we(us,"lockScalingY");if(lo&&co||!is&&(lo||co)&&cs||lo&&is==="x"||co&&is==="y")return!0;const{width:hs,height:uo,strokeWidth:xa}=us;return hs===0&&xa===0&&is!=="y"||uo===0&&xa===0&&is!=="x"}const li=["e","se","s","sw","w","nw","n","ne","e"],ui=(us,is,cs)=>{const lo=hi(us,cs);if(ci(cs,is.x!==0&&is.y===0?"x":is.x===0&&is.y!==0?"y":"",lo))return Ce;const co=Oe(cs,is);return"".concat(li[co],"-resize")};function di(us,is,cs,lo){let co=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const hs=is.target,uo=co.by,xa=hi(us,hs);let ba,$a,wl,Sl,Cl,_l;if(ci(hs,uo,xa))return!1;if(is.gestureScale)$a=is.scaleX*is.gestureScale,wl=is.scaleY*is.gestureScale;else{if(ba=ke(is,is.originX,is.originY,cs,lo),Cl=uo!=="y"?Math.sign(ba.x||is.signX||1):1,_l=uo!=="x"?Math.sign(ba.y||is.signY||1):1,is.signX||(is.signX=Cl),is.signY||(is.signY=_l),we(hs,"lockScalingFlip")&&(is.signX!==Cl||is.signY!==_l))return!1;if(Sl=hs._getTransformedDimensions(),xa&&!uo){const Ml=Math.abs(ba.x)+Math.abs(ba.y),{original:Tl}=is,Dl=Ml/(Math.abs(Sl.x*Tl.scaleX/hs.scaleX)+Math.abs(Sl.y*Tl.scaleY/hs.scaleY));$a=Tl.scaleX*Dl,wl=Tl.scaleY*Dl}else $a=Math.abs(ba.x*hs.scaleX/Sl.x),wl=Math.abs(ba.y*hs.scaleY/Sl.y);be(is)&&($a*=2,wl*=2),is.signX!==Cl&&uo!=="y"&&(is.originX=Se(is.originX),$a*=-1,is.signX=Cl),is.signY!==_l&&uo!=="x"&&(is.originY=Se(is.originY),wl*=-1,is.signY=_l)}const Il=hs.scaleX,Fl=hs.scaleY;return uo?(uo==="x"&&hs.set(H,$a),uo==="y"&&hs.set(N,wl)):(!we(hs,"lockScalingX")&&hs.set(H,$a),!we(hs,"lockScalingY")&&hs.set(N,wl)),Il!==hs.scaleX||Fl!==hs.scaleY}const gi=ti(R,ei((us,is,cs,lo)=>di(us,is,cs,lo))),fi=ti(R,ei((us,is,cs,lo)=>di(us,is,cs,lo,{by:"x"}))),pi=ti(R,ei((us,is,cs,lo)=>di(us,is,cs,lo,{by:"y"}))),mi=["target","ex","ey","skewingSide"],vi={x:{counterAxis:"y",scale:H,skew:U,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:N,skew:q,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},yi=["ns","nesw","ew","nwse"],_i=(us,is,cs)=>{if(is.x!==0&&we(cs,"lockSkewingY")||is.y!==0&&we(cs,"lockSkewingX"))return Ce;const lo=Oe(cs,is)%4;return"".concat(yi[lo],"-resize")};function xi(us,is,cs,lo,co){const{target:hs}=cs,{counterAxis:uo,origin:xa,lockSkewing:ba,skew:$a,flip:wl}=vi[us];if(we(hs,ba))return!1;const{origin:Sl,flip:Cl}=vi[uo],_l=xe(cs[Sl])*(hs[Cl]?-1:1),Il=-Math.sign(_l)*(hs[wl]?-1:1),Fl=.5*-((hs[$a]===0&&ke(cs,D$1,D$1,lo,co)[us]>0||hs[$a]>0?1:-1)*Il)+.5;return ti(X,ei((Tl,Dl,Bl,Ll)=>function(Nl,zl,$l){let{target:Vl,ex:Gl,ey:iu,skewingSide:nu}=zl,Jl=i(zl,mi);const{skew:lu}=vi[Nl],ju=$l.subtract(new ot(Gl,iu)).divide(new ot(Vl.scaleX,Vl.scaleY))[Nl],zu=Vl[lu],Wu=Jl[lu],qu=Math.tan(xt(Wu)),Mu=Nl==="y"?Vl._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:Vl._getTransformedDimensions({scaleX:1,scaleY:1}).y,mu=2*ju*nu/Math.max(Mu,1)+qu,uu=Ct(Math.atan(mu));Vl.set(lu,uu);const cu=zu!==Vl[lu];if(cu&&Nl==="y"){const{skewX:ru,scaleX:Yl}=Vl,Hl=Vl._getTransformedDimensions({skewY:zu}),Kl=Vl._getTransformedDimensions(),_c=ru!==0?Hl.x/Kl.x:1;_c!==1&&Vl.set(H,_c*Yl)}return cu}(us,Dl,new ot(Bl,Ll))))(is,s(s({},cs),{},{[xa]:Fl,skewingSide:Il}),lo,co)}const Ci=(us,is,cs,lo)=>xi("x",us,is,cs,lo),bi=(us,is,cs,lo)=>xi("y",us,is,cs,lo);function Si(us,is){return us[is.canvas.altActionKey]}const wi=(us,is,cs)=>{const lo=Si(us,cs);return is.x===0?lo?U:N:is.y===0?lo?q:H:""},Ti=(us,is,cs)=>Si(us,cs)?_i(0,is,cs):ui(us,is,cs),Oi=(us,is,cs,lo)=>Si(us,is.target)?bi(us,is,cs,lo):fi(us,is,cs,lo),ki=(us,is,cs,lo)=>Si(us,is.target)?Ci(us,is,cs,lo):pi(us,is,cs,lo),Di=()=>({ml:new ni({x:-.5,y:0,cursorStyleHandler:Ti,actionHandler:Oi,getActionName:wi}),mr:new ni({x:.5,y:0,cursorStyleHandler:Ti,actionHandler:Oi,getActionName:wi}),mb:new ni({x:0,y:.5,cursorStyleHandler:Ti,actionHandler:ki,getActionName:wi}),mt:new ni({x:0,y:-.5,cursorStyleHandler:Ti,actionHandler:ki,getActionName:wi}),tl:new ni({x:-.5,y:-.5,cursorStyleHandler:ui,actionHandler:gi}),tr:new ni({x:.5,y:-.5,cursorStyleHandler:ui,actionHandler:gi}),bl:new ni({x:-.5,y:.5,cursorStyleHandler:ui,actionHandler:gi}),br:new ni({x:.5,y:.5,cursorStyleHandler:ui,actionHandler:gi}),mtr:new ni({x:0,y:-.5,actionHandler:ai,cursorStyleHandler:oi,offsetY:-40,withConnection:!0,actionName:B$1})}),Mi=()=>({mr:new ni({x:.5,y:0,actionHandler:si,cursorStyleHandler:Ti,actionName:Y}),ml:new ni({x:-.5,y:0,actionHandler:si,cursorStyleHandler:Ti,actionName:Y})}),Pi=()=>s(s({},Di()),Mi());class Ei extends $s{static getDefaults(){return s(s({},super.getDefaults()),Ei.ownDefaults)}constructor(is){super(),Object.assign(this,this.constructor.createControls(),Ei.ownDefaults),this.setOptions(is)}static createControls(){return{controls:Di()}}_updateCacheCanvas(){const is=this.canvas;if(this.noScaleCache&&is&&is._currentTransform){const cs=is._currentTransform,lo=cs.target,co=cs.action;if(this===lo&&co&&co.startsWith(G))return!1}return super._updateCacheCanvas()}getActiveControl(){const is=this.__corner;return is?{key:is,control:this.controls[is],coord:this.oCoords[is]}:void 0}findControl(is){let cs=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const lo=Object.entries(this.oCoords);for(let co=lo.length-1;co>=0;co--){const[hs,uo]=lo[co],xa=this.controls[hs];if(xa.shouldActivate(hs,this,is,cs?uo.touchCorner:uo.corner))return this.__corner=hs,{key:hs,control:xa,coord:this.oCoords[hs]}}}calcOCoords(){const is=this.getViewportTransform(),cs=this.getCenterPoint(),lo=Mt(cs.x,cs.y),co=Pt({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),hs=Tt(lo,co),uo=Tt(is,hs),xa=Tt(uo,[1/is[0],0,0,1/is[3],0,0]),ba=this.group?Dt(this.calcTransformMatrix()):void 0;ba&&(ba.scaleX=Math.abs(ba.scaleX),ba.scaleY=Math.abs(ba.scaleY));const $a=this._calculateCurrentDimensions(ba),wl={};return this.forEachControl((Sl,Cl)=>{const _l=Sl.positionHandler($a,xa,this,Sl);wl[Cl]=Object.assign(_l,this._calcCornerCoords(Sl,_l))}),wl}_calcCornerCoords(is,cs){const lo=this.getTotalAngle();return{corner:is.calcCornerCoords(lo,this.cornerSize,cs.x,cs.y,!1,this),touchCorner:is.calcCornerCoords(lo,this.touchCornerSize,cs.x,cs.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(is){for(const cs in this.controls)is(this.controls[cs],cs,this)}drawSelectionBackground(is){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;is.save();const cs=this.getRelativeCenterPoint(),lo=this._calculateCurrentDimensions(),co=this.getViewportTransform();is.translate(cs.x,cs.y),is.scale(1/co[0],1/co[3]),is.rotate(xt(this.angle)),is.fillStyle=this.selectionBackgroundColor,is.fillRect(-lo.x/2,-lo.y/2,lo.x,lo.y),is.restore()}strokeBorders(is,cs){is.strokeRect(-cs.x/2,-cs.y/2,cs.x,cs.y)}_drawBorders(is,cs){let lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const co=s({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},lo);is.save(),is.strokeStyle=co.borderColor,this._setLineDash(is,co.borderDashArray),this.strokeBorders(is,cs),co.hasControls&&this.drawControlsConnectingLines(is,cs),is.restore()}_renderControls(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:lo,hasControls:co}=this,hs=s({hasBorders:lo,hasControls:co},cs),uo=this.getViewportTransform(),xa=hs.hasBorders,ba=hs.hasControls,$a=Tt(uo,this.calcTransformMatrix()),wl=Dt($a);is.save(),is.translate(wl.translateX,wl.translateY),is.lineWidth=this.borderScaleFactor,this.group===this.parent&&(is.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(wl.angle-=180),is.rotate(xt(this.group?wl.angle:this.angle)),xa&&this.drawBorders(is,wl,cs),ba&&this.drawControls(is,cs),is.restore()}drawBorders(is,cs,lo){let co;if(lo&&lo.forActiveSelection||this.group){const hs=ge(this.width,this.height,Lt(cs)),uo=this.isStrokeAccountedForInDimensions()?at:(this.strokeUniform?new ot().scalarAdd(this.canvas?this.canvas.getZoom():1):new ot(cs.scaleX,cs.scaleY)).scalarMultiply(this.strokeWidth);co=hs.add(uo).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else co=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(is,co,lo)}drawControlsConnectingLines(is,cs){let lo=!1;is.beginPath(),this.forEachControl((co,hs)=>{co.withConnection&&co.getVisibility(this,hs)&&(lo=!0,is.moveTo(co.x*cs.x,co.y*cs.y),is.lineTo(co.x*cs.x+co.offsetX,co.y*cs.y+co.offsetY))}),lo&&is.stroke()}drawControls(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};is.save();const lo=this.getCanvasRetinaScaling(),{cornerStrokeColor:co,cornerDashArray:hs,cornerColor:uo}=this,xa=s({cornerStrokeColor:co,cornerDashArray:hs,cornerColor:uo},cs);is.setTransform(lo,0,0,lo,0,0),is.strokeStyle=is.fillStyle=xa.cornerColor,this.transparentCorners||(is.strokeStyle=xa.cornerStrokeColor),this._setLineDash(is,xa.cornerDashArray),this.forEachControl((ba,$a)=>{if(ba.getVisibility(this,$a)){const wl=this.oCoords[$a];ba.render(is,wl.x,wl.y,xa,this)}}),is.restore()}isControlVisible(is){return this.controls[is]&&this.controls[is].getVisibility(this,is)}setControlVisible(is,cs){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[is]=cs}setControlsVisibility(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(is).forEach(cs=>{let[lo,co]=cs;return this.setControlVisible(lo,co)})}clearContextTop(is){if(!this.canvas)return;const cs=this.canvas.contextTop;if(!cs)return;const lo=this.canvas.viewportTransform;cs.save(),cs.transform(lo[0],lo[1],lo[2],lo[3],lo[4],lo[5]),this.transform(cs);const co=this.width+4,hs=this.height+4;return cs.clearRect(-co/2,-hs/2,co,hs),is||cs.restore(),cs}onDeselect(is){return!1}onSelect(is){return!1}shouldStartDragging(is){return!1}onDragStart(is){return!1}canDrop(is){return!1}renderDragSourceEffect(is){}renderDropTargetEffect(is){}}function Ai(us,is){return is.forEach(cs=>{Object.getOwnPropertyNames(cs.prototype).forEach(lo=>{lo!=="constructor"&&Object.defineProperty(us.prototype,lo,Object.getOwnPropertyDescriptor(cs.prototype,lo)||Object.create(null))})}),us}t(Ei,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class ji extends Ei{}Ai(ji,[Xe]),tt.setClass(ji),tt.setClass(ji,"object");const Fi=(us,is,cs,lo)=>{const co=2*(lo=Math.round(lo))+1,{data:hs}=us.getImageData(is-lo,cs-lo,co,co);for(let uo=3;uo<hs.length;uo+=4)if(hs[uo]>0)return!1;return!0};class Li{constructor(is){this.options=is,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ot(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ot(1/this.options.scaleX,1/this.options.scaleY):new ot(1,1)}createSideVector(is,cs){const lo=ps(is,cs);return this.options.strokeUniform?lo.multiply(this.scale):lo}projectOrthogonally(is,cs,lo){return this.applySkew(is.add(this.calcOrthogonalProjection(is,cs,lo)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(is){const cs=new ot(is);return cs.y+=cs.x*Math.tan(xt(this.options.skewY)),cs.x+=cs.y*Math.tan(xt(this.options.skewX)),cs}scaleUnitVector(is,cs){return is.multiply(this.strokeUniformScalar).scalarMultiply(cs)}}const Ri=new ot;class Ii extends Li{static getOrthogonalRotationFactor(is,cs){const lo=cs?vs(is,cs):ys(is);return Math.abs(lo)<b?-1:1}constructor(is,cs,lo,co){super(co),t(this,"AB",void 0),t(this,"AC",void 0),t(this,"alpha",void 0),t(this,"bisector",void 0),this.A=new ot(is),this.B=new ot(cs),this.C=new ot(lo),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=vs(this.AB,this.AC),this.bisector=_s(fs(this.AB.eq(Ri)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(is,cs){let lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const co=this.createSideVector(is,cs),hs=xs(co),uo=Ii.getOrthogonalRotationFactor(hs,this.bisector);return this.scaleUnitVector(hs,lo*uo)}projectBevel(){const is=[];return(this.alpha%S==0?[this.B]:[this.B,this.C]).forEach(cs=>{is.push(this.projectOrthogonally(this.A,cs)),is.push(this.projectOrthogonally(this.A,cs,-this.strokeProjectionMagnitude))}),is}projectMiter(){const is=[],cs=Math.abs(this.alpha),lo=1/Math.sin(cs/2),co=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*lo),hs=this.options.strokeUniform?ms(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return ms(co)/this.strokeProjectionMagnitude<=hs&&is.push(this.applySkew(this.A.add(co))),is.push(...this.projectBevel()),is}projectRoundNoSkew(is,cs){const lo=[],co=new ot(Ii.getOrthogonalRotationFactor(this.bisector),Ii.getOrthogonalRotationFactor(new ot(this.bisector.y,this.bisector.x)));return[new ot(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(co),new ot(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(co)].forEach(hs=>{Ss(hs,is,cs)&&lo.push(this.A.add(hs))}),lo}projectRoundWithSkew(is,cs){const lo=[],{skewX:co,skewY:hs,scaleX:uo,scaleY:xa,strokeUniform:ba}=this.options,$a=new ot(Math.tan(xt(co)),Math.tan(xt(hs))),wl=this.strokeProjectionMagnitude,Sl=ba?wl/xa/Math.sqrt(1/xa**2+1/uo**2*$a.y**2):wl/Math.sqrt(1+$a.y**2),Cl=new ot(Math.sqrt(Math.max(wl**2-Sl**2,0)),Sl),_l=ba?wl/Math.sqrt(1+$a.x**2*(1/xa)**2/(1/uo+1/uo*$a.x*$a.y)**2):wl/Math.sqrt(1+$a.x**2/(1+$a.x*$a.y)**2),Il=new ot(_l,Math.sqrt(Math.max(wl**2-_l**2,0)));return[Il,Il.scalarMultiply(-1),Cl,Cl.scalarMultiply(-1)].map(Fl=>this.applySkew(ba?Fl.multiply(this.strokeUniformScalar):Fl)).forEach(Fl=>{Ss(Fl,is,cs)&&lo.push(this.applySkew(this.A).add(Fl))}),lo}projectRound(){const is=[];is.push(...this.projectBevel());const cs=this.alpha%S==0,lo=this.applySkew(this.A),co=is[cs?0:2].subtract(lo),hs=is[cs?1:0].subtract(lo),uo=cs?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),xa=Cs(co,uo)>0,ba=xa?co:hs,$a=xa?hs:co;return this.isSkewed()?is.push(...this.projectRoundWithSkew(ba,$a)):is.push(...this.projectRoundNoSkew(ba,$a)),is}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(is=>({originPoint:this.A,projectedPoint:is,angle:this.alpha,bisector:this.bisector}))}}class Bi extends Li{constructor(is,cs,lo){super(lo),this.A=new ot(is),this.T=new ot(cs)}calcOrthogonalProjection(is,cs){let lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const co=this.createSideVector(is,cs);return this.scaleUnitVector(xs(co),lo)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const is=[];if(!this.isSkewed()&&this.A.eq(this.T)){const cs=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);is.push(this.applySkew(this.A.add(cs)),this.applySkew(this.A.subtract(cs)))}else is.push(...new Ii(this.A,this.T,this.T,this.options).projectRound());return is}projectSquare(){const is=[];if(this.A.eq(this.T)){const cs=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);is.push(this.A.add(cs),this.A.subtract(cs))}else{const cs=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),lo=this.scaleUnitVector(_s(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),co=this.A.add(lo);is.push(co.add(cs),co.subtract(cs))}return is.map(cs=>this.applySkew(cs))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(is=>({originPoint:this.A,projectedPoint:is}))}}const Xi=function(us,is){let cs=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const lo=[];if(us.length===0)return lo;const co=us.reduce((hs,uo)=>(hs[hs.length-1].eq(uo)||hs.push(new ot(uo)),hs),[new ot(us[0])]);if(co.length===1)cs=!0;else if(!cs){const hs=co[0],uo=((xa,ba)=>{for(let $a=xa.length-1;$a>=0;$a--)if(ba(xa[$a],$a,xa))return $a;return-1})(co,xa=>!xa.eq(hs));co.splice(uo+1)}return co.forEach((hs,uo,xa)=>{let ba,$a;uo===0?($a=xa[1],ba=cs?hs:xa[xa.length-1]):uo===xa.length-1?(ba=xa[uo-1],$a=cs?hs:xa[0]):(ba=xa[uo-1],$a=xa[uo+1]),cs&&xa.length===1?lo.push(...new Bi(hs,hs,is).project()):!cs||uo!==0&&uo!==xa.length-1?lo.push(...new Ii(hs,ba,$a,is).project()):lo.push(...new Bi(hs,uo===0?$a:ba,is).project())}),lo},Yi=us=>{const is={};return Object.keys(us).forEach(cs=>{is[cs]={},Object.keys(us[cs]).forEach(lo=>{is[cs][lo]=s({},us[cs][lo])})}),is},Wi=us=>us.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Vi;const zi=us=>{if(Vi||Vi||(Vi="Intl"in v()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Vi){const is=Vi.segment(us);return Array.from(is).map(cs=>{let{segment:lo}=cs;return lo})}return Gi(us)},Gi=us=>{const is=[];for(let cs,lo=0;lo<us.length;lo++)(cs=Hi(us,lo))!==!1&&is.push(cs);return is},Hi=(us,is)=>{const cs=us.charCodeAt(is);if(isNaN(cs))return"";if(cs<55296||cs>57343)return us.charAt(is);if(55296<=cs&&cs<=56319){if(us.length<=is+1)throw"High surrogate without following low surrogate";const co=us.charCodeAt(is+1);if(56320>co||co>57343)throw"High surrogate without following low surrogate";return us.charAt(is)+us.charAt(is+1)}if(is===0)throw"Low surrogate without preceding high surrogate";const lo=us.charCodeAt(is-1);if(55296>lo||lo>56319)throw"Low surrogate without preceding high surrogate";return!1};var Ni=Object.freeze({__proto__:null,capitalize:function(us){let is=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(us.charAt(0).toUpperCase()).concat(is?us.slice(1):us.slice(1).toLowerCase())},escapeXml:Wi,graphemeSplit:zi});const Ui=function(us,is){let cs=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return us.fill!==is.fill||us.stroke!==is.stroke||us.strokeWidth!==is.strokeWidth||us.fontSize!==is.fontSize||us.fontFamily!==is.fontFamily||us.fontWeight!==is.fontWeight||us.fontStyle!==is.fontStyle||us.textDecorationThickness!==is.textDecorationThickness||us.textBackgroundColor!==is.textBackgroundColor||us.deltaY!==is.deltaY||cs&&(us.overline!==is.overline||us.underline!==is.underline||us.linethrough!==is.linethrough)},qi=(us,is)=>{const cs=is.split(`
`),lo=[];let co=-1,hs={};us=Yi(us);for(let uo=0;uo<cs.length;uo++){const xa=zi(cs[uo]);if(us[uo])for(let ba=0;ba<xa.length;ba++){co++;const $a=us[uo][ba];$a&&Object.keys($a).length>0&&(Ui(hs,$a,!0)?lo.push({start:co,end:co+1,style:$a}):lo[lo.length-1].end++),hs=$a||{}}else co+=xa.length,hs={}}return lo},Ki=(us,is)=>{if(!Array.isArray(us))return Yi(us);const cs=is.split(F),lo={};let co=-1,hs=0;for(let uo=0;uo<cs.length;uo++){const xa=zi(cs[uo]);for(let ba=0;ba<xa.length;ba++)co++,us[hs]&&us[hs].start<=co&&co<us[hs].end&&(lo[uo]=lo[uo]||{},lo[uo][ba]=s({},us[hs].style),co===us[hs].end-1&&hs++)}return lo},Ji=["display","transform",K,"fill-opacity","fill-rule","opacity",J,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Qi(us,is){const cs=us.nodeName,lo=us.getAttribute("class"),co=us.getAttribute("id"),hs="(?![a-zA-Z\\-]+)";let uo;if(uo=new RegExp("^"+cs,"i"),is=is.replace(uo,""),co&&is.length&&(uo=new RegExp("#"+co+hs,"i"),is=is.replace(uo,"")),lo&&is.length){const xa=lo.split(" ");for(let ba=xa.length;ba--;)uo=new RegExp("\\."+xa[ba]+hs,"i"),is=is.replace(uo,"")}return is.length===0}function Zi(us,is){let cs=!0;const lo=Qi(us,is.pop());return lo&&is.length&&(cs=function(co,hs){let uo,xa=!0;for(;co.parentElement&&co.parentElement.nodeType===1&&hs.length;)xa&&(uo=hs.pop()),xa=Qi(co=co.parentElement,uo);return hs.length===0}(us,is)),lo&&cs&&is.length===0}const $i=us=>{var is;return(is=ns[us])!==null&&is!==void 0?is:us},tr=new RegExp("(".concat(es,")"),"gi"),er=us=>us.replace(tr," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var sr,ir,rr,nr,or,ar,hr;const cr="(".concat(es,")"),lr=String.raw(sr||(sr=r(["(skewX)(",")"],["(skewX)\\(","\\)"])),cr),ur=String.raw(ir||(ir=r(["(skewY)(",")"],["(skewY)\\(","\\)"])),cr),dr=String.raw(rr||(rr=r(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),cr,cr,cr),gr=String.raw(nr||(nr=r(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),cr,cr),fr=String.raw(or||(or=r(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),cr,cr),pr=String.raw(ar||(ar=r(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),cr,cr,cr,cr,cr,cr),mr="(?:".concat(pr,"|").concat(fr,"|").concat(dr,"|").concat(gr,"|").concat(lr,"|").concat(ur,")"),vr="(?:".concat(mr,"*)"),yr=String.raw(hr||(hr=r(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),vr),_r=new RegExp(yr),xr=new RegExp(mr),Cr=new RegExp(mr,"g");function br(us){const is=[];if(!(us=er(us).replace(/\s*([()])\s*/gi,"$1"))||us&&!_r.test(us))return[...T];for(const cs of us.matchAll(Cr)){const lo=xr.exec(cs[0]);if(!lo)continue;let co=T;const hs=lo.filter(Il=>!!Il),[,uo,...xa]=hs,[ba,$a,wl,Sl,Cl,_l]=xa.map(Il=>parseFloat(Il));switch(uo){case"translate":co=Mt(ba,$a);break;case B$1:co=Pt({angle:ba},{x:$a,y:wl});break;case G:co=Et(ba,$a);break;case U:co=jt(ba);break;case q:co=Ft(ba);break;case"matrix":co=[ba,$a,wl,Sl,Cl,_l]}is.push(co)}return Ot(is)}function Sr(us,is,cs,lo){const co=Array.isArray(is);let hs,uo=is;if(us!==K&&us!==J||is!==j){if(us==="strokeUniform")return is==="non-scaling-stroke";if(us==="strokeDashArray")uo=is===j?null:is.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(us==="transformMatrix")uo=cs&&cs.transformMatrix?Tt(cs.transformMatrix,br(is)):br(is);else if(us==="visible")uo=is!==j&&is!=="hidden",cs&&cs.visible===!1&&(uo=!1);else if(us==="opacity")uo=parseFloat(is),cs&&cs.opacity!==void 0&&(uo*=cs.opacity);else if(us==="textAnchor")uo=is==="start"?M:is==="end"?A:D$1;else if(us==="charSpacing"||us===We)hs=Re(is,lo)/lo*1e3;else if(us==="paintFirst"){const xa=is.indexOf(K),ba=is.indexOf(J);uo=K,(xa>-1&&ba>-1&&ba<xa||xa===-1&&ba>-1)&&(uo=J)}else{if(us==="href"||us==="xlink:href"||us==="font"||us==="id")return is;if(us==="imageSmoothing")return is==="optimizeQuality";hs=co?is.map(Re):Re(is,lo)}}else uo="";return!co&&isNaN(hs)?uo:hs}function wr(us,is){const cs=us.match(rs);if(!cs)return;const lo=cs[1],co=cs[3],hs=cs[4],uo=cs[5],xa=cs[6];lo&&(is.fontStyle=lo),co&&(is.fontWeight=isNaN(parseFloat(co))?co:parseFloat(co)),hs&&(is.fontSize=Re(hs)),xa&&(is.fontFamily=xa),uo&&(is.lineHeight=uo==="normal"?1:uo)}function Tr(us,is){us.replace(/;\s*$/,"").split(";").forEach(cs=>{if(!cs)return;const[lo,co]=cs.split(":");is[lo.trim().toLowerCase()]=co.trim()})}function Or(us){const is={},cs=us.getAttribute("style");return cs&&(typeof cs=="string"?Tr(cs,is):function(lo,co){Object.entries(lo).forEach(hs=>{let[uo,xa]=hs;xa!==void 0&&(co[uo.toLowerCase()]=xa)})}(cs,is)),is}const kr={stroke:"strokeOpacity",fill:"fillOpacity"};function Dr(us,is,cs){if(!us)return{};let lo,co={},hs=O;us.parentNode&&ls.test(us.parentNode.nodeName)&&(co=Dr(us.parentElement,is,cs),co.fontSize&&(lo=hs=Re(co.fontSize)));const uo=s(s(s({},is.reduce(($a,wl)=>{const Sl=us.getAttribute(wl);return Sl&&($a[wl]=Sl),$a},{})),function($a){let wl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Sl={};for(const Cl in wl)Zi($a,Cl.split(" "))&&(Sl=s(s({},Sl),wl[Cl]));return Sl}(us,cs)),Or(us));uo[as]&&us.setAttribute(as,uo[as]),uo[os]&&(lo=Re(uo[os],hs),uo[os]="".concat(lo));const xa={};for(const $a in uo){const wl=$i($a),Sl=Sr(wl,uo[$a],co,lo);xa[wl]=Sl}xa&&xa.font&&wr(xa.font,xa);const ba=s(s({},co),xa);return ls.test(us.nodeName)?ba:function($a){const wl=ji.getDefaults();return Object.entries(kr).forEach(Sl=>{let[Cl,_l]=Sl;if($a[_l]===void 0||$a[Cl]==="")return;if($a[Cl]===void 0){if(!wl[Cl])return;$a[Cl]=wl[Cl]}if($a[Cl].indexOf("url(")===0)return;const Il=new Le($a[Cl]);$a[Cl]=Il.setAlpha(Vt(Il.getAlpha()*$a[_l],2)).toRgba()}),$a}(ba)}const Mr=["left","top","width","height","visible"],Pr=["rx","ry"];class Er extends ji{static getDefaults(){return s(s({},super.getDefaults()),Er.ownDefaults)}constructor(is){super(),Object.assign(this,Er.ownDefaults),this.setOptions(is),this._initRxRy()}_initRxRy(){const{rx:is,ry:cs}=this;is&&!cs?this.ry=is:cs&&!is&&(this.rx=cs)}_render(is){const{width:cs,height:lo}=this,co=-cs/2,hs=-lo/2,uo=this.rx?Math.min(this.rx,cs/2):0,xa=this.ry?Math.min(this.ry,lo/2):0,ba=uo!==0||xa!==0;is.beginPath(),is.moveTo(co+uo,hs),is.lineTo(co+cs-uo,hs),ba&&is.bezierCurveTo(co+cs-k*uo,hs,co+cs,hs+k*xa,co+cs,hs+xa),is.lineTo(co+cs,hs+lo-xa),ba&&is.bezierCurveTo(co+cs,hs+lo-k*xa,co+cs-k*uo,hs+lo,co+cs-uo,hs+lo),is.lineTo(co+uo,hs+lo),ba&&is.bezierCurveTo(co+k*uo,hs+lo,co,hs+lo-k*xa,co,hs+lo-xa),is.lineTo(co,hs+xa),ba&&is.bezierCurveTo(co,hs+k*xa,co+k*uo,hs,co+uo,hs),is.closePath(),this._renderPaintInOrder(is)}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Pr,...is])}_toSVG(){const{width:is,height:cs,rx:lo,ry:co}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-is/2,'" y="').concat(-cs/2,'" rx="').concat(lo,'" ry="').concat(co,'" width="').concat(is,'" height="').concat(cs,`" />
`)]}static async fromElement(is,cs,lo){const co=Dr(is,this.ATTRIBUTE_NAMES,lo),{left:hs=0,top:uo=0,width:xa=0,height:ba=0,visible:$a=!0}=co,wl=i(co,Mr);return new this(s(s(s({},cs),wl),{},{left:hs,top:uo,width:xa,height:ba,visible:!!($a&&xa&&ba)}))}}t(Er,"type","Rect"),t(Er,"cacheProperties",[...Ms,...Pr]),t(Er,"ownDefaults",{rx:0,ry:0}),t(Er,"ATTRIBUTE_NAMES",[...Ji,"x","y","rx","ry","width","height"]),tt.setClass(Er),tt.setSVGClass(Er);const Ar="initialization",jr="added",Fr="removed",Lr="imperative",Rr=(us,is)=>{const{strokeUniform:cs,strokeWidth:lo,width:co,height:hs,group:uo}=is,xa=uo&&uo!==us?fe(uo.calcTransformMatrix(),us.calcTransformMatrix()):null,ba=xa?is.getRelativeCenterPoint().transform(xa):is.getRelativeCenterPoint(),$a=!is.isStrokeAccountedForInDimensions(),wl=cs&&$a?me(new ot(lo,lo),void 0,us.calcTransformMatrix()):at,Sl=!cs&&$a?lo:0,Cl=ge(co+Sl,hs+Sl,Ot([xa,is.calcOwnMatrix()],!0)).add(wl).scalarDivide(2);return[ba.subtract(Cl),ba.add(Cl)]};class Ir{calcLayoutResult(is,cs){if(this.shouldPerformLayout(is))return this.calcBoundingBox(cs,is)}shouldPerformLayout(is){let{type:cs,prevStrategy:lo,strategy:co}=is;return cs===Ar||cs===Lr||!!lo&&co!==lo}shouldLayoutClipPath(is){let{type:cs,target:{clipPath:lo}}=is;return cs!==Ar&&lo&&!lo.absolutePositioned}getInitialSize(is,cs){return cs.size}calcBoundingBox(is,cs){const{type:lo,target:co}=cs;if(lo===Lr&&cs.overrides)return cs.overrides;if(is.length===0)return;const{left:hs,top:uo,width:xa,height:ba}=ae(is.map(Sl=>Rr(co,Sl)).reduce((Sl,Cl)=>Sl.concat(Cl),[])),$a=new ot(xa,ba),wl=new ot(hs,uo).add($a.scalarDivide(2));if(lo===Ar){const Sl=this.getInitialSize(cs,{size:$a,center:wl});return{center:wl,relativeCorrection:new ot(0,0),size:Sl}}return{center:wl.transform(co.calcOwnMatrix()),size:$a}}}t(Ir,"type","strategy");class Br extends Ir{shouldPerformLayout(is){return!0}}t(Br,"type","fit-content"),tt.setClass(Br);const Xr=["strategy"],Yr=["target","strategy","bubbles","prevStrategy"],Wr="layoutManager";class Vr{constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Br;t(this,"strategy",void 0),this.strategy=is,this._subscriptions=new Map}performLayout(is){const cs=s(s({bubbles:!0,strategy:this.strategy},is),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(cs);const lo=this.getLayoutResult(cs);lo&&this.commitLayout(cs,lo),this.onAfterLayout(cs,lo),this._prevLayoutStrategy=cs.strategy}attachHandlers(is,cs){const{target:lo}=cs;return[Q,L,Y,I,R,X,z,W,V].map(co=>is.on(co,hs=>this.performLayout(co===Q?{type:"object_modified",trigger:co,e:hs,target:lo}:{type:"object_modifying",trigger:co,e:hs,target:lo})))}subscribe(is,cs){this.unsubscribe(is,cs);const lo=this.attachHandlers(is,cs);this._subscriptions.set(is,lo)}unsubscribe(is,cs){(this._subscriptions.get(is)||[]).forEach(lo=>lo()),this._subscriptions.delete(is)}unsubscribeTargets(is){is.targets.forEach(cs=>this.unsubscribe(cs,is))}subscribeTargets(is){is.targets.forEach(cs=>this.subscribe(cs,is))}onBeforeLayout(is){const{target:cs,type:lo}=is,{canvas:co}=cs;if(lo===Ar||lo===jr?this.subscribeTargets(is):lo===Fr&&this.unsubscribeTargets(is),cs.fire("layout:before",{context:is}),co&&co.fire("object:layout:before",{target:cs,context:is}),lo===Lr&&is.deep){const hs=i(is,Xr);cs.forEachObject(uo=>uo.layoutManager&&uo.layoutManager.performLayout(s(s({},hs),{},{bubbles:!1,target:uo})))}}getLayoutResult(is){const{target:cs,strategy:lo,type:co}=is,hs=lo.calcLayoutResult(is,cs.getObjects());if(!hs)return;const uo=co===Ar?new ot:cs.getRelativeCenterPoint(),{center:xa,correction:ba=new ot,relativeCorrection:$a=new ot}=hs,wl=uo.subtract(xa).add(ba).transform(co===Ar?T:wt(cs.calcOwnMatrix()),!0).add($a);return{result:hs,prevCenter:uo,nextCenter:xa,offset:wl}}commitLayout(is,cs){const{target:lo}=is,{result:{size:co},nextCenter:hs}=cs;var uo,xa;lo.set({width:co.x,height:co.y}),this.layoutObjects(is,cs),is.type===Ar?lo.set({left:(uo=is.x)!==null&&uo!==void 0?uo:hs.x+co.x*xe(lo.originX),top:(xa=is.y)!==null&&xa!==void 0?xa:hs.y+co.y*xe(lo.originY)}):(lo.setPositionByOrigin(hs,D$1,D$1),lo.setCoords(),lo.set("dirty",!0))}layoutObjects(is,cs){const{target:lo}=is;lo.forEachObject(co=>{co.group===lo&&this.layoutObject(is,cs,co)}),is.strategy.shouldLayoutClipPath(is)&&this.layoutObject(is,cs,lo.clipPath)}layoutObject(is,cs,lo){let{offset:co}=cs;lo.set({left:lo.left+co.x,top:lo.top+co.y})}onAfterLayout(is,cs){const{target:lo,strategy:co,bubbles:hs,prevStrategy:uo}=is,xa=i(is,Yr),{canvas:ba}=lo;lo.fire("layout:after",{context:is,result:cs}),ba&&ba.fire("object:layout:after",{context:is,result:cs,target:lo});const $a=lo.parent;hs&&$a!=null&&$a.layoutManager&&((xa.path||(xa.path=[])).push(lo),$a.layoutManager.performLayout(s(s({},xa),{},{target:$a}))),lo.set("dirty",!0)}dispose(){const{_subscriptions:is}=this;is.forEach(cs=>cs.forEach(lo=>lo())),is.clear()}toObject(){return{type:Wr,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}tt.setClass(Vr,Wr);const zr=["type","objects","layoutManager"];class Gr extends Vr{performLayout(){}}class Hr extends ct(ji){static getDefaults(){return s(s({},super.getDefaults()),Hr.ownDefaults)}constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),t(this,"_activeObjects",[]),t(this,"__objectSelectionTracker",void 0),t(this,"__objectSelectionDisposer",void 0),Object.assign(this,Hr.ownDefaults),this.setOptions(cs),this.groupInit(is,cs)}groupInit(is,cs){var lo;this._objects=[...is],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(co=>{this.enterGroup(co,!1)}),this.layoutManager=(lo=cs.layoutManager)!==null&&lo!==void 0?lo:new Vr,this.layoutManager.performLayout({type:Ar,target:this,targets:[...is],x:cs.left,y:cs.top})}canEnterGroup(is){return is===this||this.isDescendantOf(is)?(a("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(is)===-1||(a("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(is){return is.filter((cs,lo,co)=>this.canEnterGroup(cs)&&co.indexOf(cs)===lo)}add(){for(var is=arguments.length,cs=new Array(is),lo=0;lo<is;lo++)cs[lo]=arguments[lo];const co=this._filterObjectsBeforeEnteringGroup(cs),hs=super.add(...co);return this._onAfterObjectsChange(jr,co),hs}insertAt(is){for(var cs=arguments.length,lo=new Array(cs>1?cs-1:0),co=1;co<cs;co++)lo[co-1]=arguments[co];const hs=this._filterObjectsBeforeEnteringGroup(lo),uo=super.insertAt(is,...hs);return this._onAfterObjectsChange(jr,hs),uo}remove(){const is=super.remove(...arguments);return this._onAfterObjectsChange(Fr,is),is}_onObjectAdded(is){this.enterGroup(is,!0),this.fire("object:added",{target:is}),is.fire("added",{target:this})}_onObjectRemoved(is,cs){this.exitGroup(is,cs),this.fire("object:removed",{target:is}),is.fire("removed",{target:this})}_onAfterObjectsChange(is,cs){this.layoutManager.performLayout({type:is,targets:cs,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(is,cs){const lo=this[is];return super._set(is,cs),is==="canvas"&&lo!==cs&&(this._objects||[]).forEach(co=>{co._set(is,cs)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(is,cs){let{target:lo}=cs;const co=this._activeObjects;if(is)co.push(lo),this._set("dirty",!0);else if(co.length>0){const hs=co.indexOf(lo);hs>-1&&(co.splice(hs,1),this._set("dirty",!0))}}_watchObject(is,cs){is&&this._watchObject(!1,cs),is?(cs.on("selected",this.__objectSelectionTracker),cs.on("deselected",this.__objectSelectionDisposer)):(cs.off("selected",this.__objectSelectionTracker),cs.off("deselected",this.__objectSelectionDisposer))}enterGroup(is,cs){is.group&&is.group.remove(is),is._set("parent",this),this._enterGroup(is,cs)}_enterGroup(is,cs){cs&&le(is,Tt(wt(this.calcTransformMatrix()),is.calcTransformMatrix())),this._shouldSetNestedCoords()&&is.setCoords(),is._set("group",this),is._set("canvas",this.canvas),this._watchObject(!0,is);const lo=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();lo&&(lo===is||is.isDescendantOf(lo))&&this._activeObjects.push(is)}exitGroup(is,cs){this._exitGroup(is,cs),is._set("parent",void 0),is._set("canvas",void 0)}_exitGroup(is,cs){is._set("group",void 0),cs||(le(is,Tt(this.calcTransformMatrix(),is.calcTransformMatrix())),is.setCoords()),this._watchObject(!1,is);const lo=this._activeObjects.length>0?this._activeObjects.indexOf(is):-1;lo>-1&&this._activeObjects.splice(lo,1)}shouldCache(){const is=ji.prototype.shouldCache.call(this);if(is){for(let cs=0;cs<this._objects.length;cs++)if(this._objects[cs].willDrawShadow())return this.ownCaching=!1,!1}return is}willDrawShadow(){if(super.willDrawShadow())return!0;for(let is=0;is<this._objects.length;is++)if(this._objects[is].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(is,cs,lo){this._renderBackground(is);for(let hs=0;hs<this._objects.length;hs++){var co;const uo=this._objects[hs];(co=this.canvas)!==null&&co!==void 0&&co.preserveObjectStacking&&uo.group!==this?(is.save(),is.transform(...wt(this.calcTransformMatrix())),uo.render(is),is.restore()):uo.group===this&&uo.render(is)}this._drawClipPath(is,this.clipPath,lo)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(is=>is.setCoords())}triggerLayout(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(s({target:this,type:Lr},is))}render(is){this._transformDone=!0,super.render(is),this._transformDone=!1}__serializeObjects(is,cs){const lo=this.includeDefaultValues;return this._objects.filter(function(co){return!co.excludeFromExport}).map(function(co){const hs=co.includeDefaultValues;co.includeDefaultValues=lo;const uo=co[is||"toObject"](cs);return co.includeDefaultValues=hs,uo})}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const cs=this.layoutManager.toObject();return s(s(s({},super.toObject(["subTargetCheck","interactive",...is])),cs.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:cs}:{}),{},{objects:this.__serializeObjects("toObject",is)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(is=>{this._watchObject(!1,is),is.dispose()}),super.dispose()}_createSVGBgRect(is){if(!this.backgroundColor)return"";const cs=Er.prototype._toSVG.call(this),lo=cs.indexOf("COMMON_PARTS");cs[lo]='for="group" ';const co=cs.join("");return is?is(co):co}_toSVG(is){const cs=["<g ","COMMON_PARTS",` >
`],lo=this._createSVGBgRect(is);lo&&cs.push("		",lo);for(let co=0;co<this._objects.length;co++)cs.push("		",this._objects[co].toSVG(is));return cs.push(`</g>
`),cs}getSvgStyles(){const is=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",cs=this.visible?"":" visibility: hidden;";return[is,this.getSvgFilter(),cs].join("")}toClipPathSVG(is){const cs=[],lo=this._createSVGBgRect(is);lo&&cs.push("	",lo);for(let co=0;co<this._objects.length;co++)cs.push("	",this._objects[co].toClipPathSVG(is));return this._createBaseClipPathSVGMarkup(cs,{reviver:is})}static fromObject(is,cs){let{type:lo,objects:co=[],layoutManager:hs}=is,uo=i(is,zr);return Promise.all([Bt(co,cs),Xt(uo,cs)]).then(xa=>{let[ba,$a]=xa;const wl=new this(ba,s(s(s({},uo),$a),{},{layoutManager:new Gr}));if(hs){const Sl=tt.getClass(hs.type),Cl=tt.getClass(hs.strategy);wl.layoutManager=new Sl(new Cl)}else wl.layoutManager=new Vr;return wl.layoutManager.subscribeTargets({type:Ar,target:wl,targets:wl.getObjects()}),wl.setCoords(),wl})}}t(Hr,"type","Group"),t(Hr,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),tt.setClass(Hr);const Nr=(us,is)=>Math.min(is.width/us.width,is.height/us.height),Ur=(us,is)=>Math.max(is.width/us.width,is.height/us.height),qr="\\s*,?\\s*",Kr="".concat(qr,"(").concat(es,")"),Jr="".concat(Kr).concat(Kr).concat(Kr).concat(qr,"([01])").concat(qr,"([01])").concat(Kr).concat(Kr),Qr={m:"l",M:"L"},Zr=(us,is,cs,lo,co,hs,uo,xa,ba,$a,wl)=>{const Sl=rt(us),Cl=nt(us),_l=rt(is),Il=nt(is),Fl=cs*co*_l-lo*hs*Il+uo,Ml=lo*co*_l+cs*hs*Il+xa;return["C",$a+ba*(-cs*co*Cl-lo*hs*Sl),wl+ba*(-lo*co*Cl+cs*hs*Sl),Fl+ba*(cs*co*Il+lo*hs*_l),Ml+ba*(lo*co*Il-cs*hs*_l),Fl,Ml]},$r=(us,is,cs,lo)=>{const co=Math.atan2(is,us),hs=Math.atan2(lo,cs);return hs>=co?hs-co:2*Math.PI-(co-hs)};function tn(us,is,cs,lo,co,hs,uo,xa){let ba;if(o.cachesBoundsOfCurve&&(ba=[...arguments].join(),_.boundsOfCurveCache[ba]))return _.boundsOfCurveCache[ba];const $a=Math.sqrt,wl=Math.abs,Sl=[],Cl=[[0,0],[0,0]];let _l=6*us-12*cs+6*co,Il=-3*us+9*cs-9*co+3*uo,Fl=3*cs-3*us;for(let Ll=0;Ll<2;++Ll){if(Ll>0&&(_l=6*is-12*lo+6*hs,Il=-3*is+9*lo-9*hs+3*xa,Fl=3*lo-3*is),wl(Il)<1e-12){if(wl(_l)<1e-12)continue;const Gl=-Fl/_l;0<Gl&&Gl<1&&Sl.push(Gl);continue}const Nl=_l*_l-4*Fl*Il;if(Nl<0)continue;const zl=$a(Nl),$l=(-_l+zl)/(2*Il);0<$l&&$l<1&&Sl.push($l);const Vl=(-_l-zl)/(2*Il);0<Vl&&Vl<1&&Sl.push(Vl)}let Ml=Sl.length;const Tl=Ml,Dl=nn(us,is,cs,lo,co,hs,uo,xa);for(;Ml--;){const{x:Ll,y:Nl}=Dl(Sl[Ml]);Cl[0][Ml]=Ll,Cl[1][Ml]=Nl}Cl[0][Tl]=us,Cl[1][Tl]=is,Cl[0][Tl+1]=uo,Cl[1][Tl+1]=xa;const Bl=[new ot(Math.min(...Cl[0]),Math.min(...Cl[1])),new ot(Math.max(...Cl[0]),Math.max(...Cl[1]))];return o.cachesBoundsOfCurve&&(_.boundsOfCurveCache[ba]=Bl),Bl}const en=(us,is,cs)=>{let[lo,co,hs,uo,xa,ba,$a,wl]=cs;const Sl=((Cl,_l,Il,Fl,Ml,Tl,Dl)=>{if(Il===0||Fl===0)return[];let Bl=0,Ll=0,Nl=0;const zl=Math.PI,$l=Dl*w,Vl=nt($l),Gl=rt($l),iu=.5*(-Gl*Cl-Vl*_l),nu=.5*(-Gl*_l+Vl*Cl),Jl=Il**2,lu=Fl**2,ju=nu**2,zu=iu**2,Wu=Jl*lu-Jl*ju-lu*zu;let qu=Math.abs(Il),Mu=Math.abs(Fl);if(Wu<0){const Cu=Math.sqrt(1-Wu/(Jl*lu));qu*=Cu,Mu*=Cu}else Nl=(Ml===Tl?-1:1)*Math.sqrt(Wu/(Jl*ju+lu*zu));const mu=Nl*qu*nu/Mu,uu=-Nl*Mu*iu/qu,cu=Gl*mu-Vl*uu+.5*Cl,ru=Vl*mu+Gl*uu+.5*_l;let Yl=$r(1,0,(iu-mu)/qu,(nu-uu)/Mu),Hl=$r((iu-mu)/qu,(nu-uu)/Mu,(-iu-mu)/qu,(-nu-uu)/Mu);Tl===0&&Hl>0?Hl-=2*zl:Tl===1&&Hl<0&&(Hl+=2*zl);const Kl=Math.ceil(Math.abs(Hl/zl*2)),_c=[],Ql=Hl/Kl,su=8/3*Math.sin(Ql/4)*Math.sin(Ql/4)/Math.sin(Ql/2);let gu=Yl+Ql;for(let Cu=0;Cu<Kl;Cu++)_c[Cu]=Zr(Yl,gu,Gl,Vl,qu,Mu,cu,ru,su,Bl,Ll),Bl=_c[Cu][5],Ll=_c[Cu][6],Yl=gu,gu+=Ql;return _c})($a-us,wl-is,co,hs,xa,ba,uo);for(let Cl=0,_l=Sl.length;Cl<_l;Cl++)Sl[Cl][1]+=us,Sl[Cl][2]+=is,Sl[Cl][3]+=us,Sl[Cl][4]+=is,Sl[Cl][5]+=us,Sl[Cl][6]+=is;return Sl},sn=us=>{let is=0,cs=0,lo=0,co=0;const hs=[];let uo,xa=0,ba=0;for(const $a of us){const wl=[...$a];let Sl;switch(wl[0]){case"l":wl[1]+=is,wl[2]+=cs;case"L":is=wl[1],cs=wl[2],Sl=["L",is,cs];break;case"h":wl[1]+=is;case"H":is=wl[1],Sl=["L",is,cs];break;case"v":wl[1]+=cs;case"V":cs=wl[1],Sl=["L",is,cs];break;case"m":wl[1]+=is,wl[2]+=cs;case"M":is=wl[1],cs=wl[2],lo=wl[1],co=wl[2],Sl=["M",is,cs];break;case"c":wl[1]+=is,wl[2]+=cs,wl[3]+=is,wl[4]+=cs,wl[5]+=is,wl[6]+=cs;case"C":xa=wl[3],ba=wl[4],is=wl[5],cs=wl[6],Sl=["C",wl[1],wl[2],xa,ba,is,cs];break;case"s":wl[1]+=is,wl[2]+=cs,wl[3]+=is,wl[4]+=cs;case"S":uo==="C"?(xa=2*is-xa,ba=2*cs-ba):(xa=is,ba=cs),is=wl[3],cs=wl[4],Sl=["C",xa,ba,wl[1],wl[2],is,cs],xa=Sl[3],ba=Sl[4];break;case"q":wl[1]+=is,wl[2]+=cs,wl[3]+=is,wl[4]+=cs;case"Q":xa=wl[1],ba=wl[2],is=wl[3],cs=wl[4],Sl=["Q",xa,ba,is,cs];break;case"t":wl[1]+=is,wl[2]+=cs;case"T":uo==="Q"?(xa=2*is-xa,ba=2*cs-ba):(xa=is,ba=cs),is=wl[1],cs=wl[2],Sl=["Q",xa,ba,is,cs];break;case"a":wl[6]+=is,wl[7]+=cs;case"A":en(is,cs,wl).forEach(Cl=>hs.push(Cl)),is=wl[6],cs=wl[7];break;case"z":case"Z":is=lo,cs=co,Sl=["Z"]}Sl?(hs.push(Sl),uo=Sl[0]):uo=""}return hs},rn=(us,is,cs,lo)=>Math.sqrt((cs-us)**2+(lo-is)**2),nn=(us,is,cs,lo,co,hs,uo,xa)=>ba=>{const $a=ba**3,wl=(_l=>3*_l**2*(1-_l))(ba),Sl=(_l=>3*_l*(1-_l)**2)(ba),Cl=(_l=>(1-_l)**3)(ba);return new ot(uo*$a+co*wl+cs*Sl+us*Cl,xa*$a+hs*wl+lo*Sl+is*Cl)},on=us=>us**2,an=us=>2*us*(1-us),hn=us=>(1-us)**2,cn=(us,is,cs,lo,co,hs,uo,xa)=>ba=>{const $a=on(ba),wl=an(ba),Sl=hn(ba),Cl=3*(Sl*(cs-us)+wl*(co-cs)+$a*(uo-co)),_l=3*(Sl*(lo-is)+wl*(hs-lo)+$a*(xa-hs));return Math.atan2(_l,Cl)},ln=(us,is,cs,lo,co,hs)=>uo=>{const xa=on(uo),ba=an(uo),$a=hn(uo);return new ot(co*xa+cs*ba+us*$a,hs*xa+lo*ba+is*$a)},un=(us,is,cs,lo,co,hs)=>uo=>{const xa=1-uo,ba=2*(xa*(cs-us)+uo*(co-cs)),$a=2*(xa*(lo-is)+uo*(hs-lo));return Math.atan2($a,ba)},dn=(us,is,cs)=>{let lo=new ot(is,cs),co=0;for(let hs=1;hs<=100;hs+=1){const uo=us(hs/100);co+=rn(lo.x,lo.y,uo.x,uo.y),lo=uo}return co},gn=(us,is)=>{let cs,lo=0,co=0,hs={x:us.x,y:us.y},uo=s({},hs),xa=.01,ba=0;const $a=us.iterator,wl=us.angleFinder;for(;co<is&&xa>1e-4;)uo=$a(lo),ba=lo,cs=rn(hs.x,hs.y,uo.x,uo.y),cs+co>is?(lo-=xa,xa/=2):(hs=uo,lo+=xa,co+=cs);return s(s({},uo),{},{angle:wl(ba)})},fn=us=>{let is,cs,lo=0,co=0,hs=0,uo=0,xa=0;const ba=[];for(const $a of us){const wl={x:co,y:hs,command:$a[0],length:0};switch($a[0]){case"M":cs=wl,cs.x=uo=co=$a[1],cs.y=xa=hs=$a[2];break;case"L":cs=wl,cs.length=rn(co,hs,$a[1],$a[2]),co=$a[1],hs=$a[2];break;case"C":is=nn(co,hs,$a[1],$a[2],$a[3],$a[4],$a[5],$a[6]),cs=wl,cs.iterator=is,cs.angleFinder=cn(co,hs,$a[1],$a[2],$a[3],$a[4],$a[5],$a[6]),cs.length=dn(is,co,hs),co=$a[5],hs=$a[6];break;case"Q":is=ln(co,hs,$a[1],$a[2],$a[3],$a[4]),cs=wl,cs.iterator=is,cs.angleFinder=un(co,hs,$a[1],$a[2],$a[3],$a[4]),cs.length=dn(is,co,hs),co=$a[3],hs=$a[4];break;case"Z":cs=wl,cs.destX=uo,cs.destY=xa,cs.length=rn(co,hs,uo,xa),co=uo,hs=xa}lo+=cs.length,ba.push(cs)}return ba.push({length:lo,x:co,y:hs}),ba},pn=function(us,is){let cs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fn(us),lo=0;for(;is-cs[lo].length>0&&lo<cs.length-2;)is-=cs[lo].length,lo++;const co=cs[lo],hs=is/co.length,uo=us[lo];switch(co.command){case"M":return{x:co.x,y:co.y,angle:0};case"Z":return s(s({},new ot(co.x,co.y).lerp(new ot(co.destX,co.destY),hs)),{},{angle:Math.atan2(co.destY-co.y,co.destX-co.x)});case"L":return s(s({},new ot(co.x,co.y).lerp(new ot(uo[1],uo[2]),hs)),{},{angle:Math.atan2(uo[2]-co.y,uo[1]-co.x)});case"C":case"Q":return gn(co,is)}},mn=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),vn=new RegExp(Jr,"g"),yn=new RegExp(es,"gi"),_n={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},xn=us=>{var is;const cs=[],lo=(is=us.match(mn))!==null&&is!==void 0?is:[];for(const co of lo){const hs=co[0];if(hs==="z"||hs==="Z"){cs.push([hs]);continue}const uo=_n[hs.toLowerCase()];let xa=[];if(hs==="a"||hs==="A"){vn.lastIndex=0;for(let ba=null;ba=vn.exec(co);)xa.push(...ba.slice(1))}else xa=co.match(yn)||[];for(let ba=0;ba<xa.length;ba+=uo){const $a=new Array(uo),wl=Qr[hs];$a[0]=ba>0&&wl?wl:hs;for(let Sl=0;Sl<uo;Sl++)$a[Sl+1]=parseFloat(xa[ba+Sl]);cs.push($a)}}return cs},Cn=function(us){let is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,cs=new ot(us[0]),lo=new ot(us[1]),co=1,hs=0;const uo=[],xa=us.length,ba=xa>2;let $a;for(ba&&(co=us[2].x<lo.x?-1:us[2].x===lo.x?0:1,hs=us[2].y<lo.y?-1:us[2].y===lo.y?0:1),uo.push(["M",cs.x-co*is,cs.y-hs*is]),$a=1;$a<xa;$a++){if(!cs.eq(lo)){const wl=cs.midPointFrom(lo);uo.push(["Q",cs.x,cs.y,wl.x,wl.y])}cs=us[$a],$a+1<us.length&&(lo=us[$a+1])}return ba&&(co=cs.x>us[$a-2].x?1:cs.x===us[$a-2].x?0:-1,hs=cs.y>us[$a-2].y?1:cs.y===us[$a-2].y?0:-1),uo.push(["L",cs.x+co*is,cs.y+hs*is]),uo},bn=(us,is)=>us.map(cs=>cs.map((lo,co)=>co===0||is===void 0?lo:Vt(lo,is)).join(" ")).join(" ");function Sn(us,is){const cs=us.style;cs&&is&&(typeof is=="string"?cs.cssText+=";"+is:Object.entries(is).forEach(lo=>{let[co,hs]=lo;return cs.setProperty(co,hs)}))}const wn=(us,is)=>Math.floor(Math.random()*(is-us+1))+us;function Tn(us){let is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const cs=is.onComplete||C,lo=new(v()).XMLHttpRequest,co=is.signal,hs=function(){lo.abort()},uo=function(){co&&co.removeEventListener("abort",hs),lo.onerror=lo.ontimeout=C};if(co&&co.aborted)throw new c("request");return co&&co.addEventListener("abort",hs,{once:!0}),lo.onreadystatechange=function(){lo.readyState===4&&(uo(),cs(lo),lo.onreadystatechange=C)},lo.onerror=lo.ontimeout=uo,lo.open("get",us,!0),lo.send(),lo}const On=(us,is)=>{let cs=us._findCenterFromElement();us.transformMatrix&&((lo=>{if(lo.transformMatrix){const{scaleX:co,scaleY:hs,angle:uo,skewX:xa}=Dt(lo.transformMatrix);lo.flipX=!1,lo.flipY=!1,lo.set(H,co),lo.set(N,hs),lo.angle=uo,lo.skewX=xa,lo.skewY=0}})(us),cs=cs.transform(us.transformMatrix)),delete us.transformMatrix,is&&(us.scaleX*=is.scaleX,us.scaleY*=is.scaleY,us.cropX=is.cropX,us.cropY=is.cropY,cs.x+=is.offsetLeft,cs.y+=is.offsetTop,us.width=is.width,us.height=is.height),us.setPositionByOrigin(cs,D$1,D$1)};var kn=Object.freeze({__proto__:null,addTransformToObject:ce,animate:Us,animateColor:qs,applyTransformToObject:le,calcAngleBetweenVectors:vs,calcDimensionsMatrix:Lt,calcPlaneChangeMatrix:fe,calcVectorRotation:ys,cancelAnimFrame:dt,capValue:ks,composeMatrix:Rt,copyCanvasElement:us=>{var is;const cs=vt(us);return(is=cs.getContext("2d"))===null||is===void 0||is.drawImage(us,0,0),cs},cos:rt,createCanvasElement:pt,createImage:mt,createRotateMatrix:Pt,createScaleMatrix:Et,createSkewXMatrix:jt,createSkewYMatrix:Ft,createTranslateMatrix:Mt,createVector:ps,crossProduct:Cs,degreesToRadians:xt,dotProduct:bs,ease:Rs,enlivenObjectEnlivables:Xt,enlivenObjects:Bt,findScaleToCover:Ur,findScaleToFit:Nr,getBoundsOfCurve:tn,getOrthonormalVector:xs,getPathSegmentsInfo:fn,getPointOnPath:pn,getPointer:re,getRandomInt:wn,getRegularPolygonPath:(us,is)=>{const cs=2*Math.PI/us;let lo=-b;us%2==0&&(lo+=cs/2);const co=new Array(us+1);for(let hs=0;hs<us;hs++){const uo=hs*cs+lo,{x:xa,y:ba}=new ot(rt(uo),nt(uo)).scalarMultiply(is);co[hs]=[hs===0?"M":"L",xa,ba]}return co[us]=["Z"],co},getSmoothPathFromPoints:Cn,getSvgAttributes:us=>{const is=["instantiated_by_use","style","id","class"];switch(us){case"linearGradient":return is.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return is.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return is.concat(["offset","stop-color","stop-opacity"])}return is},getUnitVector:_s,groupSVGElements:(us,is)=>us&&us.length===1?us[0]:new Hr(us,is),hasStyleChanged:Ui,invertTransform:wt,isBetweenVectors:Ss,isIdentityMatrix:bt,isTouchEvent:ne,isTransparent:Fi,joinPath:bn,loadImage:It,magnitude:ms,makeBoundingBoxFromPoints:ae,makePathSimpler:sn,matrixToSVG:zt,mergeClipPaths:(us,is)=>{var cs;let lo=us,co=is;lo.inverted&&!co.inverted&&(lo=is,co=us),ve(co,(cs=co.group)===null||cs===void 0?void 0:cs.calcTransformMatrix(),lo.calcTransformMatrix());const hs=lo.inverted&&co.inverted;return hs&&(lo.inverted=co.inverted=!1),new Hr([lo],{clipPath:co,inverted:hs})},multiplyTransformMatrices:Tt,multiplyTransformMatrixArray:Ot,parsePath:xn,parsePreserveAspectRatioAttribute:Ie,parseUnit:Re,pick:Yt,projectStrokeOnPoints:Xi,qrDecompose:Dt,radiansToDegrees:Ct,removeFromArray:it,removeTransformFromObject:(us,is)=>{const cs=wt(is),lo=Tt(cs,us.calcOwnMatrix());le(us,lo)},removeTransformMatrixForSvgParsing:On,request:Tn,requestAnimFrame:ut,resetObjectTransform:ue,rotatePoint:(us,is,cs)=>us.rotate(cs,is),rotateVector:fs,saveObjectTransform:de,sendObjectToPlane:ve,sendPointToPlane:pe,sendVectorToPlane:me,setStyle:Sn,sin:nt,sizeAfterTransform:ge,string:Ni,stylesFromArray:Ki,stylesToArray:qi,toBlob:_t,toDataURL:yt,toFixed:Vt,transformPath:(us,is,cs)=>(cs&&(is=Tt(is,[1,0,0,1,-cs.x,-cs.y])),us.map(lo=>{const co=[...lo];for(let hs=1;hs<lo.length-1;hs+=2){const{x:uo,y:xa}=St({x:lo[hs],y:lo[hs+1]},is);co[hs]=uo,co[hs+1]=xa}return co})),transformPoint:St});class Dn extends te{constructor(is){let{allowTouchScrolling:cs=!1,containerClass:lo=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(is),t(this,"upper",void 0),t(this,"container",void 0);const{el:co}=this.lower,hs=this.createUpperCanvas();this.upper={el:hs,ctx:hs.getContext("2d")},this.applyCanvasStyle(co,{allowTouchScrolling:cs}),this.applyCanvasStyle(hs,{allowTouchScrolling:cs,styles:{position:"absolute",left:"0",top:"0"}});const uo=this.createContainerElement();uo.classList.add(lo),co.parentNode&&co.parentNode.replaceChild(uo,co),uo.append(co,hs),this.container=uo}createUpperCanvas(){const{el:is}=this.lower,cs=pt();return cs.className=is.className,cs.classList.remove("lower-canvas"),cs.classList.add("upper-canvas"),cs.setAttribute("data-fabric","top"),cs.style.cssText=is.style.cssText,cs.setAttribute("draggable","true"),cs}createContainerElement(){const is=m().createElement("div");return is.setAttribute("data-fabric","wrapper"),Sn(is,{position:"relative"}),$t(is),is}applyCanvasStyle(is,cs){const{styles:lo,allowTouchScrolling:co}=cs;Sn(is,s(s({},lo),{},{"touch-action":co?"manipulation":j})),$t(is)}setDimensions(is,cs){super.setDimensions(is,cs);const{el:lo,ctx:co}=this.upper;Qt(lo,co,is,cs)}setCSSDimensions(is){super.setCSSDimensions(is),Zt(this.upper.el,is),Zt(this.container,is)}cleanupDOM(is){const cs=this.container,{el:lo}=this.lower,{el:co}=this.upper;super.cleanupDOM(is),cs.removeChild(co),cs.removeChild(lo),cs.parentNode&&cs.parentNode.replaceChild(lo,cs)}dispose(){super.dispose(),p().dispose(this.upper.el),delete this.upper,delete this.container}}class Mn extends se{constructor(){super(...arguments),t(this,"targets",[]),t(this,"_hoveredTargets",[]),t(this,"_objectsToRender",void 0),t(this,"_currentTransform",null),t(this,"_groupSelector",null),t(this,"contextTopDirty",!1)}static getDefaults(){return s(s({},super.getDefaults()),Mn.ownDefaults)}get upperCanvasEl(){var is;return(is=this.elements.upper)===null||is===void 0?void 0:is.el}get contextTop(){var is;return(is=this.elements.upper)===null||is===void 0?void 0:is.ctx}get wrapperEl(){return this.elements.container}initElements(is){this.elements=new Dn(is,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(is){this._objectsToRender=void 0,super._onObjectAdded(is)}_onObjectRemoved(is){this._objectsToRender=void 0,is===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[is]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[is]}),is.fire("deselected",{target:is})),is===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(is)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const is=this._activeObject;return!this.preserveObjectStacking&&is?this._objects.filter(cs=>!cs.group&&cs!==is).concat(is):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(is){is.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(is),this.contextTopDirty=!0),is.restore()}renderTop(){const is=this.contextTop;this.clearContext(is),this.renderTopLayer(is),this.fire("after:render",{ctx:is})}setTargetFindTolerance(is){is=Math.round(is),this.targetFindTolerance=is;const cs=this.getRetinaScaling(),lo=Math.ceil((2*is+1)*cs);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=lo,this.pixelFindContext.scale(cs,cs)}isTargetTransparent(is,cs,lo){const co=this.targetFindTolerance,hs=this.pixelFindContext;this.clearContext(hs),hs.save(),hs.translate(-cs+co,-lo+co),hs.transform(...this.viewportTransform);const uo=is.selectionBackgroundColor;is.selectionBackgroundColor="",is.render(hs),is.selectionBackgroundColor=uo,hs.restore();const xa=Math.round(co*this.getRetinaScaling());return Fi(hs,xa,xa,xa)}_isSelectionKeyPressed(is){const cs=this.selectionKey;return!!cs&&(Array.isArray(cs)?!!cs.find(lo=>!!lo&&is[lo]===!0):is[cs])}_shouldClearSelection(is,cs){const lo=this.getActiveObjects(),co=this._activeObject;return!!(!cs||cs&&co&&lo.length>1&&lo.indexOf(cs)===-1&&co!==cs&&!this._isSelectionKeyPressed(is)||cs&&!cs.evented||cs&&!cs.selectable&&co&&co!==cs)}_shouldCenterTransform(is,cs,lo){if(!is)return;let co;return cs===G||cs===H||cs===N||cs===Y?co=this.centeredScaling||is.centeredScaling:cs===B$1&&(co=this.centeredRotation||is.centeredRotation),co?!lo:lo}_getOriginFromCorner(is,cs){const lo={x:is.originX,y:is.originY};return cs&&(["ml","tl","bl"].includes(cs)?lo.x=A:["mr","tr","br"].includes(cs)&&(lo.x=M),["tl","mt","tr"].includes(cs)?lo.y=E:["bl","mb","br"].includes(cs)&&(lo.y=P)),lo}_setupCurrentTransform(is,cs,lo){var co;const hs=cs.group?pe(this.getScenePoint(is),void 0,cs.group.calcTransformMatrix()):this.getScenePoint(is),{key:uo="",control:xa}=cs.getActiveControl()||{},ba=lo&&xa?(co=xa.getActionHandler(is,cs,xa))===null||co===void 0?void 0:co.bind(xa):De,$a=((_l,Il,Fl,Ml)=>{if(!Il||!_l)return"drag";const Tl=Ml.controls[Il];return Tl.getActionName(Fl,Tl,Ml)})(lo,uo,is,cs),wl=is[this.centeredKey],Sl=this._shouldCenterTransform(cs,$a,wl)?{x:D$1,y:D$1}:this._getOriginFromCorner(cs,uo),Cl={target:cs,action:$a,actionHandler:ba,actionPerformed:!1,corner:uo,scaleX:cs.scaleX,scaleY:cs.scaleY,skewX:cs.skewX,skewY:cs.skewY,offsetX:hs.x-cs.left,offsetY:hs.y-cs.top,originX:Sl.x,originY:Sl.y,ex:hs.x,ey:hs.y,lastX:hs.x,lastY:hs.y,theta:xt(cs.angle),width:cs.width,height:cs.height,shiftKey:is.shiftKey,altKey:wl,original:s(s({},de(cs)),{},{originX:Sl.x,originY:Sl.y})};this._currentTransform=Cl,this.fire("before:transform",{e:is,transform:Cl})}setCursor(is){this.upperCanvasEl.style.cursor=is}_drawSelection(is){const{x:cs,y:lo,deltaX:co,deltaY:hs}=this._groupSelector,uo=new ot(cs,lo).transform(this.viewportTransform),xa=new ot(cs+co,lo+hs).transform(this.viewportTransform),ba=this.selectionLineWidth/2;let $a=Math.min(uo.x,xa.x),wl=Math.min(uo.y,xa.y),Sl=Math.max(uo.x,xa.x),Cl=Math.max(uo.y,xa.y);this.selectionColor&&(is.fillStyle=this.selectionColor,is.fillRect($a,wl,Sl-$a,Cl-wl)),this.selectionLineWidth&&this.selectionBorderColor&&(is.lineWidth=this.selectionLineWidth,is.strokeStyle=this.selectionBorderColor,$a+=ba,wl+=ba,Sl-=ba,Cl-=ba,ji.prototype._setLineDash.call(this,is,this.selectionDashArray),is.strokeRect($a,wl,Sl-$a,Cl-wl))}findTarget(is){if(this.skipTargetFind)return;const cs=this.getViewportPoint(is),lo=this._activeObject,co=this.getActiveObjects();if(this.targets=[],lo&&co.length>=1){if(lo.findControl(cs,ne(is))||co.length>1&&this.searchPossibleTargets([lo],cs))return lo;if(lo===this.searchPossibleTargets([lo],cs)){if(this.preserveObjectStacking){const hs=this.targets;this.targets=[];const uo=this.searchPossibleTargets(this._objects,cs);return is[this.altSelectionKey]&&uo&&uo!==lo?(this.targets=hs,lo):uo}return lo}}return this.searchPossibleTargets(this._objects,cs)}_pointIsInObjectSelectionArea(is,cs){let lo=is.getCoords();const co=this.getZoom(),hs=is.padding/co;if(hs){const[uo,xa,ba,$a]=lo,wl=Math.atan2(xa.y-uo.y,xa.x-uo.x),Sl=rt(wl)*hs,Cl=nt(wl)*hs,_l=Sl+Cl,Il=Sl-Cl;lo=[new ot(uo.x-Il,uo.y-_l),new ot(xa.x+_l,xa.y-Il),new ot(ba.x+Il,ba.y+_l),new ot($a.x-_l,$a.y+Il)]}return Ks.isPointInPolygon(cs,lo)}_checkTarget(is,cs){return!!(is&&is.visible&&is.evented&&this._pointIsInObjectSelectionArea(is,pe(cs,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!is.perPixelTargetFind||is.isEditing||!this.isTargetTransparent(is,cs.x,cs.y)))}_searchPossibleTargets(is,cs){let lo=is.length;for(;lo--;){const co=is[lo];if(this._checkTarget(co,cs)){if(ht(co)&&co.subTargetCheck){const hs=this._searchPossibleTargets(co._objects,cs);hs&&this.targets.push(hs)}return co}}}searchPossibleTargets(is,cs){const lo=this._searchPossibleTargets(is,cs);if(lo&&ht(lo)&&lo.interactive&&this.targets[0]){const co=this.targets;for(let hs=co.length-1;hs>0;hs--){const uo=co[hs];if(!ht(uo)||!uo.interactive)return uo}return co[0]}return lo}getViewportPoint(is){return this._pointer?this._pointer:this.getPointer(is,!0)}getScenePoint(is){return this._absolutePointer?this._absolutePointer:this.getPointer(is)}getPointer(is){let cs=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const lo=this.upperCanvasEl,co=lo.getBoundingClientRect();let hs=re(is),uo=co.width||0,xa=co.height||0;uo&&xa||(P in co&&E in co&&(xa=Math.abs(co.top-co.bottom)),A in co&&M in co&&(uo=Math.abs(co.right-co.left))),this.calcOffset(),hs.x=hs.x-this._offset.left,hs.y=hs.y-this._offset.top,cs||(hs=pe(hs,void 0,this.viewportTransform));const ba=this.getRetinaScaling();ba!==1&&(hs.x/=ba,hs.y/=ba);const $a=uo===0||xa===0?new ot(1,1):new ot(lo.width/uo,lo.height/xa);return hs.multiply($a)}_setDimensionsImpl(is,cs){this._resetTransformEventData(),super._setDimensionsImpl(is,cs),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=pt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const is=this._activeObject;return Ut(is)?is.getObjects():is?[is]:[]}_fireSelectionEvents(is,cs){let lo=!1,co=!1;const hs=this.getActiveObjects(),uo=[],xa=[];is.forEach(ba=>{hs.includes(ba)||(lo=!0,ba.fire("deselected",{e:cs,target:ba}),xa.push(ba))}),hs.forEach(ba=>{is.includes(ba)||(lo=!0,ba.fire("selected",{e:cs,target:ba}),uo.push(ba))}),is.length>0&&hs.length>0?(co=!0,lo&&this.fire("selection:updated",{e:cs,selected:uo,deselected:xa})):hs.length>0?(co=!0,this.fire("selection:created",{e:cs,selected:uo})):is.length>0&&(co=!0,this.fire("selection:cleared",{e:cs,deselected:xa})),co&&(this._objectsToRender=void 0)}setActiveObject(is,cs){const lo=this.getActiveObjects(),co=this._setActiveObject(is,cs);return this._fireSelectionEvents(lo,cs),co}_setActiveObject(is,cs){const lo=this._activeObject;return lo!==is&&!(!this._discardActiveObject(cs,is)&&this._activeObject)&&!is.onSelect({e:cs})&&(this._activeObject=is,Ut(is)&&lo!==is&&is.set("canvas",this),is.setCoords(),!0)}_discardActiveObject(is,cs){const lo=this._activeObject;return!!lo&&!lo.onDeselect({e:is,object:cs})&&(this._currentTransform&&this._currentTransform.target===lo&&this.endCurrentTransform(is),Ut(lo)&&lo===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(is){const cs=this.getActiveObjects(),lo=this.getActiveObject();cs.length&&this.fire("before:selection:cleared",{e:is,deselected:[lo]});const co=this._discardActiveObject(is);return this._fireSelectionEvents(cs,is),co}endCurrentTransform(is){const cs=this._currentTransform;this._finalizeCurrentTransform(is),cs&&cs.target&&(cs.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(is){const cs=this._currentTransform,lo=cs.target,co={e:is,target:lo,transform:cs,action:cs.action};lo._scaling&&(lo._scaling=!1),lo.setCoords(),cs.actionPerformed&&(this.fire("object:modified",co),lo.fire(Q,co))}setViewportTransform(is){super.setViewportTransform(is);const cs=this._activeObject;cs&&cs.setCoords()}destroy(){const is=this._activeObject;Ut(is)&&(is.removeAll(),is.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(is){const cs=this._activeObject;cs&&cs._renderControls(is)}_toObject(is,cs,lo){const co=this._realizeGroupTransformOnObject(is),hs=super._toObject(is,cs,lo);return is.set(co),hs}_realizeGroupTransformOnObject(is){const{group:cs}=is;if(cs&&Ut(cs)&&this._activeObject===cs){const lo=Yt(is,["angle","flipX","flipY",M,H,N,U,q,P]);return ce(is,cs.calcOwnMatrix()),lo}return{}}_setSVGObject(is,cs,lo){const co=this._realizeGroupTransformOnObject(cs);super._setSVGObject(is,cs,lo),cs.set(co)}}t(Mn,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class Pn{constructor(is){t(this,"targets",[]),t(this,"__disposer",void 0);const cs=()=>{const{hiddenTextarea:co}=is.getActiveObject()||{};co&&co.focus()},lo=is.upperCanvasEl;lo.addEventListener("click",cs),this.__disposer=()=>lo.removeEventListener("click",cs)}exitTextEditing(){this.target=void 0,this.targets.forEach(is=>{is.isEditing&&is.exitEditing()})}add(is){this.targets.push(is)}remove(is){this.unregister(is),it(this.targets,is)}register(is){this.target=is}unregister(is){is===this.target&&(this.target=void 0)}onMouseMove(is){var cs;!((cs=this.target)===null||cs===void 0)&&cs.isEditing&&this.target.updateSelectionOnMouseMove(is)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const En=["target","oldTarget","fireCanvas","e"],An={passive:!1},jn=(us,is)=>{const cs=us.getViewportPoint(is),lo=us.getScenePoint(is);return{viewportPoint:cs,scenePoint:lo,pointer:cs,absolutePointer:lo}},Fn=function(us){for(var is=arguments.length,cs=new Array(is>1?is-1:0),lo=1;lo<is;lo++)cs[lo-1]=arguments[lo];return us.addEventListener(...cs)},Ln=function(us){for(var is=arguments.length,cs=new Array(is>1?is-1:0),lo=1;lo<is;lo++)cs[lo-1]=arguments[lo];return us.removeEventListener(...cs)},Rn={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class In extends Mn{constructor(is){super(is,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),t(this,"_isClick",void 0),t(this,"textEditingManager",new Pn(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(cs=>{this[cs]=this[cs].bind(this)}),this.addOrRemove(Fn,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(is,cs){const lo=this.upperCanvasEl,co=this._getEventPrefix();is(Jt(lo),"resize",this._onResize),is(lo,co+"down",this._onMouseDown),is(lo,"".concat(co,"move"),this._onMouseMove,An),is(lo,"".concat(co,"out"),this._onMouseOut),is(lo,"".concat(co,"enter"),this._onMouseEnter),is(lo,"wheel",this._onMouseWheel),is(lo,"contextmenu",this._onContextMenu),is(lo,"click",this._onClick),is(lo,"dblclick",this._onClick),is(lo,"dragstart",this._onDragStart),is(lo,"dragend",this._onDragEnd),is(lo,"dragover",this._onDragOver),is(lo,"dragenter",this._onDragEnter),is(lo,"dragleave",this._onDragLeave),is(lo,"drop",this._onDrop),this.enablePointerEvents||is(lo,"touchstart",this._onTouchStart,An)}removeListeners(){this.addOrRemove(Ln,"remove");const is=this._getEventPrefix(),cs=Kt(this.upperCanvasEl);Ln(cs,"".concat(is,"up"),this._onMouseUp),Ln(cs,"touchend",this._onTouchEnd,An),Ln(cs,"".concat(is,"move"),this._onMouseMove,An),Ln(cs,"touchmove",this._onMouseMove,An),clearTimeout(this._willAddMouseDown)}_onMouseWheel(is){this.__onMouseWheel(is)}_onMouseOut(is){const cs=this._hoveredTarget,lo=s({e:is},jn(this,is));this.fire("mouse:out",s(s({},lo),{},{target:cs})),this._hoveredTarget=void 0,cs&&cs.fire("mouseout",s({},lo)),this._hoveredTargets.forEach(co=>{this.fire("mouse:out",s(s({},lo),{},{target:co})),co&&co.fire("mouseout",s({},lo))}),this._hoveredTargets=[]}_onMouseEnter(is){this._currentTransform||this.findTarget(is)||(this.fire("mouse:over",s({e:is},jn(this,is))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(is){this._isClick=!1;const cs=this.getActiveObject();if(cs&&cs.onDragStart(is)){this._dragSource=cs;const lo={e:is,target:cs};return this.fire("dragstart",lo),cs.fire("dragstart",lo),void Fn(this.upperCanvasEl,"drag",this._onDragProgress)}oe(is)}_renderDragEffects(is,cs,lo){let co=!1;const hs=this._dropTarget;hs&&hs!==cs&&hs!==lo&&(hs.clearContextTop(),co=!0),cs==null||cs.clearContextTop(),lo!==cs&&(lo==null||lo.clearContextTop());const uo=this.contextTop;uo.save(),uo.transform(...this.viewportTransform),cs&&(uo.save(),cs.transform(uo),cs.renderDragSourceEffect(is),uo.restore(),co=!0),lo&&(uo.save(),lo.transform(uo),lo.renderDropTargetEffect(is),uo.restore(),co=!0),uo.restore(),co&&(this.contextTopDirty=!0)}_onDragEnd(is){const cs=!!is.dataTransfer&&is.dataTransfer.dropEffect!==j,lo=cs?this._activeObject:void 0,co={e:is,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:cs,dropTarget:lo};Ln(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",co),this._dragSource&&this._dragSource.fire("dragend",co),delete this._dragSource,this._onMouseUp(is)}_onDragProgress(is){const cs={e:is,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",cs),this._dragSource&&this._dragSource.fire("drag",cs)}findDragTargets(is){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(is)),targets:[...this.targets]}}_onDragOver(is){const cs="dragover",{target:lo,targets:co}=this.findDragTargets(is),hs=this._dragSource,uo={e:is,target:lo,subTargets:co,dragSource:hs,canDrop:!1,dropTarget:void 0};let xa;this.fire(cs,uo),this._fireEnterLeaveEvents(lo,uo),lo&&(lo.canDrop(is)&&(xa=lo),lo.fire(cs,uo));for(let ba=0;ba<co.length;ba++){const $a=co[ba];$a.canDrop(is)&&(xa=$a),$a.fire(cs,uo)}this._renderDragEffects(is,hs,xa),this._dropTarget=xa}_onDragEnter(is){const{target:cs,targets:lo}=this.findDragTargets(is),co={e:is,target:cs,subTargets:lo,dragSource:this._dragSource};this.fire("dragenter",co),this._fireEnterLeaveEvents(cs,co)}_onDragLeave(is){const cs={e:is,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",cs),this._fireEnterLeaveEvents(void 0,cs),this._renderDragEffects(is,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(is){const{target:cs,targets:lo}=this.findDragTargets(is),co=this._basicEventHandler("drop:before",s({e:is,target:cs,subTargets:lo,dragSource:this._dragSource},jn(this,is)));co.didDrop=!1,co.dropTarget=void 0,this._basicEventHandler("drop",co),this.fire("drop:after",co)}_onContextMenu(is){const cs=this.findTarget(is),lo=this.targets||[],co=this._basicEventHandler("contextmenu:before",{e:is,target:cs,subTargets:lo});return this.stopContextMenu&&oe(is),this._basicEventHandler("contextmenu",co),!1}_onClick(is){const cs=is.detail;cs>3||cs<2||(this._cacheTransformEventData(is),cs==2&&is.type==="dblclick"&&this._handleEvent(is,"dblclick"),cs==3&&this._handleEvent(is,"tripleclick"),this._resetTransformEventData())}getPointerId(is){const cs=is.changedTouches;return cs?cs[0]&&cs[0].identifier:this.enablePointerEvents?is.pointerId:-1}_isMainEvent(is){return is.isPrimary===!0||is.isPrimary!==!1&&(is.type==="touchend"&&is.touches.length===0||!is.changedTouches||is.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(is){let cs=!this.allowTouchScrolling;const lo=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(is)),this.__onMouseDown(is),(this.isDrawingMode||lo&&this._target===lo)&&(cs=!0),cs&&is.preventDefault(),this._resetTransformEventData();const co=this.upperCanvasEl,hs=this._getEventPrefix(),uo=Kt(co);Fn(uo,"touchend",this._onTouchEnd,An),cs&&Fn(uo,"touchmove",this._onMouseMove,An),Ln(co,"".concat(hs,"down"),this._onMouseDown)}_onMouseDown(is){this.__onMouseDown(is),this._resetTransformEventData();const cs=this.upperCanvasEl,lo=this._getEventPrefix();Ln(cs,"".concat(lo,"move"),this._onMouseMove,An);const co=Kt(cs);Fn(co,"".concat(lo,"up"),this._onMouseUp),Fn(co,"".concat(lo,"move"),this._onMouseMove,An)}_onTouchEnd(is){if(is.touches.length>0)return;this.__onMouseUp(is),this._resetTransformEventData(),delete this.mainTouchId;const cs=this._getEventPrefix(),lo=Kt(this.upperCanvasEl);Ln(lo,"touchend",this._onTouchEnd,An),Ln(lo,"touchmove",this._onMouseMove,An),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Fn(this.upperCanvasEl,"".concat(cs,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(is){this.__onMouseUp(is),this._resetTransformEventData();const cs=this.upperCanvasEl,lo=this._getEventPrefix();if(this._isMainEvent(is)){const co=Kt(this.upperCanvasEl);Ln(co,"".concat(lo,"up"),this._onMouseUp),Ln(co,"".concat(lo,"move"),this._onMouseMove,An),Fn(cs,"".concat(lo,"move"),this._onMouseMove,An)}}_onMouseMove(is){const cs=this.getActiveObject();!this.allowTouchScrolling&&(!cs||!cs.shouldStartDragging(is))&&is.preventDefault&&is.preventDefault(),this.__onMouseMove(is)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(is){const cs=this.getActiveObject();return!!cs!=!!is||cs&&is&&cs!==is}__onMouseUp(is){var cs;this._cacheTransformEventData(is),this._handleEvent(is,"up:before");const lo=this._currentTransform,co=this._isClick,hs=this._target,{button:uo}=is;if(uo)return(this.fireMiddleClick&&uo===1||this.fireRightClick&&uo===2)&&this._handleEvent(is,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(is);if(!this._isMainEvent(is))return;let xa,ba,$a=!1;if(lo&&(this._finalizeCurrentTransform(is),$a=lo.actionPerformed),!co){const wl=hs===this._activeObject;this.handleSelection(is),$a||($a=this._shouldRender(hs)||!wl&&hs===this._activeObject)}if(hs){const wl=hs.findControl(this.getViewportPoint(is),ne(is)),{key:Sl,control:Cl}=wl||{};if(ba=Sl,hs.selectable&&hs!==this._activeObject&&hs.activeOn==="up")this.setActiveObject(hs,is),$a=!0;else if(Cl){const _l=Cl.getMouseUpHandler(is,hs,Cl);_l&&(xa=this.getScenePoint(is),_l.call(Cl,is,lo,xa.x,xa.y))}hs.isMoving=!1}if(lo&&(lo.target!==hs||lo.corner!==ba)){const wl=lo.target&&lo.target.controls[lo.corner],Sl=wl&&wl.getMouseUpHandler(is,lo.target,wl);xa=xa||this.getScenePoint(is),Sl&&Sl.call(wl,is,lo,xa.x,xa.y)}this._setCursorFromEvent(is,hs),this._handleEvent(is,"up"),this._groupSelector=null,this._currentTransform=null,hs&&(hs.__corner=void 0),$a?this.requestRenderAll():co||(cs=this._activeObject)!==null&&cs!==void 0&&cs.isEditing||this.renderTop()}_basicEventHandler(is,cs){const{target:lo,subTargets:co=[]}=cs;this.fire(is,cs),lo&&lo.fire(is,cs);for(let hs=0;hs<co.length;hs++)co[hs]!==lo&&co[hs].fire(is,cs);return cs}_handleEvent(is,cs,lo){const co=this._target,hs=this.targets||[],uo=s(s(s({e:is,target:co,subTargets:hs},jn(this,is)),{},{transform:this._currentTransform},cs==="up:before"||cs==="up"?{isClick:this._isClick,currentTarget:this.findTarget(is),currentSubTargets:this.targets}:{}),cs==="down:before"||cs==="down"?lo:{});this.fire("mouse:".concat(cs),uo),co&&co.fire("mouse".concat(cs),uo);for(let xa=0;xa<hs.length;xa++)hs[xa]!==co&&hs[xa].fire("mouse".concat(cs),uo)}_onMouseDownInDrawingMode(is){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(is),this.requestRenderAll());const cs=this.getScenePoint(is);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(cs,{e:is,pointer:cs}),this._handleEvent(is,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(is){if(this._isCurrentlyDrawing){const cs=this.getScenePoint(is);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(cs,{e:is,pointer:cs})}this.setCursor(this.freeDrawingCursor),this._handleEvent(is,"move")}_onMouseUpInDrawingMode(is){const cs=this.getScenePoint(is);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:is,pointer:cs}):this._isCurrentlyDrawing=!1,this._handleEvent(is,"up")}__onMouseDown(is){this._isClick=!0,this._cacheTransformEventData(is),this._handleEvent(is,"down:before");let cs=this._target,lo=!!cs&&cs===this._activeObject;const{button:co}=is;if(co)return(this.fireMiddleClick&&co===1||this.fireRightClick&&co===2)&&this._handleEvent(is,"down",{alreadySelected:lo}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(is);if(!this._isMainEvent(is)||this._currentTransform)return;let hs=this._shouldRender(cs),uo=!1;if(this.handleMultiSelection(is,cs)?(cs=this._activeObject,uo=!0,hs=!0):this._shouldClearSelection(is,cs)&&this.discardActiveObject(is),this.selection&&(!cs||!cs.selectable&&!cs.isEditing&&cs!==this._activeObject)){const xa=this.getScenePoint(is);this._groupSelector={x:xa.x,y:xa.y,deltaY:0,deltaX:0}}if(lo=!!cs&&cs===this._activeObject,cs){cs.selectable&&cs.activeOn==="down"&&this.setActiveObject(cs,is);const xa=cs.findControl(this.getViewportPoint(is),ne(is));if(cs===this._activeObject&&(xa||!uo)){this._setupCurrentTransform(is,cs,lo);const ba=xa?xa.control:void 0,$a=this.getScenePoint(is),wl=ba&&ba.getMouseDownHandler(is,cs,ba);wl&&wl.call(ba,is,this._currentTransform,$a.x,$a.y)}}hs&&(this._objectsToRender=void 0),this._handleEvent(is,"down",{alreadySelected:lo}),hs&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(is){this._resetTransformEventData(),this._pointer=this.getViewportPoint(is),this._absolutePointer=pe(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(is)}__onMouseMove(is){if(this._isClick=!1,this._cacheTransformEventData(is),this._handleEvent(is,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(is);if(!this._isMainEvent(is))return;const cs=this._groupSelector;if(cs){const lo=this.getScenePoint(is);cs.deltaX=lo.x-cs.x,cs.deltaY=lo.y-cs.y,this.renderTop()}else if(this._currentTransform)this._transformObject(is);else{const lo=this.findTarget(is);this._setCursorFromEvent(is,lo),this._fireOverOutEvents(is,lo)}this.textEditingManager.onMouseMove(is),this._handleEvent(is,"move"),this._resetTransformEventData()}_fireOverOutEvents(is,cs){const lo=this._hoveredTarget,co=this._hoveredTargets,hs=this.targets,uo=Math.max(co.length,hs.length);this.fireSyntheticInOutEvents("mouse",{e:is,target:cs,oldTarget:lo,fireCanvas:!0});for(let xa=0;xa<uo;xa++)this.fireSyntheticInOutEvents("mouse",{e:is,target:hs[xa],oldTarget:co[xa]});this._hoveredTarget=cs,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(is,cs){const lo=this._draggedoverTarget,co=this._hoveredTargets,hs=this.targets,uo=Math.max(co.length,hs.length);this.fireSyntheticInOutEvents("drag",s(s({},cs),{},{target:is,oldTarget:lo,fireCanvas:!0}));for(let xa=0;xa<uo;xa++)this.fireSyntheticInOutEvents("drag",s(s({},cs),{},{target:hs[xa],oldTarget:co[xa]}));this._draggedoverTarget=is}fireSyntheticInOutEvents(is,cs){let{target:lo,oldTarget:co,fireCanvas:hs,e:uo}=cs,xa=i(cs,En);const{targetIn:ba,targetOut:$a,canvasIn:wl,canvasOut:Sl}=Rn[is],Cl=co!==lo;if(co&&Cl){const _l=s(s({},xa),{},{e:uo,target:co,nextTarget:lo},jn(this,uo));hs&&this.fire(Sl,_l),co.fire($a,_l)}if(lo&&Cl){const _l=s(s({},xa),{},{e:uo,target:lo,previousTarget:co},jn(this,uo));hs&&this.fire(wl,_l),lo.fire(ba,_l)}}__onMouseWheel(is){this._cacheTransformEventData(is),this._handleEvent(is,"wheel"),this._resetTransformEventData()}_transformObject(is){const cs=this.getScenePoint(is),lo=this._currentTransform,co=lo.target,hs=co.group?pe(cs,void 0,co.group.calcTransformMatrix()):cs;lo.shiftKey=is.shiftKey,lo.altKey=!!this.centeredKey&&is[this.centeredKey],this._performTransformAction(is,lo,hs),lo.actionPerformed&&this.requestRenderAll()}_performTransformAction(is,cs,lo){const{action:co,actionHandler:hs,target:uo}=cs,xa=!!hs&&hs(is,cs,lo.x,lo.y);xa&&uo.setCoords(),co==="drag"&&xa&&(cs.target.isMoving=!0,this.setCursor(cs.target.moveCursor||this.moveCursor)),cs.actionPerformed=cs.actionPerformed||xa}_setCursorFromEvent(is,cs){if(!cs)return void this.setCursor(this.defaultCursor);let lo=cs.hoverCursor||this.hoverCursor;const co=Ut(this._activeObject)?this._activeObject:null,hs=(!co||cs.group!==co)&&cs.findControl(this.getViewportPoint(is));if(hs){const uo=hs.control;this.setCursor(uo.cursorStyleHandler(is,uo,cs))}else cs.subTargetCheck&&this.targets.concat().reverse().map(uo=>{lo=uo.hoverCursor||lo}),this.setCursor(lo)}handleMultiSelection(is,cs){const lo=this._activeObject,co=Ut(lo);if(lo&&this._isSelectionKeyPressed(is)&&this.selection&&cs&&cs.selectable&&(lo!==cs||co)&&(co||!cs.isDescendantOf(lo)&&!lo.isDescendantOf(cs))&&!cs.onSelect({e:is})&&!lo.getActiveControl()){if(co){const hs=lo.getObjects();if(cs===lo){const uo=this.getViewportPoint(is);if(!(cs=this.searchPossibleTargets(hs,uo)||this.searchPossibleTargets(this._objects,uo))||!cs.selectable)return!1}cs.group===lo?(lo.remove(cs),this._hoveredTarget=cs,this._hoveredTargets=[...this.targets],lo.size()===1&&this._setActiveObject(lo.item(0),is)):(lo.multiSelectAdd(cs),this._hoveredTarget=lo,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(hs,is)}else{lo.isEditing&&lo.exitEditing();const hs=new(tt.getClass("ActiveSelection"))([],{canvas:this});hs.multiSelectAdd(lo,cs),this._hoveredTarget=hs,this._setActiveObject(hs,is),this._fireSelectionEvents([lo],is)}return!0}return!1}handleSelection(is){if(!this.selection||!this._groupSelector)return!1;const{x:cs,y:lo,deltaX:co,deltaY:hs}=this._groupSelector,uo=new ot(cs,lo),xa=uo.add(new ot(co,hs)),ba=uo.min(xa),$a=uo.max(xa).subtract(ba),wl=this.collectObjects({left:ba.x,top:ba.y,width:$a.x,height:$a.y},{includeIntersecting:!this.selectionFullyContained}),Sl=uo.eq(xa)?wl[0]?[wl[0]]:[]:wl.length>1?wl.filter(Cl=>!Cl.onSelect({e:is})).reverse():wl;if(Sl.length===1)this.setActiveObject(Sl[0],is);else if(Sl.length>1){const Cl=tt.getClass("ActiveSelection");this.setActiveObject(new Cl(Sl,{canvas:this}),is)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Bn={x1:0,y1:0,x2:0,y2:0},Xn=s(s({},Bn),{},{r1:0,r2:0}),Yn=(us,is)=>isNaN(us)&&typeof is=="number"?is:us,Wn=/^(\d+\.\d+)%|(\d+)%$/;function Vn(us){return us&&Wn.test(us)}function zn(us,is){const cs=typeof us=="number"?us:typeof us=="string"?parseFloat(us)/(Vn(us)?100:1):NaN;return ks(0,Yn(cs,is),1)}const Gn=/\s*;\s*/,Hn=/\s*:\s*/;function Nn(us,is){let cs,lo;const co=us.getAttribute("style");if(co){const uo=co.split(Gn);uo[uo.length-1]===""&&uo.pop();for(let xa=uo.length;xa--;){const[ba,$a]=uo[xa].split(Hn).map(wl=>wl.trim());ba==="stop-color"?cs=$a:ba==="stop-opacity"&&(lo=$a)}}const hs=new Le(cs||us.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:zn(us.getAttribute("offset"),0),color:hs.toRgb(),opacity:Yn(parseFloat(lo||us.getAttribute("stop-opacity")||""),1)*hs.getAlpha()*is}}function Un(us,is){const cs=[],lo=us.getElementsByTagName("stop"),co=zn(is,1);for(let hs=lo.length;hs--;)cs.push(Nn(lo[hs],co));return cs}function qn(us){return us.nodeName==="linearGradient"||us.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Kn(us){return us.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Jn(us,is){return us.getAttribute(is)}function Qn(us,is){return function(cs,lo){let co,{width:hs,height:uo,gradientUnits:xa}=lo;return Object.keys(cs).reduce((ba,$a)=>{const wl=cs[$a];return wl==="Infinity"?co=1:wl==="-Infinity"?co=0:(co=typeof wl=="string"?parseFloat(wl):wl,typeof wl=="string"&&Vn(wl)&&(co*=.01,xa==="pixels"&&($a!=="x1"&&$a!=="x2"&&$a!=="r2"||(co*=hs),$a!=="y1"&&$a!=="y2"||(co*=uo)))),ba[$a]=co,ba},{})}(qn(us)==="linear"?function(cs){return{x1:Jn(cs,"x1")||0,y1:Jn(cs,"y1")||0,x2:Jn(cs,"x2")||"100%",y2:Jn(cs,"y2")||0}}(us):function(cs){return{x1:Jn(cs,"fx")||Jn(cs,"cx")||"50%",y1:Jn(cs,"fy")||Jn(cs,"cy")||"50%",r1:0,x2:Jn(cs,"cx")||"50%",y2:Jn(cs,"cy")||"50%",r2:Jn(cs,"r")||"50%"}}(us),s(s({},is),{},{gradientUnits:Kn(us)}))}class Zn{constructor(is){const{type:cs="linear",gradientUnits:lo="pixels",coords:co={},colorStops:hs=[],offsetX:uo=0,offsetY:xa=0,gradientTransform:ba,id:$a}=is||{};Object.assign(this,{type:cs,gradientUnits:lo,coords:s(s({},cs==="radial"?Xn:Bn),co),colorStops:hs,offsetX:uo,offsetY:xa,gradientTransform:ba,id:$a?"".concat($a,"_").concat(ft()):ft()})}addColorStop(is){for(const cs in is){const lo=new Le(is[cs]);this.colorStops.push({offset:parseFloat(cs),color:lo.toRgb(),opacity:lo.getAlpha()})}return this}toObject(is){return s(s({},Yt(this,is)),{},{type:this.type,coords:s({},this.coords),colorStops:this.colorStops.map(cs=>s({},cs)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(is){let{additionalTransform:cs}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const lo=[],co=this.gradientTransform?this.gradientTransform.concat():T.concat(),hs=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",uo=this.colorStops.map(Sl=>s({},Sl)).sort((Sl,Cl)=>Sl.offset-Cl.offset);let xa=-this.offsetX,ba=-this.offsetY;var $a;hs==="objectBoundingBox"?(xa/=is.width,ba/=is.height):(xa+=is.width/2,ba+=is.height/2),($a=is)&&typeof $a._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(xa-=is.pathOffset.x,ba-=is.pathOffset.y),co[4]-=xa,co[5]-=ba;const wl=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(hs,'"'),'gradientTransform="'.concat(cs?cs+" ":"").concat(zt(co),'"'),""].join(" ");if(this.type==="linear"){const{x1:Sl,y1:Cl,x2:_l,y2:Il}=this.coords;lo.push("<linearGradient ",wl,' x1="',Sl,'" y1="',Cl,'" x2="',_l,'" y2="',Il,`">
`)}else if(this.type==="radial"){const{x1:Sl,y1:Cl,x2:_l,y2:Il,r1:Fl,r2:Ml}=this.coords,Tl=Fl>Ml;lo.push("<radialGradient ",wl,' cx="',Tl?Sl:_l,'" cy="',Tl?Cl:Il,'" r="',Tl?Fl:Ml,'" fx="',Tl?_l:Sl,'" fy="',Tl?Il:Cl,`">
`),Tl&&(uo.reverse(),uo.forEach(Bl=>{Bl.offset=1-Bl.offset}));const Dl=Math.min(Fl,Ml);if(Dl>0){const Bl=Dl/Math.max(Fl,Ml);uo.forEach(Ll=>{Ll.offset+=Bl*(1-Ll.offset)})}}return uo.forEach(Sl=>{let{color:Cl,offset:_l,opacity:Il}=Sl;lo.push("<stop ",'offset="',100*_l+"%",'" style="stop-color:',Cl,Il!==void 0?";stop-opacity: "+Il:";",`"/>
`)}),lo.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),lo.join("")}toLive(is){const{x1:cs,y1:lo,x2:co,y2:hs,r1:uo,r2:xa}=this.coords,ba=this.type==="linear"?is.createLinearGradient(cs,lo,co,hs):is.createRadialGradient(cs,lo,uo,co,hs,xa);return this.colorStops.forEach($a=>{let{color:wl,opacity:Sl,offset:Cl}=$a;ba.addColorStop(Cl,Sl!==void 0?new Le(wl).setAlpha(Sl).toRgba():wl)}),ba}static async fromObject(is){const{colorStops:cs,gradientTransform:lo}=is;return new this(s(s({},is),{},{colorStops:cs?cs.map(co=>s({},co)):void 0,gradientTransform:lo?[...lo]:void 0}))}static fromElement(is,cs,lo){const co=Kn(is),hs=cs._findCenterFromElement();return new this(s({id:is.getAttribute("id")||void 0,type:qn(is),coords:Qn(is,{width:lo.viewBoxWidth||lo.width,height:lo.viewBoxHeight||lo.height}),colorStops:Un(is,lo.opacity),gradientUnits:co,gradientTransform:br(is.getAttribute("gradientTransform")||"")},co==="pixels"?{offsetX:cs.width/2-hs.x,offsetY:cs.height/2-hs.y}:{offsetX:0,offsetY:0}))}}t(Zn,"type","Gradient"),tt.setClass(Zn,"gradient"),tt.setClass(Zn,"linear"),tt.setClass(Zn,"radial");const $n=["type","source","patternTransform"];class to{get type(){return"pattern"}set type(is){a("warn","Setting type has no effect",is)}constructor(is){t(this,"repeat","repeat"),t(this,"offsetX",0),t(this,"offsetY",0),t(this,"crossOrigin",""),this.id=ft(),Object.assign(this,is)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(is){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?is.createPattern(this.source,this.repeat):null}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:cs,crossOrigin:lo}=this;return s(s({},Yt(this,is)),{},{type:"pattern",source:this.sourceToString(),repeat:cs,crossOrigin:lo,offsetX:Vt(this.offsetX,o.NUM_FRACTION_DIGITS),offsetY:Vt(this.offsetY,o.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(is){let{width:cs,height:lo}=is;const{source:co,repeat:hs,id:uo}=this,xa=Yn(this.offsetX/cs,0),ba=Yn(this.offsetY/lo,0),$a=hs==="repeat-y"||hs==="no-repeat"?1+Math.abs(xa||0):Yn(co.width/cs,0),wl=hs==="repeat-x"||hs==="no-repeat"?1+Math.abs(ba||0):Yn(co.height/lo,0);return['<pattern id="SVGID_'.concat(uo,'" x="').concat(xa,'" y="').concat(ba,'" width="').concat($a,'" height="').concat(wl,'">'),'<image x="0" y="0" width="'.concat(co.width,'" height="').concat(co.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(is,cs){let{type:lo,source:co,patternTransform:hs}=is,uo=i(is,$n);const xa=await It(co,s(s({},cs),{},{crossOrigin:uo.crossOrigin}));return new this(s(s({},uo),{},{patternTransform:hs&&hs.slice(0),source:xa}))}}t(to,"type","Pattern"),tt.setClass(to),tt.setClass(to,"pattern");class eo{constructor(is){t(this,"color","rgb(0, 0, 0)"),t(this,"width",1),t(this,"shadow",null),t(this,"strokeLineCap","round"),t(this,"strokeLineJoin","round"),t(this,"strokeMiterLimit",10),t(this,"strokeDashArray",null),t(this,"limitedToCanvasSize",!1),this.canvas=is}_setBrushStyles(is){is.strokeStyle=this.color,is.lineWidth=this.width,is.lineCap=this.strokeLineCap,is.miterLimit=this.strokeMiterLimit,is.lineJoin=this.strokeLineJoin,is.setLineDash(this.strokeDashArray||[])}_saveAndTransform(is){const cs=this.canvas.viewportTransform;is.save(),is.transform(cs[0],cs[1],cs[2],cs[3],cs[4],cs[5])}needsFullRender(){return new Le(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const is=this.canvas,cs=this.shadow,lo=is.contextTop,co=is.getZoom()*is.getRetinaScaling();lo.shadowColor=cs.color,lo.shadowBlur=cs.blur*co,lo.shadowOffsetX=cs.offsetX*co,lo.shadowOffsetY=cs.offsetY*co}_resetShadow(){const is=this.canvas.contextTop;is.shadowColor="",is.shadowBlur=is.shadowOffsetX=is.shadowOffsetY=0}_isOutSideCanvas(is){return is.x<0||is.x>this.canvas.getWidth()||is.y<0||is.y>this.canvas.getHeight()}}const so=["path","left","top"],io=["d"];class ro extends ji{constructor(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:lo,left:co,top:hs}=cs,uo=i(cs,so);super(),Object.assign(this,ro.ownDefaults),this.setOptions(uo),this._setPath(is||[],!0),typeof co=="number"&&this.set(M,co),typeof hs=="number"&&this.set(P,hs)}_setPath(is,cs){this.path=sn(Array.isArray(is)?is:xn(is)),this.setBoundingBox(cs)}_findCenterFromElement(){const is=this._calcBoundsFromPath();return new ot(is.left+is.width/2,is.top+is.height/2)}_renderPathCommands(is){const cs=-this.pathOffset.x,lo=-this.pathOffset.y;is.beginPath();for(const co of this.path)switch(co[0]){case"L":is.lineTo(co[1]+cs,co[2]+lo);break;case"M":is.moveTo(co[1]+cs,co[2]+lo);break;case"C":is.bezierCurveTo(co[1]+cs,co[2]+lo,co[3]+cs,co[4]+lo,co[5]+cs,co[6]+lo);break;case"Q":is.quadraticCurveTo(co[1]+cs,co[2]+lo,co[3]+cs,co[4]+lo);break;case"Z":is.closePath()}}_render(is){this._renderPathCommands(is),this._renderPaintInOrder(is)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject(is)),{},{path:this.path.map(cs=>cs.slice())})}toDatalessObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const cs=this.toObject(is);return this.sourcePath&&(delete cs.path,cs.sourcePath=this.sourcePath),cs}_toSVG(){const is=bn(this.path,o.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(is,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const is=o.NUM_FRACTION_DIGITS;return" translate(".concat(Vt(-this.pathOffset.x,is),", ").concat(Vt(-this.pathOffset.y,is),")")}toClipPathSVG(is){const cs=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:is,additionalTransform:cs})}toSVG(is){const cs=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:is,additionalTransform:cs})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(is){const{width:cs,height:lo,pathOffset:co}=this._calcDimensions();this.set({width:cs,height:lo,pathOffset:co}),is&&this.setPositionByOrigin(co,D$1,D$1)}_calcBoundsFromPath(){const is=[];let cs=0,lo=0,co=0,hs=0;for(const uo of this.path)switch(uo[0]){case"L":co=uo[1],hs=uo[2],is.push({x:cs,y:lo},{x:co,y:hs});break;case"M":co=uo[1],hs=uo[2],cs=co,lo=hs;break;case"C":is.push(...tn(co,hs,uo[1],uo[2],uo[3],uo[4],uo[5],uo[6])),co=uo[5],hs=uo[6];break;case"Q":is.push(...tn(co,hs,uo[1],uo[2],uo[1],uo[2],uo[3],uo[4])),co=uo[3],hs=uo[4];break;case"Z":co=cs,hs=lo}return ae(is)}_calcDimensions(){const is=this._calcBoundsFromPath();return s(s({},is),{},{pathOffset:new ot(is.left+is.width/2,is.top+is.height/2)})}static fromObject(is){return this._fromObject(is,{extraParam:"path"})}static async fromElement(is,cs,lo){const co=Dr(is,this.ATTRIBUTE_NAMES,lo),{d:hs}=co;return new this(hs,s(s(s({},i(co,io)),cs),{},{left:void 0,top:void 0}))}}t(ro,"type","Path"),t(ro,"cacheProperties",[...Ms,"path","fillRule"]),t(ro,"ATTRIBUTE_NAMES",[...Ji,"d"]),tt.setClass(ro),tt.setSVGClass(ro);class no extends eo{constructor(is){super(is),t(this,"decimate",.4),t(this,"drawStraightLine",!1),t(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(is,cs,lo){const co=cs.midPointFrom(lo);return is.quadraticCurveTo(cs.x,cs.y,co.x,co.y),co}onMouseDown(is,cs){let{e:lo}=cs;this.canvas._isMainEvent(lo)&&(this.drawStraightLine=!!this.straightLineKey&&lo[this.straightLineKey],this._prepareForDrawing(is),this._addPoint(is),this._render())}onMouseMove(is,cs){let{e:lo}=cs;if(this.canvas._isMainEvent(lo)&&(this.drawStraightLine=!!this.straightLineKey&&lo[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(is))&&this._addPoint(is)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const co=this._points,hs=co.length,uo=this.canvas.contextTop;this._saveAndTransform(uo),this.oldEnd&&(uo.beginPath(),uo.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=no.drawSegment(uo,co[hs-2],co[hs-1]),uo.stroke(),uo.restore()}}onMouseUp(is){let{e:cs}=is;return!this.canvas._isMainEvent(cs)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(is){this._reset(),this._addPoint(is),this.canvas.contextTop.moveTo(is.x,is.y)}_addPoint(is){return!(this._points.length>1&&is.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(is),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,cs=this._points[0],lo=this._points[1];if(this._saveAndTransform(is),is.beginPath(),this._points.length===2&&cs.x===lo.x&&cs.y===lo.y){const co=this.width/1e3;cs.x-=co,lo.x+=co}is.moveTo(cs.x,cs.y);for(let co=1;co<this._points.length;co++)no.drawSegment(is,cs,lo),cs=this._points[co],lo=this._points[co+1];is.lineTo(cs.x,cs.y),is.stroke(),is.restore()}convertPointsToSVGPath(is){const cs=this.width/1e3;return Cn(is,cs)}createPath(is){const cs=new ro(is,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,cs.shadow=new Os(this.shadow)),cs}decimatePoints(is,cs){if(is.length<=2)return is;let lo,co=is[0];const hs=this.canvas.getZoom(),uo=Math.pow(cs/hs,2),xa=is.length-1,ba=[co];for(let $a=1;$a<xa-1;$a++)lo=Math.pow(co.x-is[$a].x,2)+Math.pow(co.y-is[$a].y,2),lo>=uo&&(co=is[$a],ba.push(co));return ba.push(is[xa]),ba}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const is=this.convertPointsToSVGPath(this._points);if(function(lo){return bn(lo)==="M 0 0 Q 0 0 0 0 L 0 0"}(is))return void this.canvas.requestRenderAll();const cs=this.createPath(is);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:cs}),this.canvas.add(cs),this.canvas.requestRenderAll(),cs.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:cs})}}const oo=["left","top","radius"],ao=["radius","startAngle","endAngle","counterClockwise"];class ho extends ji{static getDefaults(){return s(s({},super.getDefaults()),ho.ownDefaults)}constructor(is){super(),Object.assign(this,ho.ownDefaults),this.setOptions(is)}_set(is,cs){return super._set(is,cs),is==="radius"&&this.setRadius(cs),this}_render(is){is.beginPath(),is.arc(0,0,this.radius,xt(this.startAngle),xt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(is)}getRadiusX(){return this.get("radius")*this.get(H)}getRadiusY(){return this.get("radius")*this.get(N)}setRadius(is){this.radius=is,this.set({width:2*is,height:2*is})}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ao,...is])}_toSVG(){const is=(this.endAngle-this.startAngle)%360;if(is===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:cs}=this,lo=xt(this.startAngle),co=xt(this.endAngle),hs=rt(lo)*cs,uo=nt(lo)*cs,xa=rt(co)*cs,ba=nt(co)*cs,$a=is>180?1:0,wl=this.counterClockwise?0:1;return['<path d="M '.concat(hs," ").concat(uo," A ").concat(cs," ").concat(cs," 0 ").concat($a," ").concat(wl," ").concat(xa," ").concat(ba,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(is,cs,lo){const co=Dr(is,this.ATTRIBUTE_NAMES,lo),{left:hs=0,top:uo=0,radius:xa=0}=co;return new this(s(s({},i(co,oo)),{},{radius:xa,left:hs-xa,top:uo-xa}))}static fromObject(is){return super._fromObject(is)}}t(ho,"type","Circle"),t(ho,"cacheProperties",[...Ms,...ao]),t(ho,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),t(ho,"ATTRIBUTE_NAMES",["cx","cy","r",...Ji]),tt.setClass(ho),tt.setSVGClass(ho);const go=["x1","y1","x2","y2"],fo=["x1","y1","x2","y2"],po=["x1","x2","y1","y2"];class mo extends ji{constructor(){let[is,cs,lo,co]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],hs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,mo.ownDefaults),this.setOptions(hs),this.x1=is,this.x2=lo,this.y1=cs,this.y2=co,this._setWidthHeight();const{left:uo,top:xa}=hs;typeof uo=="number"&&this.set(M,uo),typeof xa=="number"&&this.set(P,xa)}_setWidthHeight(){const{x1:is,y1:cs,x2:lo,y2:co}=this;this.width=Math.abs(lo-is),this.height=Math.abs(co-cs);const{left:hs,top:uo,width:xa,height:ba}=ae([{x:is,y:cs},{x:lo,y:co}]),$a=new ot(hs+xa/2,uo+ba/2);this.setPositionByOrigin($a,D$1,D$1)}_set(is,cs){return super._set(is,cs),po.includes(is)&&this._setWidthHeight(),this}_render(is){is.beginPath();const cs=this.calcLinePoints();is.moveTo(cs.x1,cs.y1),is.lineTo(cs.x2,cs.y2),is.lineWidth=this.strokeWidth;const lo=is.strokeStyle;var co;Gt(this.stroke)?is.strokeStyle=this.stroke.toLive(is):is.strokeStyle=(co=this.stroke)!==null&&co!==void 0?co:is.fillStyle,this.stroke&&this._renderStroke(is),is.strokeStyle=lo}_findCenterFromElement(){return new ot((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject(is)),this.calcLinePoints())}_getNonTransformedDimensions(){const is=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(is.y-=this.strokeWidth),this.height===0&&(is.x-=this.strokeWidth)),is}calcLinePoints(){const{x1:is,x2:cs,y1:lo,y2:co,width:hs,height:uo}=this,xa=is<=cs?-1:1,ba=lo<=co?-1:1;return{x1:xa*hs/2,x2:xa*-hs/2,y1:ba*uo/2,y2:ba*-uo/2}}_toSVG(){const{x1:is,x2:cs,y1:lo,y2:co}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(is,'" y1="').concat(lo,'" x2="').concat(cs,'" y2="').concat(co,`" />
`)]}static async fromElement(is,cs,lo){const co=Dr(is,this.ATTRIBUTE_NAMES,lo),{x1:hs=0,y1:uo=0,x2:xa=0,y2:ba=0}=co;return new this([hs,uo,xa,ba],i(co,go))}static fromObject(is){let{x1:cs,y1:lo,x2:co,y2:hs}=is,uo=i(is,fo);return this._fromObject(s(s({},uo),{},{points:[cs,lo,co,hs]}),{extraParam:"points"})}}t(mo,"type","Line"),t(mo,"cacheProperties",[...Ms,...po]),t(mo,"ATTRIBUTE_NAMES",Ji.concat(po)),tt.setClass(mo),tt.setSVGClass(mo);class vo extends ji{static getDefaults(){return s(s({},super.getDefaults()),vo.ownDefaults)}constructor(is){super(),Object.assign(this,vo.ownDefaults),this.setOptions(is)}_render(is){const cs=this.width/2,lo=this.height/2;is.beginPath(),is.moveTo(-cs,lo),is.lineTo(0,-lo),is.lineTo(cs,lo),is.closePath(),this._renderPaintInOrder(is)}_toSVG(){const is=this.width/2,cs=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-is," ").concat(cs,",0 ").concat(-cs,",").concat(is," ").concat(cs),'" />']}}t(vo,"type","Triangle"),t(vo,"ownDefaults",{width:100,height:100}),tt.setClass(vo),tt.setSVGClass(vo);const yo=["rx","ry"];class _o extends ji{static getDefaults(){return s(s({},super.getDefaults()),_o.ownDefaults)}constructor(is){super(),Object.assign(this,_o.ownDefaults),this.setOptions(is)}_set(is,cs){switch(super._set(is,cs),is){case"rx":this.rx=cs,this.set("width",2*cs);break;case"ry":this.ry=cs,this.set("height",2*cs)}return this}getRx(){return this.get("rx")*this.get(H)}getRy(){return this.get("ry")*this.get(N)}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...yo,...is])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(is){is.beginPath(),is.save(),is.transform(1,0,0,this.ry/this.rx,0,0),is.arc(0,0,this.rx,0,S,!1),is.restore(),this._renderPaintInOrder(is)}static async fromElement(is,cs,lo){const co=Dr(is,this.ATTRIBUTE_NAMES,lo);return co.left=(co.left||0)-co.rx,co.top=(co.top||0)-co.ry,new this(co)}}function xo(us){if(!us)return[];const is=us.replace(/,/g," ").trim().split(/\s+/),cs=[];for(let lo=0;lo<is.length;lo+=2)cs.push({x:parseFloat(is[lo]),y:parseFloat(is[lo+1])});return cs}t(_o,"type","Ellipse"),t(_o,"cacheProperties",[...Ms,...yo]),t(_o,"ownDefaults",{rx:0,ry:0}),t(_o,"ATTRIBUTE_NAMES",[...Ji,"cx","cy","rx","ry"]),tt.setClass(_o),tt.setSVGClass(_o);const Co=["left","top"],bo={exactBoundingBox:!1};class So extends ji{static getDefaults(){return s(s({},super.getDefaults()),So.ownDefaults)}constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),t(this,"strokeDiff",void 0),Object.assign(this,So.ownDefaults),this.setOptions(cs),this.points=is;const{left:lo,top:co}=cs;this.initialized=!0,this.setBoundingBox(!0),typeof lo=="number"&&this.set(M,lo),typeof co=="number"&&this.set(P,co)}isOpen(){return!0}_projectStrokeOnPoints(is){return Xi(this.points,is,this.isOpen())}_calcDimensions(is){is=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},is||{});const cs=this.exactBoundingBox?this._projectStrokeOnPoints(is).map($a=>$a.projectedPoint):this.points;if(cs.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ot,strokeOffset:new ot,strokeDiff:new ot};const lo=ae(cs),co=Lt(s(s({},is),{},{scaleX:1,scaleY:1})),hs=ae(this.points.map($a=>St($a,co,!0))),uo=new ot(this.scaleX,this.scaleY);let xa=lo.left+lo.width/2,ba=lo.top+lo.height/2;return this.exactBoundingBox&&(xa-=ba*Math.tan(xt(this.skewX)),ba-=xa*Math.tan(xt(this.skewY))),s(s({},lo),{},{pathOffset:new ot(xa,ba),strokeOffset:new ot(hs.left,hs.top).subtract(new ot(lo.left,lo.top)).multiply(uo),strokeDiff:new ot(lo.width,lo.height).subtract(new ot(hs.width,hs.height)).multiply(uo)})}_findCenterFromElement(){const is=ae(this.points);return new ot(is.left+is.width/2,is.top+is.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(is){const{left:cs,top:lo,width:co,height:hs,pathOffset:uo,strokeOffset:xa,strokeDiff:ba}=this._calcDimensions();this.set({width:co,height:hs,pathOffset:uo,strokeOffset:xa,strokeDiff:ba}),is&&this.setPositionByOrigin(new ot(cs+co/2,lo+hs/2),D$1,D$1)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ot(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let uo;if(Object.keys(is).some(xa=>this.strokeUniform||this.constructor.layoutProperties.includes(xa))){var cs,lo;const{width:xa,height:ba}=this._calcDimensions(is);uo=new ot((cs=is.width)!==null&&cs!==void 0?cs:xa,(lo=is.height)!==null&&lo!==void 0?lo:ba)}else{var co,hs;uo=new ot((co=is.width)!==null&&co!==void 0?co:this.width,(hs=is.height)!==null&&hs!==void 0?hs:this.height)}return uo.multiply(new ot(is.scaleX||this.scaleX,is.scaleY||this.scaleY))}return super._getTransformedDimensions(is)}_set(is,cs){const lo=this.initialized&&this[is]!==cs,co=super._set(is,cs);return this.exactBoundingBox&&lo&&((is===H||is===N)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(is))&&this.setDimensions(),co}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject(is)),{},{points:this.points.map(cs=>{let{x:lo,y:co}=cs;return{x:lo,y:co}})})}_toSVG(){const is=[],cs=this.pathOffset.x,lo=this.pathOffset.y,co=o.NUM_FRACTION_DIGITS;for(let hs=0,uo=this.points.length;hs<uo;hs++)is.push(Vt(this.points[hs].x-cs,co),",",Vt(this.points[hs].y-lo,co)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(is.join(""),`" />
`)]}_render(is){const cs=this.points.length,lo=this.pathOffset.x,co=this.pathOffset.y;if(cs&&!isNaN(this.points[cs-1].y)){is.beginPath(),is.moveTo(this.points[0].x-lo,this.points[0].y-co);for(let hs=0;hs<cs;hs++){const uo=this.points[hs];is.lineTo(uo.x-lo,uo.y-co)}!this.isOpen()&&is.closePath(),this._renderPaintInOrder(is)}}complexity(){return this.points.length}static async fromElement(is,cs,lo){return new this(xo(is.getAttribute("points")),s(s({},i(Dr(is,this.ATTRIBUTE_NAMES,lo),Co)),cs))}static fromObject(is){return this._fromObject(is,{extraParam:"points"})}}t(So,"ownDefaults",bo),t(So,"type","Polyline"),t(So,"layoutProperties",[U,q,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),t(So,"cacheProperties",[...Ms,"points"]),t(So,"ATTRIBUTE_NAMES",[...Ji]),tt.setClass(So),tt.setSVGClass(So);class wo extends So{isOpen(){return!1}}t(wo,"ownDefaults",bo),t(wo,"type","Polygon"),tt.setClass(wo),tt.setSVGClass(wo);class To extends ji{isEmptyStyles(is){if(!this.styles||is!==void 0&&!this.styles[is])return!0;const cs=is===void 0?this.styles:{line:this.styles[is]};for(const lo in cs)for(const co in cs[lo])for(const hs in cs[lo][co])return!1;return!0}styleHas(is,cs){if(!this.styles||cs!==void 0&&!this.styles[cs])return!1;const lo=cs===void 0?this.styles:{0:this.styles[cs]};for(const co in lo)for(const hs in lo[co])if(lo[co][hs][is]!==void 0)return!0;return!1}cleanStyle(is){if(!this.styles)return!1;const cs=this.styles;let lo,co,hs=0,uo=!0,xa=0;for(const ba in cs){lo=0;for(const $a in cs[ba]){const wl=cs[ba][$a]||{};hs++,wl[is]!==void 0?(co?wl[is]!==co&&(uo=!1):co=wl[is],wl[is]===this[is]&&delete wl[is]):uo=!1,Object.keys(wl).length!==0?lo++:delete cs[ba][$a]}lo===0&&delete cs[ba]}for(let ba=0;ba<this._textLines.length;ba++)xa+=this._textLines[ba].length;uo&&hs===xa&&(this[is]=co,this.removeStyle(is))}removeStyle(is){if(!this.styles)return;const cs=this.styles;let lo,co,hs;for(co in cs){for(hs in lo=cs[co],lo)delete lo[hs][is],Object.keys(lo[hs]).length===0&&delete lo[hs];Object.keys(lo).length===0&&delete cs[co]}}_extendStyles(is,cs){const{lineIndex:lo,charIndex:co}=this.get2DCursorLocation(is);this._getLineStyle(lo)||this._setLineStyle(lo);const hs=Wt(s(s({},this._getStyleDeclaration(lo,co)),cs),uo=>uo!==void 0);this._setStyleDeclaration(lo,co,hs)}getSelectionStyles(is,cs,lo){const co=[];for(let hs=is;hs<(cs||is);hs++)co.push(this.getStyleAtPosition(hs,lo));return co}getStyleAtPosition(is,cs){const{lineIndex:lo,charIndex:co}=this.get2DCursorLocation(is);return cs?this.getCompleteStyleDeclaration(lo,co):this._getStyleDeclaration(lo,co)}setSelectionStyles(is,cs,lo){for(let co=cs;co<(lo||cs);co++)this._extendStyles(co,is);this._forceClearCache=!0}_getStyleDeclaration(is,cs){var lo;const co=this.styles&&this.styles[is];return co&&(lo=co[cs])!==null&&lo!==void 0?lo:{}}getCompleteStyleDeclaration(is,cs){return s(s({},Yt(this,this.constructor._styleProperties)),this._getStyleDeclaration(is,cs))}_setStyleDeclaration(is,cs,lo){this.styles[is][cs]=lo}_deleteStyleDeclaration(is,cs){delete this.styles[is][cs]}_getLineStyle(is){return!!this.styles[is]}_setLineStyle(is){this.styles[is]={}}_deleteLineStyle(is){delete this.styles[is]}}t(To,"_styleProperties",Ne);const Oo=/  +/g,ko=/"/g;function Do(us,is,cs,lo,co){return"		".concat(function(hs,uo){let{left:xa,top:ba,width:$a,height:wl}=uo,Sl=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.NUM_FRACTION_DIGITS;const Cl=Be(K,hs,!1),[_l,Il,Fl,Ml]=[xa,ba,$a,wl].map(Tl=>Vt(Tl,Sl));return"<rect ".concat(Cl,' x="').concat(_l,'" y="').concat(Il,'" width="').concat(Fl,'" height="').concat(Ml,'"></rect>')}(us,{left:is,top:cs,width:lo,height:co}),`
`)}const Mo=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Po;class Eo extends To{static getDefaults(){return s(s({},super.getDefaults()),Eo.ownDefaults)}constructor(is,cs){super(),t(this,"__charBounds",[]),Object.assign(this,Eo.ownDefaults),this.setOptions(cs),this.styles||(this.styles={}),this.text=is,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const is=this.path;is&&(is.segmentsInfo=fn(is.path))}_splitText(){const is=this._splitTextIntoLines(this.text);return this.textLines=is.lines,this._textLines=is.graphemeLines,this._unwrappedTextLines=is._unwrappedLines,this._text=is.graphemeText,is}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(qe)&&this.enlargeSpaces()}enlargeSpaces(){let is,cs,lo,co,hs,uo,xa;for(let ba=0,$a=this._textLines.length;ba<$a;ba++)if((this.textAlign===qe||ba!==$a-1&&!this.isEndOfWrapping(ba))&&(co=0,hs=this._textLines[ba],cs=this.getLineWidth(ba),cs<this.width&&(xa=this.textLines[ba].match(this._reSpacesAndTabs)))){lo=xa.length,is=(this.width-cs)/lo;for(let wl=0;wl<=hs.length;wl++)uo=this.__charBounds[ba][wl],this._reSpaceAndTab.test(hs[wl])?(uo.width+=is,uo.kernedWidth+=is,uo.left+=co,co+=is):uo.left+=co}}isEndOfWrapping(is){return is===this._textLines.length-1}missingNewlineOffset(is){return 1}get2DCursorLocation(is,cs){const lo=cs?this._unwrappedTextLines:this._textLines;let co;for(co=0;co<lo.length;co++){if(is<=lo[co].length)return{lineIndex:co,charIndex:is};is-=lo[co].length+this.missingNewlineOffset(co,cs)}return{lineIndex:co-1,charIndex:lo[co-1].length<is?lo[co-1].length:is}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const is=super._getCacheCanvasDimensions(),cs=this.fontSize;return is.width+=cs*is.zoomX,is.height+=cs*is.zoomY,is}_render(is){const cs=this.path;cs&&!cs.isNotVisible()&&cs._render(is),this._setTextStyles(is),this._renderTextLinesBackground(is),this._renderTextDecoration(is,"underline"),this._renderText(is),this._renderTextDecoration(is,"overline"),this._renderTextDecoration(is,"linethrough")}_renderText(is){this.paintFirst===J?(this._renderTextStroke(is),this._renderTextFill(is)):(this._renderTextFill(is),this._renderTextStroke(is))}_setTextStyles(is,cs,lo){if(is.textBaseline="alphabetic",this.path)switch(this.pathAlign){case D$1:is.textBaseline="middle";break;case"ascender":is.textBaseline=P;break;case"descender":is.textBaseline=E}is.font=this._getFontDeclaration(cs,lo)}calcTextWidth(){let is=this.getLineWidth(0);for(let cs=1,lo=this._textLines.length;cs<lo;cs++){const co=this.getLineWidth(cs);co>is&&(is=co)}return is}_renderTextLine(is,cs,lo,co,hs,uo){this._renderChars(is,cs,lo,co,hs,uo)}_renderTextLinesBackground(is){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const cs=is.fillStyle,lo=this._getLeftOffset();let co=this._getTopOffset();for(let hs=0,uo=this._textLines.length;hs<uo;hs++){const xa=this.getHeightOfLine(hs);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",hs)){co+=xa;continue}const ba=this._textLines[hs].length,$a=this._getLineLeftOffset(hs);let wl,Sl,Cl=0,_l=0,Il=this.getValueOfPropertyAt(hs,0,"textBackgroundColor");for(let Fl=0;Fl<ba;Fl++){const Ml=this.__charBounds[hs][Fl];Sl=this.getValueOfPropertyAt(hs,Fl,"textBackgroundColor"),this.path?(is.save(),is.translate(Ml.renderLeft,Ml.renderTop),is.rotate(Ml.angle),is.fillStyle=Sl,Sl&&is.fillRect(-Ml.width/2,-xa/this.lineHeight*(1-this._fontSizeFraction),Ml.width,xa/this.lineHeight),is.restore()):Sl!==Il?(wl=lo+$a+_l,this.direction==="rtl"&&(wl=this.width-wl-Cl),is.fillStyle=Il,Il&&is.fillRect(wl,co,Cl,xa/this.lineHeight),_l=Ml.left,Cl=Ml.width,Il=Sl):Cl+=Ml.kernedWidth}Sl&&!this.path&&(wl=lo+$a+_l,this.direction==="rtl"&&(wl=this.width-wl-Cl),is.fillStyle=Sl,is.fillRect(wl,co,Cl,xa/this.lineHeight)),co+=xa}is.fillStyle=cs,this._removeShadow(is)}_measureChar(is,cs,lo,co){const hs=_.getFontCache(cs),uo=this._getFontDeclaration(cs),xa=lo+is,ba=lo&&uo===this._getFontDeclaration(co),$a=cs.fontSize/this.CACHE_FONT_SIZE;let wl,Sl,Cl,_l;if(lo&&hs[lo]!==void 0&&(Cl=hs[lo]),hs[is]!==void 0&&(_l=wl=hs[is]),ba&&hs[xa]!==void 0&&(Sl=hs[xa],_l=Sl-Cl),wl===void 0||Cl===void 0||Sl===void 0){const Il=function(){return Po||(Po=vt({width:0,height:0}).getContext("2d")),Po}();this._setTextStyles(Il,cs,!0),wl===void 0&&(_l=wl=Il.measureText(is).width,hs[is]=wl),Cl===void 0&&ba&&lo&&(Cl=Il.measureText(lo).width,hs[lo]=Cl),ba&&Sl===void 0&&(Sl=Il.measureText(xa).width,hs[xa]=Sl,_l=Sl-Cl)}return{width:wl*$a,kernedWidth:_l*$a}}getHeightOfChar(is,cs){return this.getValueOfPropertyAt(is,cs,"fontSize")}measureLine(is){const cs=this._measureLine(is);return this.charSpacing!==0&&(cs.width-=this._getWidthOfCharSpacing()),cs.width<0&&(cs.width=0),cs}_measureLine(is){let cs,lo,co=0;const hs=this.pathSide===A,uo=this.path,xa=this._textLines[is],ba=xa.length,$a=new Array(ba);this.__charBounds[is]=$a;for(let wl=0;wl<ba;wl++){const Sl=xa[wl];lo=this._getGraphemeBox(Sl,is,wl,cs),$a[wl]=lo,co+=lo.kernedWidth,cs=Sl}if($a[ba]={left:lo?lo.left+lo.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},uo&&uo.segmentsInfo){let wl=0;const Sl=uo.segmentsInfo[uo.segmentsInfo.length-1].length;switch(this.textAlign){case M:wl=hs?Sl-co:0;break;case D$1:wl=(Sl-co)/2;break;case A:wl=hs?0:Sl-co}wl+=this.pathStartOffset*(hs?-1:1);for(let Cl=hs?ba-1:0;hs?Cl>=0:Cl<ba;hs?Cl--:Cl++)lo=$a[Cl],wl>Sl?wl%=Sl:wl<0&&(wl+=Sl),this._setGraphemeOnPath(wl,lo),wl+=lo.kernedWidth}return{width:co,numOfSpaces:0}}_setGraphemeOnPath(is,cs){const lo=is+cs.kernedWidth/2,co=this.path,hs=pn(co.path,lo,co.segmentsInfo);cs.renderLeft=hs.x-co.pathOffset.x,cs.renderTop=hs.y-co.pathOffset.y,cs.angle=hs.angle+(this.pathSide===A?Math.PI:0)}_getGraphemeBox(is,cs,lo,co,hs){const uo=this.getCompleteStyleDeclaration(cs,lo),xa=co?this.getCompleteStyleDeclaration(cs,lo-1):{},ba=this._measureChar(is,uo,co,xa);let $a,wl=ba.kernedWidth,Sl=ba.width;this.charSpacing!==0&&($a=this._getWidthOfCharSpacing(),Sl+=$a,wl+=$a);const Cl={width:Sl,left:0,height:uo.fontSize,kernedWidth:wl,deltaY:uo.deltaY};if(lo>0&&!hs){const _l=this.__charBounds[cs][lo-1];Cl.left=_l.left+_l.width+ba.kernedWidth-ba.width}return Cl}getHeightOfLine(is){if(this.__lineHeights[is])return this.__lineHeights[is];let cs=this.getHeightOfChar(is,0);for(let lo=1,co=this._textLines[is].length;lo<co;lo++)cs=Math.max(this.getHeightOfChar(is,lo),cs);return this.__lineHeights[is]=cs*this.lineHeight*this._fontSizeMult}calcTextHeight(){let is,cs=0;for(let lo=0,co=this._textLines.length;lo<co;lo++)is=this.getHeightOfLine(lo),cs+=lo===co-1?is/this.lineHeight:is;return cs}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(is,cs){is.save();let lo=0;const co=this._getLeftOffset(),hs=this._getTopOffset();for(let uo=0,xa=this._textLines.length;uo<xa;uo++){const ba=this.getHeightOfLine(uo),$a=ba/this.lineHeight,wl=this._getLineLeftOffset(uo);this._renderTextLine(cs,is,this._textLines[uo],co+wl,hs+lo+$a,uo),lo+=ba}is.restore()}_renderTextFill(is){(this.fill||this.styleHas(K))&&this._renderTextCommon(is,"fillText")}_renderTextStroke(is){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(is),is.save(),this._setLineDash(is,this.strokeDashArray),is.beginPath(),this._renderTextCommon(is,"strokeText"),is.closePath(),is.restore())}_renderChars(is,cs,lo,co,hs,uo){const xa=this.getHeightOfLine(uo),ba=this.textAlign.includes(qe),$a=this.path,wl=!ba&&this.charSpacing===0&&this.isEmptyStyles(uo)&&!$a,Sl=this.direction==="ltr",Cl=this.direction==="ltr"?1:-1,_l=cs.direction;let Il,Fl,Ml,Tl,Dl,Bl="",Ll=0;if(cs.save(),_l!==this.direction&&(cs.canvas.setAttribute("dir",Sl?"ltr":"rtl"),cs.direction=Sl?"ltr":"rtl",cs.textAlign=Sl?M:A),hs-=xa*this._fontSizeFraction/this.lineHeight,wl)return this._renderChar(is,cs,uo,0,lo.join(""),co,hs),void cs.restore();for(let Nl=0,zl=lo.length-1;Nl<=zl;Nl++)Tl=Nl===zl||this.charSpacing||$a,Bl+=lo[Nl],Ml=this.__charBounds[uo][Nl],Ll===0?(co+=Cl*(Ml.kernedWidth-Ml.width),Ll+=Ml.width):Ll+=Ml.kernedWidth,ba&&!Tl&&this._reSpaceAndTab.test(lo[Nl])&&(Tl=!0),Tl||(Il=Il||this.getCompleteStyleDeclaration(uo,Nl),Fl=this.getCompleteStyleDeclaration(uo,Nl+1),Tl=Ui(Il,Fl,!1)),Tl&&($a?(cs.save(),cs.translate(Ml.renderLeft,Ml.renderTop),cs.rotate(Ml.angle),this._renderChar(is,cs,uo,Nl,Bl,-Ll/2,0),cs.restore()):(Dl=co,this._renderChar(is,cs,uo,Nl,Bl,Dl,hs)),Bl="",Il=Fl,co+=Cl*Ll,Ll=0);cs.restore()}_applyPatternGradientTransformText(is){const cs=this.width+this.strokeWidth,lo=this.height+this.strokeWidth,co=vt({width:cs,height:lo}),hs=co.getContext("2d");return co.width=cs,co.height=lo,hs.beginPath(),hs.moveTo(0,0),hs.lineTo(cs,0),hs.lineTo(cs,lo),hs.lineTo(0,lo),hs.closePath(),hs.translate(cs/2,lo/2),hs.fillStyle=is.toLive(hs),this._applyPatternGradientTransform(hs,is),hs.fill(),hs.createPattern(co,"no-repeat")}handleFiller(is,cs,lo){let co,hs;return Gt(lo)?lo.gradientUnits==="percentage"||lo.gradientTransform||lo.patternTransform?(co=-this.width/2,hs=-this.height/2,is.translate(co,hs),is[cs]=this._applyPatternGradientTransformText(lo),{offsetX:co,offsetY:hs}):(is[cs]=lo.toLive(is),this._applyPatternGradientTransform(is,lo)):(is[cs]=lo,{offsetX:0,offsetY:0})}_setStrokeStyles(is,cs){let{stroke:lo,strokeWidth:co}=cs;return is.lineWidth=co,is.lineCap=this.strokeLineCap,is.lineDashOffset=this.strokeDashOffset,is.lineJoin=this.strokeLineJoin,is.miterLimit=this.strokeMiterLimit,this.handleFiller(is,"strokeStyle",lo)}_setFillStyles(is,cs){let{fill:lo}=cs;return this.handleFiller(is,"fillStyle",lo)}_renderChar(is,cs,lo,co,hs,uo,xa){const ba=this._getStyleDeclaration(lo,co),$a=this.getCompleteStyleDeclaration(lo,co),wl=is==="fillText"&&$a.fill,Sl=is==="strokeText"&&$a.stroke&&$a.strokeWidth;if(Sl||wl){if(cs.save(),cs.font=this._getFontDeclaration($a),ba.textBackgroundColor&&this._removeShadow(cs),ba.deltaY&&(xa+=ba.deltaY),wl){const Cl=this._setFillStyles(cs,$a);cs.fillText(hs,uo-Cl.offsetX,xa-Cl.offsetY)}if(Sl){const Cl=this._setStrokeStyles(cs,$a);cs.strokeText(hs,uo-Cl.offsetX,xa-Cl.offsetY)}cs.restore()}}setSuperscript(is,cs){this._setScript(is,cs,this.superscript)}setSubscript(is,cs){this._setScript(is,cs,this.subscript)}_setScript(is,cs,lo){const co=this.get2DCursorLocation(is,!0),hs=this.getValueOfPropertyAt(co.lineIndex,co.charIndex,"fontSize"),uo=this.getValueOfPropertyAt(co.lineIndex,co.charIndex,"deltaY"),xa={fontSize:hs*lo.size,deltaY:uo+hs*lo.baseline};this.setSelectionStyles(xa,is,cs)}_getLineLeftOffset(is){const cs=this.getLineWidth(is),lo=this.width-cs,co=this.textAlign,hs=this.direction,uo=this.isEndOfWrapping(is);let xa=0;return co===qe||co===Qe&&!uo||co===Je&&!uo||co===Ke&&!uo?0:(co===D$1&&(xa=lo/2),co===A&&(xa=lo),co===Qe&&(xa=lo/2),co===Je&&(xa=lo),hs==="rtl"&&(co===A||co===qe||co===Je?xa=0:co===M||co===Ke?xa=-lo:co!==D$1&&co!==Qe||(xa=-lo/2)),xa)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(is){if(this.__lineWidths[is]!==void 0)return this.__lineWidths[is];const{width:cs}=this.measureLine(is);return this.__lineWidths[is]=cs,cs}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(is,cs,lo){var co;return(co=this._getStyleDeclaration(is,cs)[lo])!==null&&co!==void 0?co:this[lo]}_renderTextDecoration(is,cs){if(!this[cs]&&!this.styleHas(cs))return;let lo=this._getTopOffset();const co=this._getLeftOffset(),hs=this.path,uo=this._getWidthOfCharSpacing(),xa=cs==="linethrough"?.5:cs==="overline"?1:0,ba=this.offsets[cs];for(let $a=0,wl=this._textLines.length;$a<wl;$a++){const Sl=this.getHeightOfLine($a);if(!this[cs]&&!this.styleHas(cs,$a)){lo+=Sl;continue}const Cl=this._textLines[$a],_l=Sl/this.lineHeight,Il=this._getLineLeftOffset($a);let Fl=0,Ml=0,Tl=this.getValueOfPropertyAt($a,0,cs),Dl=this.getValueOfPropertyAt($a,0,K),Bl=this.getValueOfPropertyAt($a,0,We),Ll=Tl,Nl=Dl,zl=Bl;const $l=lo+_l*(1-this._fontSizeFraction);let Vl=this.getHeightOfChar($a,0),Gl=this.getValueOfPropertyAt($a,0,"deltaY");for(let Jl=0,lu=Cl.length;Jl<lu;Jl++){const ju=this.__charBounds[$a][Jl];Ll=this.getValueOfPropertyAt($a,Jl,cs),Nl=this.getValueOfPropertyAt($a,Jl,K),zl=this.getValueOfPropertyAt($a,Jl,We);const zu=this.getHeightOfChar($a,Jl),Wu=this.getValueOfPropertyAt($a,Jl,"deltaY");if(hs&&Ll&&Nl){const qu=this.fontSize*zl/1e3;is.save(),is.fillStyle=Dl,is.translate(ju.renderLeft,ju.renderTop),is.rotate(ju.angle),is.fillRect(-ju.kernedWidth/2,ba*zu+Wu-xa*qu,ju.kernedWidth,qu),is.restore()}else if((Ll!==Tl||Nl!==Dl||zu!==Vl||zl!==Bl||Wu!==Gl)&&Ml>0){const qu=this.fontSize*Bl/1e3;let Mu=co+Il+Fl;this.direction==="rtl"&&(Mu=this.width-Mu-Ml),Tl&&Dl&&Bl&&(is.fillStyle=Dl,is.fillRect(Mu,$l+ba*Vl+Gl-xa*qu,Ml,qu)),Fl=ju.left,Ml=ju.width,Tl=Ll,Bl=zl,Dl=Nl,Vl=zu,Gl=Wu}else Ml+=ju.kernedWidth}let iu=co+Il+Fl;this.direction==="rtl"&&(iu=this.width-iu-Ml),is.fillStyle=Nl;const nu=this.fontSize*zl/1e3;Ll&&Nl&&zl&&is.fillRect(iu,$l+ba*Vl+Gl-xa*nu,Ml-uo,nu),lo+=Sl}this._removeShadow(is)}_getFontDeclaration(){let{fontFamily:is=this.fontFamily,fontStyle:cs=this.fontStyle,fontWeight:lo=this.fontWeight,fontSize:co=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},hs=arguments.length>1?arguments[1]:void 0;const uo=is.includes("'")||is.includes('"')||is.includes(",")||Eo.genericFonts.includes(is.toLowerCase())?is:'"'.concat(is,'"');return[cs,lo,"".concat(hs?this.CACHE_FONT_SIZE:co,"px"),uo].join(" ")}render(is){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(is)))}graphemeSplit(is){return zi(is)}_splitTextIntoLines(is){const cs=is.split(this._reNewline),lo=new Array(cs.length),co=[`
`];let hs=[];for(let uo=0;uo<cs.length;uo++)lo[uo]=this.graphemeSplit(cs[uo]),hs=hs.concat(lo[uo],co);return hs.pop(),{_unwrappedLines:lo,lines:cs,graphemeText:hs,graphemeLines:lo}}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s(s({},super.toObject([...He,...is])),{},{styles:qi(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(is,cs){const{textLayoutProperties:lo}=this.constructor;super.set(is,cs);let co=!1,hs=!1;if(typeof is=="object")for(const uo in is)uo==="path"&&this.setPathInfo(),co=co||lo.includes(uo),hs=hs||uo==="path";else co=lo.includes(is),hs=is==="path";return hs&&this.setPathInfo(),co&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(is,cs,lo){const co=Dr(is,Eo.ATTRIBUTE_NAMES,lo),hs=s(s({},cs),co),{textAnchor:uo=M,textDecoration:xa="",dx:ba=0,dy:$a=0,top:wl=0,left:Sl=0,fontSize:Cl=O,strokeWidth:_l=1}=hs,Il=i(hs,Mo),Fl=new this((is.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),s({left:Sl+ba,top:wl+$a,underline:xa.includes("underline"),overline:xa.includes("overline"),linethrough:xa.includes("line-through"),strokeWidth:0,fontSize:Cl},Il)),Ml=Fl.getScaledHeight()/Fl.height,Tl=((Fl.height+Fl.strokeWidth)*Fl.lineHeight-Fl.height)*Ml,Dl=Fl.getScaledHeight()+Tl;let Bl=0;return uo===D$1&&(Bl=Fl.getScaledWidth()/2),uo===A&&(Bl=Fl.getScaledWidth()),Fl.set({left:Fl.left-Bl,top:Fl.top-(Dl-Fl.fontSize*(.07+Fl._fontSizeFraction))/Fl.lineHeight,strokeWidth:_l}),Fl}static fromObject(is){return this._fromObject(s(s({},is),{},{styles:Ki(is.styles||{},is.text)}),{extraParam:"text"})}}t(Eo,"textLayoutProperties",Ge),t(Eo,"cacheProperties",[...Ms,...He]),t(Eo,"ownDefaults",Ue),t(Eo,"type","Text"),t(Eo,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),t(Eo,"ATTRIBUTE_NAMES",Ji.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Ai(Eo,[class extends Xe{_toSVG(){const us=this._getSVGLeftTopOffsets(),is=this._getSVGTextAndBg(us.textTop,us.textLeft);return this._wrapSVGTextAndBg(is)}toSVG(us){const is=this._createBaseSVGMarkup(this._toSVG(),{reviver:us,noStyle:!0,withShadow:!0}),cs=this.path;return cs?is+cs._createBaseSVGMarkup(cs._toSVG(),{reviver:us,withShadow:!0,additionalTransform:zt(this.calcOwnMatrix())}):is}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(us){let{textBgRects:is,textSpans:cs}=us;const lo=this.getSvgTextDecoration(this);return[is.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(ko,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",lo?'text-decoration="'.concat(lo,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",cs.join(""),`</text>
`]}_getSVGTextAndBg(us,is){const cs=[],lo=[];let co,hs=us;this.backgroundColor&&lo.push(...Do(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let uo=0,xa=this._textLines.length;uo<xa;uo++)co=this._getLineLeftOffset(uo),this.direction==="rtl"&&(co+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",uo))&&this._setSVGTextLineBg(lo,uo,is+co,hs),this._setSVGTextLineText(cs,uo,is+co,hs),hs+=this.getHeightOfLine(uo);return{textSpans:cs,textBgRects:lo}}_createTextCharSpan(us,is,cs,lo,co){const hs=o.NUM_FRACTION_DIGITS,uo=this.getSvgSpanStyles(is,us!==us.trim()||!!us.match(Oo)),xa=uo?'style="'.concat(uo,'"'):"",ba=is.deltaY,$a=ba?' dy="'.concat(Vt(ba,hs),'" '):"",{angle:wl,renderLeft:Sl,renderTop:Cl,width:_l}=co;let Il="";if(Sl!==void 0){const Fl=_l/2;wl&&(Il=' rotate="'.concat(Vt(Ct(wl),hs),'"'));const Ml=Pt({angle:Ct(wl)});Ml[4]=Sl,Ml[5]=Cl;const Tl=new ot(-Fl,0).transform(Ml);cs=Tl.x,lo=Tl.y}return'<tspan x="'.concat(Vt(cs,hs),'" y="').concat(Vt(lo,hs),'" ').concat($a).concat(Il).concat(xa,">").concat(Wi(us),"</tspan>")}_setSVGTextLineText(us,is,cs,lo){const co=this.getHeightOfLine(is),hs=this.textAlign.includes(qe),uo=this._textLines[is];let xa,ba,$a,wl,Sl,Cl="",_l=0;lo+=co*(1-this._fontSizeFraction)/this.lineHeight;for(let Il=0,Fl=uo.length-1;Il<=Fl;Il++)Sl=Il===Fl||this.charSpacing||this.path,Cl+=uo[Il],$a=this.__charBounds[is][Il],_l===0?(cs+=$a.kernedWidth-$a.width,_l+=$a.width):_l+=$a.kernedWidth,hs&&!Sl&&this._reSpaceAndTab.test(uo[Il])&&(Sl=!0),Sl||(xa=xa||this.getCompleteStyleDeclaration(is,Il),ba=this.getCompleteStyleDeclaration(is,Il+1),Sl=Ui(xa,ba,!0)),Sl&&(wl=this._getStyleDeclaration(is,Il),us.push(this._createTextCharSpan(Cl,wl,cs,lo,$a)),Cl="",xa=ba,this.direction==="rtl"?cs-=_l:cs+=_l,_l=0)}_setSVGTextLineBg(us,is,cs,lo){const co=this._textLines[is],hs=this.getHeightOfLine(is)/this.lineHeight;let uo,xa=0,ba=0,$a=this.getValueOfPropertyAt(is,0,"textBackgroundColor");for(let wl=0;wl<co.length;wl++){const{left:Sl,width:Cl,kernedWidth:_l}=this.__charBounds[is][wl];uo=this.getValueOfPropertyAt(is,wl,"textBackgroundColor"),uo!==$a?($a&&us.push(...Do($a,cs+ba,lo,xa,hs)),ba=Sl,xa=Cl,$a=uo):xa+=_l}uo&&us.push(...Do($a,cs+ba,lo,xa,hs))}_getSVGLineTopOffset(us){let is,cs=0;for(is=0;is<us;is++)cs+=this.getHeightOfLine(is);const lo=this.getHeightOfLine(is);return{lineTop:cs,offset:(this._fontSizeMult-this._fontSizeFraction)*lo/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(us){return"".concat(super.getSvgStyles(us)," text-decoration-thickness: ").concat(Vt(this.textDecorationThickness*this.getObjectScaling().y/10,o.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(us,is){const{fontFamily:cs,strokeWidth:lo,stroke:co,fill:hs,fontSize:uo,fontStyle:xa,fontWeight:ba,deltaY:$a,textDecorationThickness:wl,linethrough:Sl,overline:Cl,underline:_l}=us,Il=this.getSvgTextDecoration({underline:_l??this.underline,overline:Cl??this.overline,linethrough:Sl??this.linethrough}),Fl=wl||this.textDecorationThickness;return[co?Be(J,co):"",lo?"stroke-width: ".concat(lo,"; "):"",cs?"font-family: ".concat(cs.includes("'")||cs.includes('"')?cs:"'".concat(cs,"'"),"; "):"",uo?"font-size: ".concat(uo,"px; "):"",xa?"font-style: ".concat(xa,"; "):"",ba?"font-weight: ".concat(ba,"; "):"",Il?"text-decoration: ".concat(Il,"; text-decoration-thickness: ").concat(Vt(Fl*this.getObjectScaling().y/10,o.NUM_FRACTION_DIGITS),"%; "):"",hs?Be(K,hs):"",$a?"baseline-shift: ".concat(-$a,"; "):"",is?"white-space: pre; ":""].join("")}getSvgTextDecoration(us){return["overline","underline","line-through"].filter(is=>us[is.replace("-","")]).join(" ")}}]),tt.setClass(Eo),tt.setSVGClass(Eo);class Ao{constructor(is){t(this,"target",void 0),t(this,"__mouseDownInPlace",!1),t(this,"__dragStartFired",!1),t(this,"__isDraggingOver",!1),t(this,"__dragStartSelection",void 0),t(this,"__dragImageDisposer",void 0),t(this,"_dispose",void 0),this.target=is;const cs=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{cs.forEach(lo=>lo()),this._dispose=void 0}}isPointerOverSelection(is){const cs=this.target,lo=cs.getSelectionStartFromPointer(is);return cs.isEditing&&lo>=cs.selectionStart&&lo<=cs.selectionEnd&&cs.selectionStart<cs.selectionEnd}start(is){return this.__mouseDownInPlace=this.isPointerOverSelection(is)}isActive(){return this.__mouseDownInPlace}end(is){const cs=this.isActive();return cs&&!this.__dragStartFired&&(this.target.setCursorByClick(is),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,cs}getDragStartSelection(){return this.__dragStartSelection}setDragImage(is,cs){var lo;let{selectionStart:co,selectionEnd:hs}=cs;const uo=this.target,xa=uo.canvas,ba=new ot(uo.flipX?-1:1,uo.flipY?-1:1),$a=uo._getCursorBoundaries(co),wl=new ot($a.left+$a.leftOffset,$a.top+$a.topOffset).multiply(ba).transform(uo.calcTransformMatrix()),Sl=xa.getScenePoint(is).subtract(wl),Cl=uo.getCanvasRetinaScaling(),_l=uo.getBoundingRect(),Il=wl.subtract(new ot(_l.left,_l.top)),Fl=xa.viewportTransform,Ml=Il.add(Sl).transform(Fl,!0),Tl=uo.backgroundColor,Dl=Yi(uo.styles);uo.backgroundColor="";const Bl={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};uo.setSelectionStyles(Bl,0,co),uo.setSelectionStyles(Bl,hs,uo.text.length),uo.dirty=!0;const Ll=uo.toCanvasElement({enableRetinaScaling:xa.enableRetinaScaling,viewportTransform:!0});uo.backgroundColor=Tl,uo.styles=Dl,uo.dirty=!0,Sn(Ll,{position:"fixed",left:"".concat(-Ll.width,"px"),border:j,width:"".concat(Ll.width/Cl,"px"),height:"".concat(Ll.height/Cl,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{Ll.remove()},Kt(is.target||this.target.hiddenTextarea).body.appendChild(Ll),(lo=is.dataTransfer)===null||lo===void 0||lo.setDragImage(Ll,Ml.x,Ml.y)}onDragStart(is){this.__dragStartFired=!0;const cs=this.target,lo=this.isActive();if(lo&&is.dataTransfer){const co=this.__dragStartSelection={selectionStart:cs.selectionStart,selectionEnd:cs.selectionEnd},hs=cs._text.slice(co.selectionStart,co.selectionEnd).join(""),uo=s({text:cs.text,value:hs},co);is.dataTransfer.setData("text/plain",hs),is.dataTransfer.setData("application/fabric",JSON.stringify({value:hs,styles:cs.getSelectionStyles(co.selectionStart,co.selectionEnd,!0)})),is.dataTransfer.effectAllowed="copyMove",this.setDragImage(is,uo)}return cs.abortCursorAnimation(),lo}canDrop(is){if(this.target.editable&&!this.target.getActiveControl()&&!is.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const cs=this.target.getSelectionStartFromPointer(is),lo=this.__dragStartSelection;return cs<lo.selectionStart||cs>lo.selectionEnd}return!0}return!1}targetCanDrop(is){return this.target.canDrop(is)}dragEnterHandler(is){let{e:cs}=is;const lo=this.targetCanDrop(cs);!this.__isDraggingOver&&lo&&(this.__isDraggingOver=!0)}dragOverHandler(is){const{e:cs}=is,lo=this.targetCanDrop(cs);!this.__isDraggingOver&&lo?this.__isDraggingOver=!0:this.__isDraggingOver&&!lo&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(cs.preventDefault(),is.canDrop=!0,is.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(is){var cs;const{e:lo}=is,co=lo.defaultPrevented;this.__isDraggingOver=!1,lo.preventDefault();let hs=(cs=lo.dataTransfer)===null||cs===void 0?void 0:cs.getData("text/plain");if(hs&&!co){const uo=this.target,xa=uo.canvas;let ba=uo.getSelectionStartFromPointer(lo);const{styles:$a}=lo.dataTransfer.types.includes("application/fabric")?JSON.parse(lo.dataTransfer.getData("application/fabric")):{},wl=hs[Math.max(0,hs.length-1)],Sl=0;if(this.__dragStartSelection){const Cl=this.__dragStartSelection.selectionStart,_l=this.__dragStartSelection.selectionEnd;ba>Cl&&ba<=_l?ba=Cl:ba>_l&&(ba-=_l-Cl),uo.removeChars(Cl,_l),delete this.__dragStartSelection}uo._reNewline.test(wl)&&(uo._reNewline.test(uo._text[ba])||ba===uo._text.length)&&(hs=hs.trimEnd()),is.didDrop=!0,is.dropTarget=uo,uo.insertChars(hs,$a,ba),xa.setActiveObject(uo),uo.enterEditing(lo),uo.selectionStart=Math.min(ba+Sl,uo._text.length),uo.selectionEnd=Math.min(uo.selectionStart+hs.length,uo._text.length),uo.hiddenTextarea.value=uo.text,uo._updateTextarea(),uo.hiddenTextarea.focus(),uo.fire(z,{index:ba+Sl,action:"drop"}),xa.fire("text:changed",{target:uo}),xa.contextTopDirty=!0,xa.requestRenderAll()}}dragEndHandler(is){let{e:cs}=is;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var lo;const co=this.target,hs=this.target.canvas,{selectionStart:uo,selectionEnd:xa}=this.__dragStartSelection,ba=((lo=cs.dataTransfer)===null||lo===void 0?void 0:lo.dropEffect)||j;ba===j?(co.selectionStart=uo,co.selectionEnd=xa,co._updateTextarea(),co.hiddenTextarea.focus()):(co.clearContextTop(),ba==="move"&&(co.removeChars(uo,xa),co.selectionStart=co.selectionEnd=uo,co.hiddenTextarea&&(co.hiddenTextarea.value=co.text),co._updateTextarea(),co.fire(z,{index:uo,action:"dragend"}),hs.fire("text:changed",{target:co}),hs.requestRenderAll()),co.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const jo=/[ \n\.,;!\?\-]/;class Fo extends Eo{constructor(){super(...arguments),t(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(is){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(is)}_animateCursor(is){let{toValue:cs,duration:lo,delay:co,onComplete:hs}=is;return Us({startValue:this._currentCursorOpacity,endValue:cs,duration:lo,delay:co,onComplete:hs,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:uo=>{this._currentCursorOpacity=uo,this.renderCursorOrSelection()}})}_tick(is){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(is||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var is;(is=this._currentTickCompleteState)===null||is===void 0||is.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(is){this.abortCursorAnimation(),this._tick(is?0:this.cursorDelay)}abortCursorAnimation(){let is=!1;[this._currentTickState,this._currentTickCompleteState].forEach(cs=>{cs&&!cs.isDone()&&(is=!0,cs.abort())}),this._currentCursorOpacity=1,is&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(is=>!is||is.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(is){let cs=0,lo=is-1;if(this._reSpace.test(this._text[lo]))for(;this._reSpace.test(this._text[lo]);)cs++,lo--;for(;/\S/.test(this._text[lo])&&lo>-1;)cs++,lo--;return is-cs}findWordBoundaryRight(is){let cs=0,lo=is;if(this._reSpace.test(this._text[lo]))for(;this._reSpace.test(this._text[lo]);)cs++,lo++;for(;/\S/.test(this._text[lo])&&lo<this._text.length;)cs++,lo++;return is+cs}findLineBoundaryLeft(is){let cs=0,lo=is-1;for(;!/\n/.test(this._text[lo])&&lo>-1;)cs++,lo--;return is-cs}findLineBoundaryRight(is){let cs=0,lo=is;for(;!/\n/.test(this._text[lo])&&lo<this._text.length;)cs++,lo++;return is+cs}searchWordBoundary(is,cs){const lo=this._text;let co=is>0&&this._reSpace.test(lo[is])&&(cs===-1||!F.test(lo[is-1]))?is-1:is,hs=lo[co];for(;co>0&&co<lo.length&&!jo.test(hs);)co+=cs,hs=lo[co];return cs===-1&&jo.test(hs)&&co++,co}selectWord(is){var cs;is=(cs=is)!==null&&cs!==void 0?cs:this.selectionStart;const lo=this.searchWordBoundary(is,-1),co=Math.max(lo,this.searchWordBoundary(is,1));this.selectionStart=lo,this.selectionEnd=co,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(is){var cs;is=(cs=is)!==null&&cs!==void 0?cs:this.selectionStart;const lo=this.findLineBoundaryLeft(is),co=this.findLineBoundaryRight(is);this.selectionStart=lo,this.selectionEnd=co,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(is){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",is?{e:is}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:is}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(is){if(this.getActiveControl())return;const cs=this.hiddenTextarea;Kt(cs).activeElement!==cs&&cs.focus();const lo=this.getSelectionStartFromPointer(is),co=this.selectionStart,hs=this.selectionEnd;(lo===this.__selectionStartOnMouseDown&&co!==hs||co!==lo&&hs!==lo)&&(lo>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=lo):(this.selectionStart=lo,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===co&&this.selectionEnd===hs||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(is,cs,lo){const co=lo.slice(0,is),hs=this.graphemeSplit(co).length;if(is===cs)return{selectionStart:hs,selectionEnd:hs};const uo=lo.slice(is,cs);return{selectionStart:hs,selectionEnd:hs+this.graphemeSplit(uo).length}}fromGraphemeToStringSelection(is,cs,lo){const co=lo.slice(0,is).join("").length;return is===cs?{selectionStart:co,selectionEnd:co}:{selectionStart:co,selectionEnd:co+lo.slice(is,cs).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const is=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=is.selectionStart,this.hiddenTextarea.selectionEnd=is.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const is=this.hiddenTextarea;this.text=is.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const cs=this.fromStringToGraphemeSelection(is.selectionStart,is.selectionEnd,is.value);this.selectionEnd=this.selectionStart=cs.selectionEnd,this.inCompositionMode||(this.selectionStart=cs.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const is=this._calcTextareaPosition();this.hiddenTextarea.style.left=is.left,this.hiddenTextarea.style.top=is.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const is=this.inCompositionMode?this.compositionStart:this.selectionStart,cs=this._getCursorBoundaries(is),lo=this.get2DCursorLocation(is),co=lo.lineIndex,hs=lo.charIndex,uo=this.getValueOfPropertyAt(co,hs,"fontSize")*this.lineHeight,xa=cs.leftOffset,ba=this.getCanvasRetinaScaling(),$a=this.canvas.upperCanvasEl,wl=$a.width/ba,Sl=$a.height/ba,Cl=wl-uo,_l=Sl-uo,Il=new ot(cs.left+xa,cs.top+cs.topOffset+uo).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ot($a.clientWidth/wl,$a.clientHeight/Sl));return Il.x<0&&(Il.x=0),Il.x>Cl&&(Il.x=Cl),Il.y<0&&(Il.y=0),Il.y>_l&&(Il.y=_l),Il.x+=this.canvas._offset.left,Il.y+=this.canvas._offset.top,{left:"".concat(Il.x,"px"),top:"".concat(Il.y,"px"),fontSize:"".concat(uo,"px"),charHeight:uo}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const is=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,is&&(is.blur&&is.blur(),is.parentNode&&is.parentNode.removeChild(is)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const is=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),is&&this.fire(Q),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),is&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const is in this.styles)this._textLines[is]||delete this.styles[is]}removeStyleFromTo(is,cs){const{lineIndex:lo,charIndex:co}=this.get2DCursorLocation(is,!0),{lineIndex:hs,charIndex:uo}=this.get2DCursorLocation(cs,!0);if(lo!==hs){if(this.styles[lo])for(let xa=co;xa<this._unwrappedTextLines[lo].length;xa++)delete this.styles[lo][xa];if(this.styles[hs])for(let xa=uo;xa<this._unwrappedTextLines[hs].length;xa++){const ba=this.styles[hs][xa];ba&&(this.styles[lo]||(this.styles[lo]={}),this.styles[lo][co+xa-uo]=ba)}for(let xa=lo+1;xa<=hs;xa++)delete this.styles[xa];this.shiftLineStyles(hs,lo-hs)}else if(this.styles[lo]){const xa=this.styles[lo],ba=uo-co;for(let $a=co;$a<uo;$a++)delete xa[$a];for(const $a in this.styles[lo]){const wl=parseInt($a,10);wl>=uo&&(xa[wl-ba]=xa[$a],delete xa[$a])}}}shiftLineStyles(is,cs){const lo=Object.assign({},this.styles);for(const co in this.styles){const hs=parseInt(co,10);hs>is&&(this.styles[hs+cs]=lo[hs],lo[hs-cs]||delete this.styles[hs])}}insertNewlineStyleObject(is,cs,lo,co){const hs={},uo=this._unwrappedTextLines[is].length,xa=uo===cs;let ba=!1;lo||(lo=1),this.shiftLineStyles(is,lo);const $a=this.styles[is]?this.styles[is][cs===0?cs:cs-1]:void 0;for(const Sl in this.styles[is]){const Cl=parseInt(Sl,10);Cl>=cs&&(ba=!0,hs[Cl-cs]=this.styles[is][Sl],xa&&cs===0||delete this.styles[is][Sl])}let wl=!1;for(ba&&!xa&&(this.styles[is+lo]=hs,wl=!0),(wl||uo>cs)&&lo--;lo>0;)co&&co[lo-1]?this.styles[is+lo]={0:s({},co[lo-1])}:$a?this.styles[is+lo]={0:s({},$a)}:delete this.styles[is+lo],lo--;this._forceClearCache=!0}insertCharStyleObject(is,cs,lo,co){this.styles||(this.styles={});const hs=this.styles[is],uo=hs?s({},hs):{};lo||(lo=1);for(const ba in uo){const $a=parseInt(ba,10);$a>=cs&&(hs[$a+lo]=uo[$a],uo[$a-lo]||delete hs[$a])}if(this._forceClearCache=!0,co){for(;lo--;)Object.keys(co[lo]).length&&(this.styles[is]||(this.styles[is]={}),this.styles[is][cs+lo]=s({},co[lo]));return}if(!hs)return;const xa=hs[cs?cs-1:1];for(;xa&&lo--;)this.styles[is][cs+lo]=s({},xa)}insertNewStyleBlock(is,cs,lo){const co=this.get2DCursorLocation(cs,!0),hs=[0];let uo,xa=0;for(let ba=0;ba<is.length;ba++)is[ba]===`
`?(xa++,hs[xa]=0):hs[xa]++;for(hs[0]>0&&(this.insertCharStyleObject(co.lineIndex,co.charIndex,hs[0],lo),lo=lo&&lo.slice(hs[0]+1)),xa&&this.insertNewlineStyleObject(co.lineIndex,co.charIndex+hs[0],xa),uo=1;uo<xa;uo++)hs[uo]>0?this.insertCharStyleObject(co.lineIndex+uo,0,hs[uo],lo):lo&&this.styles[co.lineIndex+uo]&&lo[0]&&(this.styles[co.lineIndex+uo][0]=lo[0]),lo=lo&&lo.slice(hs[uo]+1);hs[uo]>0&&this.insertCharStyleObject(co.lineIndex+uo,0,hs[uo],lo)}removeChars(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is+1;this.removeStyleFromTo(is,cs),this._text.splice(is,cs-is),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(is,cs,lo){let co=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lo;co>lo&&this.removeStyleFromTo(lo,co);const hs=this.graphemeSplit(is);this.insertNewStyleBlock(hs,lo,cs),this._text=[...this._text.slice(0,lo),...hs,...this._text.slice(co)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(is,cs,lo){lo<=is?(cs===is?this._selectionDirection=M:this._selectionDirection===A&&(this._selectionDirection=M,this.selectionEnd=is),this.selectionStart=lo):lo>is&&lo<cs?this._selectionDirection===A?this.selectionEnd=lo:this.selectionStart=lo:(cs===is?this._selectionDirection=A:this._selectionDirection===M&&(this._selectionDirection=A,this.selectionStart=cs),this.selectionEnd=lo)}}class Lo extends Fo{initHiddenTextarea(){const is=this.canvas&&Kt(this.canvas.getElement())||m(),cs=is.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(uo=>{let[xa,ba]=uo;return cs.setAttribute(xa,ba)});const{top:lo,left:co,fontSize:hs}=this._calcTextareaPosition();cs.style.cssText="position: absolute; top: ".concat(lo,"; left: ").concat(co,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(hs,";"),(this.hiddenTextareaContainer||is.body).appendChild(cs),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(uo=>{let[xa,ba]=uo;return cs.addEventListener(xa,this[ba].bind(this))}),this.hiddenTextarea=cs}blur(){this.abortCursorAnimation()}onKeyDown(is){if(!this.isEditing)return;const cs=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(is.keyCode in cs)this[cs[is.keyCode]](is);else{if(!(is.keyCode in this.ctrlKeysMapDown)||!is.ctrlKey&&!is.metaKey)return;this[this.ctrlKeysMapDown[is.keyCode]](is)}is.stopImmediatePropagation(),is.preventDefault(),is.keyCode>=33&&is.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(is){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:is.keyCode in this.ctrlKeysMapUp&&(is.ctrlKey||is.metaKey)&&(this[this.ctrlKeysMapUp[is.keyCode]](is),is.stopImmediatePropagation(),is.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(is){const cs=this.fromPaste,{value:lo,selectionStart:co,selectionEnd:hs}=this.hiddenTextarea;if(this.fromPaste=!1,is&&is.stopPropagation(),!this.isEditing)return;const uo=()=>{this.updateFromTextArea(),this.fire(z),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void uo();const xa=this._splitTextIntoLines(lo).graphemeText,ba=this._text.length,$a=xa.length,wl=this.selectionStart,Sl=this.selectionEnd,Cl=wl!==Sl;let _l,Il,Fl,Ml,Tl=$a-ba;const Dl=this.fromStringToGraphemeSelection(co,hs,lo),Bl=wl>Dl.selectionStart;Cl?(Il=this._text.slice(wl,Sl),Tl+=Sl-wl):$a<ba&&(Il=Bl?this._text.slice(Sl+Tl,Sl):this._text.slice(wl,wl-Tl));const Ll=xa.slice(Dl.selectionEnd-Tl,Dl.selectionEnd);if(Il&&Il.length&&(Ll.length&&(_l=this.getSelectionStyles(wl,wl+1,!1),_l=Ll.map(()=>_l[0])),Cl?(Fl=wl,Ml=Sl):Bl?(Fl=Sl-Il.length,Ml=Sl):(Fl=Sl,Ml=Sl+Il.length),this.removeStyleFromTo(Fl,Ml)),Ll.length){const{copyPasteData:Nl}=p();cs&&Ll.join("")===Nl.copiedText&&!o.disableStyleCopyPaste&&(_l=Nl.copiedTextStyle),this.insertNewStyleBlock(Ll,wl,_l)}uo()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(is){let{target:cs}=is;const{selectionStart:lo,selectionEnd:co}=cs;this.compositionStart=lo,this.compositionEnd=co,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:is}=p();is.copiedText=this.getSelectedText(),o.disableStyleCopyPaste?is.copiedTextStyle=void 0:is.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(is,cs){let lo,co=this._getLineLeftOffset(is);return cs>0&&(lo=this.__charBounds[is][cs-1],co+=lo.left+lo.width),co}getDownCursorOffset(is,cs){const lo=this._getSelectionForOffset(is,cs),co=this.get2DCursorLocation(lo),hs=co.lineIndex;if(hs===this._textLines.length-1||is.metaKey||is.keyCode===34)return this._text.length-lo;const uo=co.charIndex,xa=this._getWidthBeforeCursor(hs,uo),ba=this._getIndexOnLine(hs+1,xa);return this._textLines[hs].slice(uo).length+ba+1+this.missingNewlineOffset(hs)}_getSelectionForOffset(is,cs){return is.shiftKey&&this.selectionStart!==this.selectionEnd&&cs?this.selectionEnd:this.selectionStart}getUpCursorOffset(is,cs){const lo=this._getSelectionForOffset(is,cs),co=this.get2DCursorLocation(lo),hs=co.lineIndex;if(hs===0||is.metaKey||is.keyCode===33)return-lo;const uo=co.charIndex,xa=this._getWidthBeforeCursor(hs,uo),ba=this._getIndexOnLine(hs-1,xa),$a=this._textLines[hs].slice(0,uo),wl=this.missingNewlineOffset(hs-1);return-this._textLines[hs-1].length+ba-$a.length+(1-wl)}_getIndexOnLine(is,cs){const lo=this._textLines[is];let co,hs,uo=this._getLineLeftOffset(is),xa=0;for(let ba=0,$a=lo.length;ba<$a;ba++)if(co=this.__charBounds[is][ba].width,uo+=co,uo>cs){hs=!0;const wl=uo-co,Sl=uo,Cl=Math.abs(wl-cs);xa=Math.abs(Sl-cs)<Cl?ba:ba-1;break}return hs||(xa=lo.length-1),xa}moveCursorDown(is){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",is)}moveCursorUp(is){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",is)}_moveCursorUpOrDown(is,cs){const lo=this["get".concat(is,"CursorOffset")](cs,this._selectionDirection===A);if(cs.shiftKey?this.moveCursorWithShift(lo):this.moveCursorWithoutShift(lo),lo!==0){const co=this.text.length;this.selectionStart=ks(0,this.selectionStart,co),this.selectionEnd=ks(0,this.selectionEnd,co),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(is){const cs=this._selectionDirection===M?this.selectionStart+is:this.selectionEnd+is;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,cs),is!==0}moveCursorWithoutShift(is){return is<0?(this.selectionStart+=is,this.selectionEnd=this.selectionStart):(this.selectionEnd+=is,this.selectionStart=this.selectionEnd),is!==0}moveCursorLeft(is){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",is)}_move(is,cs,lo){let co;if(is.altKey)co=this["findWordBoundary".concat(lo)](this[cs]);else{if(!is.metaKey&&is.keyCode!==35&&is.keyCode!==36)return this[cs]+=lo==="Left"?-1:1,!0;co=this["findLineBoundary".concat(lo)](this[cs])}return co!==void 0&&this[cs]!==co&&(this[cs]=co,!0)}_moveLeft(is,cs){return this._move(is,cs,"Left")}_moveRight(is,cs){return this._move(is,cs,"Right")}moveCursorLeftWithoutShift(is){let cs=!0;return this._selectionDirection=M,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(cs=this._moveLeft(is,"selectionStart")),this.selectionEnd=this.selectionStart,cs}moveCursorLeftWithShift(is){return this._selectionDirection===A&&this.selectionStart!==this.selectionEnd?this._moveLeft(is,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=M,this._moveLeft(is,"selectionStart")):void 0}moveCursorRight(is){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",is)}_moveCursorLeftOrRight(is,cs){const lo="moveCursor".concat(is).concat(cs.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[lo](cs)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(is){return this._selectionDirection===M&&this.selectionStart!==this.selectionEnd?this._moveRight(is,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=A,this._moveRight(is,"selectionEnd")):void 0}moveCursorRightWithoutShift(is){let cs=!0;return this._selectionDirection=A,this.selectionStart===this.selectionEnd?(cs=this._moveRight(is,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,cs}}const Ro=us=>!!us.button;class Io extends Lo{constructor(){super(...arguments),t(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new Ao(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(is){return this.draggableTextDelegate.onDragStart(is)}canDrop(is){return this.draggableTextDelegate.canDrop(is)}doubleClickHandler(is){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(is.e)),this.renderCursorOrSelection())}tripleClickHandler(is){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(is.e)),this.renderCursorOrSelection())}_mouseDownHandler(is){let{e:cs,alreadySelected:lo}=is;this.canvas&&this.editable&&!Ro(cs)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(cs)||(this.canvas.textEditingManager.register(this),lo&&(this.inCompositionMode=!1,this.setCursorByClick(cs)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=lo||this.isEditing)))}mouseUpHandler(is){let{e:cs,transform:lo}=is;const co=this.draggableTextDelegate.end(cs);if(this.canvas){this.canvas.textEditingManager.unregister(this);const hs=this.canvas._activeObject;if(hs&&hs!==this)return}!this.editable||this.group&&!this.group.interactive||lo&&lo.actionPerformed||Ro(cs)||co||this.selected&&!this.getActiveControl()&&(this.enterEditing(cs),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(is){const cs=this.getSelectionStartFromPointer(is),lo=this.selectionStart,co=this.selectionEnd;is.shiftKey?this.setSelectionStartEndWithShift(lo,co,cs):(this.selectionStart=cs,this.selectionEnd=cs),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(is){const cs=this.canvas.getScenePoint(is).transform(wt(this.calcTransformMatrix())).add(new ot(-this._getLeftOffset(),-this._getTopOffset()));let lo=0,co=0,hs=0;for(let $a=0;$a<this._textLines.length&&lo<=cs.y;$a++)lo+=this.getHeightOfLine($a),hs=$a,$a>0&&(co+=this._textLines[$a-1].length+this.missingNewlineOffset($a-1));let uo=Math.abs(this._getLineLeftOffset(hs));const xa=this._textLines[hs].length,ba=this.__charBounds[hs];for(let $a=0;$a<xa;$a++){const wl=uo+ba[$a].kernedWidth;if(cs.x<=wl){Math.abs(cs.x-wl)<=Math.abs(cs.x-uo)&&co++;break}uo=wl,co++}return Math.min(this.flipX?xa-co:co,this._text.length)}}const Bo="moveCursorUp",Xo="moveCursorDown",Yo="moveCursorLeft",Wo="moveCursorRight",Vo="exitEditing",zo=(us,is)=>{const cs=is.getRetinaScaling();us.setTransform(cs,0,0,cs,0,0);const lo=is.viewportTransform;us.transform(lo[0],lo[1],lo[2],lo[3],lo[4],lo[5])},Go=s({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Vo,27:Vo,33:Bo,34:Xo,35:Wo,36:Yo,37:Yo,38:Bo,39:Wo,40:Xo},keysMapRtl:{9:Vo,27:Vo,33:Bo,34:Xo,35:Yo,36:Wo,37:Wo,38:Bo,39:Yo,40:Xo},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ho extends Io{static getDefaults(){return s(s({},super.getDefaults()),Ho.ownDefaults)}get type(){const is=super.type;return is==="itext"?"i-text":is}constructor(is,cs){super(is,s(s({},Ho.ownDefaults),cs)),this.initBehavior()}_set(is,cs){return this.isEditing&&this._savedProps&&is in this._savedProps?(this._savedProps[is]=cs,this):(is==="canvas"&&(this.canvas instanceof In&&this.canvas.textEditingManager.remove(this),cs instanceof In&&cs.textEditingManager.add(this)),super._set(is,cs))}setSelectionStart(is){is=Math.max(is,0),this._updateAndFire("selectionStart",is)}setSelectionEnd(is){is=Math.min(is,this.text.length),this._updateAndFire("selectionEnd",is)}_updateAndFire(is,cs){this[is]!==cs&&(this._fireSelectionChanged(),this[is]=cs),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,lo=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(is,cs,lo)}setSelectionStyles(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(is,cs,lo)}get2DCursorLocation(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,cs=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(is,cs)}render(is){super.render(is),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(is){const cs=this.isEditing;this.isEditing=!1;const lo=super.toCanvasElement(is);return this.isEditing=cs,lo}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const is=this.clearContextTop(!0);if(!is)return;const cs=this._getCursorBoundaries(),lo=this.findAncestorsWithClipPath(),co=lo.length>0;let hs,uo=is;if(co){hs=vt(is.canvas),uo=hs.getContext("2d"),zo(uo,this.canvas);const xa=this.calcTransformMatrix();uo.transform(xa[0],xa[1],xa[2],xa[3],xa[4],xa[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(uo,cs):this.renderCursor(uo,cs),co)for(const xa of lo){const ba=xa.clipPath,$a=vt(is.canvas),wl=$a.getContext("2d");if(zo(wl,this.canvas),!ba.absolutePositioned){const Sl=xa.calcTransformMatrix();wl.transform(Sl[0],Sl[1],Sl[2],Sl[3],Sl[4],Sl[5])}ba.transform(wl),ba.drawObject(wl,!0,{}),this.drawClipPathOnCache(uo,ba,$a)}co&&(is.setTransform(1,0,0,1,0,0),is.drawImage(hs,0,0)),this.canvas.contextTopDirty=!0,is.restore()}findAncestorsWithClipPath(){const is=[];let cs=this;for(;cs;)cs.clipPath&&is.push(cs),cs=cs.parent;return is}_getCursorBoundaries(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,cs=arguments.length>1?arguments[1]:void 0;const lo=this._getLeftOffset(),co=this._getTopOffset(),hs=this._getCursorBoundariesOffsets(is,cs);return{left:lo,top:co,leftOffset:hs.left,topOffset:hs.top}}_getCursorBoundariesOffsets(is,cs){return cs?this.__getCursorBoundariesOffsets(is):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(is)}__getCursorBoundariesOffsets(is){let cs=0,lo=0;const{charIndex:co,lineIndex:hs}=this.get2DCursorLocation(is);for(let $a=0;$a<hs;$a++)cs+=this.getHeightOfLine($a);const uo=this._getLineLeftOffset(hs),xa=this.__charBounds[hs][co];xa&&(lo=xa.left),this.charSpacing!==0&&co===this._textLines[hs].length&&(lo-=this._getWidthOfCharSpacing());const ba={top:cs,left:uo+(lo>0?lo:0)};return this.direction==="rtl"&&(this.textAlign===A||this.textAlign===qe||this.textAlign===Je?ba.left*=-1:this.textAlign===M||this.textAlign===Ke?ba.left=uo-(lo>0?lo:0):this.textAlign!==D$1&&this.textAlign!==Qe||(ba.left=uo-(lo>0?lo:0))),ba}renderCursorAt(is){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(is,!0),is)}renderCursor(is,cs){this._renderCursor(is,cs,this.selectionStart)}getCursorRenderingData(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(is);const lo=this.get2DCursorLocation(is),co=lo.lineIndex,hs=lo.charIndex>0?lo.charIndex-1:0,uo=this.getValueOfPropertyAt(co,hs,"fontSize"),xa=this.getObjectScaling().x*this.canvas.getZoom(),ba=this.cursorWidth/xa,$a=this.getValueOfPropertyAt(co,hs,"deltaY"),wl=cs.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(co)/this.lineHeight-uo*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(co,hs,"fill"),opacity:this._currentCursorOpacity,left:cs.left+cs.leftOffset-ba/2,top:wl+cs.top+$a,width:ba,height:uo}}_renderCursor(is,cs,lo){const{color:co,opacity:hs,left:uo,top:xa,width:ba,height:$a}=this.getCursorRenderingData(lo,cs);is.fillStyle=co,is.globalAlpha=hs,is.fillRect(uo,xa,ba,$a)}renderSelection(is,cs){const lo={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(is,lo,cs)}renderDragSourceEffect(){const is=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,is,this._getCursorBoundaries(is.selectionStart,!0))}renderDropTargetEffect(is){const cs=this.getSelectionStartFromPointer(is);this.renderCursorAt(cs)}_renderSelection(is,cs,lo){const co=cs.selectionStart,hs=cs.selectionEnd,uo=this.textAlign.includes(qe),xa=this.get2DCursorLocation(co),ba=this.get2DCursorLocation(hs),$a=xa.lineIndex,wl=ba.lineIndex,Sl=xa.charIndex<0?0:xa.charIndex,Cl=ba.charIndex<0?0:ba.charIndex;for(let _l=$a;_l<=wl;_l++){const Il=this._getLineLeftOffset(_l)||0;let Fl=this.getHeightOfLine(_l),Ml=0,Tl=0,Dl=0;if(_l===$a&&(Tl=this.__charBounds[$a][Sl].left),_l>=$a&&_l<wl)Dl=uo&&!this.isEndOfWrapping(_l)?this.width:this.getLineWidth(_l)||5;else if(_l===wl)if(Cl===0)Dl=this.__charBounds[wl][Cl].left;else{const $l=this._getWidthOfCharSpacing();Dl=this.__charBounds[wl][Cl-1].left+this.__charBounds[wl][Cl-1].width-$l}Ml=Fl,(this.lineHeight<1||_l===wl&&this.lineHeight>1)&&(Fl/=this.lineHeight);let Bl=lo.left+Il+Tl,Ll=Fl,Nl=0;const zl=Dl-Tl;this.inCompositionMode?(is.fillStyle=this.compositionColor||"black",Ll=1,Nl=Fl):is.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===A||this.textAlign===qe||this.textAlign===Je?Bl=this.width-Bl-zl:this.textAlign===M||this.textAlign===Ke?Bl=lo.left+Il-Dl:this.textAlign!==D$1&&this.textAlign!==Qe||(Bl=lo.left+Il-Dl)),is.fillRect(Bl,lo.top+lo.topOffset+Nl,zl,Ll),lo.topOffset+=Ml}}getCurrentCharFontSize(){const is=this._getCurrentCharIndex();return this.getValueOfPropertyAt(is.l,is.c,"fontSize")}getCurrentCharColor(){const is=this._getCurrentCharIndex();return this.getValueOfPropertyAt(is.l,is.c,K)}_getCurrentCharIndex(){const is=this.get2DCursorLocation(this.selectionStart,!0),cs=is.charIndex>0?is.charIndex-1:0;return{l:is.lineIndex,c:cs}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}t(Ho,"ownDefaults",Go),t(Ho,"type","IText"),tt.setClass(Ho),tt.setClass(Ho,"i-text");class No extends Ho{static getDefaults(){return s(s({},super.getDefaults()),No.ownDefaults)}constructor(is,cs){super(is,s(s({},No.ownDefaults),cs))}static createControls(){return{controls:Pi()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(qe)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(is){let cs=0,lo=0,co=0;const hs={};for(let uo=0;uo<is.graphemeLines.length;uo++)is.graphemeText[co]===`
`&&uo>0?(lo=0,co++,cs++):!this.splitByGrapheme&&this._reSpaceAndTab.test(is.graphemeText[co])&&uo>0&&(lo++,co++),hs[uo]={line:cs,offset:lo},co+=is.graphemeLines[uo].length,lo+=is.graphemeLines[uo].length;return hs}styleHas(is,cs){if(this._styleMap&&!this.isWrapping){const lo=this._styleMap[cs];lo&&(cs=lo.line)}return super.styleHas(is,cs)}isEmptyStyles(is){if(!this.styles)return!0;let cs,lo=0,co=is+1,hs=!1;const uo=this._styleMap[is],xa=this._styleMap[is+1];uo&&(is=uo.line,lo=uo.offset),xa&&(co=xa.line,hs=co===is,cs=xa.offset);const ba=is===void 0?this.styles:{line:this.styles[is]};for(const $a in ba)for(const wl in ba[$a]){const Sl=parseInt(wl,10);if(Sl>=lo&&(!hs||Sl<cs))for(const Cl in ba[$a][wl])return!1}return!0}_getStyleDeclaration(is,cs){if(this._styleMap&&!this.isWrapping){const lo=this._styleMap[is];if(!lo)return{};is=lo.line,cs=lo.offset+cs}return super._getStyleDeclaration(is,cs)}_setStyleDeclaration(is,cs,lo){const co=this._styleMap[is];super._setStyleDeclaration(co.line,co.offset+cs,lo)}_deleteStyleDeclaration(is,cs){const lo=this._styleMap[is];super._deleteStyleDeclaration(lo.line,lo.offset+cs)}_getLineStyle(is){const cs=this._styleMap[is];return!!this.styles[cs.line]}_setLineStyle(is){const cs=this._styleMap[is];super._setLineStyle(cs.line)}_wrapText(is,cs){this.isWrapping=!0;const lo=this.getGraphemeDataForRender(is),co=[];for(let hs=0;hs<lo.wordsData.length;hs++)co.push(...this._wrapLine(hs,cs,lo));return this.isWrapping=!1,co}getGraphemeDataForRender(is){const cs=this.splitByGrapheme,lo=cs?"":" ";let co=0;return{wordsData:is.map((hs,uo)=>{let xa=0;const ba=cs?this.graphemeSplit(hs):this.wordSplit(hs);return ba.length===0?[{word:[],width:0}]:ba.map($a=>{const wl=cs?[$a]:this.graphemeSplit($a),Sl=this._measureWord(wl,uo,xa);return co=Math.max(Sl,co),xa+=wl.length+lo.length,{word:wl,width:Sl}})}),largestWordWidth:co}}_measureWord(is,cs){let lo,co=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,hs=0;for(let uo=0,xa=is.length;uo<xa;uo++)hs+=this._getGraphemeBox(is[uo],cs,uo+co,lo,!0).kernedWidth,lo=is[uo];return hs}wordSplit(is){return is.split(this._wordJoiners)}_wrapLine(is,cs,lo){let{largestWordWidth:co,wordsData:hs}=lo,uo=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const xa=this._getWidthOfCharSpacing(),ba=this.splitByGrapheme,$a=[],wl=ba?"":" ";let Sl=0,Cl=[],_l=0,Il=0,Fl=!0;cs-=uo;const Ml=Math.max(cs,co,this.dynamicMinWidth),Tl=hs[is];let Dl;for(_l=0,Dl=0;Dl<Tl.length;Dl++){const{word:Bl,width:Ll}=Tl[Dl];_l+=Bl.length,Sl+=Il+Ll-xa,Sl>Ml&&!Fl?($a.push(Cl),Cl=[],Sl=Ll,Fl=!0):Sl+=xa,Fl||ba||Cl.push(wl),Cl=Cl.concat(Bl),Il=ba?0:this._measureWord([wl],is,_l),_l++,Fl=!1}return Dl&&$a.push(Cl),co+uo>this.dynamicMinWidth&&(this.dynamicMinWidth=co-xa+uo),$a}isEndOfWrapping(is){return!this._styleMap[is+1]||this._styleMap[is+1].line!==this._styleMap[is].line}missingNewlineOffset(is,cs){return this.splitByGrapheme&&!cs?this.isEndOfWrapping(is)?1:0:1}_splitTextIntoLines(is){const cs=super._splitTextIntoLines(is),lo=this._wrapText(cs.lines,this.width),co=new Array(lo.length);for(let hs=0;hs<lo.length;hs++)co[hs]=lo[hs].join("");return cs.lines=co,cs.graphemeLines=lo,cs}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const is=new Map;for(const cs in this._styleMap){const lo=parseInt(cs,10);if(this._textLines[lo]){const co=this._styleMap[cs].line;is.set("".concat(co),!0)}}for(const cs in this.styles)is.has(cs)||delete this.styles[cs]}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...is])}}t(No,"type","Textbox"),t(No,"textLayoutProperties",[...Ho.textLayoutProperties,"width"]),t(No,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),tt.setClass(No);class Uo extends Ir{shouldPerformLayout(is){return!!is.target.clipPath&&super.shouldPerformLayout(is)}shouldLayoutClipPath(){return!1}calcLayoutResult(is,cs){const{target:lo}=is,{clipPath:co,group:hs}=lo;if(!co||!this.shouldPerformLayout(is))return;const{width:uo,height:xa}=ae(Rr(lo,co)),ba=new ot(uo,xa);if(co.absolutePositioned)return{center:pe(co.getRelativeCenterPoint(),void 0,hs?hs.calcTransformMatrix():void 0),size:ba};{const $a=co.getRelativeCenterPoint().transform(lo.calcOwnMatrix(),!0);if(this.shouldPerformLayout(is)){const{center:wl=new ot,correction:Sl=new ot}=this.calcBoundingBox(cs,is)||{};return{center:wl.add($a),correction:Sl.subtract($a),size:ba}}return{center:lo.getRelativeCenterPoint().add($a),size:ba}}}}t(Uo,"type","clip-path"),tt.setClass(Uo);class qo extends Ir{getInitialSize(is,cs){let{target:lo}=is,{size:co}=cs;return new ot(lo.width||co.x,lo.height||co.y)}}t(qo,"type","fixed"),tt.setClass(qo);class Ko extends Vr{subscribeTargets(is){const cs=is.target;is.targets.reduce((lo,co)=>(co.parent&&lo.add(co.parent),lo),new Set).forEach(lo=>{lo.layoutManager.subscribeTargets({target:lo,targets:[cs]})})}unsubscribeTargets(is){const cs=is.target,lo=cs.getObjects();is.targets.reduce((co,hs)=>(hs.parent&&co.add(hs.parent),co),new Set).forEach(co=>{!lo.some(hs=>hs.parent===co)&&co.layoutManager.unsubscribeTargets({target:co,targets:[cs]})})}}class Jo extends Hr{static getDefaults(){return s(s({},super.getDefaults()),Jo.ownDefaults)}constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Jo.ownDefaults),this.setOptions(cs);const{left:lo,top:co,layoutManager:hs}=cs;this.groupInit(is,{left:lo,top:co,layoutManager:hs??new Ko})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var is=arguments.length,cs=new Array(is),lo=0;lo<is;lo++)cs[lo]=arguments[lo];this.multiSelectionStacking==="selection-order"?this.add(...cs):cs.forEach(co=>{const hs=this._objects.findIndex(xa=>xa.isInFrontOf(co)),uo=hs===-1?this.size():hs;this.insertAt(uo,co)})}canEnterGroup(is){return this.getObjects().some(cs=>cs.isDescendantOf(is)||is.isDescendantOf(cs))?(a("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(is)}enterGroup(is,cs){is.parent&&is.parent===is.group?is.parent._exitGroup(is):is.group&&is.parent!==is.group&&is.group.remove(is),this._enterGroup(is,cs)}exitGroup(is,cs){this._exitGroup(is,cs),is.parent&&is.parent._enterGroup(is,!0)}_onAfterObjectsChange(is,cs){super._onAfterObjectsChange(is,cs);const lo=new Set;cs.forEach(co=>{const{parent:hs}=co;hs&&lo.add(hs)}),is===Fr?lo.forEach(co=>{co._onAfterObjectsChange(jr,cs)}):lo.forEach(co=>{co._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(is,cs,lo){is.save(),is.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const co=s(s({hasControls:!1},lo),{},{forActiveSelection:!0});for(let hs=0;hs<this._objects.length;hs++)this._objects[hs]._renderControls(is,co);super._renderControls(is,cs),is.restore()}}t(Jo,"type","ActiveSelection"),t(Jo,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),tt.setClass(Jo),tt.setClass(Jo,"activeSelection");class Qo{constructor(){t(this,"resources",{})}applyFilters(is,cs,lo,co,hs){const uo=hs.getContext("2d");if(!uo)return;uo.drawImage(cs,0,0,lo,co);const xa={sourceWidth:lo,sourceHeight:co,imageData:uo.getImageData(0,0,lo,co),originalEl:cs,originalImageData:uo.getImageData(0,0,lo,co),canvasEl:hs,ctx:uo,filterBackend:this};is.forEach($a=>{$a.applyTo(xa)});const{imageData:ba}=xa;return ba.width===lo&&ba.height===co||(hs.width=ba.width,hs.height=ba.height),uo.putImageData(ba,0,0),xa}}class Zo{constructor(){let{tileSize:is=o.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),t(this,"resources",{}),this.tileSize=is,this.setupGLContext(is,is),this.captureGPUInfo()}setupGLContext(is,cs){this.dispose(),this.createWebGLCanvas(is,cs)}createWebGLCanvas(is,cs){const lo=vt({width:is,height:cs}),co=lo.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});co&&(co.clearColor(0,0,0,0),this.canvas=lo,this.gl=co)}applyFilters(is,cs,lo,co,hs,uo){const xa=this.gl,ba=hs.getContext("2d");if(!xa||!ba)return;let $a;uo&&($a=this.getCachedTexture(uo,cs));const wl={originalWidth:cs.width||cs.naturalWidth||0,originalHeight:cs.height||cs.naturalHeight||0,sourceWidth:lo,sourceHeight:co,destinationWidth:lo,destinationHeight:co,context:xa,sourceTexture:this.createTexture(xa,lo,co,$a?void 0:cs),targetTexture:this.createTexture(xa,lo,co),originalTexture:$a||this.createTexture(xa,lo,co,$a?void 0:cs),passes:is.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:hs},Sl=xa.createFramebuffer();return xa.bindFramebuffer(xa.FRAMEBUFFER,Sl),is.forEach(Cl=>{Cl&&Cl.applyTo(wl)}),function(Cl){const _l=Cl.targetCanvas,Il=_l.width,Fl=_l.height,Ml=Cl.destinationWidth,Tl=Cl.destinationHeight;Il===Ml&&Fl===Tl||(_l.width=Ml,_l.height=Tl)}(wl),this.copyGLTo2D(xa,wl),xa.bindTexture(xa.TEXTURE_2D,null),xa.deleteTexture(wl.sourceTexture),xa.deleteTexture(wl.targetTexture),xa.deleteFramebuffer(Sl),ba.setTransform(1,0,0,1,0,0),wl}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(is,cs,lo,co,hs){const{NEAREST:uo,TEXTURE_2D:xa,RGBA:ba,UNSIGNED_BYTE:$a,CLAMP_TO_EDGE:wl,TEXTURE_MAG_FILTER:Sl,TEXTURE_MIN_FILTER:Cl,TEXTURE_WRAP_S:_l,TEXTURE_WRAP_T:Il}=is,Fl=is.createTexture();return is.bindTexture(xa,Fl),is.texParameteri(xa,Sl,hs||uo),is.texParameteri(xa,Cl,hs||uo),is.texParameteri(xa,_l,wl),is.texParameteri(xa,Il,wl),co?is.texImage2D(xa,0,ba,ba,$a,co):is.texImage2D(xa,0,ba,cs,lo,0,ba,$a,null),Fl}getCachedTexture(is,cs,lo){const{textureCache:co}=this;if(co[is])return co[is];{const hs=this.createTexture(this.gl,cs.width,cs.height,cs,lo);return hs&&(co[is]=hs),hs}}evictCachesForKey(is){this.textureCache[is]&&(this.gl.deleteTexture(this.textureCache[is]),delete this.textureCache[is])}copyGLTo2D(is,cs){const lo=is.canvas,co=cs.targetCanvas,hs=co.getContext("2d");if(!hs)return;hs.translate(0,co.height),hs.scale(1,-1);const uo=lo.height-co.height;hs.drawImage(lo,0,uo,co.width,co.height,0,0,co.width,co.height)}copyGLTo2DPutImageData(is,cs){const lo=cs.targetCanvas.getContext("2d"),co=cs.destinationWidth,hs=cs.destinationHeight,uo=co*hs*4;if(!lo)return;const xa=new Uint8Array(this.imageBuffer,0,uo),ba=new Uint8ClampedArray(this.imageBuffer,0,uo);is.readPixels(0,0,co,hs,is.RGBA,is.UNSIGNED_BYTE,xa);const $a=new ImageData(ba,co,hs);lo.putImageData($a,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const is=this.gl,cs={renderer:"",vendor:""};if(!is)return cs;const lo=is.getExtension("WEBGL_debug_renderer_info");if(lo){const co=is.getParameter(lo.UNMASKED_RENDERER_WEBGL),hs=is.getParameter(lo.UNMASKED_VENDOR_WEBGL);co&&(cs.renderer=co.toLowerCase()),hs&&(cs.vendor=hs.toLowerCase())}return this.gpuInfo=cs,cs}}let $o;function ta(){const{WebGLProbe:us}=p();return us.queryWebGL(pt()),o.enableGLFiltering&&us.isSupported(o.textureSize)?new Zo({tileSize:o.textureSize}):new Qo}function ea(){return!$o&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&($o=ta()),$o}const ia=["filters","resizeFilter","src","crossOrigin","type"],ra=["cropX","cropY"];class na extends ji{static getDefaults(){return s(s({},super.getDefaults()),na.ownDefaults)}constructor(is,cs){super(),t(this,"_lastScaleX",1),t(this,"_lastScaleY",1),t(this,"_filterScalingX",1),t(this,"_filterScalingY",1),this.filters=[],Object.assign(this,na.ownDefaults),this.setOptions(cs),this.cacheKey="texture".concat(ft()),this.setElement(typeof is=="string"?(this.canvas&&Kt(this.canvas.getElement())||m()).getElementById(is):is,cs)}getElement(){return this._element}setElement(is){var cs;let lo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=is,this._originalElement=is,this._setWidthHeight(lo),(cs=is.classList)===null||cs===void 0||cs.add(na.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(is){const cs=ea(!1);cs instanceof Zo&&cs.evictCachesForKey(is)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(is=>{const cs=this[is];cs&&p().dispose(cs),this[is]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const is=this.getElement();return is?{width:is.naturalWidth||is.width,height:is.naturalHeight||is.height}:{width:0,height:0}}_stroke(is){if(!this.stroke||this.strokeWidth===0)return;const cs=this.width/2,lo=this.height/2;is.beginPath(),is.moveTo(-cs,-lo),is.lineTo(cs,-lo),is.lineTo(cs,lo),is.lineTo(-cs,lo),is.lineTo(-cs,-lo),is.closePath()}toObject(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const cs=[];return this.filters.forEach(lo=>{lo&&cs.push(lo.toObject())}),s(s({},super.toObject([...ra,...is])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:cs},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const is=[],cs=this._element,lo=-this.width/2,co=-this.height/2;let hs=[],uo=[],xa="",ba="";if(!cs)return[];if(this.hasCrop()){const $a=ft();hs.push('<clipPath id="imageCrop_'+$a+`">
`,'	<rect x="'+lo+'" y="'+co+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),xa=' clip-path="url(#imageCrop_'+$a+')" '}if(this.imageSmoothing||(ba=' image-rendering="optimizeSpeed"'),is.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(lo-this.cropX,'" y="').concat(co-this.cropY,'" width="').concat(cs.width||cs.naturalWidth,'" height="').concat(cs.height||cs.naturalHeight,'"').concat(ba).concat(xa,`></image>
`)),this.stroke||this.strokeDashArray){const $a=this.fill;this.fill=null,uo=['	<rect x="'.concat(lo,'" y="').concat(co,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=$a}return hs=this.paintFirst!==K?hs.concat(uo,is):hs.concat(is,uo),hs}getSrc(is){const cs=is?this._element:this._originalElement;return cs?cs.toDataURL?cs.toDataURL():this.srcFromAttribute?cs.getAttribute("src")||"":cs.src:this.src||""}getSvgSrc(is){return this.getSrc(is)}setSrc(is){let{crossOrigin:cs,signal:lo}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return It(is,{crossOrigin:cs,signal:lo}).then(co=>{cs!==void 0&&this.set({crossOrigin:cs}),this.setElement(co)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const is=this.resizeFilter,cs=this.minimumScaleTrigger,lo=this.getTotalObjectScaling(),co=lo.x,hs=lo.y,uo=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!is||co>cs&&hs>cs)return this._element=uo,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=co,void(this._lastScaleY=hs);const xa=vt(uo),{width:ba,height:$a}=uo;this._element=xa,this._lastScaleX=is.scaleX=co,this._lastScaleY=is.scaleY=hs,ea().applyFilters([is],uo,ba,$a,this._element),this._filterScalingX=xa.width/this._originalElement.width,this._filterScalingY=xa.height/this._originalElement.height}applyFilters(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(is=is.filter(hs=>hs&&!hs.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),is.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const cs=this._originalElement,lo=cs.naturalWidth||cs.width,co=cs.naturalHeight||cs.height;if(this._element===this._originalElement){const hs=vt({width:lo,height:co});this._element=hs,this._filteredEl=hs}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,lo,co),this._lastScaleX=1,this._lastScaleY=1);ea().applyFilters(is,this._originalElement,lo,co,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(is){is.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(is),this._renderPaintInOrder(is)}drawCacheOnCanvas(is){is.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(is)}shouldCache(){return this.needsItsOwnCache()}_renderFill(is){const cs=this._element;if(!cs)return;const lo=this._filterScalingX,co=this._filterScalingY,hs=this.width,uo=this.height,xa=Math.max(this.cropX,0),ba=Math.max(this.cropY,0),$a=cs.naturalWidth||cs.width,wl=cs.naturalHeight||cs.height,Sl=xa*lo,Cl=ba*co,_l=Math.min(hs*lo,$a-Sl),Il=Math.min(uo*co,wl-Cl),Fl=-hs/2,Ml=-uo/2,Tl=Math.min(hs,$a/lo-xa),Dl=Math.min(uo,wl/co-ba);cs&&is.drawImage(cs,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl)}_needsResize(){const is=this.getTotalObjectScaling();return is.x!==this._lastScaleX||is.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:is,height:cs}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const lo=this.getOriginalSize();this.width=is||lo.width,this.height=cs||lo.height}parsePreserveAspectRatioAttribute(){const is=Ie(this.preserveAspectRatio||""),cs=this.width,lo=this.height,co={width:cs,height:lo};let hs,uo=this._element.width,xa=this._element.height,ba=1,$a=1,wl=0,Sl=0,Cl=0,_l=0;return!is||is.alignX===j&&is.alignY===j?(ba=cs/uo,$a=lo/xa):(is.meetOrSlice==="meet"&&(ba=$a=Nr(this._element,co),hs=(cs-uo*ba)/2,is.alignX==="Min"&&(wl=-hs),is.alignX==="Max"&&(wl=hs),hs=(lo-xa*$a)/2,is.alignY==="Min"&&(Sl=-hs),is.alignY==="Max"&&(Sl=hs)),is.meetOrSlice==="slice"&&(ba=$a=Ur(this._element,co),hs=uo-cs/ba,is.alignX==="Mid"&&(Cl=hs/2),is.alignX==="Max"&&(Cl=hs),hs=xa-lo/$a,is.alignY==="Mid"&&(_l=hs/2),is.alignY==="Max"&&(_l=hs),uo=cs/ba,xa=lo/$a)),{width:uo,height:xa,scaleX:ba,scaleY:$a,offsetLeft:wl,offsetTop:Sl,cropX:Cl,cropY:_l}}static fromObject(is,cs){let{filters:lo,resizeFilter:co,src:hs,crossOrigin:uo,type:xa}=is,ba=i(is,ia);return Promise.all([It(hs,s(s({},cs),{},{crossOrigin:uo})),lo&&Bt(lo,cs),co&&Bt([co],cs),Xt(ba,cs)]).then($a=>{let[wl,Sl=[],[Cl]=[],_l={}]=$a;return new this(wl,s(s({},ba),{},{src:hs,filters:Sl,resizeFilter:Cl},_l))})}static fromURL(is){let{crossOrigin:cs=null,signal:lo}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},co=arguments.length>2?arguments[2]:void 0;return It(is,{crossOrigin:cs,signal:lo}).then(hs=>new this(hs,co))}static async fromElement(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo=arguments.length>2?arguments[2]:void 0;const co=Dr(is,this.ATTRIBUTE_NAMES,lo);return this.fromURL(co["xlink:href"]||co.href,cs,co).catch(hs=>(a("log","Unable to parse Image",hs),null))}}t(na,"type","Image"),t(na,"cacheProperties",[...Ms,...ra]),t(na,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),t(na,"CSS_CANVAS","canvas-img"),t(na,"ATTRIBUTE_NAMES",[...Ji,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),tt.setClass(na),tt.setSVGClass(na);Ye(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Fa=us=>us.webgl!==void 0,Ra="precision highp float",Ia=`
    `.concat(Ra,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Ba=["type"],Xa=["type"],Ya=new RegExp(Ra,"g");class Wa{get type(){return this.constructor.type}constructor(){let is=i(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ba);Object.assign(this,this.constructor.defaults,is)}getFragmentSource(){return Ia}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(is){let cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),lo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:co="highp"}}=p();co!=="highp"&&(cs=cs.replace(Ya,Ra.replace("highp",co)));const hs=is.createShader(is.VERTEX_SHADER),uo=is.createShader(is.FRAGMENT_SHADER),xa=is.createProgram();if(!hs||!uo||!xa)throw new h("Vertex, fragment shader or program creation error");if(is.shaderSource(hs,lo),is.compileShader(hs),!is.getShaderParameter(hs,is.COMPILE_STATUS))throw new h("Vertex shader compile error for ".concat(this.type,": ").concat(is.getShaderInfoLog(hs)));if(is.shaderSource(uo,cs),is.compileShader(uo),!is.getShaderParameter(uo,is.COMPILE_STATUS))throw new h("Fragment shader compile error for ".concat(this.type,": ").concat(is.getShaderInfoLog(uo)));if(is.attachShader(xa,hs),is.attachShader(xa,uo),is.linkProgram(xa),!is.getProgramParameter(xa,is.LINK_STATUS))throw new h('Shader link error for "'.concat(this.type,'" ').concat(is.getProgramInfoLog(xa)));const ba=this.getUniformLocations(is,xa)||{};return ba.uStepW=is.getUniformLocation(xa,"uStepW"),ba.uStepH=is.getUniformLocation(xa,"uStepH"),{program:xa,attributeLocations:this.getAttributeLocations(is,xa),uniformLocations:ba}}getAttributeLocations(is,cs){return{aPosition:is.getAttribLocation(cs,"aPosition")}}getUniformLocations(is,cs){const lo=this.constructor.uniformLocations,co={};for(let hs=0;hs<lo.length;hs++)co[lo[hs]]=is.getUniformLocation(cs,lo[hs]);return co}sendAttributeData(is,cs,lo){const co=cs.aPosition,hs=is.createBuffer();is.bindBuffer(is.ARRAY_BUFFER,hs),is.enableVertexAttribArray(co),is.vertexAttribPointer(co,2,is.FLOAT,!1,0,0),is.bufferData(is.ARRAY_BUFFER,lo,is.STATIC_DRAW)}_setupFrameBuffer(is){const cs=is.context;if(is.passes>1){const lo=is.destinationWidth,co=is.destinationHeight;is.sourceWidth===lo&&is.sourceHeight===co||(cs.deleteTexture(is.targetTexture),is.targetTexture=is.filterBackend.createTexture(cs,lo,co)),cs.framebufferTexture2D(cs.FRAMEBUFFER,cs.COLOR_ATTACHMENT0,cs.TEXTURE_2D,is.targetTexture,0)}else cs.bindFramebuffer(cs.FRAMEBUFFER,null),cs.finish()}_swapTextures(is){is.passes--,is.pass++;const cs=is.targetTexture;is.targetTexture=is.sourceTexture,is.sourceTexture=cs}isNeutralState(is){return!1}applyTo(is){Fa(is)?(this._setupFrameBuffer(is),this.applyToWebGL(is),this._swapTextures(is)):this.applyTo2d(is)}applyTo2d(is){}getCacheKey(){return this.type}retrieveShader(is){const cs=this.getCacheKey();return is.programCache[cs]||(is.programCache[cs]=this.createProgram(is.context)),is.programCache[cs]}applyToWebGL(is){const cs=is.context,lo=this.retrieveShader(is);is.pass===0&&is.originalTexture?cs.bindTexture(cs.TEXTURE_2D,is.originalTexture):cs.bindTexture(cs.TEXTURE_2D,is.sourceTexture),cs.useProgram(lo.program),this.sendAttributeData(cs,lo.attributeLocations,is.aPosition),cs.uniform1f(lo.uniformLocations.uStepW,1/is.sourceWidth),cs.uniform1f(lo.uniformLocations.uStepH,1/is.sourceHeight),this.sendUniformData(cs,lo.uniformLocations),cs.viewport(0,0,is.destinationWidth,is.destinationHeight),cs.drawArrays(cs.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(is,cs,lo){is.activeTexture(lo),is.bindTexture(is.TEXTURE_2D,cs),is.activeTexture(is.TEXTURE0)}unbindAdditionalTexture(is,cs){is.activeTexture(cs),is.bindTexture(is.TEXTURE_2D,null),is.activeTexture(is.TEXTURE0)}sendUniformData(is,cs){}createHelpLayer(is){if(!is.helpLayer){const{sourceWidth:cs,sourceHeight:lo}=is,co=vt({width:cs,height:lo});is.helpLayer=co}}toObject(){const is=Object.keys(this.constructor.defaults||{});return s({type:this.type},is.reduce((cs,lo)=>(cs[lo]=this[lo],cs),{}))}toJSON(){return this.toObject()}static async fromObject(is,cs){return new this(i(is,Xa))}}t(Wa,"type","BaseFilter"),t(Wa,"uniformLocations",[]);const Va={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class za extends Wa{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(Va[this.mode],`
        }
      }
      `)}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=new Le(this.color).getSource(),co=this.alpha,hs=lo[0]*co,uo=lo[1]*co,xa=lo[2]*co,ba=1-co;for(let $a=0;$a<cs.length;$a+=4){const wl=cs[$a],Sl=cs[$a+1],Cl=cs[$a+2];let _l,Il,Fl;switch(this.mode){case"multiply":_l=wl*hs/255,Il=Sl*uo/255,Fl=Cl*xa/255;break;case"screen":_l=255-(255-wl)*(255-hs)/255,Il=255-(255-Sl)*(255-uo)/255,Fl=255-(255-Cl)*(255-xa)/255;break;case"add":_l=wl+hs,Il=Sl+uo,Fl=Cl+xa;break;case"difference":_l=Math.abs(wl-hs),Il=Math.abs(Sl-uo),Fl=Math.abs(Cl-xa);break;case"subtract":_l=wl-hs,Il=Sl-uo,Fl=Cl-xa;break;case"darken":_l=Math.min(wl,hs),Il=Math.min(Sl,uo),Fl=Math.min(Cl,xa);break;case"lighten":_l=Math.max(wl,hs),Il=Math.max(Sl,uo),Fl=Math.max(Cl,xa);break;case"overlay":_l=hs<128?2*wl*hs/255:255-2*(255-wl)*(255-hs)/255,Il=uo<128?2*Sl*uo/255:255-2*(255-Sl)*(255-uo)/255,Fl=xa<128?2*Cl*xa/255:255-2*(255-Cl)*(255-xa)/255;break;case"exclusion":_l=hs+wl-2*hs*wl/255,Il=uo+Sl-2*uo*Sl/255,Fl=xa+Cl-2*xa*Cl/255;break;case"tint":_l=hs+wl*ba,Il=uo+Sl*ba,Fl=xa+Cl*ba}cs[$a]=_l,cs[$a+1]=Il,cs[$a+2]=Fl}}sendUniformData(is,cs){const lo=new Le(this.color).getSource();lo[0]=this.alpha*lo[0]/255,lo[1]=this.alpha*lo[1]/255,lo[2]=this.alpha*lo[2]/255,lo[3]=this.alpha,is.uniform4fv(cs.uColor,lo)}}t(za,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),t(za,"type","BlendColor"),t(za,"uniformLocations",["uColor"]),tt.setClass(za);const Ga={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Ha=["type","image"];class Na extends Wa{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Ga[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(is){const cs=is.context,lo=this.createTexture(is.filterBackend,this.image);this.bindAdditionalTexture(cs,lo,cs.TEXTURE1),super.applyToWebGL(is),this.unbindAdditionalTexture(cs,cs.TEXTURE1)}createTexture(is,cs){return is.getCachedTexture(cs.cacheKey,cs.getElement())}calculateMatrix(){const is=this.image,{width:cs,height:lo}=is.getElement();return[1/is.scaleX,0,0,0,1/is.scaleY,0,-is.left/cs,-is.top/lo,1]}applyTo2d(is){let{imageData:{data:cs,width:lo,height:co},filterBackend:{resources:hs}}=is;const uo=this.image;hs.blendImage||(hs.blendImage=pt());const xa=hs.blendImage,ba=xa.getContext("2d");xa.width!==lo||xa.height!==co?(xa.width=lo,xa.height=co):ba.clearRect(0,0,lo,co),ba.setTransform(uo.scaleX,0,0,uo.scaleY,uo.left,uo.top),ba.drawImage(uo.getElement(),0,0,lo,co);const $a=ba.getImageData(0,0,lo,co).data;for(let wl=0;wl<cs.length;wl+=4){const Sl=cs[wl],Cl=cs[wl+1],_l=cs[wl+2],Il=cs[wl+3],Fl=$a[wl],Ml=$a[wl+1],Tl=$a[wl+2],Dl=$a[wl+3];switch(this.mode){case"multiply":cs[wl]=Sl*Fl/255,cs[wl+1]=Cl*Ml/255,cs[wl+2]=_l*Tl/255,cs[wl+3]=Il*Dl/255;break;case"mask":cs[wl+3]=Dl}}}sendUniformData(is,cs){const lo=this.calculateMatrix();is.uniform1i(cs.uImage,1),is.uniformMatrix3fv(cs.uTransformMatrix,!1,lo)}toObject(){return s(s({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(is,cs){let{type:lo,image:co}=is,hs=i(is,Ha);return na.fromObject(co,cs).then(uo=>new this(s(s({},hs),{},{image:uo})))}}t(Na,"type","BlendImage"),t(Na,"defaults",{mode:"multiply",alpha:1}),t(Na,"uniformLocations",["uTransformMatrix","uImage"]),tt.setClass(Na);class Ua extends Wa{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(is){Fa(is)?(this.aspectRatio=is.sourceWidth/is.sourceHeight,is.passes++,this._setupFrameBuffer(is),this.horizontal=!0,this.applyToWebGL(is),this._swapTextures(is),this._setupFrameBuffer(is),this.horizontal=!1,this.applyToWebGL(is),this._swapTextures(is)):this.applyTo2d(is)}applyTo2d(is){let{imageData:{data:cs,width:lo,height:co}}=is;this.aspectRatio=lo/co,this.horizontal=!0;let hs=this.getBlurValue()*lo;const uo=new Uint8ClampedArray(cs),xa=15,ba=4*lo;for(let $a=0;$a<cs.length;$a+=4){let wl=0,Sl=0,Cl=0,_l=0,Il=0;const Fl=$a-$a%ba,Ml=Fl+ba;for(let Tl=-14;Tl<xa;Tl++){const Dl=Tl/xa,Bl=4*Math.floor(hs*Dl),Ll=1-Math.abs(Dl);let Nl=$a+Bl;Nl<Fl?Nl=Fl:Nl>Ml&&(Nl=Ml);const zl=cs[Nl+3]*Ll;wl+=cs[Nl]*zl,Sl+=cs[Nl+1]*zl,Cl+=cs[Nl+2]*zl,_l+=zl,Il+=Ll}uo[$a]=wl/_l,uo[$a+1]=Sl/_l,uo[$a+2]=Cl/_l,uo[$a+3]=_l/Il}this.horizontal=!1,hs=this.getBlurValue()*co;for(let $a=0;$a<uo.length;$a+=4){let wl=0,Sl=0,Cl=0,_l=0,Il=0;const Fl=$a%ba,Ml=uo.length-ba+Fl;for(let Tl=-14;Tl<xa;Tl++){const Dl=Tl/xa,Bl=Math.floor(hs*Dl)*ba,Ll=1-Math.abs(Dl);let Nl=$a+Bl;Nl<Fl?Nl=Fl:Nl>Ml&&(Nl=Ml);const zl=uo[Nl+3]*Ll;wl+=uo[Nl]*zl,Sl+=uo[Nl+1]*zl,Cl+=uo[Nl+2]*zl,_l+=zl,Il+=Ll}cs[$a]=wl/_l,cs[$a+1]=Sl/_l,cs[$a+2]=Cl/_l,cs[$a+3]=_l/Il}}sendUniformData(is,cs){const lo=this.chooseRightDelta();is.uniform2fv(cs.uDelta,lo)}isNeutralState(){return this.blur===0}getBlurValue(){let is=1;const{horizontal:cs,aspectRatio:lo}=this;return cs?lo>1&&(is=1/lo):lo<1&&(is=lo),is*this.blur*.12}chooseRightDelta(){const is=this.getBlurValue();return this.horizontal?[is,0]:[0,is]}}t(Ua,"type","Blur"),t(Ua,"defaults",{blur:0}),t(Ua,"uniformLocations",["uDelta"]),tt.setClass(Ua);class qa extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=Math.round(255*this.brightness);for(let co=0;co<cs.length;co+=4)cs[co]+=lo,cs[co+1]+=lo,cs[co+2]+=lo}isNeutralState(){return this.brightness===0}sendUniformData(is,cs){is.uniform1f(cs.uBrightness,this.brightness)}}t(qa,"type","Brightness"),t(qa,"defaults",{brightness:0}),t(qa,"uniformLocations",["uBrightness"]),tt.setClass(qa);const Ka={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Ja extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(is){const cs=is.imageData.data,lo=this.matrix,co=this.colorsOnly;for(let hs=0;hs<cs.length;hs+=4){const uo=cs[hs],xa=cs[hs+1],ba=cs[hs+2];if(cs[hs]=uo*lo[0]+xa*lo[1]+ba*lo[2]+255*lo[4],cs[hs+1]=uo*lo[5]+xa*lo[6]+ba*lo[7]+255*lo[9],cs[hs+2]=uo*lo[10]+xa*lo[11]+ba*lo[12]+255*lo[14],!co){const $a=cs[hs+3];cs[hs]+=$a*lo[3],cs[hs+1]+=$a*lo[8],cs[hs+2]+=$a*lo[13],cs[hs+3]=uo*lo[15]+xa*lo[16]+ba*lo[17]+$a*lo[18]+255*lo[19]}}}sendUniformData(is,cs){const lo=this.matrix,co=[lo[0],lo[1],lo[2],lo[3],lo[5],lo[6],lo[7],lo[8],lo[10],lo[11],lo[12],lo[13],lo[15],lo[16],lo[17],lo[18]],hs=[lo[4],lo[9],lo[14],lo[19]];is.uniformMatrix4fv(cs.uColorMatrix,!1,co),is.uniform4fv(cs.uConstants,hs)}toObject(){return s(s({},super.toObject()),{},{matrix:[...this.matrix]})}}function Qa(us,is){var cs;const lo=(t(cs=class extends Ja{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",us),t(cs,"defaults",{colorsOnly:!1,matrix:is}),cs);return tt.setClass(lo,us),lo}t(Ja,"type","ColorMatrix"),t(Ja,"defaults",Ka),t(Ja,"uniformLocations",["uColorMatrix","uConstants"]),tt.setClass(Ja);Qa("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Qa("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Qa("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Qa("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Qa("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Qa("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Qa("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class nh extends Wa{constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(is),this.subFilters=is.subFilters||[]}applyTo(is){Fa(is)&&(is.passes+=this.subFilters.length-1),this.subFilters.forEach(cs=>{cs.applyTo(is)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(is=>is.toObject())}}isNeutralState(){return!this.subFilters.some(is=>!is.isNeutralState())}static fromObject(is,cs){return Promise.all((is.subFilters||[]).map(lo=>tt.getClass(lo.type).fromObject(lo,cs))).then(lo=>new this({subFilters:lo}))}}t(nh,"type","Composed"),tt.setClass(nh);class oh extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=Math.floor(255*this.contrast),co=259*(lo+255)/(255*(259-lo));for(let hs=0;hs<cs.length;hs+=4)cs[hs]=co*(cs[hs]-128)+128,cs[hs+1]=co*(cs[hs+1]-128)+128,cs[hs+2]=co*(cs[hs+2]-128)+128}sendUniformData(is,cs){is.uniform1f(cs.uContrast,this.contrast)}}t(oh,"type","Contrast"),t(oh,"defaults",{contrast:0}),t(oh,"uniformLocations",["uContrast"]),tt.setClass(oh);const ah={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class hh extends Wa{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return ah[this.getCacheKey()]}applyTo2d(is){const cs=is.imageData,lo=cs.data,co=this.matrix,hs=Math.round(Math.sqrt(co.length)),uo=Math.floor(hs/2),xa=cs.width,ba=cs.height,$a=is.ctx.createImageData(xa,ba),wl=$a.data,Sl=this.opaque?1:0;let Cl,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,Nl,zl,$l,Vl;for(zl=0;zl<ba;zl++)for(Nl=0;Nl<xa;Nl++){for(Ml=4*(zl*xa+Nl),Cl=0,_l=0,Il=0,Fl=0,Vl=0;Vl<hs;Vl++)for($l=0;$l<hs;$l++)Dl=zl+Vl-uo,Tl=Nl+$l-uo,Dl<0||Dl>=ba||Tl<0||Tl>=xa||(Bl=4*(Dl*xa+Tl),Ll=co[Vl*hs+$l],Cl+=lo[Bl]*Ll,_l+=lo[Bl+1]*Ll,Il+=lo[Bl+2]*Ll,Sl||(Fl+=lo[Bl+3]*Ll));wl[Ml]=Cl,wl[Ml+1]=_l,wl[Ml+2]=Il,wl[Ml+3]=Sl?lo[Ml+3]:Fl}is.imageData=$a}sendUniformData(is,cs){is.uniform1fv(cs.uMatrix,this.matrix)}toObject(){return s(s({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}t(hh,"type","Convolute"),t(hh,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),t(hh,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),tt.setClass(hh);const ch="Gamma";class lh extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(is),this.gamma=is.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=this.gamma,co=1/lo[0],hs=1/lo[1],uo=1/lo[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const xa=this.rgbValues;for(let ba=0;ba<256;ba++)xa.r[ba]=255*Math.pow(ba/255,co),xa.g[ba]=255*Math.pow(ba/255,hs),xa.b[ba]=255*Math.pow(ba/255,uo);for(let ba=0;ba<cs.length;ba+=4)cs[ba]=xa.r[cs[ba]],cs[ba+1]=xa.g[cs[ba+1]],cs[ba+2]=xa.b[cs[ba+2]]}sendUniformData(is,cs){is.uniform3fv(cs.uGamma,this.gamma)}isNeutralState(){const{gamma:is}=this;return is[0]===1&&is[1]===1&&is[2]===1}toObject(){return{type:ch,gamma:this.gamma.concat()}}}t(lh,"type",ch),t(lh,"defaults",{gamma:[1,1,1]}),t(lh,"uniformLocations",["uGamma"]),tt.setClass(lh);const uh={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class dh extends Wa{applyTo2d(is){let{imageData:{data:cs}}=is;for(let lo,co=0;co<cs.length;co+=4){const hs=cs[co],uo=cs[co+1],xa=cs[co+2];switch(this.mode){case"average":lo=(hs+uo+xa)/3;break;case"lightness":lo=(Math.min(hs,uo,xa)+Math.max(hs,uo,xa))/2;break;case"luminosity":lo=.21*hs+.72*uo+.07*xa}cs[co+2]=cs[co+1]=cs[co]=lo}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return uh[this.mode]}sendUniformData(is,cs){is.uniform1i(cs.uMode,1)}isNeutralState(){return!1}}t(dh,"type","Grayscale"),t(dh,"defaults",{mode:"average"}),t(dh,"uniformLocations",["uMode"]),tt.setClass(dh);const gh=s(s({},Ka),{},{rotation:0});class fh extends Ja{calculateMatrix(){const is=this.rotation*Math.PI,cs=rt(is),lo=nt(is),co=1/3,hs=Math.sqrt(co)*lo,uo=1-cs;this.matrix=[cs+uo/3,co*uo-hs,co*uo+hs,0,0,co*uo+hs,cs+co*uo,co*uo-hs,0,0,co*uo-hs,co*uo+hs,cs+co*uo,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(is){this.calculateMatrix(),super.applyTo(is)}toObject(){return{type:this.type,rotation:this.rotation}}}t(fh,"type","HueRotation"),t(fh,"defaults",gh),tt.setClass(fh);class ph extends Wa{applyTo2d(is){let{imageData:{data:cs}}=is;for(let lo=0;lo<cs.length;lo+=4)cs[lo]=255-cs[lo],cs[lo+1]=255-cs[lo+1],cs[lo+2]=255-cs[lo+2],this.alpha&&(cs[lo+3]=255-cs[lo+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(is,cs){is.uniform1i(cs.uInvert,Number(this.invert)),is.uniform1i(cs.uAlpha,Number(this.alpha))}}t(ph,"type","Invert"),t(ph,"defaults",{alpha:!1,invert:!0}),t(ph,"uniformLocations",["uInvert","uAlpha"]),tt.setClass(ph);class mh extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=this.noise;for(let co=0;co<cs.length;co+=4){const hs=(.5-Math.random())*lo;cs[co]+=hs,cs[co+1]+=hs,cs[co+2]+=hs}}sendUniformData(is,cs){is.uniform1f(cs.uNoise,this.noise/255),is.uniform1f(cs.uSeed,Math.random())}isNeutralState(){return this.noise===0}}t(mh,"type","Noise"),t(mh,"defaults",{noise:0}),t(mh,"uniformLocations",["uNoise","uSeed"]),tt.setClass(mh);class vh extends Wa{applyTo2d(is){let{imageData:{data:cs,width:lo,height:co}}=is;for(let hs=0;hs<co;hs+=this.blocksize)for(let uo=0;uo<lo;uo+=this.blocksize){const xa=4*hs*lo+4*uo,ba=cs[xa],$a=cs[xa+1],wl=cs[xa+2],Sl=cs[xa+3];for(let Cl=hs;Cl<Math.min(hs+this.blocksize,co);Cl++)for(let _l=uo;_l<Math.min(uo+this.blocksize,lo);_l++){const Il=4*Cl*lo+4*_l;cs[Il]=ba,cs[Il+1]=$a,cs[Il+2]=wl,cs[Il+3]=Sl}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(is,cs){is.uniform1f(cs.uBlocksize,this.blocksize)}}t(vh,"type","Pixelate"),t(vh,"defaults",{blocksize:4}),t(vh,"uniformLocations",["uBlocksize"]),tt.setClass(vh);class yh extends Wa{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=255*this.distance,co=new Le(this.color).getSource(),hs=[co[0]-lo,co[1]-lo,co[2]-lo],uo=[co[0]+lo,co[1]+lo,co[2]+lo];for(let xa=0;xa<cs.length;xa+=4){const ba=cs[xa],$a=cs[xa+1],wl=cs[xa+2];ba>hs[0]&&$a>hs[1]&&wl>hs[2]&&ba<uo[0]&&$a<uo[1]&&wl<uo[2]&&(cs[xa+3]=0)}}sendUniformData(is,cs){const lo=new Le(this.color).getSource(),co=this.distance,hs=[0+lo[0]/255-co,0+lo[1]/255-co,0+lo[2]/255-co,1],uo=[lo[0]/255+co,lo[1]/255+co,lo[2]/255+co,1];is.uniform4fv(cs.uLow,hs),is.uniform4fv(cs.uHigh,uo)}}t(yh,"type","RemoveColor"),t(yh,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),t(yh,"uniformLocations",["uLow","uHigh"]),tt.setClass(yh);class _h extends Wa{sendUniformData(is,cs){is.uniform2fv(cs.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),is.uniform1fv(cs.uTaps,this.taps)}getFilterWindow(){const is=this.tempScale;return Math.ceil(this.lanczosLobes/is)}getCacheKey(){const is=this.getFilterWindow();return"".concat(this.type,"_").concat(is)}getFragmentSource(){const is=this.getFilterWindow();return this.generateShader(is)}getTaps(){const is=this.lanczosCreate(this.lanczosLobes),cs=this.tempScale,lo=this.getFilterWindow(),co=new Array(lo);for(let hs=1;hs<=lo;hs++)co[hs-1]=is(hs*cs);return co}generateShader(is){const cs=new Array(is);for(let lo=1;lo<=is;lo++)cs[lo-1]="".concat(lo,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(is,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(cs.map((lo,co)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(lo,") * uTaps[").concat(co,"] + texture2D(uTexture, vTexCoord - ").concat(lo,") * uTaps[").concat(co,`];
              sum += 2.0 * uTaps[`).concat(co,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(is){is.passes++,this.width=is.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=is.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),is.destinationWidth=this.dW,super.applyTo(is),is.sourceWidth=is.destinationWidth,this.height=is.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),is.destinationHeight=this.dH,super.applyTo(is),is.sourceHeight=is.destinationHeight}applyTo(is){Fa(is)?this.applyToForWebgl(is):this.applyTo2d(is)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(is){return cs=>{if(cs>=is||cs<=-is)return 0;if(cs<11920929e-14&&cs>-11920929e-14)return 1;const lo=(cs*=Math.PI)/is;return Math.sin(cs)/cs*Math.sin(lo)/lo}}applyTo2d(is){const cs=is.imageData,lo=this.scaleX,co=this.scaleY;this.rcpScaleX=1/lo,this.rcpScaleY=1/co;const hs=cs.width,uo=cs.height,xa=Math.round(hs*lo),ba=Math.round(uo*co);let $a;$a=this.resizeType==="sliceHack"?this.sliceByTwo(is,hs,uo,xa,ba):this.resizeType==="hermite"?this.hermiteFastResize(is,hs,uo,xa,ba):this.resizeType==="bilinear"?this.bilinearFiltering(is,hs,uo,xa,ba):this.resizeType==="lanczos"?this.lanczosResize(is,hs,uo,xa,ba):new ImageData(xa,ba),is.imageData=$a}sliceByTwo(is,cs,lo,co,hs){const uo=is.imageData,xa=.5;let ba=!1,$a=!1,wl=cs*xa,Sl=lo*xa;const Cl=is.filterBackend.resources;let _l=0,Il=0;const Fl=cs;let Ml=0;Cl.sliceByTwo||(Cl.sliceByTwo=pt());const Tl=Cl.sliceByTwo;(Tl.width<1.5*cs||Tl.height<lo)&&(Tl.width=1.5*cs,Tl.height=lo);const Dl=Tl.getContext("2d");for(Dl.clearRect(0,0,1.5*cs,lo),Dl.putImageData(uo,0,0),co=Math.floor(co),hs=Math.floor(hs);!ba||!$a;)cs=wl,lo=Sl,co<Math.floor(wl*xa)?wl=Math.floor(wl*xa):(wl=co,ba=!0),hs<Math.floor(Sl*xa)?Sl=Math.floor(Sl*xa):(Sl=hs,$a=!0),Dl.drawImage(Tl,_l,Il,cs,lo,Fl,Ml,wl,Sl),_l=Fl,Il=Ml,Ml+=Sl;return Dl.getImageData(_l,Il,co,hs)}lanczosResize(is,cs,lo,co,hs){const uo=is.imageData.data,xa=is.ctx.createImageData(co,hs),ba=xa.data,$a=this.lanczosCreate(this.lanczosLobes),wl=this.rcpScaleX,Sl=this.rcpScaleY,Cl=2/this.rcpScaleX,_l=2/this.rcpScaleY,Il=Math.ceil(wl*this.lanczosLobes/2),Fl=Math.ceil(Sl*this.lanczosLobes/2),Ml={},Tl={x:0,y:0},Dl={x:0,y:0};return function Bl(Ll){let Nl,zl,$l,Vl,Gl,iu,nu,Jl,lu,ju,zu;for(Tl.x=(Ll+.5)*wl,Dl.x=Math.floor(Tl.x),Nl=0;Nl<hs;Nl++){for(Tl.y=(Nl+.5)*Sl,Dl.y=Math.floor(Tl.y),Gl=0,iu=0,nu=0,Jl=0,lu=0,zl=Dl.x-Il;zl<=Dl.x+Il;zl++)if(!(zl<0||zl>=cs)){ju=Math.floor(1e3*Math.abs(zl-Tl.x)),Ml[ju]||(Ml[ju]={});for(let Wu=Dl.y-Fl;Wu<=Dl.y+Fl;Wu++)Wu<0||Wu>=lo||(zu=Math.floor(1e3*Math.abs(Wu-Tl.y)),Ml[ju][zu]||(Ml[ju][zu]=$a(Math.sqrt(Math.pow(ju*Cl,2)+Math.pow(zu*_l,2))/1e3)),$l=Ml[ju][zu],$l>0&&(Vl=4*(Wu*cs+zl),Gl+=$l,iu+=$l*uo[Vl],nu+=$l*uo[Vl+1],Jl+=$l*uo[Vl+2],lu+=$l*uo[Vl+3]))}Vl=4*(Nl*co+Ll),ba[Vl]=iu/Gl,ba[Vl+1]=nu/Gl,ba[Vl+2]=Jl/Gl,ba[Vl+3]=lu/Gl}return++Ll<co?Bl(Ll):xa}(0)}bilinearFiltering(is,cs,lo,co,hs){let uo,xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,Bl=0;const Ll=this.rcpScaleX,Nl=this.rcpScaleY,zl=4*(cs-1),$l=is.imageData.data,Vl=is.ctx.createImageData(co,hs),Gl=Vl.data;for(Cl=0;Cl<hs;Cl++)for(_l=0;_l<co;_l++)for(wl=Math.floor(Ll*_l),Sl=Math.floor(Nl*Cl),Il=Ll*_l-wl,Fl=Nl*Cl-Sl,Dl=4*(Sl*cs+wl),Ml=0;Ml<4;Ml++)uo=$l[Dl+Ml],xa=$l[Dl+4+Ml],ba=$l[Dl+zl+Ml],$a=$l[Dl+zl+4+Ml],Tl=uo*(1-Il)*(1-Fl)+xa*Il*(1-Fl)+ba*Fl*(1-Il)+$a*Il*Fl,Gl[Bl++]=Tl;return Vl}hermiteFastResize(is,cs,lo,co,hs){const uo=this.rcpScaleX,xa=this.rcpScaleY,ba=Math.ceil(uo/2),$a=Math.ceil(xa/2),wl=is.imageData.data,Sl=is.ctx.createImageData(co,hs),Cl=Sl.data;for(let _l=0;_l<hs;_l++)for(let Il=0;Il<co;Il++){const Fl=4*(Il+_l*co);let Ml=0,Tl=0,Dl=0,Bl=0,Ll=0,Nl=0,zl=0;const $l=(_l+.5)*xa;for(let Vl=Math.floor(_l*xa);Vl<(_l+1)*xa;Vl++){const Gl=Math.abs($l-(Vl+.5))/$a,iu=(Il+.5)*uo,nu=Gl*Gl;for(let Jl=Math.floor(Il*uo);Jl<(Il+1)*uo;Jl++){let lu=Math.abs(iu-(Jl+.5))/ba;const ju=Math.sqrt(nu+lu*lu);ju>1&&ju<-1||(Ml=2*ju*ju*ju-3*ju*ju+1,Ml>0&&(lu=4*(Jl+Vl*cs),zl+=Ml*wl[lu+3],Dl+=Ml,wl[lu+3]<255&&(Ml=Ml*wl[lu+3]/250),Bl+=Ml*wl[lu],Ll+=Ml*wl[lu+1],Nl+=Ml*wl[lu+2],Tl+=Ml))}}Cl[Fl]=Bl/Tl,Cl[Fl+1]=Ll/Tl,Cl[Fl+2]=Nl/Tl,Cl[Fl+3]=zl/Dl}return Sl}}t(_h,"type","Resize"),t(_h,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),t(_h,"uniformLocations",["uDelta","uTaps"]),tt.setClass(_h);class xh extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=-this.saturation;for(let co=0;co<cs.length;co+=4){const hs=cs[co],uo=cs[co+1],xa=cs[co+2],ba=Math.max(hs,uo,xa);cs[co]+=ba!==hs?(ba-hs)*lo:0,cs[co+1]+=ba!==uo?(ba-uo)*lo:0,cs[co+2]+=ba!==xa?(ba-xa)*lo:0}}sendUniformData(is,cs){is.uniform1f(cs.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}t(xh,"type","Saturation"),t(xh,"defaults",{saturation:0}),t(xh,"uniformLocations",["uSaturation"]),tt.setClass(xh);class Ch extends Wa{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(is){let{imageData:{data:cs}}=is;const lo=-this.vibrance;for(let co=0;co<cs.length;co+=4){const hs=cs[co],uo=cs[co+1],xa=cs[co+2],ba=Math.max(hs,uo,xa),$a=(hs+uo+xa)/3,wl=2*Math.abs(ba-$a)/255*lo;cs[co]+=ba!==hs?(ba-hs)*wl:0,cs[co+1]+=ba!==uo?(ba-uo)*wl:0,cs[co+2]+=ba!==xa?(ba-xa)*wl:0}}sendUniformData(is,cs){is.uniform1f(cs.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}t(Ch,"type","Vibrance"),t(Ch,"defaults",{vibrance:0}),t(Ch,"uniformLocations",["uVibrance"]),tt.setClass(Ch);function DEFAULT_COMPARE(us,is){return us>is?1:us<is?-1:0}class SplayTree{constructor(is=DEFAULT_COMPARE,cs=!1){this._compare=is,this._root=null,this._size=0,this._noDuplicates=!!cs}rotateLeft(is){var cs=is.right;cs&&(is.right=cs.left,cs.left&&(cs.left.parent=is),cs.parent=is.parent),is.parent?is===is.parent.left?is.parent.left=cs:is.parent.right=cs:this._root=cs,cs&&(cs.left=is),is.parent=cs}rotateRight(is){var cs=is.left;cs&&(is.left=cs.right,cs.right&&(cs.right.parent=is),cs.parent=is.parent),is.parent?is===is.parent.left?is.parent.left=cs:is.parent.right=cs:this._root=cs,cs&&(cs.right=is),is.parent=cs}_splay(is){for(;is.parent;){var cs=is.parent;cs.parent?cs.left===is&&cs.parent.left===cs?(this.rotateRight(cs.parent),this.rotateRight(cs)):cs.right===is&&cs.parent.right===cs?(this.rotateLeft(cs.parent),this.rotateLeft(cs)):cs.left===is&&cs.parent.right===cs?(this.rotateRight(cs),this.rotateLeft(cs)):(this.rotateLeft(cs),this.rotateRight(cs)):cs.left===is?this.rotateRight(cs):this.rotateLeft(cs)}}splay(is){for(var cs,lo,co,hs,uo;is.parent;)cs=is.parent,lo=cs.parent,lo&&lo.parent?(co=lo.parent,co.left===lo?co.left=is:co.right=is,is.parent=co):(is.parent=null,this._root=is),hs=is.left,uo=is.right,is===cs.left?(lo&&(lo.left===cs?(cs.right?(lo.left=cs.right,lo.left.parent=lo):lo.left=null,cs.right=lo,lo.parent=cs):(hs?(lo.right=hs,hs.parent=lo):lo.right=null,is.left=lo,lo.parent=is)),uo?(cs.left=uo,uo.parent=cs):cs.left=null,is.right=cs,cs.parent=is):(lo&&(lo.right===cs?(cs.left?(lo.right=cs.left,lo.right.parent=lo):lo.right=null,cs.left=lo,lo.parent=cs):(uo?(lo.left=uo,uo.parent=lo):lo.left=null,is.right=lo,lo.parent=is)),hs?(cs.right=hs,hs.parent=cs):cs.right=null,is.left=cs,cs.parent=is)}replace(is,cs){is.parent?is===is.parent.left?is.parent.left=cs:is.parent.right=cs:this._root=cs,cs&&(cs.parent=is.parent)}minNode(is=this._root){if(is)for(;is.left;)is=is.left;return is}maxNode(is=this._root){if(is)for(;is.right;)is=is.right;return is}insert(is,cs){var lo=this._root,co=null,hs=this._compare,uo;if(this._noDuplicates)for(;lo;){if(co=lo,uo=hs(lo.key,is),uo===0)return;hs(lo.key,is)<0?lo=lo.right:lo=lo.left}else for(;lo;)co=lo,hs(lo.key,is)<0?lo=lo.right:lo=lo.left;return lo={key:is,data:cs,left:null,right:null,parent:co},co?hs(co.key,lo.key)<0?co.right=lo:co.left=lo:this._root=lo,this.splay(lo),this._size++,lo}find(is){for(var cs=this._root,lo=this._compare;cs;){var co=lo(cs.key,is);if(co<0)cs=cs.right;else if(co>0)cs=cs.left;else return cs}return null}contains(is){for(var cs=this._root,lo=this._compare;cs;){var co=lo(is,cs.key);if(co===0)return!0;co<0?cs=cs.left:cs=cs.right}return!1}remove(is){var cs=this.find(is);if(!cs)return!1;if(this.splay(cs),!cs.left)this.replace(cs,cs.right);else if(!cs.right)this.replace(cs,cs.left);else{var lo=this.minNode(cs.right);lo.parent!==cs&&(this.replace(lo,lo.right),lo.right=cs.right,lo.right.parent=lo),this.replace(cs,lo),lo.left=cs.left,lo.left.parent=lo}return this._size--,!0}removeNode(is){if(!is)return!1;if(this.splay(is),!is.left)this.replace(is,is.right);else if(!is.right)this.replace(is,is.left);else{var cs=this.minNode(is.right);cs.parent!==is&&(this.replace(cs,cs.right),cs.right=is.right,cs.right.parent=cs),this.replace(is,cs),cs.left=is.left,cs.left.parent=cs}return this._size--,!0}erase(is){var cs=this.find(is);if(cs){this.splay(cs);var lo=cs.left,co=cs.right,hs=null;lo&&(lo.parent=null,hs=this.maxNode(lo),this.splay(hs),this._root=hs),co&&(lo?hs.right=co:this._root=co,co.parent=hs),this._size--}}pop(){var is=this._root,cs=null;if(is){for(;is.left;)is=is.left;cs={key:is.key,data:is.data},this.remove(is.key)}return cs}next(is){var cs=is;if(cs)if(cs.right)for(cs=cs.right;cs&&cs.left;)cs=cs.left;else for(cs=is.parent;cs&&cs.right===is;)is=cs,cs=cs.parent;return cs}prev(is){var cs=is;if(cs)if(cs.left)for(cs=cs.left;cs&&cs.right;)cs=cs.right;else for(cs=is.parent;cs&&cs.left===is;)is=cs,cs=cs.parent;return cs}forEach(is){for(var cs=this._root,lo=[],co=!1,hs=0;!co;)cs?(lo.push(cs),cs=cs.left):lo.length>0?(cs=lo.pop(),is(cs,hs++),cs=cs.right):co=!0;return this}range(is,cs,lo,co){const hs=[],uo=this._compare;let xa=this._root,ba;for(;hs.length!==0||xa;)if(xa)hs.push(xa),xa=xa.left;else{if(xa=hs.pop(),ba=uo(xa.key,cs),ba>0)break;if(uo(xa.key,is)>=0&&lo.call(co,xa))return this;xa=xa.right}return this}keys(){for(var is=this._root,cs=[],lo=[],co=!1;!co;)is?(cs.push(is),is=is.left):cs.length>0?(is=cs.pop(),lo.push(is.key),is=is.right):co=!0;return lo}values(){for(var is=this._root,cs=[],lo=[],co=!1;!co;)is?(cs.push(is),is=is.left):cs.length>0?(is=cs.pop(),lo.push(is.data),is=is.right):co=!0;return lo}at(is){for(var cs=this._root,lo=[],co=!1,hs=0;!co;)if(cs)lo.push(cs),cs=cs.left;else if(lo.length>0){if(cs=lo.pop(),hs===is)return cs;hs++,cs=cs.right}else co=!0;return null}load(is=[],cs=[],lo=!1){if(this._size!==0)throw new Error("bulk-load: tree is not empty");const co=is.length;return lo&&sort(is,cs,0,co-1,this._compare),this._root=loadRecursive(null,is,cs,0,co),this._size=co,this}min(){var is=this.minNode(this._root);return is?is.key:null}max(){var is=this.maxNode(this._root);return is?is.key:null}isEmpty(){return this._root===null}get size(){return this._size}static createTree(is,cs,lo,co,hs){return new SplayTree(lo,hs).load(is,cs,co)}}function loadRecursive(us,is,cs,lo,co){const hs=co-lo;if(hs>0){const uo=lo+Math.floor(hs/2),xa=is[uo],ba=cs[uo],$a={key:xa,data:ba,parent:us};return $a.left=loadRecursive($a,is,cs,lo,uo),$a.right=loadRecursive($a,is,cs,uo+1,co),$a}return null}function sort(us,is,cs,lo,co){if(cs>=lo)return;const hs=us[cs+lo>>1];let uo=cs-1,xa=lo+1;for(;;){do uo++;while(co(us[uo],hs)<0);do xa--;while(co(us[xa],hs)>0);if(uo>=xa)break;let ba=us[uo];us[uo]=us[xa],us[xa]=ba,ba=is[uo],is[uo]=is[xa],is[xa]=ba}sort(us,is,cs,xa,co),sort(us,is,xa+1,lo,co)}const NORMAL=0,NON_CONTRIBUTING=1,SAME_TRANSITION=2,DIFFERENT_TRANSITION=3,INTERSECTION=0,UNION=1,DIFFERENCE=2,XOR=3;function computeFields(us,is,cs){is===null?(us.inOut=!1,us.otherInOut=!0):(us.isSubject===is.isSubject?(us.inOut=!is.inOut,us.otherInOut=is.otherInOut):(us.inOut=!is.otherInOut,us.otherInOut=is.isVertical()?!is.inOut:is.inOut),is&&(us.prevInResult=!inResult(is,cs)||is.isVertical()?is.prevInResult:is)),inResult(us,cs)?us.resultTransition=determineResultTransition(us,cs):us.resultTransition=0}function inResult(us,is){switch(us.type){case NORMAL:switch(is){case INTERSECTION:return!us.otherInOut;case UNION:return us.otherInOut;case DIFFERENCE:return us.isSubject&&us.otherInOut||!us.isSubject&&!us.otherInOut;case XOR:return!0}break;case SAME_TRANSITION:return is===INTERSECTION||is===UNION;case DIFFERENT_TRANSITION:return is===DIFFERENCE;case NON_CONTRIBUTING:return!1}return!1}function determineResultTransition(us,is){let cs=!us.inOut,lo=!us.otherInOut,co;switch(is){case INTERSECTION:co=cs&&lo;break;case UNION:co=cs||lo;break;case XOR:co=cs^lo;break;case DIFFERENCE:us.isSubject?co=cs&&!lo:co=lo&&!cs;break}return co?1:-1}class SweepEvent{constructor(is,cs,lo,co,hs){this.left=cs,this.point=is,this.otherEvent=lo,this.isSubject=co,this.type=hs||NORMAL,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.resultTransition=0,this.otherPos=-1,this.outputContourId=-1,this.isExteriorRing=!0}isBelow(is){const cs=this.point,lo=this.otherEvent.point;return this.left?(cs[0]-is[0])*(lo[1]-is[1])-(lo[0]-is[0])*(cs[1]-is[1])>0:(lo[0]-is[0])*(cs[1]-is[1])-(cs[0]-is[0])*(lo[1]-is[1])>0}isAbove(is){return!this.isBelow(is)}isVertical(){return this.point[0]===this.otherEvent.point[0]}get inResult(){return this.resultTransition!==0}clone(){const is=new SweepEvent(this.point,this.left,this.otherEvent,this.isSubject,this.type);return is.contourId=this.contourId,is.resultTransition=this.resultTransition,is.prevInResult=this.prevInResult,is.isExteriorRing=this.isExteriorRing,is.inOut=this.inOut,is.otherInOut=this.otherInOut,is}}function equals(us,is){return us[0]===is[0]?us[1]===is[1]:!1}const epsilon=11102230246251565e-32,splitter=134217729,resulterrbound=(3+8*epsilon)*epsilon;function sum(us,is,cs,lo,co){let hs,uo,xa,ba,$a=is[0],wl=lo[0],Sl=0,Cl=0;wl>$a==wl>-$a?(hs=$a,$a=is[++Sl]):(hs=wl,wl=lo[++Cl]);let _l=0;if(Sl<us&&Cl<cs)for(wl>$a==wl>-$a?(uo=$a+hs,xa=hs-(uo-$a),$a=is[++Sl]):(uo=wl+hs,xa=hs-(uo-wl),wl=lo[++Cl]),hs=uo,xa!==0&&(co[_l++]=xa);Sl<us&&Cl<cs;)wl>$a==wl>-$a?(uo=hs+$a,ba=uo-hs,xa=hs-(uo-ba)+($a-ba),$a=is[++Sl]):(uo=hs+wl,ba=uo-hs,xa=hs-(uo-ba)+(wl-ba),wl=lo[++Cl]),hs=uo,xa!==0&&(co[_l++]=xa);for(;Sl<us;)uo=hs+$a,ba=uo-hs,xa=hs-(uo-ba)+($a-ba),$a=is[++Sl],hs=uo,xa!==0&&(co[_l++]=xa);for(;Cl<cs;)uo=hs+wl,ba=uo-hs,xa=hs-(uo-ba)+(wl-ba),wl=lo[++Cl],hs=uo,xa!==0&&(co[_l++]=xa);return(hs!==0||_l===0)&&(co[_l++]=hs),_l}function estimate(us,is){let cs=is[0];for(let lo=1;lo<us;lo++)cs+=is[lo];return cs}function vec(us){return new Float64Array(us)}const ccwerrboundA=(3+16*epsilon)*epsilon,ccwerrboundB=(2+12*epsilon)*epsilon,ccwerrboundC=(9+64*epsilon)*epsilon*epsilon,B=vec(4),C1=vec(8),C2=vec(12),D=vec(16),u=vec(4);function orient2dadapt(us,is,cs,lo,co,hs,uo){let xa,ba,$a,wl,Sl,Cl,_l,Il,Fl,Ml,Tl,Dl,Bl,Ll,Nl,zl,$l,Vl;const Gl=us-co,iu=cs-co,nu=is-hs,Jl=lo-hs;Ll=Gl*Jl,Cl=splitter*Gl,_l=Cl-(Cl-Gl),Il=Gl-_l,Cl=splitter*Jl,Fl=Cl-(Cl-Jl),Ml=Jl-Fl,Nl=Il*Ml-(Ll-_l*Fl-Il*Fl-_l*Ml),zl=nu*iu,Cl=splitter*nu,_l=Cl-(Cl-nu),Il=nu-_l,Cl=splitter*iu,Fl=Cl-(Cl-iu),Ml=iu-Fl,$l=Il*Ml-(zl-_l*Fl-Il*Fl-_l*Ml),Tl=Nl-$l,Sl=Nl-Tl,B[0]=Nl-(Tl+Sl)+(Sl-$l),Dl=Ll+Tl,Sl=Dl-Ll,Bl=Ll-(Dl-Sl)+(Tl-Sl),Tl=Bl-zl,Sl=Bl-Tl,B[1]=Bl-(Tl+Sl)+(Sl-zl),Vl=Dl+Tl,Sl=Vl-Dl,B[2]=Dl-(Vl-Sl)+(Tl-Sl),B[3]=Vl;let lu=estimate(4,B),ju=ccwerrboundB*uo;if(lu>=ju||-lu>=ju||(Sl=us-Gl,xa=us-(Gl+Sl)+(Sl-co),Sl=cs-iu,$a=cs-(iu+Sl)+(Sl-co),Sl=is-nu,ba=is-(nu+Sl)+(Sl-hs),Sl=lo-Jl,wl=lo-(Jl+Sl)+(Sl-hs),xa===0&&ba===0&&$a===0&&wl===0)||(ju=ccwerrboundC*uo+resulterrbound*Math.abs(lu),lu+=Gl*wl+Jl*xa-(nu*$a+iu*ba),lu>=ju||-lu>=ju))return lu;Ll=xa*Jl,Cl=splitter*xa,_l=Cl-(Cl-xa),Il=xa-_l,Cl=splitter*Jl,Fl=Cl-(Cl-Jl),Ml=Jl-Fl,Nl=Il*Ml-(Ll-_l*Fl-Il*Fl-_l*Ml),zl=ba*iu,Cl=splitter*ba,_l=Cl-(Cl-ba),Il=ba-_l,Cl=splitter*iu,Fl=Cl-(Cl-iu),Ml=iu-Fl,$l=Il*Ml-(zl-_l*Fl-Il*Fl-_l*Ml),Tl=Nl-$l,Sl=Nl-Tl,u[0]=Nl-(Tl+Sl)+(Sl-$l),Dl=Ll+Tl,Sl=Dl-Ll,Bl=Ll-(Dl-Sl)+(Tl-Sl),Tl=Bl-zl,Sl=Bl-Tl,u[1]=Bl-(Tl+Sl)+(Sl-zl),Vl=Dl+Tl,Sl=Vl-Dl,u[2]=Dl-(Vl-Sl)+(Tl-Sl),u[3]=Vl;const zu=sum(4,B,4,u,C1);Ll=Gl*wl,Cl=splitter*Gl,_l=Cl-(Cl-Gl),Il=Gl-_l,Cl=splitter*wl,Fl=Cl-(Cl-wl),Ml=wl-Fl,Nl=Il*Ml-(Ll-_l*Fl-Il*Fl-_l*Ml),zl=nu*$a,Cl=splitter*nu,_l=Cl-(Cl-nu),Il=nu-_l,Cl=splitter*$a,Fl=Cl-(Cl-$a),Ml=$a-Fl,$l=Il*Ml-(zl-_l*Fl-Il*Fl-_l*Ml),Tl=Nl-$l,Sl=Nl-Tl,u[0]=Nl-(Tl+Sl)+(Sl-$l),Dl=Ll+Tl,Sl=Dl-Ll,Bl=Ll-(Dl-Sl)+(Tl-Sl),Tl=Bl-zl,Sl=Bl-Tl,u[1]=Bl-(Tl+Sl)+(Sl-zl),Vl=Dl+Tl,Sl=Vl-Dl,u[2]=Dl-(Vl-Sl)+(Tl-Sl),u[3]=Vl;const Wu=sum(zu,C1,4,u,C2);Ll=xa*wl,Cl=splitter*xa,_l=Cl-(Cl-xa),Il=xa-_l,Cl=splitter*wl,Fl=Cl-(Cl-wl),Ml=wl-Fl,Nl=Il*Ml-(Ll-_l*Fl-Il*Fl-_l*Ml),zl=ba*$a,Cl=splitter*ba,_l=Cl-(Cl-ba),Il=ba-_l,Cl=splitter*$a,Fl=Cl-(Cl-$a),Ml=$a-Fl,$l=Il*Ml-(zl-_l*Fl-Il*Fl-_l*Ml),Tl=Nl-$l,Sl=Nl-Tl,u[0]=Nl-(Tl+Sl)+(Sl-$l),Dl=Ll+Tl,Sl=Dl-Ll,Bl=Ll-(Dl-Sl)+(Tl-Sl),Tl=Bl-zl,Sl=Bl-Tl,u[1]=Bl-(Tl+Sl)+(Sl-zl),Vl=Dl+Tl,Sl=Vl-Dl,u[2]=Dl-(Vl-Sl)+(Tl-Sl),u[3]=Vl;const qu=sum(Wu,C2,4,u,D);return D[qu-1]}function orient2d(us,is,cs,lo,co,hs){const uo=(is-hs)*(cs-co),xa=(us-co)*(lo-hs),ba=uo-xa;if(uo===0||xa===0||uo>0!=xa>0)return ba;const $a=Math.abs(uo+xa);return Math.abs(ba)>=ccwerrboundA*$a?ba:-orient2dadapt(us,is,cs,lo,co,hs,$a)}function signedArea(us,is,cs){const lo=orient2d(us[0],us[1],is[0],is[1],cs[0],cs[1]);return lo>0?-1:lo<0?1:0}function compareEvents(us,is){const cs=us.point,lo=is.point;return cs[0]>lo[0]?1:cs[0]<lo[0]?-1:cs[1]!==lo[1]?cs[1]>lo[1]?1:-1:specialCases(us,is,cs)}function specialCases(us,is,cs,lo){return us.left!==is.left?us.left?1:-1:signedArea(cs,us.otherEvent.point,is.otherEvent.point)!==0?us.isBelow(is.otherEvent.point)?-1:1:!us.isSubject&&is.isSubject?1:-1}function divideSegment(us,is,cs){const lo=new SweepEvent(is,!1,us,us.isSubject),co=new SweepEvent(is,!0,us.otherEvent,us.isSubject);return equals(us.point,us.otherEvent.point)&&console.warn("what is that, a collapsed segment?",us),lo.contourId=co.contourId=us.contourId,compareEvents(co,us.otherEvent)>0&&(us.otherEvent.left=!0,co.left=!1),us.otherEvent.otherEvent=co,us.otherEvent=lo,cs.push(co),cs.push(lo),cs}function crossProduct(us,is){return us[0]*is[1]-us[1]*is[0]}function dotProduct(us,is){return us[0]*is[0]+us[1]*is[1]}function intersection$1(us,is,cs,lo,co){const hs=[is[0]-us[0],is[1]-us[1]],uo=[lo[0]-cs[0],lo[1]-cs[1]];function xa(Ml,Tl,Dl){return[Ml[0]+Tl*Dl[0],Ml[1]+Tl*Dl[1]]}const ba=[cs[0]-us[0],cs[1]-us[1]];let $a=crossProduct(hs,uo),wl=$a*$a;const Sl=dotProduct(hs,hs);if(wl>0){const Ml=crossProduct(ba,uo)/$a;if(Ml<0||Ml>1)return null;const Tl=crossProduct(ba,hs)/$a;return Tl<0||Tl>1?null:Ml===0||Ml===1?[xa(us,Ml,hs)]:Tl===0||Tl===1?[xa(cs,Tl,uo)]:[xa(us,Ml,hs)]}if($a=crossProduct(ba,hs),wl=$a*$a,wl>0)return null;const Cl=dotProduct(hs,ba)/Sl,_l=Cl+dotProduct(hs,uo)/Sl,Il=Math.min(Cl,_l),Fl=Math.max(Cl,_l);return Il<=1&&Fl>=0?Il===1?[xa(us,Il>0?Il:0,hs)]:Fl===0?[xa(us,Fl<1?Fl:1,hs)]:[xa(us,Il>0?Il:0,hs),xa(us,Fl<1?Fl:1,hs)]:null}function possibleIntersection(us,is,cs){const lo=intersection$1(us.point,us.otherEvent.point,is.point,is.otherEvent.point),co=lo?lo.length:0;if(co===0||co===1&&(equals(us.point,is.point)||equals(us.otherEvent.point,is.otherEvent.point))||co===2&&us.isSubject===is.isSubject)return 0;if(co===1)return!equals(us.point,lo[0])&&!equals(us.otherEvent.point,lo[0])&&divideSegment(us,lo[0],cs),!equals(is.point,lo[0])&&!equals(is.otherEvent.point,lo[0])&&divideSegment(is,lo[0],cs),1;const hs=[];let uo=!1,xa=!1;return equals(us.point,is.point)?uo=!0:compareEvents(us,is)===1?hs.push(is,us):hs.push(us,is),equals(us.otherEvent.point,is.otherEvent.point)?xa=!0:compareEvents(us.otherEvent,is.otherEvent)===1?hs.push(is.otherEvent,us.otherEvent):hs.push(us.otherEvent,is.otherEvent),uo&&xa||uo?(is.type=NON_CONTRIBUTING,us.type=is.inOut===us.inOut?SAME_TRANSITION:DIFFERENT_TRANSITION,uo&&!xa&&divideSegment(hs[1].otherEvent,hs[0].point,cs),2):xa?(divideSegment(hs[0],hs[1].point,cs),3):hs[0]!==hs[3].otherEvent?(divideSegment(hs[0],hs[1].point,cs),divideSegment(hs[1],hs[2].point,cs),3):(divideSegment(hs[0],hs[1].point,cs),divideSegment(hs[3].otherEvent,hs[2].point,cs),3)}function compareSegments(us,is){if(us===is)return 0;if(signedArea(us.point,us.otherEvent.point,is.point)!==0||signedArea(us.point,us.otherEvent.point,is.otherEvent.point)!==0)return equals(us.point,is.point)?us.isBelow(is.otherEvent.point)?-1:1:us.point[0]===is.point[0]?us.point[1]<is.point[1]?-1:1:compareEvents(us,is)===1?is.isAbove(us.point)?-1:1:us.isBelow(is.point)?-1:1;if(us.isSubject===is.isSubject){let cs=us.point,lo=is.point;if(cs[0]===lo[0]&&cs[1]===lo[1])return cs=us.otherEvent.point,lo=is.otherEvent.point,cs[0]===lo[0]&&cs[1]===lo[1]?0:us.contourId>is.contourId?1:-1}else return us.isSubject?-1:1;return compareEvents(us,is)===1?1:-1}function subdivide(us,is,cs,lo,co,hs){const uo=new SplayTree(compareSegments),xa=[],ba=Math.min(lo[2],co[2]);let $a,wl,Sl;for(;us.length!==0;){let Cl=us.pop();if(xa.push(Cl),hs===INTERSECTION&&Cl.point[0]>ba||hs===DIFFERENCE&&Cl.point[0]>lo[2])break;if(Cl.left){wl=$a=uo.insert(Cl),Sl=uo.minNode(),$a!==Sl?$a=uo.prev($a):$a=null,wl=uo.next(wl);const _l=$a?$a.key:null;let Il;if(computeFields(Cl,_l,hs),wl&&possibleIntersection(Cl,wl.key,us)===2&&(computeFields(Cl,_l,hs),computeFields(wl.key,Cl,hs)),$a&&possibleIntersection($a.key,Cl,us)===2){let Fl=$a;Fl!==Sl?Fl=uo.prev(Fl):Fl=null,Il=Fl?Fl.key:null,computeFields(_l,Il,hs),computeFields(Cl,_l,hs)}}else Cl=Cl.otherEvent,wl=$a=uo.find(Cl),$a&&wl&&($a!==Sl?$a=uo.prev($a):$a=null,wl=uo.next(wl),uo.remove(Cl),wl&&$a&&possibleIntersection($a.key,wl.key,us))}return xa}class Contour{constructor(){this.points=[],this.holeIds=[],this.holeOf=null,this.depth=null}isExterior(){return this.holeOf==null}}function orderEvents(us){let is,cs,lo,co;const hs=[];for(cs=0,lo=us.length;cs<lo;cs++)is=us[cs],(is.left&&is.inResult||!is.left&&is.otherEvent.inResult)&&hs.push(is);let uo=!1;for(;!uo;)for(uo=!0,cs=0,lo=hs.length;cs<lo;cs++)cs+1<lo&&compareEvents(hs[cs],hs[cs+1])===1&&(co=hs[cs],hs[cs]=hs[cs+1],hs[cs+1]=co,uo=!1);for(cs=0,lo=hs.length;cs<lo;cs++)is=hs[cs],is.otherPos=cs;for(cs=0,lo=hs.length;cs<lo;cs++)is=hs[cs],is.left||(co=is.otherPos,is.otherPos=is.otherEvent.otherPos,is.otherEvent.otherPos=co);return hs}function nextPos(us,is,cs,lo){let co=us+1,hs=is[us].point,uo;const xa=is.length;for(co<xa&&(uo=is[co].point);co<xa&&uo[0]===hs[0]&&uo[1]===hs[1];){if(cs[co])co++;else return co;co<xa&&(uo=is[co].point)}for(co=us-1;cs[co]&&co>lo;)co--;return co}function initializeContourFromContext(us,is,cs){const lo=new Contour;if(us.prevInResult!=null){const co=us.prevInResult,hs=co.outputContourId;if(co.resultTransition>0){const xa=is[hs];if(xa.holeOf!=null){const ba=xa.holeOf;is[ba].holeIds.push(cs),lo.holeOf=ba,lo.depth=is[hs].depth}else is[hs].holeIds.push(cs),lo.holeOf=hs,lo.depth=is[hs].depth+1}else lo.holeOf=null,lo.depth=is[hs].depth}else lo.holeOf=null,lo.depth=0;return lo}function connectEdges(us){let is,cs;const lo=orderEvents(us),co={},hs=[];for(is=0,cs=lo.length;is<cs;is++){if(co[is])continue;const uo=hs.length,xa=initializeContourFromContext(lo[is],hs,uo),ba=Cl=>{co[Cl]=!0,Cl<lo.length&&lo[Cl]&&(lo[Cl].outputContourId=uo)};let $a=is,wl=is;const Sl=lo[is].point;for(xa.points.push(Sl);ba($a),$a=lo[$a].otherPos,ba($a),xa.points.push(lo[$a].point),$a=nextPos($a,lo,co,wl),!($a==wl||$a>=lo.length||!lo[$a]););hs.push(xa)}return hs}var tinyqueue={exports:{}};tinyqueue.exports=TinyQueue;tinyqueue.exports.default=TinyQueue;function TinyQueue(us,is){if(!(this instanceof TinyQueue))return new TinyQueue(us,is);if(this.data=us||[],this.length=this.data.length,this.compare=is||defaultCompare,this.length>0)for(var cs=(this.length>>1)-1;cs>=0;cs--)this._down(cs)}function defaultCompare(us,is){return us<is?-1:us>is?1:0}TinyQueue.prototype={push:function(us){this.data.push(us),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var us=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),us}},peek:function(){return this.data[0]},_up:function(us){for(var is=this.data,cs=this.compare,lo=is[us];us>0;){var co=us-1>>1,hs=is[co];if(cs(lo,hs)>=0)break;is[us]=hs,us=co}is[us]=lo},_down:function(us){for(var is=this.data,cs=this.compare,lo=this.length>>1,co=is[us];us<lo;){var hs=(us<<1)+1,uo=hs+1,xa=is[hs];if(uo<this.length&&cs(is[uo],xa)<0&&(hs=uo,xa=is[uo]),cs(xa,co)>=0)break;is[us]=xa,us=hs}is[us]=co}};var tinyqueueExports=tinyqueue.exports;const Queue=getDefaultExportFromCjs$1(tinyqueueExports),max=Math.max,min=Math.min;let contourId=0;function processPolygon(us,is,cs,lo,co,hs){let uo,xa,ba,$a,wl,Sl;for(uo=0,xa=us.length-1;uo<xa;uo++){if(ba=us[uo],$a=us[uo+1],wl=new SweepEvent(ba,!1,void 0,is),Sl=new SweepEvent($a,!1,wl,is),wl.otherEvent=Sl,ba[0]===$a[0]&&ba[1]===$a[1])continue;wl.contourId=Sl.contourId=cs,hs||(wl.isExteriorRing=!1,Sl.isExteriorRing=!1),compareEvents(wl,Sl)>0?Sl.left=!0:wl.left=!0;const Cl=ba[0],_l=ba[1];co[0]=min(co[0],Cl),co[1]=min(co[1],_l),co[2]=max(co[2],Cl),co[3]=max(co[3],_l),lo.push(wl),lo.push(Sl)}}function fillQueue(us,is,cs,lo,co){const hs=new Queue(null,compareEvents);let uo,xa,ba,$a,wl,Sl;for(ba=0,$a=us.length;ba<$a;ba++)for(uo=us[ba],wl=0,Sl=uo.length;wl<Sl;wl++)xa=wl===0,xa&&contourId++,processPolygon(uo[wl],!0,contourId,hs,cs,xa);for(ba=0,$a=is.length;ba<$a;ba++)for(uo=is[ba],wl=0,Sl=uo.length;wl<Sl;wl++)xa=wl===0,co===DIFFERENCE&&(xa=!1),xa&&contourId++,processPolygon(uo[wl],!1,contourId,hs,lo,xa);return hs}const EMPTY=[];function trivialOperation(us,is,cs){let lo=null;return us.length*is.length===0&&(cs===INTERSECTION?lo=EMPTY:cs===DIFFERENCE?lo=us:(cs===UNION||cs===XOR)&&(lo=us.length===0?is:us)),lo}function compareBBoxes(us,is,cs,lo,co){let hs=null;return(cs[0]>lo[2]||lo[0]>cs[2]||cs[1]>lo[3]||lo[1]>cs[3])&&(co===INTERSECTION?hs=EMPTY:co===DIFFERENCE?hs=us:(co===UNION||co===XOR)&&(hs=us.concat(is))),hs}function boolean(us,is,cs){typeof us[0][0][0]=="number"&&(us=[us]),typeof is[0][0][0]=="number"&&(is=[is]);let lo=trivialOperation(us,is,cs);if(lo)return lo===EMPTY?null:lo;const co=[1/0,1/0,-1/0,-1/0],hs=[1/0,1/0,-1/0,-1/0],uo=fillQueue(us,is,co,hs,cs);if(lo=compareBBoxes(us,is,co,hs,cs),lo)return lo===EMPTY?null:lo;const xa=subdivide(uo,us,is,co,hs,cs),ba=connectEdges(xa),$a=[];for(let wl=0;wl<ba.length;wl++){let Sl=ba[wl];if(Sl.isExterior()){let Cl=[Sl.points];for(let _l=0;_l<Sl.holeIds.length;_l++){let Il=Sl.holeIds[_l];Cl.push(ba[Il].points)}$a.push(Cl)}}return $a}function union(us,is){return boolean(us,is,UNION)}function diff(us,is){return boolean(us,is,DIFFERENCE)}function intersection(us,is){return boolean(us,is,INTERSECTION)}const REGION_OPERATIONS={ADD:"add",SUBTRACT:"subtract"},polygonContainsPoint=(us,is,cs,lo=1)=>{if(!Array.isArray(cs)||cs.length<6)return!1;let co=!1;for(let hs=0,uo=cs.length-2;hs<cs.length;hs+=2){const xa=cs[hs]*lo,ba=cs[hs+1]*lo,$a=cs[uo]*lo,wl=cs[uo+1]*lo,Sl=wl-ba||1e-6;ba>is!=wl>is&&us<($a-xa)*(is-ba)/Sl+xa&&(co=!co),uo=hs}return co},rectangleContainsPoint=(us,is,cs,lo=1)=>{if(!Array.isArray(cs)||cs.length<8)return!1;const co=[cs[0],cs[2],cs[4],cs[6]].map(wl=>wl*lo),hs=[cs[1],cs[3],cs[5],cs[7]].map(wl=>wl*lo),uo=Math.min(...co),xa=Math.max(...co),ba=Math.min(...hs),$a=Math.max(...hs);return us>=uo&&us<=xa&&is>=ba&&is<=$a},regionContainsPoint=(us,is,cs,lo=1)=>!cs||!Array.isArray(cs.coordinates)?!1:cs.shapeType==="rectangular"?rectangleContainsPoint(us,is,cs.coordinates,lo):polygonContainsPoint(us,is,cs.coordinates,lo),getSqSegDist=(us,is,cs)=>{let lo=is.x,co=is.y,hs=cs.x-lo,uo=cs.y-co;if(hs!==0||uo!==0){const xa=((us.x-lo)*hs+(us.y-co)*uo)/(hs*hs+uo*uo);xa>1?(lo=cs.x,co=cs.y):xa>0&&(lo+=hs*xa,co+=uo*xa)}return hs=us.x-lo,uo=us.y-co,hs*hs+uo*uo},simplifyDPStep=(us,is,cs,lo,co)=>{let hs=lo,uo=-1;for(let xa=is+1;xa<cs;xa++){const ba=getSqSegDist(us[xa],us[is],us[cs]);ba>hs&&(uo=xa,hs=ba)}hs>lo&&(uo-is>1&&simplifyDPStep(us,is,uo,lo,co),co.push(us[uo]),cs-uo>1&&simplifyDPStep(us,uo,cs,lo,co))},simplifyPolygon=(us,is=2)=>{if(!Array.isArray(us)||us.length<6)return us;const cs=[];for(let uo=0;uo<us.length;uo+=2)cs.push({x:us[uo],y:us[uo+1]});if(cs.length<=2)return us;const lo=is*is,co=[cs[0]];simplifyDPStep(cs,0,cs.length-1,lo,co),co.push(cs[cs.length-1]);const hs=[];for(const uo of co)hs.push(uo.x,uo.y);return hs},isPointNearPath=(us,is,cs)=>{if(is.type!=="path")return!1;try{if(is.containsPoint&&typeof is.containsPoint=="function")try{if(is.containsPoint(us))return!0}catch{}const lo=is.getBoundingRect(),co=is.strokeWidth||3,hs=Math.max(cs,co/2+2);if(us.x<lo.left-hs||us.x>lo.left+lo.width+hs||us.y<lo.top-hs||us.y>lo.top+lo.height+hs)return!1;const uo=is.path;if(!uo||uo.length===0)return!1;let xa=1/0,ba=0,$a=0;for(let wl=0;wl<uo.length;wl++){const Sl=uo[wl],Cl=Sl[0];let _l,Il;if(Cl==="M"||Cl==="m")_l=Cl==="M"?Sl[1]:ba+Sl[1],Il=Cl==="M"?Sl[2]:$a+Sl[2],ba=_l,$a=Il;else if(Cl==="L"||Cl==="l"){_l=Cl==="L"?Sl[1]:ba+Sl[1],Il=Cl==="L"?Sl[2]:$a+Sl[2];const Fl=ba+(is.left||0),Ml=$a+(is.top||0),Tl=_l+(is.left||0),Dl=Il+(is.top||0),Bl=us.x-Fl,Ll=us.y-Ml,Nl=Tl-Fl,zl=Dl-Ml,$l=Bl*Nl+Ll*zl,Vl=Nl*Nl+zl*zl;let Gl=-1;Vl!==0&&(Gl=$l/Vl);let iu,nu;Gl<0?(iu=Fl,nu=Ml):Gl>1?(iu=Tl,nu=Dl):(iu=Fl+Gl*Nl,nu=Ml+Gl*zl);const Jl=us.x-iu,lu=us.y-nu,ju=Math.sqrt(Jl*Jl+lu*lu);xa=Math.min(xa,ju),ba=_l,$a=Il}else if(Cl==="C"||Cl==="c"||Cl==="Q"||Cl==="q"){Cl==="C"||Cl==="c"?(_l=Cl==="C"?Sl[5]:ba+Sl[5],Il=Cl==="C"?Sl[6]:$a+Sl[6]):(_l=Cl==="Q"?Sl[3]:ba+Sl[3],Il=Cl==="Q"?Sl[4]:$a+Sl[4]);const Fl=_l+(is.left||0),Ml=Il+(is.top||0),Tl=Math.sqrt(Math.pow(us.x-Fl,2)+Math.pow(us.y-Ml,2));xa=Math.min(xa,Tl),ba=_l,$a=Il}}return xa<hs}catch{const co=is.getBoundingRect(),hs=is.strokeWidth||3,uo=Math.max(cs,hs/2);return us.x>=co.left-uo&&us.x<=co.left+co.width+uo&&us.y>=co.top-uo&&us.y<=co.top+co.height+uo}},erasePathSegment=(us,is,cs,lo)=>{if(us.type!=="path")return!1;try{const co={stroke:us.stroke,strokeWidth:us.strokeWidth,fill:us.fill,strokeUniform:us.strokeUniform,spaceId:us.spaceId,moduleId:us.moduleId,left:us.left,top:us.top},hs=us.path;if(!hs||hs.length===0)return!1;const uo=[];let xa=0,ba=0;for(let Cl=0;Cl<hs.length;Cl++){const _l=hs[Cl],Il=_l[0];Il==="M"||Il==="m"?(xa=Il==="M"?_l[1]:xa+_l[1],ba=Il==="M"?_l[2]:ba+_l[2],uo.push({x:xa,y:ba,command:"M",index:Cl})):Il==="L"||Il==="l"?(xa=Il==="L"?_l[1]:xa+_l[1],ba=Il==="L"?_l[2]:ba+_l[2],uo.push({x:xa,y:ba,command:"L",index:Cl})):Il==="C"||Il==="c"?(xa=Il==="C"?_l[5]:xa+_l[5],ba=Il==="C"?_l[6]:ba+_l[6],uo.push({x:xa,y:ba,command:"C",index:Cl})):(Il==="Q"||Il==="q")&&(xa=Il==="Q"?_l[3]:xa+_l[3],ba=Il==="Q"?_l[4]:ba+_l[4],uo.push({x:xa,y:ba,command:"Q",index:Cl}))}if(uo.length<2)return!1;const $a=uo.map(Cl=>({...Cl,canvasX:Cl.x+co.left,canvasY:Cl.y+co.top})),wl=[];let Sl=[];for(let Cl=0;Cl<$a.length;Cl++){const _l=$a[Cl];let Il=!1;for(const Fl of is.points)if(Math.sqrt(Math.pow(_l.canvasX-Fl.x,2)+Math.pow(_l.canvasY-Fl.y,2))<cs){Il=!0;break}Il?(Sl.length>=2&&wl.push([...Sl]),Sl=[]):Sl.push(_l)}return Sl.length>=2&&wl.push(Sl),wl.length===0?(lo.remove(us),!0):wl.length===1&&wl[0].length===$a.length?!1:(lo.remove(us),wl.forEach(Cl=>{if(Cl.length<2)return;const _l=[];for(let Fl=0;Fl<Cl.length;Fl++){const Ml=Cl[Fl];Fl===0?_l.push(["M",Ml.x,Ml.y]):_l.push(["L",Ml.x,Ml.y])}const Il=new ro(_l,co);lo.add(Il)}),!0)}catch(co){return console.error("Error erasing path segment:",co),!1}},ensureRgbaOpacity=(us,is=.2)=>{if(!us)return`rgba(255, 193, 7, ${is})`;if(us.startsWith("rgba")){const cs=us.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(cs)return`rgba(${cs[1]}, ${cs[2]}, ${cs[3]}, ${is})`}if(us.startsWith("#")){const cs=us.replace("#",""),lo=parseInt(cs.substring(0,2),16),co=parseInt(cs.substring(2,4),16),hs=parseInt(cs.substring(4,6),16);return`rgba(${lo}, ${co}, ${hs}, ${is})`}return us},DEFAULT_SURVEY_HIGHLIGHT_OPACITY$1=.4,normalizeHighlightColor$1=(us,is=DEFAULT_SURVEY_HIGHLIGHT_OPACITY$1)=>{if(!us||typeof us!="string")return null;const cs=us.trim(),lo=cs.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/i);if(lo){const[,co,hs,uo,xa]=lo;if(xa!==void 0){const ba=parseFloat(xa),$a=Number.isFinite(ba)?Math.min(1,Math.max(0,ba)):is;return`rgba(${co}, ${hs}, ${uo}, ${$a})`}return`rgba(${co}, ${hs}, ${uo}, ${is})`}return cs.startsWith("#")?ensureRgbaOpacity(cs,is):cs},PageAnnotationLayer=reactExports.memo(({pageNumber:us,width:is,height:cs,scale:lo,tool:co="pan",strokeColor:hs="#DC3545",strokeWidth:uo=3,annotations:xa=null,onSaveAnnotations:ba=()=>{},highlightColor:$a="rgba(255, 193, 7, 0.3)",newHighlights:wl=null,highlightsToRemove:Sl=null,onHighlightCreated:Cl=null,onHighlightDeleted:_l=null,selectedSpaceId:Il=null,selectedModuleId:Fl=null,activeRegions:Ml=null,eraserMode:Tl="partial",showSurveyPanel:Dl=!1})=>{const Bl=reactExports.useRef(null),Ll=reactExports.useRef(null),Nl=reactExports.useRef(new Set),zl=reactExports.useRef(!1),$l=reactExports.useRef({isDrawingShape:!1,startX:0,startY:0,tempObj:null}),Vl=reactExports.useRef(co),Gl=reactExports.useRef(hs),iu=reactExports.useRef(uo),nu=reactExports.useRef(Cl),Jl=reactExports.useRef(_l),lu=reactExports.useRef(Il),ju=reactExports.useRef(Fl),zu=reactExports.useRef(Dl),Wu=reactExports.useRef(Tl),qu=reactExports.useRef(!1),Mu=reactExports.useRef(null);reactExports.useEffect(()=>{nu.current=Cl},[Cl]),reactExports.useEffect(()=>{Jl.current=_l},[_l]),reactExports.useEffect(()=>{lu.current=Il},[Il]),reactExports.useEffect(()=>{ju.current=Fl},[Fl]),reactExports.useEffect(()=>{zu.current=Dl},[Dl]),reactExports.useEffect(()=>{Wu.current=Tl},[Tl]),reactExports.useEffect(()=>{if(!Bl.current||!is||!cs||zl.current)return;zl.current=!0;const ru=new In(Bl.current,{width:is*lo,height:cs*lo,backgroundColor:"transparent",selection:co==="pan"||co==="eraser",isDrawingMode:co==="pen"||co==="highlighter"}),Yl=new no(ru);Yl.color=hs,Yl.width=uo,ru.freeDrawingBrush=Yl,Ll.current=ru,xa&&xa.objects&&xa.objects.length>0&&(console.log(`[Page ${us}] Loading ${xa.objects.length} annotations`),xa.objects.forEach(fu=>{kn.enlivenObjects([fu],Fu=>{Fu.forEach(_f=>{_f.set({strokeUniform:!0}),_f.spaceId||(_f.spaceId=fu.spaceId||null),_f.moduleId||(_f.moduleId=fu.moduleId||null),ru.add(_f)}),ru.getObjects().forEach(_f=>{const Xu=_f.spaceId||null,Gu=_f.moduleId||null,Uu=lu.current,Au=ju.current,ip=(Uu===null||Xu===Uu)&&(Au===null||Gu===Au);_f.set({visible:ip}),ip||_f.set({selectable:!1,evented:!1})}),ru.renderAll()})}));const Hl=()=>{if(Ll.current)try{const fu=Ll.current.toJSON(["strokeUniform","spaceId","moduleId","highlightId","needsBIC"]);ba(us,fu)}catch(fu){console.error(`[Page ${us}] Save error:`,fu)}};(()=>{ru.isDrawingMode=co==="pen"||co==="highlighter",ru.selection=co==="pan",ru.defaultCursor=co==="eraser"?"crosshair":co==="text"?"text":co==="highlight"||ru.isDrawingMode?"crosshair":"default",ru.hoverCursor=ru.defaultCursor;const fu=co==="highlighter"?$a:hs,Fu=co==="highlighter"?Math.max(uo,8):uo;ru.freeDrawingBrush.color=fu,ru.freeDrawingBrush.width=Fu})();const _c=fu=>{fu.path&&(fu.path.set({strokeUniform:!0}),lu.current&&fu.path.set({spaceId:lu.current}),ju.current&&fu.path.set({moduleId:ju.current})),Hl()},Ql=()=>Hl(),su=fu=>{const Fu=Vl.current,_f=Gl.current,Xu=iu.current,Gu=Wu.current,{x:Uu,y:Au}=ru.getPointer(fu.e);if(Fu==="eraser"){const ip=ru.getPointer(fu.e),$u=Xu||10;let np=null,Eu=1/0;const Lu=ru.getObjects();for(const up of Lu){const mp=up.spaceId||null;if(lu.current!==null&&mp!==lu.current)continue;const Rp=up.highlightId!=null,kp=up.needsBIC===!0,hu=up.type==="rect"&&(up.fill&&typeof up.fill=="string"&&up.fill.includes("rgba")||up.fill&&typeof up.fill=="string"&&up.fill.match(/rgba\(\d+,\s*\d+,\s*\d+,\s*[\d.]+\)/)),Zl=!up.fill||up.fill==="transparent"||typeof up.fill=="string"&&up.fill==="transparent",eu=up.stroke&&typeof up.stroke=="string"&&up.stroke!=="transparent",Nu=up.type==="rect"&&Zl&&eu;if(Rp||kp||hu||Nu){const Vu=up.getBoundingRect();if(ip.x>=Vu.left&&ip.x<=Vu.left+Vu.width&&ip.y>=Vu.top&&ip.y<=Vu.top+Vu.height){np=up;break}}else if(up.type==="path"){if(isPointNearPath(ip,up,$u)){const Vu=up.getBoundingRect(),yu=Vu.left+Vu.width/2,Hu=Vu.top+Vu.height/2,Sp=Math.sqrt(Math.pow(ip.x-yu,2)+Math.pow(ip.y-Hu,2));Sp<Eu&&(Eu=Sp,np=up)}}else{const Vu=up.getBoundingRect();if(ip.x>=Vu.left&&ip.x<=Vu.left+Vu.width&&ip.y>=Vu.top&&ip.y<=Vu.top+Vu.height){np=up;break}}}if(np){const up=np.highlightId!=null,mp=np.needsBIC===!0,Rp=np.type==="rect"&&(np.fill&&typeof np.fill=="string"&&np.fill.includes("rgba")||np.fill&&typeof np.fill=="string"&&np.fill.match(/rgba\(\d+,\s*\d+,\s*\d+,\s*[\d.]+\)/)),kp=!np.fill||np.fill==="transparent"||typeof np.fill=="string"&&np.fill==="transparent",hu=np.stroke&&typeof np.stroke=="string"&&np.stroke!=="transparent",Zl=np.type==="rect"&&kp&&hu;if(up||mp||Rp||Zl){if(Jl.current){const Nu=ru.getZoom?ru.getZoom():lo,Zu={x:np.left/Nu,y:np.top/Nu,width:np.width/Nu,height:np.height/Nu,pageNumber:us},Vu=np.highlightId||null;Vu&&uu.current.has(Vu)&&uu.current.delete(Vu);const yu=Vu||`${Zu.x}-${Zu.y}-${Zu.width}-${Zu.height}`;Nl.current.delete(yu),ru.discardActiveObject(),ru.remove(np),ru.requestRenderAll(),Hl(),Jl.current&&Jl.current(us,Zu,Vu)}return}Gu==="entire"?(ru.remove(np),ru.discardActiveObject(),ru.requestRenderAll(),Hl()):(qu.current=!0,ru.discardActiveObject(),Mu.current={target:np,startX:Uu,startY:Au,points:[{x:Uu,y:Au}]})}else Gu==="partial"&&(qu.current=!0,Mu.current={target:null,startX:Uu,startY:Au,points:[{x:Uu,y:Au}]});return}if(Fu==="text"){const ip=new No("Text",{left:Uu,top:Au,fontSize:16,fill:_f,editable:!0,backgroundColor:"transparent"});lu.current&&ip.set({spaceId:lu.current}),ju.current&&ip.set({moduleId:ju.current}),ru.add(ip),ru.setActiveObject(ip),ru.requestRenderAll(),Hl();return}const Pu=$l.current;Pu.isDrawingShape=!1;let Ou=null;if(Fu==="highlight"){Ou=new Er({left:Uu,top:Au,width:1,height:1,fill:"transparent",stroke:"#4A90E2",strokeWidth:2,strokeDashArray:[5,5],strokeUniform:!0,selectable:!1,evented:!1}),Pu.isDrawingShape=!0,Pu.startX=Uu,Pu.startY=Au,Pu.tempObj=Ou,ju.current&&Ou.set({moduleId:ju.current}),ru.add(Ou);return}else if(Fu==="rect")Ou=new Er({left:Uu,top:Au,width:1,height:1,fill:"rgba(0,0,0,0)",stroke:_f,strokeWidth:Xu,strokeUniform:!0});else if(Fu==="ellipse")Ou=new ho({left:Uu,top:Au,radius:1,fill:"rgba(0,0,0,0)",stroke:_f,strokeWidth:Xu,strokeUniform:!0,originX:"left",originY:"top"});else if(Fu==="line"||Fu==="underline"||Fu==="strikeout")Ou=new mo([Uu,Au,Uu,Au],{stroke:_f,strokeWidth:Xu,strokeUniform:!0});else if(Fu==="arrow")Ou=new mo([Uu,Au,Uu,Au],{stroke:_f,strokeWidth:Xu,strokeUniform:!0});else if(Fu==="squiggly")Ou=new So([[Uu,Au]],{stroke:_f,strokeWidth:Xu,fill:"transparent",strokeUniform:!0});else if(Fu==="note"){const ip=new Hr([new Er({width:18,height:18,fill:"#ffeb3b",rx:4,ry:4}),new mo([4,9,14,9],{stroke:"#333",strokeWidth:2})],{left:Uu,top:Au,hasControls:!1,hasBorders:!1});ip.set("noteText",""),lu.current&&ip.set({spaceId:lu.current}),ju.current&&ip.set({moduleId:ju.current}),ip.on("mousedblclick",()=>{const $u=window.prompt("Note:",ip.get("noteText")||"");$u!==null&&(ip.set("noteText",$u),Hl())}),ru.add(ip),ru.requestRenderAll(),Hl();return}Ou&&(lu.current&&Ou.set({spaceId:lu.current}),ju.current&&Ou.set({moduleId:ju.current}),Pu.isDrawingShape=!0,Pu.startX=Uu,Pu.startY=Au,Pu.tempObj=Ou,ru.add(Ou))},gu=fu=>{const Fu=Vl.current,_f=Wu.current;if(Fu==="eraser"&&_f==="partial"&&qu.current&&Mu.current){const{x:Ou,y:ip}=ru.getPointer(fu.e),$u=Mu.current;$u.points.push({x:Ou,y:ip});const np=iu.current||10;ru.getObjects().forEach(Lu=>{const up=Lu.spaceId||null;if(lu.current!==null&&up!==lu.current)return;const mp=Lu.highlightId!=null,Rp=Lu.needsBIC===!0,kp=Lu.type==="rect"&&(Lu.fill&&typeof Lu.fill=="string"&&Lu.fill.includes("rgba")||Lu.fill&&typeof Lu.fill=="string"&&Lu.fill.match(/rgba\(\d+,\s*\d+,\s*\d+,\s*[\d.]+\)/)),hu=!Lu.fill||Lu.fill==="transparent"||typeof Lu.fill=="string"&&Lu.fill==="transparent",Zl=Lu.stroke&&typeof Lu.stroke=="string"&&Lu.stroke!=="transparent",eu=Lu.type==="rect"&&hu&&Zl;if(!(mp||Rp||kp||eu))if(Lu.type==="path")erasePathSegment(Lu,$u,np,ru)&&(ru.requestRenderAll(),Hl());else if(Lu.type==="group"){const Zu=Lu.getBoundingRect();$u.points.some(yu=>Math.sqrt(Math.pow(yu.x-(Zu.left+Zu.width/2),2)+Math.pow(yu.y-(Zu.top+Zu.height/2),2))<np+Math.max(Zu.width,Zu.height)/2)&&(ru.remove(Lu),ru.requestRenderAll(),Hl())}else{const Zu=Lu.getBoundingRect();$u.points.some(yu=>yu.x>=Zu.left-np&&yu.x<=Zu.left+Zu.width+np&&yu.y>=Zu.top-np&&yu.y<=Zu.top+Zu.height+np)&&(ru.remove(Lu),ru.requestRenderAll(),Hl())}});return}const Xu=$l.current;if(!Xu.isDrawingShape||!Xu.tempObj)return;const{x:Gu,y:Uu}=ru.getPointer(fu.e),Au=Xu.startX,Pu=Xu.startY;if(Xu.tempObj.type==="rect")Xu.tempObj.set({left:Math.min(Au,Gu),top:Math.min(Pu,Uu),width:Math.abs(Gu-Au),height:Math.abs(Uu-Pu)});else if(Xu.tempObj.type==="circle")Xu.tempObj.set({left:Math.min(Au,Gu),top:Math.min(Pu,Uu),radius:Math.max(Math.abs(Gu-Au),Math.abs(Uu-Pu))/2});else if(Xu.tempObj.type==="line")Xu.tempObj.set({x2:Gu,y2:Uu});else if(Xu.tempObj.type==="polyline"){const Ou=Xu.tempObj.get("points")||[];Ou.push({x:Gu,y:Uu}),Xu.tempObj.set({points:Ou})}ru.requestRenderAll()},Cu=fu=>{const Fu=Vl.current,_f=Wu.current;if(Fu==="eraser"&&_f==="partial"&&qu.current){qu.current=!1,Mu.current=null,ru.requestRenderAll();return}const Xu=Gl.current,Gu=$l.current;if(!(!Gu.isDrawingShape||!Gu.tempObj)){if(Fu==="highlight"&&Gu.tempObj.type==="rect"){const Uu=Gu.tempObj,Au=Uu.left,Pu=Uu.top,Ou=Uu.width,ip=Uu.height,$u=ru.getZoom?ru.getZoom():lo;ru.remove(Gu.tempObj),Ou>5&&ip>5&&nu.current&&nu.current(us,{x:Au/$u,y:Pu/$u,width:Ou/$u,height:ip/$u})}else if(Fu==="arrow"&&Gu.tempObj.type==="line"){const{x1:Uu,y1:Au,x2:Pu,y2:Ou}=Gu.tempObj,ip=Math.atan2(Ou-Au,Pu-Uu),$u=new vo({left:Pu,top:Ou,originX:"center",originY:"center",width:12,height:12,fill:Xu,angle:ip*180/Math.PI+90}),np=new Hr([Gu.tempObj,$u],{selectable:!0});lu.current&&np.set({spaceId:lu.current}),ju.current&&np.set({moduleId:ju.current}),ru.add(np),ru.remove(Gu.tempObj)}Gu.isDrawingShape=!1,Gu.tempObj=null,Hl()}},vu=fu=>{Vl.current};return ru.on("object:modified",Ql),ru.on("path:created",_c),ru.on("mouse:down",su),ru.on("mouse:move",gu),ru.on("mouse:up",Cu),ru.on("mouse:dblclick",vu),()=>{if(zl.current=!1,Ll.current){Ll.current.off();try{Ll.current.dispose()}catch(fu){console.error(`[Page ${us}] Disposal error:`,fu)}Ll.current=null}}},[us,is,cs]);const mu=reactExports.useRef(null);reactExports.useEffect(()=>{if(!(!Ll.current||!is||!cs))return mu.current&&clearTimeout(mu.current),mu.current=setTimeout(()=>{Ll.current&&(Ll.current.setWidth(is*lo),Ll.current.setHeight(cs*lo),Ll.current.setZoom(lo),Ll.current.renderAll()),mu.current=null},50),()=>{mu.current&&clearTimeout(mu.current)}},[lo,is,cs]),reactExports.useEffect(()=>{if(Vl.current=co,Gl.current=hs,iu.current=uo,!Ll.current)return;const ru=Ll.current;ru.isDrawingMode=co==="pen"||co==="highlighter",ru.selection=co==="pan",ru.defaultCursor=co==="eraser"?"crosshair":co==="text"?"text":co==="highlight"||ru.isDrawingMode?"crosshair":"default",ru.hoverCursor=ru.defaultCursor;const Yl=co==="highlighter"?"rgba(255, 235, 59, 0.35)":hs,Hl=co==="highlighter"?Math.max(uo,8):uo;ru.freeDrawingBrush&&(ru.freeDrawingBrush.color=Yl,ru.freeDrawingBrush.width=Hl),ru.getObjects().forEach(Kl=>{const _c=Kl.spaceId||null,Ql=Kl.moduleId||null,su=lu.current===null||_c===lu.current,gu=ju.current===null||Ql===ju.current;su&&gu?Kl.set({visible:!0,selectable:co!=="pen"&&co!=="highlighter"&&co!=="highlight",evented:co!=="pen"&&co!=="highlighter"&&co!=="highlight"}):Kl.set({visible:!1,selectable:!1,evented:!1})}),ru.renderAll()},[co,hs,uo,Fl,Il]);const uu=reactExports.useRef(new Map);reactExports.useEffect(()=>{if(!Ll.current||!wl||wl.length===0)return;const ru=Ll.current,Yl=ru.getZoom();let Hl=!1;if(wl.forEach((Kl,_c)=>{const Ql=Kl.highlightId||`${Kl.x}-${Kl.y}-${Kl.width}-${Kl.height}`;if(Kl.highlightId){const Xu=uu.current.get(Kl.highlightId);Xu&&ru.getObjects().includes(Xu)&&(ru.remove(Xu),uu.current.delete(Kl.highlightId),Nl.current.delete(Ql))}const su=1,gu=Yl||lo,Cu=Kl.x*gu,vu=Kl.y*gu,fu=Kl.width*gu,Fu=Kl.height*gu;if(ru.getObjects("rect").filter(Xu=>Xu.fill&&typeof Xu.fill=="string"&&(Xu.fill.includes("rgba")||Xu.fill.includes("transparent"))||Xu.stroke&&typeof Xu.stroke=="string"&&Xu.stroke!=="transparent"?Math.abs(Xu.left-Cu)<su&&Math.abs(Xu.top-vu)<su&&Math.abs(Xu.width-fu)<su&&Math.abs(Xu.height-Fu)<su:!1).forEach(Xu=>{if(Kl.highlightId&&Xu.highlightId===Kl.highlightId)return;ru.remove(Xu),Xu.highlightId&&uu.current.delete(Xu.highlightId);const Gu=Xu.highlightId||`${Xu.left}-${Xu.top}-${Xu.width}-${Xu.height}`;Nl.current.delete(Gu)}),!Nl.current.has(Ql))if(Kl.needsBIC){const Xu=Yl||lo,Gu=new Er({left:Kl.x*Xu,top:Kl.y*Xu,width:Kl.width*Xu,height:Kl.height*Xu,fill:"transparent",stroke:"#4A90E2",strokeWidth:2,strokeDashArray:[5,5],selectable:Vl.current!=="pen"&&Vl.current!=="highlighter"&&Vl.current!=="highlight",evented:Vl.current!=="pen"&&Vl.current!=="highlighter"&&Vl.current!=="highlight",excludeFromExport:!1,strokeUniform:!0});Gu.set({highlightId:Kl.highlightId,needsBIC:!0}),lu.current&&Gu.set({spaceId:lu.current}),(Kl.moduleId||ju.current)&&Gu.set({moduleId:Kl.moduleId||ju.current}),ru.add(Gu),Kl.highlightId&&uu.current.set(Kl.highlightId,Gu),Nl.current.add(Ql),Hl=!0}else{const Xu=Kl.color||$a,Gu=normalizeHighlightColor$1(Xu)||$a,Uu=Yl||lo,Au=new Er({left:Kl.x*Uu,top:Kl.y*Uu,width:Kl.width*Uu,height:Kl.height*Uu,fill:Gu,stroke:"transparent",selectable:Vl.current!=="pen"&&Vl.current!=="highlighter"&&Vl.current!=="highlight",evented:Vl.current!=="pen"&&Vl.current!=="highlighter"&&Vl.current!=="highlight",excludeFromExport:!1,strokeUniform:!0});Kl.highlightId&&(Au.set({highlightId:Kl.highlightId}),uu.current.set(Kl.highlightId,Au)),lu.current&&Au.set({spaceId:lu.current}),(Kl.moduleId||ju.current)&&Au.set({moduleId:Kl.moduleId||ju.current}),ru.add(Au),Nl.current.add(Ql),Hl=!0}}),Hl){ru.renderAll();try{const Kl=ru.toJSON(["strokeUniform","spaceId","moduleId","highlightId","needsBIC"]);ba(us,Kl)}catch(Kl){console.error(`[Page ${us}] Save error:`,Kl)}}},[wl,$a,us,ba,lo]);const cu=reactExports.useRef(new Set);return reactExports.useEffect(()=>{if(!Ll.current||!Sl||Sl.length===0)return;const ru=Ll.current;let Yl=!1;if(Sl.forEach(Hl=>{const Kl=`${Hl.x}-${Hl.y}-${Hl.width}-${Hl.height}`;if(cu.current.has(Kl))return;const _c=Hl.x*lo,Ql=Hl.y*lo,su=Hl.width*lo,gu=Hl.height*lo,Cu=[];ru.getObjects("rect").forEach(vu=>{vu.fill&&typeof vu.fill=="string"&&(vu.fill.includes("rgba")||vu.fill.startsWith("#"))&&Math.abs(vu.left-_c)<1&&Math.abs(vu.top-Ql)<1&&Math.abs(vu.width-su)<1&&Math.abs(vu.height-gu)<1&&Cu.push(vu)}),Cu.forEach(vu=>{ru.remove(vu),Yl=!0}),cu.current.add(Kl)}),Yl){ru.requestRenderAll();try{const Hl=ru.toJSON(["strokeUniform","spaceId","moduleId"]);ba(us,Hl)}catch(Hl){console.error(`[Page ${us}] Save error after removal:`,Hl)}}},[Sl,us,ba,lo]),reactExports.useEffect(()=>{if(!Ll.current)return;const ru=Ll.current,Yl=ru.getObjects(),Hl=Array.isArray(Ml)&&Ml.length>0?Ml:null;Yl.forEach(Kl=>{const _c=Kl.spaceId||null,Ql=Kl.moduleId||null,su=Ql!==null,gu=Il===null||_c===Il,Cu=Fl===null||Ql===Fl,vu=!su||Dl&&Fl!==null;let fu=!0;if(Hl){const Xu=Kl.getBoundingRect(!0,!0),Gu=Xu.left+(Xu.width||0)/2,Uu=Xu.top+(Xu.height||0)/2;fu=Hl.some(Au=>regionContainsPoint(Gu,Uu,Au,lo))}const Fu=gu&&Cu&&fu&&vu,_f=Fu&&(Il===null||_c===Il)&&(Fl===null||Ql===Fl);Kl.set({visible:Fu,selectable:_f,evented:_f})}),ru.renderAll()},[Il,Fl,Dl,Ml,lo]),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:co==="pen"||co==="highlighter"||co==="eraser"||co==="text"||co==="rect"||co==="ellipse"||co==="line"||co==="arrow"||co==="underline"||co==="strikeout"||co==="squiggly"||co==="note"||co==="highlight"?"auto":"none",zIndex:10},children:jsxRuntimeExports.jsx("canvas",{ref:Bl,style:{position:"absolute",top:0,left:0,cursor:co==="pen"||co==="highlighter"||co==="highlight"?"crosshair":"default"}})})},(us,is)=>us.pageNumber===is.pageNumber&&us.width===is.width&&us.height===is.height&&Math.abs(us.scale-is.scale)<.01&&us.tool===is.tool&&us.strokeColor===is.strokeColor&&us.strokeWidth===is.strokeWidth&&us.annotations===is.annotations&&us.newHighlights===is.newHighlights&&us.highlightsToRemove===is.highlightsToRemove&&us.onHighlightCreated===is.onHighlightCreated&&us.selectedSpaceId===is.selectedSpaceId&&us.activeRegions===is.activeRegions);PageAnnotationLayer.displayName="PageAnnotationLayer";const TextLayer=reactExports.memo(({pageNumber:us,page:is,scale:cs,width:lo,height:co,onTextSelected:hs,isSelectionMode:uo=!0})=>{const xa=reactExports.useRef(null),ba=reactExports.useRef([]),$a=reactExports.useRef(null),wl=reactExports.useRef(cs);return reactExports.useEffect(()=>{if(!is||!xa.current)return;(async()=>{try{const Cl=Math.abs(cs-wl.current)>.01;(!$a.current||Cl)&&($a.current=await is.getTextContent(),wl.current=cs);const _l=$a.current,Il=is.getViewport({scale:cs}),Fl=xa.current;if(!Fl)return;Cl&&(Fl.innerHTML="",ba.current=[]),Fl.style.width=`${Il.width}px`,Fl.style.height=`${Il.height}px`,Fl.style.transform=`scale(${cs})`,Fl.style.transformOrigin="top left",ba.current.length===0&&_l.items.length>0&&_l.items.forEach(Tl=>{const Dl=Tl.transform,Bl=Math.atan2(Dl[1],Dl[0]),Ll=Math.hypot(Dl[2],Dl[3]),Nl=Dl[4],zl=Dl[5],$l=Ll,Vl=Tl.width,Gl=Tl.height||$l,iu=document.createElement("span");iu.style.position="absolute",iu.style.left=`${Nl}px`,iu.style.top=`${zl}px`,iu.style.fontSize=`${$l}px`,iu.style.fontFamily=Tl.fontName||"sans-serif",iu.style.color="transparent",iu.style.whiteSpace="pre",iu.style.cursor="text",iu.style.userSelect="text",iu.style.webkitUserSelect="text",iu.textContent=Tl.str,Bl!==0&&(iu.style.transform=`rotate(${Bl}rad)`,iu.style.transformOrigin="0 0"),Fl.appendChild(iu),ba.current.push(iu)}),uo&&(Fl.style.userSelect="text",Fl.style.webkitUserSelect="text")}catch(Cl){console.error(`Error loading text content for page ${us}:`,Cl)}})()},[is,us,cs,uo]),reactExports.useEffect(()=>{const Sl=xa.current;if(!Sl||!hs||!uo)return;const Cl=()=>{setTimeout(()=>{const _l=window.getSelection();if(_l.rangeCount>0&&!_l.isCollapsed){const Il=_l.getRangeAt(0),Fl=_l.toString().trim();if(Fl&&Sl.contains(Il.commonAncestorContainer)){const Ml=Il.getClientRects(),Tl=Sl.getBoundingClientRect(),Dl=Array.from(Ml).map(Bl=>{const Ll=(Bl.left-Tl.left)/cs,Nl=(Bl.top-Tl.top)/cs,zl=Bl.width/cs,$l=Bl.height/cs;return{x:Ll,y:Nl,width:zl,height:$l}});Dl.length>0&&hs(us,Fl,Dl),setTimeout(()=>{_l.removeAllRanges()},50)}}},10)};return Sl.addEventListener("mouseup",Cl),()=>{Sl.removeEventListener("mouseup",Cl)}},[xa,hs,us,cs,uo]),is?jsxRuntimeExports.jsx("div",{ref:xa,style:{position:"absolute",top:0,left:0,width:`${lo}px`,height:`${co}px`,pointerEvents:uo?"auto":"none",zIndex:8,userSelect:uo?"text":"none",WebkitUserSelect:uo?"text":"none",overflow:"hidden"},className:"textLayer"}):null});TextLayer.displayName="TextLayer";const PDFPageCanvas=({page:us,scale:is,onFinishRender:cs})=>{const lo=reactExports.useRef(null),co=reactExports.useRef(null);if(reactExports.useEffect(()=>{if(!us)return;const uo=lo.current;if(!uo)return;const xa=us.getViewport({scale:is}),ba=window.devicePixelRatio||1;co.current&&co.current.cancel(),uo.width=Math.floor(xa.width*ba),uo.height=Math.floor(xa.height*ba),uo.style.width=`${Math.floor(xa.width)}px`,uo.style.height=`${Math.floor(xa.height)}px`;const $a=uo.getContext("2d");return $a.setTransform(ba,0,0,ba,0,0),$a.clearRect(0,0,uo.width,uo.height),co.current=us.render({canvasContext:$a,viewport:xa}),co.current.promise.then(()=>{cs&&cs()}).catch(wl=>{wl.name!=="RenderingCancelledException"&&console.error("Error rendering page:",wl)}),()=>{co.current&&co.current.cancel()}},[us,is]),!us)return null;const hs=us.getViewport({scale:is});return jsxRuntimeExports.jsx("canvas",{ref:lo,style:{display:"block",width:`${Math.floor(hs.width)}px`,height:`${Math.floor(hs.height)}px`}})};PDFPageCanvas.displayName="PDFPageCanvas";const PDFPageCanvas$1=reactExports.memo(PDFPageCanvas);function WorkerWrapper(us){return new Worker("/assets/pdfRender.worker-CjhIh4vz.js",{name:us==null?void 0:us.name})}class PDFWorkerManager{constructor(){console.log("PDFWorkerManager: Creating PDF worker"),this.worker=new WorkerWrapper,console.log("PDFWorkerManager: PDF worker created successfully"),this.worker.onmessage=is=>{console.log("PDFWorkerManager: Received message from worker:",is.data.type);const{type:cs,payload:lo}=is.data;cs==="ERROR"?console.error("PDF Worker Error:",lo.message):cs==="DOC_LOADED"&&console.log(`Document ${lo.docId} loaded in worker`)},this.worker.onerror=is=>{console.error("PDFWorkerManager: Worker error event:",is)}}loadDocument(is,cs){console.log("PDFWorkerManager: Sending LOAD_DOCUMENT to worker",is,"ArrayBuffer size:",cs.byteLength),this.worker.postMessage({type:"LOAD_DOCUMENT",payload:{docId:is,data:cs}},[cs]),console.log("PDFWorkerManager: LOAD_DOCUMENT message sent")}renderTile({docId:is,pageIndex:cs,scale:lo,tileX:co,tileY:hs,tileSize:uo,canvas:xa}){this.worker.postMessage({type:"RENDER_TILE",payload:{docId:is,pageIndex:cs,scale:lo,tileX:co,tileY:hs,tileSize:uo,canvas:xa}},[xa])}terminate(){this.worker.terminate()}}new PDFWorkerManager;const Icon=({name:us,size:is=16,color:cs="currentColor",style:lo,className:co})=>({document:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M14 2V8H20",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),upload:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M7 10L12 5L17 10",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 5V15",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),folder:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M3 7C3 6.46957 3.21071 5.96086 3.58579 5.58579C3.96086 5.21071 4.46957 5 5 5H9L11 7H19C19.5304 7 20.0391 7.21071 20.4142 7.58579C20.7893 7.96086 21 8.46957 21 9V17C21 17.5304 20.7893 18.0391 20.4142 18.4142C20.0391 18.7893 19.5304 19 19 19H5C4.46957 19 3.96086 18.7893 3.58579 18.4142C3.21071 18.0391 3 17.5304 3 17V7Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),template:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("rect",{x:"5",y:"4",width:"14",height:"16",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4V6H9V4Z",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M7 10H17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M7 13H17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M7 16H15",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M7 19H16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),search:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M20 20L16 16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),close:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M18 6L6 18",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M6 6L18 18",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),check:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M20 6L9 17L4 12",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),circle:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"4",fill:cs})}),arrowLeft:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M19 12H5",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 19L5 12L12 5",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),chevronLeft:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M15 18L9 12L15 6",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),chevronRight:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M9 18L15 12L9 6",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),chevronDown:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M6 9L12 15L18 9",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),chevronUp:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M18 15L12 9L6 15",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),minus:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M5 12H19",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})}),plus:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M12 5V19",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M5 12H19",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),pages:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"3",width:"9",height:"13",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"3",width:"9",height:"13",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"})]}),pageSingle:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"})}),pan:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M12 2V6M12 18V22M22 12H18M6 12H2",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M19.07 4.93L16.24 7.76M7.76 16.24L4.93 19.07M19.07 19.07L16.24 16.24M7.76 7.76L4.93 4.93",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),pen:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),highlighter:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M3 21H21",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.3"}),jsxRuntimeExports.jsx("path",{d:"M13 3L5 11V16H10L18 8V3H13Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0.4"}),jsxRuntimeExports.jsx("path",{d:"M13 3H18V8L10 16H5V11L13 3Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),eraser:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M16.5 3L21 7.5L12 16.5L6.5 11L16.5 3Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 16.5L7.5 21H3V16.5L7.5 12",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),text:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M4 7H20",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M4 12H14",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M4 17H20",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),rect:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"})}),ellipse:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("ellipse",{cx:"12",cy:"12",rx:"8",ry:"6",stroke:cs,strokeWidth:"1.5",fill:"none"})}),line:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M5 12H19",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})}),arrow:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M5 12H19",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 5L19 12L12 19",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),underline:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M6 3V12C6 14.1217 7.87827 16 10 16C12.1217 16 14 14.1217 14 12V3",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M4 21H20",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),strikeout:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M4 12H20",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M6 3V12C6 14.1217 7.87827 16 10 16C12.1217 16 14 14.1217 14 12V3",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),squiggly:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M4 12C4 12 6 10 8 12C10 14 12 10 14 12C16 14 18 10 20 12",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",fill:"none"})}),note:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M14 2V8H20",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 13H16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 17H12",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),settings:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M19.875 6.27a2.225 2.225 0 0 1 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:cs,strokeWidth:"1.5",fill:"none"})]}),survey:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M9 12H15",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M9 8H15",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M9 16H12",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M12 3V6",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M21 12H18",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 18V21",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M6 12H3",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),bookmark:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}),duplicate:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"5",width:"14",height:"14",rx:"2",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"7",y:"1",width:"14",height:"14",rx:"2",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M14 8V14M11 11H17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"})]}),edit:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),trash:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M3 6H5H21",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M10 11V17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M14 11V17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),more:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("circle",{cx:"12",cy:"5",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"19",r:"1.5",fill:cs})]}),grip:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("circle",{cx:"9",cy:"5",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"15",cy:"5",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"9",cy:"12",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"15",cy:"12",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"9",cy:"19",r:"1.5",fill:cs}),jsxRuntimeExports.jsx("circle",{cx:"15",cy:"19",r:"1.5",fill:cs})]}),home:jsxRuntimeExports.jsx("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:jsxRuntimeExports.jsx("path",{d:"M3 12L5 10M5 10L12 3L19 10M5 10V20C5 20.5304 5.21071 21.0391 5.58579 21.4142C5.96086 21.7893 6.46957 22 7 22H9M19 10L21 12M19 10V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H15M9 22C9.53043 22 10.0391 21.7893 10.4142 21.4142C10.7893 21.0391 11 20.5304 11 20V16C11 15.4696 11.2107 14.9609 11.5858 14.5858C11.9609 14.2107 12.4696 14 13 14H15C15.5304 14 16.0391 14.2107 16.4142 14.5858C16.7893 14.9609 17 15.4696 17 16V20C17 20.5304 17.2107 21.0391 17.5858 21.4142C17.9609 21.7893 18.4696 22 19 22H9Z",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}),scissors:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("circle",{cx:"6",cy:"6",r:"3",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"6",r:"3",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M8.12 8.12L15.88 15.88",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M8.12 15.88L15.88 8.12",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"6",cy:"18",r:"3",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"18",r:"3",stroke:cs,strokeWidth:"1.5",fill:"none"})]}),copy:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M5 15H4C2.93913 15 1.92172 14.5786 1.17157 13.8284C0.421427 13.0783 0 12.0609 0 11V4C0 2.93913 0.421427 1.92172 1.17157 1.17157C1.92172 0.421427 2.93913 0 4 0H11C12.0609 0 13.0783 0.421427 13.8284 1.17157C14.5786 1.92172 15 2.93913 15 4V5",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),paste:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"8",y:"6",width:"8",height:"12",rx:"0.5",stroke:cs,strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M10 9H14",stroke:cs,strokeWidth:"1",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M10 11H14",stroke:cs,strokeWidth:"1",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M10 13H13",stroke:cs,strokeWidth:"1",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M10 15H14",stroke:cs,strokeWidth:"1",strokeLinecap:"round"})]}),rotate:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M1 4V10H7",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M23 20V14H17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M20.49 9C19.7967 7.04557 18.4615 5.36328 16.6618 4.21405C14.8621 3.06482 12.6915 2.51013 10.5 2.63024C8.30846 2.75035 6.19479 3.53998 4.5 4.9M3.51 15C4.20334 16.9544 5.53847 18.6367 7.33818 19.786C9.13789 20.9352 11.3085 21.4899 13.5 21.3698C15.6915 21.2496 17.8052 20.46 19.5 19.1",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),flipHorizontal:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M8 3H3C2.44772 3 2 3.44772 2 4V20C2 20.5523 2.44772 21 3 21H8",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M16 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M12 2V22",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 7L12 3L16 7",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 17L12 21L16 17",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),flipVertical:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("path",{d:"M3 8V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V8",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M3 16V21C3 21.5523 3.44772 22 4 22H20C20.5523 22 21 21.5523 21 21V16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 12H22",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M7 8L3 12L7 16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M17 8L21 12L17 16",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),reset:jsxRuntimeExports.jsxs("svg",{width:is,height:is,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lo,className:co,children:[jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:cs,strokeWidth:"1.5",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M8 12L11 15L16 9",stroke:cs,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})[us]||null,FONT_FAMILY$9='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',PagesPanel=({pdfDoc:us,numPages:is,pageNum:cs,onNavigateToPage:lo,onDuplicatePage:co,onDeletePage:hs,onCutPage:uo,onCopyPage:xa,onPastePage:ba,clipboardPage:$a,clipboardType:wl,onRotatePage:Sl,onMirrorPage:Cl,onResetPage:_l,onReorderPages:Il,pageTransformations:Fl={},shouldShowPage:Ml,activeSpacePages:Tl,scale:Dl,onPageDragStart:Bl,tabId:Ll})=>{const[Nl,zl]=reactExports.useState({}),[$l,Vl]=reactExports.useState({}),[Gl,iu]=reactExports.useState(null),[nu,Jl]=reactExports.useState(cs),[lu,ju]=reactExports.useState(null),[zu,Wu]=reactExports.useState(null),qu=reactExports.useRef(null),Mu=reactExports.useRef({}),mu=reactExports.useRef(null),uu=reactExports.useRef(null),cu=reactExports.useMemo(()=>Array.isArray(Tl)&&Tl.length>0?Tl:typeof Ml=="function"?Array.from({length:is},(Ou,ip)=>ip+1).filter(Ou=>Ml(Ou)):Array.from({length:is},(Ou,ip)=>ip+1),[Tl,Ml,is]);reactExports.useEffect(()=>{cu.includes(cs)?Jl(cs):cu.length>0?Jl(cu[0]):Jl(null)},[cs,cu]),reactExports.useEffect(()=>{if(!us)return;(async()=>{const ip={};for(let $u=1;$u<=is;$u++)try{const Eu=(await us.getPage($u)).getViewport({scale:1});ip[$u]=Eu.height/Eu.width*100}catch(np){console.error(`Error getting aspect ratio for page ${$u}:`,np),ip[$u]=129}Vl(ip)})()},[us,is]);const ru=reactExports.useCallback(async Ou=>{if(!(!us||Nl[Ou]))try{const ip=await us.getPage(Ou),np=ip.getViewport({scale:.4}),Eu=document.createElement("canvas"),Lu=Eu.getContext("2d"),up=window.devicePixelRatio||1;Eu.width=np.width*up,Eu.height=np.height*up,Eu.style.width=`${np.width}px`,Eu.style.height=`${np.height}px`,Lu.scale(up,up),await ip.render({canvasContext:Lu,viewport:np}).promise,zl(mp=>({...mp,[Ou]:Eu.toDataURL("image/jpeg",.85)}))}catch(ip){console.error(`Error generating thumbnail for page ${Ou}:`,ip)}},[us,Nl]);reactExports.useEffect(()=>{if(!(!us||Object.keys($l).length===0))return mu.current&&mu.current.disconnect(),mu.current=new IntersectionObserver(Ou=>{Ou.forEach(ip=>{if(ip.isIntersecting){const $u=parseInt(ip.target.dataset.pageNumber);ru($u)}})},{root:null,rootMargin:"200px",threshold:.01}),Object.values(Mu.current).forEach(Ou=>{Ou&&mu.current.observe(Ou)}),()=>{mu.current&&mu.current.disconnect()}},[us,$l,ru]),reactExports.useEffect(()=>{const Ou=ip=>{qu.current&&!qu.current.contains(ip.target)&&iu(null)};if(Gl)return document.addEventListener("mousedown",Ou),()=>document.removeEventListener("mousedown",Ou)},[Gl]),reactExports.useEffect(()=>{nu&&Mu.current[nu]&&Mu.current[nu].scrollIntoView({behavior:"smooth",block:"center"})},[nu]);const Yl=reactExports.useCallback((Ou,ip)=>{Ou.preventDefault(),Ou.stopPropagation(),iu({pageNumber:ip,x:Ou.clientX,y:Ou.clientY})},[]),Hl=reactExports.useCallback(Ou=>{Jl(Ou),lo&&lo(Ou)},[lo]),Kl=reactExports.useCallback(Ou=>{lo&&lo(Ou)},[lo]),_c=reactExports.useCallback(Ou=>{co&&co(Ou),iu(null)},[co]),Ql=reactExports.useCallback(Ou=>{hs&&window.confirm(`Delete page ${Ou}?`)&&hs(Ou),iu(null)},[hs]),su=reactExports.useCallback(Ou=>{uo&&uo(Ou),iu(null)},[uo]),gu=reactExports.useCallback(Ou=>{xa&&xa(Ou),iu(null)},[xa]),Cu=reactExports.useCallback(Ou=>{ba&&$a&&ba(Ou,$a,wl),iu(null)},[ba,$a,wl]),vu=reactExports.useCallback(Ou=>{Sl&&Sl(Ou),iu(null)},[Sl]),fu=reactExports.useCallback(Ou=>{Cl&&Cl(Ou,"horizontal"),iu(null)},[Cl]),Fu=reactExports.useCallback(Ou=>{Cl&&Cl(Ou,"vertical"),iu(null)},[Cl]),_f=reactExports.useCallback(Ou=>{_l&&_l(Ou),iu(null)},[_l]),Xu=reactExports.useCallback((Ou,ip)=>{ju(ip),Ou.dataTransfer.effectAllowed="move",Ou.dataTransfer.setData("application/pdf-page-internal",ip.toString()),Bl&&Ll&&Ou.dataTransfer.setData("application/pdf-page",JSON.stringify({tabId:Ll,pageNumber:ip,pdfDoc:null}))},[Bl,Ll]),Gu=reactExports.useCallback((Ou,ip)=>{Ou.preventDefault(),Ou.stopPropagation();const $u=Array.from(Ou.dataTransfer.types||[]);$u.includes("application/pdf-page-internal")?(Ou.dataTransfer.dropEffect="move",lu!==null&&lu!==ip&&Wu(ip)):$u.includes("application/pdf-page")&&(Ou.dataTransfer.dropEffect="move")},[lu]),Uu=reactExports.useCallback(Ou=>{const ip=Ou.relatedTarget;(!ip||!Ou.currentTarget.contains(ip))&&Wu(null)},[]),Au=reactExports.useCallback((Ou,ip)=>{if(Ou.preventDefault(),Ou.stopPropagation(),Array.from(Ou.dataTransfer.types||[]).includes("application/pdf-page-internal")){const np=parseInt(Ou.dataTransfer.getData("application/pdf-page-internal"));np&&np!==ip&&Il&&Il(np,ip)}ju(null),Wu(null)},[Il]),Pu=reactExports.useCallback(()=>{ju(null),Wu(null)},[]);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",fontFamily:FONT_FAMILY$9,background:"#252525"},children:[jsxRuntimeExports.jsxs("div",{ref:uu,style:{flex:1,overflowY:"auto",padding:"6px",display:"flex",flexDirection:"column",gap:"4px"},children:[cu.map(Ou=>{const ip=Ou===nu;return jsxRuntimeExports.jsxs("div",{ref:$u=>{Mu.current[Ou]=$u},"data-page-number":Ou,draggable:!0,onDragStart:$u=>{Xu($u,Ou),Bl&&Ll&&Bl(Ll,Ou)},onDragOver:$u=>Gu($u,Ou),onDragLeave:Uu,onDragEnd:Pu,onDrop:$u=>Au($u,Ou),onContextMenu:$u=>Yl($u,Ou),onClick:()=>Hl(Ou),onDoubleClick:()=>Kl(Ou),style:{position:"relative",padding:"4px",background:ip?"#3a3a3a":zu===Ou?"#2b4a5a":"transparent",border:ip||zu===Ou?"1px solid #4A90E2":"1px solid transparent",borderRadius:"4px",cursor:lu===Ou?"grabbing":"grab",opacity:lu===Ou?.5:1,transition:lu===Ou?"none":"all 0.15s ease"},onMouseEnter:$u=>{ip||($u.currentTarget.style.background="#2b2b2b")},onMouseLeave:$u=>{ip||($u.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"6px",right:"6px",width:"20px",height:"20px",borderRadius:"50%",background:"#4a4a4a",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"600",fontFamily:FONT_FAMILY$9,zIndex:1,boxShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:Ou}),jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${$l[Ou]||129}%`,background:"#ffffff",borderRadius:"2px",overflow:"hidden"},children:Nl[Ou]?jsxRuntimeExports.jsx("img",{src:Nl[Ou],alt:`Page ${Ou}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",transform:(()=>{const $u=Fl[Ou]||{rotation:0,mirrorH:!1,mirrorV:!1},np=[];return $u.rotation&&np.push(`rotate(${$u.rotation}deg)`),$u.mirrorH&&np.push("scaleX(-1)"),$u.mirrorV&&np.push("scaleY(-1)"),np.length>0?np.join(" "):"none"})(),transformOrigin:"center center"}}):jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#666",fontSize:"10px"},children:"Loading..."})})]},Ou)}),cu.length===0&&jsxRuntimeExports.jsx("div",{style:{padding:"32px 16px",textAlign:"center",color:"#777",fontSize:"12px"},children:"No pages are visible in this space. Add pages to the active space to see them here."})]}),Gl&&jsxRuntimeExports.jsxs("div",{ref:qu,style:{position:"fixed",left:Gl.x,top:Gl.y,background:"#333",border:"1px solid #444",borderRadius:"6px",padding:"4px",zIndex:1e4,minWidth:"180px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",fontFamily:FONT_FAMILY$9},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>su(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"scissors",size:14,color:"#999"}),"Cut"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>gu(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"copy",size:14,color:"#999"}),"Copy"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Cu(Gl.pageNumber),disabled:!$a,style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:$a?"pointer":"not-allowed",color:$a?"#ddd":"#666",display:"flex",alignItems:"center",gap:"8px",opacity:$a?1:.5},onMouseEnter:Ou=>{$a&&(Ou.currentTarget.style.background="#3a3a3a")},onMouseLeave:Ou=>{Ou.currentTarget.style.background="transparent"},children:[jsxRuntimeExports.jsx(Icon,{name:"paste",size:14,color:$a?"#999":"#555"}),"Paste"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_c(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"duplicate",size:14,color:"#999"}),"Duplicate"]}),jsxRuntimeExports.jsx("div",{style:{height:"1px",background:"#444",margin:"4px 0"}}),jsxRuntimeExports.jsxs("button",{onClick:()=>vu(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"rotate",size:14,color:"#999"}),"Rotate"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>fu(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"flipHorizontal",size:14,color:"#999"}),"Mirror Horizontally"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Fu(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"flipVertical",size:14,color:"#999"}),"Mirror Vertically"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_f(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"reset",size:14,color:"#999"}),"Reset"]}),jsxRuntimeExports.jsx("div",{style:{height:"1px",background:"#444",margin:"4px 0"}}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ql(Gl.pageNumber),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ff6b6b",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#3a3a3a",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"trash",size:14,color:"#ff6b6b"}),"Delete"]})]})]})},FONT_FAMILY$8='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',SearchTextPanel=({pdfDoc:us,numPages:is,onNavigateToPage:cs})=>{const[lo,co]=reactExports.useState(""),[hs,uo]=reactExports.useState([]),[xa,ba]=reactExports.useState(!1),[$a,wl]=reactExports.useState(-1),Sl=reactExports.useRef(null),Cl=reactExports.useCallback(async()=>{if(!us||!lo.trim()){uo([]);return}ba(!0);const Fl=[],Ml=lo.toLowerCase().trim();try{for(let Tl=1;Tl<=is;Tl++)try{const Nl=(await(await us.getPage(Tl)).getTextContent()).items.filter(zl=>zl.str&&zl.str.trim().length>0).map(zl=>zl.str).join(" ").toLowerCase();if(Nl.includes(Ml)){let zl=0;for(;(zl=Nl.indexOf(Ml,zl))!==-1;){const $l=Math.max(0,zl-50),Vl=Math.min(Nl.length,zl+Ml.length+50),iu=Nl.substring($l,Vl).replace(/\s+/g," ").trim();Fl.push({pageNumber:Tl,index:zl,snippet:iu,matchIndex:zl-$l}),zl+=Ml.length}}}catch(Dl){console.error(`Error searching page ${Tl}:`,Dl)}}catch(Tl){console.error("Error performing search:",Tl)}ba(!1),uo(Fl),wl(-1)},[us,is,lo]);reactExports.useEffect(()=>{const Fl=setTimeout(()=>{Cl()},300);return()=>clearTimeout(Fl)},[lo,Cl]);const _l=reactExports.useCallback(Fl=>{cs&&cs(Fl.pageNumber)},[cs]),Il=(Fl,Ml,Tl)=>{const Dl=Fl.substring(0,Ml),Bl=Fl.substring(Ml,Ml+Tl),Ll=Fl.substring(Ml+Tl);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Dl,jsxRuntimeExports.jsx("strong",{style:{background:"#4A90E2",color:"#ffffff"},children:Bl}),Ll]})};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",fontFamily:FONT_FAMILY$8,background:"#252525"},children:[jsxRuntimeExports.jsx("div",{style:{padding:"12px",background:"#252525",borderBottom:"1px solid #3a3a3a"},children:jsxRuntimeExports.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(Icon,{name:"search",size:16,color:"#999",style:{position:"absolute",left:"10px",pointerEvents:"none"}}),jsxRuntimeExports.jsx("input",{ref:Sl,type:"text",value:lo,onChange:Fl=>co(Fl.target.value),placeholder:"Search text in PDF...",style:{width:"100%",padding:"8px 10px 8px 36px",background:"#2b2b2b",border:"1px solid #3a3a3a",borderRadius:"6px",fontSize:"13px",fontFamily:FONT_FAMILY$8,color:"#ddd",outline:"none",transition:"border-color 0.15s ease"},onFocus:Fl=>Fl.currentTarget.style.borderColor="#4A90E2",onBlur:Fl=>Fl.currentTarget.style.borderColor="#3a3a3a"}),lo&&jsxRuntimeExports.jsx("button",{onClick:()=>{var Fl;co(""),uo([]),(Fl=Sl.current)==null||Fl.focus()},style:{position:"absolute",right:"8px",background:"transparent",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:Fl=>Fl.currentTarget.style.background="#333",onMouseLeave:Fl=>Fl.currentTarget.style.background="transparent",children:jsxRuntimeExports.jsx(Icon,{name:"close",size:14,color:"#999"})})]})}),jsxRuntimeExports.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"8px"},children:[xa&&jsxRuntimeExports.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999",fontSize:"13px"},children:"Searching..."}),!xa&&lo&&hs.length===0&&jsxRuntimeExports.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:"#999",fontSize:"13px"},children:"No results found"}),!xa&&!lo&&jsxRuntimeExports.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:"#999",fontSize:"13px"},children:"Enter a search term to find text in the PDF"}),!xa&&hs.length>0&&jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:hs.map((Fl,Ml)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{_l(Fl),wl(Ml)},onDoubleClick:()=>_l(Fl),style:{padding:"10px 12px",background:$a===Ml?"#3a3a3a":"#2b2b2b",border:"1px solid #3a3a3a",borderRadius:"6px",cursor:"pointer",transition:"background 0.15s ease",fontSize:"12px",color:"#ddd"},onMouseEnter:Tl=>{$a!==Ml&&(Tl.currentTarget.style.background="#333")},onMouseLeave:Tl=>{$a!==Ml&&(Tl.currentTarget.style.background="#2b2b2b")},children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:jsxRuntimeExports.jsxs("span",{style:{fontSize:"11px",fontWeight:"600",color:"#4A90E2",background:"#e8f0fe",padding:"2px 6px",borderRadius:"4px",marginRight:"8px"},children:["Page ",Fl.pageNumber]})}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",lineHeight:"1.4",color:"#999",overflow:"hidden",textOverflow:"ellipsis"},children:Il(Fl.snippet,Fl.matchIndex,lo.length)})]},`${Fl.pageNumber}-${Fl.index}`))}),!xa&&hs.length>0&&jsxRuntimeExports.jsxs("div",{style:{padding:"8px 12px",fontSize:"11px",color:"#999",textAlign:"center",borderTop:"1px solid #3a3a3a",marginTop:"8px",paddingTop:"12px"},children:[hs.length," result",hs.length!==1?"s":""," found"]})]})]})};function useCombinedRefs(){for(var us=arguments.length,is=new Array(us),cs=0;cs<us;cs++)is[cs]=arguments[cs];return reactExports.useMemo(()=>lo=>{is.forEach(co=>co(lo))},is)}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(us){const is=Object.prototype.toString.call(us);return is==="[object Window]"||is==="[object global]"}function isNode(us){return"nodeType"in us}function getWindow(us){var is,cs;return us?isWindow(us)?us:isNode(us)&&(is=(cs=us.ownerDocument)==null?void 0:cs.defaultView)!=null?is:window:window}function isDocument(us){const{Document:is}=getWindow(us);return us instanceof is}function isHTMLElement(us){return isWindow(us)?!1:us instanceof getWindow(us).HTMLElement}function isSVGElement(us){return us instanceof getWindow(us).SVGElement}function getOwnerDocument(us){return us?isWindow(us)?us.document:isNode(us)?isDocument(us)?us:isHTMLElement(us)||isSVGElement(us)?us.ownerDocument:document:document:document}const useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(us){const is=reactExports.useRef(us);return useIsomorphicLayoutEffect(()=>{is.current=us}),reactExports.useCallback(function(){for(var cs=arguments.length,lo=new Array(cs),co=0;co<cs;co++)lo[co]=arguments[co];return is.current==null?void 0:is.current(...lo)},[])}function useInterval(){const us=reactExports.useRef(null),is=reactExports.useCallback((lo,co)=>{us.current=setInterval(lo,co)},[]),cs=reactExports.useCallback(()=>{us.current!==null&&(clearInterval(us.current),us.current=null)},[]);return[is,cs]}function useLatestValue(us,is){is===void 0&&(is=[us]);const cs=reactExports.useRef(us);return useIsomorphicLayoutEffect(()=>{cs.current!==us&&(cs.current=us)},is),cs}function useLazyMemo(us,is){const cs=reactExports.useRef();return reactExports.useMemo(()=>{const lo=us(cs.current);return cs.current=lo,lo},[...is])}function useNodeRef(us){const is=useEvent(us),cs=reactExports.useRef(null),lo=reactExports.useCallback(co=>{co!==cs.current&&(is==null||is(co,cs.current)),cs.current=co},[]);return[cs,lo]}function usePrevious(us){const is=reactExports.useRef();return reactExports.useEffect(()=>{is.current=us},[us]),is.current}let ids={};function useUniqueId(us,is){return reactExports.useMemo(()=>{if(is)return is;const cs=ids[us]==null?0:ids[us]+1;return ids[us]=cs,us+"-"+cs},[us,is])}function createAdjustmentFn(us){return function(is){for(var cs=arguments.length,lo=new Array(cs>1?cs-1:0),co=1;co<cs;co++)lo[co-1]=arguments[co];return lo.reduce((hs,uo)=>{const xa=Object.entries(uo);for(const[ba,$a]of xa){const wl=hs[ba];wl!=null&&(hs[ba]=wl+us*$a)}return hs},{...is})}}const add=createAdjustmentFn(1),subtract=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(us){return"clientX"in us&&"clientY"in us}function isKeyboardEvent(us){if(!us)return!1;const{KeyboardEvent:is}=getWindow(us.target);return is&&us instanceof is}function isTouchEvent(us){if(!us)return!1;const{TouchEvent:is}=getWindow(us.target);return is&&us instanceof is}function getEventCoordinates(us){if(isTouchEvent(us)){if(us.touches&&us.touches.length){const{clientX:is,clientY:cs}=us.touches[0];return{x:is,y:cs}}else if(us.changedTouches&&us.changedTouches.length){const{clientX:is,clientY:cs}=us.changedTouches[0];return{x:is,y:cs}}}return hasViewportRelativeCoordinates(us)?{x:us.clientX,y:us.clientY}:null}const CSS$1=Object.freeze({Translate:{toString(us){if(!us)return;const{x:is,y:cs}=us;return"translate3d("+(is?Math.round(is):0)+"px, "+(cs?Math.round(cs):0)+"px, 0)"}},Scale:{toString(us){if(!us)return;const{scaleX:is,scaleY:cs}=us;return"scaleX("+is+") scaleY("+cs+")"}},Transform:{toString(us){if(us)return[CSS$1.Translate.toString(us),CSS$1.Scale.toString(us)].join(" ")}},Transition:{toString(us){let{property:is,duration:cs,easing:lo}=us;return is+" "+cs+"ms "+lo}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(us){return us.matches(SELECTOR)?us:us.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(us){let{id:is,value:cs}=us;return React.createElement("div",{id:is,style:hiddenStyles},cs)}function LiveRegion(us){let{id:is,announcement:cs,ariaLiveType:lo="assertive"}=us;const co={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React.createElement("div",{id:is,style:co,role:"status","aria-live":lo,"aria-atomic":!0},cs)}function useAnnouncement(){const[us,is]=reactExports.useState("");return{announce:reactExports.useCallback(lo=>{lo!=null&&is(lo)},[]),announcement:us}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(us){const is=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!is)throw new Error("useDndMonitor must be used within a children of <DndContext>");return is(us)},[us,is])}function useDndMonitorProvider(){const[us]=reactExports.useState(()=>new Set),is=reactExports.useCallback(lo=>(us.add(lo),()=>us.delete(lo)),[us]);return[reactExports.useCallback(lo=>{let{type:co,event:hs}=lo;us.forEach(uo=>{var xa;return(xa=uo[co])==null?void 0:xa.call(uo,hs)})},[us]),is]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(us){let{active:is}=us;return"Picked up draggable item "+is.id+"."},onDragOver(us){let{active:is,over:cs}=us;return cs?"Draggable item "+is.id+" was moved over droppable area "+cs.id+".":"Draggable item "+is.id+" is no longer over a droppable area."},onDragEnd(us){let{active:is,over:cs}=us;return cs?"Draggable item "+is.id+" was dropped over droppable area "+cs.id:"Draggable item "+is.id+" was dropped."},onDragCancel(us){let{active:is}=us;return"Dragging was cancelled. Draggable item "+is.id+" was dropped."}};function Accessibility(us){let{announcements:is=defaultAnnouncements,container:cs,hiddenTextDescribedById:lo,screenReaderInstructions:co=defaultScreenReaderInstructions}=us;const{announce:hs,announcement:uo}=useAnnouncement(),xa=useUniqueId("DndLiveRegion"),[ba,$a]=reactExports.useState(!1);if(reactExports.useEffect(()=>{$a(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart(Sl){let{active:Cl}=Sl;hs(is.onDragStart({active:Cl}))},onDragMove(Sl){let{active:Cl,over:_l}=Sl;is.onDragMove&&hs(is.onDragMove({active:Cl,over:_l}))},onDragOver(Sl){let{active:Cl,over:_l}=Sl;hs(is.onDragOver({active:Cl,over:_l}))},onDragEnd(Sl){let{active:Cl,over:_l}=Sl;hs(is.onDragEnd({active:Cl,over:_l}))},onDragCancel(Sl){let{active:Cl,over:_l}=Sl;hs(is.onDragCancel({active:Cl,over:_l}))}}),[hs,is])),!ba)return null;const wl=React.createElement(React.Fragment,null,React.createElement(HiddenText,{id:lo,value:co.draggable}),React.createElement(LiveRegion,{id:xa,announcement:uo}));return cs?reactDomExports.createPortal(wl,cs):wl}var Action;(function(us){us.DragStart="dragStart",us.DragMove="dragMove",us.DragEnd="dragEnd",us.DragCancel="dragCancel",us.DragOver="dragOver",us.RegisterDroppable="registerDroppable",us.SetDroppableDisabled="setDroppableDisabled",us.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop$2(){}function useSensor(us,is){return reactExports.useMemo(()=>({sensor:us,options:is??{}}),[us,is])}function useSensors(){for(var us=arguments.length,is=new Array(us),cs=0;cs<us;cs++)is[cs]=arguments[cs];return reactExports.useMemo(()=>[...is].filter(lo=>lo!=null),[...is])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(us,is){return Math.sqrt(Math.pow(us.x-is.x,2)+Math.pow(us.y-is.y,2))}function getRelativeTransformOrigin(us,is){const cs=getEventCoordinates(us);if(!cs)return"0 0";const lo={x:(cs.x-is.left)/is.width*100,y:(cs.y-is.top)/is.height*100};return lo.x+"% "+lo.y+"%"}function sortCollisionsAsc(us,is){let{data:{value:cs}}=us,{data:{value:lo}}=is;return cs-lo}function sortCollisionsDesc(us,is){let{data:{value:cs}}=us,{data:{value:lo}}=is;return lo-cs}function cornersOfRectangle(us){let{left:is,top:cs,height:lo,width:co}=us;return[{x:is,y:cs},{x:is+co,y:cs},{x:is,y:cs+lo},{x:is+co,y:cs+lo}]}function getFirstCollision(us,is){if(!us||us.length===0)return null;const[cs]=us;return cs[is]}function centerOfRectangle(us,is,cs){return is===void 0&&(is=us.left),cs===void 0&&(cs=us.top),{x:is+us.width*.5,y:cs+us.height*.5}}const closestCenter=us=>{let{collisionRect:is,droppableRects:cs,droppableContainers:lo}=us;const co=centerOfRectangle(is,is.left,is.top),hs=[];for(const uo of lo){const{id:xa}=uo,ba=cs.get(xa);if(ba){const $a=distanceBetween(centerOfRectangle(ba),co);hs.push({id:xa,data:{droppableContainer:uo,value:$a}})}}return hs.sort(sortCollisionsAsc)};function getIntersectionRatio(us,is){const cs=Math.max(is.top,us.top),lo=Math.max(is.left,us.left),co=Math.min(is.left+is.width,us.left+us.width),hs=Math.min(is.top+is.height,us.top+us.height),uo=co-lo,xa=hs-cs;if(lo<co&&cs<hs){const ba=is.width*is.height,$a=us.width*us.height,wl=uo*xa,Sl=wl/(ba+$a-wl);return Number(Sl.toFixed(4))}return 0}const rectIntersection=us=>{let{collisionRect:is,droppableRects:cs,droppableContainers:lo}=us;const co=[];for(const hs of lo){const{id:uo}=hs,xa=cs.get(uo);if(xa){const ba=getIntersectionRatio(xa,is);ba>0&&co.push({id:uo,data:{droppableContainer:hs,value:ba}})}}return co.sort(sortCollisionsDesc)};function isPointWithinRect(us,is){const{top:cs,left:lo,bottom:co,right:hs}=is;return cs<=us.y&&us.y<=co&&lo<=us.x&&us.x<=hs}const pointerWithin=us=>{let{droppableContainers:is,droppableRects:cs,pointerCoordinates:lo}=us;if(!lo)return[];const co=[];for(const hs of is){const{id:uo}=hs,xa=cs.get(uo);if(xa&&isPointWithinRect(lo,xa)){const $a=cornersOfRectangle(xa).reduce((Sl,Cl)=>Sl+distanceBetween(lo,Cl),0),wl=Number(($a/4).toFixed(4));co.push({id:uo,data:{droppableContainer:hs,value:wl}})}}return co.sort(sortCollisionsAsc)};function adjustScale(us,is,cs){return{...us,scaleX:is&&cs?is.width/cs.width:1,scaleY:is&&cs?is.height/cs.height:1}}function getRectDelta(us,is){return us&&is?{x:us.left-is.left,y:us.top-is.top}:defaultCoordinates}function createRectAdjustmentFn(us){return function(cs){for(var lo=arguments.length,co=new Array(lo>1?lo-1:0),hs=1;hs<lo;hs++)co[hs-1]=arguments[hs];return co.reduce((uo,xa)=>({...uo,top:uo.top+us*xa.y,bottom:uo.bottom+us*xa.y,left:uo.left+us*xa.x,right:uo.right+us*xa.x}),{...cs})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(us){if(us.startsWith("matrix3d(")){const is=us.slice(9,-1).split(/, /);return{x:+is[12],y:+is[13],scaleX:+is[0],scaleY:+is[5]}}else if(us.startsWith("matrix(")){const is=us.slice(7,-1).split(/, /);return{x:+is[4],y:+is[5],scaleX:+is[0],scaleY:+is[3]}}return null}function inverseTransform(us,is,cs){const lo=parseTransform(is);if(!lo)return us;const{scaleX:co,scaleY:hs,x:uo,y:xa}=lo,ba=us.left-uo-(1-co)*parseFloat(cs),$a=us.top-xa-(1-hs)*parseFloat(cs.slice(cs.indexOf(" ")+1)),wl=co?us.width/co:us.width,Sl=hs?us.height/hs:us.height;return{width:wl,height:Sl,top:$a,right:ba+wl,bottom:$a+Sl,left:ba}}const defaultOptions={ignoreTransform:!1};function getClientRect(us,is){is===void 0&&(is=defaultOptions);let cs=us.getBoundingClientRect();if(is.ignoreTransform){const{transform:$a,transformOrigin:wl}=getWindow(us).getComputedStyle(us);$a&&(cs=inverseTransform(cs,$a,wl))}const{top:lo,left:co,width:hs,height:uo,bottom:xa,right:ba}=cs;return{top:lo,left:co,width:hs,height:uo,bottom:xa,right:ba}}function getTransformAgnosticClientRect(us){return getClientRect(us,{ignoreTransform:!0})}function getWindowClientRect(us){const is=us.innerWidth,cs=us.innerHeight;return{top:0,left:0,right:is,bottom:cs,width:is,height:cs}}function isFixed(us,is){return is===void 0&&(is=getWindow(us).getComputedStyle(us)),is.position==="fixed"}function isScrollable(us,is){is===void 0&&(is=getWindow(us).getComputedStyle(us));const cs=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(co=>{const hs=is[co];return typeof hs=="string"?cs.test(hs):!1})}function getScrollableAncestors(us,is){const cs=[];function lo(co){if(is!=null&&cs.length>=is||!co)return cs;if(isDocument(co)&&co.scrollingElement!=null&&!cs.includes(co.scrollingElement))return cs.push(co.scrollingElement),cs;if(!isHTMLElement(co)||isSVGElement(co)||cs.includes(co))return cs;const hs=getWindow(us).getComputedStyle(co);return co!==us&&isScrollable(co,hs)&&cs.push(co),isFixed(co,hs)?cs:lo(co.parentNode)}return us?lo(us):cs}function getFirstScrollableAncestor(us){const[is]=getScrollableAncestors(us,1);return is??null}function getScrollableElement(us){return!canUseDOM||!us?null:isWindow(us)?us:isNode(us)?isDocument(us)||us===getOwnerDocument(us).scrollingElement?window:isHTMLElement(us)?us:null:null}function getScrollXCoordinate(us){return isWindow(us)?us.scrollX:us.scrollLeft}function getScrollYCoordinate(us){return isWindow(us)?us.scrollY:us.scrollTop}function getScrollCoordinates(us){return{x:getScrollXCoordinate(us),y:getScrollYCoordinate(us)}}var Direction;(function(us){us[us.Forward=1]="Forward",us[us.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(us){return!canUseDOM||!us?!1:us===document.scrollingElement}function getScrollPosition(us){const is={x:0,y:0},cs=isDocumentScrollingElement(us)?{height:window.innerHeight,width:window.innerWidth}:{height:us.clientHeight,width:us.clientWidth},lo={x:us.scrollWidth-cs.width,y:us.scrollHeight-cs.height},co=us.scrollTop<=is.y,hs=us.scrollLeft<=is.x,uo=us.scrollTop>=lo.y,xa=us.scrollLeft>=lo.x;return{isTop:co,isLeft:hs,isBottom:uo,isRight:xa,maxScroll:lo,minScroll:is}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(us,is,cs,lo,co){let{top:hs,left:uo,right:xa,bottom:ba}=cs;lo===void 0&&(lo=10),co===void 0&&(co=defaultThreshold);const{isTop:$a,isBottom:wl,isLeft:Sl,isRight:Cl}=getScrollPosition(us),_l={x:0,y:0},Il={x:0,y:0},Fl={height:is.height*co.y,width:is.width*co.x};return!$a&&hs<=is.top+Fl.height?(_l.y=Direction.Backward,Il.y=lo*Math.abs((is.top+Fl.height-hs)/Fl.height)):!wl&&ba>=is.bottom-Fl.height&&(_l.y=Direction.Forward,Il.y=lo*Math.abs((is.bottom-Fl.height-ba)/Fl.height)),!Cl&&xa>=is.right-Fl.width?(_l.x=Direction.Forward,Il.x=lo*Math.abs((is.right-Fl.width-xa)/Fl.width)):!Sl&&uo<=is.left+Fl.width&&(_l.x=Direction.Backward,Il.x=lo*Math.abs((is.left+Fl.width-uo)/Fl.width)),{direction:_l,speed:Il}}function getScrollElementRect(us){if(us===document.scrollingElement){const{innerWidth:hs,innerHeight:uo}=window;return{top:0,left:0,right:hs,bottom:uo,width:hs,height:uo}}const{top:is,left:cs,right:lo,bottom:co}=us.getBoundingClientRect();return{top:is,left:cs,right:lo,bottom:co,width:us.clientWidth,height:us.clientHeight}}function getScrollOffsets(us){return us.reduce((is,cs)=>add(is,getScrollCoordinates(cs)),defaultCoordinates)}function getScrollXOffset(us){return us.reduce((is,cs)=>is+getScrollXCoordinate(cs),0)}function getScrollYOffset(us){return us.reduce((is,cs)=>is+getScrollYCoordinate(cs),0)}function scrollIntoViewIfNeeded(us,is){if(is===void 0&&(is=getClientRect),!us)return;const{top:cs,left:lo,bottom:co,right:hs}=is(us);getFirstScrollableAncestor(us)&&(co<=0||hs<=0||cs>=window.innerHeight||lo>=window.innerWidth)&&us.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(is,cs){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const lo=getScrollableAncestors(cs),co=getScrollOffsets(lo);this.rect={...is},this.width=is.width,this.height=is.height;for(const[hs,uo,xa]of properties)for(const ba of uo)Object.defineProperty(this,ba,{get:()=>{const $a=xa(lo),wl=co[hs]-$a;return this.rect[ba]+wl},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(is){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(cs=>{var lo;return(lo=this.target)==null?void 0:lo.removeEventListener(...cs)})},this.target=is}add(is,cs,lo){var co;(co=this.target)==null||co.addEventListener(is,cs,lo),this.listeners.push([is,cs,lo])}}function getEventListenerTarget(us){const{EventTarget:is}=getWindow(us);return us instanceof is?us:getOwnerDocument(us)}function hasExceededDistance(us,is){const cs=Math.abs(us.x),lo=Math.abs(us.y);return typeof is=="number"?Math.sqrt(cs**2+lo**2)>is:"x"in is&&"y"in is?cs>is.x&&lo>is.y:"x"in is?cs>is.x:"y"in is?lo>is.y:!1}var EventName;(function(us){us.Click="click",us.DragStart="dragstart",us.Keydown="keydown",us.ContextMenu="contextmenu",us.Resize="resize",us.SelectionChange="selectionchange",us.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(us){us.preventDefault()}function stopPropagation(us){us.stopPropagation()}var KeyboardCode;(function(us){us.Space="Space",us.Down="ArrowDown",us.Right="ArrowRight",us.Left="ArrowLeft",us.Up="ArrowUp",us.Esc="Escape",us.Enter="Enter",us.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(us,is)=>{let{currentCoordinates:cs}=is;switch(us.code){case KeyboardCode.Right:return{...cs,x:cs.x+25};case KeyboardCode.Left:return{...cs,x:cs.x-25};case KeyboardCode.Down:return{...cs,y:cs.y+25};case KeyboardCode.Up:return{...cs,y:cs.y-25}}};class KeyboardSensor{constructor(is){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=is;const{event:{target:cs}}=is;this.props=is,this.listeners=new Listeners(getOwnerDocument(cs)),this.windowListeners=new Listeners(getWindow(cs)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:is,onStart:cs}=this.props,lo=is.node.current;lo&&scrollIntoViewIfNeeded(lo),cs(defaultCoordinates)}handleKeyDown(is){if(isKeyboardEvent(is)){const{active:cs,context:lo,options:co}=this.props,{keyboardCodes:hs=defaultKeyboardCodes,coordinateGetter:uo=defaultKeyboardCoordinateGetter,scrollBehavior:xa="smooth"}=co,{code:ba}=is;if(hs.end.includes(ba)){this.handleEnd(is);return}if(hs.cancel.includes(ba)){this.handleCancel(is);return}const{collisionRect:$a}=lo.current,wl=$a?{x:$a.left,y:$a.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=wl);const Sl=uo(is,{active:cs,context:lo.current,currentCoordinates:wl});if(Sl){const Cl=subtract(Sl,wl),_l={x:0,y:0},{scrollableAncestors:Il}=lo.current;for(const Fl of Il){const Ml=is.code,{isTop:Tl,isRight:Dl,isLeft:Bl,isBottom:Ll,maxScroll:Nl,minScroll:zl}=getScrollPosition(Fl),$l=getScrollElementRect(Fl),Vl={x:Math.min(Ml===KeyboardCode.Right?$l.right-$l.width/2:$l.right,Math.max(Ml===KeyboardCode.Right?$l.left:$l.left+$l.width/2,Sl.x)),y:Math.min(Ml===KeyboardCode.Down?$l.bottom-$l.height/2:$l.bottom,Math.max(Ml===KeyboardCode.Down?$l.top:$l.top+$l.height/2,Sl.y))},Gl=Ml===KeyboardCode.Right&&!Dl||Ml===KeyboardCode.Left&&!Bl,iu=Ml===KeyboardCode.Down&&!Ll||Ml===KeyboardCode.Up&&!Tl;if(Gl&&Vl.x!==Sl.x){const nu=Fl.scrollLeft+Cl.x,Jl=Ml===KeyboardCode.Right&&nu<=Nl.x||Ml===KeyboardCode.Left&&nu>=zl.x;if(Jl&&!Cl.y){Fl.scrollTo({left:nu,behavior:xa});return}Jl?_l.x=Fl.scrollLeft-nu:_l.x=Ml===KeyboardCode.Right?Fl.scrollLeft-Nl.x:Fl.scrollLeft-zl.x,_l.x&&Fl.scrollBy({left:-_l.x,behavior:xa});break}else if(iu&&Vl.y!==Sl.y){const nu=Fl.scrollTop+Cl.y,Jl=Ml===KeyboardCode.Down&&nu<=Nl.y||Ml===KeyboardCode.Up&&nu>=zl.y;if(Jl&&!Cl.x){Fl.scrollTo({top:nu,behavior:xa});return}Jl?_l.y=Fl.scrollTop-nu:_l.y=Ml===KeyboardCode.Down?Fl.scrollTop-Nl.y:Fl.scrollTop-zl.y,_l.y&&Fl.scrollBy({top:-_l.y,behavior:xa});break}}this.handleMove(is,add(subtract(Sl,this.referenceCoordinates),_l))}}}handleMove(is,cs){const{onMove:lo}=this.props;is.preventDefault(),lo(cs)}handleEnd(is){const{onEnd:cs}=this.props;is.preventDefault(),this.detach(),cs()}handleCancel(is){const{onCancel:cs}=this.props;is.preventDefault(),this.detach(),cs()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(us,is,cs)=>{let{keyboardCodes:lo=defaultKeyboardCodes,onActivation:co}=is,{active:hs}=cs;const{code:uo}=us.nativeEvent;if(lo.start.includes(uo)){const xa=hs.activatorNode.current;return xa&&us.target!==xa?!1:(us.preventDefault(),co==null||co({event:us.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(us){return!!(us&&"distance"in us)}function isDelayConstraint(us){return!!(us&&"delay"in us)}class AbstractPointerSensor{constructor(is,cs,lo){var co;lo===void 0&&(lo=getEventListenerTarget(is.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=is,this.events=cs;const{event:hs}=is,{target:uo}=hs;this.props=is,this.events=cs,this.document=getOwnerDocument(uo),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(lo),this.windowListeners=new Listeners(getWindow(uo)),this.initialCoordinates=(co=getEventCoordinates(hs))!=null?co:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:is,props:{options:{activationConstraint:cs,bypassActivationConstraint:lo}}}=this;if(this.listeners.add(is.move.name,this.handleMove,{passive:!1}),this.listeners.add(is.end.name,this.handleEnd),is.cancel&&this.listeners.add(is.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),cs){if(lo!=null&&lo({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(cs)){this.timeoutId=setTimeout(this.handleStart,cs.delay),this.handlePending(cs);return}if(isDistanceConstraint(cs)){this.handlePending(cs);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(is,cs){const{active:lo,onPending:co}=this.props;co(lo,is,this.initialCoordinates,cs)}handleStart(){const{initialCoordinates:is}=this,{onStart:cs}=this.props;is&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),cs(is))}handleMove(is){var cs;const{activated:lo,initialCoordinates:co,props:hs}=this,{onMove:uo,options:{activationConstraint:xa}}=hs;if(!co)return;const ba=(cs=getEventCoordinates(is))!=null?cs:defaultCoordinates,$a=subtract(co,ba);if(!lo&&xa){if(isDistanceConstraint(xa)){if(xa.tolerance!=null&&hasExceededDistance($a,xa.tolerance))return this.handleCancel();if(hasExceededDistance($a,xa.distance))return this.handleStart()}if(isDelayConstraint(xa)&&hasExceededDistance($a,xa.tolerance))return this.handleCancel();this.handlePending(xa,$a);return}is.cancelable&&is.preventDefault(),uo(ba)}handleEnd(){const{onAbort:is,onEnd:cs}=this.props;this.detach(),this.activated||is(this.props.active),cs()}handleCancel(){const{onAbort:is,onCancel:cs}=this.props;this.detach(),this.activated||is(this.props.active),cs()}handleKeydown(is){is.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var is;(is=this.document.getSelection())==null||is.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(is){const{event:cs}=is,lo=getOwnerDocument(cs.target);super(is,events,lo)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(us,is)=>{let{nativeEvent:cs}=us,{onActivation:lo}=is;return!cs.isPrimary||cs.button!==0?!1:(lo==null||lo({event:cs}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(us){us[us.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(is){super(is,events$1,getOwnerDocument(is.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(us,is)=>{let{nativeEvent:cs}=us,{onActivation:lo}=is;return cs.button===MouseButton.RightClick?!1:(lo==null||lo({event:cs}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(is){super(is,events$2)}static setup(){return window.addEventListener(events$2.move.name,is,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,is)};function is(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(us,is)=>{let{nativeEvent:cs}=us,{onActivation:lo}=is;const{touches:co}=cs;return co.length>1?!1:(lo==null||lo({event:cs}),!0)}}];var AutoScrollActivator;(function(us){us[us.Pointer=0]="Pointer",us[us.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(us){us[us.TreeOrder=0]="TreeOrder",us[us.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(us){let{acceleration:is,activator:cs=AutoScrollActivator.Pointer,canScroll:lo,draggingRect:co,enabled:hs,interval:uo=5,order:xa=TraversalOrder.TreeOrder,pointerCoordinates:ba,scrollableAncestors:$a,scrollableAncestorRects:wl,delta:Sl,threshold:Cl}=us;const _l=useScrollIntent({delta:Sl,disabled:!hs}),[Il,Fl]=useInterval(),Ml=reactExports.useRef({x:0,y:0}),Tl=reactExports.useRef({x:0,y:0}),Dl=reactExports.useMemo(()=>{switch(cs){case AutoScrollActivator.Pointer:return ba?{top:ba.y,bottom:ba.y,left:ba.x,right:ba.x}:null;case AutoScrollActivator.DraggableRect:return co}},[cs,co,ba]),Bl=reactExports.useRef(null),Ll=reactExports.useCallback(()=>{const zl=Bl.current;if(!zl)return;const $l=Ml.current.x*Tl.current.x,Vl=Ml.current.y*Tl.current.y;zl.scrollBy($l,Vl)},[]),Nl=reactExports.useMemo(()=>xa===TraversalOrder.TreeOrder?[...$a].reverse():$a,[xa,$a]);reactExports.useEffect(()=>{if(!hs||!$a.length||!Dl){Fl();return}for(const zl of Nl){if((lo==null?void 0:lo(zl))===!1)continue;const $l=$a.indexOf(zl),Vl=wl[$l];if(!Vl)continue;const{direction:Gl,speed:iu}=getScrollDirectionAndSpeed(zl,Vl,Dl,is,Cl);for(const nu of["x","y"])_l[nu][Gl[nu]]||(iu[nu]=0,Gl[nu]=0);if(iu.x>0||iu.y>0){Fl(),Bl.current=zl,Il(Ll,uo),Ml.current=iu,Tl.current=Gl;return}}Ml.current={x:0,y:0},Tl.current={x:0,y:0},Fl()},[is,Ll,lo,Fl,hs,uo,JSON.stringify(Dl),JSON.stringify(_l),Il,$a,Nl,wl,JSON.stringify(Cl)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(us){let{delta:is,disabled:cs}=us;const lo=usePrevious(is);return useLazyMemo(co=>{if(cs||!lo||!co)return defaultScrollIntent;const hs={x:Math.sign(is.x-lo.x),y:Math.sign(is.y-lo.y)};return{x:{[Direction.Backward]:co.x[Direction.Backward]||hs.x===-1,[Direction.Forward]:co.x[Direction.Forward]||hs.x===1},y:{[Direction.Backward]:co.y[Direction.Backward]||hs.y===-1,[Direction.Forward]:co.y[Direction.Forward]||hs.y===1}}},[cs,is,lo])}function useCachedNode(us,is){const cs=is!=null?us.get(is):void 0,lo=cs?cs.node.current:null;return useLazyMemo(co=>{var hs;return is==null?null:(hs=lo??co)!=null?hs:null},[lo,is])}function useCombineActivators(us,is){return reactExports.useMemo(()=>us.reduce((cs,lo)=>{const{sensor:co}=lo,hs=co.activators.map(uo=>({eventName:uo.eventName,handler:is(uo.handler,lo)}));return[...cs,...hs]},[]),[us,is])}var MeasuringStrategy;(function(us){us[us.Always=0]="Always",us[us.BeforeDragging=1]="BeforeDragging",us[us.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(us){us.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(us,is){let{dragging:cs,dependencies:lo,config:co}=is;const[hs,uo]=reactExports.useState(null),{frequency:xa,measure:ba,strategy:$a}=co,wl=reactExports.useRef(us),Sl=Ml(),Cl=useLatestValue(Sl),_l=reactExports.useCallback(function(Tl){Tl===void 0&&(Tl=[]),!Cl.current&&uo(Dl=>Dl===null?Tl:Dl.concat(Tl.filter(Bl=>!Dl.includes(Bl))))},[Cl]),Il=reactExports.useRef(null),Fl=useLazyMemo(Tl=>{if(Sl&&!cs)return defaultValue;if(!Tl||Tl===defaultValue||wl.current!==us||hs!=null){const Dl=new Map;for(let Bl of us){if(!Bl)continue;if(hs&&hs.length>0&&!hs.includes(Bl.id)&&Bl.rect.current){Dl.set(Bl.id,Bl.rect.current);continue}const Ll=Bl.node.current,Nl=Ll?new Rect(ba(Ll),Ll):null;Bl.rect.current=Nl,Nl&&Dl.set(Bl.id,Nl)}return Dl}return Tl},[us,hs,cs,Sl,ba]);return reactExports.useEffect(()=>{wl.current=us},[us]),reactExports.useEffect(()=>{Sl||_l()},[cs,Sl]),reactExports.useEffect(()=>{hs&&hs.length>0&&uo(null)},[JSON.stringify(hs)]),reactExports.useEffect(()=>{Sl||typeof xa!="number"||Il.current!==null||(Il.current=setTimeout(()=>{_l(),Il.current=null},xa))},[xa,Sl,_l,...lo]),{droppableRects:Fl,measureDroppableContainers:_l,measuringScheduled:hs!=null};function Ml(){switch($a){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return cs;default:return!cs}}}function useInitialValue(us,is){return useLazyMemo(cs=>us?cs||(typeof is=="function"?is(us):us):null,[is,us])}function useInitialRect(us,is){return useInitialValue(us,is)}function useMutationObserver(us){let{callback:is,disabled:cs}=us;const lo=useEvent(is),co=reactExports.useMemo(()=>{if(cs||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:hs}=window;return new hs(lo)},[lo,cs]);return reactExports.useEffect(()=>()=>co==null?void 0:co.disconnect(),[co]),co}function useResizeObserver(us){let{callback:is,disabled:cs}=us;const lo=useEvent(is),co=reactExports.useMemo(()=>{if(cs||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:hs}=window;return new hs(lo)},[cs]);return reactExports.useEffect(()=>()=>co==null?void 0:co.disconnect(),[co]),co}function defaultMeasure(us){return new Rect(getClientRect(us),us)}function useRect(us,is,cs){is===void 0&&(is=defaultMeasure);const[lo,co]=reactExports.useState(null);function hs(){co(ba=>{if(!us)return null;if(us.isConnected===!1){var $a;return($a=ba??cs)!=null?$a:null}const wl=is(us);return JSON.stringify(ba)===JSON.stringify(wl)?ba:wl})}const uo=useMutationObserver({callback(ba){if(us)for(const $a of ba){const{type:wl,target:Sl}=$a;if(wl==="childList"&&Sl instanceof HTMLElement&&Sl.contains(us)){hs();break}}}}),xa=useResizeObserver({callback:hs});return useIsomorphicLayoutEffect(()=>{hs(),us?(xa==null||xa.observe(us),uo==null||uo.observe(document.body,{childList:!0,subtree:!0})):(xa==null||xa.disconnect(),uo==null||uo.disconnect())},[us]),lo}function useRectDelta(us){const is=useInitialValue(us);return getRectDelta(us,is)}const defaultValue$1=[];function useScrollableAncestors(us){const is=reactExports.useRef(us),cs=useLazyMemo(lo=>us?lo&&lo!==defaultValue$1&&us&&is.current&&us.parentNode===is.current.parentNode?lo:getScrollableAncestors(us):defaultValue$1,[us]);return reactExports.useEffect(()=>{is.current=us},[us]),cs}function useScrollOffsets(us){const[is,cs]=reactExports.useState(null),lo=reactExports.useRef(us),co=reactExports.useCallback(hs=>{const uo=getScrollableElement(hs.target);uo&&cs(xa=>xa?(xa.set(uo,getScrollCoordinates(uo)),new Map(xa)):null)},[]);return reactExports.useEffect(()=>{const hs=lo.current;if(us!==hs){uo(hs);const xa=us.map(ba=>{const $a=getScrollableElement(ba);return $a?($a.addEventListener("scroll",co,{passive:!0}),[$a,getScrollCoordinates($a)]):null}).filter(ba=>ba!=null);cs(xa.length?new Map(xa):null),lo.current=us}return()=>{uo(us),uo(hs)};function uo(xa){xa.forEach(ba=>{const $a=getScrollableElement(ba);$a==null||$a.removeEventListener("scroll",co)})}},[co,us]),reactExports.useMemo(()=>us.length?is?Array.from(is.values()).reduce((hs,uo)=>add(hs,uo),defaultCoordinates):getScrollOffsets(us):defaultCoordinates,[us,is])}function useScrollOffsetsDelta(us,is){is===void 0&&(is=[]);const cs=reactExports.useRef(null);return reactExports.useEffect(()=>{cs.current=null},is),reactExports.useEffect(()=>{const lo=us!==defaultCoordinates;lo&&!cs.current&&(cs.current=us),!lo&&cs.current&&(cs.current=null)},[us]),cs.current?subtract(us,cs.current):defaultCoordinates}function useSensorSetup(us){reactExports.useEffect(()=>{if(!canUseDOM)return;const is=us.map(cs=>{let{sensor:lo}=cs;return lo.setup==null?void 0:lo.setup()});return()=>{for(const cs of is)cs==null||cs()}},us.map(is=>{let{sensor:cs}=is;return cs}))}function useSyntheticListeners(us,is){return reactExports.useMemo(()=>us.reduce((cs,lo)=>{let{eventName:co,handler:hs}=lo;return cs[co]=uo=>{hs(uo,is)},cs},{}),[us,is])}function useWindowRect(us){return reactExports.useMemo(()=>us?getWindowClientRect(us):null,[us])}const defaultValue$2=[];function useRects(us,is){is===void 0&&(is=getClientRect);const[cs]=us,lo=useWindowRect(cs?getWindow(cs):null),[co,hs]=reactExports.useState(defaultValue$2);function uo(){hs(()=>us.length?us.map(ba=>isDocumentScrollingElement(ba)?lo:new Rect(is(ba),ba)):defaultValue$2)}const xa=useResizeObserver({callback:uo});return useIsomorphicLayoutEffect(()=>{xa==null||xa.disconnect(),uo(),us.forEach(ba=>xa==null?void 0:xa.observe(ba))},[us]),co}function getMeasurableNode(us){if(!us)return null;if(us.children.length>1)return us;const is=us.children[0];return isHTMLElement(is)?is:us}function useDragOverlayMeasuring(us){let{measure:is}=us;const[cs,lo]=reactExports.useState(null),co=reactExports.useCallback($a=>{for(const{target:wl}of $a)if(isHTMLElement(wl)){lo(Sl=>{const Cl=is(wl);return Sl?{...Sl,width:Cl.width,height:Cl.height}:Cl});break}},[is]),hs=useResizeObserver({callback:co}),uo=reactExports.useCallback($a=>{const wl=getMeasurableNode($a);hs==null||hs.disconnect(),wl&&(hs==null||hs.observe(wl)),lo(wl?is(wl):null)},[is,hs]),[xa,ba]=useNodeRef(uo);return reactExports.useMemo(()=>({nodeRef:xa,rect:cs,setRef:ba}),[cs,xa,ba])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(is){var cs;return is!=null&&(cs=super.get(is))!=null?cs:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(is=>{let{disabled:cs}=is;return!cs})}getNodeFor(is){var cs,lo;return(cs=(lo=this.get(is))==null?void 0:lo.node.current)!=null?cs:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop$2},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop$2,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop$2,draggableNodes:new Map,over:null,measureDroppableContainers:noop$2},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(us,is){switch(is.type){case Action.DragStart:return{...us,draggable:{...us.draggable,initialCoordinates:is.initialCoordinates,active:is.active}};case Action.DragMove:return us.draggable.active==null?us:{...us,draggable:{...us.draggable,translate:{x:is.coordinates.x-us.draggable.initialCoordinates.x,y:is.coordinates.y-us.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...us,draggable:{...us.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:cs}=is,{id:lo}=cs,co=new DroppableContainersMap(us.droppable.containers);return co.set(lo,cs),{...us,droppable:{...us.droppable,containers:co}}}case Action.SetDroppableDisabled:{const{id:cs,key:lo,disabled:co}=is,hs=us.droppable.containers.get(cs);if(!hs||lo!==hs.key)return us;const uo=new DroppableContainersMap(us.droppable.containers);return uo.set(cs,{...hs,disabled:co}),{...us,droppable:{...us.droppable,containers:uo}}}case Action.UnregisterDroppable:{const{id:cs,key:lo}=is,co=us.droppable.containers.get(cs);if(!co||lo!==co.key)return us;const hs=new DroppableContainersMap(us.droppable.containers);return hs.delete(cs),{...us,droppable:{...us.droppable,containers:hs}}}default:return us}}function RestoreFocus(us){let{disabled:is}=us;const{active:cs,activatorEvent:lo,draggableNodes:co}=reactExports.useContext(InternalContext),hs=usePrevious(lo),uo=usePrevious(cs==null?void 0:cs.id);return reactExports.useEffect(()=>{if(!is&&!lo&&hs&&uo!=null){if(!isKeyboardEvent(hs)||document.activeElement===hs.target)return;const xa=co.get(uo);if(!xa)return;const{activatorNode:ba,node:$a}=xa;if(!ba.current&&!$a.current)return;requestAnimationFrame(()=>{for(const wl of[ba.current,$a.current]){if(!wl)continue;const Sl=findFirstFocusableNode(wl);if(Sl){Sl.focus();break}}})}},[lo,is,co,uo,hs]),null}function applyModifiers(us,is){let{transform:cs,...lo}=is;return us!=null&&us.length?us.reduce((co,hs)=>hs({transform:co,...lo}),cs):cs}function useMeasuringConfiguration(us){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...us==null?void 0:us.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...us==null?void 0:us.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...us==null?void 0:us.dragOverlay}}),[us==null?void 0:us.draggable,us==null?void 0:us.droppable,us==null?void 0:us.dragOverlay])}function useLayoutShiftScrollCompensation(us){let{activeNode:is,measure:cs,initialRect:lo,config:co=!0}=us;const hs=reactExports.useRef(!1),{x:uo,y:xa}=typeof co=="boolean"?{x:co,y:co}:co;useIsomorphicLayoutEffect(()=>{if(!uo&&!xa||!is){hs.current=!1;return}if(hs.current||!lo)return;const $a=is==null?void 0:is.node.current;if(!$a||$a.isConnected===!1)return;const wl=cs($a),Sl=getRectDelta(wl,lo);if(uo||(Sl.x=0),xa||(Sl.y=0),hs.current=!0,Math.abs(Sl.x)>0||Math.abs(Sl.y)>0){const Cl=getFirstScrollableAncestor($a);Cl&&Cl.scrollBy({top:Sl.y,left:Sl.x})}},[is,uo,xa,lo,cs])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(us){us[us.Uninitialized=0]="Uninitialized",us[us.Initializing=1]="Initializing",us[us.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function us(is){var cs,lo,co,hs;let{id:uo,accessibility:xa,autoScroll:ba=!0,children:$a,sensors:wl=defaultSensors,collisionDetection:Sl=rectIntersection,measuring:Cl,modifiers:_l,...Il}=is;const Fl=reactExports.useReducer(reducer,void 0,getInitialState),[Ml,Tl]=Fl,[Dl,Bl]=useDndMonitorProvider(),[Ll,Nl]=reactExports.useState(Status.Uninitialized),zl=Ll===Status.Initialized,{draggable:{active:$l,nodes:Vl,translate:Gl},droppable:{containers:iu}}=Ml,nu=$l!=null?Vl.get($l):null,Jl=reactExports.useRef({initial:null,translated:null}),lu=reactExports.useMemo(()=>{var wp;return $l!=null?{id:$l,data:(wp=nu==null?void 0:nu.data)!=null?wp:defaultData,rect:Jl}:null},[$l,nu]),ju=reactExports.useRef(null),[zu,Wu]=reactExports.useState(null),[qu,Mu]=reactExports.useState(null),mu=useLatestValue(Il,Object.values(Il)),uu=useUniqueId("DndDescribedBy",uo),cu=reactExports.useMemo(()=>iu.getEnabled(),[iu]),ru=useMeasuringConfiguration(Cl),{droppableRects:Yl,measureDroppableContainers:Hl,measuringScheduled:Kl}=useDroppableMeasuring(cu,{dragging:zl,dependencies:[Gl.x,Gl.y],config:ru.droppable}),_c=useCachedNode(Vl,$l),Ql=reactExports.useMemo(()=>qu?getEventCoordinates(qu):null,[qu]),su=Ku(),gu=useInitialRect(_c,ru.draggable.measure);useLayoutShiftScrollCompensation({activeNode:$l!=null?Vl.get($l):null,config:su.layoutShiftCompensation,initialRect:gu,measure:ru.draggable.measure});const Cu=useRect(_c,ru.draggable.measure,gu),vu=useRect(_c?_c.parentElement:null),fu=reactExports.useRef({activatorEvent:null,active:null,activeNode:_c,collisionRect:null,collisions:null,droppableRects:Yl,draggableNodes:Vl,draggingNode:null,draggingNodeRect:null,droppableContainers:iu,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Fu=iu.getNodeFor((cs=fu.current.over)==null?void 0:cs.id),_f=useDragOverlayMeasuring({measure:ru.dragOverlay.measure}),Xu=(lo=_f.nodeRef.current)!=null?lo:_c,Gu=zl?(co=_f.rect)!=null?co:Cu:null,Uu=!!(_f.nodeRef.current&&_f.rect),Au=useRectDelta(Uu?null:Cu),Pu=useWindowRect(Xu?getWindow(Xu):null),Ou=useScrollableAncestors(zl?Fu??_c:null),ip=useRects(Ou),$u=applyModifiers(_l,{transform:{x:Gl.x-Au.x,y:Gl.y-Au.y,scaleX:1,scaleY:1},activatorEvent:qu,active:lu,activeNodeRect:Cu,containerNodeRect:vu,draggingNodeRect:Gu,over:fu.current.over,overlayNodeRect:_f.rect,scrollableAncestors:Ou,scrollableAncestorRects:ip,windowRect:Pu}),np=Ql?add(Ql,Gl):null,Eu=useScrollOffsets(Ou),Lu=useScrollOffsetsDelta(Eu),up=useScrollOffsetsDelta(Eu,[Cu]),mp=add($u,Lu),Rp=Gu?getAdjustedRect(Gu,$u):null,kp=lu&&Rp?Sl({active:lu,collisionRect:Rp,droppableRects:Yl,droppableContainers:cu,pointerCoordinates:np}):null,hu=getFirstCollision(kp,"id"),[Zl,eu]=reactExports.useState(null),Nu=Uu?$u:add($u,up),Zu=adjustScale(Nu,(hs=Zl==null?void 0:Zl.rect)!=null?hs:null,Cu),Vu=reactExports.useRef(null),yu=reactExports.useCallback((wp,Bp)=>{let{sensor:Pp,options:n0}=Bp;if(ju.current==null)return;const Jp=Vl.get(ju.current);if(!Jp)return;const Ju=wp.nativeEvent,_d=new Pp({active:ju.current,activeNode:Jp,event:Ju,options:n0,context:fu,onAbort(xp){if(!Vl.get(xp))return;const{onDragAbort:sp}=mu.current,lp={id:xp};sp==null||sp(lp),Dl({type:"onDragAbort",event:lp})},onPending(xp,Ru,sp,lp){if(!Vl.get(xp))return;const{onDragPending:_p}=mu.current,Mp={id:xp,constraint:Ru,initialCoordinates:sp,offset:lp};_p==null||_p(Mp),Dl({type:"onDragPending",event:Mp})},onStart(xp){const Ru=ju.current;if(Ru==null)return;const sp=Vl.get(Ru);if(!sp)return;const{onDragStart:lp}=mu.current,Ip={activatorEvent:Ju,active:{id:Ru,data:sp.data,rect:Jl}};reactDomExports.unstable_batchedUpdates(()=>{lp==null||lp(Ip),Nl(Status.Initializing),Tl({type:Action.DragStart,initialCoordinates:xp,active:Ru}),Dl({type:"onDragStart",event:Ip}),Wu(Vu.current),Mu(Ju)})},onMove(xp){Tl({type:Action.DragMove,coordinates:xp})},onEnd:hp(Action.DragEnd),onCancel:hp(Action.DragCancel)});Vu.current=_d;function hp(xp){return async function(){const{active:sp,collisions:lp,over:Ip,scrollAdjustedTranslate:_p}=fu.current;let Mp=null;if(sp&&_p){const{cancelDrop:d0}=mu.current;Mp={activatorEvent:Ju,active:sp,collisions:lp,delta:_p,over:Ip},xp===Action.DragEnd&&typeof d0=="function"&&await Promise.resolve(d0(Mp))&&(xp=Action.DragCancel)}ju.current=null,reactDomExports.unstable_batchedUpdates(()=>{Tl({type:xp}),Nl(Status.Uninitialized),eu(null),Wu(null),Mu(null),Vu.current=null;const d0=xp===Action.DragEnd?"onDragEnd":"onDragCancel";if(Mp){const dp=mu.current[d0];dp==null||dp(Mp),Dl({type:d0,event:Mp})}})}}},[Vl]),Hu=reactExports.useCallback((wp,Bp)=>(Pp,n0)=>{const Jp=Pp.nativeEvent,Ju=Vl.get(n0);if(ju.current!==null||!Ju||Jp.dndKit||Jp.defaultPrevented)return;const _d={active:Ju};wp(Pp,Bp.options,_d)===!0&&(Jp.dndKit={capturedBy:Bp.sensor},ju.current=n0,yu(Pp,Bp))},[Vl,yu]),Sp=useCombineActivators(wl,Hu);useSensorSetup(wl),useIsomorphicLayoutEffect(()=>{Cu&&Ll===Status.Initializing&&Nl(Status.Initialized)},[Cu,Ll]),reactExports.useEffect(()=>{const{onDragMove:wp}=mu.current,{active:Bp,activatorEvent:Pp,collisions:n0,over:Jp}=fu.current;if(!Bp||!Pp)return;const Ju={active:Bp,activatorEvent:Pp,collisions:n0,delta:{x:mp.x,y:mp.y},over:Jp};reactDomExports.unstable_batchedUpdates(()=>{wp==null||wp(Ju),Dl({type:"onDragMove",event:Ju})})},[mp.x,mp.y]),reactExports.useEffect(()=>{const{active:wp,activatorEvent:Bp,collisions:Pp,droppableContainers:n0,scrollAdjustedTranslate:Jp}=fu.current;if(!wp||ju.current==null||!Bp||!Jp)return;const{onDragOver:Ju}=mu.current,_d=n0.get(hu),hp=_d&&_d.rect.current?{id:_d.id,rect:_d.rect.current,data:_d.data,disabled:_d.disabled}:null,xp={active:wp,activatorEvent:Bp,collisions:Pp,delta:{x:Jp.x,y:Jp.y},over:hp};reactDomExports.unstable_batchedUpdates(()=>{eu(hp),Ju==null||Ju(xp),Dl({type:"onDragOver",event:xp})})},[hu]),useIsomorphicLayoutEffect(()=>{fu.current={activatorEvent:qu,active:lu,activeNode:_c,collisionRect:Rp,collisions:kp,droppableRects:Yl,draggableNodes:Vl,draggingNode:Xu,draggingNodeRect:Gu,droppableContainers:iu,over:Zl,scrollableAncestors:Ou,scrollAdjustedTranslate:mp},Jl.current={initial:Gu,translated:Rp}},[lu,_c,kp,Rp,Vl,Xu,Gu,Yl,iu,Zl,Ou,mp]),useAutoScroller({...su,delta:Gl,draggingRect:Rp,pointerCoordinates:np,scrollableAncestors:Ou,scrollableAncestorRects:ip});const Np=reactExports.useMemo(()=>({active:lu,activeNode:_c,activeNodeRect:Cu,activatorEvent:qu,collisions:kp,containerNodeRect:vu,dragOverlay:_f,draggableNodes:Vl,droppableContainers:iu,droppableRects:Yl,over:Zl,measureDroppableContainers:Hl,scrollableAncestors:Ou,scrollableAncestorRects:ip,measuringConfiguration:ru,measuringScheduled:Kl,windowRect:Pu}),[lu,_c,Cu,qu,kp,vu,_f,Vl,iu,Yl,Zl,Hl,Ou,ip,ru,Kl,Pu]),Lp=reactExports.useMemo(()=>({activatorEvent:qu,activators:Sp,active:lu,activeNodeRect:Cu,ariaDescribedById:{draggable:uu},dispatch:Tl,draggableNodes:Vl,over:Zl,measureDroppableContainers:Hl}),[qu,Sp,lu,Cu,Tl,uu,Vl,Zl,Hl]);return React.createElement(DndMonitorContext.Provider,{value:Bl},React.createElement(InternalContext.Provider,{value:Lp},React.createElement(PublicContext.Provider,{value:Np},React.createElement(ActiveDraggableContext.Provider,{value:Zu},$a)),React.createElement(RestoreFocus,{disabled:(xa==null?void 0:xa.restoreFocus)===!1})),React.createElement(Accessibility,{...xa,hiddenTextDescribedById:uu}));function Ku(){const wp=(zu==null?void 0:zu.autoScrollEnabled)===!1,Bp=typeof ba=="object"?ba.enabled===!1:ba===!1,Pp=zl&&!wp&&!Bp;return typeof ba=="object"?{...ba,enabled:Pp}:{enabled:Pp}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX$1="Draggable";function useDraggable(us){let{id:is,data:cs,disabled:lo=!1,attributes:co}=us;const hs=useUniqueId(ID_PREFIX$1),{activators:uo,activatorEvent:xa,active:ba,activeNodeRect:$a,ariaDescribedById:wl,draggableNodes:Sl,over:Cl}=reactExports.useContext(InternalContext),{role:_l=defaultRole,roleDescription:Il="draggable",tabIndex:Fl=0}=co??{},Ml=(ba==null?void 0:ba.id)===is,Tl=reactExports.useContext(Ml?ActiveDraggableContext:NullContext),[Dl,Bl]=useNodeRef(),[Ll,Nl]=useNodeRef(),zl=useSyntheticListeners(uo,is),$l=useLatestValue(cs);useIsomorphicLayoutEffect(()=>(Sl.set(is,{id:is,key:hs,node:Dl,activatorNode:Ll,data:$l}),()=>{const Gl=Sl.get(is);Gl&&Gl.key===hs&&Sl.delete(is)}),[Sl,is]);const Vl=reactExports.useMemo(()=>({role:_l,tabIndex:Fl,"aria-disabled":lo,"aria-pressed":Ml&&_l===defaultRole?!0:void 0,"aria-roledescription":Il,"aria-describedby":wl.draggable}),[lo,_l,Fl,Ml,Il,wl.draggable]);return{active:ba,activatorEvent:xa,activeNodeRect:$a,attributes:Vl,isDragging:Ml,listeners:lo?void 0:zl,node:Dl,over:Cl,setNodeRef:Bl,setActivatorNodeRef:Nl,transform:Tl}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(us){let{data:is,disabled:cs=!1,id:lo,resizeObserverConfig:co}=us;const hs=useUniqueId(ID_PREFIX$1$1),{active:uo,dispatch:xa,over:ba,measureDroppableContainers:$a}=reactExports.useContext(InternalContext),wl=reactExports.useRef({disabled:cs}),Sl=reactExports.useRef(!1),Cl=reactExports.useRef(null),_l=reactExports.useRef(null),{disabled:Il,updateMeasurementsFor:Fl,timeout:Ml}={...defaultResizeObserverConfig,...co},Tl=useLatestValue(Fl??lo),Dl=reactExports.useCallback(()=>{if(!Sl.current){Sl.current=!0;return}_l.current!=null&&clearTimeout(_l.current),_l.current=setTimeout(()=>{$a(Array.isArray(Tl.current)?Tl.current:[Tl.current]),_l.current=null},Ml)},[Ml]),Bl=useResizeObserver({callback:Dl,disabled:Il||!uo}),Ll=reactExports.useCallback((Vl,Gl)=>{Bl&&(Gl&&(Bl.unobserve(Gl),Sl.current=!1),Vl&&Bl.observe(Vl))},[Bl]),[Nl,zl]=useNodeRef(Ll),$l=useLatestValue(is);return reactExports.useEffect(()=>{!Bl||!Nl.current||(Bl.disconnect(),Sl.current=!1,Bl.observe(Nl.current))},[Nl,Bl]),reactExports.useEffect(()=>(xa({type:Action.RegisterDroppable,element:{id:lo,key:hs,disabled:cs,node:Nl,rect:Cl,data:$l}}),()=>xa({type:Action.UnregisterDroppable,key:hs,id:lo})),[lo]),reactExports.useEffect(()=>{cs!==wl.current.disabled&&(xa({type:Action.SetDroppableDisabled,id:lo,key:hs,disabled:cs}),wl.current.disabled=cs)},[lo,hs,cs,xa]),{active:uo,rect:Cl,isOver:(ba==null?void 0:ba.id)===lo,node:Nl,over:ba,setNodeRef:zl}}function AnimationManager(us){let{animation:is,children:cs}=us;const[lo,co]=reactExports.useState(null),[hs,uo]=reactExports.useState(null),xa=usePrevious(cs);return!cs&&!lo&&xa&&co(xa),useIsomorphicLayoutEffect(()=>{if(!hs)return;const ba=lo==null?void 0:lo.key,$a=lo==null?void 0:lo.props.id;if(ba==null||$a==null){co(null);return}Promise.resolve(is($a,hs)).then(()=>{co(null)})},[is,lo,hs]),React.createElement(React.Fragment,null,cs,lo?reactExports.cloneElement(lo,{ref:uo}):null)}const defaultTransform={x:0,y:0,scaleX:1,scaleY:1};function NullifiedContextProvider(us){let{children:is}=us;return React.createElement(InternalContext.Provider,{value:defaultInternalContext},React.createElement(ActiveDraggableContext.Provider,{value:defaultTransform},is))}const baseStyles={position:"fixed",touchAction:"none"},defaultTransition$1=us=>isKeyboardEvent(us)?"transform 250ms ease":void 0,PositionedOverlay=reactExports.forwardRef((us,is)=>{let{as:cs,activatorEvent:lo,adjustScale:co,children:hs,className:uo,rect:xa,style:ba,transform:$a,transition:wl=defaultTransition$1}=us;if(!xa)return null;const Sl=co?$a:{...$a,scaleX:1,scaleY:1},Cl={...baseStyles,width:xa.width,height:xa.height,top:xa.top,left:xa.left,transform:CSS$1.Transform.toString(Sl),transformOrigin:co&&lo?getRelativeTransformOrigin(lo,xa):void 0,transition:typeof wl=="function"?wl(lo):wl,...ba};return React.createElement(cs,{className:uo,style:Cl,ref:is},hs)}),defaultDropAnimationSideEffects=us=>is=>{let{active:cs,dragOverlay:lo}=is;const co={},{styles:hs,className:uo}=us;if(hs!=null&&hs.active)for(const[xa,ba]of Object.entries(hs.active))ba!==void 0&&(co[xa]=cs.node.style.getPropertyValue(xa),cs.node.style.setProperty(xa,ba));if(hs!=null&&hs.dragOverlay)for(const[xa,ba]of Object.entries(hs.dragOverlay))ba!==void 0&&lo.node.style.setProperty(xa,ba);return uo!=null&&uo.active&&cs.node.classList.add(uo.active),uo!=null&&uo.dragOverlay&&lo.node.classList.add(uo.dragOverlay),function(){for(const[ba,$a]of Object.entries(co))cs.node.style.setProperty(ba,$a);uo!=null&&uo.active&&cs.node.classList.remove(uo.active)}},defaultKeyframeResolver=us=>{let{transform:{initial:is,final:cs}}=us;return[{transform:CSS$1.Transform.toString(is)},{transform:CSS$1.Transform.toString(cs)}]},defaultDropAnimationConfiguration={duration:250,easing:"ease",keyframes:defaultKeyframeResolver,sideEffects:defaultDropAnimationSideEffects({styles:{active:{opacity:"0"}}})};function useDropAnimation(us){let{config:is,draggableNodes:cs,droppableContainers:lo,measuringConfiguration:co}=us;return useEvent((hs,uo)=>{if(is===null)return;const xa=cs.get(hs);if(!xa)return;const ba=xa.node.current;if(!ba)return;const $a=getMeasurableNode(uo);if(!$a)return;const{transform:wl}=getWindow(uo).getComputedStyle(uo),Sl=parseTransform(wl);if(!Sl)return;const Cl=typeof is=="function"?is:createDefaultDropAnimation(is);return scrollIntoViewIfNeeded(ba,co.draggable.measure),Cl({active:{id:hs,data:xa.data,node:ba,rect:co.draggable.measure(ba)},draggableNodes:cs,dragOverlay:{node:uo,rect:co.dragOverlay.measure($a)},droppableContainers:lo,measuringConfiguration:co,transform:Sl})})}function createDefaultDropAnimation(us){const{duration:is,easing:cs,sideEffects:lo,keyframes:co}={...defaultDropAnimationConfiguration,...us};return hs=>{let{active:uo,dragOverlay:xa,transform:ba,...$a}=hs;if(!is)return;const wl={x:xa.rect.left-uo.rect.left,y:xa.rect.top-uo.rect.top},Sl={scaleX:ba.scaleX!==1?uo.rect.width*ba.scaleX/xa.rect.width:1,scaleY:ba.scaleY!==1?uo.rect.height*ba.scaleY/xa.rect.height:1},Cl={x:ba.x-wl.x,y:ba.y-wl.y,...Sl},_l=co({...$a,active:uo,dragOverlay:xa,transform:{initial:ba,final:Cl}}),[Il]=_l,Fl=_l[_l.length-1];if(JSON.stringify(Il)===JSON.stringify(Fl))return;const Ml=lo==null?void 0:lo({active:uo,dragOverlay:xa,...$a}),Tl=xa.node.animate(_l,{duration:is,easing:cs,fill:"forwards"});return new Promise(Dl=>{Tl.onfinish=()=>{Ml==null||Ml(),Dl()}})}}let key=0;function useKey(us){return reactExports.useMemo(()=>{if(us!=null)return key++,key},[us])}const DragOverlay=React.memo(us=>{let{adjustScale:is=!1,children:cs,dropAnimation:lo,style:co,transition:hs,modifiers:uo,wrapperElement:xa="div",className:ba,zIndex:$a=999}=us;const{activatorEvent:wl,active:Sl,activeNodeRect:Cl,containerNodeRect:_l,draggableNodes:Il,droppableContainers:Fl,dragOverlay:Ml,over:Tl,measuringConfiguration:Dl,scrollableAncestors:Bl,scrollableAncestorRects:Ll,windowRect:Nl}=useDndContext(),zl=reactExports.useContext(ActiveDraggableContext),$l=useKey(Sl==null?void 0:Sl.id),Vl=applyModifiers(uo,{activatorEvent:wl,active:Sl,activeNodeRect:Cl,containerNodeRect:_l,draggingNodeRect:Ml.rect,over:Tl,overlayNodeRect:Ml.rect,scrollableAncestors:Bl,scrollableAncestorRects:Ll,transform:zl,windowRect:Nl}),Gl=useInitialValue(Cl),iu=useDropAnimation({config:lo,draggableNodes:Il,droppableContainers:Fl,measuringConfiguration:Dl}),nu=Gl?Ml.setRef:void 0;return React.createElement(NullifiedContextProvider,null,React.createElement(AnimationManager,{animation:iu},Sl&&$l?React.createElement(PositionedOverlay,{key:$l,id:Sl.id,ref:nu,as:xa,activatorEvent:wl,adjustScale:is,className:ba,transition:hs,rect:Gl,style:{zIndex:$a,...co},transform:Vl},cs):null))});function arrayMove(us,is,cs){const lo=us.slice();return lo.splice(cs<0?lo.length+cs:cs,0,lo.splice(is,1)[0]),lo}function getSortedRects(us,is){return us.reduce((cs,lo,co)=>{const hs=is.get(lo);return hs&&(cs[co]=hs),cs},Array(us.length))}function isValidIndex(us){return us!==null&&us>=0}function itemsEqual(us,is){if(us===is)return!0;if(us.length!==is.length)return!1;for(let cs=0;cs<us.length;cs++)if(us[cs]!==is[cs])return!1;return!0}function normalizeDisabled(us){return typeof us=="boolean"?{draggable:us,droppable:us}:us}const rectSortingStrategy=us=>{let{rects:is,activeIndex:cs,overIndex:lo,index:co}=us;const hs=arrayMove(is,lo,cs),uo=is[co],xa=hs[co];return!xa||!uo?null:{x:xa.left-uo.left,y:xa.top-uo.top,scaleX:xa.width/uo.width,scaleY:xa.height/uo.height}},defaultScale$1={scaleX:1,scaleY:1},verticalListSortingStrategy=us=>{var is;let{activeIndex:cs,activeNodeRect:lo,index:co,rects:hs,overIndex:uo}=us;const xa=(is=hs[cs])!=null?is:lo;if(!xa)return null;if(co===cs){const $a=hs[uo];return $a?{x:0,y:cs<uo?$a.top+$a.height-(xa.top+xa.height):$a.top-xa.top,...defaultScale$1}:null}const ba=getItemGap$1(hs,co,cs);return co>cs&&co<=uo?{x:0,y:-xa.height-ba,...defaultScale$1}:co<cs&&co>=uo?{x:0,y:xa.height+ba,...defaultScale$1}:{x:0,y:0,...defaultScale$1}};function getItemGap$1(us,is,cs){const lo=us[is],co=us[is-1],hs=us[is+1];return lo?cs<is?co?lo.top-(co.top+co.height):hs?hs.top-(lo.top+lo.height):0:hs?hs.top-(lo.top+lo.height):co?lo.top-(co.top+co.height):0:0}const ID_PREFIX="Sortable",Context=React.createContext({activeIndex:-1,containerId:ID_PREFIX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(us){let{children:is,id:cs,items:lo,strategy:co=rectSortingStrategy,disabled:hs=!1}=us;const{active:uo,dragOverlay:xa,droppableRects:ba,over:$a,measureDroppableContainers:wl}=useDndContext(),Sl=useUniqueId(ID_PREFIX,cs),Cl=xa.rect!==null,_l=reactExports.useMemo(()=>lo.map(zl=>typeof zl=="object"&&"id"in zl?zl.id:zl),[lo]),Il=uo!=null,Fl=uo?_l.indexOf(uo.id):-1,Ml=$a?_l.indexOf($a.id):-1,Tl=reactExports.useRef(_l),Dl=!itemsEqual(_l,Tl.current),Bl=Ml!==-1&&Fl===-1||Dl,Ll=normalizeDisabled(hs);useIsomorphicLayoutEffect(()=>{Dl&&Il&&wl(_l)},[Dl,_l,Il,wl]),reactExports.useEffect(()=>{Tl.current=_l},[_l]);const Nl=reactExports.useMemo(()=>({activeIndex:Fl,containerId:Sl,disabled:Ll,disableTransforms:Bl,items:_l,overIndex:Ml,useDragOverlay:Cl,sortedRects:getSortedRects(_l,ba),strategy:co}),[Fl,Sl,Ll.draggable,Ll.droppable,Bl,_l,Ml,ba,Cl,co]);return React.createElement(Context.Provider,{value:Nl},is)}const defaultNewIndexGetter=us=>{let{id:is,items:cs,activeIndex:lo,overIndex:co}=us;return arrayMove(cs,lo,co).indexOf(is)},defaultAnimateLayoutChanges=us=>{let{containerId:is,isSorting:cs,wasDragging:lo,index:co,items:hs,newIndex:uo,previousItems:xa,previousContainerId:ba,transition:$a}=us;return!$a||!lo||xa!==hs&&co===uo?!1:cs?!0:uo!==co&&is===ba},defaultTransition={duration:200,easing:"ease"},transitionProperty="transform",disabledTransition=CSS$1.Transition.toString({property:transitionProperty,duration:0,easing:"linear"}),defaultAttributes={roleDescription:"sortable"};function useDerivedTransform(us){let{disabled:is,index:cs,node:lo,rect:co}=us;const[hs,uo]=reactExports.useState(null),xa=reactExports.useRef(cs);return useIsomorphicLayoutEffect(()=>{if(!is&&cs!==xa.current&&lo.current){const ba=co.current;if(ba){const $a=getClientRect(lo.current,{ignoreTransform:!0}),wl={x:ba.left-$a.left,y:ba.top-$a.top,scaleX:ba.width/$a.width,scaleY:ba.height/$a.height};(wl.x||wl.y)&&uo(wl)}}cs!==xa.current&&(xa.current=cs)},[is,cs,lo,co]),reactExports.useEffect(()=>{hs&&uo(null)},[hs]),hs}function useSortable(us){let{animateLayoutChanges:is=defaultAnimateLayoutChanges,attributes:cs,disabled:lo,data:co,getNewIndex:hs=defaultNewIndexGetter,id:uo,strategy:xa,resizeObserverConfig:ba,transition:$a=defaultTransition}=us;const{items:wl,containerId:Sl,activeIndex:Cl,disabled:_l,disableTransforms:Il,sortedRects:Fl,overIndex:Ml,useDragOverlay:Tl,strategy:Dl}=reactExports.useContext(Context),Bl=normalizeLocalDisabled(lo,_l),Ll=wl.indexOf(uo),Nl=reactExports.useMemo(()=>({sortable:{containerId:Sl,index:Ll,items:wl},...co}),[Sl,co,Ll,wl]),zl=reactExports.useMemo(()=>wl.slice(wl.indexOf(uo)),[wl,uo]),{rect:$l,node:Vl,isOver:Gl,setNodeRef:iu}=useDroppable({id:uo,data:Nl,disabled:Bl.droppable,resizeObserverConfig:{updateMeasurementsFor:zl,...ba}}),{active:nu,activatorEvent:Jl,activeNodeRect:lu,attributes:ju,setNodeRef:zu,listeners:Wu,isDragging:qu,over:Mu,setActivatorNodeRef:mu,transform:uu}=useDraggable({id:uo,data:Nl,attributes:{...defaultAttributes,...cs},disabled:Bl.draggable}),cu=useCombinedRefs(iu,zu),ru=!!nu,Yl=ru&&!Il&&isValidIndex(Cl)&&isValidIndex(Ml),Hl=!Tl&&qu,Kl=Hl&&Yl?uu:null,Ql=Yl?Kl??(xa??Dl)({rects:Fl,activeNodeRect:lu,activeIndex:Cl,overIndex:Ml,index:Ll}):null,su=isValidIndex(Cl)&&isValidIndex(Ml)?hs({id:uo,items:wl,activeIndex:Cl,overIndex:Ml}):Ll,gu=nu==null?void 0:nu.id,Cu=reactExports.useRef({activeId:gu,items:wl,newIndex:su,containerId:Sl}),vu=wl!==Cu.current.items,fu=is({active:nu,containerId:Sl,isDragging:qu,isSorting:ru,id:uo,index:Ll,items:wl,newIndex:Cu.current.newIndex,previousItems:Cu.current.items,previousContainerId:Cu.current.containerId,transition:$a,wasDragging:Cu.current.activeId!=null}),Fu=useDerivedTransform({disabled:!fu,index:Ll,node:Vl,rect:$l});return reactExports.useEffect(()=>{ru&&Cu.current.newIndex!==su&&(Cu.current.newIndex=su),Sl!==Cu.current.containerId&&(Cu.current.containerId=Sl),wl!==Cu.current.items&&(Cu.current.items=wl)},[ru,su,Sl,wl]),reactExports.useEffect(()=>{if(gu===Cu.current.activeId)return;if(gu!=null&&Cu.current.activeId==null){Cu.current.activeId=gu;return}const Xu=setTimeout(()=>{Cu.current.activeId=gu},50);return()=>clearTimeout(Xu)},[gu]),{active:nu,activeIndex:Cl,attributes:ju,data:Nl,rect:$l,index:Ll,newIndex:su,items:wl,isOver:Gl,isSorting:ru,isDragging:qu,listeners:Wu,node:Vl,overIndex:Ml,over:Mu,setNodeRef:cu,setActivatorNodeRef:mu,setDroppableNodeRef:iu,setDraggableNodeRef:zu,transform:Fu??Ql,transition:_f()};function _f(){if(Fu||vu&&Cu.current.newIndex===Ll)return disabledTransition;if(!(Hl&&!isKeyboardEvent(Jl)||!$a)&&(ru||fu))return CSS$1.Transition.toString({...$a,property:transitionProperty})}}function normalizeLocalDisabled(us,is){var cs,lo;return typeof us=="boolean"?{draggable:us,droppable:!1}:{draggable:(cs=us==null?void 0:us.draggable)!=null?cs:is.draggable,droppable:(lo=us==null?void 0:us.droppable)!=null?lo:is.droppable}}KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left;const FONT_FAMILY$7='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',DraggableBookmark=({item:us,isNested:is=!1,parentId:cs=null,isEditMode:lo,onNavigate:co,onRename:hs,onDelete:uo,onUpdate:xa,numPages:ba,isSelected:$a,onSelect:wl,recentlyDropped:Sl=!1})=>{const{active:Cl}=useDndContext(),_l=!!Cl,{attributes:Il,listeners:Fl,setNodeRef:Ml,transform:Tl,transition:Dl,isDragging:Bl}=useSortable({id:us.id,data:{type:"bookmark",item:us,parentId:cs||null},disabled:!lo}),[Ll,Nl]=reactExports.useState(us.name||""),[zl,$l]=reactExports.useState(us.pageIds&&us.pageIds.length>0?us.pageIds[0].toString():""),Vl=reactExports.useRef(null),Gl=reactExports.useRef(null),iu=reactExports.useRef(null),nu=reactExports.useRef(null);reactExports.useEffect(()=>{if(iu.current&&!Bl){const cu=iu.current.getBoundingClientRect();cu.width>0&&cu.height>0&&(nu.current={width:cu.width,height:cu.height})}}),reactExports.useEffect(()=>{us&&us.name!==void 0&&Nl(us.name||"")},[us.name]),reactExports.useEffect(()=>{us&&us.pageIds&&Array.isArray(us.pageIds)&&us.pageIds.length>0?$l(us.pageIds[0].toString()):$l("")},[us.pageIds]);const Jl=()=>{us&&us.id&&Ll.trim()&&Ll!==us.name&&hs&&hs(us.id,Ll.trim())},lu=cu=>{const ru=cu.replace(/[^\d]/g,"");if(!ru){$l("");return}const Yl=parseInt(ru,10);if(isNaN(Yl)||Yl<1){$l("");return}if(ba&&Yl>ba){$l(ba.toString());return}$l(Yl.toString())},ju=()=>{if(!us||!us.id||!xa)return;const cu=us.pageIds&&us.pageIds.length>0?us.pageIds[0].toString():"",ru=zl.trim();if(!ru){$l(cu);return}const Yl=parseInt(ru,10);if(isNaN(Yl)||Yl<1||ba&&Yl>ba){ba&&Yl>ba?alert(`Please enter a page number between 1 and ${ba}.`):alert("Please enter a valid page number."),$l(cu);return}(us.pageIds||[])[0]!==Yl&&xa(us.id,{pageIds:[Yl]})},zu=cu=>{if(lo){cu.stopPropagation(),Vl.current&&!cu.target.closest("button")&&(Vl.current.focus(),Vl.current.select());return}wl&&wl(us.id),us.pageIds&&us.pageIds.length>0&&co(us.pageIds)},Wu=(zl||"").toString(),Mu=`${Math.max(3,Wu.length||0)+.5}ch`,mu=Dl||"transform 220ms cubic-bezier(0.22, 1, 0.36, 1)",uu={transform:CSS$1.Transform.toString(Tl),transition:Bl?"transform 0ms linear, opacity 60ms ease-out":`${mu}, opacity 160ms ease-out`,opacity:Bl?0:1,willChange:"transform, opacity",width:Bl&&nu.current?`${nu.current.width}px`:"auto",minWidth:Bl&&nu.current?`${nu.current.width}px`:void 0,height:Bl&&nu.current?`${nu.current.height}px`:"auto",minHeight:Bl&&nu.current?`${nu.current.height}px`:void 0,paddingLeft:is?"16px":"0",marginBottom:"1px"};return jsxRuntimeExports.jsx("div",{ref:cu=>{Ml(cu),iu.current=cu},style:uu,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",padding:lo?"2px 5px":"4px 7px",borderRadius:"6px",cursor:lo?"default":"pointer",background:$a?"#3a3a3a":"transparent",border:Sl?"2px solid rgba(74, 144, 226, 0.6)":"1px solid transparent",boxShadow:Sl?"0 4px 16px rgba(59, 130, 246, 0.08)":"none",transition:"background 0.15s ease, border-color 0.2s ease, box-shadow 0.2s ease",fontSize:"13px",color:"#ddd",gap:lo?"8px":"0",pointerEvents:Bl?"none":"auto"},onClick:zu,onMouseEnter:cu=>{!$a&&!lo&&(cu.currentTarget.style.background="#2b2b2b")},onMouseLeave:cu=>{!$a&&!lo&&(cu.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsx("div",{style:{width:is?"32px":"27px",flexShrink:0}}),lo?jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:0},children:[jsxRuntimeExports.jsx("input",{ref:Vl,type:"text",value:Ll,onChange:cu=>Nl(cu.target.value),onBlur:cu=>{cu.currentTarget.style.borderColor="#3a3a3a",Jl()},onKeyDown:cu=>{cu.key==="Enter"?(Jl(),cu.currentTarget.blur()):cu.key==="Escape"&&(Nl(us.name),cu.currentTarget.blur())},onClick:cu=>cu.stopPropagation(),style:{flex:1,minWidth:0,padding:"3px 3px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$7,outline:"none",transition:"border-color 0.15s ease",textAlign:"left"},onFocus:cu=>cu.currentTarget.style.borderColor="#4A90E2"}),jsxRuntimeExports.jsx("input",{ref:Gl,type:"text",value:zl,onChange:cu=>lu(cu.target.value),onBlur:cu=>{cu.currentTarget.style.borderColor="#3a3a3a",ju()},onKeyDown:cu=>{if(cu.key==="Enter")ju(),cu.currentTarget.blur();else if(cu.key==="Escape"){const ru=us.pageIds&&us.pageIds.length>0?us.pageIds[0].toString():"";$l(ru),cu.currentTarget.blur()}},onClick:cu=>cu.stopPropagation(),style:{width:Mu,padding:"3px 4px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"11px",fontFamily:FONT_FAMILY$7,outline:"none",transition:"border-color 0.15s ease",textAlign:"center",flexShrink:0,marginLeft:"8px",appearance:"textfield",WebkitAppearance:"none",MozAppearance:"textfield"},onFocus:cu=>cu.currentTarget.style.borderColor="#4A90E2",placeholder:"Page",inputMode:"numeric",pattern:"[0-9]*"})]}):jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:0},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"13px",color:"#ddd",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left"},children:us.name}),us.pageIds&&us.pageIds.length>0&&jsxRuntimeExports.jsxs("span",{style:{color:"#999",fontSize:"11px",fontFamily:FONT_FAMILY$7,flexShrink:0,marginLeft:"8px"},children:["Page ",us.pageIds[0]]})]}),lo&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:cu=>{cu.stopPropagation(),us&&us.id&&us.name&&window.confirm(`Delete bookmark "${us.name}"?`)&&uo(us.id)},style:{background:"transparent",border:"none",padding:"2px 4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:cu=>cu.currentTarget.style.background="#3a1f1f",onMouseLeave:cu=>cu.currentTarget.style.background="transparent",title:"Delete",children:jsxRuntimeExports.jsx(Icon,{name:"trash",size:12,color:"#ff6b6b"})}),jsxRuntimeExports.jsx("div",{...Il,...Fl,style:{cursor:_l?"grabbing":"grab",color:"#888",fontSize:"16px",userSelect:"none",padding:"4px",display:"flex",alignItems:"center",flexShrink:0,touchAction:"none"},onMouseEnter:cu=>{cu.currentTarget.style.color="#aaa"},onMouseLeave:cu=>{cu.currentTarget.style.color="#888"},title:"Drag to reorder",children:""})]})]})})},FONT_FAMILY$6='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',DraggableBookmarkFolder=({item:us,isExpanded:is,onToggle:cs,isEditMode:lo,onRename:co,onDelete:hs,onAddToGroup:uo,isSelected:xa,onSelect:ba,incomingPlaceholderHeight:$a=0,children:wl})=>{const{attributes:Sl,listeners:Cl,setNodeRef:_l,transform:Il,transition:Fl,isDragging:Ml}=useSortable({id:us.id,data:{type:"folder",item:us},disabled:!lo}),[Tl,Dl]=reactExports.useState(us.name||""),Bl=reactExports.useRef(null);reactExports.useEffect(()=>{us&&us.name!==void 0&&Dl(us.name||"")},[us.name]);const Ll=()=>{us&&us.id&&Tl.trim()&&Tl!==us.name&&co&&co(us.id,Tl.trim())},Nl=Gl=>{if(lo){Gl.stopPropagation(),Bl.current&&!Gl.target.closest("button")&&!Gl.target.closest("[data-drag-handle]")&&(Bl.current.focus(),Bl.current.select());return}ba&&ba(us.id),cs&&cs(us.id)},zl=Fl||"transform 220ms cubic-bezier(0.22, 1, 0.36, 1)",$l={transform:CSS$1.Transform.toString(Il),transition:Ml?"transform 0ms linear, opacity 80ms ease-out":zl,willChange:"transform, opacity",opacity:Ml?.85:1,marginBottom:"1px"},Vl=Math.max(0,$a);return jsxRuntimeExports.jsxs("div",{style:$l,children:[jsxRuntimeExports.jsxs("div",{ref:_l,style:{display:"flex",alignItems:"center",padding:lo?"3px 6px":"5px 8px",borderRadius:"6px",cursor:lo?"default":"pointer",background:xa?"#3a3a3a":"transparent",border:"1px solid transparent",transition:"background 0.15s ease, border-color 0.15s ease",fontSize:"13px",color:"#ddd",gap:lo?"6px":"4px"},onClick:Nl,onMouseEnter:Gl=>{!xa&&!lo&&(Gl.currentTarget.style.background="#2b2b2b")},onMouseLeave:Gl=>{!xa&&!lo&&(Gl.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsx("button",{onClick:Gl=>{Gl.stopPropagation(),cs&&cs(us.id)},style:{background:"none",border:"none",color:"#999",cursor:"pointer",padding:"2px",marginRight:"6px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",flexShrink:0,width:"16px"},onMouseEnter:Gl=>Gl.currentTarget.style.background="#333",onMouseLeave:Gl=>Gl.currentTarget.style.background="transparent",children:jsxRuntimeExports.jsx(Icon,{name:is?"chevronDown":"chevronRight",size:12})}),lo?jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:0},children:[jsxRuntimeExports.jsx("input",{ref:Bl,type:"text",value:Tl,onChange:Gl=>Dl(Gl.target.value),onBlur:Gl=>{Gl.currentTarget.style.borderColor="#3a3a3a",Ll()},onKeyDown:Gl=>{Gl.key==="Enter"?(Ll(),Gl.currentTarget.blur()):Gl.key==="Escape"&&(Dl(us.name),Gl.currentTarget.blur())},onClick:Gl=>Gl.stopPropagation(),style:{flex:1,minWidth:0,padding:"3px 3px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$6,outline:"none",transition:"border-color 0.15s ease",textAlign:"left"},onFocus:Gl=>Gl.currentTarget.style.borderColor="#4A90E2"}),jsxRuntimeExports.jsx("div",{style:{width:"45px",marginLeft:"8px",flexShrink:0}})]}):jsxRuntimeExports.jsx("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:0},children:jsxRuntimeExports.jsx("span",{style:{fontSize:"13px",color:"#ddd",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left"},children:us.name})}),lo&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[uo&&jsxRuntimeExports.jsx("button",{onClick:Gl=>{Gl.stopPropagation(),uo&&us&&us.id&&uo(us.id)},style:{background:"transparent",border:"none",padding:"2px 4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:Gl=>Gl.currentTarget.style.background="#2b3a2b",onMouseLeave:Gl=>Gl.currentTarget.style.background="transparent",title:"Add Bookmarks to Group",children:jsxRuntimeExports.jsx(Icon,{name:"plus",size:12,color:"#4A90E2"})}),jsxRuntimeExports.jsx("button",{onClick:Gl=>{Gl.stopPropagation(),us&&us.id&&us.name&&window.confirm(`Delete folder "${us.name}"?`)&&hs(us.id)},style:{background:"transparent",border:"none",padding:"2px 4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseEnter:Gl=>Gl.currentTarget.style.background="#3a1f1f",onMouseLeave:Gl=>Gl.currentTarget.style.background="transparent",title:"Delete",children:jsxRuntimeExports.jsx(Icon,{name:"trash",size:12,color:"#ff6b6b"})}),jsxRuntimeExports.jsx("div",{...Sl,...Cl,"data-drag-handle":!0,style:{cursor:"grab",color:"#888",fontSize:"16px",userSelect:"none",padding:"4px",display:"flex",alignItems:"center",flexShrink:0,zIndex:10,position:"relative",touchAction:"none"},onMouseEnter:Gl=>{Gl.currentTarget.style.cursor="grab",Gl.currentTarget.style.color="#aaa"},onMouseLeave:Gl=>{Gl.currentTarget.style.cursor="grab",Gl.currentTarget.style.color="#888"},title:`Drag handle for: ${us.name||us.id}`,children:""})]})]}),is&&jsxRuntimeExports.jsx("div",{style:{marginLeft:"16px",marginTop:"2px",borderLeft:"2px dashed rgba(74, 144, 226, 0.2)",borderRadius:"4px",paddingLeft:"8px",paddingTop:"4px",paddingBottom:Vl?`${Vl+12}px`:"4px",background:"rgba(0, 0, 0, 0.1)",transition:"padding-bottom 0.2s ease-out"},children:wl})]})},DropSlot=({id:us,parentId:is=null,index:cs,isInsideFolder:lo=!1,isEmptyState:co=!1})=>{const{setNodeRef:hs,isOver:uo}=useDroppable({id:us,data:{type:"slot",parentId:is||null,index:cs,isInsideFolder:lo}});return jsxRuntimeExports.jsx("div",{ref:hs,"data-drop-slot-id":us,"data-drop-slot-parent":is||"root",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:co?"32px":lo?"4px":"6px",marginTop:lo?"1px":"2px",marginBottom:lo?"1px":"2px",transition:"all 0.16s ease-out"},children:jsxRuntimeExports.jsx("div",{"aria-hidden":"true",style:{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"4px",opacity:uo?1:0,boxShadow:uo?"0 0 0 2px rgba(74, 144, 226, 0.35)":"none",background:uo?"rgba(74, 144, 226, 0.1)":"transparent",transition:"opacity 0.2s ease-out, box-shadow 0.2s ease-out, background 0.2s ease-out"}})})},FONT_FAMILY$5='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',EXPAND_DELAY_MS=320,COLLAPSE_DELAY_MS=360,generateId=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createSlotId=(us,is)=>us?`${us}::slot::${is}`:`root::slot::${is}`,BookmarksPanel=({bookmarks:us,onBookmarkCreate:is,onBookmarkUpdate:cs,onBookmarkDelete:lo,onNavigateToPage:co,pageNum:hs,numPages:uo})=>{const[xa,ba]=reactExports.useState(new Set),[$a,wl]=reactExports.useState(null),[Sl,Cl]=reactExports.useState(!1),[_l,Il]=reactExports.useState(!1),[Fl,Ml]=reactExports.useState(""),[Tl,Dl]=reactExports.useState(""),[Bl,Ll]=reactExports.useState(!1),[Nl,zl]=reactExports.useState(""),[$l,Vl]=reactExports.useState([]),[Gl,iu]=reactExports.useState(!1),[nu,Jl]=reactExports.useState(null),[lu,ju]=reactExports.useState([]),zu=reactExports.useRef(null),[Wu,qu]=reactExports.useState(null),[Mu,mu]=reactExports.useState(null),[uu,cu]=reactExports.useState(null),[ru,Yl]=reactExports.useState(null),[Hl,Kl]=reactExports.useState(null),_c=reactExports.useRef(new Map),Ql=reactExports.useRef(new Map),su=reactExports.useRef(new Set),gu=reactExports.useRef(null),Cu=reactExports.useRef([]),vu=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:12}})),fu=reactExports.useCallback(Ru=>{if(!Ru||!Array.isArray(Ru))return[];const sp=new Map,lp=[];Ru.forEach(_p=>{_p&&_p.id&&_p.name&&_p.name.trim()&&sp.set(_p.id,{..._p,children:[]})}),Ru.forEach(_p=>{if(!_p||!_p.id)return;const Mp=sp.get(_p.id);if(Mp)if(_p.parentId){const d0=sp.get(_p.parentId);d0?d0.children.push(Mp):lp.push(Mp)}else lp.push(Mp)});const Ip=(_p,Mp)=>(_p.order||0)-(Mp.order||0);return lp.sort(Ip),lp.forEach(_p=>{_p.children&&_p.children.length>0&&_p.children.sort(Ip)}),lp},[]),Fu=reactExports.useMemo(()=>fu(us||[]),[us,fu]),_f=reactExports.useMemo(()=>{const Ru=sp=>sp.flatMap(lp=>{var Ip;return lp.type==="folder"&&((Ip=lp.children)!=null&&Ip.length)?[lp.id,...Ru(lp.children)]:[lp.id]});return Ru(Fu)},[Fu]),Xu=reactExports.useCallback((Ru,sp,lp=null)=>{for(let Ip=0;Ip<sp.length;Ip+=1){const _p=sp[Ip];if(_p.id===Ru)return{item:_p,index:Ip,list:sp,parent:lp};if(_p.type==="folder"&&_p.children){const Mp=Xu(Ru,_p.children,_p);if(Mp)return Mp}}return null},[]),Gu=reactExports.useCallback(Ru=>{const sp=lp=>{for(const Ip of lp){if(Ip.id===Ru)return Ip;if(Ip.type==="folder"&&Ip.children){const _p=sp(Ip.children);if(_p)return _p}}};return sp(Fu)},[Fu]),Uu=reactExports.useCallback((Ru,sp={})=>{const{trackAuto:lp=!1}=sp;let Ip=!1;ba(_p=>{if(_p.has(Ru))return _p;const Mp=new Set(_p);return Mp.add(Ru),Ip=!0,Mp}),lp&&Ip&&su.current.add(Ru)},[]),Au=reactExports.useCallback(Ru=>{const sp=Array.from(Ru);sp.length&&(ba(lp=>{let Ip=!1;const _p=new Set(lp);return sp.forEach(Mp=>{_p.delete(Mp)&&(Ip=!0)}),Ip?_p:lp}),sp.forEach(lp=>su.current.delete(lp)))},[]),Pu=reactExports.useCallback((Ru=null)=>{const sp=Array.from(su.current);su.current.clear();const lp=Ru?sp.filter(Ip=>Ip!==Ru):sp;lp.length&&Au(lp)},[Au]),Ou=reactExports.useCallback(Ru=>{const sp=_c.current.get(Ru);sp&&(clearTimeout(sp),_c.current.delete(Ru))},[]),ip=reactExports.useCallback(Ru=>{const sp=Ql.current.get(Ru);sp&&(clearTimeout(sp),Ql.current.delete(Ru))},[]),$u=reactExports.useCallback(Ru=>{if(_c.current.has(Ru))return;const sp=setTimeout(()=>{_c.current.delete(Ru),Uu(Ru,{trackAuto:!0}),ip(Ru)},EXPAND_DELAY_MS);_c.current.set(Ru,sp)},[Uu,ip]),np=reactExports.useCallback(Ru=>{if(Ql.current.has(Ru))return;const sp=setTimeout(()=>{Ql.current.delete(Ru),Au([Ru])},COLLAPSE_DELAY_MS);Ql.current.set(Ru,sp)},[Au]),Eu=reactExports.useCallback(()=>{_c.current.forEach(Ru=>clearTimeout(Ru)),Ql.current.forEach(Ru=>clearTimeout(Ru)),_c.current.clear(),Ql.current.clear()},[]),Lu=reactExports.useCallback(Ru=>{var Mp,d0;const sp=Ru.active.id;qu(sp),cu(null),su.current.clear(),Cu.current=[];const lp=Xu(sp,Fu),Ip=Ru.active.rect.current,_p=((Mp=Ip==null?void 0:Ip.initial)==null?void 0:Mp.height)??0;Yl({id:sp,parentId:((d0=lp==null?void 0:lp.parent)==null?void 0:d0.id)??null,height:_p}),Kl(null)},[Xu,Fu]),up=reactExports.useCallback(Ru=>{var dp,a0;const sp=Ru.over;mu((sp==null?void 0:sp.id)??null);const lp=sp==null?void 0:sp.data.current,Ip=(dp=Ru.draggingRect)==null?void 0:dp.current,_p=(a0=sp==null?void 0:sp.rect)==null?void 0:a0.current;let Mp=null;if((lp==null?void 0:lp.type)==="bookmark"||(lp==null?void 0:lp.type)==="slot")Mp=lp.parentId,Mp&&(Uu(Mp,{trackAuto:!0}),ip(Mp)),Kl({parentId:lp.parentId??null});else if((lp==null?void 0:lp.type)==="folder"){Mp=sp.id,ip(Mp);const Dp=Fu.findIndex(sm=>sm.id===Mp),_0=Dp===0,E0=Dp===Fu.length-1;let P0=!0;if(Ip&&_p){const sm=_p.top+_p.height/2,Y0=Ip.top+Ip.height/2;(_0&&Y0<sm||E0&&Y0>sm)&&(P0=!1)}P0?$u(Mp):Ou(Mp),Kl(null)}const d0=gu.current;d0&&d0!==Mp&&(Ou(d0),np(d0)),!Mp&&(lp==null?void 0:lp.type)!=="folder"&&xa.forEach(Dp=>np(Dp)),gu.current=Mp},[Fu,Uu,ip,Ou,$u,np,xa]),mp=reactExports.useCallback(Ru=>{var Y0,_m;const{active:sp,over:lp}=Ru;if(Eu(),gu.current=null,Cu.current=[],qu(null),mu(null),Yl(null),Kl(null),!lp){Pu();return}const Ip=sp.id,_p=lp.id;if(Ip===_p)return;const Mp=lp.data.current,d0=Xu(Ip,Fu);if(!d0)return;const dp=(Y0=Ru.draggingRect)==null?void 0:Y0.current,a0=(_m=lp.rect)==null?void 0:_m.current,_0=(()=>{var Em;if(!Mp)return null;if(Mp.type==="slot")return{parentId:Mp.parentId??null,index:Mp.index};if(Mp.type==="bookmark"){const om=Xu(_p,Fu);if(!om)return null;const _1=Mp.parentId??null;let Pm=om.index;if(dp&&a0){const p1=a0.top+a0.height/2;dp.top+dp.height/2>p1&&(Pm+=1)}else _1===((Em=d0.parent)==null?void 0:Em.id)&&d0.index<om.index&&(Pm+=1);return{parentId:_1,index:Pm}}if(Mp.type==="folder"){const om=Fu.findIndex(Pm=>Pm.id===_p);let _1=om;if(dp&&a0){const Pm=a0.top+a0.height/2,p1=dp.top+dp.height/2;p1>Pm&&(_1=om+1);const s1=om===0,e1=Fu.length-1;s1&&p1<Pm&&(_1=om),e1&&p1>Pm&&(_1=om+1)}else!d0.parent&&d0.index<om?_1=om:_1=om+1;return{parentId:null,index:_1}}return null})();if(!_0){Pu();return}const E0=us.find(Em=>Em.id===Ip);if(!E0)return;let P0;_0.parentId?P0=us.filter(Em=>Em.parentId===_0.parentId&&Em.id!==Ip):P0=us.filter(Em=>!Em.parentId&&Em.id!==Ip),P0.sort((Em,om)=>(Em.order||0)-(om.order||0)),P0.splice(_0.index,0,E0),P0.forEach((Em,om)=>{cs&&cs(Em.id,{order:om,parentId:_0.parentId})});const sm=_0.parentId;sm&&ba(Em=>{const om=new Set(Em);return om.add(sm),om}),cu(Ip),Pu(_0.parentId??null)},[us,Fu,Eu,Pu,Xu,cs]),Rp=reactExports.useCallback(()=>{Eu(),gu.current=null,Cu.current=[],qu(null),mu(null),Yl(null),Kl(null),Pu()},[Eu,Pu]);reactExports.useEffect(()=>()=>{Eu()},[Eu]);const kp=reactExports.useCallback(Ru=>{var P0,sm;const sp=pointerWithin(Ru);let lp=sp.length>0?sp:rectIntersection(Ru);if(!lp||lp.length===0)return Cu.current||[];const Ip=(P0=Ru==null?void 0:Ru.active)==null?void 0:P0.id,_p=Ip?Xu(Ip,Fu):null,Mp=((sm=_p==null?void 0:_p.parent)==null?void 0:sm.id)??null,d0=Y0=>{var Em,om,_1,Pm,p1,s1,e1,q0;if((_1=(om=(Em=Y0==null?void 0:Y0.data)==null?void 0:Em.droppableContainer)==null?void 0:om.data)!=null&&_1.current)return Y0.data.droppableContainer.data.current;const _m=Ru.droppableContainers;if(_m){if(typeof _m.get=="function")return((p1=(Pm=_m.get(Y0.id))==null?void 0:Pm.data)==null?void 0:p1.current)??null;if(Array.isArray(_m)){const q1=_m.find(j0=>(j0==null?void 0:j0.id)===Y0.id);return((s1=q1==null?void 0:q1.data)==null?void 0:s1.current)??null}if(typeof _m=="object")return((q0=(e1=_m[Y0.id])==null?void 0:e1.data)==null?void 0:q0.current)??null}return null},dp=lp.map(Y0=>{const _m=d0(Y0);return _m?{collision:Y0,data:_m}:null}).filter(Boolean),a0=dp.filter(Y0=>Y0.data.type==="slot"),Dp=a0.length?[...a0].sort((Y0,_m)=>{const Em=Y0.data.parentId===Mp,om=_m.data.parentId===Mp;return Em===om?0:Em?-1:1}):[],_0=Dp.length?Dp:dp;if(_0.length===0)return Cu.current=lp,lp;const E0=_0.map(Y0=>Y0.collision);return Cu.current=E0,E0},[Fu,Xu]),hu=Wu?Gu(Wu):null,Zl=reactExports.useCallback(Ru=>!ru||!Hl||Hl.parentId!==Ru||ru.parentId===Hl.parentId||ru.id===Ru?0:Math.max(0,ru.height),[ru,Hl]),eu=reactExports.useCallback(Ru=>{ba(sp=>{const lp=new Set(sp);return lp.has(Ru)?lp.delete(Ru):lp.add(Ru),lp})},[]),Nu=reactExports.useCallback(Ru=>{Ru&&Ru.length>0&&co(Ru[0])},[co]),Zu=reactExports.useCallback((Ru,sp)=>{cs&&cs(Ru,{name:sp})},[cs]),Vu=reactExports.useCallback(Ru=>{lo&&lo(Ru)},[lo]),yu=reactExports.useCallback(()=>{const Ru=Fl.trim();if(!Ru)return;const sp=Tl.trim();if(!sp){alert("Please enter a page number.");return}const lp=parseInt(sp,10);if(isNaN(lp)||lp<1){alert("Please enter a valid page number.");return}if(uo&&lp>uo){alert(`Please enter a page number between 1 and ${uo}.`);return}is&&is({name:Ru,pageIds:[lp],type:"bookmark"}),Ml(""),Dl(""),Cl(!1)},[Fl,Tl,is,uo]),Hu=reactExports.useCallback(Ru=>{const sp=Ru.replace(/[^\d]/g,"");if(!sp){Dl("");return}const lp=parseInt(sp,10);if(isNaN(lp)||lp<1){Dl("");return}if(uo&&lp>uo){Dl(uo.toString());return}Dl(lp.toString())},[uo]),Sp=reactExports.useCallback(()=>{Ll(!0),zl(""),Vl([]),Cl(!1)},[]),Np=reactExports.useCallback(()=>{if(!Nl.trim()){alert("Please enter a name for the bookmark group");return}if($l.length===0){alert("Please add at least one bookmark to the group");return}if($l.filter(_p=>{if(_p.isExisting)return!1;if(!_p.name||!_p.name.trim()||!_p.pageIds||_p.pageIds.length===0)return!0;const Mp=_p.pageIds[0];return!!(Mp<1||uo&&Mp>uo)}).length>0){alert("Please ensure all new bookmarks have both a name and a valid page number within the PDF page range.");return}const sp=generateId(),lp=$l.filter(_p=>!_p.isExisting).filter(_p=>{if(!_p.name||!_p.name.trim()||!_p.pageIds||_p.pageIds.length===0)return!1;const Mp=_p.pageIds[0];return!(Mp<1||uo&&Mp>uo)}).map(_p=>({id:generateId(),name:_p.name.trim(),type:"bookmark",pageIds:_p.pageIds||[],parentId:sp})),Ip=$l.filter(_p=>_p.isExisting&&_p.id).map(_p=>_p.id);is&&is({id:sp,name:Nl.trim(),type:"folder",children:[]}),lp.forEach(_p=>{is&&is(_p)}),Ip.forEach(_p=>{cs&&cs(_p,{parentId:sp})}),Ll(!1),zl(""),Vl([])},[Nl,$l,is,cs,uo]),Lp=reactExports.useCallback(Ru=>{const sp=us.find(lp=>lp.id===Ru);!sp||sp.type==="folder"||$l.some(lp=>lp.id===Ru&&lp.isExisting)||Vl(lp=>[...lp,{id:sp.id,name:sp.name,pageIds:sp.pageIds||[],isExisting:!0}])},[us,$l]),Ku=reactExports.useCallback(()=>{let Ru=null;hs&&hs>0?Ru=uo?Math.min(hs,uo):hs:uo&&uo>0&&(Ru=1);const sp={id:`temp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:"",pageIds:Ru?[Ru]:[],isExisting:!1};Vl(lp=>[...lp,sp])},[hs,uo]),wp=reactExports.useCallback((Ru,sp)=>{Vl(lp=>lp.map((Ip,_p)=>_p===Ru?{...Ip,...sp}:Ip))},[]),Bp=reactExports.useCallback(Ru=>{Vl(sp=>sp.filter((lp,Ip)=>Ip!==Ru))},[]),Pp=reactExports.useCallback(Ru=>{Jl(Ru),ju([]),iu(!0)},[]),n0=reactExports.useCallback(Ru=>{const sp=us.find(lp=>lp.id===Ru);!sp||sp.type==="folder"||sp.parentId!==nu&&(lu.some(lp=>lp.id===Ru&&lp.isExisting)||ju(lp=>[...lp,{id:sp.id,name:sp.name,pageIds:sp.pageIds||[],isExisting:!0}]))},[us,nu,lu]),Jp=reactExports.useCallback(()=>{let Ru=null;hs&&hs>0?Ru=uo?Math.min(hs,uo):hs:uo&&uo>0&&(Ru=1);const sp={id:`temp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:"",pageIds:Ru?[Ru]:[],isExisting:!1};ju(lp=>[...lp,sp])},[hs,uo]),Ju=reactExports.useCallback((Ru,sp)=>{ju(lp=>lp.map((Ip,_p)=>_p===Ru?{...Ip,...sp}:Ip))},[]),_d=reactExports.useCallback(Ru=>{ju(sp=>sp.filter((lp,Ip)=>Ip!==Ru))},[]),hp=reactExports.useCallback(()=>{if(!nu)return;if(lu.length===0){alert("Please add at least one bookmark to the group");return}if(lu.filter(Ip=>{if(Ip.isExisting)return!1;if(!Ip.name||!Ip.name.trim()||!Ip.pageIds||Ip.pageIds.length===0)return!0;const _p=Ip.pageIds[0];return!!(_p<1||uo&&_p>uo)}).length>0){alert("Please ensure all new bookmarks have both a name and a valid page number within the PDF page range.");return}const sp=lu.filter(Ip=>!Ip.isExisting).filter(Ip=>{if(!Ip.name||!Ip.name.trim()||!Ip.pageIds||Ip.pageIds.length===0)return!1;const _p=Ip.pageIds[0];return!(_p<1||uo&&_p>uo)}).map(Ip=>({id:generateId(),name:Ip.name.trim(),type:"bookmark",pageIds:Ip.pageIds||[],parentId:nu})),lp=lu.filter(Ip=>Ip.isExisting&&Ip.id).map(Ip=>Ip.id);sp.forEach(Ip=>{is&&is(Ip)}),lp.forEach(Ip=>{cs&&cs(Ip,{parentId:nu})}),iu(!1),Jl(null),ju([])},[nu,lu,is,cs,uo]);reactExports.useEffect(()=>{const Ru=sp=>{zu.current&&!zu.current.contains(sp.target)&&Cl(!1)};if(Sl)return document.addEventListener("mousedown",Ru),()=>document.removeEventListener("mousedown",Ru)},[Sl]);const xp=(Ru,sp)=>{const lp=Ru.type==="folder",Ip=xa.has(Ru.id);return lp?jsxRuntimeExports.jsxs("div",{style:{marginBottom:"0.5px"},children:[jsxRuntimeExports.jsx(DropSlot,{id:createSlotId(null,sp),parentId:null,index:sp}),jsxRuntimeExports.jsx(DraggableBookmarkFolder,{item:Ru,isExpanded:Ip,onToggle:eu,isEditMode:_l,onRename:Zu,onDelete:Vu,onAddToGroup:Pp,isSelected:$a===Ru.id,onSelect:wl,incomingPlaceholderHeight:Zl(Ru.id),children:Ru.children&&Ru.children.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DropSlot,{id:createSlotId(Ru.id,0),parentId:Ru.id,index:0,isInsideFolder:!0}),Ru.children.map((_p,Mp)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(DraggableBookmark,{item:_p,isNested:!0,parentId:Ru.id,isEditMode:_l,onNavigate:Nu,onRename:Zu,onDelete:Vu,onUpdate:cs,numPages:uo,isSelected:$a===_p.id,onSelect:wl,recentlyDropped:uu===_p.id}),jsxRuntimeExports.jsx(DropSlot,{id:createSlotId(Ru.id,Mp+1),parentId:Ru.id,index:Mp+1,isInsideFolder:!0})]},_p.id))]}):jsxRuntimeExports.jsx(DropSlot,{id:createSlotId(Ru.id,0),parentId:Ru.id,index:0,isInsideFolder:!0,isEmptyState:!0})})]},Ru.id):jsxRuntimeExports.jsxs("div",{style:{marginBottom:"0.5px"},children:[jsxRuntimeExports.jsx(DropSlot,{id:createSlotId(null,sp),parentId:null,index:sp}),jsxRuntimeExports.jsx(DraggableBookmark,{item:Ru,parentId:null,isEditMode:_l,onNavigate:Nu,onRename:Zu,onDelete:Vu,onUpdate:cs,numPages:uo,isSelected:$a===Ru.id,onSelect:wl,recentlyDropped:uu===Ru.id})]},Ru.id)};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",fontFamily:FONT_FAMILY$5,background:"#252525"},children:[jsxRuntimeExports.jsxs("div",{style:{padding:"12px",background:"#252525",borderBottom:"1px solid #3a3a3a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"13px",fontWeight:"600",color:"#ddd"},children:"Bookmarks"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:jsxRuntimeExports.jsxs("button",{onClick:()=>Il(!_l),style:{background:_l?"#4A90E2":"#3a3a3a",color:"#ffffff",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>{_l?Ru.currentTarget.style.background="#357abd":Ru.currentTarget.style.background="#444"},onMouseLeave:Ru=>{_l?Ru.currentTarget.style.background="#4A90E2":Ru.currentTarget.style.background="#3a3a3a"},children:[jsxRuntimeExports.jsx(Icon,{name:"edit",size:12,color:"#ffffff"}),_l?"Done":"Edit"]})})]}),jsxRuntimeExports.jsx("div",{style:{flex:1,overflowY:"auto",padding:"8px",position:"relative"},children:jsxRuntimeExports.jsxs(DndContext,{sensors:vu,collisionDetection:kp,onDragStart:Lu,onDragOver:up,onDragEnd:mp,onDragCancel:Rp,children:[jsxRuntimeExports.jsx(SortableContext,{items:_f,strategy:verticalListSortingStrategy,children:Fu.length===0?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999",fontSize:"13px"},children:"No bookmarks yet. Create one to get started."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Fu.map((Ru,sp)=>xp(Ru,sp)),jsxRuntimeExports.jsx(DropSlot,{id:createSlotId(null,Fu.length),parentId:null,index:Fu.length})]})}),hu&&jsxRuntimeExports.jsx(DragOverlay,{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",borderRadius:"8px",border:"2px solid #4A90E2",background:"rgba(43, 43, 43, 0.9)",padding:"12px",boxShadow:"0 12px 28px rgba(0, 0, 0, 0.4)",backdropFilter:"blur(4px)",fontSize:"16px",color:"#4A90E2"},children:["",hu.type==="folder"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Icon,{name:"folder",size:16,color:"#999"}),jsxRuntimeExports.jsx("span",{style:{fontWeight:"600",color:"#ddd"},children:hu.name})]}):jsxRuntimeExports.jsx("span",{style:{fontWeight:"500",color:"#ddd"},children:hu.name})]})})]})}),jsxRuntimeExports.jsx("div",{style:{padding:"12px",background:"#252525",borderTop:"1px solid #3a3a3a"},children:jsxRuntimeExports.jsxs("div",{style:{position:"relative"},ref:zu,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Cl(!Sl),style:{width:"100%",background:"#4A90E2",color:"#ffffff",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"13px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#357abd",onMouseLeave:Ru=>Ru.currentTarget.style.background="#4A90E2",children:[jsxRuntimeExports.jsx(Icon,{name:"plus",size:14,color:"#ffffff"}),"Add Bookmark"]}),Sl&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,right:0,marginBottom:"4px",background:"#333",border:"1px solid #444",borderRadius:"8px",padding:"4px",zIndex:1e3,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[jsxRuntimeExports.jsxs("button",{onClick:Sp,style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"13px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:Ru=>Ru.currentTarget.style.background="#2b2b2b",onMouseLeave:Ru=>Ru.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx(Icon,{name:"folder",size:14,color:"#999"}),"New Bookmark Group"]}),jsxRuntimeExports.jsxs("div",{style:{padding:"8px 12px",borderTop:"1px solid #3a3a3a"},children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Bookmark name",value:Fl,onChange:Ru=>Ml(Ru.target.value),style:{width:"100%",padding:"8px 10px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"6px",fontSize:"13px",fontFamily:FONT_FAMILY$5,marginBottom:"8px",outline:"none",transition:"border-color 0.15s ease"},onFocus:Ru=>Ru.currentTarget.style.borderColor="#4A90E2",onBlur:Ru=>Ru.currentTarget.style.borderColor="#3a3a3a"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Page number",value:Tl,onChange:Ru=>Hu(Ru.target.value),style:{width:"100%",padding:"8px 10px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"6px",fontSize:"13px",fontFamily:FONT_FAMILY$5,marginBottom:"8px",outline:"none",transition:"border-color 0.15s ease"},onFocus:Ru=>Ru.currentTarget.style.borderColor="#4A90E2",onBlur:Ru=>Ru.currentTarget.style.borderColor="#3a3a3a",inputMode:"numeric",pattern:"[0-9]*"}),jsxRuntimeExports.jsx("button",{onClick:()=>{if(hs){const Ru=uo?Math.min(hs,uo):hs;Ru>0&&Hu(Ru.toString())}},style:{width:"100%",padding:"6px 12px",background:"#3a3a3a",color:"#ddd",border:"1px solid #444",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer",fontFamily:FONT_FAMILY$5,marginBottom:"8px",transition:"background 0.15s ease"},onMouseEnter:Ru=>Ru.currentTarget.style.background="#444",onMouseLeave:Ru=>Ru.currentTarget.style.background="#3a3a3a",children:"Current Page"}),jsxRuntimeExports.jsx("button",{onClick:yu,style:{width:"100%",padding:"6px 12px",background:"#4A90E2",color:"#ffffff",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"500",cursor:"pointer",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#357abd",onMouseLeave:Ru=>Ru.currentTarget.style.background="#4A90E2",children:"Create Bookmark"})]})]})]})}),Bl&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:()=>Ll(!1),children:jsxRuntimeExports.jsxs("div",{style:{background:"#252525",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",border:"1px solid #3a3a3a",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},onClick:Ru=>Ru.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#ddd"},children:"Create Bookmark Group"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ll(!1),zl(""),Vl([])},style:{background:"transparent",border:"none",color:"#999",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:Ru=>{Ru.currentTarget.style.background="#3a3a3a",Ru.currentTarget.style.color="#ddd"},onMouseLeave:Ru=>{Ru.currentTarget.style.background="transparent",Ru.currentTarget.style.color="#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#aaa",marginBottom:"8px"},children:"Group Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:Nl,onChange:Ru=>zl(Ru.target.value),placeholder:"Enter bookmark group name",style:{width:"100%",padding:"10px 12px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"6px",fontSize:"13px",fontFamily:FONT_FAMILY$5,outline:"none",transition:"border-color 0.15s ease"},onFocus:Ru=>Ru.currentTarget.style.borderColor="#4A90E2",onBlur:Ru=>Ru.currentTarget.style.borderColor="#3a3a3a",autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[jsxRuntimeExports.jsxs("label",{style:{fontSize:"13px",fontWeight:"500",color:"#aaa"},children:["Bookmarks (",$l.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:Ku,style:{background:"#3a3a3a",color:"#ddd",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#444",onMouseLeave:Ru=>Ru.currentTarget.style.background="#3a3a3a",children:[jsxRuntimeExports.jsx(Icon,{name:"plus",size:12}),"New Bookmark"]})]}),jsxRuntimeExports.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #3a3a3a",borderRadius:"6px",background:"#1f1f1f"},children:$l.length===0?jsxRuntimeExports.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:"#666",fontSize:"13px"},children:"No bookmarks added yet. Add existing bookmarks or create new ones."}):$l.map((Ru,sp)=>jsxRuntimeExports.jsxs("div",{style:{padding:"12px",borderBottom:sp<$l.length-1?"1px solid #2a2a2a":"none",display:"flex",gap:"8px",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:Ru.isExisting?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",color:"#ddd",fontWeight:"500"},children:Ru.name}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"11px",color:"#999"},children:["Page ",Ru.pageIds&&Ru.pageIds.length>0?Ru.pageIds[0]:"N/A"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"text",value:Ru.name||"",onChange:lp=>wp(sp,{name:lp.target.value}),placeholder:"Bookmark name",style:{width:"100%",padding:"6px 8px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$5,outline:"none"},onFocus:lp=>lp.currentTarget.style.borderColor="#4A90E2",onBlur:lp=>lp.currentTarget.style.borderColor="#3a3a3a"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ru.pageIds&&Ru.pageIds.length>0?Ru.pageIds[0]:"",onChange:lp=>{const Ip=lp.target.value.replace(/[^\d]/g,"");if(!Ip){wp(sp,{pageIds:[]});return}const _p=parseInt(Ip,10);if(isNaN(_p)||_p<1){wp(sp,{pageIds:[]});return}const Mp=uo&&_p>uo?uo:_p;wp(sp,{pageIds:[Mp]})},placeholder:"Page number",style:{width:"100%",padding:"6px 8px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$5,outline:"none"},onFocus:lp=>lp.currentTarget.style.borderColor="#4A90E2",onBlur:lp=>lp.currentTarget.style.borderColor="#3a3a3a",inputMode:"numeric",pattern:"[0-9]*"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>Bp(sp),style:{background:"transparent",border:"none",color:"#ff6b6b",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",flexShrink:0},onMouseEnter:lp=>lp.currentTarget.style.background="#3a1f1f",onMouseLeave:lp=>lp.currentTarget.style.background="transparent",title:"Remove",children:jsxRuntimeExports.jsx(Icon,{name:"trash",size:14})})]},sp))})]}),us&&us.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#aaa",marginBottom:"8px"},children:"Add Existing Bookmarks"}),jsxRuntimeExports.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #3a3a3a",borderRadius:"6px",background:"#1f1f1f",padding:"8px"},children:us.filter(Ru=>Ru.type==="bookmark"&&!Ru.parentId).length===0?jsxRuntimeExports.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"12px"},children:"No existing bookmarks available"}):us.filter(Ru=>Ru.type==="bookmark"&&!Ru.parentId).filter(Ru=>!$l.some(sp=>sp.id===Ru.id&&sp.isExisting)).map(Ru=>jsxRuntimeExports.jsxs("button",{onClick:()=>Lp(Ru.id),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"12px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},onMouseEnter:sp=>sp.currentTarget.style.background="#2b2b2b",onMouseLeave:sp=>sp.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx("span",{children:Ru.name}),jsxRuntimeExports.jsxs("span",{style:{color:"#999",fontSize:"11px"},children:["Page ",Ru.pageIds&&Ru.pageIds.length>0?Ru.pageIds[0]:"N/A"]})]},Ru.id))})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ll(!1),zl(""),Vl([])},style:{padding:"8px 16px",background:"#3a3a3a",color:"#ddd",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#444",onMouseLeave:Ru=>Ru.currentTarget.style.background="#3a3a3a",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Np,style:{padding:"8px 16px",background:"#4A90E2",color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#357abd",onMouseLeave:Ru=>Ru.currentTarget.style.background="#4A90E2",children:"Create Group"})]})]})}),Gl&&nu&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:()=>{iu(!1),Jl(null),ju([])},children:jsxRuntimeExports.jsxs("div",{style:{background:"#252525",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",border:"1px solid #3a3a3a",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},onClick:Ru=>Ru.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#ddd"},children:"Add Bookmarks to Group"}),jsxRuntimeExports.jsx("button",{onClick:()=>{iu(!1),Jl(null),ju([])},style:{background:"transparent",border:"none",color:"#999",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:Ru=>{Ru.currentTarget.style.background="#3a3a3a",Ru.currentTarget.style.color="#ddd"},onMouseLeave:Ru=>{Ru.currentTarget.style.background="transparent",Ru.currentTarget.style.color="#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),(()=>{const Ru=us.find(sp=>sp.id===nu);return Ru?jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#aaa",marginBottom:"8px"},children:"Group Name"}),jsxRuntimeExports.jsx("div",{style:{padding:"10px 12px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"6px",fontSize:"13px",fontFamily:FONT_FAMILY$5},children:Ru.name})]}):null})(),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[jsxRuntimeExports.jsxs("label",{style:{fontSize:"13px",fontWeight:"500",color:"#aaa"},children:["Bookmarks (",lu.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:Jp,style:{background:"#3a3a3a",color:"#ddd",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#444",onMouseLeave:Ru=>Ru.currentTarget.style.background="#3a3a3a",children:[jsxRuntimeExports.jsx(Icon,{name:"plus",size:12}),"New Bookmark"]})]}),jsxRuntimeExports.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #3a3a3a",borderRadius:"6px",background:"#1f1f1f"},children:lu.length===0?jsxRuntimeExports.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:"#666",fontSize:"13px"},children:"No bookmarks added yet. Add existing bookmarks or create new ones."}):lu.map((Ru,sp)=>jsxRuntimeExports.jsxs("div",{style:{padding:"12px",borderBottom:sp<lu.length-1?"1px solid #2a2a2a":"none",display:"flex",gap:"8px",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:Ru.isExisting?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",color:"#ddd",fontWeight:"500"},children:Ru.name}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"11px",color:"#999"},children:["Page ",Ru.pageIds&&Ru.pageIds.length>0?Ru.pageIds[0]:"N/A"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"text",value:Ru.name||"",onChange:lp=>Ju(sp,{name:lp.target.value}),placeholder:"Bookmark name",style:{width:"100%",padding:"6px 8px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$5,outline:"none"},onFocus:lp=>lp.currentTarget.style.borderColor="#4A90E2",onBlur:lp=>lp.currentTarget.style.borderColor="#3a3a3a"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ru.pageIds&&Ru.pageIds.length>0?Ru.pageIds[0]:"",onChange:lp=>{const Ip=lp.target.value.replace(/[^\d]/g,"");if(!Ip){Ju(sp,{pageIds:[]});return}const _p=parseInt(Ip,10);if(isNaN(_p)||_p<1){Ju(sp,{pageIds:[]});return}const Mp=uo&&_p>uo?uo:_p;Ju(sp,{pageIds:[Mp]})},placeholder:"Page number",style:{width:"100%",padding:"6px 8px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$5,outline:"none"},onFocus:lp=>lp.currentTarget.style.borderColor="#4A90E2",onBlur:lp=>lp.currentTarget.style.borderColor="#3a3a3a",inputMode:"numeric",pattern:"[0-9]*"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>_d(sp),style:{background:"transparent",border:"none",color:"#ff6b6b",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",flexShrink:0},onMouseEnter:lp=>lp.currentTarget.style.background="#3a1f1f",onMouseLeave:lp=>lp.currentTarget.style.background="transparent",title:"Remove",children:jsxRuntimeExports.jsx(Icon,{name:"trash",size:14})})]},sp))})]}),us&&us.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#aaa",marginBottom:"8px"},children:"Add Existing Bookmarks"}),jsxRuntimeExports.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #3a3a3a",borderRadius:"6px",background:"#1f1f1f",padding:"8px"},children:us.filter(Ru=>Ru.type==="bookmark"&&Ru.parentId!==nu&&!lu.some(sp=>sp.id===Ru.id&&sp.isExisting)).length===0?jsxRuntimeExports.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"12px"},children:"No existing bookmarks available"}):us.filter(Ru=>Ru.type==="bookmark"&&Ru.parentId!==nu&&!lu.some(sp=>sp.id===Ru.id&&sp.isExisting)).map(Ru=>jsxRuntimeExports.jsxs("button",{onClick:()=>n0(Ru.id),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderRadius:"4px",fontSize:"12px",textAlign:"left",cursor:"pointer",color:"#ddd",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},onMouseEnter:sp=>sp.currentTarget.style.background="#2b2b2b",onMouseLeave:sp=>sp.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx("span",{children:Ru.name}),jsxRuntimeExports.jsxs("span",{style:{color:"#999",fontSize:"11px"},children:["Page ",Ru.pageIds&&Ru.pageIds.length>0?Ru.pageIds[0]:"N/A"]})]},Ru.id))})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{iu(!1),Jl(null),ju([])},style:{padding:"8px 16px",background:"#3a3a3a",color:"#ddd",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#444",onMouseLeave:Ru=>Ru.currentTarget.style.background="#3a3a3a",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:hp,style:{padding:"8px 16px",background:"#4A90E2",color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer",fontFamily:FONT_FAMILY$5},onMouseEnter:Ru=>Ru.currentTarget.style.background="#357abd",onMouseLeave:Ru=>Ru.currentTarget.style.background="#4A90E2",children:"Add Bookmarks"})]})]})})]})},parsePageRangeInput=(us,is={})=>{const{min:cs=1,max:lo=1/0}=is,co=new Set,hs=[];if(!us||typeof us!="string")return{pages:[],errors:["No page numbers provided."]};const uo=us.split(/[,;]+/).map(xa=>xa.trim()).filter(Boolean);return uo.length===0?{pages:[],errors:["No page numbers provided."]}:(uo.forEach(xa=>{if(/^\d+$/.test(xa)){const $a=Number(xa);if(!Number.isInteger($a)||$a<cs||$a>lo){hs.push(`Page ${xa} is outside the valid range (${cs}-${lo}).`);return}co.add($a);return}const ba=xa.match(/^(\d+)\s*-\s*(\d+)$/);if(ba){let $a=Number(ba[1]),wl=Number(ba[2]);if(!Number.isInteger($a)||!Number.isInteger(wl)){hs.push(`Range "${xa}" contains non-integer values.`);return}$a>wl&&([$a,wl]=[wl,$a]);for(let Sl=$a;Sl<=wl;Sl+=1){if(Sl<cs||Sl>lo){hs.push(`Page ${Sl} in range "${xa}" is outside the valid range (${cs}-${lo}).`);continue}co.add(Sl)}return}hs.push(`Unable to parse "${xa}". Use formats like "5" or "5-7".`)}),{pages:Array.from(co).sort((xa,ba)=>xa-ba),errors:hs})},formatPageList=(us=[])=>{if(!Array.isArray(us)||us.length===0)return"";const is=[...us].sort((hs,uo)=>hs-uo),cs=[];let lo=is[0],co=is[0];for(let hs=1;hs<is.length;hs+=1){const uo=is[hs];if(uo===co+1){co=uo;continue}lo===co?cs.push(String(lo)):cs.push(`${lo}-${co}`),lo=uo,co=uo}return lo===co?cs.push(String(lo)):cs.push(`${lo}-${co}`),cs.join(", ")},FONT_FAMILY$4='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',SpaceDragOverlay=React.memo(function us({space:is}){return is?jsxRuntimeExports.jsx("div",{style:{background:"#2b2b2b",borderRadius:"8px",border:"1px solid rgba(74, 144, 226, 0.6)",padding:"10px 12px",minWidth:"220px",maxWidth:"260px",boxShadow:"0 12px 36px rgba(0, 0, 0, 0.45)",opacity:.9,display:"flex",flexDirection:"column",gap:"4px",fontFamily:FONT_FAMILY$4},children:jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#e6e6e6"},children:is.name})}):null}),SpaceSortableCard=React.memo(function us({space:is,isActive:cs,isSelected:lo,isExpanded:co,isEditing:hs,editingName:uo,pageSummary:xa,pageCount:ba,regionCount:$a,pageInputValue:wl,pageError:Sl,onToggleExpand:Cl,onSpaceClick:_l,onRenameClick:Il,onEditingNameChange:Fl,onSaveRename:Ml,onCancelRename:Tl,onDelete:Dl,onExportSpaceCSV:Bl,onExportSpacePDF:Ll,onPageInputChange:Nl,onAssignPages:zl,onRenameRegion:$l,onRequestRegionEdit:Vl,onRemovePage:Gl,onExitSpace:iu,isRegionSelectionActive:nu=!1}){var Gu;const[Jl,lu]=reactExports.useState(!1),[ju,zu]=reactExports.useState(!1),[Wu,qu]=reactExports.useState(null),[Mu,mu]=reactExports.useState(""),uu=reactExports.useRef(null),cu=reactExports.useRef(null);React.useEffect(()=>{co||(lu(!1),qu(null),mu(""))},[co]),React.useEffect(()=>{if(!Jl)return;const Uu=Au=>{cu.current&&(cu.current.contains(Au.target)||lu(!1))};return document.addEventListener("mousedown",Uu),document.addEventListener("touchstart",Uu),()=>{document.removeEventListener("mousedown",Uu),document.removeEventListener("touchstart",Uu)}},[Jl]),React.useEffect(()=>{qu(null),mu("")},[is.id]),React.useEffect(()=>{Wu!==null&&requestAnimationFrame(()=>{var Uu,Au;(Uu=uu.current)==null||Uu.focus(),(Au=uu.current)==null||Au.select()})},[Wu]);const ru=ju||Jl,Yl=reactExports.useCallback((Uu,Au=!1)=>{if(Wu!==Uu)return;const Pu=Mu.trim();$l==null||$l(is.id,Uu,Pu),qu(null),mu(""),Au&&(Vl==null||Vl(is.id,Uu))},[Wu,Mu,$l,Vl,is.id]),Hl=reactExports.useCallback(()=>{qu(null),mu("")},[]),Kl=reactExports.useCallback((Uu,Au)=>{qu(Uu),mu(Au)},[]),{attributes:_c,listeners:Ql,setNodeRef:su,transform:gu,transition:Cu,isDragging:vu}=useSortable({id:is.id}),fu={transform:CSS$1.Transform.toString(gu),transition:Cu||"transform 180ms cubic-bezier(0.2, 0, 0.2, 1)",marginBottom:"8px"},Fu=lo||cs,_f=Fu?"#3a3a3a":"transparent",Xu=Fu?"#3a3a3a":"#2b2b2b";return jsxRuntimeExports.jsx("div",{ref:su,style:fu,children:jsxRuntimeExports.jsxs("div",{style:{background:"#2b2b2b",border:Fu?"1px solid transparent":"1px solid #3a3a3a",borderRadius:"8px",overflow:co?"visible":"hidden",boxShadow:Fu?"0 4px 16px rgba(0, 0, 0, 0.18)":"0 1px 2px rgba(0, 0, 0, 0.05)",opacity:vu?.75:1,transform:vu?"scale(0.98)":"none",transition:"opacity 0.18s ease, transform 0.18s ease"},children:[jsxRuntimeExports.jsxs("div",{onClick:()=>_l(is.id),onDoubleClick:()=>Cl(is.id),style:{padding:"10px 10px 10px 6px",cursor:"pointer",background:_f,transition:"background 0.15s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:Uu=>{!lo&&!cs&&(Uu.currentTarget.style.background=Xu)},onMouseLeave:Uu=>{!lo&&!cs&&(Uu.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsx("div",{..._c,...Ql,"data-space-drag-handle":!0,onClick:Uu=>Uu.stopPropagation(),onMouseDown:Uu=>Uu.stopPropagation(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",borderRadius:"6px",color:"#666",fontSize:"16px",cursor:vu?"grabbing":"grab",userSelect:"none",touchAction:"none",background:vu?"#3a3a3a":"transparent"},title:"Drag to reorder",children:""}),jsxRuntimeExports.jsx("button",{onClick:Uu=>{Uu.stopPropagation(),Cl(is.id)},style:{background:"none",border:"none",color:"#666",cursor:"pointer",padding:"2px 4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},onMouseEnter:Uu=>Uu.currentTarget.style.background="#f0f0f0",onMouseLeave:Uu=>Uu.currentTarget.style.background="transparent",title:co?"Collapse":"Expand",children:jsxRuntimeExports.jsx(Icon,{name:co?"chevronDown":"chevronRight",size:12})}),hs?jsxRuntimeExports.jsx("input",{type:"text",value:uo,onChange:Uu=>Fl(Uu.target.value),onBlur:Ml,onKeyDown:Uu=>{Uu.key==="Enter"?Ml():Uu.key==="Escape"&&Tl()},onClick:Uu=>Uu.stopPropagation(),autoFocus:!0,style:{flex:1,padding:"4px 8px",background:"#2b2b2b",color:"#ddd",border:"1px solid #4A90E2",borderRadius:"4px",fontSize:"13px",fontFamily:FONT_FAMILY$4,outline:"none"}}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{style:{flex:1,fontSize:"13px",fontWeight:"500",color:"#ddd",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:is.name}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center",marginLeft:"auto"},children:[lo&&jsxRuntimeExports.jsx("button",{onClick:Uu=>{Uu.stopPropagation(),iu==null||iu(is.id)},style:{background:"#4A90E2",border:"none",color:"#ffffff",padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:FONT_FAMILY$4,transition:"background 0.15s ease"},onMouseEnter:Uu=>{Uu.currentTarget.style.background="#357abd"},onMouseLeave:Uu=>{Uu.currentTarget.style.background="#4A90E2"},title:"Exit Space",children:"Exit"}),jsxRuntimeExports.jsx("button",{onClick:Uu=>{Uu.stopPropagation(),Il(is.id,is.name)},style:{background:"transparent",border:"none",padding:"4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:Uu=>Uu.currentTarget.style.background="#f0f0f0",onMouseLeave:Uu=>Uu.currentTarget.style.background="transparent",title:"Rename",children:jsxRuntimeExports.jsx(Icon,{name:"edit",size:12,color:"#666"})}),jsxRuntimeExports.jsx("button",{onClick:Uu=>{Uu.stopPropagation(),Dl(is.id)},style:{background:"transparent",border:"none",padding:"4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:Uu=>Uu.currentTarget.style.background="#ffebee",onMouseLeave:Uu=>Uu.currentTarget.style.background="transparent",title:"Delete",children:jsxRuntimeExports.jsx(Icon,{name:"trash",size:12,color:"#d32f2f"})})]})]})]}),co&&jsxRuntimeExports.jsxs("div",{style:{padding:"10px 12px 16px 12px",background:"#2b2b2b",borderTop:"1px solid #3a3a3a",display:"flex",flexDirection:"column",gap:"12px",fontSize:"12px",color:"#999",position:"relative"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexWrap:"nowrap",gap:"8px",alignItems:"center"},children:[jsxRuntimeExports.jsx("button",{onClick:Uu=>{Uu.stopPropagation(),zl(is.id)},style:{padding:"6px 10px",background:"#4A90E2",color:"#fff",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:500,cursor:"pointer",fontFamily:FONT_FAMILY$4,whiteSpace:"nowrap"},children:"Add Pages"}),jsxRuntimeExports.jsxs("div",{ref:cu,style:{position:"relative",display:"inline-flex"},onClick:Uu=>Uu.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:()=>lu(Uu=>!Uu),onMouseEnter:()=>zu(!0),onMouseLeave:()=>zu(!1),style:{padding:"6px",background:ru?"#4A90E2":"#3a3a3a",border:"1px solid #4A90E2",color:ru?"#ffffff":"#4A90E2",borderRadius:"6px",fontSize:"12px",fontWeight:500,cursor:"pointer",fontFamily:FONT_FAMILY$4,display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.15s ease, border-color 0.15s ease, color 0.15s ease"},children:jsxRuntimeExports.jsx(Icon,{name:"upload",size:14,color:ru?"#ffffff":"#4A90E2"})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"50%",left:"calc(100% + 8px)",transform:"translateY(-50%)",background:"#1f1f1f",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:500,opacity:ru?1:0,pointerEvents:"none",transition:"opacity 0.2s ease",whiteSpace:"nowrap"},children:"Export"}),Jl&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"calc(100% + 6px)",left:"50%",transform:"translateX(-50%)",background:"#1f1f1f",border:"1px solid #3a3a3a",borderRadius:"6px",boxShadow:"0 8px 20px rgba(0,0,0,0.35)",display:"flex",flexDirection:"column",minWidth:"auto",width:"max-content",zIndex:10,overflow:"hidden"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{lu(!1),Bl==null||Bl(is.id)},style:{padding:"8px 12px",background:"transparent",color:"#ddd",border:"none",fontSize:"12px",textAlign:"left",cursor:"pointer",fontFamily:FONT_FAMILY$4},onMouseEnter:Uu=>Uu.currentTarget.style.background="#333",onMouseLeave:Uu=>Uu.currentTarget.style.background="transparent",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>{lu(!1),Ll==null||Ll(is.id)},style:{padding:"8px 12px",background:"transparent",color:"#ddd",border:"none",fontSize:"12px",textAlign:"left",cursor:"pointer",fontFamily:FONT_FAMILY$4},onMouseEnter:Uu=>Uu.currentTarget.style.background="#333",onMouseLeave:Uu=>Uu.currentTarget.style.background="transparent",children:"PDF"})]})]}),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"10px",right:"12px",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[jsxRuntimeExports.jsxs("span",{style:{color:"#777",fontSize:"10px",fontWeight:400,lineHeight:"1.2",textAlign:"right"},children:[ba," page",ba!==1?"s":""]}),$a>0&&jsxRuntimeExports.jsxs("span",{style:{color:"#777",fontSize:"10px",fontWeight:400,lineHeight:"1.2",textAlign:"right"},children:[$a," region",$a!==1?"s":""]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsx("input",{type:"text",value:wl,placeholder:"Add pages (e.g. 3, 6-9, 12)",onChange:Uu=>Nl(is.id,Uu.target.value),onKeyDown:Uu=>{Uu.key==="Enter"&&(Uu.preventDefault(),zl(is.id))},style:{flex:1,padding:"6px 8px",background:"#1f1f1f",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"11px",fontFamily:FONT_FAMILY$4}}),Sl&&jsxRuntimeExports.jsx("div",{style:{color:"#ff8a80",fontSize:"11px"},children:Sl})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#ccc",fontSize:"12px",fontWeight:500},children:"Included Pages"}),ba===0?jsxRuntimeExports.jsx("div",{style:{color:"#777",fontSize:"12px"},children:"No pages added yet."}):jsxRuntimeExports.jsx("ul",{style:{listStyle:"none",margin:0,padding:0,display:"flex",flexDirection:"column",gap:"6px"},children:(Gu=is.assignedPages)==null?void 0:Gu.slice().sort((Uu,Au)=>(Uu.pageId||0)-(Au.pageId||0)).map(Uu=>{const Au=typeof Uu.label=="string"&&Uu.label.trim().length>0?Uu.label.trim():`Region ${Uu.pageId}`,Pu=Wu===Uu.pageId;return jsxRuntimeExports.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 8px",background:"#1f1f1f",border:"1px solid #333",borderRadius:"6px"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"6px"},children:Pu?jsxRuntimeExports.jsx("input",{ref:uu,type:"text",value:Mu,onChange:Ou=>mu(Ou.target.value),onBlur:()=>{nu||Yl(Uu.pageId,!1)},onKeyDown:Ou=>{Ou.key==="Enter"?(Ou.preventDefault(),Yl(Uu.pageId,!0)):Ou.key==="Escape"&&(Ou.preventDefault(),Hl())},style:{width:"100%",padding:"4px 6px",background:"#1f1f1f",color:"#ddd",border:"1px solid #4A90E2",borderRadius:"4px",fontSize:"12px",fontWeight:500,fontFamily:FONT_FAMILY$4,outline:"none"}}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:Ou=>{Ou.stopPropagation(),Kl(Uu.pageId,Au)},style:{background:"transparent",border:"none",padding:"4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},onMouseEnter:Ou=>{Ou.currentTarget.style.background="#333",Ou.currentTarget.style.color="#ddd"},onMouseLeave:Ou=>{Ou.currentTarget.style.background="transparent",Ou.currentTarget.style.color="#666"},title:"Rename Region",children:jsxRuntimeExports.jsx(Icon,{name:"edit",size:12})}),jsxRuntimeExports.jsx("div",{style:{color:"#ddd",fontWeight:500},children:Au})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"4px"},children:[jsxRuntimeExports.jsx("button",{onClick:Ou=>{Ou.stopPropagation(),Pu?Yl(Uu.pageId,!0):Vl==null||Vl(is.id,Uu.pageId)},onMouseDown:Ou=>{Pu&&Ou.preventDefault()},style:{padding:"6px 10px",background:"#3a3a3a",color:"#fff",border:Pu?"1px solid #4A90E2":"1px solid transparent",borderRadius:"4px",fontSize:"11px",cursor:"pointer",fontFamily:FONT_FAMILY$4,boxShadow:Pu?"0 0 0 1px rgba(74, 144, 226, 0.35)":"none"},children:"Edit"}),jsxRuntimeExports.jsx("button",{title:"Delete",onClick:()=>Gl(is.id,Uu.pageId),style:{background:"transparent",border:"none",padding:"4px",cursor:"pointer",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:Ou=>Ou.currentTarget.style.background="#ffebee",onMouseLeave:Ou=>Ou.currentTarget.style.background="transparent",children:jsxRuntimeExports.jsx(Icon,{name:"trash",size:12,color:"#d32f2f"})})]})]},Uu.pageId)})})]})]})]})})}),SpacesPanel=({spaces:us,activeSpaceId:is,onSpaceCreate:cs,onSpaceUpdate:lo,onSpaceDelete:co,onSetActiveSpace:hs,onExitSpaceMode:uo,onRequestRegionEdit:xa,onSpaceAssignPages:ba,onSpaceRenamePage:$a,onSpaceRemovePage:wl,onReorderSpaces:Sl,onExportSpaceCSV:Cl,onExportSpacePDF:_l,isRegionSelectionActive:Il=!1,numPages:Fl})=>{const[Ml,Tl]=reactExports.useState(""),[Dl,Bl]=reactExports.useState(null),[Ll,Nl]=reactExports.useState(""),[zl,$l]=reactExports.useState(new Set),[Vl,Gl]=reactExports.useState(null),[iu,nu]=reactExports.useState({}),[Jl,lu]=reactExports.useState({}),[ju,zu]=reactExports.useState(null),Wu=reactExports.useRef(new Set(us.map(Xu=>Xu.id))),qu=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:6}})),Mu=reactExports.useMemo(()=>us.find(Xu=>Xu.id===ju)||null,[ju,us]),mu=reactExports.useCallback(()=>{const Xu=Ml.trim()||`Space ${us.length+1}`;cs&&cs({name:Xu,assignedPages:[]}),Tl("")},[Ml,us.length,cs]),uu=reactExports.useCallback((Xu,Gu)=>{Bl(Xu),Nl(Gu)},[]),cu=reactExports.useCallback(()=>{Dl&&Ll.trim()&&lo&&lo(Dl,{name:Ll.trim()}),Bl(null),Nl("")},[Dl,Ll,lo]),ru=reactExports.useCallback(Xu=>{Nl(Xu)},[]),Yl=reactExports.useCallback(()=>{Bl(null),Nl("")},[]),Hl=reactExports.useCallback(Xu=>{window.confirm("Delete this space? This will not delete the pages, only the space assignment.")&&co&&co(Xu)},[co]),Kl=reactExports.useCallback(Xu=>{$l(Gu=>{const Uu=new Set(Gu);return Uu.has(Xu)?Uu.delete(Xu):Uu.add(Xu),Uu})},[]),_c=reactExports.useCallback(Xu=>{Gl(Xu),hs&&hs(Xu)},[hs]),Ql=reactExports.useCallback(Xu=>{Vl===Xu&&Gl(null),is===Xu&&uo&&uo()},[Vl,is,uo]),su=reactExports.useCallback((Xu,Gu)=>{nu(Uu=>({...Uu,[Xu]:Gu})),lu(Uu=>({...Uu,[Xu]:null}))},[]),gu=reactExports.useCallback(Xu=>{const Gu=(iu[Xu]||"").trim(),{pages:Uu,errors:Au}=parsePageRangeInput(Gu,{min:1,max:typeof Fl=="number"&&Fl>0?Fl:1/0});if(Au.length>0){lu(Pu=>({...Pu,[Xu]:Au.join(" ")}));return}if(Uu.length===0){lu(Pu=>({...Pu,[Xu]:"Enter one or more page numbers."}));return}ba&&ba(Xu,Uu),nu(Pu=>({...Pu,[Xu]:""})),lu(Pu=>({...Pu,[Xu]:null}))},[iu,Fl,ba]);React.useEffect(()=>{const Xu=Wu.current,Gu=new Set(us.map(Au=>Au.id)),Uu=us.map(Au=>Au.id).filter(Au=>Au!=null&&!Xu.has(Au));Uu.length>0&&$l(Au=>{const Pu=new Set(Au);return Uu.forEach(Ou=>Pu.add(Ou)),Pu}),Wu.current=Gu},[us]);const Cu=reactExports.useCallback((Xu=[])=>{const Gu=Xu.map(Uu=>Uu==null?void 0:Uu.pageId).filter(Uu=>typeof Uu=="number"&&!Number.isNaN(Uu));return formatPageList(Gu)},[]),vu=reactExports.useCallback((Xu,Gu)=>{wl&&wl(Xu,Gu)},[wl]),fu=reactExports.useCallback(({active:Xu})=>{zu(Xu.id)},[]),Fu=reactExports.useCallback(({active:Xu,over:Gu})=>{if(zu(null),!Gu||Xu.id===Gu.id||!Sl)return;const Uu=us.findIndex(Pu=>Pu.id===Xu.id),Au=us.findIndex(Pu=>Pu.id===Gu.id);Uu===-1||Au===-1||Sl(Uu,Au)},[Sl,us]),_f=reactExports.useCallback(()=>{zu(null)},[]);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",fontFamily:FONT_FAMILY$4,background:"#252525"},children:[jsxRuntimeExports.jsxs("div",{style:{padding:"12px",background:"#252525",borderBottom:"1px solid #3a3a3a"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"13px",fontWeight:"600",color:"#ddd",marginBottom:"12px"},children:"Spaces"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"New space name",value:Ml,onChange:Xu=>Tl(Xu.target.value),onKeyDown:Xu=>{Xu.key==="Enter"&&mu()},style:{flex:1,padding:"8px 10px",background:"#2b2b2b",color:"#ddd",border:"1px solid #3a3a3a",borderRadius:"6px",fontSize:"13px",fontFamily:FONT_FAMILY$4,outline:"none"},onFocus:Xu=>Xu.currentTarget.style.borderColor="#4A90E2",onBlur:Xu=>Xu.currentTarget.style.borderColor="#d0d0d0"}),jsxRuntimeExports.jsx("button",{onClick:mu,style:{padding:"8px 12px",background:"#4A90E2",color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:FONT_FAMILY$4},onMouseEnter:Xu=>Xu.currentTarget.style.background="#357abd",onMouseLeave:Xu=>Xu.currentTarget.style.background="#4A90E2",children:jsxRuntimeExports.jsx(Icon,{name:"plus",size:14,color:"#ffffff"})})]})]}),jsxRuntimeExports.jsx("div",{style:{flex:1,overflowY:"auto",padding:"8px"},children:us.length===0?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999",fontSize:"13px"},children:"No spaces yet. Create a space to filter pages by visibility."}):jsxRuntimeExports.jsxs(DndContext,{sensors:qu,collisionDetection:closestCenter,onDragStart:fu,onDragEnd:Fu,onDragCancel:_f,children:[jsxRuntimeExports.jsx(SortableContext,{items:us.map(Xu=>Xu.id),strategy:verticalListSortingStrategy,children:us.map(Xu=>{var ip,$u;const Gu=is===Xu.id,Uu=Vl===Xu.id,Au=zl.has(Xu.id),Pu=((ip=Xu.assignedPages)==null?void 0:ip.length)||0,Ou=(($u=Xu.assignedPages)==null?void 0:$u.reduce((np,Eu)=>{var Lu;return np+(((Lu=Eu.regions)==null?void 0:Lu.length)||0)},0))||0;return jsxRuntimeExports.jsx(SpaceSortableCard,{space:Xu,isActive:Gu,isSelected:Uu,isExpanded:Au,isEditing:Dl===Xu.id,editingName:Ll,pageSummary:Cu(Xu.assignedPages),pageCount:Pu,regionCount:Ou,pageInputValue:iu[Xu.id]||"",pageError:Jl[Xu.id],onToggleExpand:Kl,onSpaceClick:_c,onRenameClick:uu,onEditingNameChange:ru,onSaveRename:cu,onCancelRename:Yl,onDelete:Hl,onExitSpace:Ql,onExportSpaceCSV:np=>Cl==null?void 0:Cl(np),onExportSpacePDF:np=>_l==null?void 0:_l(np),onPageInputChange:su,onAssignPages:gu,onRenameRegion:$a,onRequestRegionEdit:(np,Eu)=>xa==null?void 0:xa(np,Eu),onRemovePage:vu,isRegionSelectionActive:Il},Xu.id)})}),jsxRuntimeExports.jsx(DragOverlay,{children:Mu&&jsxRuntimeExports.jsx(SpaceDragOverlay,{space:Mu})})]})})]})},FONT_FAMILY$3='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',PDFSidebar=({pdfDoc:us,numPages:is,pageNum:cs,onNavigateToPage:lo,onDuplicatePage:co,onDeletePage:hs,onCutPage:uo,onCopyPage:xa,onPastePage:ba,clipboardPage:$a,clipboardType:wl,onRotatePage:Sl,onMirrorPage:Cl,onResetPage:_l,onReorderPages:Il,pageTransformations:Fl,bookmarks:Ml,onBookmarkCreate:Tl,onBookmarkUpdate:Dl,onBookmarkDelete:Bl,spaces:Ll,onSpaceCreate:Nl,onSpaceUpdate:zl,onSpaceDelete:$l,activeSpaceId:Vl,onSetActiveSpace:Gl,onExitSpaceMode:iu,onRequestRegionEdit:nu,onSpaceAssignPages:Jl,onSpaceRenamePage:lu,onSpaceRemovePage:ju,onReorderSpaces:zu,onExportSpaceCSV:Wu,onExportSpacePDF:qu,isRegionSelectionActive:Mu,shouldShowPage:mu,activeSpacePages:uu,scale:cu,tabId:ru,onPageDrop:Yl,onToggleCollapse:Hl})=>{const[Kl,_c]=reactExports.useState(!0),[Ql,su]=reactExports.useState("pages"),[gu,Cu]=reactExports.useState(null),vu=reactExports.useCallback(()=>{_c(Fu=>{const _f=!Fu;return typeof Hl=="function"&&Hl(_f),_f})},[Hl]),fu=[{id:"pages",label:"Pages",icon:"pages"},{id:"search",label:"Search Text",icon:"search"},{id:"bookmarks",label:"Bookmarks",icon:"bookmark"},{id:"spaces",label:"Spaces",icon:"folder"}];return jsxRuntimeExports.jsxs("div",{style:{width:Kl?"48px":"280px",height:"100%",background:"#252525",borderRight:"1px solid #3a3a3a",display:"flex",flexDirection:"column",transition:"width 0.2s ease",flexShrink:0},children:[jsxRuntimeExports.jsx("div",{style:{padding:"8px",borderBottom:"1px solid #3a3a3a",display:"flex",justifyContent:"flex-end",background:"#252525"},children:jsxRuntimeExports.jsx("button",{onClick:vu,style:{background:"transparent",border:"none",color:"#999",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.15s ease"},onMouseEnter:Fu=>Fu.currentTarget.style.background="#333",onMouseLeave:Fu=>Fu.currentTarget.style.background="transparent",children:jsxRuntimeExports.jsx(Icon,{name:Kl?"chevronRight":"chevronLeft",size:16,color:"#999"})})}),!Kl&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #3a3a3a",background:"#252525",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},children:[jsxRuntimeExports.jsx("style",{children:`
              .sidebar-tabs::-webkit-scrollbar {
                display: none;
              }
            `}),fu.map(Fu=>jsxRuntimeExports.jsxs("button",{onClick:()=>su(Fu.id),style:{flex:1,padding:"10px 8px",background:Ql===Fu.id?"#2b2b2b":"transparent",border:"none",borderBottom:Ql===Fu.id?"2px solid #4A90E2":"2px solid transparent",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",fontSize:"11px",color:Ql===Fu.id?"#ddd":"#999",fontWeight:Ql===Fu.id?"500":"400",fontFamily:FONT_FAMILY$3,transition:"all 0.15s ease",whiteSpace:"nowrap",minWidth:"70px"},onMouseEnter:_f=>{Ql!==Fu.id&&(_f.currentTarget.style.background="#2b2b2b")},onMouseLeave:_f=>{Ql!==Fu.id&&(_f.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsx(Icon,{name:Fu.icon,size:16,color:Ql===Fu.id?"#4A90E2":"#999"}),jsxRuntimeExports.jsx("span",{children:Fu.label})]},Fu.id))]}),jsxRuntimeExports.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",background:"#252525"},children:[Ql==="pages"&&jsxRuntimeExports.jsx(PagesPanel,{pdfDoc:us,numPages:is,pageNum:cs,onNavigateToPage:lo,onDuplicatePage:co,onDeletePage:hs,onCutPage:uo,onCopyPage:xa,onPastePage:ba,clipboardPage:$a,clipboardType:wl,onRotatePage:Sl,onMirrorPage:Cl,onResetPage:_l,onReorderPages:Il,pageTransformations:Fl,shouldShowPage:mu,activeSpacePages:uu,scale:cu,tabId:ru,onPageDragStart:Yl?()=>{}:void 0}),Ql==="search"&&jsxRuntimeExports.jsx(SearchTextPanel,{pdfDoc:us,numPages:is,onNavigateToPage:lo}),Ql==="bookmarks"&&jsxRuntimeExports.jsx(BookmarksPanel,{bookmarks:Ml,onBookmarkCreate:Tl,onBookmarkUpdate:Dl,onBookmarkDelete:Bl,onNavigateToPage:lo,pageNum:cs,numPages:is}),Ql==="spaces"&&jsxRuntimeExports.jsx(SpacesPanel,{spaces:Ll,activeSpaceId:Vl,onSpaceCreate:Nl,onSpaceUpdate:zl,onSpaceDelete:$l,onSetActiveSpace:Gl,onExitSpaceMode:iu,onRequestRegionEdit:nu,onSpaceAssignPages:Jl,onSpaceRenamePage:lu,onSpaceRemovePage:ju,onReorderSpaces:zu,onExportSpaceCSV:Wu,onExportSpacePDF:qu,isRegionSelectionActive:Mu,numPages:is})]})]}),Kl&&jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",padding:"8px",gap:"4px",background:"#252525",position:"relative"},children:fu.map(Fu=>jsxRuntimeExports.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>Cu(Fu.id),onMouseLeave:()=>Cu(null),children:[jsxRuntimeExports.jsx("button",{onClick:()=>{_c(!1),typeof Hl=="function"&&Hl(!1),su(Fu.id)},style:{background:"transparent",border:"none",borderRadius:"6px",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.15s ease",minWidth:"28px",minHeight:"28px",width:"100%"},onMouseEnter:_f=>{_f.currentTarget.style.background="#2b2b2b"},onMouseLeave:_f=>{_f.currentTarget.style.background="transparent"},children:jsxRuntimeExports.jsx(Icon,{name:Fu.icon,size:20,color:"#999",style:{width:"20px",height:"20px",flexShrink:0}})}),gu===Fu.id&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:"100%",top:"50%",transform:"translateY(-50%)",marginLeft:"8px",background:"#1a1a1a",color:"#ddd",padding:"6px 10px",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY$3,whiteSpace:"nowrap",zIndex:1e3,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",border:"1px solid #3a3a3a"},children:Fu.label})]},Fu.id))})]})},FONT_FAMILY$2='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',MIN_REGION_SIZE=5,RegionSelectionTool=({active:us,onRegionComplete:is,onCancel:cs,currentSpaceId:lo,currentPageId:co,scale:hs=1,onSetFullPage:uo,canSetFullPage:xa=!1,initialRegions:ba=[]})=>{const[$a,wl]=reactExports.useState("rectangular"),[Sl,Cl]=reactExports.useState(REGION_OPERATIONS.ADD),[_l,Il]=reactExports.useState(!1),[Fl,Ml]=reactExports.useState(null),[Tl,Dl]=reactExports.useState(null),[Bl,Ll]=reactExports.useState([]),[Nl,zl]=reactExports.useState([]),[$l,Vl]=reactExports.useState(new Set),[Gl,iu]=reactExports.useState(null),nu=reactExports.useRef(null),[Jl,lu]=reactExports.useState(null),[ju,zu]=reactExports.useState(!1),[Wu,qu]=reactExports.useState(null),[Mu,mu]=reactExports.useState({x:0,y:0}),[uu,cu]=reactExports.useState(!1),[ru,Yl]=reactExports.useState(!1),[Hl,Kl]=reactExports.useState(!1),[_c,Ql]=reactExports.useState(!1),su=reactExports.useMemo(()=>_l?$a:Hl&&($a==="rectangular"||$a==="freehand")?"move":$a,[$a,Hl,_l]),gu=reactExports.useMemo(()=>uu?REGION_OPERATIONS.ADD:ru?REGION_OPERATIONS.SUBTRACT:Sl,[uu,ru,Sl]);reactExports.useEffect(()=>{const hu=document.getElementById("region-selection-target");lu(hu)},[us]),reactExports.useEffect(()=>{if(!us||!Jl){qu(null);return}const hu=()=>{const eu=Jl.getBoundingClientRect();qu({left:eu.left,top:eu.top,width:eu.width,height:eu.height})};hu();let Zl=null;return typeof ResizeObserver=="function"&&(Zl=new ResizeObserver(hu),Zl.observe(Jl)),window.addEventListener("scroll",hu,!0),window.addEventListener("resize",hu),()=>{qu(null),Zl&&Zl.disconnect(),window.removeEventListener("scroll",hu,!0),window.removeEventListener("resize",hu)}},[us,Jl,hs]),reactExports.useEffect(()=>{if(us){const hu=(ba||[]).map(Zl=>({...Zl,coordinates:Array.isArray(Zl.coordinates)?[...Zl.coordinates]:[]}));zl(hu)}else zl([]);Vl(new Set),iu(null),Il(!1),Dl(null),Ll([]),zu(!1)},[us,ba]),reactExports.useEffect(()=>{Ll([]),Dl(null),Il(!1),iu(null),zu(!1),Ql(!1),$a!=="move"&&Vl(new Set)},[$a]),reactExports.useEffect(()=>{Nl.length===0&&(Vl(new Set),iu(null))},[Nl.length]),reactExports.useEffect(()=>{$a==="move"&&Vl(hu=>{if(hu.size>0){const Zl=new Set([...hu].filter(eu=>Nl.some(Nu=>Nu.regionId===eu)));if(Zl.size>0)return Zl}return Nl.length>0?new Set([Nl[0].regionId]):new Set})},[$a,Nl]);const Cu=reactExports.useCallback(hu=>{if(!hu||!Array.isArray(hu.coordinates)||hu.coordinates.length<4)return null;let Zl=Number.POSITIVE_INFINITY,eu=Number.POSITIVE_INFINITY,Nu=Number.NEGATIVE_INFINITY,Zu=Number.NEGATIVE_INFINITY;for(let Vu=0;Vu<hu.coordinates.length;Vu+=2){const yu=hu.coordinates[Vu],Hu=hu.coordinates[Vu+1];typeof yu!="number"||typeof Hu!="number"||(yu<Zl&&(Zl=yu),yu>Nu&&(Nu=yu),Hu<eu&&(eu=Hu),Hu>Zu&&(Zu=Hu))}return!Number.isFinite(Zl)||!Number.isFinite(eu)||!Number.isFinite(Nu)||!Number.isFinite(Zu)?null:{minX:Zl,minY:eu,maxX:Nu,maxY:Zu}},[]),vu=reactExports.useCallback(hu=>{if(!hu)return null;if(hu.maxX-hu.minX<MIN_REGION_SIZE){const Nu=(hu.maxX+hu.minX)/2;hu.minX=Nu-MIN_REGION_SIZE/2,hu.maxX=Nu+MIN_REGION_SIZE/2}if(hu.maxY-hu.minY<MIN_REGION_SIZE){const Nu=(hu.maxY+hu.minY)/2;hu.minY=Nu-MIN_REGION_SIZE/2,hu.maxY=Nu+MIN_REGION_SIZE/2}return hu},[]),fu=reactExports.useMemo(()=>[{key:"nw",cursor:"nwse-resize",offsetX:0,offsetY:0},{key:"n",cursor:"ns-resize",offsetX:.5,offsetY:0},{key:"ne",cursor:"nesw-resize",offsetX:1,offsetY:0},{key:"e",cursor:"ew-resize",offsetX:1,offsetY:.5},{key:"se",cursor:"nwse-resize",offsetX:1,offsetY:1},{key:"s",cursor:"ns-resize",offsetX:.5,offsetY:1},{key:"sw",cursor:"nesw-resize",offsetX:0,offsetY:1},{key:"w",cursor:"ew-resize",offsetX:0,offsetY:.5}],[]),Fu=reactExports.useCallback(hu=>{if(!hu||!Array.isArray(hu.coordinates))return null;const Zl=[];for(let Nu=0;Nu<hu.coordinates.length;Nu+=2){const Zu=hu.coordinates[Nu],Vu=hu.coordinates[Nu+1];!Number.isFinite(Zu)||!Number.isFinite(Vu)||Zl.push({x:Zu*hs,y:Vu*hs})}if(Zl.length<2)return null;let eu=`M ${Zl[0].x} ${Zl[0].y}`;for(let Nu=1;Nu<Zl.length;Nu+=1)eu+=` L ${Zl[Nu].x} ${Zl[Nu].y}`;return Zl.length>2&&(eu+=" Z"),eu},[hs]),_f=reactExports.useMemo(()=>{if($a!=="freehand"||Bl.length<2)return null;const hu=Bl.map(eu=>({x:eu.x*hs,y:eu.y*hs}));let Zl=`M ${hu[0].x} ${hu[0].y}`;for(let eu=1;eu<hu.length;eu+=1)Zl+=` L ${hu[eu].x} ${hu[eu].y}`;return hu.length>2&&(Zl+=" Z"),Zl},[Bl,$a,hs]),Xu=reactExports.useCallback(hu=>{if(!hu||!Array.isArray(hu)||hu.length===0)return null;const Zl=hu[0];if(!Array.isArray(Zl)||Zl.length<3)return null;const eu=[];for(const Nu of Zl)Array.isArray(Nu)&&Nu.length>=2&&eu.push(Nu[0],Nu[1]);return eu.length>=4&&eu[0]===eu[eu.length-2]&&eu[1]===eu[eu.length-1]&&(eu.pop(),eu.pop()),eu.length>=6?eu:null},[]),Gu=reactExports.useCallback(hu=>{if(!hu||!Array.isArray(hu.coordinates))return null;const Zl=hu.coordinates,eu=[];for(let Zu=0;Zu<Zl.length;Zu+=2)Zu+1<Zl.length&&eu.push([Zl[Zu],Zl[Zu+1]]);if(eu.length>0&&(eu[0][0]!==eu[eu.length-1][0]||eu[0][1]!==eu[eu.length-1][1])&&eu.push([eu[0][0],eu[0][1]]),eu.length<4)return null;let Nu=0;for(let Zu=0;Zu<eu.length-1;Zu++)Nu+=(eu[Zu+1][0]-eu[Zu][0])*(eu[Zu+1][1]+eu[Zu][1]);return Nu<0&&eu.reverse(),[eu]},[]),Uu=reactExports.useCallback((hu,Zl)=>{if(!hu||!Array.isArray(hu)||hu.length===0)return"";const eu=hu;let Nu="";return eu.forEach(Zu=>{if(!(!Array.isArray(Zu)||Zu.length<2)){Nu+=`M ${Zu[0][0]*Zl} ${Zu[0][1]*Zl}`;for(let Vu=1;Vu<Zu.length;Vu++)Nu+=` L ${Zu[Vu][0]*Zl} ${Zu[Vu][1]*Zl}`;Nu+=" Z "}}),Nu},[]),Au=reactExports.useCallback((hu,Zl)=>{if(!hu||!Zl||!Array.isArray(hu.coordinates)||!Array.isArray(Zl.coordinates))return!1;const eu=Cu(hu),Nu=Cu(Zl);if(!eu||!Nu||!!(eu.maxX<Nu.minX||Nu.maxX<eu.minX||eu.maxY<Nu.minY||Nu.maxY<eu.minY))return!1;const Vu=Gu(hu),yu=Gu(Zl);if(!Vu||!yu)return!0;try{const Hu=intersection(Vu,yu);return Hu&&Hu.length>0}catch(Hu){return console.error("Error checking intersection:",Hu),!0}},[Cu,Gu]),Pu=reactExports.useCallback((hu,Zl)=>{if(!hu||!Array.isArray(Zl)||Zl.length===0)return[hu];const eu=Gu(hu);if(!eu)return[...Zl,hu];const Nu=[],Zu=[];for(const yu of Zl)Au(hu,yu)?Nu.push(yu):Zu.push(yu);if(Nu.length===0)return[...Zl,hu];const Vu=[eu];for(const yu of Nu){const Hu=Gu(yu);Hu&&Vu.push(Hu)}try{let yu=Vu[0];for(let Sp=1;Sp<Vu.length;Sp++){const Np=union(yu,Vu[Sp]);if(Np&&Np.length>0){if(Np.length>1)return[...Zl,hu];yu=Np[0]}else break}let Hu=Xu(yu);if(Hu&&Hu.length>=6){Hu=simplifyPolygon(Hu,1);const Sp={...hu,regionId:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,shapeType:"polygon",coordinates:Hu};return[...Zu,Sp]}}catch(yu){console.error("Error merging regions:",yu)}return[...Zl,hu]},[Gu,Xu,Au]),Ou=reactExports.useCallback((hu,Zl)=>{if(!hu||!Array.isArray(Zl)||Zl.length===0)return Zl;const eu=Gu(hu);if(!eu)return Zl;const Nu=[];for(const Zu of Zl){const Vu=Gu(Zu);if(!Vu){Nu.push(Zu);continue}try{const yu=diff(Vu,eu);if(!yu||yu.length===0)continue;for(const Hu of yu){const Sp=Xu(Hu);if(Sp&&Sp.length>=6){const Np=Zu.shapeType==="rectangular"&&Hu.length===5;Nu.push({...Zu,regionId:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,shapeType:Np?"rectangular":"polygon",coordinates:Sp})}}}catch(yu){console.error("Error subtracting region:",yu),Nu.push(Zu)}}return Nu},[Gu,Xu]),ip=reactExports.useCallback(hu=>{if(!us||!Jl)return;const Zl=Jl.getBoundingClientRect();if(!(hu.clientX>=Zl.left&&hu.clientX<=Zl.right&&hu.clientY>=Zl.top&&hu.clientY<=Zl.bottom)||(zu(!0),su==="move"))return;const Nu=(hu.clientX-Zl.left)/hs,Zu=(hu.clientY-Zl.top)/hs;su==="rectangular"?(Il(!0),Ml({x:Nu,y:Zu}),Dl({x:Nu,y:Zu,width:0,height:0})):su==="freehand"&&(Il(!0),Ll([{x:Nu,y:Zu}]))},[us,Jl,su,hs]),$u=reactExports.useCallback(hu=>{if(!us||!Jl)return;const Zl=Jl.getBoundingClientRect(),eu=hu.clientX>=Zl.left&&hu.clientX<=Zl.right&&hu.clientY>=Zl.top&&hu.clientY<=Zl.bottom;if(zu(eu),eu&&(su==="rectangular"||su==="freehand")&&mu({x:hu.clientX,y:hu.clientY}),!eu&&!_l&&!Gl)return;const Nu=(hu.clientX-Zl.left)/hs,Zu=(hu.clientY-Zl.top)/hs;if(Gl){if(Gl.type==="move"){const Vu=(hu.clientX-Gl.startPoint.x)/hs,yu=(hu.clientY-Gl.startPoint.y)/hs,Hu=Nl.map(Sp=>{const Np=Gl.initialRegions.find(Lp=>Lp.regionId===Sp.regionId);return Np?{...Sp,coordinates:Np.coordinates.map((Lp,Ku)=>Ku%2===0?Lp+Vu:Lp+yu)}:Sp});zl(Hu)}else if(Gl.type==="resize"){const{handle:Vu,initialBounds:yu,initialCoords:Hu,regionId:Sp}=Gl;if(!yu)return;const Np={...yu};switch(Vu){case"nw":Np.minX=Math.min(Nu,yu.maxX-MIN_REGION_SIZE),Np.minY=Math.min(Zu,yu.maxY-MIN_REGION_SIZE);break;case"n":Np.minY=Math.min(Zu,yu.maxY-MIN_REGION_SIZE);break;case"ne":Np.maxX=Math.max(Nu,yu.minX+MIN_REGION_SIZE),Np.minY=Math.min(Zu,yu.maxY-MIN_REGION_SIZE);break;case"e":Np.maxX=Math.max(Nu,yu.minX+MIN_REGION_SIZE);break;case"se":Np.maxX=Math.max(Nu,yu.minX+MIN_REGION_SIZE),Np.maxY=Math.max(Zu,yu.minY+MIN_REGION_SIZE);break;case"s":Np.maxY=Math.max(Zu,yu.minY+MIN_REGION_SIZE);break;case"sw":Np.minX=Math.min(Nu,yu.maxX-MIN_REGION_SIZE),Np.maxY=Math.max(Zu,yu.minY+MIN_REGION_SIZE);break;case"w":Np.minX=Math.min(Nu,yu.maxX-MIN_REGION_SIZE);break}vu(Np),zl(Lp=>Lp.map(Ku=>{if(Ku.regionId!==Sp)return Ku;if(Ku.shapeType==="rectangular")return{...Ku,coordinates:[Np.minX,Np.minY,Np.maxX,Np.minY,Np.maxX,Np.maxY,Np.minX,Np.maxY]};const wp=Math.max(yu.maxX-yu.minX,1),Bp=Math.max(yu.maxY-yu.minY,1),Pp=Np.maxX-Np.minX,n0=Np.maxY-Np.minY,Jp=Pp/wp,Ju=n0/Bp,_d=Hu.reduce((hp,xp,Ru)=>{if(Ru%2===0){const sp=xp-yu.minX;hp.push(Np.minX+sp*Jp)}else{const sp=xp-yu.minY;hp.push(Np.minY+sp*Ju)}return hp},[]);return{...Ku,coordinates:_d}}))}else if(Gl.type==="vertex"){const{vertexIndex:Vu,regionId:yu}=Gl;zl(Hu=>Hu.map(Sp=>{if(Sp.regionId!==yu)return Sp;const Np=[...Sp.coordinates];return Np[Vu*2]=Nu,Np[Vu*2+1]=Zu,{...Sp,shapeType:"polygon",coordinates:Np}}))}return}_l&&_l&&(su==="rectangular"&&Fl?Dl({x:Math.min(Fl.x,Nu),y:Math.min(Fl.y,Zu),width:Math.abs(Nu-Fl.x),height:Math.abs(Zu-Fl.y)}):su==="freehand"&&Ll(Vu=>[...Vu,{x:Nu,y:Zu}]))},[us,Jl,hs,Gl,vu,_l,su,Fl,Nl]),np=reactExports.useCallback(()=>{if(us){if(zu(!1),Gl){iu(null);return}if(_l){if(su==="rectangular"&&Tl&&Tl.width>MIN_REGION_SIZE&&Tl.height>MIN_REGION_SIZE){const hu={regionId:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pageId:co,shapeType:"rectangular",operation:gu,coordinates:[Tl.x,Tl.y,Tl.x+Tl.width,Tl.y,Tl.x+Tl.width,Tl.y+Tl.height,Tl.x,Tl.y+Tl.height]};gu===REGION_OPERATIONS.ADD?zl(Zl=>[...Zl,hu]):zl(Zl=>[...Zl,hu])}else if(su==="freehand"&&Bl.length>2){const hu={regionId:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pageId:co,shapeType:"polygon",operation:gu,coordinates:Bl.flatMap(Zl=>[Zl.x,Zl.y])};gu===REGION_OPERATIONS.ADD?zl(Zl=>[...Zl,hu]):zl(Zl=>[...Zl,hu])}Il(!1),Ml(null),Dl(null),Ll([])}}},[us,Gl,_l,su,Tl,Bl,co,gu,Pu,Ou]),Eu=reactExports.useCallback(()=>{if(!is)return;let hu=[];for(const eu of Nl)eu.operation===REGION_OPERATIONS.SUBTRACT?hu=Ou(eu,hu):hu=Pu(eu,hu);const Zl=hu.map(eu=>({...eu,coordinates:Array.isArray(eu.coordinates)?[...eu.coordinates]:[]}));is(Zl),zl([]),Dl(null),Ll([]),Vl(new Set),iu(null)},[Nl,is,Pu,Ou]),Lu=reactExports.useCallback(()=>{typeof document<"u"&&document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),zl([]),Dl(null),Ll([]),Vl(new Set),iu(null),Il(!1),zu(!1),cs&&cs()},[cs]),up=reactExports.useCallback(()=>{uo&&(Nl.length>0&&!window.confirm(`You have ${Nl.length} area${Nl.length!==1?"s":""} defined within this region. Setting the region to Full Page will remove all existing areas. Are you sure you want to continue?`)||(uo(),Lu()))},[uo,Lu,Nl.length]),mp=reactExports.useCallback((hu,Zl)=>{if(!us||su!=="move"||!Jl||(Zl.stopPropagation(),su!=="move"))return;const eu=Zl.metaKey||Zl.ctrlKey,Nu=$l.has(hu.regionId);if(eu){const Zu=new Set($l);Nu?Zu.delete(hu.regionId):Zu.add(hu.regionId),Vl(Zu),Nu||iu({type:"move",startPoint:{x:Zl.clientX,y:Zl.clientY},initialRegions:Nl.filter(Vu=>Zu.has(Vu.regionId))})}else Nu?iu({type:"move",startPoint:{x:Zl.clientX,y:Zl.clientY},initialRegions:Nl.filter(Zu=>$l.has(Zu.regionId))}):(Vl(new Set([hu.regionId])),iu({type:"move",startPoint:{x:Zl.clientX,y:Zl.clientY},initialRegions:[hu]}))},[us,su,Jl,hs,Nl,$l]),Rp=reactExports.useCallback((hu,Zl,eu)=>{!us||su!=="move"||!Jl||(eu.stopPropagation(),eu.preventDefault(),Vl(new Set([hu.regionId])),iu({type:"vertex",regionId:hu.regionId,vertexIndex:Zl,startPoint:{x:eu.clientX,y:eu.clientY}}))},[us,su,Jl]);reactExports.useCallback((hu,Zl,eu)=>{if(!us||su!=="move"||!Jl)return;eu.stopPropagation(),eu.preventDefault();const Nu=Cu(hu);Nu&&(Vl(new Set([hu.regionId])),iu({type:"resize",regionId:hu.regionId,handle:Zl,startPoint:{x:eu.clientX,y:eu.clientY},initialBounds:Nu,initialCoords:[...hu.coordinates]}))},[us,su,Jl,Cu]);const kp=reactExports.useCallback(()=>{$l.size!==0&&(zl(hu=>hu.filter(Zl=>!$l.has(Zl.regionId))),Vl(new Set),iu(null))},[$l]);return reactExports.useEffect(()=>{if(!us)return;const hu=eu=>{eu.shiftKey&&cu(!0),eu.altKey&&Yl(!0)},Zl=eu=>{eu.shiftKey||cu(!1),eu.altKey||Yl(!1)};return window.addEventListener("keydown",hu),window.addEventListener("keyup",Zl),()=>{window.removeEventListener("keydown",hu),window.removeEventListener("keyup",Zl),cu(!1),Yl(!1)}},[us]),reactExports.useEffect(()=>{if(!us||!Jl)return;const hu=Zl=>{Jl.contains(Zl.target)||nu.current&&nu.current.contains(Zl.target)||Zl.target.closest('[data-region-selection-ui="true"]')||Lu()};return document.addEventListener("mousedown",hu),()=>{document.removeEventListener("mousedown",hu)}},[us,Jl,Lu]),us?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{"data-region-selection-ui":"true",style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#2b2b2b",border:"1px solid #555",borderRadius:"8px",padding:"8px",display:"flex",gap:"6px",alignItems:"center",zIndex:1001,boxShadow:"0 4px 12px rgba(0,0,0,0.5)",fontFamily:FONT_FAMILY$2},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",color:"#fff",marginRight:"6px"},children:"Region Selection"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{wl($a==="move"?"rectangular":"move")},className:`btn btn-sm ${$a==="move"?"btn-active":"btn-default"}`,style:{padding:"4px 8px",background:$a==="move"?"#4a90e2":"#3a3a3a",color:"#fff",border:"1px solid #555",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontFamily:FONT_FAMILY$2,marginRight:"6px",fontWeight:$a==="move"?"500":"400"},children:[jsxRuntimeExports.jsx(Icon,{name:"pan",size:14,style:{marginRight:"4px",verticalAlign:"middle"}}),"Select"]}),jsxRuntimeExports.jsxs("div",{style:{position:"relative",marginRight:"6px"},children:[jsxRuntimeExports.jsxs("button",{onClick:hu=>{const Zl=hu.currentTarget.getBoundingClientRect(),eu=hu.clientX-Zl.left,Nu=Zl.width;eu>Nu-30?(hu.stopPropagation(),Ql(!_c)):($a==="move"&&wl("rectangular"),Ql(!1))},style:{padding:"4px 8px",paddingRight:"28px",background:$a==="rectangular"||$a==="freehand"?"#4a90e2":"#555",color:"#fff",border:"1px solid #555",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontFamily:FONT_FAMILY$2,minWidth:"110px",fontWeight:"500",textAlign:"center",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[$a==="move"||$a==="rectangular"?"Rectangular":"Freehand",jsxRuntimeExports.jsx("span",{style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",width:"14px",height:"14px"},children:jsxRuntimeExports.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"14px",height:"14px"},children:jsxRuntimeExports.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),_c&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},onClick:()=>Ql(!1)}),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"4px",background:"#3a3a3a",border:"1px solid #555",borderRadius:"4px",minWidth:"110px",zIndex:1001,boxShadow:"0 4px 12px rgba(0,0,0,0.5)",overflow:"hidden"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{wl("rectangular"),Ql(!1)},style:{width:"100%",padding:"6px 12px",background:$a==="rectangular"?"#4a90e2":"transparent",color:"#fff",border:"none",fontSize:"12px",cursor:"pointer",fontFamily:FONT_FAMILY$2,textAlign:"left",fontWeight:$a==="rectangular"?"500":"400"},onMouseEnter:hu=>{$a!=="rectangular"&&(hu.currentTarget.style.background="#4a4a4a")},onMouseLeave:hu=>{$a!=="rectangular"&&(hu.currentTarget.style.background="transparent")},children:"Rectangular"}),jsxRuntimeExports.jsx("button",{onClick:()=>{wl("freehand"),Ql(!1)},style:{width:"100%",padding:"6px 12px",background:$a==="freehand"?"#4a90e2":"transparent",color:"#fff",border:"none",fontSize:"12px",cursor:"pointer",fontFamily:FONT_FAMILY$2,textAlign:"left",borderTop:"1px solid #555",fontWeight:$a==="freehand"?"500":"400"},onMouseEnter:hu=>{$a!=="freehand"&&(hu.currentTarget.style.background="#4a4a4a")},onMouseLeave:hu=>{$a!=="freehand"&&(hu.currentTarget.style.background="transparent")},children:"Freehand"})]})]})]}),jsxRuntimeExports.jsxs("select",{value:Sl,onChange:hu=>Cl(hu.target.value),disabled:$a==="move",style:{padding:"4px 8px",background:$a==="move"?"#2a2a2a":"#3a3a3a",color:$a==="move"?"#666":"#fff",border:"1px solid #555",borderRadius:"4px",fontSize:"12px",cursor:$a==="move"?"not-allowed":"pointer",fontFamily:FONT_FAMILY$2,marginRight:"8px",minWidth:"110px",textAlign:"center",opacity:$a==="move"?.5:1,transition:"opacity 0.2s ease, background-color 0.2s ease, color 0.2s ease"},children:[jsxRuntimeExports.jsx("option",{value:REGION_OPERATIONS.ADD,children:"Additive"}),jsxRuntimeExports.jsx("option",{value:REGION_OPERATIONS.SUBTRACT,children:"Subtractive"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"4px"},children:[su==="move"&&$l.size>0&&jsxRuntimeExports.jsx("button",{onClick:kp,className:"btn btn-default btn-sm",style:{padding:"6px 12px",background:"#611",color:"#fff",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontFamily:FONT_FAMILY$2},children:"Delete"}),xa&&jsxRuntimeExports.jsx("button",{onClick:up,className:"btn btn-default btn-sm",style:{padding:"6px 12px",background:"#555",color:"#fff",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontFamily:FONT_FAMILY$2},children:"Full Page"}),jsxRuntimeExports.jsx("button",{onClick:Eu,className:"btn btn-primary btn-sm",style:{padding:"6px 12px"},children:"Confirm"}),jsxRuntimeExports.jsx("button",{onClick:Lu,className:"btn btn-default btn-sm",style:{padding:"6px 12px"},children:"Cancel"})]})]}),Wu&&jsxRuntimeExports.jsxs("div",{ref:nu,style:{position:"fixed",left:`${Wu.left}px`,top:`${Wu.top}px`,width:`${Wu.width}px`,height:`${Wu.height}px`,zIndex:1e3,cursor:$a==="move"?"default":ju?"crosshair":"default"},onMouseDown:ip,onMouseMove:$u,onMouseUp:np,onMouseLeave:np,children:[jsxRuntimeExports.jsxs("svg",{width:Wu.width,height:Wu.height,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:[$a==="rectangular"&&Tl&&jsxRuntimeExports.jsx("rect",{x:Tl.x*hs,y:Tl.y*hs,width:Tl.width*hs,height:Tl.height*hs,fill:gu===REGION_OPERATIONS.SUBTRACT?"rgba(226, 74, 74, 0.12)":"rgba(74, 144, 226, 0.12)",stroke:gu===REGION_OPERATIONS.SUBTRACT?"#E24A4A":"#4A90E2",strokeWidth:"2",strokeDasharray:"8 6"}),_f&&jsxRuntimeExports.jsx("path",{d:_f,fill:gu===REGION_OPERATIONS.SUBTRACT?"rgba(226, 74, 74, 0.12)":"rgba(74, 144, 226, 0.12)",stroke:gu===REGION_OPERATIONS.SUBTRACT?"#E24A4A":"#4A90E2",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),(()=>{try{const hu=Nl.filter(Zu=>!Zu.operation||Zu.operation===REGION_OPERATIONS.ADD),Zl=Nl.filter(Zu=>Zu.operation===REGION_OPERATIONS.SUBTRACT);let eu=[];for(const Zu of hu){const Vu=Gu(Zu);if(Vu)if(eu.length===0)eu=[Vu];else try{const yu=union(eu,Vu);yu&&yu.length>0?eu=yu:eu.push(Vu[0])}catch(yu){console.error("Error unioning regions for visual:",yu),eu.push(Vu[0])}}let Nu="";if(eu.length>0&&eu.forEach(Zu=>{Nu+=Uu(Zu,hs)}),Nu)return jsxRuntimeExports.jsx("path",{d:Nu,fill:"rgba(74, 144, 226, 0.22)",stroke:"#4A90E2",strokeWidth:"2",style:{pointerEvents:"none"}})}catch(hu){console.error("Error generating unified path:",hu)}return null})(),Nl.map(hu=>{const Zl=Fu(hu);return Zl?$l.has(hu.regionId)?jsxRuntimeExports.jsx("path",{d:Zl,fill:"rgba(245, 166, 35, 0.18)",stroke:"#F5A623",strokeWidth:2.5,style:{pointerEvents:su==="move"?"visiblePainted":"none",cursor:su==="move"?"move":"default"},onMouseDown:su==="move"?Nu=>mp(hu,Nu):void 0},hu.regionId):jsxRuntimeExports.jsx("path",{d:Zl,fill:"transparent",stroke:"transparent",strokeWidth:10,style:{pointerEvents:su==="move"?"all":"none",cursor:su==="move"?"move":"default"},onMouseDown:su==="move"?Nu=>mp(hu,Nu):void 0},hu.regionId):null})]}),su==="move"&&$l.size===1&&(()=>{const hu=Nl.find(Nu=>Nu.regionId===Array.from($l)[0]);if(!hu)return null;const Zl=hu.coordinates.length/2;if(Zl<=12){const Nu=[];for(let Zu=0;Zu<Zl;Zu++){const Vu=hu.coordinates[Zu*2]*hs,yu=hu.coordinates[Zu*2+1]*hs;Nu.push(jsxRuntimeExports.jsx("div",{onMouseDown:Hu=>Rp(hu,Zu,Hu),style:{position:"absolute",left:`${Vu}px`,top:`${yu}px`,transform:"translate(-50%, -50%)",width:"12px",height:"12px",borderRadius:"50%",background:"#F5A623",border:"2px solid #fff",cursor:"crosshair",pointerEvents:"auto",zIndex:1003}},`v-${Zu}`))}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Nu})}else{const Nu=Cu(hu);if(!Nu)return null;const Zu=Nu.minX*hs,Vu=Nu.minY*hs,yu=(Nu.maxX-Nu.minX)*hs,Hu=(Nu.maxY-Nu.minY)*hs;return jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:`${Zu}px`,top:`${Vu}px`,width:`${yu}px`,height:`${Hu}px`,pointerEvents:"none",zIndex:1002},children:fu.map(Sp=>jsxRuntimeExports.jsx("div",{onMouseDown:Np=>handleHandlePointerDown(hu,Sp.key,Np),style:{position:"absolute",left:`${Sp.offsetX*100}%`,top:`${Sp.offsetY*100}%`,transform:"translate(-50%, -50%)",width:"12px",height:"12px",borderRadius:"50%",background:"#F5A623",border:"2px solid #fff",cursor:Sp.cursor,pointerEvents:"auto"}},Sp.key))})}})()]}),gu===REGION_OPERATIONS.ADD&&ju&&($a==="rectangular"||$a==="freehand")&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:`${Mu.x+8}px`,top:`${Mu.y-20}px`,pointerEvents:"none",zIndex:1002},children:jsxRuntimeExports.jsx("span",{style:{color:"#000",fontSize:"16px",fontWeight:"bold",lineHeight:"1",fontFamily:FONT_FAMILY$2,textShadow:"0 0 3px rgba(255, 255, 255, 0.8), 0 0 6px rgba(255, 255, 255, 0.6)"},children:"+"})}),gu===REGION_OPERATIONS.SUBTRACT&&ju&&($a==="rectangular"||$a==="freehand")&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:`${Mu.x+8}px`,top:`${Mu.y-20}px`,pointerEvents:"none",zIndex:1002},children:jsxRuntimeExports.jsx("span",{style:{color:"#000",fontSize:"16px",fontWeight:"bold",lineHeight:"1",fontFamily:FONT_FAMILY$2,textShadow:"0 0 3px rgba(255, 255, 255, 0.8), 0 0 6px rgba(255, 255, 255, 0.6)"},children:""})})]}):null},regionToPolygon=us=>{if(!us||!Array.isArray(us.coordinates))return null;const is=us.coordinates,cs=[];for(let co=0;co<is.length;co+=2)co+1<is.length&&cs.push([is[co],is[co+1]]);if(cs.length>0&&(cs[0][0]!==cs[cs.length-1][0]||cs[0][1]!==cs[cs.length-1][1])&&cs.push([cs[0][0],cs[0][1]]),cs.length<4)return null;let lo=0;for(let co=0;co<cs.length-1;co++)lo+=(cs[co+1][0]-cs[co][0])*(cs[co+1][1]+cs[co][1]);return lo<0&&cs.reverse(),[cs]},polygonToPath=(us,is)=>{if(!us||!Array.isArray(us)||us.length===0)return"";const cs=us;let lo="";return cs.forEach(co=>{if(!(!Array.isArray(co)||co.length<2)){lo+=`M ${co[0][0]*is} ${co[0][1]*is}`;for(let hs=1;hs<co.length;hs++)lo+=` L ${co[hs][0]*is} ${co[hs][1]*is}`;lo+=" Z "}}),lo},SpaceRegionOverlay=({pageNumber:us,regions:is,width:cs,height:lo,scale:co=1})=>{const hs=reactExports.useMemo(()=>{if(!is||is.length===0)return null;const $a=cs*co,wl=lo*co,Sl=`M 0 0 H ${$a} V ${wl} H 0 Z`;let Cl=[];for(const Il of is){const Fl=regionToPolygon(Il);if(Fl)if(Cl.length===0){if(Il.operation==="subtract")continue;Cl=[Fl]}else try{let Ml;Il.operation==="subtract"?Ml=diff(Cl,Fl):Ml=union(Cl,Fl),Ml?Cl=Ml:(console.warn("Boolean operation returned invalid result in overlay",Ml),Il.operation!=="subtract"&&Cl.push(Fl[0]))}catch(Ml){console.error("Error combining regions for overlay:",Ml),Il.operation!=="subtract"&&Cl.push(Fl[0])}}let _l="";return Cl.length>0&&Cl.forEach(Il=>{_l+=polygonToPath(Il,co)}),_l?`${Sl} ${_l}`:null},[is,cs,lo,co]),uo=reactExports.useMemo(()=>`space-hatch-${us}`,[us]);if(!hs)return null;const xa=cs*co,ba=lo*co;return jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${xa}px`,height:`${ba}px`,pointerEvents:"auto",zIndex:20},children:jsxRuntimeExports.jsxs("svg",{width:xa,height:ba,style:{position:"absolute",top:0,left:0},children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("pattern",{id:uo,x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("path",{d:"M -2 2 L 2 -2",stroke:"#000",strokeWidth:"1"}),jsxRuntimeExports.jsx("path",{d:"M 0 10 L 10 0",stroke:"#000",strokeWidth:"1"}),jsxRuntimeExports.jsx("path",{d:"M 8 12 L 12 8",stroke:"#000",strokeWidth:"1"})]})}),jsxRuntimeExports.jsx("path",{d:hs,fill:"rgba(40, 40, 40, 0.55)",fillRule:"evenodd",pointerEvents:"auto"}),jsxRuntimeExports.jsx("path",{d:hs,fill:`url(#${uo})`,fillRule:"evenodd",opacity:.3,pointerEvents:"auto"})]})})},useDragToReorder=(us,is,cs={})=>{const{itemHeight:lo=null,gap:co=1,dragHandleSelector:hs="[data-drag-handle]",enabled:uo=!0}=cs,[xa,ba]=reactExports.useState(null),[$a,wl]=reactExports.useState(null),Sl=reactExports.useRef(null),Cl=reactExports.useRef(new Map),_l=reactExports.useRef(null),Il=reactExports.useRef(null),Fl=reactExports.useRef(new Map),Ml=reactExports.useRef(null),Tl=reactExports.useRef(null),Dl=reactExports.useCallback($l=>{const Vl=Cl.current.get($l);return Vl?Vl.getBoundingClientRect().height:null},[]),Bl=reactExports.useCallback($l=>{var nu;const Vl=Cl.current.get($l);if(!Vl)return null;const Gl=Vl.getBoundingClientRect(),iu=(nu=Sl.current)==null?void 0:nu.getBoundingClientRect();return iu?{top:Gl.top-iu.top,left:Gl.left-iu.left,width:Gl.width,height:Gl.height,centerY:Gl.top+Gl.height/2-iu.top}:null},[]),Ll=reactExports.useCallback($l=>(Ml.current||us.map((Gl,iu)=>({item:Gl,index:iu}))).filter(({item:Gl})=>Gl.id!==$l).map(({item:Gl,index:iu})=>{const nu=Bl(Gl.id);return nu?{item:Gl,index:iu,metrics:nu,midpointY:nu.top+nu.height/2}:null}).filter(Boolean),[us,Bl]),Nl=reactExports.useCallback(($l,Vl)=>{var cu;if(!uo)return;const Gl=Cl.current.get(Vl);if(!Gl)return;$l.preventDefault(),$l.stopPropagation();const iu=Gl.getBoundingClientRect(),nu=(cu=Sl.current)==null?void 0:cu.getBoundingClientRect();if(!nu)return;const Jl=iu.top-nu.top,lu=iu.left-nu.left,ju=iu.width,zu=lo||Dl(Vl)||iu.height,Wu=$l.clientY-iu.top,qu=us.map((ru,Yl)=>({item:ru,index:Yl}));console.log("[DragToReorder] Grab started for item:",Vl),console.log("[DragToReorder] Initial items:",us.map(ru=>({id:ru.id,name:ru.name||"no name"}))),console.log("[DragToReorder] Initial order:",qu.map(ru=>({id:ru.item.id,index:ru.index}))),wl(qu),Ml.current=qu,Tl.current=qu;const Mu=document.createElement("div");Mu.style.position="fixed",Mu.style.left=`${iu.left}px`,Mu.style.top=`${iu.top}px`,Mu.style.width=`${ju}px`,Mu.style.height=`${zu}px`,Mu.style.pointerEvents="none",Mu.style.zIndex="10000",Mu.style.transform="scale(1.05)",Mu.style.transition="transform 0.1s ease-out",Mu.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(0, 0, 0, 0.1)",Mu.style.opacity="0.95",Mu.style.backgroundColor=window.getComputedStyle(Gl).backgroundColor,Mu.style.borderRadius=window.getComputedStyle(Gl).borderRadius||"0px",Mu.innerHTML=Gl.innerHTML,document.body.appendChild(Mu),_l.current=Mu,Gl.style.opacity="0",Gl.style.visibility="hidden",Gl.style.pointerEvents="none",Gl.style.transition="opacity 0.1s",ba({itemId:Vl,startY:Jl,startX:lu,currentY:Jl,grabOffsetY:Wu,width:ju,height:zu,originalIndex:us.findIndex(ru=>ru.id===Vl)});const mu=ru=>{Il.current&&cancelAnimationFrame(Il.current),Il.current=requestAnimationFrame(()=>{var _c;const Yl=(_c=Sl.current)==null?void 0:_c.getBoundingClientRect();if(!Yl)return;const Hl=ru.clientY-Yl.top-Wu,Kl=lu;ba(Ql=>{if(!Ql)return null;Mu&&Yl&&(Mu.style.left=`${Yl.left+Kl}px`,Mu.style.top=`${ru.clientY-Wu}px`);const su=Hl+Ql.height/2,gu=Ll(Ql.itemId);let Cu=[...Ml.current||us.map((fu,Fu)=>({item:fu,index:Fu}))],vu=!1;if(gu.forEach(({item:fu,index:Fu,midpointY:_f})=>{if(Cu.findIndex(Au=>Au.item.id===fu.id)===-1)return;const Gu=Ql.currentY+Ql.height/2<_f,Uu=su<_f;if(Gu!==Uu){const Au=Cu.findIndex(Pu=>Pu.item.id===Ql.itemId);if(Au!==-1){const[Pu]=Cu.splice(Au,1),Ou=Cu.findIndex(ip=>ip.item.id===fu.id);Ou!==-1&&(console.log("[DragToReorder] Swapping: dragged item",Ql.itemId,"from index",Au,"to before item",fu.id,"at index",Ou),Cu.splice(Ou,0,Pu),vu=!0)}}}),vu){const fu=Cu.map((Fu,_f)=>({...Fu,index:_f}));console.log("[DragToReorder] Order changed during drag. New order:",fu.map(Fu=>({id:Fu.item.id,index:Fu.index}))),wl(fu),Ml.current=fu,requestAnimationFrame(()=>{fu.forEach(({item:Fu,index:_f})=>{var ip;if(Fu.id===Ql.itemId)return;const Xu=Cl.current.get(Fu.id);if(!Xu)return;const Gu=Bl(Fu.id);if(!Gu)return;let Uu=0;for(let $u=0;$u<_f;$u++){const np=fu[$u];if(np.item.id===Ql.itemId)continue;const Eu=lo||Fl.current.get(np.item.id)||Gu.height;Uu+=Eu+co}if(!((ip=Sl.current)==null?void 0:ip.getBoundingClientRect()))return;const Pu=Gu.top,Ou=Uu-Pu;Xu.style.transition="transform 0.2s cubic-bezier(0.2, 0, 0.2, 1)",Xu.style.transform=`translateY(${Ou}px)`})})}return{...Ql,currentY:Hl}})})},uu=()=>{document.removeEventListener("mousemove",mu),document.removeEventListener("mouseup",uu),Il.current&&cancelAnimationFrame(Il.current),_l.current&&(_l.current.style.transition="transform 0.3s cubic-bezier(0.2, 0, 0.2, 1), opacity 0.2s",_l.current.style.transform="scale(1)",_l.current.style.opacity="0",setTimeout(()=>{_l.current&&(_l.current.remove(),_l.current=null)},300));const ru=Cl.current.get(Vl);ru&&(ru.style.opacity="1",ru.style.visibility="visible",ru.style.pointerEvents="auto",ru.style.transition="transform 0.3s cubic-bezier(0.2, 0, 0.2, 1), opacity 0.2s",ru.style.transform="translateY(0)"),Cl.current.forEach((su,gu)=>{gu!==Vl&&(su.style.transition="transform 0.3s cubic-bezier(0.2, 0, 0.2, 1)",su.style.transform="translateY(0)")});const Yl=Ml.current||Tl.current||us.map((su,gu)=>({item:su,index:gu}));console.log("[DragToReorder] MouseUp - Final Order:",Yl);const Hl=Yl.sort((su,gu)=>su.index-gu.index).map(({item:su})=>su),_c=(Tl.current||us.map((su,gu)=>({item:su,index:gu}))).sort((su,gu)=>su.index-gu.index).map(({item:su})=>su.id),Ql=Hl.map(su=>su.id);console.log("[DragToReorder] Initial Order IDs (from drag start):",_c),console.log("[DragToReorder] New Order IDs:",Ql),console.log("[DragToReorder] Order changed?",JSON.stringify(_c)!==JSON.stringify(Ql)),console.log("[DragToReorder] Final ordered items:",Hl),JSON.stringify(_c)!==JSON.stringify(Ql)?(console.log("[DragToReorder] Calling onReorder with:",Hl),is(Hl)):console.log("[DragToReorder] Order unchanged, not calling onReorder"),Ml.current=null,Tl.current=null,setTimeout(()=>{ba(null),wl(null),Cl.current.forEach(su=>{su.style.transition="",su.style.transform=""})},300)};document.addEventListener("mousemove",mu),document.addEventListener("mouseup",uu)},[uo,us,lo,Dl,Bl,Ll,is,co]),zl=reactExports.useCallback(($l,Vl)=>{if(Vl){Cl.current.set($l,Vl);const Gl=Vl.getBoundingClientRect().height;Fl.current.set($l,Gl)}else Cl.current.delete($l),Fl.current.delete($l)},[]);return reactExports.useEffect(()=>()=>{_l.current&&_l.current.remove(),Il.current&&cancelAnimationFrame(Il.current)},[]),{draggingState:xa,virtualOrder:$a,handleGrab:Nl,registerItemRef:zl,containerRef:Sl}},FONT_FAMILY$1='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',TabBar=({tabs:us,activeTabId:is,onTabClick:cs,onTabClose:lo,onTabReorder:co,onPageDrop:hs})=>{const[uo,xa]=reactExports.useState(null),ba=reactExports.useRef(null),$a=us.filter(Ll=>!Ll.isHome),{draggingState:wl,virtualOrder:Sl,handleGrab:Cl,registerItemRef:_l,containerRef:Il}=useDragToReorder($a,Ll=>{const Nl=us.find(zl=>zl.isHome);co(Nl?[Nl,...Ll]:Ll)},{itemHeight:40,gap:0,dragHandleSelector:"[data-tab-drag-handle]"}),Fl=(()=>{const Ll=us.find($l=>$l.isHome);if(!Ll)return Sl||$a.map(($l,Vl)=>({item:$l,index:Vl}));const Nl={item:Ll,index:0},zl=Sl||$a.map(($l,Vl)=>({item:$l,index:Vl+1}));return[Nl,...zl]})(),Ml=(Ll,Nl)=>{Ll.stopPropagation(),lo(Nl)},Tl=(Ll,Nl)=>{Array.from(Ll.dataTransfer.types||[]).includes("application/pdf-page")&&(Ll.preventDefault(),Ll.stopPropagation(),Ll.dataTransfer.dropEffect="move",xa(Nl))},Dl=(Ll,Nl)=>{const zl=Ll.relatedTarget;(!zl||!Ll.currentTarget.contains(zl))&&xa(null)},Bl=(Ll,Nl)=>{Ll.preventDefault(),Ll.stopPropagation(),xa(null);try{const zl=Ll.dataTransfer.getData("application/pdf-page");if(!zl)return;const $l=JSON.parse(zl);if($l.tabId===Nl)return;hs&&hs($l.tabId,$l.pageNumber,Nl)}catch(zl){console.error("Error handling page drop:",zl)}};return jsxRuntimeExports.jsxs("div",{ref:ba,style:{display:"flex",background:"#1e1e1e",borderBottom:"1px solid #3a3a3a",overflowX:"auto",overflowY:"hidden",flexShrink:0,scrollbarWidth:"thin",scrollbarColor:"#555 #1e1e1e"},children:[jsxRuntimeExports.jsx("style",{children:`
        .tab-bar::-webkit-scrollbar {
          height: 6px;
        }
        .tab-bar::-webkit-scrollbar-track {
          background: #1e1e1e;
        }
        .tab-bar::-webkit-scrollbar-thumb {
          background: #555;
          border-radius: 3px;
        }
        .tab-bar::-webkit-scrollbar-thumb:hover {
          background: #666;
        }
      `}),jsxRuntimeExports.jsx("div",{ref:Il,className:"tab-bar",style:{display:"flex",minWidth:"100%",height:"40px"},children:Fl.sort((Ll,Nl)=>Ll.item.isHome?-1:Nl.item.isHome?1:Ll.index-Nl.index).map(({item:Ll})=>{const Nl=Ll.id===is,zl=(wl==null?void 0:wl.itemId)===Ll.id,$l=Ll.isHome;return jsxRuntimeExports.jsxs("div",{ref:Vl=>{$l||_l(Ll.id,Vl)},onClick:()=>cs(Ll.id),onDragOver:Vl=>!$l&&Tl(Vl,Ll.id),onDragLeave:Vl=>!$l&&Dl(Vl,Ll.id),onDrop:Vl=>!$l&&Bl(Vl,Ll.id),style:{position:"relative",display:"flex",alignItems:"center",minWidth:$l?"240px":"200px",maxWidth:$l?"240px":"300px",width:$l?"240px":"auto",height:"40px",padding:"0 12px",background:uo===Ll.id?"#3a3a3a":Nl?"#2b2b2b":"#252525",borderRight:"1px solid #3a3a3a",borderTop:Nl||uo===Ll.id?"2px solid #4A90E2":"2px solid transparent",cursor:"pointer",userSelect:"none",opacity:zl?.5:1,transition:"background 0.15s ease, border-color 0.15s ease",fontFamily:FONT_FAMILY$1,fontSize:"13px",color:Nl?"#ddd":"#999"},onMouseEnter:Vl=>{Nl||(Vl.currentTarget.style.background="#2a2a2a")},onMouseLeave:Vl=>{Nl||(Vl.currentTarget.style.background="#252525")},children:[!$l&&jsxRuntimeExports.jsx("div",{"data-tab-drag-handle":!0,onMouseDown:Vl=>{Vl.preventDefault(),Vl.stopPropagation(),Cl(Vl,Ll.id)},style:{display:"flex",alignItems:"center",cursor:"grab",padding:"4px",marginRight:"8px",color:"#666",fontSize:"12px"},onMouseEnter:Vl=>{Vl.currentTarget.style.color="#999"},onMouseLeave:Vl=>{Vl.currentTarget.style.color="#666"},children:jsxRuntimeExports.jsx(Icon,{name:"grip",size:12})}),jsxRuntimeExports.jsx(Icon,{name:$l?"home":"document",size:14,style:{marginRight:"8px",flexShrink:0}}),jsxRuntimeExports.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:Nl?"500":"400"},title:Ll.name,children:Ll.name}),!$l&&jsxRuntimeExports.jsx("button",{onClick:Vl=>Ml(Vl,Ll.id),style:{marginLeft:"8px",padding:"4px",background:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",transition:"all 0.15s ease",flexShrink:0},onMouseEnter:Vl=>{Vl.currentTarget.style.background="#3a3a3a",Vl.currentTarget.style.color="#ddd"},onMouseLeave:Vl=>{Vl.currentTarget.style.background="transparent",Vl.currentTarget.style.color="#666"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:12})})]},Ll.id)})})]})};class PageRenderCache{constructor(is=50){this.maxSize=is,this.cache=new Map,this.accessOrder=new Map}getCacheKey(is,cs){return`${is}_${cs.toFixed(2)}`}get(is,cs){const lo=this.getCacheKey(is,cs);return this.cache.has(lo)?(this.accessOrder.set(lo,Date.now()),this.cache.get(lo)):null}async set(is,cs,lo,co){const hs=this.getCacheKey(is,cs);let uo=null;try{uo=await createImageBitmap(lo)}catch(ba){console.warn("Failed to create ImageBitmap for page",is,ba)}const xa={bitmap:uo,viewport:co,pageNumber:is,scale:cs};if(this.cache.size>=this.maxSize&&!this.cache.has(hs)){let ba=null,$a=1/0;for(const[wl,Sl]of this.accessOrder.entries())Sl<$a&&($a=Sl,ba=wl);if(ba){const wl=this.cache.get(ba);if(wl!=null&&wl.bitmap)try{wl.bitmap.close()}catch{}this.cache.delete(ba),this.accessOrder.delete(ba)}}return this.cache.set(hs,xa),this.accessOrder.set(hs,Date.now()),xa}has(is,cs){const lo=this.getCacheKey(is,cs);return this.cache.has(lo)}clear(){for(const is of this.cache.values())if(is!=null&&is.bitmap)try{is.bitmap.close()}catch{}this.cache.clear(),this.accessOrder.clear()}clearForScale(is){const cs=[];for(const[lo,co]of this.cache.entries())Math.abs(co.scale-is)<.01&&cs.push(lo);cs.forEach(lo=>{const co=this.cache.get(lo);if(co!=null&&co.bitmap)try{co.bitmap.close()}catch{}this.cache.delete(lo),this.accessOrder.delete(lo)})}}const ZOOM_PREFERENCE_STORAGE_KEY="pdfViewerZoomPreference",ZOOM_MODES={FIT_PAGE:"fitPage",FIT_WIDTH:"fitWidth",FIT_HEIGHT:"fitHeight",MANUAL:"manual"},DEFAULT_ZOOM_PREFERENCES={mode:ZOOM_MODES.FIT_PAGE,manualScale:1},MIN_SCALE=.5,MAX_SCALE=5,SCALE_EPSILON=1e-4,clampScale=us=>typeof us!="number"||Number.isNaN(us)?DEFAULT_ZOOM_PREFERENCES.manualScale:Math.min(Math.max(us,MIN_SCALE),MAX_SCALE),isValidMode=us=>Object.values(ZOOM_MODES).includes(us),loadZoomPreferences=()=>{if(typeof window>"u")return{...DEFAULT_ZOOM_PREFERENCES};try{const us=window.localStorage.getItem(ZOOM_PREFERENCE_STORAGE_KEY);if(!us)return{...DEFAULT_ZOOM_PREFERENCES};const is=JSON.parse(us),cs=isValidMode(is==null?void 0:is.mode)?is.mode:DEFAULT_ZOOM_PREFERENCES.mode,lo=clampScale(is==null?void 0:is.manualScale);return{mode:cs,manualScale:lo}}catch(us){return console.warn("[zoomController] Failed to load zoom preferences:",us),{...DEFAULT_ZOOM_PREFERENCES}}},saveZoomPreferences=us=>{if(!(typeof window>"u"))try{const is={mode:isValidMode(us==null?void 0:us.mode)?us.mode:DEFAULT_ZOOM_PREFERENCES.mode,manualScale:clampScale(us==null?void 0:us.manualScale)};window.localStorage.setItem(ZOOM_PREFERENCE_STORAGE_KEY,JSON.stringify(is))}catch(is){console.warn("[zoomController] Failed to save zoom preferences:",is)}},safeDivide=(us,is)=>!is||Number.isNaN(is)||is===0?null:us/is,computeScaleForMode=(us,is,cs)=>{if(!is||!cs)return DEFAULT_ZOOM_PREFERENCES.manualScale;const lo=safeDivide(is.width,cs.width),co=safeDivide(is.height,cs.height);switch(us){case ZOOM_MODES.FIT_WIDTH:return clampScale(lo??DEFAULT_ZOOM_PREFERENCES.manualScale);case ZOOM_MODES.FIT_HEIGHT:return clampScale(co??DEFAULT_ZOOM_PREFERENCES.manualScale);case ZOOM_MODES.FIT_PAGE:default:return lo===null&&co===null?DEFAULT_ZOOM_PREFERENCES.manualScale:clampScale(lo===null?co:co===null?lo:Math.min(lo,co))}};function createZoomController({initialMode:us,initialManualScale:is,getContainer:cs,getViewportSize:lo,getPageSize:co,getCurrentScale:hs,setScale:uo,onModeChange:xa,onManualScaleChange:ba,persistPreferences:$a}={}){let wl=isValidMode(us)?us:DEFAULT_ZOOM_PREFERENCES.mode,Sl=clampScale(typeof is=="number"?is:DEFAULT_ZOOM_PREFERENCES.manualScale);const Cl=(Tl,Dl)=>{typeof xa=="function"&&xa(Tl,Dl)},_l=(Tl,Dl)=>{typeof ba=="function"&&ba(Tl,Dl)},Il=(Tl={})=>{typeof $a=="function"&&$a({mode:wl,manualScale:Sl,...Tl})},Fl=(Tl,Dl={})=>(typeof uo=="function"&&uo(Tl,Dl),Tl),Ml={getMode:()=>wl,getManualScale:()=>Sl,getScale:()=>typeof hs=="function"?hs():Sl,setMode:(Tl,Dl={})=>{if(!isValidMode(Tl))return Ml.getScale();const Bl=Tl!==wl;if(wl=Tl,wl===ZOOM_MODES.MANUAL&&typeof Dl.scale=="number"){const Ll=clampScale(Dl.scale);Math.abs(Ll-Sl)>SCALE_EPSILON&&(Sl=Ll,_l(Sl,Dl))}return Bl&&Cl(wl,Dl),Dl.persist!==!1&&Il(),Dl.skipApply?Ml.getScale():Ml.applyZoom(Dl)},setScale:(Tl,Dl={})=>{const Bl=clampScale(Tl),Ll=wl!==ZOOM_MODES.MANUAL,Nl=Math.abs(Sl-Bl)>SCALE_EPSILON;return Sl=Bl,wl=ZOOM_MODES.MANUAL,Nl&&_l(Sl,Dl),Ll&&Cl(wl,Dl),Dl.persist!==!1&&Il(),Fl(Sl,Dl)},applyZoom:(Tl={})=>{Tl.mode&&isValidMode(Tl.mode)&&Ml.setMode(Tl.mode,{...Tl,skipApply:!0});let Dl=Sl;if(wl!==ZOOM_MODES.MANUAL){const Bl=typeof lo=="function"?lo(cs==null?void 0:cs()):null,Ll=typeof co=="function"?co():null;Dl=computeScaleForMode(wl,Bl,Ll)}else if(typeof Tl.scale=="number"){const Bl=clampScale(Tl.scale);Math.abs(Bl-Sl)>SCALE_EPSILON&&(Sl=Bl,_l(Sl,Tl)),Dl=Sl}return Tl.persist!==!1&&Il(),Fl(Dl,Tl)}};return Ml}var extendStatics=function(us,is){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(cs,lo){cs.__proto__=lo}||function(cs,lo){for(var co in lo)Object.prototype.hasOwnProperty.call(lo,co)&&(cs[co]=lo[co])},extendStatics(us,is)};function __extends(us,is){if(typeof is!="function"&&is!==null)throw new TypeError("Class extends value "+String(is)+" is not a constructor or null");extendStatics(us,is);function cs(){this.constructor=us}us.prototype=is===null?Object.create(is):(cs.prototype=is.prototype,new cs)}var __assign=function(){return __assign=Object.assign||function(is){for(var cs,lo=1,co=arguments.length;lo<co;lo++){cs=arguments[lo];for(var hs in cs)Object.prototype.hasOwnProperty.call(cs,hs)&&(is[hs]=cs[hs])}return is},__assign.apply(this,arguments)};function __rest(us,is){var cs={};for(var lo in us)Object.prototype.hasOwnProperty.call(us,lo)&&is.indexOf(lo)<0&&(cs[lo]=us[lo]);if(us!=null&&typeof Object.getOwnPropertySymbols=="function")for(var co=0,lo=Object.getOwnPropertySymbols(us);co<lo.length;co++)is.indexOf(lo[co])<0&&Object.prototype.propertyIsEnumerable.call(us,lo[co])&&(cs[lo[co]]=us[lo[co]]);return cs}function __decorate(us,is,cs,lo){var co=arguments.length,hs=co<3?is:lo===null?lo=Object.getOwnPropertyDescriptor(is,cs):lo,uo;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")hs=Reflect.decorate(us,is,cs,lo);else for(var xa=us.length-1;xa>=0;xa--)(uo=us[xa])&&(hs=(co<3?uo(hs):co>3?uo(is,cs,hs):uo(is,cs))||hs);return co>3&&hs&&Object.defineProperty(is,cs,hs),hs}function __param(us,is){return function(cs,lo){is(cs,lo,us)}}function __esDecorate(us,is,cs,lo,co,hs){function uo(Tl){if(Tl!==void 0&&typeof Tl!="function")throw new TypeError("Function expected");return Tl}for(var xa=lo.kind,ba=xa==="getter"?"get":xa==="setter"?"set":"value",$a=!is&&us?lo.static?us:us.prototype:null,wl=is||($a?Object.getOwnPropertyDescriptor($a,lo.name):{}),Sl,Cl=!1,_l=cs.length-1;_l>=0;_l--){var Il={};for(var Fl in lo)Il[Fl]=Fl==="access"?{}:lo[Fl];for(var Fl in lo.access)Il.access[Fl]=lo.access[Fl];Il.addInitializer=function(Tl){if(Cl)throw new TypeError("Cannot add initializers after decoration has completed");hs.push(uo(Tl||null))};var Ml=(0,cs[_l])(xa==="accessor"?{get:wl.get,set:wl.set}:wl[ba],Il);if(xa==="accessor"){if(Ml===void 0)continue;if(Ml===null||typeof Ml!="object")throw new TypeError("Object expected");(Sl=uo(Ml.get))&&(wl.get=Sl),(Sl=uo(Ml.set))&&(wl.set=Sl),(Sl=uo(Ml.init))&&co.unshift(Sl)}else(Sl=uo(Ml))&&(xa==="field"?co.unshift(Sl):wl[ba]=Sl)}$a&&Object.defineProperty($a,lo.name,wl),Cl=!0}function __runInitializers(us,is,cs){for(var lo=arguments.length>2,co=0;co<is.length;co++)cs=lo?is[co].call(us,cs):is[co].call(us);return lo?cs:void 0}function __propKey(us){return typeof us=="symbol"?us:"".concat(us)}function __setFunctionName(us,is,cs){return typeof is=="symbol"&&(is=is.description?"[".concat(is.description,"]"):""),Object.defineProperty(us,"name",{configurable:!0,value:cs?"".concat(cs," ",is):is})}function __metadata(us,is){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(us,is)}function __awaiter(us,is,cs,lo){function co(hs){return hs instanceof cs?hs:new cs(function(uo){uo(hs)})}return new(cs||(cs=Promise))(function(hs,uo){function xa(wl){try{$a(lo.next(wl))}catch(Sl){uo(Sl)}}function ba(wl){try{$a(lo.throw(wl))}catch(Sl){uo(Sl)}}function $a(wl){wl.done?hs(wl.value):co(wl.value).then(xa,ba)}$a((lo=lo.apply(us,is||[])).next())})}function __generator(us,is){var cs={label:0,sent:function(){if(hs[0]&1)throw hs[1];return hs[1]},trys:[],ops:[]},lo,co,hs,uo=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return uo.next=xa(0),uo.throw=xa(1),uo.return=xa(2),typeof Symbol=="function"&&(uo[Symbol.iterator]=function(){return this}),uo;function xa($a){return function(wl){return ba([$a,wl])}}function ba($a){if(lo)throw new TypeError("Generator is already executing.");for(;uo&&(uo=0,$a[0]&&(cs=0)),cs;)try{if(lo=1,co&&(hs=$a[0]&2?co.return:$a[0]?co.throw||((hs=co.return)&&hs.call(co),0):co.next)&&!(hs=hs.call(co,$a[1])).done)return hs;switch(co=0,hs&&($a=[$a[0]&2,hs.value]),$a[0]){case 0:case 1:hs=$a;break;case 4:return cs.label++,{value:$a[1],done:!1};case 5:cs.label++,co=$a[1],$a=[0];continue;case 7:$a=cs.ops.pop(),cs.trys.pop();continue;default:if(hs=cs.trys,!(hs=hs.length>0&&hs[hs.length-1])&&($a[0]===6||$a[0]===2)){cs=0;continue}if($a[0]===3&&(!hs||$a[1]>hs[0]&&$a[1]<hs[3])){cs.label=$a[1];break}if($a[0]===6&&cs.label<hs[1]){cs.label=hs[1],hs=$a;break}if(hs&&cs.label<hs[2]){cs.label=hs[2],cs.ops.push($a);break}hs[2]&&cs.ops.pop(),cs.trys.pop();continue}$a=is.call(us,cs)}catch(wl){$a=[6,wl],co=0}finally{lo=hs=0}if($a[0]&5)throw $a[1];return{value:$a[0]?$a[1]:void 0,done:!0}}}var __createBinding=Object.create?function(us,is,cs,lo){lo===void 0&&(lo=cs);var co=Object.getOwnPropertyDescriptor(is,cs);(!co||("get"in co?!is.__esModule:co.writable||co.configurable))&&(co={enumerable:!0,get:function(){return is[cs]}}),Object.defineProperty(us,lo,co)}:function(us,is,cs,lo){lo===void 0&&(lo=cs),us[lo]=is[cs]};function __exportStar(us,is){for(var cs in us)cs!=="default"&&!Object.prototype.hasOwnProperty.call(is,cs)&&__createBinding(is,us,cs)}function __values(us){var is=typeof Symbol=="function"&&Symbol.iterator,cs=is&&us[is],lo=0;if(cs)return cs.call(us);if(us&&typeof us.length=="number")return{next:function(){return us&&lo>=us.length&&(us=void 0),{value:us&&us[lo++],done:!us}}};throw new TypeError(is?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(us,is){var cs=typeof Symbol=="function"&&us[Symbol.iterator];if(!cs)return us;var lo=cs.call(us),co,hs=[],uo;try{for(;(is===void 0||is-- >0)&&!(co=lo.next()).done;)hs.push(co.value)}catch(xa){uo={error:xa}}finally{try{co&&!co.done&&(cs=lo.return)&&cs.call(lo)}finally{if(uo)throw uo.error}}return hs}function __spread(){for(var us=[],is=0;is<arguments.length;is++)us=us.concat(__read(arguments[is]));return us}function __spreadArrays(){for(var us=0,is=0,cs=arguments.length;is<cs;is++)us+=arguments[is].length;for(var lo=Array(us),co=0,is=0;is<cs;is++)for(var hs=arguments[is],uo=0,xa=hs.length;uo<xa;uo++,co++)lo[co]=hs[uo];return lo}function __spreadArray(us,is,cs){if(cs||arguments.length===2)for(var lo=0,co=is.length,hs;lo<co;lo++)(hs||!(lo in is))&&(hs||(hs=Array.prototype.slice.call(is,0,lo)),hs[lo]=is[lo]);return us.concat(hs||Array.prototype.slice.call(is))}function __await(us){return this instanceof __await?(this.v=us,this):new __await(us)}function __asyncGenerator(us,is,cs){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lo=cs.apply(us,is||[]),co,hs=[];return co=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),xa("next"),xa("throw"),xa("return",uo),co[Symbol.asyncIterator]=function(){return this},co;function uo(_l){return function(Il){return Promise.resolve(Il).then(_l,Sl)}}function xa(_l,Il){lo[_l]&&(co[_l]=function(Fl){return new Promise(function(Ml,Tl){hs.push([_l,Fl,Ml,Tl])>1||ba(_l,Fl)})},Il&&(co[_l]=Il(co[_l])))}function ba(_l,Il){try{$a(lo[_l](Il))}catch(Fl){Cl(hs[0][3],Fl)}}function $a(_l){_l.value instanceof __await?Promise.resolve(_l.value.v).then(wl,Sl):Cl(hs[0][2],_l)}function wl(_l){ba("next",_l)}function Sl(_l){ba("throw",_l)}function Cl(_l,Il){_l(Il),hs.shift(),hs.length&&ba(hs[0][0],hs[0][1])}}function __asyncDelegator(us){var is,cs;return is={},lo("next"),lo("throw",function(co){throw co}),lo("return"),is[Symbol.iterator]=function(){return this},is;function lo(co,hs){is[co]=us[co]?function(uo){return(cs=!cs)?{value:__await(us[co](uo)),done:!1}:hs?hs(uo):uo}:hs}}function __asyncValues(us){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var is=us[Symbol.asyncIterator],cs;return is?is.call(us):(us=typeof __values=="function"?__values(us):us[Symbol.iterator](),cs={},lo("next"),lo("throw"),lo("return"),cs[Symbol.asyncIterator]=function(){return this},cs);function lo(hs){cs[hs]=us[hs]&&function(uo){return new Promise(function(xa,ba){uo=us[hs](uo),co(xa,ba,uo.done,uo.value)})}}function co(hs,uo,xa,ba){Promise.resolve(ba).then(function($a){hs({value:$a,done:xa})},uo)}}function __makeTemplateObject(us,is){return Object.defineProperty?Object.defineProperty(us,"raw",{value:is}):us.raw=is,us}var __setModuleDefault=Object.create?function(us,is){Object.defineProperty(us,"default",{enumerable:!0,value:is})}:function(us,is){us.default=is},ownKeys=function(us){return ownKeys=Object.getOwnPropertyNames||function(is){var cs=[];for(var lo in is)Object.prototype.hasOwnProperty.call(is,lo)&&(cs[cs.length]=lo);return cs},ownKeys(us)};function __importStar(us){if(us&&us.__esModule)return us;var is={};if(us!=null)for(var cs=ownKeys(us),lo=0;lo<cs.length;lo++)cs[lo]!=="default"&&__createBinding(is,us,cs[lo]);return __setModuleDefault(is,us),is}function __importDefault(us){return us&&us.__esModule?us:{default:us}}function __classPrivateFieldGet(us,is,cs,lo){if(cs==="a"&&!lo)throw new TypeError("Private accessor was defined without a getter");if(typeof is=="function"?us!==is||!lo:!is.has(us))throw new TypeError("Cannot read private member from an object whose class did not declare it");return cs==="m"?lo:cs==="a"?lo.call(us):lo?lo.value:is.get(us)}function __classPrivateFieldSet(us,is,cs,lo,co){if(lo==="m")throw new TypeError("Private method is not writable");if(lo==="a"&&!co)throw new TypeError("Private accessor was defined without a setter");if(typeof is=="function"?us!==is||!co:!is.has(us))throw new TypeError("Cannot write private member to an object whose class did not declare it");return lo==="a"?co.call(us,cs):co?co.value=cs:is.set(us,cs),cs}function __classPrivateFieldIn(us,is){if(is===null||typeof is!="object"&&typeof is!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof us=="function"?is===us:us.has(is)}function __addDisposableResource(us,is,cs){if(is!=null){if(typeof is!="object"&&typeof is!="function")throw new TypeError("Object expected.");var lo,co;if(cs){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");lo=is[Symbol.asyncDispose]}if(lo===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");lo=is[Symbol.dispose],cs&&(co=lo)}if(typeof lo!="function")throw new TypeError("Object not disposable.");co&&(lo=function(){try{co.call(this)}catch(hs){return Promise.reject(hs)}}),us.stack.push({value:is,dispose:lo,async:cs})}else cs&&us.stack.push({async:!0});return is}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(us,is,cs){var lo=new Error(cs);return lo.name="SuppressedError",lo.error=us,lo.suppressed=is,lo};function __disposeResources(us){function is(hs){us.error=us.hasError?new _SuppressedError(hs,us.error,"An error was suppressed during disposal."):hs,us.hasError=!0}var cs,lo=0;function co(){for(;cs=us.stack.pop();)try{if(!cs.async&&lo===1)return lo=0,us.stack.push(cs),Promise.resolve().then(co);if(cs.dispose){var hs=cs.dispose.call(cs.value);if(cs.async)return lo|=2,Promise.resolve(hs).then(co,function(uo){return is(uo),co()})}else lo|=1}catch(uo){is(uo)}if(lo===1)return us.hasError?Promise.reject(us.error):Promise.resolve();if(us.hasError)throw us.error}return co()}function __rewriteRelativeImportExtension(us,is){return typeof us=="string"&&/^\.\.?\//.test(us)?us.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(cs,lo,co,hs,uo){return lo?is?".jsx":".js":co&&(!hs||!uo)?cs:co+hs+"."+uo.toLowerCase()+"js"}):us}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),resolveFetch$4=us=>us?(...is)=>us(...is):(...is)=>fetch(...is);class FunctionsError extends Error{constructor(is,cs="FunctionsError",lo){super(is),this.name=cs,this.context=lo}}class FunctionsFetchError extends FunctionsError{constructor(is){super("Failed to send a request to the Edge Function","FunctionsFetchError",is)}}class FunctionsRelayError extends FunctionsError{constructor(is){super("Relay Error invoking the Edge Function","FunctionsRelayError",is)}}class FunctionsHttpError extends FunctionsError{constructor(is){super("Edge Function returned a non-2xx status code","FunctionsHttpError",is)}}var FunctionRegion;(function(us){us.Any="any",us.ApNortheast1="ap-northeast-1",us.ApNortheast2="ap-northeast-2",us.ApSouth1="ap-south-1",us.ApSoutheast1="ap-southeast-1",us.ApSoutheast2="ap-southeast-2",us.CaCentral1="ca-central-1",us.EuCentral1="eu-central-1",us.EuWest1="eu-west-1",us.EuWest2="eu-west-2",us.EuWest3="eu-west-3",us.SaEast1="sa-east-1",us.UsEast1="us-east-1",us.UsWest1="us-west-1",us.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(is,{headers:cs={},customFetch:lo,region:co=FunctionRegion.Any}={}){this.url=is,this.headers=cs,this.region=co,this.fetch=resolveFetch$4(lo)}setAuth(is){this.headers.Authorization=`Bearer ${is}`}invoke(is){return __awaiter(this,arguments,void 0,function*(cs,lo={}){var co;let hs,uo;try{const{headers:xa,method:ba,body:$a,signal:wl,timeout:Sl}=lo;let Cl={},{region:_l}=lo;_l||(_l=this.region);const Il=new URL(`${this.url}/${cs}`);_l&&_l!=="any"&&(Cl["x-region"]=_l,Il.searchParams.set("forceFunctionRegion",_l));let Fl;$a&&(xa&&!Object.prototype.hasOwnProperty.call(xa,"Content-Type")||!xa)?typeof Blob<"u"&&$a instanceof Blob||$a instanceof ArrayBuffer?(Cl["Content-Type"]="application/octet-stream",Fl=$a):typeof $a=="string"?(Cl["Content-Type"]="text/plain",Fl=$a):typeof FormData<"u"&&$a instanceof FormData?Fl=$a:(Cl["Content-Type"]="application/json",Fl=JSON.stringify($a)):Fl=$a;let Ml=wl;Sl&&(uo=new AbortController,hs=setTimeout(()=>uo.abort(),Sl),wl?(Ml=uo.signal,wl.addEventListener("abort",()=>uo.abort())):Ml=uo.signal);const Tl=yield this.fetch(Il.toString(),{method:ba||"POST",headers:Object.assign(Object.assign(Object.assign({},Cl),this.headers),xa),body:Fl,signal:Ml}).catch(Nl=>{throw new FunctionsFetchError(Nl)}),Dl=Tl.headers.get("x-relay-error");if(Dl&&Dl==="true")throw new FunctionsRelayError(Tl);if(!Tl.ok)throw new FunctionsHttpError(Tl);let Bl=((co=Tl.headers.get("Content-Type"))!==null&&co!==void 0?co:"text/plain").split(";")[0].trim(),Ll;return Bl==="application/json"?Ll=yield Tl.json():Bl==="application/octet-stream"||Bl==="application/pdf"?Ll=yield Tl.blob():Bl==="text/event-stream"?Ll=Tl:Bl==="multipart/form-data"?Ll=yield Tl.formData():Ll=yield Tl.text(),{data:Ll,error:null,response:Tl}}catch(xa){return{data:null,error:xa,response:xa instanceof FunctionsHttpError||xa instanceof FunctionsRelayError?xa.context:void 0}}finally{hs&&clearTimeout(hs)}})}}var cjs={};const require$$0=getAugmentedNamespace(tslib_es6$1);var PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},PostgrestError$2={},hasRequiredPostgrestError;function requirePostgrestError(){if(hasRequiredPostgrestError)return PostgrestError$2;hasRequiredPostgrestError=1,Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});class us extends Error{constructor(cs){super(cs.message),this.name="PostgrestError",this.details=cs.details,this.hint=cs.hint,this.code=cs.code}}return PostgrestError$2.default=us,PostgrestError$2}var hasRequiredPostgrestBuilder;function requirePostgrestBuilder(){if(hasRequiredPostgrestBuilder)return PostgrestBuilder$2;hasRequiredPostgrestBuilder=1,Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const is=require$$0.__importDefault(requirePostgrestError());class cs{constructor(co){var hs,uo;this.shouldThrowOnError=!1,this.method=co.method,this.url=co.url,this.headers=new Headers(co.headers),this.schema=co.schema,this.body=co.body,this.shouldThrowOnError=(hs=co.shouldThrowOnError)!==null&&hs!==void 0?hs:!1,this.signal=co.signal,this.isMaybeSingle=(uo=co.isMaybeSingle)!==null&&uo!==void 0?uo:!1,co.fetch?this.fetch=co.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(co,hs){return this.headers=new Headers(this.headers),this.headers.set(co,hs),this}then(co,hs){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const uo=this.fetch;let xa=uo(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async ba=>{var $a,wl,Sl,Cl;let _l=null,Il=null,Fl=null,Ml=ba.status,Tl=ba.statusText;if(ba.ok){if(this.method!=="HEAD"){const Nl=await ba.text();Nl===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!(($a=this.headers.get("Accept"))===null||$a===void 0)&&$a.includes("application/vnd.pgrst.plan+text"))?Il=Nl:Il=JSON.parse(Nl))}const Bl=(wl=this.headers.get("Prefer"))===null||wl===void 0?void 0:wl.match(/count=(exact|planned|estimated)/),Ll=(Sl=ba.headers.get("content-range"))===null||Sl===void 0?void 0:Sl.split("/");Bl&&Ll&&Ll.length>1&&(Fl=parseInt(Ll[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(Il)&&(Il.length>1?(_l={code:"PGRST116",details:`Results contain ${Il.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Il=null,Fl=null,Ml=406,Tl="Not Acceptable"):Il.length===1?Il=Il[0]:Il=null)}else{const Bl=await ba.text();try{_l=JSON.parse(Bl),Array.isArray(_l)&&ba.status===404&&(Il=[],_l=null,Ml=200,Tl="OK")}catch{ba.status===404&&Bl===""?(Ml=204,Tl="No Content"):_l={message:Bl}}if(_l&&this.isMaybeSingle&&(!((Cl=_l==null?void 0:_l.details)===null||Cl===void 0)&&Cl.includes("0 rows"))&&(_l=null,Ml=200,Tl="OK"),_l&&this.shouldThrowOnError)throw new is.default(_l)}return{error:_l,data:Il,count:Fl,status:Ml,statusText:Tl}});return this.shouldThrowOnError||(xa=xa.catch(ba=>{var $a,wl,Sl;return{error:{message:`${($a=ba==null?void 0:ba.name)!==null&&$a!==void 0?$a:"FetchError"}: ${ba==null?void 0:ba.message}`,details:`${(wl=ba==null?void 0:ba.stack)!==null&&wl!==void 0?wl:""}`,hint:"",code:`${(Sl=ba==null?void 0:ba.code)!==null&&Sl!==void 0?Sl:""}`},data:null,count:null,status:0,statusText:""}})),xa.then(co,hs)}returns(){return this}overrideTypes(){return this}}return PostgrestBuilder$2.default=cs,PostgrestBuilder$2}var hasRequiredPostgrestTransformBuilder;function requirePostgrestTransformBuilder(){if(hasRequiredPostgrestTransformBuilder)return PostgrestTransformBuilder$2;hasRequiredPostgrestTransformBuilder=1,Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const is=require$$0.__importDefault(requirePostgrestBuilder());class cs extends is.default{select(co){let hs=!1;const uo=(co??"*").split("").map(xa=>/\s/.test(xa)&&!hs?"":(xa==='"'&&(hs=!hs),xa)).join("");return this.url.searchParams.set("select",uo),this.headers.append("Prefer","return=representation"),this}order(co,{ascending:hs=!0,nullsFirst:uo,foreignTable:xa,referencedTable:ba=xa}={}){const $a=ba?`${ba}.order`:"order",wl=this.url.searchParams.get($a);return this.url.searchParams.set($a,`${wl?`${wl},`:""}${co}.${hs?"asc":"desc"}${uo===void 0?"":uo?".nullsfirst":".nullslast"}`),this}limit(co,{foreignTable:hs,referencedTable:uo=hs}={}){const xa=typeof uo>"u"?"limit":`${uo}.limit`;return this.url.searchParams.set(xa,`${co}`),this}range(co,hs,{foreignTable:uo,referencedTable:xa=uo}={}){const ba=typeof xa>"u"?"offset":`${xa}.offset`,$a=typeof xa>"u"?"limit":`${xa}.limit`;return this.url.searchParams.set(ba,`${co}`),this.url.searchParams.set($a,`${hs-co+1}`),this}abortSignal(co){return this.signal=co,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:co=!1,verbose:hs=!1,settings:uo=!1,buffers:xa=!1,wal:ba=!1,format:$a="text"}={}){var wl;const Sl=[co?"analyze":null,hs?"verbose":null,uo?"settings":null,xa?"buffers":null,ba?"wal":null].filter(Boolean).join("|"),Cl=(wl=this.headers.get("Accept"))!==null&&wl!==void 0?wl:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${$a}; for="${Cl}"; options=${Sl};`),$a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(co){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${co}`),this}}return PostgrestTransformBuilder$2.default=cs,PostgrestTransformBuilder$2}var hasRequiredPostgrestFilterBuilder;function requirePostgrestFilterBuilder(){if(hasRequiredPostgrestFilterBuilder)return PostgrestFilterBuilder$2;hasRequiredPostgrestFilterBuilder=1,Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const is=require$$0.__importDefault(requirePostgrestTransformBuilder()),cs=new RegExp("[,()]");class lo extends is.default{eq(hs,uo){return this.url.searchParams.append(hs,`eq.${uo}`),this}neq(hs,uo){return this.url.searchParams.append(hs,`neq.${uo}`),this}gt(hs,uo){return this.url.searchParams.append(hs,`gt.${uo}`),this}gte(hs,uo){return this.url.searchParams.append(hs,`gte.${uo}`),this}lt(hs,uo){return this.url.searchParams.append(hs,`lt.${uo}`),this}lte(hs,uo){return this.url.searchParams.append(hs,`lte.${uo}`),this}like(hs,uo){return this.url.searchParams.append(hs,`like.${uo}`),this}likeAllOf(hs,uo){return this.url.searchParams.append(hs,`like(all).{${uo.join(",")}}`),this}likeAnyOf(hs,uo){return this.url.searchParams.append(hs,`like(any).{${uo.join(",")}}`),this}ilike(hs,uo){return this.url.searchParams.append(hs,`ilike.${uo}`),this}ilikeAllOf(hs,uo){return this.url.searchParams.append(hs,`ilike(all).{${uo.join(",")}}`),this}ilikeAnyOf(hs,uo){return this.url.searchParams.append(hs,`ilike(any).{${uo.join(",")}}`),this}is(hs,uo){return this.url.searchParams.append(hs,`is.${uo}`),this}in(hs,uo){const xa=Array.from(new Set(uo)).map(ba=>typeof ba=="string"&&cs.test(ba)?`"${ba}"`:`${ba}`).join(",");return this.url.searchParams.append(hs,`in.(${xa})`),this}contains(hs,uo){return typeof uo=="string"?this.url.searchParams.append(hs,`cs.${uo}`):Array.isArray(uo)?this.url.searchParams.append(hs,`cs.{${uo.join(",")}}`):this.url.searchParams.append(hs,`cs.${JSON.stringify(uo)}`),this}containedBy(hs,uo){return typeof uo=="string"?this.url.searchParams.append(hs,`cd.${uo}`):Array.isArray(uo)?this.url.searchParams.append(hs,`cd.{${uo.join(",")}}`):this.url.searchParams.append(hs,`cd.${JSON.stringify(uo)}`),this}rangeGt(hs,uo){return this.url.searchParams.append(hs,`sr.${uo}`),this}rangeGte(hs,uo){return this.url.searchParams.append(hs,`nxl.${uo}`),this}rangeLt(hs,uo){return this.url.searchParams.append(hs,`sl.${uo}`),this}rangeLte(hs,uo){return this.url.searchParams.append(hs,`nxr.${uo}`),this}rangeAdjacent(hs,uo){return this.url.searchParams.append(hs,`adj.${uo}`),this}overlaps(hs,uo){return typeof uo=="string"?this.url.searchParams.append(hs,`ov.${uo}`):this.url.searchParams.append(hs,`ov.{${uo.join(",")}}`),this}textSearch(hs,uo,{config:xa,type:ba}={}){let $a="";ba==="plain"?$a="pl":ba==="phrase"?$a="ph":ba==="websearch"&&($a="w");const wl=xa===void 0?"":`(${xa})`;return this.url.searchParams.append(hs,`${$a}fts${wl}.${uo}`),this}match(hs){return Object.entries(hs).forEach(([uo,xa])=>{this.url.searchParams.append(uo,`eq.${xa}`)}),this}not(hs,uo,xa){return this.url.searchParams.append(hs,`not.${uo}.${xa}`),this}or(hs,{foreignTable:uo,referencedTable:xa=uo}={}){const ba=xa?`${xa}.or`:"or";return this.url.searchParams.append(ba,`(${hs})`),this}filter(hs,uo,xa){return this.url.searchParams.append(hs,`${uo}.${xa}`),this}}return PostgrestFilterBuilder$2.default=lo,PostgrestFilterBuilder$2}var hasRequiredPostgrestQueryBuilder;function requirePostgrestQueryBuilder(){if(hasRequiredPostgrestQueryBuilder)return PostgrestQueryBuilder$2;hasRequiredPostgrestQueryBuilder=1,Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const is=require$$0.__importDefault(requirePostgrestFilterBuilder());class cs{constructor(co,{headers:hs={},schema:uo,fetch:xa}){this.url=co,this.headers=new Headers(hs),this.schema=uo,this.fetch=xa}select(co,hs){const{head:uo=!1,count:xa}=hs??{},ba=uo?"HEAD":"GET";let $a=!1;const wl=(co??"*").split("").map(Sl=>/\s/.test(Sl)&&!$a?"":(Sl==='"'&&($a=!$a),Sl)).join("");return this.url.searchParams.set("select",wl),xa&&this.headers.append("Prefer",`count=${xa}`),new is.default({method:ba,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(co,{count:hs,defaultToNull:uo=!0}={}){var xa;const ba="POST";if(hs&&this.headers.append("Prefer",`count=${hs}`),uo||this.headers.append("Prefer","missing=default"),Array.isArray(co)){const $a=co.reduce((wl,Sl)=>wl.concat(Object.keys(Sl)),[]);if($a.length>0){const wl=[...new Set($a)].map(Sl=>`"${Sl}"`);this.url.searchParams.set("columns",wl.join(","))}}return new is.default({method:ba,url:this.url,headers:this.headers,schema:this.schema,body:co,fetch:(xa=this.fetch)!==null&&xa!==void 0?xa:fetch})}upsert(co,{onConflict:hs,ignoreDuplicates:uo=!1,count:xa,defaultToNull:ba=!0}={}){var $a;const wl="POST";if(this.headers.append("Prefer",`resolution=${uo?"ignore":"merge"}-duplicates`),hs!==void 0&&this.url.searchParams.set("on_conflict",hs),xa&&this.headers.append("Prefer",`count=${xa}`),ba||this.headers.append("Prefer","missing=default"),Array.isArray(co)){const Sl=co.reduce((Cl,_l)=>Cl.concat(Object.keys(_l)),[]);if(Sl.length>0){const Cl=[...new Set(Sl)].map(_l=>`"${_l}"`);this.url.searchParams.set("columns",Cl.join(","))}}return new is.default({method:wl,url:this.url,headers:this.headers,schema:this.schema,body:co,fetch:($a=this.fetch)!==null&&$a!==void 0?$a:fetch})}update(co,{count:hs}={}){var uo;const xa="PATCH";return hs&&this.headers.append("Prefer",`count=${hs}`),new is.default({method:xa,url:this.url,headers:this.headers,schema:this.schema,body:co,fetch:(uo=this.fetch)!==null&&uo!==void 0?uo:fetch})}delete({count:co}={}){var hs;const uo="DELETE";return co&&this.headers.append("Prefer",`count=${co}`),new is.default({method:uo,url:this.url,headers:this.headers,schema:this.schema,fetch:(hs=this.fetch)!==null&&hs!==void 0?hs:fetch})}}return PostgrestQueryBuilder$2.default=cs,PostgrestQueryBuilder$2}var hasRequiredPostgrestClient;function requirePostgrestClient(){if(hasRequiredPostgrestClient)return PostgrestClient$2;hasRequiredPostgrestClient=1,Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const us=require$$0,is=us.__importDefault(requirePostgrestQueryBuilder()),cs=us.__importDefault(requirePostgrestFilterBuilder());class lo{constructor(hs,{headers:uo={},schema:xa,fetch:ba}={}){this.url=hs,this.headers=new Headers(uo),this.schemaName=xa,this.fetch=ba}from(hs){const uo=new URL(`${this.url}/${hs}`);return new is.default(uo,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(hs){return new lo(this.url,{headers:this.headers,schema:hs,fetch:this.fetch})}rpc(hs,uo={},{head:xa=!1,get:ba=!1,count:$a}={}){var wl;let Sl;const Cl=new URL(`${this.url}/rpc/${hs}`);let _l;xa||ba?(Sl=xa?"HEAD":"GET",Object.entries(uo).filter(([Fl,Ml])=>Ml!==void 0).map(([Fl,Ml])=>[Fl,Array.isArray(Ml)?`{${Ml.join(",")}}`:`${Ml}`]).forEach(([Fl,Ml])=>{Cl.searchParams.append(Fl,Ml)})):(Sl="POST",_l=uo);const Il=new Headers(this.headers);return $a&&Il.set("Prefer",`count=${$a}`),new cs.default({method:Sl,url:Cl,headers:Il,schema:this.schemaName,body:_l,fetch:(wl=this.fetch)!==null&&wl!==void 0?wl:fetch})}}return PostgrestClient$2.default=lo,PostgrestClient$2}Object.defineProperty(cjs,"__esModule",{value:!0});var PostgrestError$1=cjs.PostgrestError=PostgrestBuilder$1=cjs.PostgrestBuilder=PostgrestTransformBuilder$1=cjs.PostgrestTransformBuilder=PostgrestFilterBuilder$1=cjs.PostgrestFilterBuilder=PostgrestQueryBuilder$1=cjs.PostgrestQueryBuilder=PostgrestClient$1=cjs.PostgrestClient=void 0;const tslib_1=require$$0,PostgrestClient_1=tslib_1.__importDefault(requirePostgrestClient());var PostgrestClient$1=cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=tslib_1.__importDefault(requirePostgrestQueryBuilder());var PostgrestQueryBuilder$1=cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=tslib_1.__importDefault(requirePostgrestFilterBuilder());var PostgrestFilterBuilder$1=cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=tslib_1.__importDefault(requirePostgrestTransformBuilder());var PostgrestTransformBuilder$1=cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=tslib_1.__importDefault(requirePostgrestBuilder());var PostgrestBuilder$1=cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=tslib_1.__importDefault(requirePostgrestError());PostgrestError$1=cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const index=_mergeNamespaces({__proto__:null,get PostgrestBuilder(){return PostgrestBuilder$1},get PostgrestClient(){return PostgrestClient$1},get PostgrestError(){return PostgrestError$1},get PostgrestFilterBuilder(){return PostgrestFilterBuilder$1},get PostgrestQueryBuilder(){return PostgrestQueryBuilder$1},get PostgrestTransformBuilder(){return PostgrestTransformBuilder$1},default:_default},[cjs]),{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default||index;class WebSocketFactory{static detectEnvironment(){var is;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((is=navigator.userAgent)===null||is===void 0)&&is.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process$1<"u"){const cs=process$1.versions;if(cs&&cs.node){const lo=cs.node,co=parseInt(lo.replace(/^v/,"").split(".")[0]);return co>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${co} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${co} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const is=this.detectEnvironment();if(is.constructor)return is.constructor;let cs=is.error||"WebSocket not supported in this environment.";throw is.workaround&&(cs+=`

Suggested solution: ${is.workaround}`),new Error(cs)}static createWebSocket(is,cs){const lo=this.getWebSocketConstructor();return new lo(is,cs)}static isWebSocketSupported(){try{const is=this.detectEnvironment();return is.type==="native"||is.type==="ws"}catch{return!1}}}const version$3="2.81.1",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_1_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(us){us[us.connecting=0]="connecting",us[us.open=1]="open",us[us.closing=2]="closing",us[us.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(us){us.closed="closed",us.errored="errored",us.joined="joined",us.joining="joining",us.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(us){us.close="phx_close",us.error="phx_error",us.join="phx_join",us.reply="phx_reply",us.leave="phx_leave",us.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(us){us.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(us){us.Connecting="connecting",us.Open="open",us.Closing="closing",us.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(is,cs){if(this._isArrayBuffer(is.payload))return cs(this._binaryEncodePush(is));if(is.event===this.BROADCAST&&!(is.payload instanceof ArrayBuffer)&&typeof is.payload.event=="string")return cs(this._binaryEncodeUserBroadcastPush(is));let lo=[is.join_ref,is.ref,is.topic,is.event,is.payload];return cs(JSON.stringify(lo))}_binaryEncodePush(is){const{join_ref:cs,ref:lo,event:co,topic:hs,payload:uo}=is,xa=this.META_LENGTH+cs.length+lo.length+hs.length+co.length,ba=new ArrayBuffer(this.HEADER_LENGTH+xa);let $a=new DataView(ba),wl=0;$a.setUint8(wl++,this.KINDS.push),$a.setUint8(wl++,cs.length),$a.setUint8(wl++,lo.length),$a.setUint8(wl++,hs.length),$a.setUint8(wl++,co.length),Array.from(cs,Cl=>$a.setUint8(wl++,Cl.charCodeAt(0))),Array.from(lo,Cl=>$a.setUint8(wl++,Cl.charCodeAt(0))),Array.from(hs,Cl=>$a.setUint8(wl++,Cl.charCodeAt(0))),Array.from(co,Cl=>$a.setUint8(wl++,Cl.charCodeAt(0)));var Sl=new Uint8Array(ba.byteLength+uo.byteLength);return Sl.set(new Uint8Array(ba),0),Sl.set(new Uint8Array(uo),ba.byteLength),Sl.buffer}_binaryEncodeUserBroadcastPush(is){var cs;return this._isArrayBuffer((cs=is.payload)===null||cs===void 0?void 0:cs.payload)?this._encodeBinaryUserBroadcastPush(is):this._encodeJsonUserBroadcastPush(is)}_encodeBinaryUserBroadcastPush(is){var cs,lo;const{join_ref:co,ref:hs,topic:uo}=is,xa=is.payload.event,ba=(lo=(cs=is.payload)===null||cs===void 0?void 0:cs.payload)!==null&&lo!==void 0?lo:new ArrayBuffer(0),$a=this.USER_BROADCAST_PUSH_META_LENGTH+co.length+hs.length+uo.length+xa.length,wl=new ArrayBuffer(this.HEADER_LENGTH+$a);let Sl=new DataView(wl),Cl=0;Sl.setUint8(Cl++,this.KINDS.userBroadcastPush),Sl.setUint8(Cl++,co.length),Sl.setUint8(Cl++,hs.length),Sl.setUint8(Cl++,uo.length),Sl.setUint8(Cl++,xa.length),Sl.setUint8(Cl++,this.BINARY_ENCODING),Array.from(co,Il=>Sl.setUint8(Cl++,Il.charCodeAt(0))),Array.from(hs,Il=>Sl.setUint8(Cl++,Il.charCodeAt(0))),Array.from(uo,Il=>Sl.setUint8(Cl++,Il.charCodeAt(0))),Array.from(xa,Il=>Sl.setUint8(Cl++,Il.charCodeAt(0)));var _l=new Uint8Array(wl.byteLength+ba.byteLength);return _l.set(new Uint8Array(wl),0),_l.set(new Uint8Array(ba),wl.byteLength),_l.buffer}_encodeJsonUserBroadcastPush(is){var cs,lo;const{join_ref:co,ref:hs,topic:uo}=is,xa=is.payload.event,ba=(lo=(cs=is.payload)===null||cs===void 0?void 0:cs.payload)!==null&&lo!==void 0?lo:{},wl=new TextEncoder().encode(JSON.stringify(ba)).buffer,Sl=this.USER_BROADCAST_PUSH_META_LENGTH+co.length+hs.length+uo.length+xa.length,Cl=new ArrayBuffer(this.HEADER_LENGTH+Sl);let _l=new DataView(Cl),Il=0;_l.setUint8(Il++,this.KINDS.userBroadcastPush),_l.setUint8(Il++,co.length),_l.setUint8(Il++,hs.length),_l.setUint8(Il++,uo.length),_l.setUint8(Il++,xa.length),_l.setUint8(Il++,this.JSON_ENCODING),Array.from(co,Ml=>_l.setUint8(Il++,Ml.charCodeAt(0))),Array.from(hs,Ml=>_l.setUint8(Il++,Ml.charCodeAt(0))),Array.from(uo,Ml=>_l.setUint8(Il++,Ml.charCodeAt(0))),Array.from(xa,Ml=>_l.setUint8(Il++,Ml.charCodeAt(0)));var Fl=new Uint8Array(Cl.byteLength+wl.byteLength);return Fl.set(new Uint8Array(Cl),0),Fl.set(new Uint8Array(wl),Cl.byteLength),Fl.buffer}decode(is,cs){if(this._isArrayBuffer(is)){let lo=this._binaryDecode(is);return cs(lo)}if(typeof is=="string"){const lo=JSON.parse(is),[co,hs,uo,xa,ba]=lo;return cs({join_ref:co,ref:hs,topic:uo,event:xa,payload:ba})}return cs({})}_binaryDecode(is){const cs=new DataView(is),lo=cs.getUint8(0),co=new TextDecoder;switch(lo){case this.KINDS.push:return this._decodePush(is,cs,co);case this.KINDS.reply:return this._decodeReply(is,cs,co);case this.KINDS.broadcast:return this._decodeBroadcast(is,cs,co);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(is,cs,co)}}_decodePush(is,cs,lo){const co=cs.getUint8(1),hs=cs.getUint8(2),uo=cs.getUint8(3);let xa=this.HEADER_LENGTH+this.META_LENGTH-1;const ba=lo.decode(is.slice(xa,xa+co));xa=xa+co;const $a=lo.decode(is.slice(xa,xa+hs));xa=xa+hs;const wl=lo.decode(is.slice(xa,xa+uo));xa=xa+uo;const Sl=JSON.parse(lo.decode(is.slice(xa,is.byteLength)));return{join_ref:ba,ref:null,topic:$a,event:wl,payload:Sl}}_decodeReply(is,cs,lo){const co=cs.getUint8(1),hs=cs.getUint8(2),uo=cs.getUint8(3),xa=cs.getUint8(4);let ba=this.HEADER_LENGTH+this.META_LENGTH;const $a=lo.decode(is.slice(ba,ba+co));ba=ba+co;const wl=lo.decode(is.slice(ba,ba+hs));ba=ba+hs;const Sl=lo.decode(is.slice(ba,ba+uo));ba=ba+uo;const Cl=lo.decode(is.slice(ba,ba+xa));ba=ba+xa;const _l=JSON.parse(lo.decode(is.slice(ba,is.byteLength))),Il={status:Cl,response:_l};return{join_ref:$a,ref:wl,topic:Sl,event:CHANNEL_EVENTS.reply,payload:Il}}_decodeBroadcast(is,cs,lo){const co=cs.getUint8(1),hs=cs.getUint8(2);let uo=this.HEADER_LENGTH+2;const xa=lo.decode(is.slice(uo,uo+co));uo=uo+co;const ba=lo.decode(is.slice(uo,uo+hs));uo=uo+hs;const $a=JSON.parse(lo.decode(is.slice(uo,is.byteLength)));return{join_ref:null,ref:null,topic:xa,event:ba,payload:$a}}_decodeUserBroadcast(is,cs,lo){const co=cs.getUint8(1),hs=cs.getUint8(2),uo=cs.getUint8(3),xa=cs.getUint8(4);let ba=this.HEADER_LENGTH+4;const $a=lo.decode(is.slice(ba,ba+co));ba=ba+co;const wl=lo.decode(is.slice(ba,ba+hs));ba=ba+hs;const Sl=lo.decode(is.slice(ba,ba+uo));ba=ba+uo;const Cl=is.slice(ba,is.byteLength),_l=xa===this.JSON_ENCODING?JSON.parse(lo.decode(Cl)):Cl,Il={type:this.BROADCAST,event:wl,payload:_l};return uo>0&&(Il.meta=JSON.parse(Sl)),{join_ref:null,ref:null,topic:$a,event:this.BROADCAST,payload:Il}}_isArrayBuffer(is){var cs;return is instanceof ArrayBuffer||((cs=is==null?void 0:is.constructor)===null||cs===void 0?void 0:cs.name)==="ArrayBuffer"}}class Timer{constructor(is,cs){this.callback=is,this.timerCalc=cs,this.timer=void 0,this.tries=0,this.callback=is,this.timerCalc=cs}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(us){us.abstime="abstime",us.bool="bool",us.date="date",us.daterange="daterange",us.float4="float4",us.float8="float8",us.int2="int2",us.int4="int4",us.int4range="int4range",us.int8="int8",us.int8range="int8range",us.json="json",us.jsonb="jsonb",us.money="money",us.numeric="numeric",us.oid="oid",us.reltime="reltime",us.text="text",us.time="time",us.timestamp="timestamp",us.timestamptz="timestamptz",us.timetz="timetz",us.tsrange="tsrange",us.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(us,is,cs={})=>{var lo;const co=(lo=cs.skipTypes)!==null&&lo!==void 0?lo:[];return is?Object.keys(is).reduce((hs,uo)=>(hs[uo]=convertColumn(uo,us,is,co),hs),{}):{}},convertColumn=(us,is,cs,lo)=>{const co=is.find(xa=>xa.name===us),hs=co==null?void 0:co.type,uo=cs[us];return hs&&!lo.includes(hs)?convertCell(hs,uo):noop$1(uo)},convertCell=(us,is)=>{if(us.charAt(0)==="_"){const cs=us.slice(1,us.length);return toArray(is,cs)}switch(us){case PostgresTypes.bool:return toBoolean(is);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(is);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(is);case PostgresTypes.timestamp:return toTimestampString(is);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(is);default:return noop$1(is)}},noop$1=us=>us,toBoolean=us=>{switch(us){case"t":return!0;case"f":return!1;default:return us}},toNumber=us=>{if(typeof us=="string"){const is=parseFloat(us);if(!Number.isNaN(is))return is}return us},toJson=us=>{if(typeof us=="string")try{return JSON.parse(us)}catch(is){return console.log(`JSON parse error: ${is}`),us}return us},toArray=(us,is)=>{if(typeof us!="string")return us;const cs=us.length-1,lo=us[cs];if(us[0]==="{"&&lo==="}"){let hs;const uo=us.slice(1,cs);try{hs=JSON.parse("["+uo+"]")}catch{hs=uo?uo.split(","):[]}return hs.map(xa=>convertCell(is,xa))}return us},toTimestampString=us=>typeof us=="string"?us.replace(" ","T"):us,httpEndpointURL=us=>{const is=new URL(us);return is.protocol=is.protocol.replace(/^ws/i,"http"),is.pathname=is.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),is.pathname===""||is.pathname==="/"?is.pathname="/api/broadcast":is.pathname=is.pathname+"/api/broadcast",is.href};class Push{constructor(is,cs,lo={},co=DEFAULT_TIMEOUT){this.channel=is,this.event=cs,this.payload=lo,this.timeout=co,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(is){this.timeout=is,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(is){this.payload=Object.assign(Object.assign({},this.payload),is)}receive(is,cs){var lo;return this._hasReceived(is)&&cs((lo=this.receivedResp)===null||lo===void 0?void 0:lo.response),this.recHooks.push({status:is,callback:cs}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const is=cs=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=cs,this._matchReceive(cs)};this.channel._on(this.refEvent,{},is),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(is,cs){this.refEvent&&this.channel._trigger(this.refEvent,{status:is,response:cs})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:is,response:cs}){this.recHooks.filter(lo=>lo.status===is).forEach(lo=>lo.callback(cs))}_hasReceived(is){return this.receivedResp&&this.receivedResp.status===is}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(us){us.SYNC="sync",us.JOIN="join",us.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(is,cs){this.channel=is,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const lo=(cs==null?void 0:cs.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(lo.state,{},co=>{const{onJoin:hs,onLeave:uo,onSync:xa}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,co,hs,uo),this.pendingDiffs.forEach(ba=>{this.state=RealtimePresence.syncDiff(this.state,ba,hs,uo)}),this.pendingDiffs=[],xa()}),this.channel._on(lo.diff,{},co=>{const{onJoin:hs,onLeave:uo,onSync:xa}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(co):(this.state=RealtimePresence.syncDiff(this.state,co,hs,uo),xa())}),this.onJoin((co,hs,uo)=>{this.channel._trigger("presence",{event:"join",key:co,currentPresences:hs,newPresences:uo})}),this.onLeave((co,hs,uo)=>{this.channel._trigger("presence",{event:"leave",key:co,currentPresences:hs,leftPresences:uo})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(is,cs,lo,co){const hs=this.cloneDeep(is),uo=this.transformState(cs),xa={},ba={};return this.map(hs,($a,wl)=>{uo[$a]||(ba[$a]=wl)}),this.map(uo,($a,wl)=>{const Sl=hs[$a];if(Sl){const Cl=wl.map(Ml=>Ml.presence_ref),_l=Sl.map(Ml=>Ml.presence_ref),Il=wl.filter(Ml=>_l.indexOf(Ml.presence_ref)<0),Fl=Sl.filter(Ml=>Cl.indexOf(Ml.presence_ref)<0);Il.length>0&&(xa[$a]=Il),Fl.length>0&&(ba[$a]=Fl)}else xa[$a]=wl}),this.syncDiff(hs,{joins:xa,leaves:ba},lo,co)}static syncDiff(is,cs,lo,co){const{joins:hs,leaves:uo}={joins:this.transformState(cs.joins),leaves:this.transformState(cs.leaves)};return lo||(lo=()=>{}),co||(co=()=>{}),this.map(hs,(xa,ba)=>{var $a;const wl=($a=is[xa])!==null&&$a!==void 0?$a:[];if(is[xa]=this.cloneDeep(ba),wl.length>0){const Sl=is[xa].map(_l=>_l.presence_ref),Cl=wl.filter(_l=>Sl.indexOf(_l.presence_ref)<0);is[xa].unshift(...Cl)}lo(xa,wl,ba)}),this.map(uo,(xa,ba)=>{let $a=is[xa];if(!$a)return;const wl=ba.map(Sl=>Sl.presence_ref);$a=$a.filter(Sl=>wl.indexOf(Sl.presence_ref)<0),is[xa]=$a,co(xa,$a,ba),$a.length===0&&delete is[xa]}),is}static map(is,cs){return Object.getOwnPropertyNames(is).map(lo=>cs(lo,is[lo]))}static transformState(is){return is=this.cloneDeep(is),Object.getOwnPropertyNames(is).reduce((cs,lo)=>{const co=is[lo];return"metas"in co?cs[lo]=co.metas.map(hs=>(hs.presence_ref=hs.phx_ref,delete hs.phx_ref,delete hs.phx_ref_prev,hs)):cs[lo]=co,cs},{})}static cloneDeep(is){return JSON.parse(JSON.stringify(is))}onJoin(is){this.caller.onJoin=is}onLeave(is){this.caller.onLeave=is}onSync(is){this.caller.onSync=is}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(us){us.ALL="*",us.INSERT="INSERT",us.UPDATE="UPDATE",us.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(us){us.BROADCAST="broadcast",us.PRESENCE="presence",us.POSTGRES_CHANGES="postgres_changes",us.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(us){us.SUBSCRIBED="SUBSCRIBED",us.TIMED_OUT="TIMED_OUT",us.CLOSED="CLOSED",us.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(is,cs={config:{}},lo){var co,hs;if(this.topic=is,this.params=cs,this.socket=lo,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=is.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},cs.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(uo=>uo.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(uo=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,uo),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",uo=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,uo),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(uo,xa)=>{this._trigger(this._replyEventName(xa),uo)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((hs=(co=this.params.config)===null||co===void 0?void 0:co.broadcast)===null||hs===void 0)&&hs.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(is,cs=this.timeout){var lo,co,hs;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:uo,presence:xa,private:ba}}=this.params,$a=(co=(lo=this.bindings.postgres_changes)===null||lo===void 0?void 0:lo.map(_l=>_l.filter))!==null&&co!==void 0?co:[],wl=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((hs=this.params.config.presence)===null||hs===void 0?void 0:hs.enabled)===!0,Sl={},Cl={broadcast:uo,presence:Object.assign(Object.assign({},xa),{enabled:wl}),postgres_changes:$a,private:ba};this.socket.accessTokenValue&&(Sl.access_token=this.socket.accessTokenValue),this._onError(_l=>is==null?void 0:is(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,_l)),this._onClose(()=>is==null?void 0:is(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:Cl},Sl)),this.joinedOnce=!0,this._rejoin(cs),this.joinPush.receive("ok",async({postgres_changes:_l})=>{var Il;if(this.socket.setAuth(),_l===void 0){is==null||is(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const Fl=this.bindings.postgres_changes,Ml=(Il=Fl==null?void 0:Fl.length)!==null&&Il!==void 0?Il:0,Tl=[];for(let Dl=0;Dl<Ml;Dl++){const Bl=Fl[Dl],{filter:{event:Ll,schema:Nl,table:zl,filter:$l}}=Bl,Vl=_l&&_l[Dl];if(Vl&&Vl.event===Ll&&Vl.schema===Nl&&Vl.table===zl&&Vl.filter===$l)Tl.push(Object.assign(Object.assign({},Bl),{id:Vl.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,is==null||is(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Tl,is&&is(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",_l=>{this.state=CHANNEL_STATES.errored,is==null||is(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_l).join(", ")||"error")))}).receive("timeout",()=>{is==null||is(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(is,cs={}){return await this.send({type:"presence",event:"track",payload:is},cs.timeout||this.timeout)}async untrack(is={}){return await this.send({type:"presence",event:"untrack"},is)}on(is,cs,lo){return this.state===CHANNEL_STATES.joined&&is===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(is,cs,lo)}async httpSend(is,cs,lo={}){var co;const hs=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(cs==null)return Promise.reject("Payload is required for httpSend()");const uo={method:"POST",headers:{Authorization:hs,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:is,payload:cs,private:this.private}]})},xa=await this._fetchWithTimeout(this.broadcastEndpointURL,uo,(co=lo.timeout)!==null&&co!==void 0?co:this.timeout);if(xa.status===202)return{success:!0};let ba=xa.statusText;try{const $a=await xa.json();ba=$a.error||$a.message||ba}catch{}return Promise.reject(new Error(ba))}async send(is,cs={}){var lo,co;if(!this._canPush()&&is.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:hs,payload:uo}=is,ba={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:hs,payload:uo,private:this.private}]})};try{const $a=await this._fetchWithTimeout(this.broadcastEndpointURL,ba,(lo=cs.timeout)!==null&&lo!==void 0?lo:this.timeout);return await((co=$a.body)===null||co===void 0?void 0:co.cancel()),$a.ok?"ok":"error"}catch($a){return $a.name==="AbortError"?"timed out":"error"}}else return new Promise(hs=>{var uo,xa,ba;const $a=this._push(is.type,is,cs.timeout||this.timeout);is.type==="broadcast"&&!(!((ba=(xa=(uo=this.params)===null||uo===void 0?void 0:uo.config)===null||xa===void 0?void 0:xa.broadcast)===null||ba===void 0)&&ba.ack)&&hs("ok"),$a.receive("ok",()=>hs("ok")),$a.receive("error",()=>hs("error")),$a.receive("timeout",()=>hs("timed out"))})}updateJoinPayload(is){this.joinPush.updatePayload(is)}unsubscribe(is=this.timeout){this.state=CHANNEL_STATES.leaving;const cs=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let lo=null;return new Promise(co=>{lo=new Push(this,CHANNEL_EVENTS.leave,{},is),lo.receive("ok",()=>{cs(),co("ok")}).receive("timeout",()=>{cs(),co("timed out")}).receive("error",()=>{co("error")}),lo.send(),this._canPush()||lo.trigger("ok",{})}).finally(()=>{lo==null||lo.destroy()})}teardown(){this.pushBuffer.forEach(is=>is.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(is,cs,lo){const co=new AbortController,hs=setTimeout(()=>co.abort(),lo),uo=await this.socket.fetch(is,Object.assign(Object.assign({},cs),{signal:co.signal}));return clearTimeout(hs),uo}_push(is,cs,lo=this.timeout){if(!this.joinedOnce)throw`tried to push '${is}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let co=new Push(this,is,cs,lo);return this._canPush()?co.send():this._addToPushBuffer(co),co}_addToPushBuffer(is){if(is.startTimeout(),this.pushBuffer.push(is),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const cs=this.pushBuffer.shift();cs&&(cs.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${cs.event}`,cs.payload))}}_onMessage(is,cs,lo){return cs}_isMember(is){return this.topic===is}_joinRef(){return this.joinPush.ref}_trigger(is,cs,lo){var co,hs;const uo=is.toLocaleLowerCase(),{close:xa,error:ba,leave:$a,join:wl}=CHANNEL_EVENTS;if(lo&&[xa,ba,$a,wl].indexOf(uo)>=0&&lo!==this._joinRef())return;let Cl=this._onMessage(uo,cs,lo);if(cs&&!Cl)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(uo)?(co=this.bindings.postgres_changes)===null||co===void 0||co.filter(_l=>{var Il,Fl,Ml;return((Il=_l.filter)===null||Il===void 0?void 0:Il.event)==="*"||((Ml=(Fl=_l.filter)===null||Fl===void 0?void 0:Fl.event)===null||Ml===void 0?void 0:Ml.toLocaleLowerCase())===uo}).map(_l=>_l.callback(Cl,lo)):(hs=this.bindings[uo])===null||hs===void 0||hs.filter(_l=>{var Il,Fl,Ml,Tl,Dl,Bl;if(["broadcast","presence","postgres_changes"].includes(uo))if("id"in _l){const Ll=_l.id,Nl=(Il=_l.filter)===null||Il===void 0?void 0:Il.event;return Ll&&((Fl=cs.ids)===null||Fl===void 0?void 0:Fl.includes(Ll))&&(Nl==="*"||(Nl==null?void 0:Nl.toLocaleLowerCase())===((Ml=cs.data)===null||Ml===void 0?void 0:Ml.type.toLocaleLowerCase()))}else{const Ll=(Dl=(Tl=_l==null?void 0:_l.filter)===null||Tl===void 0?void 0:Tl.event)===null||Dl===void 0?void 0:Dl.toLocaleLowerCase();return Ll==="*"||Ll===((Bl=cs==null?void 0:cs.event)===null||Bl===void 0?void 0:Bl.toLocaleLowerCase())}else return _l.type.toLocaleLowerCase()===uo}).map(_l=>{if(typeof Cl=="object"&&"ids"in Cl){const Il=Cl.data,{schema:Fl,table:Ml,commit_timestamp:Tl,type:Dl,errors:Bl}=Il;Cl=Object.assign(Object.assign({},{schema:Fl,table:Ml,commit_timestamp:Tl,eventType:Dl,new:{},old:{},errors:Bl}),this._getPayloadRecords(Il))}_l.callback(Cl,lo)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(is){return`chan_reply_${is}`}_on(is,cs,lo){const co=is.toLocaleLowerCase(),hs={type:co,filter:cs,callback:lo};return this.bindings[co]?this.bindings[co].push(hs):this.bindings[co]=[hs],this}_off(is,cs){const lo=is.toLocaleLowerCase();return this.bindings[lo]&&(this.bindings[lo]=this.bindings[lo].filter(co=>{var hs;return!(((hs=co.type)===null||hs===void 0?void 0:hs.toLocaleLowerCase())===lo&&RealtimeChannel.isEqual(co.filter,cs))})),this}static isEqual(is,cs){if(Object.keys(is).length!==Object.keys(cs).length)return!1;for(const lo in is)if(is[lo]!==cs[lo])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(is){this._on(CHANNEL_EVENTS.close,{},is)}_onError(is){this._on(CHANNEL_EVENTS.error,{},cs=>is(cs))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(is=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(is))}_getPayloadRecords(is){const cs={new:{},old:{}};return(is.type==="INSERT"||is.type==="UPDATE")&&(cs.new=convertChangeData(is.columns,is.record)),(is.type==="UPDATE"||is.type==="DELETE")&&(cs.old=convertChangeData(is.columns,is.old_record)),cs}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(is,cs){var lo;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=co=>co?(...hs)=>co(...hs):(...hs)=>fetch(...hs),!(!((lo=cs==null?void 0:cs.params)===null||lo===void 0)&&lo.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=cs.params.apikey,this.endPoint=`${is}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(is),this._initializeOptions(cs),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(cs==null?void 0:cs.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(is){this._setConnectionState("disconnected");const cs=is.message;throw cs.includes("Node.js")?new Error(`${cs}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${cs}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(is,cs){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const lo=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(lo),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(is?this.conn.close(is,cs??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(is){const cs=await is.unsubscribe();return this.channels.length===0&&this.disconnect(),cs}async removeAllChannels(){const is=await Promise.all(this.channels.map(cs=>cs.unsubscribe()));return this.channels=[],this.disconnect(),is}log(is,cs,lo){this.logger(is,cs,lo)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(is,cs={config:{}}){const lo=`realtime:${is}`,co=this.getChannels().find(hs=>hs.topic===lo);if(co)return co;{const hs=new RealtimeChannel(`realtime:${is}`,cs,this);return this.channels.push(hs),hs}}push(is){const{topic:cs,event:lo,payload:co,ref:hs}=is,uo=()=>{this.encode(is,xa=>{var ba;(ba=this.conn)===null||ba===void 0||ba.send(xa)})};this.log("push",`${cs} ${lo} (${hs})`,co),this.isConnected()?uo():this.sendBuffer.push(uo)}async setAuth(is=null){this._authPromise=this._performAuth(is);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var is;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(cs){this.log("error","error in heartbeat callback",cs)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(cs){this.log("error","error in heartbeat callback",cs)}this._wasManualDisconnect=!1,(is=this.conn)===null||is===void 0||is.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var cs;this.isConnected()||(cs=this.reconnectTimer)===null||cs===void 0||cs.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(cs){this.log("error","error in heartbeat callback",cs)}this._setAuthSafely("heartbeat")}onHeartbeat(is){this.heartbeatCallback=is}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(is=>is()),this.sendBuffer=[])}_makeRef(){let is=this.ref+1;return is===this.ref?this.ref=0:this.ref=is,this.ref.toString()}_leaveOpenTopic(is){let cs=this.channels.find(lo=>lo.topic===is&&(lo._isJoined()||lo._isJoining()));cs&&(this.log("transport",`leaving duplicate topic "${is}"`),cs.unsubscribe())}_remove(is){this.channels=this.channels.filter(cs=>cs.topic!==is.topic)}_onConnMessage(is){this.decode(is.data,cs=>{if(cs.topic==="phoenix"&&cs.event==="phx_reply")try{this.heartbeatCallback(cs.payload.status==="ok"?"ok":"error")}catch($a){this.log("error","error in heartbeat callback",$a)}cs.ref&&cs.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:lo,event:co,payload:hs,ref:uo}=cs,xa=uo?`(${uo})`:"",ba=hs.status||"";this.log("receive",`${ba} ${lo} ${co} ${xa}`.trim(),hs),this.channels.filter($a=>$a._isMember(lo)).forEach($a=>$a._trigger(co,hs,uo)),this._triggerStateCallbacks("message",cs)})}_clearTimer(is){var cs;is==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):is==="reconnect"&&((cs=this.reconnectTimer)===null||cs===void 0||cs.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=is=>this._onConnError(is),this.conn.onmessage=is=>this._onConnMessage(is),this.conn.onclose=is=>this._onConnClose(is))}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(is){this.log("error","Error closing connection",is)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(is=>is.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(cs=>{this.log("error","error waiting for auth on connect",cs),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const is=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(is),this.workerRef.onerror=cs=>{this.log("worker","worker error",cs.message),this.workerRef.terminate()},this.workerRef.onmessage=cs=>{cs.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(is){var cs;this._setConnectionState("disconnected"),this.log("transport","close",is),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(cs=this.reconnectTimer)===null||cs===void 0||cs.scheduleTimeout(),this._triggerStateCallbacks("close",is)}_onConnError(is){this._setConnectionState("disconnected"),this.log("transport",`${is}`),this._triggerChanError(),this._triggerStateCallbacks("error",is)}_triggerChanError(){this.channels.forEach(is=>is._trigger(CHANNEL_EVENTS.error))}_appendParams(is,cs){if(Object.keys(cs).length===0)return is;const lo=is.match(/\?/)?"&":"?",co=new URLSearchParams(cs);return`${is}${lo}${co}`}_workerObjectUrl(is){let cs;if(is)cs=is;else{const lo=new Blob([WORKER_SCRIPT],{type:"application/javascript"});cs=URL.createObjectURL(lo)}return cs}_setConnectionState(is,cs=!1){this._connectionState=is,is==="connecting"?this._wasManualDisconnect=!1:is==="disconnecting"&&(this._wasManualDisconnect=cs)}async _performAuth(is=null){let cs;is?cs=is:this.accessToken?cs=await this.accessToken():cs=this.accessTokenValue,this.accessTokenValue!=cs&&(this.accessTokenValue=cs,this.channels.forEach(lo=>{const co={access_token:cs,version:DEFAULT_VERSION};cs&&lo.updateJoinPayload(co),lo.joinedOnce&&lo._isJoined()&&lo._push(CHANNEL_EVENTS.access_token,{access_token:cs})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(is="general"){this.setAuth().catch(cs=>{this.log("error",`error setting auth in ${is}`,cs)})}_triggerStateCallbacks(is,cs){try{this.stateChangeCallbacks[is].forEach(lo=>{try{lo(cs)}catch(co){this.log("error",`error in ${is} callback`,co)}})}catch(lo){this.log("error",`error triggering ${is} callbacks`,lo)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(is){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l;switch(this.transport=(cs=is==null?void 0:is.transport)!==null&&cs!==void 0?cs:null,this.timeout=(lo=is==null?void 0:is.timeout)!==null&&lo!==void 0?lo:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(co=is==null?void 0:is.heartbeatIntervalMs)!==null&&co!==void 0?co:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(hs=is==null?void 0:is.worker)!==null&&hs!==void 0?hs:!1,this.accessToken=(uo=is==null?void 0:is.accessToken)!==null&&uo!==void 0?uo:null,this.heartbeatCallback=(xa=is==null?void 0:is.heartbeatCallback)!==null&&xa!==void 0?xa:noop,this.vsn=(ba=is==null?void 0:is.vsn)!==null&&ba!==void 0?ba:DEFAULT_VSN,is!=null&&is.params&&(this.params=is.params),is!=null&&is.logger&&(this.logger=is.logger),(is!=null&&is.logLevel||is!=null&&is.log_level)&&(this.logLevel=is.logLevel||is.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=($a=is==null?void 0:is.reconnectAfterMs)!==null&&$a!==void 0?$a:Il=>RECONNECT_INTERVALS[Il-1]||DEFAULT_RECONNECT_FALLBACK,this.vsn){case VSN_1_0_0:this.encode=(wl=is==null?void 0:is.encode)!==null&&wl!==void 0?wl:(Il,Fl)=>Fl(JSON.stringify(Il)),this.decode=(Sl=is==null?void 0:is.decode)!==null&&Sl!==void 0?Sl:(Il,Fl)=>Fl(JSON.parse(Il));break;case VSN_2_0_0:this.encode=(Cl=is==null?void 0:is.encode)!==null&&Cl!==void 0?Cl:this.serializer.encode.bind(this.serializer),this.decode=(_l=is==null?void 0:is.decode)!==null&&_l!==void 0?_l:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=is==null?void 0:is.workerUrl}}}class StorageError extends Error{constructor(is){super(is),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(us){return typeof us=="object"&&us!==null&&"__isStorageError"in us}class StorageApiError extends StorageError{constructor(is,cs,lo){super(is),this.name="StorageApiError",this.status=cs,this.statusCode=lo}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(is,cs){super(is),this.name="StorageUnknownError",this.originalError=cs}}const resolveFetch$3=us=>us?(...is)=>us(...is):(...is)=>fetch(...is),resolveResponse=()=>Response,recursiveToCamel=us=>{if(Array.isArray(us))return us.map(cs=>recursiveToCamel(cs));if(typeof us=="function"||us!==Object(us))return us;const is={};return Object.entries(us).forEach(([cs,lo])=>{const co=cs.replace(/([-_][a-z])/gi,hs=>hs.toUpperCase().replace(/[-_]/g,""));is[co]=recursiveToCamel(lo)}),is},isPlainObject$1=us=>{if(typeof us!="object"||us===null)return!1;const is=Object.getPrototypeOf(us);return(is===null||is===Object.prototype||Object.getPrototypeOf(is)===null)&&!(Symbol.toStringTag in us)&&!(Symbol.iterator in us)},_getErrorMessage$2=us=>{var is;return us.msg||us.message||us.error_description||(typeof us.error=="string"?us.error:(is=us.error)===null||is===void 0?void 0:is.message)||JSON.stringify(us)},handleError$2=(us,is,cs)=>__awaiter(void 0,void 0,void 0,function*(){const lo=yield resolveResponse();us instanceof lo&&!(cs!=null&&cs.noResolveJson)?us.json().then(co=>{const hs=us.status||500,uo=(co==null?void 0:co.statusCode)||hs+"";is(new StorageApiError(_getErrorMessage$2(co),hs,uo))}).catch(co=>{is(new StorageUnknownError(_getErrorMessage$2(co),co))}):is(new StorageUnknownError(_getErrorMessage$2(us),us))}),_getRequestParams$2=(us,is,cs,lo)=>{const co={method:us,headers:(is==null?void 0:is.headers)||{}};return us==="GET"||!lo?co:(isPlainObject$1(lo)?(co.headers=Object.assign({"Content-Type":"application/json"},is==null?void 0:is.headers),co.body=JSON.stringify(lo)):co.body=lo,is!=null&&is.duplex&&(co.duplex=is.duplex),Object.assign(Object.assign({},co),cs))};function _handleRequest$2(us,is,cs,lo,co,hs){return __awaiter(this,void 0,void 0,function*(){return new Promise((uo,xa)=>{us(cs,_getRequestParams$2(is,lo,co,hs)).then(ba=>{if(!ba.ok)throw ba;return lo!=null&&lo.noResolveJson?ba:ba.json()}).then(ba=>uo(ba)).catch(ba=>handleError$2(ba,xa,lo))})})}function get(us,is,cs,lo){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(us,"GET",is,cs,lo)})}function post$1(us,is,cs,lo,co){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(us,"POST",is,lo,co,cs)})}function put(us,is,cs,lo,co){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(us,"PUT",is,lo,co,cs)})}function head(us,is,cs,lo){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(us,"HEAD",is,Object.assign(Object.assign({},cs),{noResolveJson:!0}),lo)})}function remove(us,is,cs,lo,co){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(us,"DELETE",is,lo,co,cs)})}class StreamDownloadBuilder{constructor(is,cs){this.downloadFn=is,this.shouldThrowOnError=cs}then(is,cs){return this.execute().then(is,cs)}execute(){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(is){if(this.shouldThrowOnError)throw is;if(isStorageError(is))return{data:null,error:is};throw is}})}}var _a;class BlobDownloadBuilder{constructor(is,cs){this.downloadFn=is,this.shouldThrowOnError=cs,this[_a]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(is,cs){return this.getPromise().then(is,cs)}catch(is){return this.getPromise().catch(is)}finally(is){return this.getPromise().finally(is)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(is){if(this.shouldThrowOnError)throw is;if(isStorageError(is))return{data:null,error:is};throw is}})}}_a=Symbol.toStringTag;const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(is,cs={},lo,co){this.shouldThrowOnError=!1,this.url=is,this.headers=cs,this.bucketId=lo,this.fetch=resolveFetch$3(co)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(is,cs,lo,co){return __awaiter(this,void 0,void 0,function*(){try{let hs;const uo=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),co);let xa=Object.assign(Object.assign({},this.headers),is==="POST"&&{"x-upsert":String(uo.upsert)});const ba=uo.metadata;typeof Blob<"u"&&lo instanceof Blob?(hs=new FormData,hs.append("cacheControl",uo.cacheControl),ba&&hs.append("metadata",this.encodeMetadata(ba)),hs.append("",lo)):typeof FormData<"u"&&lo instanceof FormData?(hs=lo,hs.has("cacheControl")||hs.append("cacheControl",uo.cacheControl),ba&&!hs.has("metadata")&&hs.append("metadata",this.encodeMetadata(ba))):(hs=lo,xa["cache-control"]=`max-age=${uo.cacheControl}`,xa["content-type"]=uo.contentType,ba&&(xa["x-metadata"]=this.toBase64(this.encodeMetadata(ba))),(typeof ReadableStream<"u"&&hs instanceof ReadableStream||hs&&typeof hs=="object"&&"pipe"in hs&&typeof hs.pipe=="function")&&!uo.duplex&&(uo.duplex="half")),co!=null&&co.headers&&(xa=Object.assign(Object.assign({},xa),co.headers));const $a=this._removeEmptyFolders(cs),wl=this._getFinalPath($a),Sl=yield(is=="PUT"?put:post$1)(this.fetch,`${this.url}/object/${wl}`,hs,Object.assign({headers:xa},uo!=null&&uo.duplex?{duplex:uo.duplex}:{}));return{data:{path:$a,id:Sl.Id,fullPath:Sl.Key},error:null}}catch(hs){if(this.shouldThrowOnError)throw hs;if(isStorageError(hs))return{data:null,error:hs};throw hs}})}upload(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",is,cs,lo)})}uploadToSignedUrl(is,cs,lo,co){return __awaiter(this,void 0,void 0,function*(){const hs=this._removeEmptyFolders(is),uo=this._getFinalPath(hs),xa=new URL(this.url+`/object/upload/sign/${uo}`);xa.searchParams.set("token",cs);try{let ba;const $a=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},co),wl=Object.assign(Object.assign({},this.headers),{"x-upsert":String($a.upsert)});typeof Blob<"u"&&lo instanceof Blob?(ba=new FormData,ba.append("cacheControl",$a.cacheControl),ba.append("",lo)):typeof FormData<"u"&&lo instanceof FormData?(ba=lo,ba.append("cacheControl",$a.cacheControl)):(ba=lo,wl["cache-control"]=`max-age=${$a.cacheControl}`,wl["content-type"]=$a.contentType);const Sl=yield put(this.fetch,xa.toString(),ba,{headers:wl});return{data:{path:hs,fullPath:Sl.Key},error:null}}catch(ba){if(this.shouldThrowOnError)throw ba;if(isStorageError(ba))return{data:null,error:ba};throw ba}})}createSignedUploadUrl(is,cs){return __awaiter(this,void 0,void 0,function*(){try{let lo=this._getFinalPath(is);const co=Object.assign({},this.headers);cs!=null&&cs.upsert&&(co["x-upsert"]="true");const hs=yield post$1(this.fetch,`${this.url}/object/upload/sign/${lo}`,{},{headers:co}),uo=new URL(this.url+hs.url),xa=uo.searchParams.get("token");if(!xa)throw new StorageError("No token returned by API");return{data:{signedUrl:uo.toString(),path:is,token:xa},error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageError(lo))return{data:null,error:lo};throw lo}})}update(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",is,cs,lo)})}move(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:is,destinationKey:cs,destinationBucket:lo==null?void 0:lo.destinationBucket},{headers:this.headers}),error:null}}catch(co){if(this.shouldThrowOnError)throw co;if(isStorageError(co))return{data:null,error:co};throw co}})}copy(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){try{return{data:{path:(yield post$1(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:is,destinationKey:cs,destinationBucket:lo==null?void 0:lo.destinationBucket},{headers:this.headers})).Key},error:null}}catch(co){if(this.shouldThrowOnError)throw co;if(isStorageError(co))return{data:null,error:co};throw co}})}createSignedUrl(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){try{let co=this._getFinalPath(is),hs=yield post$1(this.fetch,`${this.url}/object/sign/${co}`,Object.assign({expiresIn:cs},lo!=null&&lo.transform?{transform:lo.transform}:{}),{headers:this.headers});const uo=lo!=null&&lo.download?`&download=${lo.download===!0?"":lo.download}`:"";return hs={signedUrl:encodeURI(`${this.url}${hs.signedURL}${uo}`)},{data:hs,error:null}}catch(co){if(this.shouldThrowOnError)throw co;if(isStorageError(co))return{data:null,error:co};throw co}})}createSignedUrls(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){try{const co=yield post$1(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:cs,paths:is},{headers:this.headers}),hs=lo!=null&&lo.download?`&download=${lo.download===!0?"":lo.download}`:"";return{data:co.map(uo=>Object.assign(Object.assign({},uo),{signedUrl:uo.signedURL?encodeURI(`${this.url}${uo.signedURL}${hs}`):null})),error:null}}catch(co){if(this.shouldThrowOnError)throw co;if(isStorageError(co))return{data:null,error:co};throw co}})}download(is,cs){const co=typeof(cs==null?void 0:cs.transform)<"u"?"render/image/authenticated":"object",hs=this.transformOptsToQueryString((cs==null?void 0:cs.transform)||{}),uo=hs?`?${hs}`:"",xa=this._getFinalPath(is),ba=()=>get(this.fetch,`${this.url}/${co}/${xa}${uo}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(ba,this.shouldThrowOnError)}info(is){return __awaiter(this,void 0,void 0,function*(){const cs=this._getFinalPath(is);try{const lo=yield get(this.fetch,`${this.url}/object/info/${cs}`,{headers:this.headers});return{data:recursiveToCamel(lo),error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageError(lo))return{data:null,error:lo};throw lo}})}exists(is){return __awaiter(this,void 0,void 0,function*(){const cs=this._getFinalPath(is);try{return yield head(this.fetch,`${this.url}/object/${cs}`,{headers:this.headers}),{data:!0,error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageError(lo)&&lo instanceof StorageUnknownError){const co=lo.originalError;if([400,404].includes(co==null?void 0:co.status))return{data:!1,error:lo}}throw lo}})}getPublicUrl(is,cs){const lo=this._getFinalPath(is),co=[],hs=cs!=null&&cs.download?`download=${cs.download===!0?"":cs.download}`:"";hs!==""&&co.push(hs);const xa=typeof(cs==null?void 0:cs.transform)<"u"?"render/image":"object",ba=this.transformOptsToQueryString((cs==null?void 0:cs.transform)||{});ba!==""&&co.push(ba);let $a=co.join("&");return $a!==""&&($a=`?${$a}`),{data:{publicUrl:encodeURI(`${this.url}/${xa}/public/${lo}${$a}`)}}}remove(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:is},{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}list(is,cs,lo){return __awaiter(this,void 0,void 0,function*(){try{const co=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),cs),{prefix:is||""});return{data:yield post$1(this.fetch,`${this.url}/object/list/${this.bucketId}`,co,{headers:this.headers},lo),error:null}}catch(co){if(this.shouldThrowOnError)throw co;if(isStorageError(co))return{data:null,error:co};throw co}})}listV2(is,cs){return __awaiter(this,void 0,void 0,function*(){try{const lo=Object.assign({},is);return{data:yield post$1(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,lo,{headers:this.headers},cs),error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageError(lo))return{data:null,error:lo};throw lo}})}encodeMetadata(is){return JSON.stringify(is)}toBase64(is){return typeof Buffer<"u"?Buffer.from(is).toString("base64"):btoa(is)}_getFinalPath(is){return`${this.bucketId}/${is.replace(/^\/+/,"")}`}_removeEmptyFolders(is){return is.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(is){const cs=[];return is.width&&cs.push(`width=${is.width}`),is.height&&cs.push(`height=${is.height}`),is.resize&&cs.push(`resize=${is.resize}`),is.format&&cs.push(`format=${is.format}`),is.quality&&cs.push(`quality=${is.quality}`),cs.join("&")}}const version$2="2.81.1",DEFAULT_HEADERS$3={"X-Client-Info":`storage-js/${version$2}`};class StorageBucketApi{constructor(is,cs={},lo,co){this.shouldThrowOnError=!1;const hs=new URL(is);co!=null&&co.useNewHostname&&/supabase\.(co|in|red)$/.test(hs.hostname)&&!hs.hostname.includes("storage.supabase.")&&(hs.hostname=hs.hostname.replace("supabase.","storage.supabase.")),this.url=hs.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),cs),this.fetch=resolveFetch$3(lo)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(is){return __awaiter(this,void 0,void 0,function*(){try{const cs=this.listBucketOptionsToQueryString(is);return{data:yield get(this.fetch,`${this.url}/bucket${cs}`,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}getBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${is}`,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}createBucket(is){return __awaiter(this,arguments,void 0,function*(cs,lo={public:!1}){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{id:cs,name:cs,type:lo.type,public:lo.public,file_size_limit:lo.fileSizeLimit,allowed_mime_types:lo.allowedMimeTypes},{headers:this.headers}),error:null}}catch(co){if(this.shouldThrowOnError)throw co;if(isStorageError(co))return{data:null,error:co};throw co}})}updateBucket(is,cs){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${is}`,{id:is,name:is,public:cs.public,file_size_limit:cs.fileSizeLimit,allowed_mime_types:cs.allowedMimeTypes},{headers:this.headers}),error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageError(lo))return{data:null,error:lo};throw lo}})}emptyBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket/${is}/empty`,{},{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}deleteBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${is}`,{},{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}listBucketOptionsToQueryString(is){const cs={};return is&&("limit"in is&&(cs.limit=String(is.limit)),"offset"in is&&(cs.offset=String(is.offset)),is.search&&(cs.search=is.search),is.sortColumn&&(cs.sortColumn=is.sortColumn),is.sortOrder&&(cs.sortOrder=is.sortOrder)),Object.keys(cs).length>0?"?"+new URLSearchParams(cs).toString():""}}class StorageAnalyticsApi{constructor(is,cs={},lo){this.shouldThrowOnError=!1,this.url=is.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),cs),this.fetch=resolveFetch$3(lo)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{name:is},{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}listBuckets(is){return __awaiter(this,void 0,void 0,function*(){try{const cs=new URLSearchParams;(is==null?void 0:is.limit)!==void 0&&cs.set("limit",is.limit.toString()),(is==null?void 0:is.offset)!==void 0&&cs.set("offset",is.offset.toString()),is!=null&&is.sortColumn&&cs.set("sortColumn",is.sortColumn),is!=null&&is.sortOrder&&cs.set("sortOrder",is.sortOrder),is!=null&&is.search&&cs.set("search",is.search);const lo=cs.toString(),co=lo?`${this.url}/bucket?${lo}`:`${this.url}/bucket`;return{data:yield get(this.fetch,co,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}deleteBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${is}`,{},{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageError(cs))return{data:null,error:cs};throw cs}})}}const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};class StorageVectorsError extends Error{constructor(is){super(is),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function isStorageVectorsError(us){return typeof us=="object"&&us!==null&&"__isStorageVectorsError"in us}class StorageVectorsApiError extends StorageVectorsError{constructor(is,cs,lo){super(is),this.name="StorageVectorsApiError",this.status=cs,this.statusCode=lo}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageVectorsUnknownError extends StorageVectorsError{constructor(is,cs){super(is),this.name="StorageVectorsUnknownError",this.originalError=cs}}var StorageVectorsErrorCode;(function(us){us.InternalError="InternalError",us.S3VectorConflictException="S3VectorConflictException",us.S3VectorNotFoundException="S3VectorNotFoundException",us.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",us.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",us.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(StorageVectorsErrorCode||(StorageVectorsErrorCode={}));const resolveFetch$2=us=>us?(...is)=>us(...is):(...is)=>fetch(...is),isPlainObject=us=>{if(typeof us!="object"||us===null)return!1;const is=Object.getPrototypeOf(us);return(is===null||is===Object.prototype||Object.getPrototypeOf(is)===null)&&!(Symbol.toStringTag in us)&&!(Symbol.iterator in us)},_getErrorMessage$1=us=>us.msg||us.message||us.error_description||us.error||JSON.stringify(us),handleError$1=(us,is,cs)=>__awaiter(void 0,void 0,void 0,function*(){if(us&&typeof us=="object"&&"status"in us&&"ok"in us&&typeof us.status=="number"&&!(cs!=null&&cs.noResolveJson)){const co=us.status||500,hs=us;if(typeof hs.json=="function")hs.json().then(uo=>{const xa=(uo==null?void 0:uo.statusCode)||(uo==null?void 0:uo.code)||co+"";is(new StorageVectorsApiError(_getErrorMessage$1(uo),co,xa))}).catch(()=>{const uo=co+"",xa=hs.statusText||`HTTP ${co} error`;is(new StorageVectorsApiError(xa,co,uo))});else{const uo=co+"",xa=hs.statusText||`HTTP ${co} error`;is(new StorageVectorsApiError(xa,co,uo))}}else is(new StorageVectorsUnknownError(_getErrorMessage$1(us),us))}),_getRequestParams$1=(us,is,cs,lo)=>{const co={method:us,headers:(is==null?void 0:is.headers)||{}};return lo?(isPlainObject(lo)?(co.headers=Object.assign({"Content-Type":"application/json"},is==null?void 0:is.headers),co.body=JSON.stringify(lo)):co.body=lo,Object.assign(Object.assign({},co),cs)):co};function _handleRequest$1(us,is,cs,lo,co,hs){return __awaiter(this,void 0,void 0,function*(){return new Promise((uo,xa)=>{us(cs,_getRequestParams$1(is,lo,co,hs)).then(ba=>{if(!ba.ok)throw ba;if(lo!=null&&lo.noResolveJson)return ba;const $a=ba.headers.get("content-type");return!$a||!$a.includes("application/json")?{}:ba.json()}).then(ba=>uo(ba)).catch(ba=>handleError$1(ba,xa,lo))})})}function post(us,is,cs,lo,co){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$1(us,"POST",is,lo,co,cs)})}class VectorIndexApi{constructor(is,cs={},lo){this.shouldThrowOnError=!1,this.url=is.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),cs),this.fetch=resolveFetch$2(lo)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateIndex`,is,{headers:this.headers}))||{},error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}getIndex(is,cs){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:is,indexName:cs},{headers:this.headers}),error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageVectorsError(lo))return{data:null,error:lo};throw lo}})}listIndexes(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/ListIndexes`,is,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}deleteIndex(is,cs){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:is,indexName:cs},{headers:this.headers}))||{},error:null}}catch(lo){if(this.shouldThrowOnError)throw lo;if(isStorageVectorsError(lo))return{data:null,error:lo};throw lo}})}}class VectorDataApi{constructor(is,cs={},lo){this.shouldThrowOnError=!1,this.url=is.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),cs),this.fetch=resolveFetch$2(lo)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(is){return __awaiter(this,void 0,void 0,function*(){try{if(is.vectors.length<1||is.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/PutVectors`,is,{headers:this.headers}))||{},error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}getVectors(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectors`,is,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}listVectors(is){return __awaiter(this,void 0,void 0,function*(){try{if(is.segmentCount!==void 0){if(is.segmentCount<1||is.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(is.segmentIndex!==void 0&&(is.segmentIndex<0||is.segmentIndex>=is.segmentCount))throw new Error(`segmentIndex must be between 0 and ${is.segmentCount-1}`)}return{data:yield post(this.fetch,`${this.url}/ListVectors`,is,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}queryVectors(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/QueryVectors`,is,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}deleteVectors(is){return __awaiter(this,void 0,void 0,function*(){try{if(is.keys.length<1||is.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/DeleteVectors`,is,{headers:this.headers}))||{},error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}}class VectorBucketApi{constructor(is,cs={},lo){this.shouldThrowOnError=!1,this.url=is.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),cs),this.fetch=resolveFetch$2(lo)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:is},{headers:this.headers}))||{},error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}getBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:is},{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}listBuckets(){return __awaiter(this,arguments,void 0,function*(is={}){try{return{data:yield post(this.fetch,`${this.url}/ListVectorBuckets`,is,{headers:this.headers}),error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}deleteBucket(is){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:is},{headers:this.headers}))||{},error:null}}catch(cs){if(this.shouldThrowOnError)throw cs;if(isStorageVectorsError(cs))return{data:null,error:cs};throw cs}})}}class StorageVectorsClient extends VectorBucketApi{constructor(is,cs={}){super(is,cs.headers||{},cs.fetch)}from(is){return new VectorBucketScope(this.url,this.headers,is,this.fetch)}}class VectorBucketScope extends VectorIndexApi{constructor(is,cs,lo,co){super(is,cs,co),this.vectorBucketName=lo}createIndex(is){const cs=Object.create(null,{createIndex:{get:()=>super.createIndex}});return __awaiter(this,void 0,void 0,function*(){return cs.createIndex.call(this,Object.assign(Object.assign({},is),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const is=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return __awaiter(this,arguments,void 0,function*(cs={}){return is.listIndexes.call(this,Object.assign(Object.assign({},cs),{vectorBucketName:this.vectorBucketName}))})}getIndex(is){const cs=Object.create(null,{getIndex:{get:()=>super.getIndex}});return __awaiter(this,void 0,void 0,function*(){return cs.getIndex.call(this,this.vectorBucketName,is)})}deleteIndex(is){const cs=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return __awaiter(this,void 0,void 0,function*(){return cs.deleteIndex.call(this,this.vectorBucketName,is)})}index(is){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,is,this.fetch)}}class VectorIndexScope extends VectorDataApi{constructor(is,cs,lo,co,hs){super(is,cs,hs),this.vectorBucketName=lo,this.indexName=co}putVectors(is){const cs=Object.create(null,{putVectors:{get:()=>super.putVectors}});return __awaiter(this,void 0,void 0,function*(){return cs.putVectors.call(this,Object.assign(Object.assign({},is),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(is){const cs=Object.create(null,{getVectors:{get:()=>super.getVectors}});return __awaiter(this,void 0,void 0,function*(){return cs.getVectors.call(this,Object.assign(Object.assign({},is),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const is=Object.create(null,{listVectors:{get:()=>super.listVectors}});return __awaiter(this,arguments,void 0,function*(cs={}){return is.listVectors.call(this,Object.assign(Object.assign({},cs),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(is){const cs=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return __awaiter(this,void 0,void 0,function*(){return cs.queryVectors.call(this,Object.assign(Object.assign({},is),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(is){const cs=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return __awaiter(this,void 0,void 0,function*(){return cs.deleteVectors.call(this,Object.assign(Object.assign({},is),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class StorageClient extends StorageBucketApi{constructor(is,cs={},lo,co){super(is,cs,lo,co)}from(is){return new StorageFileApi(this.url,this.headers,is,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsApi(this.url+"/iceberg",this.headers,this.fetch)}}const version$1="2.81.1";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={},resolveFetch$1=us=>us?(...is)=>us(...is):(...is)=>fetch(...is),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(us,is,cs)=>{const lo=resolveFetch$1(cs),co=resolveHeadersConstructor();return async(hs,uo)=>{var xa;const ba=(xa=await is())!==null&&xa!==void 0?xa:us;let $a=new co(uo==null?void 0:uo.headers);return $a.has("apikey")||$a.set("apikey",us),$a.has("Authorization")||$a.set("Authorization",`Bearer ${ba}`),lo(hs,Object.assign(Object.assign({},uo),{headers:$a}))}};function ensureTrailingSlash(us){return us.endsWith("/")?us:us+"/"}function applySettingDefaults(us,is){var cs,lo;const{db:co,auth:hs,realtime:uo,global:xa}=us,{db:ba,auth:$a,realtime:wl,global:Sl}=is,Cl={db:Object.assign(Object.assign({},ba),co),auth:Object.assign(Object.assign({},$a),hs),realtime:Object.assign(Object.assign({},wl),uo),storage:{},global:Object.assign(Object.assign(Object.assign({},Sl),xa),{headers:Object.assign(Object.assign({},(cs=Sl==null?void 0:Sl.headers)!==null&&cs!==void 0?cs:{}),(lo=xa==null?void 0:xa.headers)!==null&&lo!==void 0?lo:{})}),accessToken:async()=>""};return us.accessToken?Cl.accessToken=us.accessToken:delete Cl.accessToken,Cl}function validateSupabaseUrl(us){const is=us==null?void 0:us.trim();if(!is)throw new Error("supabaseUrl is required.");if(!is.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(is))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version="2.81.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(is,cs,lo){super(is),this.__isAuthError=!0,this.name="AuthError",this.status=cs,this.code=lo}}function isAuthError(us){return typeof us=="object"&&us!==null&&"__isAuthError"in us}class AuthApiError extends AuthError{constructor(is,cs,lo){super(is,cs,lo),this.name="AuthApiError",this.status=cs,this.code=lo}}function isAuthApiError(us){return isAuthError(us)&&us.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(is,cs){super(is),this.name="AuthUnknownError",this.originalError=cs}}class CustomAuthError extends AuthError{constructor(is,cs,lo,co){super(is,lo,co),this.name=cs,this.status=lo}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(us){return isAuthError(us)&&us.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(is){super(is,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(is,cs=null){super(is,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=cs}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(us){return isAuthError(us)&&us.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(is,cs=null){super(is,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=cs}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(is,cs){super(is,"AuthRetryableFetchError",cs,void 0)}}function isAuthRetryableFetchError(us){return isAuthError(us)&&us.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(is,cs,lo){super(is,"AuthWeakPasswordError",cs,"weak_password"),this.reasons=lo}}class AuthInvalidJwtError extends CustomAuthError{constructor(is){super(is,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const us=new Array(128);for(let is=0;is<us.length;is+=1)us[is]=-1;for(let is=0;is<IGNORE_BASE64URL.length;is+=1)us[IGNORE_BASE64URL[is].charCodeAt(0)]=-2;for(let is=0;is<TO_BASE64URL.length;is+=1)us[TO_BASE64URL[is].charCodeAt(0)]=is;return us})();function byteToBase64URL(us,is,cs){if(us!==null)for(is.queue=is.queue<<8|us,is.queuedBits+=8;is.queuedBits>=6;){const lo=is.queue>>is.queuedBits-6&63;cs(TO_BASE64URL[lo]),is.queuedBits-=6}else if(is.queuedBits>0)for(is.queue=is.queue<<6-is.queuedBits,is.queuedBits=6;is.queuedBits>=6;){const lo=is.queue>>is.queuedBits-6&63;cs(TO_BASE64URL[lo]),is.queuedBits-=6}}function byteFromBase64URL(us,is,cs){const lo=FROM_BASE64URL[us];if(lo>-1)for(is.queue=is.queue<<6|lo,is.queuedBits+=6;is.queuedBits>=8;)cs(is.queue>>is.queuedBits-8&255),is.queuedBits-=8;else{if(lo===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(us)}"`)}}function stringFromBase64URL(us){const is=[],cs=uo=>{is.push(String.fromCodePoint(uo))},lo={utf8seq:0,codepoint:0},co={queue:0,queuedBits:0},hs=uo=>{stringFromUTF8(uo,lo,cs)};for(let uo=0;uo<us.length;uo+=1)byteFromBase64URL(us.charCodeAt(uo),co,hs);return is.join("")}function codepointToUTF8(us,is){if(us<=127){is(us);return}else if(us<=2047){is(192|us>>6),is(128|us&63);return}else if(us<=65535){is(224|us>>12),is(128|us>>6&63),is(128|us&63);return}else if(us<=1114111){is(240|us>>18),is(128|us>>12&63),is(128|us>>6&63),is(128|us&63);return}throw new Error(`Unrecognized Unicode codepoint: ${us.toString(16)}`)}function stringToUTF8(us,is){for(let cs=0;cs<us.length;cs+=1){let lo=us.charCodeAt(cs);if(lo>55295&&lo<=56319){const co=(lo-55296)*1024&65535;lo=(us.charCodeAt(cs+1)-56320&65535|co)+65536,cs+=1}codepointToUTF8(lo,is)}}function stringFromUTF8(us,is,cs){if(is.utf8seq===0){if(us<=127){cs(us);return}for(let lo=1;lo<6;lo+=1)if(!(us>>7-lo&1)){is.utf8seq=lo;break}if(is.utf8seq===2)is.codepoint=us&31;else if(is.utf8seq===3)is.codepoint=us&15;else if(is.utf8seq===4)is.codepoint=us&7;else throw new Error("Invalid UTF-8 sequence");is.utf8seq-=1}else if(is.utf8seq>0){if(us<=127)throw new Error("Invalid UTF-8 sequence");is.codepoint=is.codepoint<<6|us&63,is.utf8seq-=1,is.utf8seq===0&&cs(is.codepoint)}}function base64UrlToUint8Array(us){const is=[],cs={queue:0,queuedBits:0},lo=co=>{is.push(co)};for(let co=0;co<us.length;co+=1)byteFromBase64URL(us.charCodeAt(co),cs,lo);return new Uint8Array(is)}function stringToUint8Array(us){const is=[];return stringToUTF8(us,cs=>is.push(cs)),new Uint8Array(is)}function bytesToBase64URL(us){const is=[],cs={queue:0,queuedBits:0},lo=co=>{is.push(co)};return us.forEach(co=>byteToBase64URL(co,cs,lo)),byteToBase64URL(null,cs,lo),is.join("")}function expiresAt(us){return Math.round(Date.now()/1e3)+us}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const us=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(us,us),globalThis.localStorage.removeItem(us),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(us){const is={},cs=new URL(us);if(cs.hash&&cs.hash[0]==="#")try{new URLSearchParams(cs.hash.substring(1)).forEach((co,hs)=>{is[hs]=co})}catch{}return cs.searchParams.forEach((lo,co)=>{is[co]=lo}),is}const resolveFetch=us=>us?(...is)=>us(...is):(...is)=>fetch(...is),looksLikeFetchResponse=us=>typeof us=="object"&&us!==null&&"status"in us&&"ok"in us&&"json"in us&&typeof us.json=="function",setItemAsync=async(us,is,cs)=>{await us.setItem(is,JSON.stringify(cs))},getItemAsync=async(us,is)=>{const cs=await us.getItem(is);if(!cs)return null;try{return JSON.parse(cs)}catch{return cs}},removeItemAsync=async(us,is)=>{await us.removeItem(is)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((is,cs)=>{this.resolve=is,this.reject=cs})}}Deferred.promiseConstructor=Promise;function decodeJWT(us){const is=us.split(".");if(is.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let lo=0;lo<is.length;lo++)if(!BASE64URL_REGEX.test(is[lo]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(is[0])),payload:JSON.parse(stringFromBase64URL(is[1])),signature:base64UrlToUint8Array(is[2]),raw:{header:is[0],payload:is[1]}}}async function sleep(us){return await new Promise(is=>{setTimeout(()=>is(null),us)})}function retryable(us,is){return new Promise((lo,co)=>{(async()=>{for(let hs=0;hs<1/0;hs++)try{const uo=await us(hs);if(!is(hs,null,uo)){lo(uo);return}}catch(uo){if(!is(hs,uo)){co(uo);return}}})()})}function dec2hex(us){return("0"+us.toString(16)).substr(-2)}function generatePKCEVerifier(){const is=new Uint32Array(56);if(typeof crypto>"u"){const cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",lo=cs.length;let co="";for(let hs=0;hs<56;hs++)co+=cs.charAt(Math.floor(Math.random()*lo));return co}return crypto.getRandomValues(is),Array.from(is,dec2hex).join("")}async function sha256(us){const cs=new TextEncoder().encode(us),lo=await crypto.subtle.digest("SHA-256",cs),co=new Uint8Array(lo);return Array.from(co).map(hs=>String.fromCharCode(hs)).join("")}async function generatePKCEChallenge(us){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),us;const cs=await sha256(us);return btoa(cs).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(us,is,cs=!1){const lo=generatePKCEVerifier();let co=lo;cs&&(co+="/PASSWORD_RECOVERY"),await setItemAsync(us,`${is}-code-verifier`,co);const hs=await generatePKCEChallenge(lo);return[hs,lo===hs?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(us){const is=us.headers.get(API_VERSION_HEADER_NAME);if(!is||!is.match(API_VERSION_REGEX))return null;try{return new Date(`${is}T00:00:00.0Z`)}catch{return null}}function validateExp(us){if(!us)throw new Error("Missing exp claim");const is=Math.floor(Date.now()/1e3);if(us<=is)throw new Error("JWT has expired")}function getAlgorithm(us){switch(us){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(us){if(!UUID_REGEX.test(us))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const us={};return new Proxy(us,{get:(is,cs)=>{if(cs==="__isUserNotAvailableProxy")return!0;if(typeof cs=="symbol"){const lo=cs.toString();if(lo==="Symbol(Symbol.toPrimitive)"||lo==="Symbol(Symbol.toStringTag)"||lo==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${cs}" property of the session object is not supported. Please use getUser() instead.`)},set:(is,cs)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${cs}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(is,cs)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${cs}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(us,is){return new Proxy(us,{get:(cs,lo,co)=>{if(lo==="__isInsecureUserWarningProxy")return!0;if(typeof lo=="symbol"){const hs=lo.toString();if(hs==="Symbol(Symbol.toPrimitive)"||hs==="Symbol(Symbol.toStringTag)"||hs==="Symbol(util.inspect.custom)"||hs==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(cs,lo,co)}return!is.value&&typeof lo=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),is.value=!0),Reflect.get(cs,lo,co)}})}function deepClone(us){return JSON.parse(JSON.stringify(us))}const _getErrorMessage=us=>us.msg||us.message||us.error_description||us.error||JSON.stringify(us),NETWORK_ERROR_CODES=[502,503,504];async function handleError(us){var is;if(!looksLikeFetchResponse(us))throw new AuthRetryableFetchError(_getErrorMessage(us),0);if(NETWORK_ERROR_CODES.includes(us.status))throw new AuthRetryableFetchError(_getErrorMessage(us),us.status);let cs;try{cs=await us.json()}catch(hs){throw new AuthUnknownError(_getErrorMessage(hs),hs)}let lo;const co=parseResponseAPIVersion(us);if(co&&co.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof cs=="object"&&cs&&typeof cs.code=="string"?lo=cs.code:typeof cs=="object"&&cs&&typeof cs.error_code=="string"&&(lo=cs.error_code),lo){if(lo==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(cs),us.status,((is=cs.weak_password)===null||is===void 0?void 0:is.reasons)||[]);if(lo==="session_not_found")throw new AuthSessionMissingError}else if(typeof cs=="object"&&cs&&typeof cs.weak_password=="object"&&cs.weak_password&&Array.isArray(cs.weak_password.reasons)&&cs.weak_password.reasons.length&&cs.weak_password.reasons.reduce((hs,uo)=>hs&&typeof uo=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(cs),us.status,cs.weak_password.reasons);throw new AuthApiError(_getErrorMessage(cs),us.status||500,lo)}const _getRequestParams=(us,is,cs,lo)=>{const co={method:us,headers:(is==null?void 0:is.headers)||{}};return us==="GET"?co:(co.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},is==null?void 0:is.headers),co.body=JSON.stringify(lo),Object.assign(Object.assign({},co),cs))};async function _request(us,is,cs,lo){var co;const hs=Object.assign({},lo==null?void 0:lo.headers);hs[API_VERSION_HEADER_NAME]||(hs[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),lo!=null&&lo.jwt&&(hs.Authorization=`Bearer ${lo.jwt}`);const uo=(co=lo==null?void 0:lo.query)!==null&&co!==void 0?co:{};lo!=null&&lo.redirectTo&&(uo.redirect_to=lo.redirectTo);const xa=Object.keys(uo).length?"?"+new URLSearchParams(uo).toString():"",ba=await _handleRequest(us,is,cs+xa,{headers:hs,noResolveJson:lo==null?void 0:lo.noResolveJson},{},lo==null?void 0:lo.body);return lo!=null&&lo.xform?lo==null?void 0:lo.xform(ba):{data:Object.assign({},ba),error:null}}async function _handleRequest(us,is,cs,lo,co,hs){const uo=_getRequestParams(is,lo,co,hs);let xa;try{xa=await us(cs,Object.assign({},uo))}catch(ba){throw console.error(ba),new AuthRetryableFetchError(_getErrorMessage(ba),0)}if(xa.ok||await handleError(xa),lo!=null&&lo.noResolveJson)return xa;try{return await xa.json()}catch(ba){await handleError(ba)}}function _sessionResponse(us){var is;let cs=null;hasSession(us)&&(cs=Object.assign({},us),us.expires_at||(cs.expires_at=expiresAt(us.expires_in)));const lo=(is=us.user)!==null&&is!==void 0?is:us;return{data:{session:cs,user:lo},error:null}}function _sessionResponsePassword(us){const is=_sessionResponse(us);return!is.error&&us.weak_password&&typeof us.weak_password=="object"&&Array.isArray(us.weak_password.reasons)&&us.weak_password.reasons.length&&us.weak_password.message&&typeof us.weak_password.message=="string"&&us.weak_password.reasons.reduce((cs,lo)=>cs&&typeof lo=="string",!0)&&(is.data.weak_password=us.weak_password),is}function _userResponse(us){var is;return{data:{user:(is=us.user)!==null&&is!==void 0?is:us},error:null}}function _ssoResponse(us){return{data:us,error:null}}function _generateLinkResponse(us){const{action_link:is,email_otp:cs,hashed_token:lo,redirect_to:co,verification_type:hs}=us,uo=__rest(us,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),xa={action_link:is,email_otp:cs,hashed_token:lo,redirect_to:co,verification_type:hs},ba=Object.assign({},uo);return{data:{properties:xa,user:ba},error:null}}function _noResolveJsonResponse(us){return us}function hasSession(us){return us.access_token&&us.refresh_token&&us.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:is="",headers:cs={},fetch:lo}){this.url=is,this.headers=cs,this.fetch=resolveFetch(lo),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(is,cs=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(cs)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${cs}`,{headers:this.headers,jwt:is,noResolveJson:!0}),{data:null,error:null}}catch(lo){if(isAuthError(lo))return{data:null,error:lo};throw lo}}async inviteUserByEmail(is,cs={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:is,data:cs.data},headers:this.headers,redirectTo:cs.redirectTo,xform:_userResponse})}catch(lo){if(isAuthError(lo))return{data:{user:null},error:lo};throw lo}}async generateLink(is){try{const{options:cs}=is,lo=__rest(is,["options"]),co=Object.assign(Object.assign({},lo),cs);return"newEmail"in lo&&(co.new_email=lo==null?void 0:lo.newEmail,delete co.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:co,headers:this.headers,xform:_generateLinkResponse,redirectTo:cs==null?void 0:cs.redirectTo})}catch(cs){if(isAuthError(cs))return{data:{properties:null,user:null},error:cs};throw cs}}async createUser(is){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:is,headers:this.headers,xform:_userResponse})}catch(cs){if(isAuthError(cs))return{data:{user:null},error:cs};throw cs}}async listUsers(is){var cs,lo,co,hs,uo,xa,ba;try{const $a={nextPage:null,lastPage:0,total:0},wl=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(lo=(cs=is==null?void 0:is.page)===null||cs===void 0?void 0:cs.toString())!==null&&lo!==void 0?lo:"",per_page:(hs=(co=is==null?void 0:is.perPage)===null||co===void 0?void 0:co.toString())!==null&&hs!==void 0?hs:""},xform:_noResolveJsonResponse});if(wl.error)throw wl.error;const Sl=await wl.json(),Cl=(uo=wl.headers.get("x-total-count"))!==null&&uo!==void 0?uo:0,_l=(ba=(xa=wl.headers.get("link"))===null||xa===void 0?void 0:xa.split(","))!==null&&ba!==void 0?ba:[];return _l.length>0&&(_l.forEach(Il=>{const Fl=parseInt(Il.split(";")[0].split("=")[1].substring(0,1)),Ml=JSON.parse(Il.split(";")[1].split("=")[1]);$a[`${Ml}Page`]=Fl}),$a.total=parseInt(Cl)),{data:Object.assign(Object.assign({},Sl),$a),error:null}}catch($a){if(isAuthError($a))return{data:{users:[]},error:$a};throw $a}}async getUserById(is){validateUUID(is);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${is}`,{headers:this.headers,xform:_userResponse})}catch(cs){if(isAuthError(cs))return{data:{user:null},error:cs};throw cs}}async updateUserById(is,cs){validateUUID(is);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${is}`,{body:cs,headers:this.headers,xform:_userResponse})}catch(lo){if(isAuthError(lo))return{data:{user:null},error:lo};throw lo}}async deleteUser(is,cs=!1){validateUUID(is);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${is}`,{headers:this.headers,body:{should_soft_delete:cs},xform:_userResponse})}catch(lo){if(isAuthError(lo))return{data:{user:null},error:lo};throw lo}}async _listFactors(is){validateUUID(is.userId);try{const{data:cs,error:lo}=await _request(this.fetch,"GET",`${this.url}/admin/users/${is.userId}/factors`,{headers:this.headers,xform:co=>({data:{factors:co},error:null})});return{data:cs,error:lo}}catch(cs){if(isAuthError(cs))return{data:null,error:cs};throw cs}}async _deleteFactor(is){validateUUID(is.userId),validateUUID(is.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${is.userId}/factors/${is.id}`,{headers:this.headers}),error:null}}catch(cs){if(isAuthError(cs))return{data:null,error:cs};throw cs}}async _listOAuthClients(is){var cs,lo,co,hs,uo,xa,ba;try{const $a={nextPage:null,lastPage:0,total:0},wl=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(lo=(cs=is==null?void 0:is.page)===null||cs===void 0?void 0:cs.toString())!==null&&lo!==void 0?lo:"",per_page:(hs=(co=is==null?void 0:is.perPage)===null||co===void 0?void 0:co.toString())!==null&&hs!==void 0?hs:""},xform:_noResolveJsonResponse});if(wl.error)throw wl.error;const Sl=await wl.json(),Cl=(uo=wl.headers.get("x-total-count"))!==null&&uo!==void 0?uo:0,_l=(ba=(xa=wl.headers.get("link"))===null||xa===void 0?void 0:xa.split(","))!==null&&ba!==void 0?ba:[];return _l.length>0&&(_l.forEach(Il=>{const Fl=parseInt(Il.split(";")[0].split("=")[1].substring(0,1)),Ml=JSON.parse(Il.split(";")[1].split("=")[1]);$a[`${Ml}Page`]=Fl}),$a.total=parseInt(Cl)),{data:Object.assign(Object.assign({},Sl),$a),error:null}}catch($a){if(isAuthError($a))return{data:{clients:[]},error:$a};throw $a}}async _createOAuthClient(is){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:is,headers:this.headers,xform:cs=>({data:cs,error:null})})}catch(cs){if(isAuthError(cs))return{data:null,error:cs};throw cs}}async _getOAuthClient(is){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${is}`,{headers:this.headers,xform:cs=>({data:cs,error:null})})}catch(cs){if(isAuthError(cs))return{data:null,error:cs};throw cs}}async _updateOAuthClient(is,cs){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${is}`,{body:cs,headers:this.headers,xform:lo=>({data:lo,error:null})})}catch(lo){if(isAuthError(lo))return{data:null,error:lo};throw lo}}async _deleteOAuthClient(is){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${is}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(cs){if(isAuthError(cs))return{data:null,error:cs};throw cs}}async _regenerateOAuthClientSecret(is){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${is}/regenerate_secret`,{headers:this.headers,xform:cs=>({data:cs,error:null})})}catch(cs){if(isAuthError(cs))return{data:null,error:cs};throw cs}}}function memoryLocalStorageAdapter(us={}){return{getItem:is=>us[is]||null,setItem:(is,cs)=>{us[is]=cs},removeItem:is=>{delete us[is]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(is){super(is),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(us,is,cs){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",us,is);const lo=new globalThis.AbortController;return is>0&&setTimeout(()=>{lo.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",us)},is),await Promise.resolve().then(()=>globalThis.navigator.locks.request(us,is===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:lo.signal},async co=>{if(co){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",us,co.name);try{return await cs()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",us,co.name)}}else{if(is===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",us),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${us}" immediately failed`);if(internals.debug)try{const hs=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(hs,null,"  "))}catch(hs){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",hs)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await cs()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(us){if(!/^0x[a-fA-F0-9]{40}$/.test(us))throw new Error(`@supabase/auth-js: Address "${us}" is invalid.`);return us.toLowerCase()}function fromHex(us){return parseInt(us,16)}function toHex(us){const is=new TextEncoder().encode(us);return"0x"+Array.from(is,lo=>lo.toString(16).padStart(2,"0")).join("")}function createSiweMessage(us){var is;const{chainId:cs,domain:lo,expirationTime:co,issuedAt:hs=new Date,nonce:uo,notBefore:xa,requestId:ba,resources:$a,scheme:wl,uri:Sl,version:Cl}=us;{if(!Number.isInteger(cs))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${cs}`);if(!lo)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(uo&&uo.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${uo}`);if(!Sl)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(Cl!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${Cl}`);if(!((is=us.statement)===null||is===void 0)&&is.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${us.statement}`)}const _l=getAddress(us.address),Il=wl?`${wl}://${lo}`:lo,Fl=us.statement?`${us.statement}
`:"",Ml=`${Il} wants you to sign in with your Ethereum account:
${_l}

${Fl}`;let Tl=`URI: ${Sl}
Version: ${Cl}
Chain ID: ${cs}${uo?`
Nonce: ${uo}`:""}
Issued At: ${hs.toISOString()}`;if(co&&(Tl+=`
Expiration Time: ${co.toISOString()}`),xa&&(Tl+=`
Not Before: ${xa.toISOString()}`),ba&&(Tl+=`
Request ID: ${ba}`),$a){let Dl=`
Resources:`;for(const Bl of $a){if(!Bl||typeof Bl!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Bl}`);Dl+=`
- ${Bl}`}Tl+=Dl}return`${Ml}
${Tl}`}class WebAuthnError extends Error{constructor({message:is,code:cs,cause:lo,name:co}){var hs;super(is,{cause:lo}),this.__isWebAuthnError=!0,this.name=(hs=co??(lo instanceof Error?lo.name:void 0))!==null&&hs!==void 0?hs:"Unknown Error",this.code=cs}}class WebAuthnUnknownError extends WebAuthnError{constructor(is,cs){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:cs,message:is}),this.name="WebAuthnUnknownError",this.originalError=cs}}function identifyRegistrationError({error:us,options:is}){var cs,lo,co;const{publicKey:hs}=is;if(!hs)throw Error("options was missing required publicKey property");if(us.name==="AbortError"){if(is.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:us})}else if(us.name==="ConstraintError"){if(((cs=hs.authenticatorSelection)===null||cs===void 0?void 0:cs.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:us});if(is.mediation==="conditional"&&((lo=hs.authenticatorSelection)===null||lo===void 0?void 0:lo.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:us});if(((co=hs.authenticatorSelection)===null||co===void 0?void 0:co.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:us})}else{if(us.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:us});if(us.name==="NotAllowedError")return new WebAuthnError({message:us.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:us});if(us.name==="NotSupportedError")return hs.pubKeyCredParams.filter(xa=>xa.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:us}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:us});if(us.name==="SecurityError"){const uo=window.location.hostname;if(isValidDomain(uo)){if(hs.rp.id!==uo)return new WebAuthnError({message:`The RP ID "${hs.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:us})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:us})}else if(us.name==="TypeError"){if(hs.user.id.byteLength<1||hs.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:us})}else if(us.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:us})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:us})}function identifyAuthenticationError({error:us,options:is}){const{publicKey:cs}=is;if(!cs)throw Error("options was missing required publicKey property");if(us.name==="AbortError"){if(is.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:us})}else{if(us.name==="NotAllowedError")return new WebAuthnError({message:us.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:us});if(us.name==="SecurityError"){const lo=window.location.hostname;if(isValidDomain(lo)){if(cs.rpId!==lo)return new WebAuthnError({message:`The RP ID "${cs.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:us})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:us})}else if(us.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:us})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:us})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const cs=new Error("Cancelling existing WebAuthn API call for new one");cs.name="AbortError",this.controller.abort(cs)}const is=new AbortController;return this.controller=is,is.signal}cancelCeremony(){if(this.controller){const is=new Error("Manually cancelling existing WebAuthn API call");is.name="AbortError",this.controller.abort(is),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(us){if(!us)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(us);const{challenge:is,user:cs,excludeCredentials:lo}=us,co=__rest(us,["challenge","user","excludeCredentials"]),hs=base64UrlToUint8Array(is).buffer,uo=Object.assign(Object.assign({},cs),{id:base64UrlToUint8Array(cs.id).buffer}),xa=Object.assign(Object.assign({},co),{challenge:hs,user:uo});if(lo&&lo.length>0){xa.excludeCredentials=new Array(lo.length);for(let ba=0;ba<lo.length;ba++){const $a=lo[ba];xa.excludeCredentials[ba]=Object.assign(Object.assign({},$a),{id:base64UrlToUint8Array($a.id).buffer,type:$a.type||"public-key",transports:$a.transports})}}return xa}function deserializeCredentialRequestOptions(us){if(!us)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(us);const{challenge:is,allowCredentials:cs}=us,lo=__rest(us,["challenge","allowCredentials"]),co=base64UrlToUint8Array(is).buffer,hs=Object.assign(Object.assign({},lo),{challenge:co});if(cs&&cs.length>0){hs.allowCredentials=new Array(cs.length);for(let uo=0;uo<cs.length;uo++){const xa=cs[uo];hs.allowCredentials[uo]=Object.assign(Object.assign({},xa),{id:base64UrlToUint8Array(xa.id).buffer,type:xa.type||"public-key",transports:xa.transports})}}return hs}function serializeCredentialCreationResponse(us){var is;if("toJSON"in us&&typeof us.toJSON=="function")return us.toJSON();const cs=us;return{id:us.id,rawId:us.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(us.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(us.response.clientDataJSON))},type:"public-key",clientExtensionResults:us.getClientExtensionResults(),authenticatorAttachment:(is=cs.authenticatorAttachment)!==null&&is!==void 0?is:void 0}}function serializeCredentialRequestResponse(us){var is;if("toJSON"in us&&typeof us.toJSON=="function")return us.toJSON();const cs=us,lo=us.getClientExtensionResults(),co=us.response;return{id:us.id,rawId:us.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(co.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(co.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(co.signature)),userHandle:co.userHandle?bytesToBase64URL(new Uint8Array(co.userHandle)):void 0},type:"public-key",clientExtensionResults:lo,authenticatorAttachment:(is=cs.authenticatorAttachment)!==null&&is!==void 0?is:void 0}}function isValidDomain(us){return us==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(us)}function browserSupportsWebAuthn(){var us,is;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((us=navigator==null?void 0:navigator.credentials)===null||us===void 0?void 0:us.create)=="function"&&typeof((is=navigator==null?void 0:navigator.credentials)===null||is===void 0?void 0:is.get)=="function")}async function createCredential(us){try{const is=await navigator.credentials.create(us);return is?is instanceof PublicKeyCredential?{data:is,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",is)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",is)}}catch(is){return{data:null,error:identifyRegistrationError({error:is,options:us})}}}async function getCredential(us){try{const is=await navigator.credentials.get(us);return is?is instanceof PublicKeyCredential?{data:is,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",is)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",is)}}catch(is){return{data:null,error:identifyAuthenticationError({error:is,options:us})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...us){const is=co=>co!==null&&typeof co=="object"&&!Array.isArray(co),cs=co=>co instanceof ArrayBuffer||ArrayBuffer.isView(co),lo={};for(const co of us)if(co)for(const hs in co){const uo=co[hs];if(uo!==void 0)if(Array.isArray(uo))lo[hs]=uo;else if(cs(uo))lo[hs]=uo;else if(is(uo)){const xa=lo[hs];is(xa)?lo[hs]=deepMerge(xa,uo):lo[hs]=deepMerge(uo)}else lo[hs]=uo}return lo}function mergeCredentialCreationOptions(us,is){return deepMerge(DEFAULT_CREATION_OPTIONS,us,is||{})}function mergeCredentialRequestOptions(us,is){return deepMerge(DEFAULT_REQUEST_OPTIONS,us,is||{})}class WebAuthnApi{constructor(is){this.client=is,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(is){return this.client.mfa.enroll(Object.assign(Object.assign({},is),{factorType:"webauthn"}))}async _challenge({factorId:is,webauthn:cs,friendlyName:lo,signal:co},hs){try{const{data:uo,error:xa}=await this.client.mfa.challenge({factorId:is,webauthn:cs});if(!uo)return{data:null,error:xa};const ba=co??webAuthnAbortService.createNewAbortSignal();if(uo.webauthn.type==="create"){const{user:$a}=uo.webauthn.credential_options.publicKey;$a.name||($a.name=`${$a.id}:${lo}`),$a.displayName||($a.displayName=$a.name)}switch(uo.webauthn.type){case"create":{const $a=mergeCredentialCreationOptions(uo.webauthn.credential_options.publicKey,hs==null?void 0:hs.create),{data:wl,error:Sl}=await createCredential({publicKey:$a,signal:ba});return wl?{data:{factorId:is,challengeId:uo.id,webauthn:{type:uo.webauthn.type,credential_response:wl}},error:null}:{data:null,error:Sl}}case"request":{const $a=mergeCredentialRequestOptions(uo.webauthn.credential_options.publicKey,hs==null?void 0:hs.request),{data:wl,error:Sl}=await getCredential(Object.assign(Object.assign({},uo.webauthn.credential_options),{publicKey:$a,signal:ba}));return wl?{data:{factorId:is,challengeId:uo.id,webauthn:{type:uo.webauthn.type,credential_response:wl}},error:null}:{data:null,error:Sl}}}}catch(uo){return isAuthError(uo)?{data:null,error:uo}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",uo)}}}async _verify({challengeId:is,factorId:cs,webauthn:lo}){return this.client.mfa.verify({factorId:cs,challengeId:is,webauthn:lo})}async _authenticate({factorId:is,webauthn:{rpId:cs=typeof window<"u"?window.location.hostname:void 0,rpOrigins:lo=typeof window<"u"?[window.location.origin]:void 0,signal:co}={}},hs){if(!cs)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:uo,error:xa}=await this.challenge({factorId:is,webauthn:{rpId:cs,rpOrigins:lo},signal:co},{request:hs});if(!uo)return{data:null,error:xa};const{webauthn:ba}=uo;return this._verify({factorId:is,challengeId:uo.challengeId,webauthn:{type:ba.type,rpId:cs,rpOrigins:lo,credential_response:ba.credential_response}})}catch(uo){return isAuthError(uo)?{data:null,error:uo}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",uo)}}}async _register({friendlyName:is,webauthn:{rpId:cs=typeof window<"u"?window.location.hostname:void 0,rpOrigins:lo=typeof window<"u"?[window.location.origin]:void 0,signal:co}={}},hs){if(!cs)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:uo,error:xa}=await this._enroll({friendlyName:is});if(!uo)return await this.client.mfa.listFactors().then(wl=>{var Sl;return(Sl=wl.data)===null||Sl===void 0?void 0:Sl.all.find(Cl=>Cl.factor_type==="webauthn"&&Cl.friendly_name===is&&Cl.status!=="unverified")}).then(wl=>wl?this.client.mfa.unenroll({factorId:wl==null?void 0:wl.id}):void 0),{data:null,error:xa};const{data:ba,error:$a}=await this._challenge({factorId:uo.id,friendlyName:uo.friendly_name,webauthn:{rpId:cs,rpOrigins:lo},signal:co},{create:hs});return ba?this._verify({factorId:uo.id,challengeId:ba.challengeId,webauthn:{rpId:cs,rpOrigins:lo,type:ba.webauthn.type,credential_response:ba.webauthn.credential_response}}):{data:null,error:$a}}catch(uo){return isAuthError(uo)?{data:null,error:uo}:{data:null,error:new AuthUnknownError("Unexpected error in register",uo)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lockNoOp(us,is,cs){return await cs()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var is,cs;return(cs=(is=GLOBAL_JWKS[this.storageKey])===null||is===void 0?void 0:is.jwks)!==null&&cs!==void 0?cs:{keys:[]}}set jwks(is){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:is})}get jwks_cached_at(){var is,cs;return(cs=(is=GLOBAL_JWKS[this.storageKey])===null||is===void 0?void 0:is.cachedAt)!==null&&cs!==void 0?cs:Number.MIN_SAFE_INTEGER}set jwks_cached_at(is){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:is})}constructor(is){var cs,lo,co;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const hs=Object.assign(Object.assign({},DEFAULT_OPTIONS),is);if(this.storageKey=hs.storageKey,this.instanceID=(cs=GoTrueClient.nextInstanceID[this.storageKey])!==null&&cs!==void 0?cs:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!hs.debug,typeof hs.debug=="function"&&(this.logger=hs.debug),this.instanceID>0&&isBrowser()){const uo=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(uo),this.logDebugMessages&&console.trace(uo)}if(this.persistSession=hs.persistSession,this.autoRefreshToken=hs.autoRefreshToken,this.admin=new GoTrueAdminApi({url:hs.url,headers:hs.headers,fetch:hs.fetch}),this.url=hs.url,this.headers=hs.headers,this.fetch=resolveFetch(hs.fetch),this.lock=hs.lock||lockNoOp,this.detectSessionInUrl=hs.detectSessionInUrl,this.flowType=hs.flowType,this.hasCustomAuthorizationHeader=hs.hasCustomAuthorizationHeader,this.throwOnError=hs.throwOnError,hs.lock?this.lock=hs.lock:isBrowser()&&(!((lo=globalThis==null?void 0:globalThis.navigator)===null||lo===void 0)&&lo.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(hs.storage?this.storage=hs.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),hs.userStorage&&(this.userStorage=hs.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(uo){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",uo)}(co=this.broadcastChannel)===null||co===void 0||co.addEventListener("message",async uo=>{this._debug("received broadcast notification from other tab or client",uo),await this._notifyAllSubscribers(uo.data.event,uo.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(is){if(this.throwOnError&&is&&is.error)throw is.error;return is}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version}) ${new Date().toISOString()}`}_debug(...is){return this.logDebugMessages&&this.logger(this._logPrefix(),...is),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var is;try{let cs={},lo="none";if(isBrowser()&&(cs=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(cs)?lo="implicit":await this._isPKCECallback(cs)&&(lo="pkce")),isBrowser()&&this.detectSessionInUrl&&lo!=="none"){const{data:co,error:hs}=await this._getSessionFromURL(cs,lo);if(hs){if(this._debug("#_initialize()","error detecting session from URL",hs),isAuthImplicitGrantRedirectError(hs)){const ba=(is=hs.details)===null||is===void 0?void 0:is.code;if(ba==="identity_already_exists"||ba==="identity_not_found"||ba==="single_identity_not_deletable")return{error:hs}}return await this._removeSession(),{error:hs}}const{session:uo,redirectType:xa}=co;return this._debug("#_initialize()","detected session in URL",uo,"redirect type",xa),await this._saveSession(uo),setTimeout(async()=>{xa==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",uo):await this._notifyAllSubscribers("SIGNED_IN",uo)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(cs){return isAuthError(cs)?this._returnResult({error:cs}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",cs)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(is){var cs,lo,co;try{const hs=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(lo=(cs=is==null?void 0:is.options)===null||cs===void 0?void 0:cs.data)!==null&&lo!==void 0?lo:{},gotrue_meta_security:{captcha_token:(co=is==null?void 0:is.options)===null||co===void 0?void 0:co.captchaToken}},xform:_sessionResponse}),{data:uo,error:xa}=hs;if(xa||!uo)return this._returnResult({data:{user:null,session:null},error:xa});const ba=uo.session,$a=uo.user;return uo.session&&(await this._saveSession(uo.session),await this._notifyAllSubscribers("SIGNED_IN",ba)),this._returnResult({data:{user:$a,session:ba},error:null})}catch(hs){if(isAuthError(hs))return this._returnResult({data:{user:null,session:null},error:hs});throw hs}}async signUp(is){var cs,lo,co;try{let hs;if("email"in is){const{email:wl,password:Sl,options:Cl}=is;let _l=null,Il=null;this.flowType==="pkce"&&([_l,Il]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),hs=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:Cl==null?void 0:Cl.emailRedirectTo,body:{email:wl,password:Sl,data:(cs=Cl==null?void 0:Cl.data)!==null&&cs!==void 0?cs:{},gotrue_meta_security:{captcha_token:Cl==null?void 0:Cl.captchaToken},code_challenge:_l,code_challenge_method:Il},xform:_sessionResponse})}else if("phone"in is){const{phone:wl,password:Sl,options:Cl}=is;hs=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:wl,password:Sl,data:(lo=Cl==null?void 0:Cl.data)!==null&&lo!==void 0?lo:{},channel:(co=Cl==null?void 0:Cl.channel)!==null&&co!==void 0?co:"sms",gotrue_meta_security:{captcha_token:Cl==null?void 0:Cl.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:uo,error:xa}=hs;if(xa||!uo)return this._returnResult({data:{user:null,session:null},error:xa});const ba=uo.session,$a=uo.user;return uo.session&&(await this._saveSession(uo.session),await this._notifyAllSubscribers("SIGNED_IN",ba)),this._returnResult({data:{user:$a,session:ba},error:null})}catch(hs){if(isAuthError(hs))return this._returnResult({data:{user:null,session:null},error:hs});throw hs}}async signInWithPassword(is){try{let cs;if("email"in is){const{email:hs,password:uo,options:xa}=is;cs=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:hs,password:uo,gotrue_meta_security:{captcha_token:xa==null?void 0:xa.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in is){const{phone:hs,password:uo,options:xa}=is;cs=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:hs,password:uo,gotrue_meta_security:{captcha_token:xa==null?void 0:xa.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:lo,error:co}=cs;if(co)return this._returnResult({data:{user:null,session:null},error:co});if(!lo||!lo.session||!lo.user){const hs=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:hs})}return lo.session&&(await this._saveSession(lo.session),await this._notifyAllSubscribers("SIGNED_IN",lo.session)),this._returnResult({data:Object.assign({user:lo.user,session:lo.session},lo.weak_password?{weakPassword:lo.weak_password}:null),error:co})}catch(cs){if(isAuthError(cs))return this._returnResult({data:{user:null,session:null},error:cs});throw cs}}async signInWithOAuth(is){var cs,lo,co,hs;return await this._handleProviderSignIn(is.provider,{redirectTo:(cs=is.options)===null||cs===void 0?void 0:cs.redirectTo,scopes:(lo=is.options)===null||lo===void 0?void 0:lo.scopes,queryParams:(co=is.options)===null||co===void 0?void 0:co.queryParams,skipBrowserRedirect:(hs=is.options)===null||hs===void 0?void 0:hs.skipBrowserRedirect})}async exchangeCodeForSession(is){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(is))}async signInWithWeb3(is){const{chain:cs}=is;switch(cs){case"ethereum":return await this.signInWithEthereum(is);case"solana":return await this.signInWithSolana(is);default:throw new Error(`@supabase/auth-js: Unsupported chain "${cs}"`)}}async signInWithEthereum(is){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl;let _l,Il;if("message"in is)_l=is.message,Il=is.signature;else{const{chain:Fl,wallet:Ml,statement:Tl,options:Dl}=is;let Bl;if(isBrowser())if(typeof Ml=="object")Bl=Ml;else{const Gl=window;if("ethereum"in Gl&&typeof Gl.ethereum=="object"&&"request"in Gl.ethereum&&typeof Gl.ethereum.request=="function")Bl=Gl.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Ml!="object"||!(Dl!=null&&Dl.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Bl=Ml}const Ll=new URL((cs=Dl==null?void 0:Dl.url)!==null&&cs!==void 0?cs:window.location.href),Nl=await Bl.request({method:"eth_requestAccounts"}).then(Gl=>Gl).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Nl||Nl.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const zl=getAddress(Nl[0]);let $l=(lo=Dl==null?void 0:Dl.signInWithEthereum)===null||lo===void 0?void 0:lo.chainId;if(!$l){const Gl=await Bl.request({method:"eth_chainId"});$l=fromHex(Gl)}const Vl={domain:Ll.host,address:zl,statement:Tl,uri:Ll.href,version:"1",chainId:$l,nonce:(co=Dl==null?void 0:Dl.signInWithEthereum)===null||co===void 0?void 0:co.nonce,issuedAt:(uo=(hs=Dl==null?void 0:Dl.signInWithEthereum)===null||hs===void 0?void 0:hs.issuedAt)!==null&&uo!==void 0?uo:new Date,expirationTime:(xa=Dl==null?void 0:Dl.signInWithEthereum)===null||xa===void 0?void 0:xa.expirationTime,notBefore:(ba=Dl==null?void 0:Dl.signInWithEthereum)===null||ba===void 0?void 0:ba.notBefore,requestId:($a=Dl==null?void 0:Dl.signInWithEthereum)===null||$a===void 0?void 0:$a.requestId,resources:(wl=Dl==null?void 0:Dl.signInWithEthereum)===null||wl===void 0?void 0:wl.resources};_l=createSiweMessage(Vl),Il=await Bl.request({method:"personal_sign",params:[toHex(_l),zl]})}try{const{data:Fl,error:Ml}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_l,signature:Il},!((Sl=is.options)===null||Sl===void 0)&&Sl.captchaToken?{gotrue_meta_security:{captcha_token:(Cl=is.options)===null||Cl===void 0?void 0:Cl.captchaToken}}:null),xform:_sessionResponse});if(Ml)throw Ml;if(!Fl||!Fl.session||!Fl.user){const Tl=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:Tl})}return Fl.session&&(await this._saveSession(Fl.session),await this._notifyAllSubscribers("SIGNED_IN",Fl.session)),this._returnResult({data:Object.assign({},Fl),error:Ml})}catch(Fl){if(isAuthError(Fl))return this._returnResult({data:{user:null,session:null},error:Fl});throw Fl}}async signInWithSolana(is){var cs,lo,co,hs,uo,xa,ba,$a,wl,Sl,Cl,_l;let Il,Fl;if("message"in is)Il=is.message,Fl=is.signature;else{const{chain:Ml,wallet:Tl,statement:Dl,options:Bl}=is;let Ll;if(isBrowser())if(typeof Tl=="object")Ll=Tl;else{const zl=window;if("solana"in zl&&typeof zl.solana=="object"&&("signIn"in zl.solana&&typeof zl.solana.signIn=="function"||"signMessage"in zl.solana&&typeof zl.solana.signMessage=="function"))Ll=zl.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Tl!="object"||!(Bl!=null&&Bl.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Ll=Tl}const Nl=new URL((cs=Bl==null?void 0:Bl.url)!==null&&cs!==void 0?cs:window.location.href);if("signIn"in Ll&&Ll.signIn){const zl=await Ll.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Bl==null?void 0:Bl.signInWithSolana),{version:"1",domain:Nl.host,uri:Nl.href}),Dl?{statement:Dl}:null));let $l;if(Array.isArray(zl)&&zl[0]&&typeof zl[0]=="object")$l=zl[0];else if(zl&&typeof zl=="object"&&"signedMessage"in zl&&"signature"in zl)$l=zl;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $l&&"signature"in $l&&(typeof $l.signedMessage=="string"||$l.signedMessage instanceof Uint8Array)&&$l.signature instanceof Uint8Array)Il=typeof $l.signedMessage=="string"?$l.signedMessage:new TextDecoder().decode($l.signedMessage),Fl=$l.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Ll)||typeof Ll.signMessage!="function"||!("publicKey"in Ll)||typeof Ll!="object"||!Ll.publicKey||!("toBase58"in Ll.publicKey)||typeof Ll.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Il=[`${Nl.host} wants you to sign in with your Solana account:`,Ll.publicKey.toBase58(),...Dl?["",Dl,""]:[""],"Version: 1",`URI: ${Nl.href}`,`Issued At: ${(co=(lo=Bl==null?void 0:Bl.signInWithSolana)===null||lo===void 0?void 0:lo.issuedAt)!==null&&co!==void 0?co:new Date().toISOString()}`,...!((hs=Bl==null?void 0:Bl.signInWithSolana)===null||hs===void 0)&&hs.notBefore?[`Not Before: ${Bl.signInWithSolana.notBefore}`]:[],...!((uo=Bl==null?void 0:Bl.signInWithSolana)===null||uo===void 0)&&uo.expirationTime?[`Expiration Time: ${Bl.signInWithSolana.expirationTime}`]:[],...!((xa=Bl==null?void 0:Bl.signInWithSolana)===null||xa===void 0)&&xa.chainId?[`Chain ID: ${Bl.signInWithSolana.chainId}`]:[],...!((ba=Bl==null?void 0:Bl.signInWithSolana)===null||ba===void 0)&&ba.nonce?[`Nonce: ${Bl.signInWithSolana.nonce}`]:[],...!(($a=Bl==null?void 0:Bl.signInWithSolana)===null||$a===void 0)&&$a.requestId?[`Request ID: ${Bl.signInWithSolana.requestId}`]:[],...!((Sl=(wl=Bl==null?void 0:Bl.signInWithSolana)===null||wl===void 0?void 0:wl.resources)===null||Sl===void 0)&&Sl.length?["Resources",...Bl.signInWithSolana.resources.map($l=>`- ${$l}`)]:[]].join(`
`);const zl=await Ll.signMessage(new TextEncoder().encode(Il),"utf8");if(!zl||!(zl instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Fl=zl}}try{const{data:Ml,error:Tl}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:Il,signature:bytesToBase64URL(Fl)},!((Cl=is.options)===null||Cl===void 0)&&Cl.captchaToken?{gotrue_meta_security:{captcha_token:(_l=is.options)===null||_l===void 0?void 0:_l.captchaToken}}:null),xform:_sessionResponse});if(Tl)throw Tl;if(!Ml||!Ml.session||!Ml.user){const Dl=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:Dl})}return Ml.session&&(await this._saveSession(Ml.session),await this._notifyAllSubscribers("SIGNED_IN",Ml.session)),this._returnResult({data:Object.assign({},Ml),error:Tl})}catch(Ml){if(isAuthError(Ml))return this._returnResult({data:{user:null,session:null},error:Ml});throw Ml}}async _exchangeCodeForSession(is){const cs=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[lo,co]=(cs??"").split("/");try{const{data:hs,error:uo}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:is,code_verifier:lo},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),uo)throw uo;if(!hs||!hs.session||!hs.user){const xa=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:xa})}return hs.session&&(await this._saveSession(hs.session),await this._notifyAllSubscribers("SIGNED_IN",hs.session)),this._returnResult({data:Object.assign(Object.assign({},hs),{redirectType:co??null}),error:uo})}catch(hs){if(isAuthError(hs))return this._returnResult({data:{user:null,session:null,redirectType:null},error:hs});throw hs}}async signInWithIdToken(is){try{const{options:cs,provider:lo,token:co,access_token:hs,nonce:uo}=is,xa=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:lo,id_token:co,access_token:hs,nonce:uo,gotrue_meta_security:{captcha_token:cs==null?void 0:cs.captchaToken}},xform:_sessionResponse}),{data:ba,error:$a}=xa;if($a)return this._returnResult({data:{user:null,session:null},error:$a});if(!ba||!ba.session||!ba.user){const wl=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:wl})}return ba.session&&(await this._saveSession(ba.session),await this._notifyAllSubscribers("SIGNED_IN",ba.session)),this._returnResult({data:ba,error:$a})}catch(cs){if(isAuthError(cs))return this._returnResult({data:{user:null,session:null},error:cs});throw cs}}async signInWithOtp(is){var cs,lo,co,hs,uo;try{if("email"in is){const{email:xa,options:ba}=is;let $a=null,wl=null;this.flowType==="pkce"&&([$a,wl]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:Sl}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:xa,data:(cs=ba==null?void 0:ba.data)!==null&&cs!==void 0?cs:{},create_user:(lo=ba==null?void 0:ba.shouldCreateUser)!==null&&lo!==void 0?lo:!0,gotrue_meta_security:{captcha_token:ba==null?void 0:ba.captchaToken},code_challenge:$a,code_challenge_method:wl},redirectTo:ba==null?void 0:ba.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:Sl})}if("phone"in is){const{phone:xa,options:ba}=is,{data:$a,error:wl}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:xa,data:(co=ba==null?void 0:ba.data)!==null&&co!==void 0?co:{},create_user:(hs=ba==null?void 0:ba.shouldCreateUser)!==null&&hs!==void 0?hs:!0,gotrue_meta_security:{captcha_token:ba==null?void 0:ba.captchaToken},channel:(uo=ba==null?void 0:ba.channel)!==null&&uo!==void 0?uo:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:$a==null?void 0:$a.message_id},error:wl})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(xa){if(isAuthError(xa))return this._returnResult({data:{user:null,session:null},error:xa});throw xa}}async verifyOtp(is){var cs,lo;try{let co,hs;"options"in is&&(co=(cs=is.options)===null||cs===void 0?void 0:cs.redirectTo,hs=(lo=is.options)===null||lo===void 0?void 0:lo.captchaToken);const{data:uo,error:xa}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},is),{gotrue_meta_security:{captcha_token:hs}}),redirectTo:co,xform:_sessionResponse});if(xa)throw xa;if(!uo)throw new Error("An error occurred on token verification.");const ba=uo.session,$a=uo.user;return ba!=null&&ba.access_token&&(await this._saveSession(ba),await this._notifyAllSubscribers(is.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",ba)),this._returnResult({data:{user:$a,session:ba},error:null})}catch(co){if(isAuthError(co))return this._returnResult({data:{user:null,session:null},error:co});throw co}}async signInWithSSO(is){var cs,lo,co,hs,uo;try{let xa=null,ba=null;this.flowType==="pkce"&&([xa,ba]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const $a=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in is?{provider_id:is.providerId}:null),"domain"in is?{domain:is.domain}:null),{redirect_to:(lo=(cs=is.options)===null||cs===void 0?void 0:cs.redirectTo)!==null&&lo!==void 0?lo:void 0}),!((co=is==null?void 0:is.options)===null||co===void 0)&&co.captchaToken?{gotrue_meta_security:{captcha_token:is.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:xa,code_challenge_method:ba}),headers:this.headers,xform:_ssoResponse});return!((hs=$a.data)===null||hs===void 0)&&hs.url&&isBrowser()&&!(!((uo=is.options)===null||uo===void 0)&&uo.skipBrowserRedirect)&&window.location.assign($a.data.url),this._returnResult($a)}catch(xa){if(isAuthError(xa))return this._returnResult({data:null,error:xa});throw xa}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async is=>{const{data:{session:cs},error:lo}=is;if(lo)throw lo;if(!cs)throw new AuthSessionMissingError;const{error:co}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:cs.access_token});return this._returnResult({data:{user:null,session:null},error:co})})}catch(is){if(isAuthError(is))return this._returnResult({data:{user:null,session:null},error:is});throw is}}async resend(is){try{const cs=`${this.url}/resend`;if("email"in is){const{email:lo,type:co,options:hs}=is,{error:uo}=await _request(this.fetch,"POST",cs,{headers:this.headers,body:{email:lo,type:co,gotrue_meta_security:{captcha_token:hs==null?void 0:hs.captchaToken}},redirectTo:hs==null?void 0:hs.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:uo})}else if("phone"in is){const{phone:lo,type:co,options:hs}=is,{data:uo,error:xa}=await _request(this.fetch,"POST",cs,{headers:this.headers,body:{phone:lo,type:co,gotrue_meta_security:{captcha_token:hs==null?void 0:hs.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:uo==null?void 0:uo.message_id},error:xa})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(cs){if(isAuthError(cs))return this._returnResult({data:{user:null,session:null},error:cs});throw cs}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async cs=>cs))}async _acquireLock(is,cs){this._debug("#_acquireLock","begin",is);try{if(this.lockAcquired){const lo=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),co=(async()=>(await lo,await cs()))();return this.pendingInLock.push((async()=>{try{await co}catch{}})()),co}return await this.lock(`lock:${this.storageKey}`,is,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const lo=cs();for(this.pendingInLock.push((async()=>{try{await lo}catch{}})()),await lo;this.pendingInLock.length;){const co=[...this.pendingInLock];await Promise.all(co),this.pendingInLock.splice(0,co.length)}return await lo}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(is){this._debug("#_useSession","begin");try{const cs=await this.__loadSession();return await is(cs)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let is=null;const cs=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",cs),cs!==null&&(this._isValidSession(cs)?is=cs:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!is)return{data:{session:null},error:null};const lo=is.expires_at?is.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${lo?"":" not"} expired`,"expires_at",is.expires_at),!lo){if(this.userStorage){const uo=await getItemAsync(this.userStorage,this.storageKey+"-user");uo!=null&&uo.user?is.user=uo.user:is.user=userNotAvailableProxy()}if(this.storage.isServer&&is.user&&!is.user.__isUserNotAvailableProxy){const uo={value:this.suppressGetSessionWarning};is.user=insecureUserWarningProxy(is.user,uo),uo.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:is},error:null}}const{data:co,error:hs}=await this._callRefreshToken(is.refresh_token);return hs?this._returnResult({data:{session:null},error:hs}):this._returnResult({data:{session:co},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(is){return is?await this._getUser(is):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(is){try{return is?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:is,xform:_userResponse}):await this._useSession(async cs=>{var lo,co,hs;const{data:uo,error:xa}=cs;if(xa)throw xa;return!(!((lo=uo.session)===null||lo===void 0)&&lo.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(hs=(co=uo.session)===null||co===void 0?void 0:co.access_token)!==null&&hs!==void 0?hs:void 0,xform:_userResponse})})}catch(cs){if(isAuthError(cs))return isAuthSessionMissingError(cs)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:cs});throw cs}}async updateUser(is,cs={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(is,cs))}async _updateUser(is,cs={}){try{return await this._useSession(async lo=>{const{data:co,error:hs}=lo;if(hs)throw hs;if(!co.session)throw new AuthSessionMissingError;const uo=co.session;let xa=null,ba=null;this.flowType==="pkce"&&is.email!=null&&([xa,ba]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:$a,error:wl}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:cs==null?void 0:cs.emailRedirectTo,body:Object.assign(Object.assign({},is),{code_challenge:xa,code_challenge_method:ba}),jwt:uo.access_token,xform:_userResponse});if(wl)throw wl;return uo.user=$a.user,await this._saveSession(uo),await this._notifyAllSubscribers("USER_UPDATED",uo),this._returnResult({data:{user:uo.user},error:null})})}catch(lo){if(isAuthError(lo))return this._returnResult({data:{user:null},error:lo});throw lo}}async setSession(is){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(is))}async _setSession(is){try{if(!is.access_token||!is.refresh_token)throw new AuthSessionMissingError;const cs=Date.now()/1e3;let lo=cs,co=!0,hs=null;const{payload:uo}=decodeJWT(is.access_token);if(uo.exp&&(lo=uo.exp,co=lo<=cs),co){const{data:xa,error:ba}=await this._callRefreshToken(is.refresh_token);if(ba)return this._returnResult({data:{user:null,session:null},error:ba});if(!xa)return{data:{user:null,session:null},error:null};hs=xa}else{const{data:xa,error:ba}=await this._getUser(is.access_token);if(ba)throw ba;hs={access_token:is.access_token,refresh_token:is.refresh_token,user:xa.user,token_type:"bearer",expires_in:lo-cs,expires_at:lo},await this._saveSession(hs),await this._notifyAllSubscribers("SIGNED_IN",hs)}return this._returnResult({data:{user:hs.user,session:hs},error:null})}catch(cs){if(isAuthError(cs))return this._returnResult({data:{session:null,user:null},error:cs});throw cs}}async refreshSession(is){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(is))}async _refreshSession(is){try{return await this._useSession(async cs=>{var lo;if(!is){const{data:uo,error:xa}=cs;if(xa)throw xa;is=(lo=uo.session)!==null&&lo!==void 0?lo:void 0}if(!(is!=null&&is.refresh_token))throw new AuthSessionMissingError;const{data:co,error:hs}=await this._callRefreshToken(is.refresh_token);return hs?this._returnResult({data:{user:null,session:null},error:hs}):co?this._returnResult({data:{user:co.user,session:co},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(cs){if(isAuthError(cs))return this._returnResult({data:{user:null,session:null},error:cs});throw cs}}async _getSessionFromURL(is,cs){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(is.error||is.error_description||is.error_code)throw new AuthImplicitGrantRedirectError(is.error_description||"Error in URL with unspecified error_description",{error:is.error||"unspecified_error",code:is.error_code||"unspecified_code"});switch(cs){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(cs==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!is.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:Dl,error:Bl}=await this._exchangeCodeForSession(is.code);if(Bl)throw Bl;const Ll=new URL(window.location.href);return Ll.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Ll.toString()),{data:{session:Dl.session,redirectType:null},error:null}}const{provider_token:lo,provider_refresh_token:co,access_token:hs,refresh_token:uo,expires_in:xa,expires_at:ba,token_type:$a}=is;if(!hs||!xa||!uo||!$a)throw new AuthImplicitGrantRedirectError("No session defined in URL");const wl=Math.round(Date.now()/1e3),Sl=parseInt(xa);let Cl=wl+Sl;ba&&(Cl=parseInt(ba));const _l=Cl-wl;_l*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_l}s, should have been closer to ${Sl}s`);const Il=Cl-Sl;wl-Il>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Il,Cl,wl):wl-Il<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Il,Cl,wl);const{data:Fl,error:Ml}=await this._getUser(hs);if(Ml)throw Ml;const Tl={provider_token:lo,provider_refresh_token:co,access_token:hs,expires_in:Sl,expires_at:Cl,refresh_token:uo,token_type:$a,user:Fl.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Tl,redirectType:is.type},error:null})}catch(lo){if(isAuthError(lo))return this._returnResult({data:{session:null,redirectType:null},error:lo});throw lo}}_isImplicitGrantCallback(is){return!!(is.access_token||is.error_description)}async _isPKCECallback(is){const cs=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(is.code&&cs)}async signOut(is={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(is))}async _signOut({scope:is}={scope:"global"}){return await this._useSession(async cs=>{var lo;const{data:co,error:hs}=cs;if(hs)return this._returnResult({error:hs});const uo=(lo=co.session)===null||lo===void 0?void 0:lo.access_token;if(uo){const{error:xa}=await this.admin.signOut(uo,is);if(xa&&!(isAuthApiError(xa)&&(xa.status===404||xa.status===401||xa.status===403)))return this._returnResult({error:xa})}return is!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(is){const cs=generateCallbackId(),lo={id:cs,callback:is,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",cs),this.stateChangeEmitters.delete(cs)}};return this._debug("#onAuthStateChange()","registered callback with id",cs),this.stateChangeEmitters.set(cs,lo),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(cs)})))(),{data:{subscription:lo}}}async _emitInitialSession(is){return await this._useSession(async cs=>{var lo,co;try{const{data:{session:hs},error:uo}=cs;if(uo)throw uo;await((lo=this.stateChangeEmitters.get(is))===null||lo===void 0?void 0:lo.callback("INITIAL_SESSION",hs)),this._debug("INITIAL_SESSION","callback id",is,"session",hs)}catch(hs){await((co=this.stateChangeEmitters.get(is))===null||co===void 0?void 0:co.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",is,"error",hs),console.error(hs)}})}async resetPasswordForEmail(is,cs={}){let lo=null,co=null;this.flowType==="pkce"&&([lo,co]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:is,code_challenge:lo,code_challenge_method:co,gotrue_meta_security:{captcha_token:cs.captchaToken}},headers:this.headers,redirectTo:cs.redirectTo})}catch(hs){if(isAuthError(hs))return this._returnResult({data:null,error:hs});throw hs}}async getUserIdentities(){var is;try{const{data:cs,error:lo}=await this.getUser();if(lo)throw lo;return this._returnResult({data:{identities:(is=cs.user.identities)!==null&&is!==void 0?is:[]},error:null})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}}async linkIdentity(is){return"token"in is?this.linkIdentityIdToken(is):this.linkIdentityOAuth(is)}async linkIdentityOAuth(is){var cs;try{const{data:lo,error:co}=await this._useSession(async hs=>{var uo,xa,ba,$a,wl;const{data:Sl,error:Cl}=hs;if(Cl)throw Cl;const _l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,is.provider,{redirectTo:(uo=is.options)===null||uo===void 0?void 0:uo.redirectTo,scopes:(xa=is.options)===null||xa===void 0?void 0:xa.scopes,queryParams:(ba=is.options)===null||ba===void 0?void 0:ba.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",_l,{headers:this.headers,jwt:(wl=($a=Sl.session)===null||$a===void 0?void 0:$a.access_token)!==null&&wl!==void 0?wl:void 0})});if(co)throw co;return isBrowser()&&!(!((cs=is.options)===null||cs===void 0)&&cs.skipBrowserRedirect)&&window.location.assign(lo==null?void 0:lo.url),this._returnResult({data:{provider:is.provider,url:lo==null?void 0:lo.url},error:null})}catch(lo){if(isAuthError(lo))return this._returnResult({data:{provider:is.provider,url:null},error:lo});throw lo}}async linkIdentityIdToken(is){return await this._useSession(async cs=>{var lo;try{const{error:co,data:{session:hs}}=cs;if(co)throw co;const{options:uo,provider:xa,token:ba,access_token:$a,nonce:wl}=is,Sl=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(lo=hs==null?void 0:hs.access_token)!==null&&lo!==void 0?lo:void 0,body:{provider:xa,id_token:ba,access_token:$a,nonce:wl,link_identity:!0,gotrue_meta_security:{captcha_token:uo==null?void 0:uo.captchaToken}},xform:_sessionResponse}),{data:Cl,error:_l}=Sl;return _l?this._returnResult({data:{user:null,session:null},error:_l}):!Cl||!Cl.session||!Cl.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(Cl.session&&(await this._saveSession(Cl.session),await this._notifyAllSubscribers("USER_UPDATED",Cl.session)),this._returnResult({data:Cl,error:_l}))}catch(co){if(isAuthError(co))return this._returnResult({data:{user:null,session:null},error:co});throw co}})}async unlinkIdentity(is){try{return await this._useSession(async cs=>{var lo,co;const{data:hs,error:uo}=cs;if(uo)throw uo;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${is.identity_id}`,{headers:this.headers,jwt:(co=(lo=hs.session)===null||lo===void 0?void 0:lo.access_token)!==null&&co!==void 0?co:void 0})})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}}async _refreshAccessToken(is){const cs=`#_refreshAccessToken(${is.substring(0,5)}...)`;this._debug(cs,"begin");try{const lo=Date.now();return await retryable(async co=>(co>0&&await sleep(200*Math.pow(2,co-1)),this._debug(cs,"refreshing attempt",co),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:is},headers:this.headers,xform:_sessionResponse})),(co,hs)=>{const uo=200*Math.pow(2,co);return hs&&isAuthRetryableFetchError(hs)&&Date.now()+uo-lo<AUTO_REFRESH_TICK_DURATION_MS})}catch(lo){if(this._debug(cs,"error",lo),isAuthError(lo))return this._returnResult({data:{session:null,user:null},error:lo});throw lo}finally{this._debug(cs,"end")}}_isValidSession(is){return typeof is=="object"&&is!==null&&"access_token"in is&&"refresh_token"in is&&"expires_at"in is}async _handleProviderSignIn(is,cs){const lo=await this._getUrlForProvider(`${this.url}/authorize`,is,{redirectTo:cs.redirectTo,scopes:cs.scopes,queryParams:cs.queryParams});return this._debug("#_handleProviderSignIn()","provider",is,"options",cs,"url",lo),isBrowser()&&!cs.skipBrowserRedirect&&window.location.assign(lo),{data:{provider:is,url:lo},error:null}}async _recoverAndRefresh(){var is,cs;const lo="#_recoverAndRefresh()";this._debug(lo,"begin");try{const co=await getItemAsync(this.storage,this.storageKey);if(co&&this.userStorage){let uo=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!uo&&(uo={user:co.user},await setItemAsync(this.userStorage,this.storageKey+"-user",uo)),co.user=(is=uo==null?void 0:uo.user)!==null&&is!==void 0?is:userNotAvailableProxy()}else if(co&&!co.user&&!co.user){const uo=await getItemAsync(this.storage,this.storageKey+"-user");uo&&(uo!=null&&uo.user)?(co.user=uo.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,co)):co.user=userNotAvailableProxy()}if(this._debug(lo,"session from storage",co),!this._isValidSession(co)){this._debug(lo,"session is not valid"),co!==null&&await this._removeSession();return}const hs=((cs=co.expires_at)!==null&&cs!==void 0?cs:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(lo,`session has${hs?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),hs){if(this.autoRefreshToken&&co.refresh_token){const{error:uo}=await this._callRefreshToken(co.refresh_token);uo&&(console.error(uo),isAuthRetryableFetchError(uo)||(this._debug(lo,"refresh failed with a non-retryable error, removing the session",uo),await this._removeSession()))}}else if(co.user&&co.user.__isUserNotAvailableProxy===!0)try{const{data:uo,error:xa}=await this._getUser(co.access_token);!xa&&(uo!=null&&uo.user)?(co.user=uo.user,await this._saveSession(co),await this._notifyAllSubscribers("SIGNED_IN",co)):this._debug(lo,"could not get user data, skipping SIGNED_IN notification")}catch(uo){console.error("Error getting user data:",uo),this._debug(lo,"error getting user data, skipping SIGNED_IN notification",uo)}else await this._notifyAllSubscribers("SIGNED_IN",co)}catch(co){this._debug(lo,"error",co),console.error(co);return}finally{this._debug(lo,"end")}}async _callRefreshToken(is){var cs,lo;if(!is)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const co=`#_callRefreshToken(${is.substring(0,5)}...)`;this._debug(co,"begin");try{this.refreshingDeferred=new Deferred;const{data:hs,error:uo}=await this._refreshAccessToken(is);if(uo)throw uo;if(!hs.session)throw new AuthSessionMissingError;await this._saveSession(hs.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",hs.session);const xa={data:hs.session,error:null};return this.refreshingDeferred.resolve(xa),xa}catch(hs){if(this._debug(co,"error",hs),isAuthError(hs)){const uo={data:null,error:hs};return isAuthRetryableFetchError(hs)||await this._removeSession(),(cs=this.refreshingDeferred)===null||cs===void 0||cs.resolve(uo),uo}throw(lo=this.refreshingDeferred)===null||lo===void 0||lo.reject(hs),hs}finally{this.refreshingDeferred=null,this._debug(co,"end")}}async _notifyAllSubscribers(is,cs,lo=!0){const co=`#_notifyAllSubscribers(${is})`;this._debug(co,"begin",cs,`broadcast = ${lo}`);try{this.broadcastChannel&&lo&&this.broadcastChannel.postMessage({event:is,session:cs});const hs=[],uo=Array.from(this.stateChangeEmitters.values()).map(async xa=>{try{await xa.callback(is,cs)}catch(ba){hs.push(ba)}});if(await Promise.all(uo),hs.length>0){for(let xa=0;xa<hs.length;xa+=1)console.error(hs[xa]);throw hs[0]}}finally{this._debug(co,"end")}}async _saveSession(is){this._debug("#_saveSession()",is),this.suppressGetSessionWarning=!0;const cs=Object.assign({},is),lo=cs.user&&cs.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!lo&&cs.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:cs.user});const co=Object.assign({},cs);delete co.user;const hs=deepClone(co);await setItemAsync(this.storage,this.storageKey,hs)}else{const co=deepClone(cs);await setItemAsync(this.storage,this.storageKey,co)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const is=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{is&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",is)}catch(cs){console.error("removing visibilitychange callback failed",cs)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const is=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=is,is&&typeof is=="object"&&typeof is.unref=="function"?is.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(is),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const is=this.autoRefreshTicker;this.autoRefreshTicker=null,is&&clearInterval(is)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const is=Date.now();try{return await this._useSession(async cs=>{const{data:{session:lo}}=cs;if(!lo||!lo.refresh_token||!lo.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const co=Math.floor((lo.expires_at*1e3-is)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${co} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),co<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(lo.refresh_token)})}catch(cs){console.error("Auto refresh tick failed with error. This is likely a transient error.",cs)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(is){if(is.isAcquireTimeout||is instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw is}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(is){console.error("_handleVisibilityChange",is)}}async _onVisibilityChanged(is){const cs=`#_onVisibilityChanged(${is})`;this._debug(cs,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),is||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(cs,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(is,cs,lo){const co=[`provider=${encodeURIComponent(cs)}`];if(lo!=null&&lo.redirectTo&&co.push(`redirect_to=${encodeURIComponent(lo.redirectTo)}`),lo!=null&&lo.scopes&&co.push(`scopes=${encodeURIComponent(lo.scopes)}`),this.flowType==="pkce"){const[hs,uo]=await getCodeChallengeAndMethod(this.storage,this.storageKey),xa=new URLSearchParams({code_challenge:`${encodeURIComponent(hs)}`,code_challenge_method:`${encodeURIComponent(uo)}`});co.push(xa.toString())}if(lo!=null&&lo.queryParams){const hs=new URLSearchParams(lo.queryParams);co.push(hs.toString())}return lo!=null&&lo.skipBrowserRedirect&&co.push(`skip_http_redirect=${lo.skipBrowserRedirect}`),`${is}?${co.join("&")}`}async _unenroll(is){try{return await this._useSession(async cs=>{var lo;const{data:co,error:hs}=cs;return hs?this._returnResult({data:null,error:hs}):await _request(this.fetch,"DELETE",`${this.url}/factors/${is.factorId}`,{headers:this.headers,jwt:(lo=co==null?void 0:co.session)===null||lo===void 0?void 0:lo.access_token})})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}}async _enroll(is){try{return await this._useSession(async cs=>{var lo,co;const{data:hs,error:uo}=cs;if(uo)return this._returnResult({data:null,error:uo});const xa=Object.assign({friendly_name:is.friendlyName,factor_type:is.factorType},is.factorType==="phone"?{phone:is.phone}:is.factorType==="totp"?{issuer:is.issuer}:{}),{data:ba,error:$a}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:xa,headers:this.headers,jwt:(lo=hs==null?void 0:hs.session)===null||lo===void 0?void 0:lo.access_token});return $a?this._returnResult({data:null,error:$a}):(is.factorType==="totp"&&ba.type==="totp"&&(!((co=ba==null?void 0:ba.totp)===null||co===void 0)&&co.qr_code)&&(ba.totp.qr_code=`data:image/svg+xml;utf-8,${ba.totp.qr_code}`),this._returnResult({data:ba,error:null}))})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}}async _verify(is){return this._acquireLock(-1,async()=>{try{return await this._useSession(async cs=>{var lo;const{data:co,error:hs}=cs;if(hs)return this._returnResult({data:null,error:hs});const uo=Object.assign({challenge_id:is.challengeId},"webauthn"in is?{webauthn:Object.assign(Object.assign({},is.webauthn),{credential_response:is.webauthn.type==="create"?serializeCredentialCreationResponse(is.webauthn.credential_response):serializeCredentialRequestResponse(is.webauthn.credential_response)})}:{code:is.code}),{data:xa,error:ba}=await _request(this.fetch,"POST",`${this.url}/factors/${is.factorId}/verify`,{body:uo,headers:this.headers,jwt:(lo=co==null?void 0:co.session)===null||lo===void 0?void 0:lo.access_token});return ba?this._returnResult({data:null,error:ba}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+xa.expires_in},xa)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",xa),this._returnResult({data:xa,error:ba}))})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}})}async _challenge(is){return this._acquireLock(-1,async()=>{try{return await this._useSession(async cs=>{var lo;const{data:co,error:hs}=cs;if(hs)return this._returnResult({data:null,error:hs});const uo=await _request(this.fetch,"POST",`${this.url}/factors/${is.factorId}/challenge`,{body:is,headers:this.headers,jwt:(lo=co==null?void 0:co.session)===null||lo===void 0?void 0:lo.access_token});if(uo.error)return uo;const{data:xa}=uo;if(xa.type!=="webauthn")return{data:xa,error:null};switch(xa.webauthn.type){case"create":return{data:Object.assign(Object.assign({},xa),{webauthn:Object.assign(Object.assign({},xa.webauthn),{credential_options:Object.assign(Object.assign({},xa.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(xa.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},xa),{webauthn:Object.assign(Object.assign({},xa.webauthn),{credential_options:Object.assign(Object.assign({},xa.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(xa.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}})}async _challengeAndVerify(is){const{data:cs,error:lo}=await this._challenge({factorId:is.factorId});return lo?this._returnResult({data:null,error:lo}):await this._verify({factorId:is.factorId,challengeId:cs.id,code:is.code})}async _listFactors(){var is;const{data:{user:cs},error:lo}=await this.getUser();if(lo)return{data:null,error:lo};const co={all:[],phone:[],totp:[],webauthn:[]};for(const hs of(is=cs==null?void 0:cs.factors)!==null&&is!==void 0?is:[])co.all.push(hs),hs.status==="verified"&&co[hs.factor_type].push(hs);return{data:co,error:null}}async _getAuthenticatorAssuranceLevel(){var is,cs;const{data:{session:lo},error:co}=await this.getSession();if(co)return this._returnResult({data:null,error:co});if(!lo)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:hs}=decodeJWT(lo.access_token);let uo=null;hs.aal&&(uo=hs.aal);let xa=uo;((cs=(is=lo.user.factors)===null||is===void 0?void 0:is.filter(wl=>wl.status==="verified"))!==null&&cs!==void 0?cs:[]).length>0&&(xa="aal2");const $a=hs.amr||[];return{data:{currentLevel:uo,nextLevel:xa,currentAuthenticationMethods:$a},error:null}}async _getAuthorizationDetails(is){try{return await this._useSession(async cs=>{const{data:{session:lo},error:co}=cs;return co?this._returnResult({data:null,error:co}):lo?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${is}`,{headers:this.headers,jwt:lo.access_token,xform:hs=>({data:hs,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(cs){if(isAuthError(cs))return this._returnResult({data:null,error:cs});throw cs}}async _approveAuthorization(is,cs){try{return await this._useSession(async lo=>{const{data:{session:co},error:hs}=lo;if(hs)return this._returnResult({data:null,error:hs});if(!co)return this._returnResult({data:null,error:new AuthSessionMissingError});const uo=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${is}/consent`,{headers:this.headers,jwt:co.access_token,body:{action:"approve"},xform:xa=>({data:xa,error:null})});return uo.data&&uo.data.redirect_url&&isBrowser()&&!(cs!=null&&cs.skipBrowserRedirect)&&window.location.assign(uo.data.redirect_url),uo})}catch(lo){if(isAuthError(lo))return this._returnResult({data:null,error:lo});throw lo}}async _denyAuthorization(is,cs){try{return await this._useSession(async lo=>{const{data:{session:co},error:hs}=lo;if(hs)return this._returnResult({data:null,error:hs});if(!co)return this._returnResult({data:null,error:new AuthSessionMissingError});const uo=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${is}/consent`,{headers:this.headers,jwt:co.access_token,body:{action:"deny"},xform:xa=>({data:xa,error:null})});return uo.data&&uo.data.redirect_url&&isBrowser()&&!(cs!=null&&cs.skipBrowserRedirect)&&window.location.assign(uo.data.redirect_url),uo})}catch(lo){if(isAuthError(lo))return this._returnResult({data:null,error:lo});throw lo}}async fetchJwk(is,cs={keys:[]}){let lo=cs.keys.find(xa=>xa.kid===is);if(lo)return lo;const co=Date.now();if(lo=this.jwks.keys.find(xa=>xa.kid===is),lo&&this.jwks_cached_at+JWKS_TTL>co)return lo;const{data:hs,error:uo}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(uo)throw uo;return!hs.keys||hs.keys.length===0||(this.jwks=hs,this.jwks_cached_at=co,lo=hs.keys.find(xa=>xa.kid===is),!lo)?null:lo}async getClaims(is,cs={}){try{let lo=is;if(!lo){const{data:_l,error:Il}=await this.getSession();if(Il||!_l.session)return this._returnResult({data:null,error:Il});lo=_l.session.access_token}const{header:co,payload:hs,signature:uo,raw:{header:xa,payload:ba}}=decodeJWT(lo);cs!=null&&cs.allowExpired||validateExp(hs.exp);const $a=!co.alg||co.alg.startsWith("HS")||!co.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(co.kid,cs!=null&&cs.keys?{keys:cs.keys}:cs==null?void 0:cs.jwks);if(!$a){const{error:_l}=await this.getUser(lo);if(_l)throw _l;return{data:{claims:hs,header:co,signature:uo},error:null}}const wl=getAlgorithm(co.alg),Sl=await crypto.subtle.importKey("jwk",$a,wl,!0,["verify"]);if(!await crypto.subtle.verify(wl,Sl,uo,stringToUint8Array(`${xa}.${ba}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:hs,header:co,signature:uo},error:null}}catch(lo){if(isAuthError(lo))return this._returnResult({data:null,error:lo});throw lo}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(is){super(is)}}class SupabaseClient{constructor(is,cs,lo){var co,hs,uo;this.supabaseUrl=is,this.supabaseKey=cs;const xa=validateSupabaseUrl(is);if(!cs)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",xa),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",xa),this.storageUrl=new URL("storage/v1",xa),this.functionsUrl=new URL("functions/v1",xa);const ba=`sb-${xa.hostname.split(".")[0]}-auth-token`,$a={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:ba}),global:DEFAULT_GLOBAL_OPTIONS},wl=applySettingDefaults(lo??{},$a);this.storageKey=(co=wl.auth.storageKey)!==null&&co!==void 0?co:"",this.headers=(hs=wl.global.headers)!==null&&hs!==void 0?hs:{},wl.accessToken?(this.accessToken=wl.accessToken,this.auth=new Proxy({},{get:(Sl,Cl)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Cl)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((uo=wl.auth)!==null&&uo!==void 0?uo:{},this.headers,wl.global.fetch),this.fetch=fetchWithAuth(cs,this._getAccessToken.bind(this),wl.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},wl.realtime)),this.accessToken&&this.accessToken().then(Sl=>this.realtime.setAuth(Sl)).catch(Sl=>console.warn("Failed to set initial Realtime auth token:",Sl)),this.rest=new PostgrestClient(new URL("rest/v1",xa).href,{headers:this.headers,schema:wl.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,lo==null?void 0:lo.storage),wl.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(is){return this.rest.from(is)}schema(is){return this.rest.schema(is)}rpc(is,cs={},lo={head:!1,get:!1,count:void 0}){return this.rest.rpc(is,cs,lo)}channel(is,cs={config:{}}){return this.realtime.channel(is,cs)}getChannels(){return this.realtime.getChannels()}removeChannel(is){return this.realtime.removeChannel(is)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var is,cs;if(this.accessToken)return await this.accessToken();const{data:lo}=await this.auth.getSession();return(cs=(is=lo.session)===null||is===void 0?void 0:is.access_token)!==null&&cs!==void 0?cs:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:is,persistSession:cs,detectSessionInUrl:lo,storage:co,userStorage:hs,storageKey:uo,flowType:xa,lock:ba,debug:$a,throwOnError:wl},Sl,Cl){const _l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},_l),Sl),storageKey:uo,autoRefreshToken:is,persistSession:cs,detectSessionInUrl:lo,storage:co,userStorage:hs,flowType:xa,lock:ba,debug:$a,throwOnError:wl,fetch:Cl,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Il=>Il.toLowerCase()==="authorization")})}_initRealtimeClient(is){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},is),{params:Object.assign({apikey:this.supabaseKey},is==null?void 0:is.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((cs,lo)=>{this._handleTokenChanged(cs,"CLIENT",lo==null?void 0:lo.access_token)})}_handleTokenChanged(is,cs,lo){(is==="TOKEN_REFRESHED"||is==="SIGNED_IN")&&this.changedAccessToken!==lo?(this.changedAccessToken=lo,this.realtime.setAuth(lo)):is==="SIGNED_OUT"&&(this.realtime.setAuth(),cs=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(us,is,cs)=>new SupabaseClient(us,is,cs);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process$1>"u")return!1;const us=process$1.version;if(us==null)return!1;const is=us.match(/^v(\d+)\./);return is?parseInt(is[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://cvamwtpsuvxvjdnotbeg.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN2YW13dHBzdXZ4dmpkbm90YmVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NTM4MzcsImV4cCI6MjA3ODMyOTgzN30.fI0webVL6oTiyjdc2wssoMo06gW4oqawRR6uY9_7Ek4",supabase=createClient(supabaseUrl,supabaseAnonKey),isSupabaseAvailable=()=>supabase!==null,AuthContext=reactExports.createContext({}),useAuth=()=>{const us=reactExports.useContext(AuthContext);if(!us)throw new Error("useAuth must be used within an AuthProvider");return us},AuthProvider=({children:us})=>{const[is,cs]=reactExports.useState(null),[lo,co]=reactExports.useState(null),[hs,uo]=reactExports.useState(!0);reactExports.useEffect(()=>{if(!isSupabaseAvailable()){uo(!1);return}supabase.auth.getSession().then(({data:{session:Tl}})=>{co(Tl),cs((Tl==null?void 0:Tl.user)??null),uo(!1)});const{data:{subscription:Ml}}=supabase.auth.onAuthStateChange((Tl,Dl)=>{co(Dl),cs((Dl==null?void 0:Dl.user)??null),uo(!1)});return()=>Ml.unsubscribe()},[]);const Fl={user:is,session:lo,loading:hs,signUp:async(Ml,Tl,Dl={})=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Bl,error:Ll}=await supabase.auth.signUp({email:Ml,password:Tl,options:{data:Dl}});if(Ll)throw Ll;return Bl},signIn:async(Ml,Tl)=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Dl,error:Bl}=await supabase.auth.signInWithPassword({email:Ml,password:Tl});if(Bl)throw Bl;return Dl},signInWithGoogle:async()=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Ml,error:Tl}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(Tl)throw Tl;return Ml},signInWithSSO:async Ml=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Tl,error:Dl}=await supabase.auth.signInWithSSO({domain:Ml});if(Dl)throw Dl;return Tl},signOut:async()=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{error:Ml}=await supabase.auth.signOut();if(Ml)throw Ml;window.location.reload()},resetPassword:async Ml=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Tl,error:Dl}=await supabase.auth.resetPasswordForEmail(Ml,{redirectTo:`${window.location.origin}/reset-password`});if(Dl)throw Dl;return Tl},updatePassword:async Ml=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Tl,error:Dl}=await supabase.auth.updateUser({password:Ml});if(Dl)throw Dl;return Tl},updateProfile:async Ml=>{if(!isSupabaseAvailable())throw new Error("Supabase is not configured");const{data:Tl,error:Dl}=await supabase.auth.updateUser({data:Ml});if(Dl)throw Dl;return Tl},isAuthenticated:!!is,isSupabaseAvailable:isSupabaseAvailable()};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:Fl,children:us})},AuthModal=({isOpen:us,onClose:is,onDismiss:cs})=>{const[lo,co]=reactExports.useState("login"),[hs,uo]=reactExports.useState(""),[xa,ba]=reactExports.useState(""),[$a,wl]=reactExports.useState(""),[Sl,Cl]=reactExports.useState(""),[_l,Il]=reactExports.useState(""),[Fl,Ml]=reactExports.useState(""),[Tl,Dl]=reactExports.useState(!1),[Bl,Ll]=reactExports.useState(""),[Nl,zl]=reactExports.useState(""),{signIn:$l,signUp:Vl,signInWithGoogle:Gl,signInWithSSO:iu,resetPassword:nu}=useAuth();if(!us)return null;const Jl=async zu=>{zu.preventDefault(),Ll(""),zl(""),Dl(!0);try{if(lo==="login")await $l(hs,xa),is();else if(lo==="signup"){if(xa!==$a){Ll("Passwords do not match"),Dl(!1);return}await Vl(hs,xa,{first_name:Sl,last_name:_l,full_name:`${Sl} ${_l}`}),zl("Account created! Please check your email to verify your account."),setTimeout(()=>{is()},2e3)}else lo==="sso"?await iu(Fl):lo==="reset"&&(await nu(hs),zl("Password reset link sent! Check your email."),setTimeout(()=>{co("login"),zl("")},3e3))}catch(Wu){Ll(Wu.message||"An error occurred")}finally{Dl(!1)}},lu=async()=>{Ll(""),Dl(!0);try{await Gl()}catch(zu){Ll(zu.message||"Failed to sign in with Google"),Dl(!1)}},ju=()=>{cs?cs():is()};return jsxRuntimeExports.jsx("div",{className:"auth-modal-overlay",onClick:ju,children:jsxRuntimeExports.jsxs("div",{className:"auth-modal",onClick:zu=>zu.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:"auth-modal-close",onClick:ju,children:""}),jsxRuntimeExports.jsxs("div",{className:"auth-modal-header",children:[jsxRuntimeExports.jsxs("h2",{children:[lo==="login"&&"Welcome Back",lo==="signup"&&"Create Account",lo==="sso"&&"Company Sign-In",lo==="reset"&&"Reset Password"]}),jsxRuntimeExports.jsxs("p",{className:"auth-modal-subtitle",children:[lo==="login"&&"Sign in to save and sync your work",lo==="signup"&&"Get started with a free account",lo==="sso"&&"Sign in with your company credentials",lo==="reset"&&"We'll send you a password reset link"]})]}),Bl&&jsxRuntimeExports.jsx("div",{className:"auth-error",children:Bl}),Nl&&jsxRuntimeExports.jsx("div",{className:"auth-message",children:Nl}),jsxRuntimeExports.jsxs("form",{onSubmit:Jl,className:"auth-form",children:[lo!=="sso"&&jsxRuntimeExports.jsxs("div",{className:"auth-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",value:hs,onChange:zu=>uo(zu.target.value),placeholder:"you@example.com",required:!0,disabled:Tl})]}),lo==="signup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"auth-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"firstName",children:"First Name"}),jsxRuntimeExports.jsx("input",{id:"firstName",type:"text",value:Sl,onChange:zu=>Cl(zu.target.value),placeholder:"John",required:!0,disabled:Tl})]}),jsxRuntimeExports.jsxs("div",{className:"auth-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"lastName",children:"Last Name"}),jsxRuntimeExports.jsx("input",{id:"lastName",type:"text",value:_l,onChange:zu=>Il(zu.target.value),placeholder:"Doe",required:!0,disabled:Tl})]})]}),(lo==="login"||lo==="signup")&&jsxRuntimeExports.jsxs("div",{className:"auth-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsx("input",{id:"password",type:"password",value:xa,onChange:zu=>ba(zu.target.value),placeholder:"",required:!0,disabled:Tl})]}),lo==="signup"&&jsxRuntimeExports.jsxs("div",{className:"auth-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),jsxRuntimeExports.jsx("input",{id:"confirmPassword",type:"password",value:$a,onChange:zu=>wl(zu.target.value),placeholder:"",required:!0,disabled:Tl})]}),lo==="sso"&&jsxRuntimeExports.jsxs("div",{className:"auth-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"ssoDomain",children:"Company Domain"}),jsxRuntimeExports.jsx("input",{id:"ssoDomain",type:"text",value:Fl,onChange:zu=>Ml(zu.target.value),placeholder:"company.com",required:!0,disabled:Tl})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:Tl,children:Tl?"Please wait...":lo==="login"?"Sign In":lo==="signup"?"Create Account":lo==="sso"?"Continue with SSO":"Send Reset Link"})]}),lo==="login"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"auth-divider",children:jsxRuntimeExports.jsx("span",{children:"or"})}),jsxRuntimeExports.jsxs("button",{type:"button",className:"auth-google-btn",onClick:lu,disabled:Tl,children:[jsxRuntimeExports.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",children:[jsxRuntimeExports.jsx("path",{fill:"#4285F4",d:"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18Z"}),jsxRuntimeExports.jsx("path",{fill:"#34A853",d:"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2.01a4.8 4.8 0 0 1-7.18-2.54H1.83v2.07A8 8 0 0 0 8.98 17Z"}),jsxRuntimeExports.jsx("path",{fill:"#FBBC05",d:"M4.5 10.52a4.8 4.8 0 0 1 0-3.04V5.41H1.83a8 8 0 0 0 0 7.18l2.67-2.07Z"}),jsxRuntimeExports.jsx("path",{fill:"#EA4335",d:"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 1.83 5.4L4.5 7.49a4.77 4.77 0 0 1 4.48-3.3Z"})]}),"Continue with Google"]}),jsxRuntimeExports.jsx("button",{type:"button",className:"auth-sso-link",onClick:()=>co("sso"),disabled:Tl,children:"Sign in with company SSO"})]}),jsxRuntimeExports.jsxs("div",{className:"auth-footer",children:[lo==="login"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:["Don't have an account?"," ",jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{co("signup"),Ll("")},className:"auth-link-btn",children:"Sign up"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{co("reset"),Ll("")},className:"auth-link-btn",children:"Forgot password?"})]}),lo==="signup"&&jsxRuntimeExports.jsxs("p",{children:["Already have an account?"," ",jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{co("login"),Ll("")},className:"auth-link-btn",children:"Sign in"})]}),(lo==="sso"||lo==="reset")&&jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{co("login"),Ll(""),zl("")},className:"auth-link-btn",children:" Back to sign in"})})]}),cs&&jsxRuntimeExports.jsx("div",{className:"auth-dismiss",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:cs,className:"auth-dismiss-btn",children:"Continue without an account"})})]})})},AccountSettings=({isOpen:us,onClose:is})=>{const{user:cs,updateProfile:lo,updatePassword:co,signOut:hs}=useAuth(),[uo,xa]=reactExports.useState(!1),[ba,$a]=reactExports.useState(""),[wl,Sl]=reactExports.useState(""),[Cl,_l]=reactExports.useState(!1),[Il,Fl]=reactExports.useState(""),[Ml,Tl]=reactExports.useState(""),[Dl,Bl]=reactExports.useState(""),[Ll,Nl]=reactExports.useState(""),[zl,$l]=reactExports.useState(""),[Vl,Gl]=reactExports.useState(""),[iu,nu]=reactExports.useState(!1);if(reactExports.useEffect(()=>{var Wu,qu;cs&&us&&(Fl(((Wu=cs==null?void 0:cs.user_metadata)==null?void 0:Wu.first_name)||""),Tl(((qu=cs==null?void 0:cs.user_metadata)==null?void 0:qu.last_name)||""),Bl((cs==null?void 0:cs.email)||""),_l(!1),Nl(""),$l(""),Gl(""),$a(""),Sl(""))},[cs,us]),!us)return null;const Jl=async Wu=>{var Mu,mu;Wu.preventDefault(),$a(""),Sl(""),xa(!0);const qu=[];try{const uu=Il!==((Mu=cs==null?void 0:cs.user_metadata)==null?void 0:Mu.first_name)||Ml!==((mu=cs==null?void 0:cs.user_metadata)==null?void 0:mu.last_name),cu=zl||Vl||Ll;if(cu){if(!Ll){$a("Please enter your current password to change your password"),xa(!1);return}if(!zl){$a("Please enter a new password"),xa(!1);return}if(zl!==Vl){$a("New passwords do not match"),xa(!1);return}if(zl.length<6){$a("Password must be at least 6 characters"),xa(!1);return}}if(uu&&(await lo({first_name:Il,last_name:Ml,full_name:`${Il} ${Ml}`}),qu.push("name")),cu&&(await co(zl),qu.push("password")),qu.length===0){$a("No changes detected"),xa(!1);return}try{const{data:{session:Yl}}=await supabase.auth.getSession();Yl&&((await fetch("https://cvamwtpsuvxvjdnotbeg.supabase.co/functions/v1/send-profile-change-notification",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Yl.access_token}`},body:JSON.stringify({changedFields:qu})})).ok||console.error("Failed to send notification email"))}catch(Yl){console.error("Error sending notification email:",Yl)}const ru=qu.join(" and ");Sl(`Your ${ru} has been updated successfully! A confirmation email has been sent.`),_l(!1),Nl(""),$l(""),Gl("")}catch(uu){$a(uu.message||"Failed to update profile")}finally{xa(!1)}},lu=()=>{var Wu,qu;Fl(((Wu=cs==null?void 0:cs.user_metadata)==null?void 0:Wu.first_name)||""),Tl(((qu=cs==null?void 0:cs.user_metadata)==null?void 0:qu.last_name)||""),Nl(""),$l(""),Gl(""),_l(!1),$a(""),Sl("")},ju=async()=>{$a(""),xa(!0);try{$a("Account deletion must be implemented on the server. Please contact support."),nu(!1)}catch(Wu){$a(Wu.message||"Failed to delete account")}finally{xa(!1)}},zu=async()=>{try{await hs(),is()}catch(Wu){$a(Wu.message||"Failed to sign out")}};return jsxRuntimeExports.jsx("div",{className:"account-settings-overlay",onClick:is,children:jsxRuntimeExports.jsxs("div",{className:"account-settings-modal",onClick:Wu=>Wu.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"account-settings-header",children:[jsxRuntimeExports.jsx("h2",{children:"Account Settings"}),jsxRuntimeExports.jsx("button",{className:"account-settings-close",onClick:is,"aria-label":"Close",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"account-settings-content",children:[ba&&jsxRuntimeExports.jsx("div",{className:"account-error",children:ba}),wl&&jsxRuntimeExports.jsx("div",{className:"account-message",children:wl}),jsxRuntimeExports.jsxs("section",{className:"account-section",children:[jsxRuntimeExports.jsx("h3",{children:"Profile Information"}),Cl?jsxRuntimeExports.jsxs("form",{onSubmit:Jl,children:[jsxRuntimeExports.jsxs("div",{className:"account-form-row",children:[jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"firstName",children:"First Name"}),jsxRuntimeExports.jsx("input",{id:"firstName",type:"text",value:Il,onChange:Wu=>Fl(Wu.target.value),required:!0,disabled:uo,autoComplete:"given-name"})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"lastName",children:"Last Name"}),jsxRuntimeExports.jsx("input",{id:"lastName",type:"text",value:Ml,onChange:Wu=>Tl(Wu.target.value),required:!0,disabled:uo,autoComplete:"family-name"})]})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",value:Dl,disabled:!0,title:"Email cannot be changed",autoComplete:"email"}),jsxRuntimeExports.jsx("div",{className:"account-field-hint",children:"Email cannot be changed"})]}),jsxRuntimeExports.jsx("hr",{className:"account-divider"}),jsxRuntimeExports.jsxs("div",{className:"account-subsection",children:[jsxRuntimeExports.jsxs("div",{className:"account-subsection-header",children:[jsxRuntimeExports.jsx("div",{className:"account-subsection-title",children:"Change Password (Optional)"}),jsxRuntimeExports.jsx("p",{className:"account-subsection-description",children:"Leave blank if you don't want to change your password"})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),jsxRuntimeExports.jsx("input",{id:"currentPassword",type:"password",value:Ll,onChange:Wu=>Nl(Wu.target.value),placeholder:"Required to change password",disabled:uo,autoComplete:"current-password"})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"newPassword",children:"New Password"}),jsxRuntimeExports.jsx("input",{id:"newPassword",type:"password",value:zl,onChange:Wu=>$l(Wu.target.value),placeholder:"",disabled:uo,autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),jsxRuntimeExports.jsx("input",{id:"confirmPassword",type:"password",value:Vl,onChange:Wu=>Gl(Wu.target.value),placeholder:"",disabled:uo,autoComplete:"new-password"})]})]}),jsxRuntimeExports.jsxs("div",{className:"account-btn-group",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"account-btn-primary",disabled:uo,children:uo?"Saving...":"Save Changes"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:lu,className:"account-btn-secondary",disabled:uo,children:"Cancel"})]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{children:"First Name"}),jsxRuntimeExports.jsx("div",{className:`account-field-display ${Il?"":"account-field-display-empty"}`,children:Il||"Not set"})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{children:"Last Name"}),jsxRuntimeExports.jsx("div",{className:`account-field-display ${Ml?"":"account-field-display-empty"}`,children:Ml||"Not set"})]}),jsxRuntimeExports.jsxs("div",{className:"account-form-group",children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("div",{className:"account-field-display",children:Dl}),jsxRuntimeExports.jsx("div",{className:"account-field-hint",children:"Email cannot be changed"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>_l(!0),className:"account-btn-primary",children:"Edit Profile"})]})]}),jsxRuntimeExports.jsx("section",{className:"account-section account-danger-zone",children:iu?jsxRuntimeExports.jsxs("div",{className:"account-delete-confirm",children:[jsxRuntimeExports.jsx("p",{className:"account-delete-confirm-title",children:"Are you absolutely sure?"}),jsxRuntimeExports.jsx("p",{className:"account-delete-confirm-description",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"account-delete-confirm-actions",children:[jsxRuntimeExports.jsx("button",{className:"account-btn-danger",onClick:ju,disabled:uo,children:"Yes, Delete My Account"}),jsxRuntimeExports.jsx("button",{className:"account-btn-secondary",onClick:()=>nu(!1),disabled:uo,children:"Cancel"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"account-btn-danger",onClick:()=>nu(!0),disabled:uo,children:"Delete Account"}),jsxRuntimeExports.jsx("p",{className:"account-danger-zone-description",children:"Permanently delete your account. This action cannot be undone."})]})}),jsxRuntimeExports.jsx("section",{className:"account-section",children:jsxRuntimeExports.jsx("button",{className:"account-btn-secondary account-btn-secondary-full",onClick:zu,children:"Sign Out"})})]})]})})},useOptionalAuth=()=>{const{isAuthenticated:us,loading:is}=useAuth(),[cs,lo]=reactExports.useState(!1),[co,hs]=reactExports.useState(!1);return reactExports.useEffect(()=>{is||(us?localStorage.getItem("authPromptDismissed")==="true"&&hs(!0):(localStorage.removeItem("authPromptDismissed"),hs(!1)))},[is,us]),reactExports.useEffect(()=>{!is&&!us&&!co&&!cs&&lo(!0)},[is,us,co,cs]),{showAuthModal:cs,setShowAuthModal:lo,handleDismiss:()=>{us&&localStorage.setItem("authPromptDismissed","true"),hs(!0),lo(!1)},authPromptDismissed:co}},useProjects=()=>{const{user:us}=useAuth(),[is,cs]=reactExports.useState([]),[lo,co]=reactExports.useState(!0),[hs,uo]=reactExports.useState(null);reactExports.useEffect(()=>{if(!us||!isSupabaseAvailable()){co(!1);return}xa()},[us]);const xa=async()=>{try{co(!0);const{data:Sl,error:Cl}=await supabase.from("projects").select("*").eq("user_id",us.id).order("created_at",{ascending:!1});if(Cl)throw Cl;const _l=Sl||[];return cs(_l),_l}catch(Sl){throw uo(Sl.message),Sl}finally{co(!1)}};return{projects:is,loading:lo,error:hs,createProject:async Sl=>{if(!(!us||!isSupabaseAvailable()))try{const{data:Cl,error:_l}=await supabase.from("projects").insert({user_id:us.id,...Sl}).select().single();if(_l)throw _l;return cs([Cl,...is]),Cl}catch(Cl){throw uo(Cl.message),Cl}},updateProject:async(Sl,Cl)=>{try{const{data:_l,error:Il}=await supabase.from("projects").update(Cl).eq("id",Sl).select().single();if(Il)throw Il;return cs(is.map(Fl=>Fl.id===Sl?_l:Fl)),_l}catch(_l){throw uo(_l.message),_l}},deleteProject:async Sl=>{try{const{error:Cl}=await supabase.from("projects").delete().eq("id",Sl);if(Cl)throw Cl;cs(is.filter(_l=>_l.id!==Sl))}catch(Cl){throw uo(Cl.message),Cl}},refetch:xa}},useDocuments=(us=null)=>{const{user:is}=useAuth(),[cs,lo]=reactExports.useState([]),[co,hs]=reactExports.useState(!0),[uo,xa]=reactExports.useState(null);reactExports.useEffect(()=>{if(!is||!isSupabaseAvailable()){hs(!1);return}ba()},[is,us]);const ba=async()=>{try{hs(!0);let _l=supabase.from("documents").select("*").eq("user_id",is.id).order("updated_at",{ascending:!1});us&&(_l=_l.eq("project_id",us));const{data:Il,error:Fl}=await _l;if(Fl)throw Fl;lo(Il||[])}catch(_l){xa(_l.message)}finally{hs(!1)}};return{documents:cs,loading:co,error:uo,createDocument:async _l=>{if(!(!is||!isSupabaseAvailable()))try{const{data:Il,error:Fl}=await supabase.from("documents").insert({user_id:is.id,..._l}).select().single();if(Fl)throw Fl;return console.log("createDocument success, updating state with:",Il),lo([Il,...cs]),Il}catch(Il){throw xa(Il.message),Il}},updateDocument:async(_l,Il)=>{try{const{data:Fl,error:Ml}=await supabase.from("documents").update(Il).eq("id",_l).select().single();if(Ml)throw Ml;return lo(cs.map(Tl=>Tl.id===_l?Fl:Tl)),Fl}catch(Fl){throw xa(Fl.message),Fl}},deleteDocument:async _l=>{try{const{error:Il}=await supabase.from("documents").delete().eq("id",_l);if(Il)throw Il;lo(cs.filter(Fl=>Fl.id!==_l))}catch(Il){throw xa(Il.message),Il}},updateLastOpened:async _l=>{try{await supabase.from("documents").update({last_opened_at:new Date().toISOString()}).eq("id",_l)}catch(Il){console.error("Error updating last opened:",Il)}},refetch:ba}},useTemplates=()=>{const{user:us}=useAuth(),[is,cs]=reactExports.useState([]),[lo,co]=reactExports.useState(!0),[hs,uo]=reactExports.useState(null);reactExports.useEffect(()=>{if(!us||!isSupabaseAvailable()){co(!1);return}xa()},[us]);const xa=async()=>{try{co(!0);const{data:Sl,error:Cl}=await supabase.from("templates").select("*").eq("user_id",us.id).order("created_at",{ascending:!1});if(Cl)throw Cl;cs(Sl||[])}catch(Sl){uo(Sl.message)}finally{co(!1)}};return{templates:is,loading:lo,error:hs,createTemplate:async Sl=>{if(!(!us||!isSupabaseAvailable()))try{const{data:Cl,error:_l}=await supabase.from("templates").insert({user_id:us.id,...Sl}).select().single();if(_l)throw _l;return cs([Cl,...is]),Cl}catch(Cl){throw uo(Cl.message),Cl}},updateTemplate:async(Sl,Cl)=>{try{const{data:_l,error:Il}=await supabase.from("templates").update(Cl).eq("id",Sl).select().single();if(Il)throw Il;return cs(is.map(Fl=>Fl.id===Sl?_l:Fl)),_l}catch(_l){throw uo(_l.message),_l}},deleteTemplate:async Sl=>{try{const{error:Cl}=await supabase.from("templates").delete().eq("id",Sl);if(Cl)throw Cl;cs(is.filter(_l=>_l.id!==Sl))}catch(Cl){throw uo(Cl.message),Cl}},refetch:xa}},useStorage=()=>{const{user:us}=useAuth();return{uploadDocument:async(hs,uo,xa)=>{if(!us||!isSupabaseAvailable())throw new Error("User not authenticated or Supabase not available");const ba=hs.name.split(".").pop(),$a=`${Date.now()}.${ba}`,wl=`${us.id}/${uo}/${$a}`,{data:Sl,error:Cl}=await supabase.storage.from("documents").upload(wl,hs,{onUploadProgress:xa});if(Cl)throw Cl;return wl},downloadDocument:async hs=>{if(!isSupabaseAvailable())throw new Error("Supabase not available");const{data:uo,error:xa}=await supabase.storage.from("documents").download(hs);if(xa)throw xa;return uo},deleteDocumentFile:async hs=>{if(!isSupabaseAvailable())throw new Error("Supabase not available");const{error:uo}=await supabase.storage.from("documents").remove([hs]);if(uo)throw uo},getDocumentUrl:hs=>{if(!isSupabaseAvailable())return null;const{data:uo}=supabase.storage.from("documents").getPublicUrl(hs);return uo.publicUrl}}};pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`;pdfExports.verbosity=pdfExports.VerbosityLevel.ERRORS;const FONT_FAMILY='-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',hexToRgba=(us,is=.2)=>{us=us.replace("#","");const cs=parseInt(us.substring(0,2),16),lo=parseInt(us.substring(2,4),16),co=parseInt(us.substring(4,6),16);return`rgba(${cs}, ${lo}, ${co}, ${is})`},DEFAULT_SURVEY_HIGHLIGHT_OPACITY=.4,normalizeHighlightColor=(us,is=DEFAULT_SURVEY_HIGHLIGHT_OPACITY)=>{if(!us||typeof us!="string")return null;const cs=us.trim(),lo=cs.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/i);if(lo){const[,co,hs,uo,xa]=lo;if(xa!==void 0){const ba=parseFloat(xa),$a=Number.isFinite(ba)?Math.min(1,Math.max(0,ba)):is;return`rgba(${co}, ${hs}, ${uo}, ${$a})`}return`rgba(${co}, ${hs}, ${uo}, ${is})`}return cs.startsWith("#")?hexToRgba(cs,is):cs},hexToRgb=us=>{us=us.replace("#","");const is=parseInt(us.substring(0,2),16),cs=parseInt(us.substring(2,4),16),lo=parseInt(us.substring(4,6),16);return{r:is,g:cs,b:lo}},getHexFromColor=us=>{if(!us)return null;if(us.startsWith("rgba")){const is=us.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(is){const cs=parseInt(is[1]).toString(16).padStart(2,"0"),lo=parseInt(is[2]).toString(16).padStart(2,"0"),co=parseInt(is[3]).toString(16).padStart(2,"0");return`#${cs}${lo}${co}`}}return us.startsWith("#")?us:null},getHexFromBallColor=us=>{if(!us)return"#E3D1FB";if(us.startsWith("rgba")){const is=us.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(is){const cs=parseInt(is[1]).toString(16).padStart(2,"0"),lo=parseInt(is[2]).toString(16).padStart(2,"0"),co=parseInt(is[3]).toString(16).padStart(2,"0");return`#${cs}${lo}${co}`}}return us.startsWith("#")?us:"#E3D1FB"},getOpacityFromBallColor=us=>{if(!us)return 100;if(us.startsWith("rgba")){const is=us.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(is&&is[4]){const cs=parseFloat(is[4]);return Math.round(cs*100)}}return 100},escapeCSVValue=us=>{if(us==null)return"";const is=String(us);if(is==="")return"";const cs=is.replace(/"/g,'""');return/[",\n]/.test(cs)?`"${cs}"`:cs},sanitizeFilename=(us,is="export")=>!us||typeof us!="string"?is:us.trim().replace(/[^a-z0-9_-]+/gi,"_")||is,dataURLToUint8Array=us=>{const is=us.split(",")[1],cs=atob(is),lo=cs.length,co=new Uint8Array(lo);for(let hs=0;hs<lo;hs+=1)co[hs]=cs.charCodeAt(hs);return co},traceRegionPath=(us,is,cs=1)=>{if(!us||!is||!Array.isArray(is.coordinates)||is.coordinates.length<4)return!1;const lo=is.coordinates;us.moveTo(lo[0]*cs,lo[1]*cs);for(let co=2;co<lo.length;co+=2)us.lineTo(lo[co]*cs,lo[co+1]*cs);return us.closePath(),!0},applyRegionMaskToCanvasContext=(us,is,cs=1)=>{if(!us||!Array.isArray(is)||is.length===0)return;us.save(),us.fillStyle="rgba(40, 40, 40, 0.55)",us.fillRect(0,0,us.canvas.width,us.canvas.height),us.globalCompositeOperation="destination-out",is.forEach(uo=>{us.beginPath(),traceRegionPath(us,uo,cs)&&us.fill()}),us.globalCompositeOperation="source-over",us.restore(),us.save();const lo=document.createElement("canvas");lo.width=12,lo.height=12;const co=lo.getContext("2d");co.strokeStyle="rgba(0, 0, 0, 0.35)",co.lineWidth=1,co.beginPath(),co.moveTo(0,12),co.lineTo(12,0),co.stroke(),co.beginPath(),co.moveTo(-4,12),co.lineTo(8,0),co.stroke();const hs=us.createPattern(lo,"repeat");hs&&(us.fillStyle=hs,us.globalAlpha=.35,us.fillRect(0,0,us.canvas.width,us.canvas.height),us.globalAlpha=1,us.globalCompositeOperation="destination-out",is.forEach(uo=>{us.beginPath(),traceRegionPath(us,uo,cs)&&us.fill()}),us.globalCompositeOperation="source-over"),us.restore()},generateUniqueId=us=>`${us}-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,createCopyName=(us,is)=>{const lo=(us||"Untitled").trim().replace(/\s+\(Copy(?:\s+\d+)?\)$/i,"");let co=`${lo} (Copy)`,hs=2;for(;is.has(co.toLowerCase());)co=`${lo} (Copy ${hs})`,hs+=1;return is.add(co.toLowerCase()),co},normalizeName=us=>typeof us!="string"?"":us.trim().toLowerCase(),hasNameConflict=(us,is,{getName:cs=uo=>uo==null?void 0:uo.name,getId:lo=uo=>uo==null?void 0:uo.id,ignoreId:co,predicate:hs}={})=>{if(!Array.isArray(us))return!1;const uo=normalizeName(is);if(!uo)return!1;const xa=typeof co<"u";return us.some(ba=>{if(!ba||hs&&!hs(ba)||xa&&lo(ba)===co)return!1;const $a=normalizeName(cs(ba));return $a&&$a===uo})},ZOOM_MODE_LABELS={[ZOOM_MODES.FIT_PAGE]:"Fit Page",[ZOOM_MODES.FIT_WIDTH]:"Fit Width",[ZOOM_MODES.FIT_HEIGHT]:"Fit Height",[ZOOM_MODES.MANUAL]:"Manual %"},ZOOM_MODE_DESCRIPTIONS={[ZOOM_MODES.FIT_PAGE]:"Show the entire page within the viewport.",[ZOOM_MODES.FIT_WIDTH]:"Fill the viewer width. Scroll vertically for height.",[ZOOM_MODES.FIT_HEIGHT]:"Fill the viewer height. Horizontal scroll may appear.",[ZOOM_MODES.MANUAL]:"Use a specific zoom percentage."},ZOOM_MODE_OPTIONS=[{id:ZOOM_MODES.FIT_PAGE,label:ZOOM_MODE_LABELS[ZOOM_MODES.FIT_PAGE],description:ZOOM_MODE_DESCRIPTIONS[ZOOM_MODES.FIT_PAGE]},{id:ZOOM_MODES.FIT_WIDTH,label:ZOOM_MODE_LABELS[ZOOM_MODES.FIT_WIDTH],description:ZOOM_MODE_DESCRIPTIONS[ZOOM_MODES.FIT_WIDTH]},{id:ZOOM_MODES.FIT_HEIGHT,label:ZOOM_MODE_LABELS[ZOOM_MODES.FIT_HEIGHT],description:ZOOM_MODE_DESCRIPTIONS[ZOOM_MODES.FIT_HEIGHT]},{id:ZOOM_MODES.MANUAL,label:ZOOM_MODE_LABELS[ZOOM_MODES.MANUAL],description:ZOOM_MODE_DESCRIPTIONS[ZOOM_MODES.MANUAL]}],MANUAL_ZOOM_SESSION_KEY="pdfViewerManualZoomScale",TemplateDragOverlayItem=({label:us})=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"8px",border:"2px solid #4A90E2",background:"rgba(43, 43, 43, 0.92)",color:"#eaeaea",fontSize:"13px",fontWeight:500,boxShadow:"0 10px 26px rgba(0, 0, 0, 0.45)",backdropFilter:"blur(2px)"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px",color:"#4A90E2"},children:""}),jsxRuntimeExports.jsx("span",{style:{whiteSpace:"nowrap"},children:us})]}),TemplateModuleSortableRow=React.memo(function us({module:is,isSelected:cs,nameValue:lo,onToggleSelect:co,onNameChange:hs,onNameKeyDown:uo,disabled:xa}){const{attributes:ba,listeners:$a,setNodeRef:wl,transform:Sl,transition:Cl,isDragging:_l}=useSortable({id:is.id,disabled:xa}),Il={transform:CSS$1.Transform.toString(Sl),transition:Cl||"transform 180ms cubic-bezier(0.2, 0, 0.2, 1)",width:"100%"};return jsxRuntimeExports.jsx("div",{ref:wl,style:Il,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",padding:"4px 6px",borderRadius:"8px",background:_l?"rgba(58, 58, 58, 0.25)":"transparent",border:cs?"1px solid rgba(74, 144, 226, 0.45)":"1px solid transparent",transition:"background 0.18s ease, border-color 0.18s ease"},children:[jsxRuntimeExports.jsx("div",{...ba,...$a,style:{cursor:xa?"default":_l?"grabbing":"grab",color:"#888",fontSize:"16px",userSelect:"none",padding:"4px",display:"flex",alignItems:"center",touchAction:"none"},"aria-label":"Drag to reorder module",children:""}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:cs,onChange:()=>co(is.id),style:{cursor:"pointer",width:"16px",height:"16px",flexShrink:0}}),jsxRuntimeExports.jsx("input",{type:"text",value:lo,onChange:Fl=>hs(is.id,Fl.target.value),onKeyDown:Fl=>uo(is.id,Fl),style:{flex:1,padding:"6px 8px",borderRadius:"6px",border:"1px solid #4A90E2",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px",minWidth:0}})]})})}),BallInCourtSortableRow=React.memo(function us({entity:is,selectedColorPickerId:cs,onOpenColorPicker:lo,onNameChange:co,onDelete:hs,isAnyDragging:uo}){const{attributes:xa,listeners:ba,setNodeRef:$a,transform:wl,transition:Sl,isDragging:Cl}=useSortable({id:is.id}),_l={transform:CSS$1.Transform.toString(wl),transition:Sl||"transform 180ms cubic-bezier(0.2, 0, 0.2, 1)",width:"100%"},Il=cs===is.id,Fl=getHexFromBallColor(is.color),Ml=getOpacityFromBallColor(is.color);return jsxRuntimeExports.jsx("div",{ref:$a,style:_l,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",padding:"8px 10px",background:"#1b1b1b",border:Cl?"1px solid rgba(74, 144, 226, 0.6)":"1px solid #2f2f2f",borderRadius:"8px",boxShadow:Cl?"0 8px 24px rgba(0, 0, 0, 0.45)":"none",opacity:Cl?.65:1,transition:"border 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease"},children:[jsxRuntimeExports.jsx("div",{...xa,...ba,"data-ball-drag-handle":!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"#1f1f1f",border:"1px solid #2d2d2d",cursor:Cl?"grabbing":"grab",color:"#777",flexShrink:0,transition:"background 0.15s ease, color 0.15s ease, border 0.15s ease"},onMouseEnter:Tl=>{Tl.currentTarget.style.color="#bbb",Tl.currentTarget.style.background="#262626",Tl.currentTarget.style.border="1px solid #3a3a3a"},onMouseLeave:Tl=>{Tl.currentTarget.style.color="#777",Tl.currentTarget.style.background="#1f1f1f",Tl.currentTarget.style.border="1px solid #2d2d2d"},title:"Drag to reorder",children:jsxRuntimeExports.jsx(Icon,{name:"grip",size:11})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start",flex:1},children:[jsxRuntimeExports.jsx("div",{"data-color-picker-area":!0,style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"40px",height:"28px",border:Il?"2px solid #4A90E2":"1px solid #2f2f2f",borderRadius:"6px",cursor:"pointer",position:"relative",boxSizing:"border-box",overflow:"hidden",background:"#ffffff"},onClick:Tl=>{Tl.stopPropagation(),lo(is.id,Fl,Ml)},children:jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,background:Fl||"#E3D1FB",opacity:Ml/100,borderRadius:"5px"}})}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"9px",color:"#666",lineHeight:1,textAlign:"center",opacity:.7},children:[Ml,"%"]})]})}),jsxRuntimeExports.jsx("input",{type:"text",value:is.name,onChange:Tl=>co(is.id,Tl.target.value),placeholder:"Entity name (e.g., GC, Subcontractor)",style:{flex:1,padding:"6px 8px",background:"#141414",color:"#ddd",border:"1px solid #2f2f2f",borderRadius:"6px",outline:"none",fontSize:"13px",height:"28px",boxSizing:"border-box"}})]}),jsxRuntimeExports.jsx("button",{"data-ball-delete":!0,onClick:hs,title:"Delete",className:"btn btn-danger btn-icon-only btn-sm",style:{padding:"6px",minWidth:"28px",minHeight:"28px",flexShrink:0,display:uo?"none":"flex"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:11})})]})})}),BallInCourtDragOverlayItem=({entity:us})=>{if(!us)return null;const is=getHexFromBallColor(us.color),cs=getOpacityFromBallColor(us.color);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"8px",border:"2px solid #4A90E2",background:"rgba(43, 43, 43, 0.92)",color:"#eaeaea",fontSize:"13px",fontWeight:500,boxShadow:"0 10px 26px rgba(0, 0, 0, 0.45)",backdropFilter:"blur(2px)"},children:[jsxRuntimeExports.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"#1f1f1f",border:"1px solid #2d2d2d",color:"#bbb"},children:jsxRuntimeExports.jsx(Icon,{name:"grip",size:11})}),jsxRuntimeExports.jsx("span",{style:{width:"32px",height:"20px",borderRadius:"5px",background:is||"#E3D1FB",opacity:cs/100,border:"1px solid rgba(255, 255, 255, 0.12)"}}),jsxRuntimeExports.jsx("span",{style:{whiteSpace:"nowrap"},children:us.name||"Entity"})]})},TemplateCategorySortableRow=React.memo(function us({category:is,isSelected:cs,nameValue:lo,onToggleSelect:co,onNameChange:hs,onNameKeyDown:uo,disabled:xa}){const{attributes:ba,listeners:$a,setNodeRef:wl,transform:Sl,transition:Cl,isDragging:_l}=useSortable({id:is.id,disabled:xa}),Il={transform:CSS$1.Transform.toString(Sl),transition:Cl||"transform 180ms cubic-bezier(0.2, 0, 0.2, 1)",width:"100%"};return jsxRuntimeExports.jsx("div",{ref:wl,style:Il,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",padding:"4px 6px",borderRadius:"8px",background:_l?"rgba(58, 58, 58, 0.25)":"transparent",border:cs?"1px solid rgba(74, 144, 226, 0.45)":"1px solid transparent",transition:"background 0.18s ease, border-color 0.18s ease"},children:[jsxRuntimeExports.jsx("div",{...ba,...$a,style:{cursor:xa?"default":_l?"grabbing":"grab",color:"#888",fontSize:"16px",userSelect:"none",padding:"4px",display:"flex",alignItems:"center",touchAction:"none"},"aria-label":"Drag to reorder category",children:""}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:cs,onChange:()=>co(is.id),style:{cursor:"pointer",width:"16px",height:"16px",flexShrink:0}}),jsxRuntimeExports.jsx("input",{type:"text",value:lo,onChange:Fl=>hs(is.id,Fl.target.value),onKeyDown:Fl=>uo(is.id,Fl),style:{flex:1,padding:"6px 8px",borderRadius:"6px",border:"1px solid #4A90E2",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px",minWidth:0}})]})})}),rgbToHsl=(us,is,cs)=>{us/=255,is/=255,cs/=255;const lo=Math.max(us,is,cs),co=Math.min(us,is,cs);let hs,uo,xa=(lo+co)/2;if(lo===co)hs=uo=0;else{const ba=lo-co;switch(uo=xa>.5?ba/(2-lo-co):ba/(lo+co),lo){case us:hs=((is-cs)/ba+(is<cs?6:0))/6;break;case is:hs=((cs-us)/ba+2)/6;break;case cs:hs=((us-is)/ba+4)/6;break}}return{h:hs*360,s:uo*100,l:xa*100}},hslToRgb=(us,is,cs)=>{us/=360,is/=100,cs/=100;let lo,co,hs;if(is===0)lo=co=hs=cs;else{const uo=($a,wl,Sl)=>(Sl<0&&(Sl+=1),Sl>1&&(Sl-=1),Sl<.16666666666666666?$a+(wl-$a)*6*Sl:Sl<.5?wl:Sl<.6666666666666666?$a+(wl-$a)*(.6666666666666666-Sl)*6:$a),xa=cs<.5?cs*(1+is):cs+is-cs*is,ba=2*cs-xa;lo=uo(ba,xa,us+1/3),co=uo(ba,xa,us),hs=uo(ba,xa,us-1/3)}return{r:Math.round(lo*255),g:Math.round(co*255),b:Math.round(hs*255)}},generateColorSwatches=()=>{const us=[];return us.push("#FF0000","#CC0000","#990000","#660000","#FF3366","#FF6699","#FF99CC","#CC0066"),us.push("#FFFF00","#FFCC00","#FF9900","#FF6600","#CC6600","#996600","#CC9900","#FFCC66"),us.push("#00FF00","#00CC00","#00FF66","#66FF00","#33CC00","#00CC66","#009900","#006600"),us.push("#0000FF","#0066FF","#0099FF","#00CCFF","#00FFFF","#0066CC","#6600CC","#0000CC"),us.push("#000000","#333333","#666666","#999999","#CCCCCC","#FFFFFF","#E3D1FB","#CBDCFF"),us},generateUUID=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,getPDFId=us=>us?`${us.name}-${us.size}`:null,loadPDFData=us=>{if(!us)return{items:{},annotations:{}};try{const is=localStorage.getItem(`pdfData_${us}`);if(!is)return{items:{},annotations:{}};const cs=JSON.parse(is);return{items:cs.items||{},annotations:cs.annotations||{}}}catch{return{items:{},annotations:{}}}},savePDFData=(us,is,cs)=>{if(us)try{const lo={items:is,annotations:cs};localStorage.setItem(`pdfData_${us}`,JSON.stringify(lo))}catch(lo){console.error("Error saving PDF data:",lo)}},saveHighlightAnnotations=(us,is)=>{if(us)try{const cs=`highlightAnnotations_${us}`,lo=JSON.stringify(is);localStorage.setItem(cs,lo)}catch(cs){console.error("Error saving highlight annotations:",cs)}},loadHighlightAnnotations=us=>{if(!us)return{};try{const is=localStorage.getItem(`highlightAnnotations_${us}`);return is?JSON.parse(is):{}}catch(is){return console.error("Error loading highlight annotations:",is),{}}},getModuleName=(us,is)=>{var lo;const cs=(lo=us==null?void 0:us.modules)==null?void 0:lo.find(co=>co.id===is);return(cs==null?void 0:cs.name)||"Unknown Module"},getCategoryName=(us,is,cs)=>{var hs,uo;const lo=(hs=us==null?void 0:us.modules)==null?void 0:hs.find(xa=>xa.id===is),co=(uo=lo==null?void 0:lo.categories)==null?void 0:uo.find(xa=>xa.id===cs);return(co==null?void 0:co.name)||"Unknown Category"},escapeRegExp=(us="")=>us.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),generateDefaultHighlightName=(us,is=[])=>{const cs=us.trim()?us.trim():"Untitled Category",lo=new RegExp(`^${escapeRegExp(cs)}\\s+(\\d+)$`,"i");let co=0;return is.forEach(hs=>{const uo=((hs==null?void 0:hs.name)||"").trim(),xa=lo.exec(uo);if(xa){const ba=parseInt(xa[1],10);Number.isNaN(ba)||(co=Math.max(co,ba))}}),`${cs} ${co+1}`},getItemType=(us,is,cs)=>getCategoryName(us,is,cs),createItem=(us,is,cs,lo,co=1)=>{const hs=generateUUID(),uo=getItemType(us,is,cs);getModuleName(us,is);const xa={};return us!=null&&us.modules&&us.modules.forEach(ba=>{xa[`${ba.name.toLowerCase()}Data`]={}}),{itemId:hs,itemType:uo,name:lo,quantity:co,...xa}},createAnnotation=(us,is,cs,lo,co,hs)=>{const uo=generateUUID(),xa={};return cs!=null&&cs.modules&&cs.modules.forEach(ba=>{xa[`${ba.name.toLowerCase()}Data`]={}}),{annotationId:uo,pdfCoordinates:us,displayType:is,moduleId:lo,itemId:co||null,itemType:hs||null,notesData:xa}},getModuleDataKey=us=>`${us.toLowerCase().replace(/\s+/g,"")}Data`,filterAnnotationsByModule=(us,is)=>Object.fromEntries(Object.entries(us).filter(([cs,lo])=>lo.moduleId===is)),categoryExists=(us,is,cs)=>{var co;const lo=(co=us==null?void 0:us.modules)==null?void 0:co.find(hs=>hs.id===is);return!lo||!lo.categories?!1:lo.categories.some(hs=>hs.name===cs)},transferItems=(us,is,cs,lo,co,hs)=>{const uo={...co},xa={...hs},ba={};us.forEach(wl=>{const Sl=co[wl];if(!Sl)return;const Cl=Sl.itemType;ba[Cl]||(ba[Cl]=[]),ba[Cl].push(Sl)});const $a=[];return Object.keys(ba).forEach(wl=>{categoryExists(lo,cs,wl)||$a.push({itemType:wl,items:ba[wl]})}),Object.keys(ba).forEach(wl=>{var Sl,Cl;if(categoryExists(lo,cs,wl)){const _l=(Sl=lo==null?void 0:lo.modules)==null?void 0:Sl.find(Fl=>Fl.id===cs),Il=(Cl=_l==null?void 0:_l.categories)==null?void 0:Cl.find(Fl=>Fl.name===wl);Il!=null&&Il.id,ba[wl].forEach(Fl=>{const Ml=getModuleName(lo,cs),Tl=getModuleDataKey(Ml);uo[Fl.itemId]={...Fl,[Tl]:{_initialized:!0}};const Dl=Object.values(hs).find(Bl=>Bl.itemId===Fl.itemId&&Bl.moduleId===is);if(Dl){const Bl=createAnnotation(Dl.pdfCoordinates,Dl.displayType||"highlight",lo,cs,Fl.itemId,wl);xa[Bl.annotationId]=Bl}else{const Bl=createAnnotation(null,"highlight",lo,cs,Fl.itemId,wl);xa[Bl.annotationId]=Bl}})}}),{newItems:uo,updatedAnnotations:xa,categoriesToCreate:$a}},migrateLegacyHighlights=(us,is,cs,lo)=>{const co={...is},hs={...cs};return Object.values(us).forEach(uo=>{const xa=getCategoryName(lo,uo.moduleId,uo.categoryId),ba=Object.values(co).find($a=>$a.name===uo.name&&$a.itemType===xa&&uo.moduleId);if(ba){if(!Object.values(hs).find(wl=>wl.itemId===ba.itemId&&wl.moduleId===uo.moduleId)){const wl=createAnnotation(uo.bounds,"highlight",lo,uo.moduleId,ba.itemId,xa);hs[wl.annotationId]=wl}}else{const $a=createItem(lo,uo.moduleId,uo.categoryId,uo.name||"Untitled Item",1),wl=getModuleName(lo,uo.moduleId),Sl=getModuleDataKey(wl);$a[Sl]=uo.checklistResponses||{};const Cl=createAnnotation(uo.bounds,"highlight",lo,uo.moduleId,$a.itemId,xa);co[$a.itemId]=$a,hs[Cl.annotationId]=Cl}}),{items:co,annotations:hs}};function PDFThumbnail({dataUrl:us,filePath:is,docId:cs,getDocumentUrl:lo,downloadDocument:co}){const[hs,uo]=reactExports.useState(null),[xa,ba]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{let wl=null;if(us)try{wl=await(await fetch(us)).arrayBuffer()}catch(Sl){console.error("Error fetching dataUrl:",Sl),ba(!1);return}else if(is&&co)try{wl=await(await co(is)).arrayBuffer()}catch(Sl){console.error("Error downloading document for thumbnail:",Sl),ba(!1);return}else if(is&&lo)try{const Sl=lo(is);if(Sl){const Cl=await fetch(Sl);if(!Cl.ok)throw new Error(`Failed to fetch PDF: ${Cl.status}`);wl=await Cl.arrayBuffer()}}catch(Sl){console.error("Error fetching PDF URL:",Sl),ba(!1);return}if(!wl){ba(!1);return}try{const _l=await(await pdfExports.getDocument({data:wl}).promise).getPage(1),Il=_l.getViewport({scale:.3}),Fl=document.createElement("canvas"),Ml=Fl.getContext("2d");Fl.width=Il.width,Fl.height=Il.height,await _l.render({canvasContext:Ml,viewport:Il}).promise;const Tl=Fl.toDataURL("image/jpeg",.85);uo(Tl)}catch(Sl){console.error("Error generating thumbnail from PDF:",Sl),uo(null)}finally{ba(!1)}})()},[us,is,cs,lo,co]),xa?jsxRuntimeExports.jsx("div",{style:{fontSize:"48px",height:"80px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:.4,background:"#2a2a2a",borderRadius:"4px",border:"1px solid #3a3a3a"},children:jsxRuntimeExports.jsx(Icon,{name:"document",size:32,color:"#999"})}):hs?jsxRuntimeExports.jsx("img",{src:hs,alt:"PDF thumbnail",style:{width:"100%",maxHeight:"100px",objectFit:"contain",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",background:"#1a1a1a"}}):jsxRuntimeExports.jsx("div",{style:{height:"80px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#2a2a2a",borderRadius:"4px",border:"1px solid #3a3a3a",opacity:.6},children:jsxRuntimeExports.jsx(Icon,{name:"document",size:40,color:"#999"})})}const Dashboard=reactExports.forwardRef(function us({onDocumentSelect:is,onBack:cs,documents:lo,setDocuments:co,templates:hs=[],onTemplatesChange:uo,onShowAuthModal:xa},ba){var xx,bx,wx,yy,Hy,tx;const $a=reactExports.useRef(),wl=reactExports.useRef(),[Sl,Cl]=reactExports.useState(!1),[_l,Il]=reactExports.useState(!1),[Fl,Ml]=reactExports.useState(!1),[Tl,Dl]=reactExports.useState(""),[Bl,Ll]=reactExports.useState("personal"),[Nl,zl]=reactExports.useState([]),[$l,Vl]=reactExports.useState(null),[Gl,iu]=reactExports.useState(null),[nu,Jl]=reactExports.useState(!1),[lu,ju]=reactExports.useState(""),[zu,Wu]=reactExports.useState(!1),[qu,Mu]=reactExports.useState(""),[mu,uu]=reactExports.useState(!1),[cu,ru]=reactExports.useState(!1),[Yl,Hl]=reactExports.useState({}),[Kl,_c]=reactExports.useState({}),[Ql,su]=reactExports.useState([]),[gu,Cu]=reactExports.useState([]),[vu,fu]=reactExports.useState([]),Fu=reactExports.useRef(null),[_f,Xu]=reactExports.useState(!1),[Gu,Uu]=reactExports.useState(null),[Au,Pu]=reactExports.useState("copy"),{user:Ou,isAuthenticated:ip,signOut:$u}=useAuth(),[np,Eu]=reactExports.useState(!1),[Lu,up]=reactExports.useState(!1),mp=reactExports.useRef(null),{projects:Rp,createProject:kp,updateProject:hu,deleteProject:Zl,refetch:eu}=useProjects(),{templates:Nu,createTemplate:Zu,updateTemplate:Vu,deleteTemplate:yu,refetch:Hu}=useTemplates(),{uploadDocument:Sp,deleteDocumentFile:Np,downloadDocument:Lp,getDocumentUrl:Ku}=useStorage(),[wp,Bp]=reactExports.useState([{id:`entity-${Date.now()}-1`,name:"GC",color:"#E3D1FB"},{id:`entity-${Date.now()}-2`,name:"Subcontractor",color:"#FFF5C3"},{id:`entity-${Date.now()}-3`,name:"My Company",color:"#CBDCFF"},{id:`entity-${Date.now()}-4`,name:"100% Complete",color:"#B2FFB2"},{id:`entity-${Date.now()}-5`,name:"Removed",color:"#BBBBBB"}].map(bu=>({...bu,color:hexToRgba(bu.color,.2)}))),[Pp,n0]=reactExports.useState(null),[Jp,Ju]=reactExports.useState("grid"),[_d,hp]=reactExports.useState(null),[xp,Ru]=reactExports.useState(null),[sp,lp]=reactExports.useState(!1),Ip=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:6}}));reactExports.useEffect(()=>{const bu=Iu=>{mp.current&&!mp.current.contains(Iu.target)&&Eu(!1)};return np&&document.addEventListener("mousedown",bu),()=>{document.removeEventListener("mousedown",bu)}},[np]);const[_p,Mp]=reactExports.useState(null),d0=reactExports.useMemo(()=>wp.find(bu=>bu.id===_p)||null,[_p,wp]),dp=reactExports.useCallback(({active:bu})=>{Mp(bu.id)},[]),a0=reactExports.useCallback(({active:bu,over:Iu})=>{Mp(null),!(!Iu||bu.id===Iu.id)&&Bp(op=>{const fp=op.findIndex(wu=>wu.id===bu.id),tu=op.findIndex(wu=>wu.id===Iu.id);return fp===-1||tu===-1?op:arrayMove(op,fp,tu)})},[]),Dp=reactExports.useCallback(()=>{Mp(null)},[]),_0=!!_p;reactExports.useEffect(()=>(_0?document.body.classList.add("ball-in-court-dragging"):document.body.classList.remove("ball-in-court-dragging"),()=>{document.body.classList.remove("ball-in-court-dragging")}),[_0]);const[E0,P0]=reactExports.useState(""),[sm,Y0]=reactExports.useState([]),[_m,Em]=reactExports.useState(!1),[om,_1]=reactExports.useState({key:"uploadedAt",direction:"desc"}),[Pm,p1]=reactExports.useState(""),[s1,e1]=reactExports.useState("grid"),[q0,q1]=reactExports.useState("documents"),j0=Rp||[],xm=reactExports.useMemo(()=>Array.isArray(Nu)?Nu.map(bu=>{const Iu=bu!=null&&bu.config&&typeof bu.config=="object"?bu.config:{},op=Iu.id||bu.id;return{...Iu,id:op,supabaseId:bu.id,name:Iu.name||bu.name||"Untitled Template",createdAt:Iu.createdAt||bu.created_at||bu.updated_at||new Date().toISOString(),updatedAt:Iu.updatedAt||bu.updated_at||Iu.createdAt||bu.created_at||new Date().toISOString()}}):[],[Nu]),V1=reactExports.useRef(!1),Pv=reactExports.useCallback(bu=>{if(!bu)return null;if(typeof bu=="object"&&bu.supabaseId)return bu.supabaseId;const Iu=typeof bu=="string"?bu:bu.id;if(!Iu)return null;const op=xm.find(tu=>tu.id===Iu);if(op!=null&&op.supabaseId)return op.supabaseId;const fp=(Nu||[]).find(tu=>tu.id===Iu||tu.config&&tu.config.id===Iu);return(fp==null?void 0:fp.id)||null},[xm,Nu]),t1=bu=>{if(!bu||typeof bu!="object")return bu;const{supabaseId:Iu,...op}=bu;return op},Sy=reactExports.useCallback(bu=>{const op=typeof bu=="function"?bu(xm):bu,fp=Array.isArray(op)?op:[];V1.current||setTimeout(()=>uo==null?void 0:uo(fp),0)},[uo,xm]),[hm,K0]=reactExports.useState(null),[pm,am]=reactExports.useState(null),[x1,Fy]=reactExports.useState(null),{documents:L1,createDocument:Uv,updateDocument:Jv,deleteDocument:dm,refetch:xv}=useDocuments(hm),{documents:B0}=useDocuments(null),bm={width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},dy={fontSize:"14px",fontWeight:"500",lineHeight:"20px"},[vm,b1]=reactExports.useState(!1),[Fm,g1]=reactExports.useState([]),[jy,J0]=reactExports.useState(!1),Ym=reactExports.useRef(null);reactExports.useEffect(()=>{try{const bu=localStorage.getItem("dashboardViewMode");(bu==="grid"||bu==="table")&&e1(bu)}catch{}},[]),reactExports.useEffect(()=>{Array.isArray(xm)&&(V1.current||(V1.current=!0,setTimeout(()=>{uo==null||uo(xm),V1.current=!1},0)))},[xm,uo]),reactExports.useEffect(()=>{if(!Array.isArray(L1))return;console.log("Syncing documents from Supabase:",L1.length,L1);const bu=L1.map(Iu=>({id:Iu.id,name:Iu.name,size:Iu.file_size||0,uploadedAt:Iu.created_at||Iu.updated_at,type:"application/pdf",filePath:Iu.file_path,projectId:Iu.project_id}));co(Iu=>[...Iu.filter(fp=>fp.id.startsWith("temp-")&&!bu.some(tu=>tu.name===fp.name&&tu.size===fp.size)),...bu])},[L1]),reactExports.useEffect(()=>{try{localStorage.setItem("dashboardViewMode",s1)}catch{}},[s1]),reactExports.useEffect(()=>{const bu=Iu=>{Ym.current&&!Ym.current.contains(Iu.target)&&J0(!1)};return jy&&document.addEventListener("mousedown",bu),()=>{document.removeEventListener("mousedown",bu)}},[jy]),reactExports.useEffect(()=>{iu(null)},[$l]);const A1=async bu=>{var op;const Iu=(op=bu.target.files)==null?void 0:op[0];if(console.log("handleFileUpload called, file:",Iu),Iu&&Iu.type==="application/pdf"){if(console.log("File is valid PDF, name:",Iu.name,"size:",Iu.size),!Ou){alert("Please sign in to upload documents"),xa(),bu.target.value="";return}let fp=null;hm&&q0==="projects"&&(fp=hm),Iu.uploadStartTime=performance.now(),is(Iu);const tu={id:`temp-${Date.now()}`,name:Iu.name,size:Iu.size,uploadedAt:new Date().toISOString(),type:"application/pdf",filePath:null,projectId:fp,file:Iu};co(wu=>[tu,...wu]),(async()=>{try{const wu=Sp(Iu,fp||"general"),ku=(async()=>{const ap=await Iu.arrayBuffer();return(await pdfExports.getDocument({data:ap}).promise).numPages})(),[Tu,_u]=await Promise.all([wu,ku]),tp=await Uv({name:Iu.name,file_path:Tu,file_size:Iu.size,page_count:_u,project_id:fp||null});console.log("Background upload completed for:",Iu.name,"New Doc:",tp)}catch(wu){console.error("Error uploading file in background:",wu),alert("Failed to save document to cloud: "+(wu.message||"Unknown error"))}})()}else console.log("File is not a valid PDF or no file selected");bu.target.value=""},T1=()=>{P0(""),Y0([]),Em(!1),Cl(!0)},Lm=bu=>{const Iu=Array.from(bu.target.files||[]);bu.target.value="";const op=Iu.filter(fp=>fp.type==="application/pdf");Y0(fp=>[...fp,...op])},Q1=bu=>{var fp;bu.preventDefault(),bu.stopPropagation(),Em(!1);const op=Array.from(((fp=bu.dataTransfer)==null?void 0:fp.files)||[]).filter(tu=>tu.type==="application/pdf");Y0(tu=>[...tu,...op])},n1=bu=>{bu.preventDefault(),bu.stopPropagation(),Em(!0)},Tm=bu=>{bu.preventDefault(),bu.stopPropagation(),Em(!1)},$v=async(bu,Iu)=>{if(!Ou){const Tu=new Error("User not authenticated");throw Tu.code="NOT_AUTHENTICATED",Tu}const op=bu.trim(),fp=await eu()||Rp||[];if(console.log("Checking for name conflict. Current projects:",fp.map(Tu=>({id:Tu.id,name:Tu.name}))),hasNameConflict(fp,op,{getName:Tu=>Tu==null?void 0:Tu.name})){const Tu=new Error("A project with this name already exists. Please choose a different name.");throw Tu.code="DUPLICATE_PROJECT_NAME",Tu}let tu=null;try{tu=await kp({name:op}),console.log("Project created successfully:",tu)}catch(Tu){console.error("Error creating project in database:",Tu);const _u=new Error(`Failed to create project: ${Tu.message||"Unknown error"}`);throw _u.code="PROJECT_CREATE_FAILED",_u.originalError=Tu,_u}const wu=[];let ku=0;for(const Tu of Iu)try{console.log(`Uploading file: ${Tu.name} (${Tu.size} bytes)`);const _u=await Sp(Tu,tu.id);console.log(`File uploaded to storage: ${_u}`);const tp=await Tu.arrayBuffer(),gp=(await pdfExports.getDocument({data:tp}).promise).numPages;console.log(`PDF has ${gp} pages`);const pp=await Uv({name:Tu.name,file_path:_u,file_size:Tu.size,page_count:gp,project_id:tu.id});console.log("Document record created:",pp),ku++}catch(_u){console.error(`Error uploading file ${Tu.name}:`,_u),wu.push({fileName:Tu.name,error:_u.message||_u.toString()})}if(ku===0){const Tu=wu.map(tp=>`${tp.fileName}: ${tp.error}`).join("; "),_u=new Error(`Failed to upload any files. Errors: ${Tu}`);_u.code="NO_FILES_UPLOADED",_u.uploadErrors=wu;try{await Zl(tu.id),console.log("Cleaned up project after failed uploads")}catch(tp){console.error("Error cleaning up project:",tp)}throw _u}wu.length>0&&console.warn("Some files failed to upload:",wu),console.log(`Successfully uploaded ${ku} file(s) to project`);try{await eu(),await xv(),console.log("Projects and documents refetched")}catch(Tu){console.error("Error refetching data:",Tu)}},My=async()=>{var op,fp;if(!E0.trim()){alert("Please enter a project name.");return}const bu=E0.trim();let Iu=Rp||[];try{Iu=await eu()||Iu}catch(tu){console.error("Error refetching projects:",tu)}if(console.log("Checking for name conflict. Current projects:",Iu.map(tu=>({id:tu.id,name:tu.name}))),hasNameConflict(Iu,bu,{getName:tu=>tu==null?void 0:tu.name})){alert("A project with this name already exists. Please choose a different name.");return}if(sm.length===0){alert("Please add at least one PDF.");return}try{await $v(bu,sm),Cl(!1),P0(""),Y0([])}catch(tu){if(console.error("Error creating project:",tu),(tu==null?void 0:tu.code)==="DUPLICATE_PROJECT_NAME"){alert(tu.message);return}if((tu==null?void 0:tu.code)==="NOT_AUTHENTICATED"){alert("Please sign in to create projects."),xa();return}if((tu==null?void 0:tu.code)==="NO_FILES_UPLOADED"){const ku=((op=tu.uploadErrors)==null?void 0:op.map(Tu=>`
- ${Tu.fileName}: ${Tu.error}`).join(""))||"";alert(`Failed to upload files:${ku}

Please check your file sizes and try again.`);return}if((tu==null?void 0:tu.code)==="PROJECT_CREATE_FAILED"||(tu==null?void 0:tu.code)==="PROJECT_UPDATE_FAILED"){const ku=((fp=tu.originalError)==null?void 0:fp.message)||tu.message||"Unknown error";alert(`Failed to save project: ${ku}

Please check your connection and try again.`);return}const wu=tu.message||tu.toString()||"Unknown error";alert(`There was an error creating the project: ${wu}

Please try again or check the console for more details.`)}},Qv=()=>{Cl(!1)},ov=()=>q0==="projects"?hm?"projectFiles":"projects":q0==="templates"?pm?"templateFiles":"templates":"documents",B1=()=>{var Iu;const bu=ov();return bu==="documents"?dv:bu==="projects"?Ly:bu==="projectFiles"?hm&&L1?L1.map(op=>({id:op.id,name:op.name,size:op.file_size||0,uploadedAt:op.created_at||op.updated_at,type:"application/pdf",filePath:op.file_path,projectId:op.project_id})):[]:bu==="templates"?By:bu==="templateFiles"?((Iu=xm.find(op=>op.id===pm))==null?void 0:Iu.pdfs)||[]:[]},U1=bu=>Fm.includes(bu),Wm=(bu,Iu)=>{Iu&&Iu.stopPropagation&&Iu.stopPropagation(),g1(op=>op.includes(bu)?op.filter(fp=>fp!==bu):[...op,bu])},bv=()=>{const bu=B1();g1(bu.map(Iu=>Iu.id))},d1=()=>{b1(!1),g1([])},uv=(bu,{resetProject:Iu=!1,resetTemplate:op=!1}={})=>{bu!==q0&&vm&&d1(),Iu&&K0(null),op&&am(null),q1(bu)},v0=async bu=>{if(!Ou){console.warn("User not authenticated, cannot save projects");return}try{const Iu=new Set(j0.map(fp=>fp.id)),op=new Set(bu.map(fp=>fp.id));for(const fp of j0)if(!op.has(fp.id))try{await Zl(fp.id)}catch(tu){console.error("Error deleting project:",tu)}for(const fp of bu)if(Iu.has(fp.id))try{await hu(fp.id,{name:fp.name,config:{pdfs:fp.pdfs||[],createdAt:fp.createdAt}})}catch(tu){console.error("Error updating project:",tu)}else try{await kp({name:fp.name,config:{pdfs:fp.pdfs||[],createdAt:fp.createdAt}})}catch(tu){console.error("Error creating project:",tu)}await eu()}catch(Iu){console.error("Error persisting projects:",Iu)}},Iv=async bu=>{if(!Ou){console.warn("User not authenticated, cannot save templates");return}try{const Iu=new Set(xm.map(fp=>fp.id)),op=new Set(bu.map(fp=>fp.id));for(const fp of xm)if(!op.has(fp.id)){const tu=Pv(fp);if(!tu)continue;try{await yu(tu)}catch(wu){console.error("Error deleting template:",wu)}}for(const fp of bu){const tu=t1(fp);if(Iu.has(fp.id)){const wu=Pv(fp);if(!wu){console.warn("Unable to resolve Supabase template id for update, creating new template instead.");try{await Zu({name:fp.name,config:tu})}catch(ku){console.error("Error creating template:",ku)}continue}try{await Vu(wu,{name:fp.name,config:tu})}catch(ku){console.error("Error updating template:",ku)}}else try{await Zu({name:fp.name,config:tu})}catch(wu){console.error("Error creating template:",wu)}}await Hu()}catch(Iu){console.error("Error persisting templates:",Iu)}},ax=async()=>{const bu=ov();if(Fm.length!==0){if(!Ou){alert("Please sign in to delete items");return}try{if(bu==="documents"){for(const Iu of Fm)try{const op=L1.find(fp=>fp.id===Iu);op!=null&&op.file_path&&await Np(op.file_path),await dm(Iu)}catch(op){console.error("Error deleting document:",op)}await xv()}else if(bu==="projects"){for(const Iu of Fm)try{await Zl(Iu)}catch(op){console.error("Error deleting project:",op)}await eu()}else if(bu==="projectFiles"){if(j0.find(op=>op.id===hm)){for(const op of Fm)try{const fp=L1.find(tu=>tu.id===op);fp!=null&&fp.file_path&&await Np(fp.file_path),await dm(op)}catch(fp){console.error("Error deleting document:",fp)}await eu(),await xv()}}else if(bu==="templates"){for(const Iu of Fm){const op=Pv(Iu);if(op)try{await yu(op)}catch(fp){console.error("Error deleting template:",fp)}}await Hu()}else if(bu==="templateFiles"){const Iu=xm.find(op=>op.id===pm);if(Iu){const op=(Array.isArray(Iu.pdfs)?Iu.pdfs:[]).filter(tu=>!Fm.includes(tu.id)),fp=Pv(Iu);if(fp){const tu=t1({...Iu,pdfs:op});await Vu(fp,{config:tu}),await Hu()}else console.warn("Unable to resolve Supabase template id for template files update.")}}d1()}catch(Iu){console.error("Error in bulk delete:",Iu),alert("Failed to delete items: "+(Iu.message||"Unknown error"))}}},hv=()=>{const bu=ov();if(Fm.length!==0){if(bu==="documents"){const op=dv.filter(fp=>Fm.includes(fp.id)).map(fp=>({...fp,id:`${Date.now()}-${Math.random()}`,name:`${fp.name} (Copy)`}));co(fp=>[...op,...fp])}else if(bu==="projects"){const Iu=j0.filter(wu=>Fm.includes(wu.id)),op=new Set(j0.map(wu=>normalizeName(wu==null?void 0:wu.name)).filter(Boolean)),tu=[...Iu.map(wu=>{var gp;const ku=`${Date.now()}-${Math.random()}`,Tu=(wu.pdfs||[]).map(pp=>({...pp,id:`${Date.now()}-${Math.random()}`})),_u=((gp=wu==null?void 0:wu.name)==null?void 0:gp.trim())||"Untitled Project",tp=normalizeName(_u);let ap=_u;return tp&&op.has(tp)?ap=createCopyName(_u,op):tp&&op.add(tp),{...wu,id:ku,name:ap,createdAt:new Date().toISOString(),pdfs:Tu}}),...j0];v0(tu)}else if(bu==="projectFiles"){const Iu=j0.find(op=>op.id===hm);if(Iu){const fp=(Iu.pdfs||[]).filter(ku=>Fm.includes(ku.id)).map(ku=>({...ku,id:`${Date.now()}-${Math.random()}`,name:`${ku.name} (Copy)`})),tu={...Iu,pdfs:[...fp,...Iu.pdfs||[]]},wu=j0.map(ku=>ku.id===Iu.id?tu:ku);v0(wu),co(ku=>[...fp,...ku])}}else if(bu==="templates"){const Iu=xm.filter(wu=>Fm.includes(wu.id)),op=new Set(xm.map(wu=>normalizeName(wu==null?void 0:wu.name)).filter(Boolean)),tu=[...Iu.map(wu=>{var gp;const ku=`${Date.now()}-${Math.random()}`,Tu=(wu.pdfs||[]).map(pp=>({...pp,id:`${Date.now()}-${Math.random()}`})),_u=((gp=wu==null?void 0:wu.name)==null?void 0:gp.trim())||"Template",tp=normalizeName(_u);let ap=_u;return tp&&op.has(tp)?ap=createCopyName(_u,op):tp&&op.add(tp),{...wu,id:ku,name:ap,createdAt:new Date().toISOString(),pdfs:Tu}}),...xm];Iv(tu)}else if(bu==="templateFiles"){const Iu=xm.find(op=>op.id===pm);if(Iu){const fp=(Iu.pdfs||[]).filter(ku=>Fm.includes(ku.id)).map(ku=>({...ku,id:`${Date.now()}-${Math.random()}`,name:`${ku.name} (Copy)`})),tu={...Iu,pdfs:[...fp,...Iu.pdfs||[]]},wu=xm.map(ku=>ku.id===Iu.id?tu:ku);Iv(wu)}}d1()}},Cm=()=>{const bu=ov();if(Fm.length!==0){if(bu==="documents")co(Iu=>Iu.map(op=>Fm.includes(op.id)?{...op,shared:!0}:op));else if(bu==="projects"){const Iu=j0.map(op=>Fm.includes(op.id)?{...op,shared:!0}:op);v0(Iu)}else if(bu==="projectFiles"){const Iu=j0.find(op=>op.id===hm);if(Iu){const op={...Iu,pdfs:(Iu.pdfs||[]).map(tu=>Fm.includes(tu.id)?{...tu,shared:!0}:tu)},fp=j0.map(tu=>tu.id===Iu.id?op:tu);v0(fp)}}else if(bu==="templates"){const Iu=xm.map(op=>Fm.includes(op.id)?{...op,shared:!0}:op);Iv(Iu)}else if(bu==="templateFiles"){const Iu=xm.find(op=>op.id===pm);if(Iu){const op={...Iu,pdfs:(Iu.pdfs||[]).map(tu=>Fm.includes(tu.id)?{...tu,shared:!0}:tu)},fp=xm.map(tu=>tu.id===Iu.id?op:tu);Iv(fp)}}alert(`Shared ${Fm.length} item(s)`),d1()}},zv=()=>{Fm.length!==0&&Ml(!0)},O1=async(bu,Iu=!1,op=!1)=>{if(Fm.length===0)return;const fp=ov();let tu=[];if(fp==="documents")tu=dv.filter(wu=>Fm.includes(wu.id));else if(fp==="projectFiles"){const wu=j0.find(ku=>ku.id===hm);wu&&(tu=(wu.pdfs||[]).filter(ku=>Fm.includes(ku.id)))}if(tu.length!==0){if(op){if(fp==="documents")co(ku=>ku.filter(Tu=>!Fm.includes(Tu.id)));else if(fp==="projectFiles"){const ku=j0.find(Tu=>Tu.id===hm);if(ku){const Tu={...ku,pdfs:(ku.pdfs||[]).filter(tp=>!Fm.includes(tp.id))},_u=j0.map(tp=>tp.id===ku.id?Tu:tp);v0(_u)}co(Tu=>Tu.filter(_u=>!Fm.includes(_u.id)))}const wu=tu.map(ku=>({...ku,id:`${Date.now()}-${Math.random()}`}));co(ku=>[...wu,...ku]),Ml(!1),P0(""),d1();return}if(Iu){const wu=tu.map(Tu=>({...Tu,id:`${Date.now()}-${Math.random()}`}));if(!Ou){alert("Please sign in to create projects");return}const ku=await kp({name:E0.trim()||"New Project",config:{pdfs:wu,createdAt:new Date().toISOString()}});for(const Tu of tu)try{const _u=L1.find(tp=>tp.id===Tu.id||tp.name===Tu.name&&!tp.project_id);_u&&await Jv(_u.id,{project_id:ku.id})}catch(_u){console.error("Error updating document:",_u)}if(await eu(),await xv(),fp==="documents")co(Tu=>Tu.filter(_u=>!Fm.includes(_u.id)));else if(fp==="projectFiles"){const Tu=j0.find(_u=>_u.id===hm);if(Tu){const _u={...Tu,pdfs:(Tu.pdfs||[]).filter(ap=>!Fm.includes(ap.id))},tp=j0.map(ap=>ap.id===Tu.id?_u:ap);v0(tp)}}}else if(j0.find(ku=>ku.id===bu)){if(tu.map(ku=>({...ku,id:`${Date.now()}-${Math.random()}`})),!Ou){alert("Please sign in to move documents");return}for(const ku of tu)try{const Tu=L1.find(_u=>_u.id===ku.id||_u.name===ku.name);Tu&&await Jv(Tu.id,{project_id:bu})}catch(Tu){console.error("Error updating document:",Tu)}await eu(),await xv()}Ml(!1),P0(""),d1()}},G1=bu=>{if(bu===0)return"0 Bytes";const Iu=1024,op=["Bytes","KB","MB","GB"],fp=Math.floor(Math.log(bu)/Math.log(Iu));return Math.round(bu/Math.pow(Iu,fp)*100)/100+" "+op[fp]},av=bu=>{const Iu=new Date(bu),fp=Math.abs(new Date-Iu),tu=Math.ceil(fp/(1e3*60*60*24));if(tu<1){const wu=Math.floor(fp/36e5);if(wu<1){const ku=Math.floor(fp/6e4);return ku<1?"Just now":`${ku} min ago`}return`${wu} hour${wu>1?"s":""} ago`}else if(tu<7)return`${tu} day${tu>1?"s":""} ago`;return Iu.toLocaleDateString()},Ny=bu=>{_1(Iu=>({key:bu,direction:Iu.key===bu&&Iu.direction==="asc"?"desc":"asc"}))},dv=reactExports.useMemo(()=>{let bu=lo;return Pm&&(bu=lo.filter(Iu=>Iu.name.toLowerCase().includes(Pm.toLowerCase()))),[...bu].sort((Iu,op)=>{if(!om.key)return 0;let fp=Iu[om.key],tu=op[om.key];return om.key==="uploadedAt"&&(fp=new Date(fp),tu=new Date(tu)),fp<tu?om.direction==="asc"?-1:1:fp>tu?om.direction==="asc"?1:-1:0})},[lo,om,Pm]),Ly=reactExports.useMemo(()=>{let bu=j0;return Pm&&(bu=j0.filter(Iu=>Iu.name.toLowerCase().includes(Pm.toLowerCase()))),[...bu].sort((Iu,op)=>new Date(op.created_at||op.createdAt||0)-new Date(Iu.created_at||Iu.createdAt||0))},[j0,Pm]),By=reactExports.useMemo(()=>{let bu=xm;return Pm&&(bu=xm.filter(Iu=>(Iu.name||"").toLowerCase().includes(Pm.toLowerCase()))),[...bu].sort((Iu,op)=>new Date(op.createdAt||0)-new Date(Iu.createdAt||0))},[xm,Pm]),fy=async bu=>{try{if(bu.file){is(bu.file);return}const Iu=bu.filePath||bu.file_path;if(Iu){const op=await Lp(Iu),fp=new File([op],bu.name,{type:"application/pdf"});is(fp)}else if(bu.dataUrl){const fp=await(await fetch(bu.dataUrl)).blob(),tu=new File([fp],bu.name,{type:"application/pdf"});is(tu)}else throw console.error("Document structure:",bu),new Error("Document has no filePath, file_path, or dataUrl")}catch(Iu){console.error("Error opening document:",Iu),alert("Error opening document: "+Iu.message+". Please try again.")}},kx=async(bu,Iu)=>{if(Iu.stopPropagation(),!!confirm("Are you sure you want to delete this document? This action cannot be undone."))try{co(fp=>fp.filter(tu=>tu.id!==bu));const op=lo.find(fp=>fp.id===bu);op!=null&&op.file_path?await Np(op.file_path):op!=null&&op.filePath&&await Np(op.filePath),await dm(bu),await xv(),console.log("Document deleted successfully")}catch(op){console.error("Error deleting document:",op),alert("Failed to delete document: "+op.message),await xv()}},gy=()=>{Jl(!0)},Cy=()=>{const bu=lu.trim();if(!bu){alert("Please enter a module name.");return}if(hasNameConflict(Nl,bu,{getName:op=>op==null?void 0:op.name})){alert("A module with this name already exists. Please choose a different name.");return}const Iu={id:`module-${Date.now()}-${Math.random()}`,name:bu,categories:[]};zl(op=>[...op,Iu]),Vl(Iu.id),Jl(!1),ju(""),iu(null)},Uy=()=>{Jl(!1),ju("")},ey=bu=>{mu||(Vl(bu),iu(null))},w1=bu=>{if(!bu||bu.length===0)return;const op=Nl.filter(fp=>bu.includes(fp.id)).flatMap(fp=>(fp.categories||[]).map(tu=>tu.id));zl(fp=>fp.filter(tu=>!bu.includes(tu.id))),su(fp=>fp.filter(tu=>!bu.includes(tu))),bu.includes($l)&&(Vl(null),iu(null)),op.length>0&&(Cu(fp=>fp.filter(tu=>!op.includes(tu))),_c(fp=>{const tu={...fp};return op.forEach(wu=>{tu[wu]!==void 0&&delete tu[wu]}),tu}),Gl&&op.includes(Gl)&&iu(null)),ev&&bu.includes(ev)&&(z1(null),Dv("")),Hl(fp=>{const tu={...fp};return bu.forEach(wu=>{tu[wu]!==void 0&&delete tu[wu]}),tu}),setSelectedTemplate(fp=>{if(!fp)return fp;const tu=wu=>(wu||[]).filter(ku=>!bu.includes(ku.id));return{...fp,modules:tu(fp.modules),spaces:tu(fp.spaces)}}),Sy(fp=>{const tu=fp.map(wu=>({...wu,modules:(wu.modules||[]).filter(ku=>!bu.includes(ku.id)),spaces:(wu.spaces||[]).filter(ku=>!bu.includes(ku.id))}));try{localStorage.setItem("templates",JSON.stringify(tu))}catch(wu){console.error("Error persisting templates:",wu)}return tu})},K1=(bu,Iu)=>{Hl(op=>({...op,[bu]:Iu}))},wm=bu=>{var op;const Iu=(op=Yl[bu])==null?void 0:op.trim();if(!Iu){alert("Module name cannot be empty.");return}if(hasNameConflict(Nl,Iu,{getName:fp=>fp==null?void 0:fp.name,ignoreId:bu})){alert("A module with this name already exists. Please choose a different name.");return}zl(fp=>fp.map(tu=>tu.id===bu?{...tu,name:Iu}:tu)),Hl(fp=>{const tu={...fp};return delete tu[bu],tu})},Ov=bu=>{Hl(Iu=>{const op={...Iu};return delete op[bu],op})},$1=()=>{uu(!0),su([]);const bu={};Nl.forEach(Iu=>{bu[Iu.id]=Iu.name}),Hl(bu)},ty=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}})),[f1,wv]=reactExports.useState(null),Zy=reactExports.useMemo(()=>Nl.find(bu=>bu.id===f1)||null,[f1,Nl]),ry=reactExports.useCallback(({active:bu})=>{wv(bu.id)},[]),Wv=reactExports.useCallback(({active:bu,over:Iu})=>{wv(null),!(!Iu||bu.id===Iu.id)&&zl(op=>{const fp=op.findIndex(wu=>wu.id===bu.id),tu=op.findIndex(wu=>wu.id===Iu.id);return fp===-1||tu===-1?op:arrayMove(op,fp,tu)})},[]),lx=reactExports.useCallback(()=>{wv(null)},[]),a1=reactExports.useCallback((bu,Iu)=>{Iu.key==="Enter"?(wm(bu),Iu.currentTarget.blur()):Iu.key==="Escape"&&(Ov(bu),Iu.currentTarget.blur())},[wm,Ov]),Ev=()=>{if(!mu)return;const bu={},Iu=new Map;for(const op of Nl){if(!op)continue;const tu=((Object.prototype.hasOwnProperty.call(Yl,op.id)?Yl[op.id]:op.name)||"").trim();if(!tu){alert("Module name cannot be empty.");return}const wu=normalizeName(tu);if(wu){const ku=Iu.get(wu);if(ku&&ku!==op.id){const Tu=Nl.find(tp=>tp.id===ku),_u=(Object.prototype.hasOwnProperty.call(Yl,ku)?Yl[ku]:Tu==null?void 0:Tu.name)||tu;alert(`Module names must be unique. "${tu}" conflicts with "${_u}".`);return}Iu.set(wu,op.id)}bu[op.id]=tu}zl(op=>op.map(fp=>{const tu=bu[fp.id];return typeof tu>"u"||tu===fp.name?fp:{...fp,name:tu}})),uu(!1),Hl({}),su([])},Px=bu=>{su(Iu=>Iu.includes(bu)?Iu.filter(op=>op!==bu):[...Iu,bu])},$y=()=>{if(Ql.length===0){alert("Please select at least one module to move/copy.");return}Uu("module"),Pu("copy"),Xu(!0)},Zx=()=>{if(Ql.length===0){alert("Please select at least one module to duplicate.");return}const bu=new Set(Ql),Iu=[],op={};zl(fp=>{const tu=new Set(fp.map(ku=>(ku.name||"").trim().toLowerCase()).filter(Boolean)),wu=[];return fp.forEach(ku=>{if(wu.push(ku),bu.has(ku.id)){const Tu=(ku.categories||[]).map(ap=>{const gp=(ap.checklist||[]).map(pp=>({...pp,id:generateUniqueId("item")}));return{...ap,id:generateUniqueId("cat"),checklist:gp}}),_u=createCopyName(ku.name||"Untitled Module",tu),tp={...ku,id:generateUniqueId("module"),name:_u,categories:Tu};wu.push(tp),Iu.push(tp.id),op[tp.id]=_u}}),wu}),Iu.length>0&&(su(Iu),Hl(fp=>({...fp,...op})))},Jx=()=>{$l&&Wu(!0)},Ix=()=>{const bu=qu.trim();if(!bu){alert("Please enter a category name.");return}if(!$l)return;const Iu=Nl.find(op=>op.id===$l);if(Iu){if(hasNameConflict(Iu.categories,bu,{getName:op=>op==null?void 0:op.name})){alert("A category with this name already exists in this module. Please choose a different name.");return}zl(op=>op.map(fp=>{if(fp.id!==$l)return fp;const tu={id:`cat-${Date.now()}-${Math.random()}`,name:bu,checklist:[]};return{...fp,categories:[...fp.categories,tu]}})),Wu(!1),Mu("")}},Ox=()=>{Wu(!1),Mu("")},Dx=bu=>{cu||iu(bu)},D1=(bu,Iu)=>{_c(op=>({...op,[bu]:Iu}))},F1=(bu,Iu)=>{var tu;const op=(tu=Kl[Iu])==null?void 0:tu.trim();if(!op){alert("Category name cannot be empty.");return}const fp=Nl.find(wu=>wu.id===bu);if(fp){if(hasNameConflict(fp.categories,op,{getName:wu=>wu==null?void 0:wu.name,ignoreId:Iu})){alert("A category with this name already exists in this module. Please choose a different name.");return}zl(wu=>wu.map(ku=>ku.id!==bu?ku:{...ku,categories:ku.categories.map(Tu=>Tu.id===Iu?{...Tu,name:op}:Tu)})),_c(wu=>{const ku={...wu};return delete ku[Iu],ku})}},Zp=bu=>{_c(Iu=>{const op={...Iu};return delete op[bu],op})},Hv=()=>{if(!$l)return;ru(!0),Cu([]);const bu=Nl.find(Iu=>Iu.id===$l);if(bu){const Iu={};(bu.categories||[]).forEach(op=>{Iu[op.id]=op.name}),_c(Iu)}},j1=reactExports.useMemo(()=>Nl.find(bu=>bu.id===$l)||null,[Nl,$l]),i0=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}})),[_y,Ay]=reactExports.useState(null),Ty=reactExports.useMemo(()=>((j1==null?void 0:j1.categories)||[]).find(Iu=>Iu.id===_y)||null,[_y,j1]),ux=reactExports.useCallback(({active:bu})=>{Ay(bu.id)},[]),hx=reactExports.useCallback(({active:bu,over:Iu})=>{Ay(null),!(!Iu||bu.id===Iu.id||!$l)&&zl(op=>op.map(fp=>{if(fp.id!==$l)return fp;const tu=fp.categories||[],wu=tu.findIndex(Tu=>Tu.id===bu.id),ku=tu.findIndex(Tu=>Tu.id===Iu.id);return wu===-1||ku===-1?fp:{...fp,categories:arrayMove(tu,wu,ku)}}))},[$l]),l1=reactExports.useCallback(()=>{Ay(null)},[]),dx=reactExports.useCallback((bu,Iu)=>{Iu.key==="Enter"?($l&&F1($l,bu),Iu.currentTarget.blur()):Iu.key==="Escape"&&(Zp(bu),Iu.currentTarget.blur())},[$l,F1,Zp]),Gm=()=>{if(!cu)return;if(!$l){ru(!1),_c({}),Cu([]);return}const bu=Nl.find(fp=>fp.id===$l);if(!bu){ru(!1),_c({}),Cu([]);return}const Iu={},op=new Map;for(const fp of bu.categories||[]){if(!fp)continue;const wu=((Object.prototype.hasOwnProperty.call(Kl,fp.id)?Kl[fp.id]:fp.name)||"").trim();if(!wu){alert("Category name cannot be empty.");return}const ku=normalizeName(wu);if(ku){const Tu=op.get(ku);if(Tu&&Tu!==fp.id){const _u=(bu.categories||[]).find(ap=>ap.id===Tu),tp=(Object.prototype.hasOwnProperty.call(Kl,Tu)?Kl[Tu]:_u==null?void 0:_u.name)||wu;alert(`Category names within a module must be unique. "${wu}" conflicts with "${tp}".`);return}op.set(ku,fp.id)}Iu[fp.id]=wu}zl(fp=>fp.map(tu=>{if(tu.id!==$l)return tu;const wu=(tu.categories||[]).map(ku=>{const Tu=Iu[ku.id];return typeof Tu>"u"||Tu===ku.name?ku:{...ku,name:Tu}});return{...tu,categories:wu}})),ru(!1),_c({}),Cu([])},c1=bu=>{Cu(Iu=>Iu.includes(bu)?Iu.filter(op=>op!==bu):[...Iu,bu])},cm=()=>{if(gu.length===0){alert("Please select at least one category to move/copy.");return}Uu("category"),Pu("copy"),Xu(!0)},Y1=()=>{if(!$l){alert("Please select a module before duplicating categories.");return}if(gu.length===0){alert("Please select at least one category to duplicate.");return}const bu=new Set(gu),Iu=[],op={};zl(fp=>fp.map(tu=>{if(tu.id!==$l)return tu;const wu=new Set((tu.categories||[]).map(Tu=>(Tu.name||"").trim().toLowerCase()).filter(Boolean)),ku=[];return(tu.categories||[]).forEach(Tu=>{if(ku.push(Tu),bu.has(Tu.id)){const _u=(Tu.checklist||[]).map(gp=>({...gp,id:generateUniqueId("item")})),tp=createCopyName(Tu.name||"Untitled Category",wu),ap={...Tu,id:generateUniqueId("cat"),name:tp,checklist:_u};ku.push(ap),Iu.push(ap.id),op[ap.id]=tp}}),{...tu,categories:ku}})),Iu.length>0&&(Cu(Iu),_c(fp=>({...fp,...op})))},[fm,Sm]=reactExports.useState(null),[ev,z1]=reactExports.useState(null),[qv,i1]=reactExports.useState(null),[Sv,Xm]=reactExports.useState(""),[R1,o1]=reactExports.useState(""),[my,Dv]=reactExports.useState(""),fv=reactExports.useMemo(()=>Nl.find(bu=>bu.id===$l)||null,[Nl,$l]),tv=reactExports.useMemo(()=>fv?(fv.categories||[]).filter(bu=>gu.includes(bu.id)):[],[fv,gu]),pv=reactExports.useMemo(()=>Nl.find(bu=>bu.id===ev)||null,[Nl,ev]),Fv=reactExports.useMemo(()=>{if(!pv)return!1;const bu=new Set((pv.categories||[]).map(Iu=>(Iu.name||"").trim().toLowerCase()));return tv.some(Iu=>bu.has((Iu.name||"").trim().toLowerCase()))},[pv,tv]),Cv=Gu==="category"&&ev&&ev!=="new"&&(Au==="copy"||Fv);reactExports.useEffect(()=>{!Cv&&my&&Dv("")},[Cv,my]);const Qx=()=>{if(Gu==="module"){if(Ql.length===0)return;const bu=Nl.filter(Iu=>Ql.includes(Iu.id));if(fm==="new"){const Iu=Sv.trim();if(!Iu){alert("Please enter a template name.");return}const op=bu.map(ku=>({id:Au==="move"?ku.id:`module-${Date.now()}-${Math.random()}`,name:ku.name,categories:(ku.categories||[]).map(Tu=>({id:Au==="move"?Tu.id:`cat-${Date.now()}-${Math.random()}`,name:Tu.name,checklist:(Tu.checklist||[]).map(_u=>({id:Au==="move"?_u.id:`item-${Date.now()}-${Math.random()}`,text:_u.text}))}))})),fp={id:`${Date.now()}-${Math.random()}`,name:Iu,visibility:"personal",modules:op,spaces:op,createdAt:new Date().toISOString(),ballInCourtEntities:[]},tu=localStorage.getItem("templates"),wu=tu?JSON.parse(tu):[];if(hasNameConflict(wu,Iu,{getName:ku=>ku==null?void 0:ku.name})){alert("A template with this name already exists. Please choose a different name.");return}wu.unshift(fp),localStorage.setItem("templates",JSON.stringify(wu)),Sy(wu),Au==="move"&&(zl(ku=>ku.filter(Tu=>!Ql.includes(Tu.id))),su([]))}else{const Iu=localStorage.getItem("templates"),op=Iu?JSON.parse(Iu):[],fp=op.find(tu=>tu.id===fm);if(fp){const tu=new Set((fp.modules||[]).map(Tu=>normalizeName(Tu==null?void 0:Tu.name)).filter(Boolean)),wu=bu.map(Tu=>{var gp;const _u=((gp=Tu==null?void 0:Tu.name)==null?void 0:gp.trim())||"Untitled Module";let tp=_u;const ap=normalizeName(tp);return ap&&tu.has(ap)?tp=createCopyName(_u,tu):ap&&tu.add(ap),{...Tu,id:Au==="move"?Tu.id:`module-${Date.now()}-${Math.random()}`,name:tp,categories:(Tu.categories||[]).map(pp=>({id:Au==="move"?pp.id:`cat-${Date.now()}-${Math.random()}`,name:pp.name,checklist:(pp.checklist||[]).map(Tp=>({id:Au==="move"?Tp.id:`item-${Date.now()}-${Math.random()}`,text:Tp.text}))}))}}),ku=[...fp.modules||[],...wu];fp.modules=ku,fp.spaces=ku,localStorage.setItem("templates",JSON.stringify(op)),Sy(op),Au==="move"&&(zl(Tu=>Tu.filter(_u=>!Ql.includes(_u.id))),su([]))}}}else if(Gu==="category"){if(gu.length===0||!$l)return;const bu=Nl.find(op=>op.id===$l);if(!bu)return;const Iu=(bu.categories||[]).filter(op=>gu.includes(op.id));if(ev==="new"){const op=R1.trim();if(!op){alert("Please enter a module name.");return}if(hasNameConflict(Nl,op,{getName:wu=>wu==null?void 0:wu.name})){alert("A module with this name already exists. Please choose a different name.");return}const fp=Iu.map(wu=>({id:Au==="move"?wu.id:`cat-${Date.now()}-${Math.random()}`,name:wu.name,checklist:(wu.checklist||[]).map(ku=>({id:Au==="move"?ku.id:`item-${Date.now()}-${Math.random()}`,text:ku.text}))})),tu={id:`module-${Date.now()}-${Math.random()}`,name:op,categories:fp};zl(wu=>{const ku=[...wu,tu];return Au==="move"?ku.map(Tu=>Tu.id===$l?{...Tu,categories:(Tu.categories||[]).filter(_u=>!gu.includes(_u.id))}:Tu):ku}),Au==="move"&&Cu([])}else{const op=Nl.find(Tu=>Tu.id===ev);if(!op){alert("Selected destination module could not be found. Please choose another destination.");return}const fp=Au==="move"&&ev===$l,tu=my.trim(),wu=new Map;if(!fp){const Tu=new Set((op.categories||[]).map(tp=>(tp.name||"").trim().toLowerCase())),_u=Iu.filter(tp=>Tu.has((tp.name||"").trim().toLowerCase()));if(_u.length>0){if(Iu.length>1||_u.length>1){alert("Multiple selected categories conflict with existing names. Please move or copy them one at a time and provide unique names.");return}if(!tu){alert("A category with the same name already exists in the destination. Please provide a new name before continuing.");return}wu.set(_u[0].id,tu)}else if(tu){if(Iu.length>1){alert("Renaming during move/copy is only supported when a single category is selected.");return}wu.set(Iu[0].id,tu)}}const ku=Iu.map(Tu=>({id:Au==="move"?Tu.id:`cat-${Date.now()}-${Math.random()}`,name:wu.get(Tu.id)||Tu.name,checklist:(Tu.checklist||[]).map(_u=>({id:Au==="move"?_u.id:`item-${Date.now()}-${Math.random()}`,text:_u.text}))}));zl(Tu=>Tu.map(_u=>_u.id===ev?{..._u,categories:[..._u.categories||[],...ku]}:Au==="move"&&_u.id===$l?{..._u,categories:(_u.categories||[]).filter(tp=>!gu.includes(tp.id))}:_u)),Au==="move"&&Cu([])}}Xu(!1),Sm(null),z1(null),i1(null),Xm(""),o1(""),Dv("")},Jy=(bu,Iu)=>{if(!Iu||Iu.length===0)return;const op=Nl.find(tu=>tu.id===bu);if(!op)return;const fp=(op.categories||[]).filter(tu=>!Iu.includes(tu.id));fp.length!==(op.categories||[]).length&&(zl(tu=>tu.map(wu=>wu.id===bu?{...wu,categories:fp}:wu)),Cu(tu=>tu.filter(wu=>!Iu.includes(wu))),_c(tu=>{const wu={...tu};return Iu.forEach(ku=>{wu[ku]!==void 0&&delete wu[ku]}),wu}),qv&&Iu.includes(qv)&&i1(null),my&&Dv("")),Gl&&Iu.includes(Gl)&&iu(null),setSelectedTemplate(tu=>{if(!tu)return tu;const wu=(ku=[])=>ku.map(Tu=>Tu.id===bu?{...Tu,categories:(Tu.categories||[]).filter(_u=>!Iu.includes(_u.id))}:Tu);return{...tu,modules:wu(tu.modules||[]),spaces:wu(tu.spaces||[])}}),Sy(tu=>{const wu=(Tu=[])=>Tu.map(_u=>_u.id===bu?{..._u,categories:(_u.categories||[]).filter(tp=>!Iu.includes(tp.id))}:_u),ku=tu.map(Tu=>({...Tu,modules:wu(Tu.modules||[]),spaces:wu(Tu.spaces||[])}));try{localStorage.setItem("templates",JSON.stringify(ku))}catch(Tu){console.error("Error persisting templates:",Tu)}return ku})},zy=(bu,Iu)=>{zl(op=>op.map(fp=>fp.id===bu?{...fp,categories:fp.categories.map(tu=>tu.id===Iu?{...tu,checklist:[...tu.checklist,{id:`item-${Date.now()}-${Math.random()}`,text:""}]}:tu)}:fp))},Qy=(bu,Iu,op,fp)=>{const tu=typeof fp=="string"?fp:"";zl(wu=>wu.map(ku=>ku.id===bu?{...ku,categories:ku.categories.map(Tu=>Tu.id===Iu?{...Tu,checklist:Tu.checklist.map(_u=>_u.id===op?{..._u,text:tu}:_u)}:Tu)}:ku))},fx=(bu,Iu,op)=>{zl(fp=>fp.map(tu=>tu.id===bu?{...tu,categories:tu.categories.map(wu=>wu.id===Iu?{...wu,checklist:wu.checklist.filter(ku=>ku.id!==op)}:wu)}:tu))},gx=()=>{Bp(bu=>{const Iu=new Set(bu.map(wu=>normalizeName(wu==null?void 0:wu.name)).filter(Boolean));let op=bu.length+1,fp=`Entity ${op}`;for(;Iu.has(normalizeName(fp));)op+=1,fp=`Entity ${op}`;const tu={id:`entity-${Date.now()}-${Math.random()}`,name:fp,color:hexToRgba("#E3D1FB",.2)};return[...bu,tu]})},Wy=(bu,Iu)=>{Bp(op=>op.map(fp=>fp.id===bu?{...fp,...Iu}:fp))},mx=bu=>{Bp(Iu=>Iu.filter(op=>op.id!==bu))},vx=(bu,Iu,op)=>{n0(bu),Ju("grid"),hp({hex:Iu,opacity:op}),Ru(null),lp(!1)},Fx=bu=>{mx(bu),Pp===bu&&n0(null)},jv=(bu,Iu)=>{Wy(bu,{name:Iu})},Vv=reactExports.useCallback(()=>({templateName:Tl.trim(),templateVisibility:Bl,modules:Nl.map(bu=>({...bu,categories:(bu.categories||[]).map(Iu=>({...Iu,checklist:(Iu.checklist||[]).map(op=>({...op}))}))})),ballInCourtEntities:wp.map(bu=>({...bu}))}),[Tl,Bl,Nl,wp]);reactExports.useEffect(()=>{_l?Fu.current||(Fu.current=JSON.stringify(Vv())):Fu.current=null},[_l,Vv]);const M1=reactExports.useMemo(()=>!_l||!Fu.current?!1:JSON.stringify(Vv())!==Fu.current,[_l,Vv]),vy=()=>{Dl(""),Ll("personal"),zl([]),Vl(null),iu(null),Fy(null),n0(null),Jl(!1),ju(""),Wu(!1),Mu(""),uu(!1),ru(!1),Hl({}),_c({}),su([]),Cu([]),fu([]),Xu(!1),Sm(null),z1(null),i1(null),Xm(""),o1(""),Dv(""),Bp([{id:`entity-${Date.now()}-1`,name:"GC",color:hexToRgba("#E3D1FB",.2)},{id:`entity-${Date.now()}-2`,name:"Subcontractor",color:hexToRgba("#FFF5C3",.2)},{id:`entity-${Date.now()}-3`,name:"My Company",color:hexToRgba("#CBDCFF",.2)},{id:`entity-${Date.now()}-4`,name:"100% Complete",color:hexToRgba("#B2FFB2",.2)},{id:`entity-${Date.now()}-5`,name:"Removed",color:hexToRgba("#BBBBBB",.2)}]),Il(!0)};reactExports.useImperativeHandle(ba,()=>({openTemplateModal:vy,openEditTemplateModal:Gv,closeTemplateModal:()=>Il(!1)}));const Gv=(bu,Iu={})=>{const{moduleId:op,startAddingCategory:fp=!1}=Iu||{},tu=xm.find(gp=>gp.id===bu);if(!tu){alert("Template not found.");return}Dl(tu.name||""),Ll(tu.visibility||"personal");const wu=(tu.modules||tu.spaces||[]).map(gp=>({id:gp.id,name:gp.name,categories:(gp.categories||[]).map(pp=>({id:pp.id,name:pp.name,checklist:(pp.checklist||[]).map(Tp=>({id:Tp.id,text:Tp.text}))}))}));zl(wu);const ku=op&&wu.some(gp=>gp.id===op)?op:wu.length>0?wu[0].id:null;Vl(ku),iu(null),Jl(!1),ju(""),Wu(!!(fp&&ku)),Mu(""),uu(!1),ru(!1),Hl({}),_c({}),su([]),Cu([]),fu([]),Xu(!1),Sm(null),z1(null),i1(null),Xm(""),o1(""),Dv("");const _u=[{id:`entity-${Date.now()}-1`,name:"GC",color:hexToRgba("#E3D1FB",.2)},{id:`entity-${Date.now()}-2`,name:"Subcontractor",color:hexToRgba("#FFF5C3",.2)},{id:`entity-${Date.now()}-3`,name:"My Company",color:hexToRgba("#CBDCFF",.2)},{id:`entity-${Date.now()}-4`,name:"100% Complete",color:hexToRgba("#B2FFB2",.2)},{id:`entity-${Date.now()}-5`,name:"Removed",color:hexToRgba("#BBBBBB",.2)}],ap=(tu.ballInCourtEntities||_u).map(gp=>{if(!gp.color)return gp;if(gp.color.startsWith("#"))return{...gp,color:hexToRgba(gp.color,.2)};const pp=gp.color.match(/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:,\s*([\d.]+))?\s*\)/i);if(pp){const Tp=pp[4]!==void 0?parseFloat(pp[4]):1,Yp=Number.isFinite(Tp)?Math.min(1,Math.max(0,Tp)):1;return{...gp,color:`rgba(${pp[1]}, ${pp[2]}, ${pp[3]}, ${Yp})`}}return gp});Bp(ap),Fy(bu),Il(!0)},ex=()=>{Il(!1),Fy(null),iu(null),n0(null),Jl(!1),ju(""),Wu(!1),Mu(""),uu(!1),ru(!1),Hl({}),_c({}),su([]),Cu([]),fu([]),Xu(!1),Sm(null),z1(null),i1(null),Xm(""),o1(""),Dv("")},yx=reactExports.useCallback(bu=>{bu.target===bu.currentTarget&&(M1&&!window.confirm("You have unsaved changes. If you close now, all changes will be lost. Continue?")||ex())},[M1,ex]),rv=async()=>{const bu=Tl.trim();if(!bu){alert("Please enter a template name.");return}if(hasNameConflict(xm,bu,{getName:ku=>ku==null?void 0:ku.name,ignoreId:x1})){alert("A template with this name already exists. Please choose a different name.");return}for(const ku of Nl){const Tu=((ku==null?void 0:ku.name)||"Module").trim()||"Module";for(const _u of(ku==null?void 0:ku.categories)||[]){const tp=((_u==null?void 0:_u.name)||"Category").trim()||"Category",ap=new Set;for(const gp of(_u==null?void 0:_u.checklist)||[]){const pp=((gp==null?void 0:gp.text)||"").trim();if(!pp)continue;const Tp=normalizeName(pp);if(ap.has(Tp)){alert(`Checklist items within "${tp}" (${Tu}) must have unique names. Please update duplicates before saving.`);return}ap.add(Tp)}}}const Iu=Nl.map(ku=>({id:ku.id,name:ku.name.trim()||"Untitled Module",categories:(ku.categories||[]).map(Tu=>({id:Tu.id,name:Tu.name.trim()||"Untitled Category",checklist:(Tu.checklist||[]).map(_u=>({id:_u.id,text:(_u.text||"").trim()})).filter(_u=>_u.text)}))})),op=wp.map(ku=>((ku==null?void 0:ku.name)||"").trim()).filter(Boolean);if(op.some((ku,Tu)=>{const _u=normalizeName(ku);return op.findIndex(tp=>normalizeName(tp)===_u)!==Tu})){alert("Each Ball in Court name must be unique. Please resolve duplicate names before saving.");return}const tu=wp.filter(ku=>ku.name.trim()).map(ku=>({id:ku.id,name:ku.name.trim(),color:ku.color})),wu=(ku=[])=>{const Tu=Array.isArray(ku)?ku:[];if(hasNameConflict(Tu,bu,{getName:ap=>ap==null?void 0:ap.name,ignoreId:x1}))return alert("A template with this name already exists. Please choose a different name."),null;const _u=new Date().toISOString();if(x1){let ap=!1;const gp=Tu.map(pp=>pp.id!==x1?pp:(ap=!0,{...pp,id:x1,name:bu,visibility:Bl,modules:Iu,spaces:Iu,ballInCourtEntities:tu,updatedAt:_u,createdAt:pp.createdAt||_u}));return ap?gp:[{id:x1,name:bu,visibility:Bl,modules:Iu,spaces:Iu,ballInCourtEntities:tu,createdAt:_u,updatedAt:_u},...gp]}return[{id:`tpl-${Date.now()}`,name:bu,visibility:Bl,modules:Iu,spaces:Iu,ballInCourtEntities:tu,createdAt:_u,updatedAt:_u},...Tu]};try{if(Ou){const ku=Array.isArray(xm)?xm:[],Tu=wu(ku);if(!Tu)return;Sy(Tu),await Iv(Tu)}else{const ku=localStorage.getItem("templates"),Tu=ku?JSON.parse(ku):[],_u=wu(Tu);if(!_u)return;localStorage.setItem("templates",JSON.stringify(_u)),Sy(_u)}Il(!1),Fy(null)}catch(ku){console.error("Failed to save template",ku),alert("Failed to save template.")}};return jsxRuntimeExports.jsxs("div",{style:{height:"100%",minHeight:0,display:"flex",background:"#1E1E1E",fontFamily:FONT_FAMILY},children:[jsxRuntimeExports.jsxs("div",{style:{width:"240px",background:"#1E1E1E",color:"#FFFFFF",display:"flex",flexDirection:"column",boxShadow:"2px 0 12px rgba(0,0,0,0.2), 1px 0 6px rgba(0,0,0,0.15)",height:"100%",position:"relative",zIndex:1},children:[jsxRuntimeExports.jsx("div",{style:{padding:"24px",borderBottom:"1px solid rgba(255,255,255,0.1)",height:"72px",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",boxShadow:"none",position:"relative",width:"100%",zIndex:2},children:jsxRuntimeExports.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",letterSpacing:"-0.5px",margin:0,width:"100%",textAlign:"center"},children:"Survey"})}),jsxRuntimeExports.jsxs("nav",{style:{flex:1,padding:"16px 0"},children:[jsxRuntimeExports.jsxs("div",{onClick:()=>uv("documents"),style:{padding:"12px 24px",background:q0==="documents"?"rgba(255,255,255,0.1)":"transparent",borderLeft:q0==="documents"?"3px solid #4A90E2":"3px solid transparent",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx("span",{style:bm,children:jsxRuntimeExports.jsx(Icon,{name:"document",size:20,color:q0==="documents"?"#4A90E2":"#FFFFFF"})}),jsxRuntimeExports.jsx("span",{style:dy,children:"Documents"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>uv("projects",{resetProject:!0}),style:{padding:"12px 24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",transition:"background 0.2s",background:q0==="projects"?"rgba(255,255,255,0.1)":"transparent",borderLeft:q0==="projects"?"3px solid #4A90E2":"3px solid transparent"},onMouseEnter:bu=>bu.currentTarget.style.background=q0==="projects"?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.05)",onMouseLeave:bu=>bu.currentTarget.style.background=q0==="projects"?"rgba(255,255,255,0.1)":"transparent",children:[jsxRuntimeExports.jsx("span",{style:bm,children:jsxRuntimeExports.jsx(Icon,{name:"folder",size:20,color:q0==="projects"?"#4A90E2":"#FFFFFF"})}),jsxRuntimeExports.jsx("span",{style:dy,children:"Projects"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>uv("templates",{resetProject:!0,resetTemplate:!0}),style:{padding:"12px 24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",transition:"background 0.2s",background:q0==="templates"?"rgba(255,255,255,0.1)":"transparent",borderLeft:q0==="templates"?"3px solid #4A90E2":"3px solid transparent"},onMouseEnter:bu=>bu.currentTarget.style.background=q0==="templates"?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.05)",onMouseLeave:bu=>bu.currentTarget.style.background=q0==="templates"?"rgba(255,255,255,0.1)":"transparent",children:[jsxRuntimeExports.jsx("span",{style:bm,children:jsxRuntimeExports.jsx(Icon,{name:"template",size:20,color:q0==="templates"?"#4A90E2":"#FFFFFF"})}),jsxRuntimeExports.jsx("span",{style:dy,children:"Templates"})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"12px 24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",transition:"background 0.2s"},onMouseEnter:bu=>bu.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:bu=>bu.currentTarget.style.background="transparent",children:[jsxRuntimeExports.jsx("span",{style:bm,children:jsxRuntimeExports.jsx(Icon,{name:"settings",size:20,color:"#FFFFFF"})}),jsxRuntimeExports.jsx("span",{style:dy,children:"Settings"})]})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid rgba(255,255,255,0.1)",position:"relative"},ref:mp,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"background 0.2s"},onClick:()=>{ip?Eu(!np):xa==null||xa()},onMouseEnter:bu=>{bu.currentTarget.style.background="rgba(255,255,255,0.05)"},onMouseLeave:bu=>{bu.currentTarget.style.background="transparent"},children:[jsxRuntimeExports.jsx("div",{style:{width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",borderRadius:"50%",background:ip?"#4A90E2":"#666",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",color:"#FFFFFF",flexShrink:0,lineHeight:"1"},children:ip&&((xx=Ou==null?void 0:Ou.user_metadata)!=null&&xx.first_name)&&((bx=Ou==null?void 0:Ou.user_metadata)!=null&&bx.last_name)?`${Ou.user_metadata.first_name.charAt(0)}${Ou.user_metadata.last_name.charAt(0)}`:ip&&(Ou!=null&&Ou.email)?Ou.email.charAt(0).toUpperCase():"?"}),jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",fontWeight:"500"},children:ip&&((wx=Ou==null?void 0:Ou.user_metadata)!=null&&wx.full_name)?Ou.user_metadata.full_name:ip?"User":"Sign In"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",opacity:.7},children:ip&&(Ou!=null&&Ou.email)?Ou.email:"Click to sign in"})]})]}),np&&ip&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"16px",right:"16px",marginBottom:"8px",background:"#2a2a2a",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",overflow:"hidden",zIndex:1e3},children:[jsxRuntimeExports.jsxs("button",{onClick:bu=>{bu.stopPropagation(),up(!0),Eu(!1)},style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",borderBottom:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:"14px",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},onMouseEnter:bu=>{bu.currentTarget.style.background="rgba(255,255,255,0.1)"},onMouseLeave:bu=>{bu.currentTarget.style.background="transparent"},children:[jsxRuntimeExports.jsx(Icon,{name:"user",size:16,color:"#fff"}),"Account"]}),jsxRuntimeExports.jsxs("button",{onClick:async bu=>{bu.stopPropagation();try{await $u(),Eu(!1)}catch(Iu){console.error("Sign out error:",Iu)}},style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",color:"#fff",fontSize:"14px",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},onMouseEnter:bu=>{bu.currentTarget.style.background="rgba(255,255,255,0.1)"},onMouseLeave:bu=>{bu.currentTarget.style.background="transparent"},children:[jsxRuntimeExports.jsx(Icon,{name:"logout",size:16,color:"#fff"}),"Sign Out"]})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{background:"#252525",padding:"20px 32px",borderBottom:"1px solid #3A3A3A",display:"flex",alignItems:"center",gap:"24px",height:"72px",boxSizing:"border-box",boxShadow:"none",position:"relative",marginLeft:"-24px",paddingLeft:"56px",zIndex:2},children:[jsxRuntimeExports.jsx("h1",{style:{fontSize:"24px",fontWeight:"600",margin:0,letterSpacing:"-0.5px",color:"#FFFFFF"},children:q0==="documents"?"Documents":q0==="projects"?hm?"Project Files":"Projects":pm?"Template Files":"Templates"}),q0==="projects"&&hm&&jsxRuntimeExports.jsxs("button",{onClick:()=>K0(null),className:"btn btn-secondary btn-md",children:[jsxRuntimeExports.jsx(Icon,{name:"arrowLeft",size:14,style:{marginRight:"4px"}})," Back to Projects"]}),q0==="templates"&&pm&&jsxRuntimeExports.jsxs("button",{onClick:()=>am(null),className:"btn btn-secondary btn-md",children:[jsxRuntimeExports.jsx(Icon,{name:"arrowLeft",size:14,style:{marginRight:"4px"}})," Back to Templates"]}),jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",justifyContent:"center",maxWidth:"400px",margin:"0 auto",position:"relative"},children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:q0==="documents"?"Search documents...":q0==="projects"?hm?"Search files in project...":"Search projects...":pm?"Search files in template...":"Search templates...",value:Pm,onChange:bu=>p1(bu.target.value),style:{width:"100%",padding:"10px 16px 10px 40px",border:"1px solid #3A3A3A",borderRadius:"8px",fontSize:"14px",fontFamily:FONT_FAMILY,outline:"none",background:"#1E1E1E",color:"#FFFFFF"}}),jsxRuntimeExports.jsx("span",{style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",opacity:.5,display:"flex",alignItems:"center"},children:jsxRuntimeExports.jsx(Icon,{name:"search",size:16,color:"currentColor"})})]})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"24px 32px",display:"flex",gap:"16px"},children:[jsxRuntimeExports.jsx("input",{ref:$a,type:"file",accept:"application/pdf",onChange:A1,style:{display:"none"}}),jsxRuntimeExports.jsx("input",{ref:wl,type:"file",accept:"application/pdf",onChange:Lm,multiple:!0,style:{display:"none"}}),jsxRuntimeExports.jsxs("button",{onClick:()=>{var bu;return(bu=$a.current)==null?void 0:bu.click()},className:"btn-card",style:{borderColor:"#4A90E2"},children:[jsxRuntimeExports.jsx(Icon,{name:"upload",size:24,color:"#4A90E2",className:"icon"}),jsxRuntimeExports.jsx("span",{className:"label",children:"Upload PDF"})]}),jsxRuntimeExports.jsxs("button",{onClick:T1,className:"btn-card",style:{borderColor:"#4A90E2"},children:[jsxRuntimeExports.jsx(Icon,{name:"folder",size:24,color:"#4A90E2",className:"icon"}),jsxRuntimeExports.jsx("span",{className:"label",children:"Create Project"})]}),jsxRuntimeExports.jsxs("button",{onClick:vy,className:"btn-card",style:{borderColor:"#4A90E2"},children:[jsxRuntimeExports.jsx(Icon,{name:"template",size:24,color:"#4A90E2",className:"icon"}),jsxRuntimeExports.jsx("span",{className:"label",children:"Create Template"})]})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"0 32px 16px 32px",display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-end"},children:[!vm&&(q0==="documents"||q0==="projects"||q0==="templates")&&jsxRuntimeExports.jsx("button",{onClick:()=>{b1(!0),g1([])},className:"btn btn-secondary btn-md",children:"Select Item"}),(q0==="documents"||q0==="projects"||q0==="templates")&&!vm&&jsxRuntimeExports.jsxs("div",{ref:Ym,style:{position:"relative"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>J0(!jy),className:"btn btn-secondary btn-md",children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0},children:s1==="grid"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("circle",{cx:"3",cy:"4",r:"1",fill:"currentColor"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"4",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"8",r:"1",fill:"currentColor"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"8",x2:"13",y2:"8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"12",r:"1",fill:"currentColor"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"12",x2:"13",y2:"12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),jsxRuntimeExports.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0,opacity:.6},children:jsxRuntimeExports.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),jy&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"4px",background:"#FFFFFF",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.12)",padding:"4px",minWidth:"140px",zIndex:1e3,border:"1px solid #E0E0E0"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{e1("grid"),J0(!1)},style:{width:"100%",padding:"8px 12px",background:s1==="grid"?"#F5F5F5":"transparent",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"400",color:"#252525",display:"flex",alignItems:"center",gap:"10px",textAlign:"left",fontFamily:FONT_FAMILY,transition:"background 0.15s"},onMouseEnter:bu=>{s1!=="grid"&&(bu.currentTarget.style.background="#F9F9F9")},onMouseLeave:bu=>{s1!=="grid"&&(bu.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0},children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"2",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"2",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"9",width:"5",height:"5",stroke:"currentColor",strokeWidth:"1.2",fill:"none"})]}),jsxRuntimeExports.jsx("span",{children:"Grid"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{e1("table"),J0(!1)},style:{width:"100%",padding:"8px 12px",background:s1==="table"?"#F5F5F5":"transparent",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"400",color:"#252525",display:"flex",alignItems:"center",gap:"10px",textAlign:"left",fontFamily:FONT_FAMILY,transition:"background 0.15s"},onMouseEnter:bu=>{s1!=="table"&&(bu.currentTarget.style.background="#F9F9F9")},onMouseLeave:bu=>{s1!=="table"&&(bu.currentTarget.style.background="transparent")},children:[jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0},children:[jsxRuntimeExports.jsx("circle",{cx:"3",cy:"4",r:"1",fill:"currentColor"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"4",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"8",r:"1",fill:"currentColor"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"8",x2:"13",y2:"8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"12",r:"1",fill:"currentColor"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"12",x2:"13",y2:"12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("span",{children:"Table"})]})]})]})]}),vm&&jsxRuntimeExports.jsxs("div",{style:{padding:"0 32px 16px 32px",display:"flex",gap:"8px",justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx("button",{onClick:bv,className:"btn btn-secondary btn-md",children:"Select All"}),jsxRuntimeExports.jsx("button",{onClick:hv,className:"btn btn-default btn-md",children:"Copy"}),jsxRuntimeExports.jsx("button",{onClick:Cm,className:"btn btn-success btn-md",children:"Share"}),jsxRuntimeExports.jsx("button",{onClick:zv,className:"btn btn-primary btn-md",children:"Move"}),jsxRuntimeExports.jsx("button",{onClick:ax,className:"btn btn-danger btn-md",children:"Delete"}),jsxRuntimeExports.jsx("button",{onClick:d1,className:"btn btn-secondary btn-md",children:"Cancel"})]}),Sl&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:jsxRuntimeExports.jsxs("div",{style:{width:"560px",background:"#1f1f1f",color:"#eaeaea",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.45)",border:"1px solid #2a2a2a",padding:"24px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"24px",fontWeight:700,textAlign:"center",marginBottom:"20px"},children:"Create New Project"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Project Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:E0,onChange:bu=>P0(bu.target.value),placeholder:"Enter a descriptive name for your project",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:"1px solid #333",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,marginBottom:"18px"}}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Upload PDFs"}),jsxRuntimeExports.jsxs("div",{onDrop:Q1,onDragOver:n1,onDragLeave:Tm,style:{padding:"24px",borderRadius:"12px",border:`2px dashed ${_m?"#4A90E2":"#3a3a3a"}`,background:_m?"rgba(74, 144, 226, 0.08)":"#161616",textAlign:"center",transition:"all 0.15s"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{var bu;return(bu=wl.current)==null?void 0:bu.click()},style:{padding:"10px 14px",background:"#2a2a2a",color:"#eaeaea",border:"1px solid #3a3a3a",borderRadius:"10px",cursor:"pointer",fontWeight:600,display:"inline-flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:24,style:{marginRight:"8px"}})," Select Files"]}),jsxRuntimeExports.jsx("div",{style:{color:"#9a9a9a",fontSize:"13px",marginTop:"10px"},children:"or drag and drop PDFs here"}),jsxRuntimeExports.jsx("div",{style:{color:"#6f6f6f",fontSize:"12px",marginTop:"4px"},children:"You can add multiple files"}),sm.length>0&&jsxRuntimeExports.jsx("div",{style:{marginTop:"14px",textAlign:"left",maxHeight:"160px",overflow:"auto",borderTop:"1px solid #2a2a2a",paddingTop:"10px"},children:sm.map((bu,Iu)=>jsxRuntimeExports.jsxs("div",{style:{fontSize:"13px",color:"#cfcfcf",marginBottom:"6px"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:14,style:{marginRight:"6px",display:"inline-block",verticalAlign:"middle"}})," ",bu.name]},`${bu.name}-${Iu}`))})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"22px"},children:[jsxRuntimeExports.jsx("button",{onClick:Qv,style:{padding:"10px 14px",background:"#2a2a2a",color:"#eaeaea",border:"1px solid #3a3a3a",borderRadius:"10px",cursor:"pointer"},children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:My,style:{padding:"10px 14px",background:"#4A90E2",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:600,opacity:E0.trim()&&sm.length>0?1:.7},children:"Create Project"})]})]})}),_l&&jsxRuntimeExports.jsx("div",{onMouseDown:yx,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:jsxRuntimeExports.jsxs("div",{style:{width:"700px",maxHeight:"90vh",overflow:"auto",background:"#1f1f1f",color:"#eaeaea",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0,0,0,0.45)",border:"1px solid #2a2a2a",padding:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"18px",fontWeight:600,marginBottom:"16px"},children:x1?"Edit Template":"Create Template"}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"12px",marginBottom:"16px",alignItems:"end"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"4px",color:"#aaa"},children:"Template Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:Tl,onChange:bu=>Dl(bu.target.value),placeholder:"e.g., Security",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #333",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px"}})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"4px",color:"#aaa"},children:"Visibility"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ll("personal"),style:{padding:"8px 12px",background:Bl==="personal"?"#3498db":"#2a2a2a",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"12px"},children:"Personal"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ll("shared"),title:"Shared is a placeholder for team sharing",style:{padding:"8px 12px",background:Bl==="shared"?"#6C757D":"#2a2a2a",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"12px",opacity:.9},children:"Shared"})]})]})]}),Tl.trim()&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"6px",color:"#aaa"},children:"Modules"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:mu?jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsxs(DndContext,{sensors:ty,collisionDetection:closestCenter,onDragStart:ry,onDragEnd:Wv,onDragCancel:lx,children:[jsxRuntimeExports.jsx(SortableContext,{items:Nl.map(bu=>bu.id),strategy:verticalListSortingStrategy,children:jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:Nl.map(bu=>jsxRuntimeExports.jsx(TemplateModuleSortableRow,{module:bu,isSelected:Ql.includes(bu.id),nameValue:Yl[bu.id]!==void 0?Yl[bu.id]:bu.name,onToggleSelect:Px,onNameChange:K1,onNameKeyDown:a1,disabled:!mu},bu.id))})}),jsxRuntimeExports.jsx(DragOverlay,{children:Zy&&jsxRuntimeExports.jsx(TemplateDragOverlayItem,{label:Zy.name})})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"4px"},children:[jsxRuntimeExports.jsx("button",{onClick:Zx,disabled:Ql.length===0,className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px",opacity:Ql.length===0?.5:1,cursor:Ql.length===0?"not-allowed":"pointer"},children:"Duplicate"}),jsxRuntimeExports.jsx("button",{onClick:$y,className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px"},children:"Move/Copy"}),jsxRuntimeExports.jsx("button",{onClick:Ev,className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px"},children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:()=>{if(Ql.length===0)return;const bu=Nl.filter(op=>Ql.includes(op.id)).map(op=>op.name).join(", "),Iu=Ql.length===1?`Are you sure you want to delete the module "${bu}"? This will also delete all categories and checklist items within it.`:`Are you sure you want to delete ${Ql.length} modules (${bu})? This will also delete all categories and checklist items within them.`;window.confirm(Iu)&&(w1(Ql),su([]))},disabled:Ql.length===0,className:"btn btn-danger",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px",opacity:Ql.length===0?.5:1,cursor:Ql.length===0?"not-allowed":"pointer"},children:"Delete"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("select",{value:$l||"",onChange:bu=>ey(bu.target.value||null),disabled:Nl.length===0,style:{flex:1,padding:"8px 10px",paddingRight:"30px",borderRadius:"6px",border:"1px solid #333",outline:"none",background:"#141414",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='none' stroke='%23eaeaea' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M1 1l5 5 5-5'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",color:"#eaeaea",fontFamily:FONT_FAMILY,cursor:"pointer",fontSize:"13px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a module..."}),Nl.map(bu=>jsxRuntimeExports.jsx("option",{value:bu.id,children:bu.name},bu.id))]}),jsxRuntimeExports.jsx("button",{onClick:gy,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px"},children:"Add"}),Nl.length>0&&jsxRuntimeExports.jsx("button",{onClick:$1,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px"},children:"Edit"})]})}),nu&&!mu&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginTop:"6px"},children:[jsxRuntimeExports.jsx("input",{type:"text",value:lu,onChange:bu=>ju(bu.target.value),onKeyDown:bu=>{bu.key==="Enter"?Cy():bu.key==="Escape"&&Uy()},placeholder:"Enter module name...",autoFocus:!0,style:{flex:1,padding:"8px 10px",borderRadius:"6px",border:"1px solid #4A90E2",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px"}}),jsxRuntimeExports.jsx("button",{onClick:Cy,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px"},children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:Uy,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",background:"#2a2a2a",fontSize:"12px"},children:"Cancel"})]})]}),Tl.trim()&&$l&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"6px",color:"#aaa"},children:"Categories"}),(()=>{const bu=Nl.find(Iu=>Iu.id===$l);return bu?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:cu?jsxRuntimeExports.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsxs(DndContext,{sensors:i0,collisionDetection:closestCenter,onDragStart:ux,onDragEnd:hx,onDragCancel:l1,children:[jsxRuntimeExports.jsx(SortableContext,{items:(bu.categories||[]).map(Iu=>Iu.id),strategy:verticalListSortingStrategy,children:jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:(bu.categories||[]).map(Iu=>jsxRuntimeExports.jsx(TemplateCategorySortableRow,{category:Iu,isSelected:gu.includes(Iu.id),nameValue:Kl[Iu.id]!==void 0?Kl[Iu.id]:Iu.name,onToggleSelect:c1,onNameChange:D1,onNameKeyDown:dx,disabled:!cu},Iu.id))})}),jsxRuntimeExports.jsx(DragOverlay,{children:Ty&&jsxRuntimeExports.jsx(TemplateDragOverlayItem,{label:Ty.name})})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"4px"},children:[jsxRuntimeExports.jsx("button",{onClick:Y1,disabled:gu.length===0,className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px",opacity:gu.length===0?.5:1,cursor:gu.length===0?"not-allowed":"pointer"},children:"Duplicate"}),jsxRuntimeExports.jsx("button",{onClick:cm,className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px"},children:"Move/Copy"}),jsxRuntimeExports.jsx("button",{onClick:Gm,className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px"},children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:()=>{if(gu.length===0||!$l)return;const Iu=Nl.find(tu=>tu.id===$l);if(!Iu)return;const op=(Iu.categories||[]).filter(tu=>gu.includes(tu.id)).map(tu=>tu.name).join(", "),fp=gu.length===1?`Are you sure you want to delete the category "${op}"? This will also delete all checklist items within it.`:`Are you sure you want to delete ${gu.length} categories (${op})? This will also delete all checklist items within them.`;window.confirm(fp)&&(Jy($l,gu),Cu([]))},disabled:gu.length===0,className:"btn btn-danger",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px",opacity:gu.length===0?.5:1,cursor:gu.length===0?"not-allowed":"pointer"},children:"Delete"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("select",{value:Gl||"",onChange:Iu=>Dx(Iu.target.value||null),disabled:(bu.categories||[]).length===0,style:{flex:1,padding:"8px 10px",paddingRight:"30px",borderRadius:"6px",border:"1px solid #333",outline:"none",background:"#141414",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='none' stroke='%23eaeaea' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M1 1l5 5 5-5'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",color:"#eaeaea",fontFamily:FONT_FAMILY,cursor:"pointer",fontSize:"13px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a category..."}),(bu.categories||[]).map(Iu=>jsxRuntimeExports.jsx("option",{value:Iu.id,children:Iu.name},Iu.id))]}),jsxRuntimeExports.jsx("button",{onClick:Jx,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px"},children:"Add"}),(bu.categories||[]).length>0&&jsxRuntimeExports.jsx("button",{onClick:Hv,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px"},children:"Edit"})]})}),zu&&!cu&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginTop:"6px"},children:[jsxRuntimeExports.jsx("input",{type:"text",value:qu,onChange:Iu=>Mu(Iu.target.value),onKeyDown:Iu=>{Iu.key==="Enter"?Ix():Iu.key==="Escape"&&Ox()},placeholder:"Enter category name...",autoFocus:!0,style:{flex:1,padding:"8px 10px",borderRadius:"6px",border:"1px solid #4A90E2",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px"}}),jsxRuntimeExports.jsx("button",{onClick:Ix,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px"},children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:Ox,className:"btn btn-secondary",style:{padding:"8px 12px",borderRadius:"6px",background:"#2a2a2a",fontSize:"12px"},children:"Cancel"})]})]}):null})()]}),Tl.trim()&&$l&&Gl&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"6px",color:"#aaa"},children:"Checklist Items"}),(()=>{const bu=Nl.find(op=>op.id===$l);if(!bu)return null;const Iu=(bu.categories||[]).find(op=>op.id===Gl);return Iu?jsxRuntimeExports.jsxs("div",{style:{padding:"10px",background:"#141414",borderRadius:"8px",border:"1px solid #2a2a2a"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"8px",color:"#cfcfcf"},children:Iu.name}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"8px"},children:(Iu.checklist||[]).map(op=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[jsxRuntimeExports.jsx("input",{type:"text",value:op.text,onChange:fp=>Qy($l,Iu.id,op.id,fp.target.value),placeholder:"Checklist item (e.g., Cable pulled)",style:{flex:1,padding:"6px 8px",background:"#1b1b1b",color:"#ddd",border:"1px solid #2f2f2f",borderRadius:"6px",outline:"none",fontFamily:FONT_FAMILY,fontSize:"13px"}}),jsxRuntimeExports.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to delete the checklist item "${op.text||"Untitled Item"}"?`)&&fx($l,Iu.id,op.id)},title:"Delete",className:"btn btn-danger btn-icon-only btn-sm",style:{padding:"6px",minWidth:"28px",minHeight:"28px"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:11})})]},op.id))}),jsxRuntimeExports.jsx("button",{onClick:()=>zy($l,Iu.id),className:"btn btn-secondary",style:{padding:"6px 12px",borderRadius:"6px",fontSize:"12px"},children:"+ Add Item"})]}):null})()]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#141414",border:"1px solid #2a2a2a",borderRadius:"8px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",fontWeight:600},children:"Ball in Court"}),jsxRuntimeExports.jsx("button",{onClick:gx,className:"btn btn-secondary btn-sm",style:{padding:"6px 10px",fontSize:"12px"},children:"+ Add Entity"})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#888",marginBottom:"10px"},children:"Define entities and their highlight colors for responsibility tracking"}),jsxRuntimeExports.jsx("style",{children:`
                  body.ball-in-court-dragging [data-ball-delete] {
                    display: none !important;
                  }
                `}),jsxRuntimeExports.jsxs(DndContext,{sensors:Ip,collisionDetection:closestCenter,onDragStart:dp,onDragEnd:a0,onDragCancel:Dp,children:[jsxRuntimeExports.jsx(SortableContext,{items:wp.map(bu=>bu.id),strategy:verticalListSortingStrategy,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[wp.map(bu=>jsxRuntimeExports.jsx(BallInCourtSortableRow,{entity:bu,selectedColorPickerId:Pp,onOpenColorPicker:vx,onNameChange:jv,onDelete:()=>Fx(bu.id),isAnyDragging:_0},bu.id)),wp.length===0&&jsxRuntimeExports.jsx("div",{style:{color:"#888",fontSize:"13px",fontStyle:"italic",padding:"12px"},children:"No entities defined. Add at least one entity for Ball in Court tracking."})]})}),jsxRuntimeExports.jsx(DragOverlay,{children:d0&&jsxRuntimeExports.jsx(BallInCourtDragOverlayItem,{entity:d0})})]})]}),Pp&&(()=>{const bu=wp.find(_u=>_u.id===Pp);if(!bu)return null;const op=_d?_d.hex:(_u=>{if(_u.startsWith("rgba")){const tp=_u.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(tp){const ap=parseInt(tp[1]).toString(16).padStart(2,"0"),gp=parseInt(tp[2]).toString(16).padStart(2,"0"),pp=parseInt(tp[3]).toString(16).padStart(2,"0");return`#${ap}${gp}${pp}`}}return _u.startsWith("#")?_u:"#E3D1FB"})(bu.color),fp=_d?_d.opacity:getOpacityFromBallColor(bu.color),tu=hexToRgb(op),wu=rgbToHsl(tu.r,tu.g,tu.b),ku=(_u,tp,ap,gp=fp)=>{const pp=hslToRgb(_u,tp,ap),Tp=`#${pp.r.toString(16).padStart(2,"0")}${pp.g.toString(16).padStart(2,"0")}${pp.b.toString(16).padStart(2,"0")}`;hp({hex:Tp,opacity:gp})},Tu=generateColorSwatches();return jsxRuntimeExports.jsx("div",{onClick:_u=>{_u.target===_u.currentTarget&&(n0(null),hp(null),Ru(null),lp(!1))},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",zIndex:10004,display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:_u=>_u.stopPropagation(),"data-color-picker-dialog":!0,style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"20px",width:Jp==="grid"?"520px":"420px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Choose Color"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ju("grid"),Ru(null),lp(!1)},style:{width:"32px",height:"32px",background:Jp==="grid"?"#555":"#333",border:"1px solid #444",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Grid View",children:jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"5",height:"5",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"2",width:"5",height:"5",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"2",y:"9",width:"5",height:"5",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"9",width:"5",height:"5",fill:"#fff"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ju("advanced"),Ru(null),lp(!1)},style:{width:"32px",height:"32px",background:Jp==="advanced"?"#555":"#333",border:"1px solid #444",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Advanced Picker",children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M8 2L10 6L14 8L10 10L8 14L6 10L2 8L6 6L8 2Z",fill:"#fff"})})})]})]}),Jp==="grid"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:"4px",marginBottom:"20px"},children:Tu.map((_u,tp)=>{const ap=op.toLowerCase()===_u.toLowerCase();return jsxRuntimeExports.jsx("div",{onClick:()=>{const gp=_d?_d.opacity:fp,pp=hexToRgba(_u,gp/100);Wy(bu.id,{color:pp}),n0(null),hp(null)},style:{width:"100%",aspectRatio:"1",background:_u,borderRadius:"4px",cursor:"pointer",border:ap?"2px solid #4A90E2":"1px solid #444",boxSizing:"border-box",transition:"border 0.2s"},onMouseEnter:gp=>{ap||(gp.currentTarget.style.border="2px solid #666")},onMouseLeave:gp=>{ap||(gp.currentTarget.style.border="1px solid #444")}},tp)})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[jsxRuntimeExports.jsx("label",{style:{fontSize:"13px",color:"#999",minWidth:"60px"},children:"Opacity:"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:fp,onChange:_u=>{const tp=parseFloat(_u.target.value);hp({hex:op,opacity:tp})},onClick:_u=>_u.stopPropagation(),onMouseDown:_u=>_u.stopPropagation(),style:{flex:1,height:"4px",background:`linear-gradient(to right, transparent, ${op})`,borderRadius:"2px",outline:"none",cursor:"pointer"}}),jsxRuntimeExports.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:sp?xp!==null?xp.toString():"":Math.round(fp).toString(),onChange:_u=>{const tp=_u.target.value;if(tp===""){Ru("");return}if(/^\d+$/.test(tp)){const ap=parseInt(tp,10);if(!isNaN(ap)){const gp=Math.max(0,Math.min(100,ap));Ru(tp),hp({hex:op,opacity:gp})}}},onBlur:_u=>{lp(!1);const tp=_u.target.value.trim();if(tp===""||isNaN(parseInt(tp,10))){Ru(null);const ap=_d?_d.opacity:fp;hp({hex:op,opacity:ap})}else{const ap=parseInt(tp,10),gp=Math.max(0,Math.min(100,ap));Ru(null),hp({hex:op,opacity:gp})}},onFocus:_u=>{_u.stopPropagation(),lp(!0),_u.target.select();const tp=_d?_d.opacity:fp;Ru(Math.round(tp).toString())},onClick:_u=>{_u.stopPropagation(),_u.target.select()},onKeyDown:_u=>{_u.stopPropagation(),!(_u.key==="Delete"||_u.key==="Backspace"||_u.key==="ArrowLeft"||_u.key==="ArrowRight")&&(/^\d$/.test(_u.key)||_u.ctrlKey||_u.metaKey||_u.preventDefault())},style:{width:"60px",padding:"6px 8px",background:"#141414",color:"#ddd",border:"1px solid #2f2f2f",borderRadius:"6px",outline:"none",fontSize:"13px",fontFamily:"monospace",textAlign:"center"}}),jsxRuntimeExports.jsx("span",{style:{color:"#ddd",fontWeight:"500",fontSize:"13px"},children:"%"})]})]}),Jp==="advanced"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{position:"relative",marginBottom:"16px"},children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",aspectRatio:"1",borderRadius:"6px",position:"relative",cursor:"crosshair",border:"1px solid #444",overflow:"hidden"},onMouseDown:_u=>{const tp=_u.currentTarget.getBoundingClientRect(),ap=(_u.clientX-tp.left)/tp.width,gp=(_u.clientY-tp.top)/tp.height,pp=Math.max(0,Math.min(100,ap*100)),Tp=Math.max(0,Math.min(100,(1-gp)*100));ku(wu.h,pp,Tp,fp)},onMouseMove:_u=>{if(_u.buttons===1){const tp=_u.currentTarget.getBoundingClientRect(),ap=(_u.clientX-tp.left)/tp.width,gp=(_u.clientY-tp.top)/tp.height,pp=Math.max(0,Math.min(100,ap*100)),Tp=Math.max(0,Math.min(100,(1-gp)*100));ku(wu.h,pp,Tp,fp)}},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`hsl(${wu.h}, 100%, 50%)`}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to right, white, transparent)",mixBlendMode:"multiply"}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, transparent, black)"}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:`${wu.s}%`,top:`${100-wu.l}%`,width:"12px",height:"12px",borderRadius:"50%",border:"2px solid white",background:op,transform:"translate(-50%, -50%)",pointerEvents:"none",boxShadow:"0 0 0 1px rgba(0,0,0,0.3)"}})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M8 2L10 6L14 8L10 10L8 14L6 10L2 8L6 6L8 2Z",fill:op,stroke:"#fff",strokeWidth:"1"})})}),jsxRuntimeExports.jsxs("div",{style:{flex:1,position:"relative",height:"24px",background:"linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000)",borderRadius:"4px",border:"1px solid #444"},children:[jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:wu.h,onChange:_u=>{const tp=parseFloat(_u.target.value);ku(tp,wu.s,wu.l,fp)},style:{width:"100%",height:"100%",background:"transparent",outline:"none",cursor:"pointer",WebkitAppearance:"none",appearance:"none",margin:0,padding:0}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:`${wu.h/360*100}%`,top:"50%",transform:"translate(-50%, -50%)",width:"4px",height:"24px",background:"white",borderRadius:"2px",pointerEvents:"none",boxShadow:"0 0 2px rgba(0,0,0,0.5)"}})]})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"16px"},children:jsxRuntimeExports.jsx("input",{type:"text",value:op.toUpperCase(),onChange:_u=>{let tp=_u.target.value.trim().toUpperCase();if(tp.startsWith("#")||(tp="#"+tp),/^#[0-9A-F]{0,6}$/.test(tp))if(tp.length===7)try{const ap=hexToRgb(tp),gp=rgbToHsl(ap.r,ap.g,ap.b);hp({hex:tp,opacity:fp})}catch{}else hp(ap=>({...ap,hex:tp,opacity:fp}))},onBlur:_u=>{let tp=_u.target.value.trim().toUpperCase();if(tp.startsWith("#")||(tp="#"+tp),/^#[0-9A-F]{6}$/.test(tp))try{const ap=hexToRgb(tp),gp=rgbToHsl(ap.r,ap.g,ap.b);hp({hex:tp,opacity:fp})}catch{hp({hex:op,opacity:fp})}else hp({hex:op,opacity:fp})},onClick:_u=>_u.stopPropagation(),onFocus:_u=>_u.stopPropagation(),style:{width:"100%",padding:"8px 12px",background:"#141414",color:"#ddd",border:"1px solid #2f2f2f",borderRadius:"6px",outline:"none",fontFamily:"monospace",fontSize:"14px"},placeholder:"#00FF00"})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[jsxRuntimeExports.jsx("label",{style:{fontSize:"13px",color:"#999",minWidth:"60px"},children:"Opacity:"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:fp,onChange:_u=>{const tp=parseFloat(_u.target.value);hp({hex:op,opacity:tp})},onClick:_u=>_u.stopPropagation(),onMouseDown:_u=>_u.stopPropagation(),style:{flex:1,height:"4px",background:`linear-gradient(to right, rgba(128,128,128,0.3), ${op})`,borderRadius:"2px",outline:"none",cursor:"pointer",WebkitAppearance:"none",appearance:"none"}}),jsxRuntimeExports.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:sp?xp!==null?xp.toString():"":Math.round(fp).toString(),onChange:_u=>{const tp=_u.target.value;if(tp===""){Ru("");return}if(/^\d+$/.test(tp)){const ap=parseInt(tp,10);if(!isNaN(ap)){const gp=Math.max(0,Math.min(100,ap));Ru(tp),hp({hex:op,opacity:gp})}}},onBlur:_u=>{lp(!1);const tp=_u.target.value.trim();if(tp===""||isNaN(parseInt(tp,10))){Ru(null);const ap=_d?_d.opacity:fp;hp({hex:op,opacity:ap})}else{const ap=parseInt(tp,10),gp=Math.max(0,Math.min(100,ap));Ru(null),hp({hex:op,opacity:gp})}},onFocus:_u=>{_u.stopPropagation(),lp(!0),_u.target.select();const tp=_d?_d.opacity:fp;Ru(Math.round(tp).toString())},onClick:_u=>{_u.stopPropagation(),_u.target.select()},onKeyDown:_u=>{_u.stopPropagation(),!(_u.key==="Delete"||_u.key==="Backspace"||_u.key==="ArrowLeft"||_u.key==="ArrowRight")&&(/^\d$/.test(_u.key)||_u.ctrlKey||_u.metaKey||_u.preventDefault())},style:{width:"60px",padding:"6px 8px",background:"#141414",color:"#ddd",border:"1px solid #2f2f2f",borderRadius:"6px",outline:"none",fontSize:"13px",fontFamily:"monospace",textAlign:"center"}}),jsxRuntimeExports.jsx("span",{style:{color:"#ddd",fontWeight:"500",fontSize:"13px"},children:"%"})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{n0(null),hp(null),Ru(null),lp(!1)},style:{padding:"8px 16px",background:"#333",color:"#fff",border:"1px solid #444",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontFamily:FONT_FAMILY},children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const _u=_d?_d.opacity:fp,tp=hexToRgba(op,_u/100);Wy(bu.id,{color:tp}),n0(null),hp(null),Ru(null),lp(!1)},style:{padding:"8px 16px",background:"#4A90E2",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontFamily:FONT_FAMILY,fontWeight:"500"},children:"Apply"})]})]})})})(),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #2a2a2a"},children:[jsxRuntimeExports.jsx("button",{onClick:ex,className:"btn btn-secondary",style:{padding:"8px 16px",borderRadius:"6px",fontSize:"13px"},children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:rv,className:"btn btn-primary",disabled:!Tl.trim(),style:{padding:"8px 16px",borderRadius:"6px",fontSize:"13px"},children:x1?"Save Changes":"Save Template"})]})]})}),_f&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:jsxRuntimeExports.jsxs("div",{style:{width:"600px",maxHeight:"85vh",overflow:"auto",background:"#1f1f1f",color:"#eaeaea",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0,0,0,0.45)",border:"1px solid #2a2a2a",padding:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:Gu==="module"?"Move/Copy Modules":Gu==="category"?"Move/Copy Categories":"Move/Copy Checklist Items"}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"6px",color:"#aaa"},children:"Action"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Pu("copy"),style:{padding:"8px 16px",background:Au==="copy"?"#4A90E2":"#2a2a2a",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"12px"},children:"Copy"}),jsxRuntimeExports.jsx("button",{onClick:()=>Pu("move"),style:{padding:"8px 16px",background:Au==="move"?"#4A90E2":"#2a2a2a",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:500,fontSize:"12px"},children:"Move"})]})]}),Gu==="module"&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"6px",color:"#aaa"},children:"Destination Template"}),jsxRuntimeExports.jsxs("select",{value:fm||"",onChange:bu=>{Sm(bu.target.value),Xm("")},style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #333",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,cursor:"pointer",fontSize:"13px"},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select destination template..."}),jsxRuntimeExports.jsx("option",{value:"new",children:"Create New Template"}),xm.filter(bu=>x1?bu.id!==x1:!0).map(bu=>jsxRuntimeExports.jsx("option",{value:bu.id,children:bu.name},bu.id))]}),fm==="new"&&jsxRuntimeExports.jsx("input",{type:"text",value:Sv,onChange:bu=>Xm(bu.target.value),placeholder:"New template name...",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #4A90E2",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px",marginTop:"8px"}})]}),Gu==="category"&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:500,marginBottom:"6px",color:"#aaa"},children:"Destination Space"}),jsxRuntimeExports.jsxs("select",{value:ev||"",onChange:bu=>{z1(bu.target.value),o1(""),Dv("")},style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #333",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,cursor:"pointer",fontSize:"13px"},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select destination module..."}),jsxRuntimeExports.jsx("option",{value:"new",children:"Create New Module"}),Nl.filter(bu=>bu.id!==$l).map(bu=>jsxRuntimeExports.jsx("option",{value:bu.id,children:bu.name},bu.id))]}),ev==="new"&&jsxRuntimeExports.jsx("input",{type:"text",value:R1,onChange:bu=>o1(bu.target.value),placeholder:"New module name...",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #4A90E2",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px",marginTop:"8px"}}),Cv&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsxs("label",{style:{fontSize:"12px",fontWeight:500,color:"#aaa"},children:["New category name",Fv?" (required to resolve duplicate)":""]}),jsxRuntimeExports.jsx("input",{type:"text",value:my,onChange:bu=>Dv(bu.target.value),placeholder:Au==="copy"?"Name to use for the copied category...":"New name before moving into destination module...",style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #333",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,fontSize:"13px"}}),Au==="copy"&&jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#6f6f6f"},children:"Only the copied category uses this name; the original keeps its current name."})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"16px",paddingTop:"12px",borderTop:"1px solid #2a2a2a"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Xu(!1),Sm(null),z1(null),i1(null),Xm(""),o1(""),Dv("")},className:"btn btn-secondary",style:{padding:"8px 16px",borderRadius:"6px",fontSize:"13px"},children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Qx,className:"btn btn-primary",disabled:Gu==="module"&&!fm||Gu==="module"&&fm==="new"&&!Sv.trim()||Gu==="category"&&!ev||Gu==="category"&&ev==="new"&&!R1.trim(),style:{padding:"8px 16px",borderRadius:"6px",fontSize:"13px"},children:Au==="move"?"Move":"Copy"})]})]})}),Fl&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:jsxRuntimeExports.jsxs("div",{style:{width:"560px",background:"#1f1f1f",color:"#eaeaea",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.45)",border:"1px solid #2a2a2a",padding:"24px"},children:[jsxRuntimeExports.jsxs("div",{style:{fontSize:"24px",fontWeight:700,textAlign:"center",marginBottom:"20px"},children:["Move ",Fm.length," document(s)"]}),ov()==="projectFiles"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px"},children:"Move to Documents"}),jsxRuntimeExports.jsxs("button",{onClick:()=>O1(null,!1,!0),style:{width:"100%",padding:"12px 14px",background:"#28A745",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",marginBottom:"20px",fontWeight:600,transition:"all 0.2s"},onMouseEnter:bu=>{bu.currentTarget.style.background="#218838"},onMouseLeave:bu=>{bu.currentTarget.style.background="#28A745"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:14,style:{marginRight:"6px"}})," Move to Documents Tab"]}),jsxRuntimeExports.jsx("div",{style:{borderTop:"1px solid #3a3a3a",paddingTop:"20px",marginBottom:"20px"}})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px"},children:"Move to existing project"}),(()=>{const bu=ov()==="projectFiles"?j0.filter(Iu=>Iu.id!==hm):j0;return bu.length===0?jsxRuntimeExports.jsx("div",{style:{color:"#888",fontSize:"13px",marginBottom:"20px",fontStyle:"italic"},children:ov()==="projectFiles"?"No other projects available":"No existing projects"}):jsxRuntimeExports.jsx("div",{style:{maxHeight:"200px",overflow:"auto",marginBottom:"20px"},children:bu.map(Iu=>jsxRuntimeExports.jsxs("button",{onClick:()=>O1(Iu.id,!1),style:{width:"100%",padding:"12px 14px",background:"#2a2a2a",color:"#eaeaea",border:"1px solid #3a3a3a",borderRadius:"10px",cursor:"pointer",marginBottom:"8px",textAlign:"left",transition:"all 0.2s"},onMouseEnter:op=>{op.currentTarget.style.background="#4A90E2",op.currentTarget.style.borderColor="#4A90E2"},onMouseLeave:op=>{op.currentTarget.style.background="#2a2a2a",op.currentTarget.style.borderColor="#3a3a3a"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:600},children:Iu.name}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[(B0||[]).filter(op=>op.project_id===Iu.id).length," file(s)"]})]},Iu.id))})})(),jsxRuntimeExports.jsx("div",{style:{borderTop:"1px solid #3a3a3a",paddingTop:"20px",marginBottom:"20px"}}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px"},children:"Create new project"}),jsxRuntimeExports.jsx("input",{type:"text",value:E0,onChange:bu=>P0(bu.target.value),placeholder:"Enter project name",style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:"1px solid #333",outline:"none",background:"#141414",color:"#eaeaea",fontFamily:FONT_FAMILY,marginBottom:"18px"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ml(!1),P0("")},className:"btn btn-secondary btn-md",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>O1(null,!0),className:"btn btn-primary btn-md",disabled:!E0.trim(),children:"Create & Move"})]})]})}),jsxRuntimeExports.jsx("div",{style:{flex:1,padding:"32px",overflow:"auto",background:"#1E1E1E"},children:q0==="documents"&&dv.length===0?jsxRuntimeExports.jsxs("div",{style:{background:"transparent",borderRadius:"12px",padding:"80px 60px",textAlign:"center",color:"#9A9A9A"},children:[jsxRuntimeExports.jsx("div",{style:{display:"block",marginBottom:"24px",opacity:.6},children:jsxRuntimeExports.jsx(Icon,{name:"document",size:64})}),jsxRuntimeExports.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",margin:"0 0 8px 0",color:"#FFFFFF"},children:"No documents yet"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"14px",color:"#9A9A9A",margin:0},children:"Upload your first PDF to get started"})]}):q0==="projects"&&!hm&&Ly.length===0?jsxRuntimeExports.jsxs("div",{style:{background:"transparent",borderRadius:"12px",padding:"80px 60px",textAlign:"center",color:"#9A9A9A"},children:[jsxRuntimeExports.jsx("div",{style:{display:"block",marginBottom:"24px",opacity:.6},children:jsxRuntimeExports.jsx(Icon,{name:"folder",size:64})}),jsxRuntimeExports.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",margin:"0 0 8px 0",color:"#FFFFFF"},children:"No projects yet"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"14px",color:"#9A9A9A",margin:0},children:"Create your first project to organize PDFs"})]}):q0==="projects"&&hm&&(!L1||L1.length===0)?jsxRuntimeExports.jsxs("div",{style:{background:"transparent",borderRadius:"12px",padding:"80px 60px",textAlign:"center",color:"#9A9A9A"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:48}),jsxRuntimeExports.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",margin:"16px 0 8px",color:"#666"},children:"No files in this project"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"14px"},children:"Add PDFs to this project from the create project dialog"})]}):q0==="templates"&&!pm&&By.length===0?jsxRuntimeExports.jsxs("div",{style:{background:"transparent",borderRadius:"12px",padding:"80px 60px",textAlign:"center",color:"#9A9A9A"},children:[jsxRuntimeExports.jsx("div",{style:{display:"block",marginBottom:"24px",opacity:.6},children:jsxRuntimeExports.jsx(Icon,{name:"template",size:64})}),jsxRuntimeExports.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",margin:"0 0 8px 0",color:"#FFFFFF"},children:"No templates yet"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"14px",color:"#9A9A9A",margin:0},children:"Create a template to reuse annotations and layouts"})]}):q0==="templates"&&pm&&(((yy=xm.find(bu=>bu.id===pm))==null?void 0:yy.pdfs)||[]).length===0?jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"60px",textAlign:"center",color:"#999"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:48}),jsxRuntimeExports.jsx("h3",{style:{fontSize:"18px",fontWeight:"500",margin:"16px 0 8px",color:"#666"},children:"No files in this template"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"14px"},children:"Add PDFs to this template to start editing"})]}):s1==="grid"?jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},children:(q0==="documents"?dv:q0==="projects"?hm?(L1||[]).map(bu=>({id:bu.id,name:bu.name,size:bu.file_size||0,uploadedAt:bu.created_at||bu.updated_at,type:"application/pdf",filePath:bu.file_path,projectId:bu.project_id})):Ly:pm?((Hy=xm.find(bu=>bu.id===pm))==null?void 0:Hy.pdfs)||[]:By).filter(bu=>Pm?q0==="projects"&&!hm?bu.name.toLowerCase().includes(Pm.toLowerCase()):(bu.name||"").toLowerCase().includes(Pm.toLowerCase()):!0).map(bu=>q0==="documents"?jsxRuntimeExports.jsxs("div",{onClick:Iu=>{vm?(Iu.preventDefault(),Iu.stopPropagation(),Wm(bu.id)):fy(bu)},style:{background:"#252525",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"12px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},onMouseEnter:Iu=>{Iu.currentTarget.style.transform="translateY(-2px)",Iu.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.45)",Iu.currentTarget.style.borderColor="#4A90E2"},onMouseLeave:Iu=>{Iu.currentTarget.style.transform="translateY(0)",Iu.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)",Iu.currentTarget.style.borderColor="#3a3a3a"},children:[vm&&jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>{Iu.stopPropagation(),Wm(bu.id,Iu)},onClick:Iu=>Iu.stopPropagation(),style:{position:"absolute",right:"8px",top:"8px",zIndex:10}}),jsxRuntimeExports.jsx(PDFThumbnail,{dataUrl:bu.dataUrl,filePath:bu.filePath,docId:bu.id,getDocumentUrl:Ku,downloadDocument:Lp}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:"500",color:"#eaeaea",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:bu.name}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999"},children:G1(bu.size)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"},children:av(bu.uploadedAt)})]})]},bu.id):q0==="projects"&&!hm?jsxRuntimeExports.jsxs("div",{onClick:()=>vm?Wm(bu.id):K0(bu.id),style:{background:"#252525",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",position:"relative",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:Iu=>{Iu.currentTarget.style.borderColor="#4A90E2",Iu.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.45)"},onMouseLeave:Iu=>{Iu.currentTarget.style.borderColor="#3a3a3a",Iu.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)"},children:[vm&&jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>Wm(bu.id,Iu),style:{position:"absolute",right:"8px",top:"8px"}}),jsxRuntimeExports.jsx(Icon,{name:"folder",size:32,color:"#FFFFFF"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#eaeaea",marginTop:"8px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:bu.name}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:[(B0||[]).filter(Iu=>Iu.project_id===bu.id).length," files  ",av(bu.created_at||bu.createdAt)]})]},bu.id):q0==="projects"&&hm?jsxRuntimeExports.jsxs("div",{onClick:Iu=>{vm?(Iu.preventDefault(),Iu.stopPropagation(),Wm(bu.id)):fy(bu)},style:{background:"#252525",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"12px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},onMouseEnter:Iu=>{Iu.currentTarget.style.transform="translateY(-2px)",Iu.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.45)",Iu.currentTarget.style.borderColor="#4A90E2"},onMouseLeave:Iu=>{Iu.currentTarget.style.transform="translateY(0)",Iu.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)",Iu.currentTarget.style.borderColor="#3a3a3a"},children:[vm&&jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>{Iu.stopPropagation(),Wm(bu.id,Iu)},onClick:Iu=>Iu.stopPropagation(),style:{position:"absolute",right:"8px",top:"8px",zIndex:10}}),jsxRuntimeExports.jsx(PDFThumbnail,{dataUrl:bu.dataUrl,filePath:bu.filePath,docId:bu.id,getDocumentUrl:Ku,downloadDocument:Lp}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:"500",color:"#eaeaea",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:bu.name}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999"},children:G1(bu.size||bu.file_size||0)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"},children:av(bu.uploadedAt||bu.created_at||bu.updated_at)})]})]},bu.id):q0==="templates"&&!pm?jsxRuntimeExports.jsxs("div",{onClick:()=>vm?Wm(bu.id):Gv(bu.id),style:{background:"#252525",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",position:"relative",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:Iu=>{Iu.currentTarget.style.borderColor="#4A90E2",Iu.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.45)"},onMouseLeave:Iu=>{Iu.currentTarget.style.borderColor="#3a3a3a",Iu.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)"},children:[vm&&jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>Wm(bu.id,Iu),style:{position:"absolute",right:"8px",top:"8px"}}),jsxRuntimeExports.jsx(Icon,{name:"template",size:32,color:"#FFFFFF"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#eaeaea",marginTop:"8px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:bu.name||"Untitled Template"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:av(bu.createdAt||new Date().toISOString())})]},bu.id):q0==="templates"&&pm?jsxRuntimeExports.jsxs("div",{onClick:Iu=>{vm?(Iu.preventDefault(),Iu.stopPropagation(),Wm(bu.id)):fy(bu)},style:{background:"#252525",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"12px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},onMouseEnter:Iu=>{Iu.currentTarget.style.transform="translateY(-2px)",Iu.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.45)",Iu.currentTarget.style.borderColor="#4A90E2"},onMouseLeave:Iu=>{Iu.currentTarget.style.transform="translateY(0)",Iu.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)",Iu.currentTarget.style.borderColor="#3a3a3a"},children:[vm&&jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>{Iu.stopPropagation(),Wm(bu.id,Iu)},onClick:Iu=>Iu.stopPropagation(),style:{position:"absolute",right:"8px",top:"8px",zIndex:10}}),jsxRuntimeExports.jsx(PDFThumbnail,{dataUrl:bu.dataUrl,filePath:bu.filePath,docId:bu.id,getDocumentUrl:Ku,downloadDocument:Lp}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",fontWeight:"500",color:"#eaeaea",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:bu.name}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999"},children:G1(bu.size)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"},children:av(bu.uploadedAt)})]})]},bu.id):jsxRuntimeExports.jsxs("div",{style:{background:"#252525",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:[jsxRuntimeExports.jsx(Icon,{name:"template",size:32,color:"#FFFFFF"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#eaeaea",marginTop:"8px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:bu.name||"Untitled Template"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:av(bu.createdAt||new Date().toISOString())})]},bu.id))}):jsxRuntimeExports.jsx("div",{style:{background:"#2a2a2a",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:q0==="documents"?jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#333"},children:[vm&&jsxRuntimeExports.jsx("th",{style:{width:"44px"}}),jsxRuntimeExports.jsxs("th",{onClick:()=>Ny("name"),style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf",cursor:"pointer",userSelect:"none"},children:["Document Name ",om.key==="name"&&(om.direction==="asc"?"":"")]}),jsxRuntimeExports.jsxs("th",{onClick:()=>Ny("size"),style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf",cursor:"pointer",userSelect:"none"},children:["Size ",om.key==="size"&&(om.direction==="asc"?"":"")]}),jsxRuntimeExports.jsxs("th",{onClick:()=>Ny("uploadedAt"),style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf",cursor:"pointer",userSelect:"none"},children:["Last Modified ",om.key==="uploadedAt"&&(om.direction==="asc"?"":"")]}),vm&&jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",width:"60px"}})]})}),jsxRuntimeExports.jsx("tbody",{children:dv.map(bu=>jsxRuntimeExports.jsxs("tr",{onClick:Iu=>{vm?(Iu.preventDefault(),Iu.stopPropagation(),Wm(bu.id)):fy(bu)},style:{borderTop:"1px solid #3a3a3a",cursor:"pointer",transition:"background 0.2s",background:"transparent"},onMouseEnter:Iu=>Iu.currentTarget.style.background="#333",onMouseLeave:Iu=>Iu.currentTarget.style.background="transparent",children:[vm&&jsxRuntimeExports.jsx("td",{style:{padding:"14px 8px"},onClick:Iu=>Iu.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>{Iu.stopPropagation(),Wm(bu.id,Iu)},onClick:Iu=>Iu.stopPropagation()})}),jsxRuntimeExports.jsxs("td",{style:{padding:"14px 16px",fontSize:"14px",color:"#eaeaea",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:20}),bu.name]}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:G1(bu.size)}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:av(bu.uploadedAt)}),vm&&jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px"},children:jsxRuntimeExports.jsx("button",{onClick:Iu=>kx(bu.id,Iu),className:"btn btn-danger btn-sm",children:"Delete"})})]},bu.id))})]}):q0==="projects"&&!hm?jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#333"},children:[vm&&jsxRuntimeExports.jsx("th",{style:{width:"44px"}}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Project"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Files"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Created"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ly.filter(bu=>!Pm||bu.name.toLowerCase().includes(Pm.toLowerCase())).map(bu=>jsxRuntimeExports.jsxs("tr",{onClick:()=>vm?Wm(bu.id):K0(bu.id),style:{borderTop:"1px solid #3a3a3a",cursor:"pointer",background:"transparent"},onMouseEnter:Iu=>Iu.currentTarget.style.background="#333",onMouseLeave:Iu=>Iu.currentTarget.style.background="transparent",children:[vm&&jsxRuntimeExports.jsx("td",{style:{padding:"14px 8px"},children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>Wm(bu.id,Iu)})}),jsxRuntimeExports.jsxs("td",{style:{padding:"14px 16px",fontSize:"14px",color:"#eaeaea",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"folder",size:20}),bu.name]}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:(B0||[]).filter(Iu=>Iu.project_id===bu.id).length}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:av(bu.created_at||bu.createdAt)})]},bu.id))})]}):q0==="projects"&&hm?jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#333"},children:[vm&&jsxRuntimeExports.jsx("th",{style:{width:"44px"}}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"File"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Size"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Uploaded"})]})}),jsxRuntimeExports.jsx("tbody",{children:(L1||[]).filter(bu=>!Pm||(bu.name||"").toLowerCase().includes(Pm.toLowerCase())).map(bu=>jsxRuntimeExports.jsxs("tr",{onClick:Iu=>{vm?(Iu.preventDefault(),Iu.stopPropagation(),Wm(bu.id)):fy(bu)},style:{borderTop:"1px solid #3a3a3a",cursor:"pointer",background:"transparent"},onMouseEnter:Iu=>Iu.currentTarget.style.background="#333",onMouseLeave:Iu=>Iu.currentTarget.style.background="transparent",children:[vm&&jsxRuntimeExports.jsx("td",{style:{padding:"14px 8px"},onClick:Iu=>Iu.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>{Iu.stopPropagation(),Wm(bu.id,Iu)},onClick:Iu=>Iu.stopPropagation()})}),jsxRuntimeExports.jsxs("td",{style:{padding:"14px 16px",fontSize:"14px",color:"#eaeaea",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:20}),bu.name]}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:G1(bu.file_size||0)}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:av(bu.created_at||bu.updated_at)})]},bu.id))})]}):q0==="templates"&&!pm?jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#333"},children:[vm&&jsxRuntimeExports.jsx("th",{style:{width:"44px"}}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Template"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Categories"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Created"})]})}),jsxRuntimeExports.jsx("tbody",{children:By.filter(bu=>!Pm||(bu.name||"").toLowerCase().includes(Pm.toLowerCase())).map(bu=>jsxRuntimeExports.jsxs("tr",{onClick:()=>vm?Wm(bu.id):Gv(bu.id),style:{borderTop:"1px solid #3a3a3a",cursor:"pointer",background:"transparent"},onMouseEnter:Iu=>Iu.currentTarget.style.background="#333",onMouseLeave:Iu=>Iu.currentTarget.style.background="transparent",children:[vm&&jsxRuntimeExports.jsx("td",{style:{padding:"14px 8px"},children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>Wm(bu.id,Iu)})}),jsxRuntimeExports.jsxs("td",{style:{padding:"14px 16px",fontSize:"14px",color:"#eaeaea",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"template",size:24}),bu.name||"Untitled Template"]}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:(()=>{const Iu=new Set;return(bu.modules||bu.spaces||[]).forEach(fp=>{(fp.categories||[]).forEach(tu=>{tu!=null&&tu.name&&Iu.add(tu.name)})}),Iu.size})()}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:av(bu.createdAt||new Date().toISOString())})]},bu.id))})]}):jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#333"},children:[vm&&jsxRuntimeExports.jsx("th",{style:{width:"44px"}}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"File"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Size"}),jsxRuntimeExports.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#cfcfcf"},children:"Uploaded"})]})}),jsxRuntimeExports.jsx("tbody",{children:(((tx=xm.find(bu=>bu.id===pm))==null?void 0:tx.pdfs)||[]).filter(bu=>!Pm||(bu.name||"").toLowerCase().includes(Pm.toLowerCase())).map(bu=>jsxRuntimeExports.jsxs("tr",{onClick:Iu=>{vm?(Iu.preventDefault(),Iu.stopPropagation(),Wm(bu.id)):fy(bu)},style:{borderTop:"1px solid #3a3a3a",cursor:"pointer",background:"transparent"},onMouseEnter:Iu=>Iu.currentTarget.style.background="#333",onMouseLeave:Iu=>Iu.currentTarget.style.background="transparent",children:[vm&&jsxRuntimeExports.jsx("td",{style:{padding:"14px 8px"},onClick:Iu=>Iu.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:U1(bu.id),onChange:Iu=>{Iu.stopPropagation(),Wm(bu.id,Iu)},onClick:Iu=>Iu.stopPropagation()})}),jsxRuntimeExports.jsxs("td",{style:{padding:"14px 16px",fontSize:"14px",color:"#eaeaea",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"document",size:20}),bu.name]}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:G1(bu.size)}),jsxRuntimeExports.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#9a9a9a"},children:av(bu.uploadedAt)})]},bu.id))})]})})})]}),jsxRuntimeExports.jsx(AccountSettings,{isOpen:Lu,onClose:()=>up(!1)})]})});function PDFViewer({pdfFile:us,onBack:is,tabId:cs,onPageDrop:lo,onUpdatePDFFile:co,onRequestCreateTemplate:hs,initialViewState:uo,onViewStateChange:xa,templates:ba=[],onTemplatesChange:$a}){var fp;const wl=reactExports.useRef(),Sl=reactExports.useRef(),Cl=reactExports.useRef({}),_l=reactExports.useRef({}),Il=reactExports.useRef(null);reactExports.useRef({});const Fl=reactExports.useRef(!1),Ml=reactExports.useRef(!1),Tl=reactExports.useRef(null),Dl=reactExports.useRef(null);reactExports.useRef({left:0,top:0});const Bl=reactExports.useRef(null),Ll=reactExports.useRef(null),Nl=reactExports.useRef(new PageRenderCache(100)),zl=reactExports.useRef(new Set),$l=reactExports.useRef(1),Vl=reactExports.useRef(null);if(!Vl.current){const tu=loadZoomPreferences();let wu=null;if(typeof window<"u")try{const ku=window.sessionStorage.getItem(MANUAL_ZOOM_SESSION_KEY);if(ku){const Tu=parseFloat(ku);Number.isNaN(Tu)||(wu=clampScale(Tu))}}catch(ku){console.warn("[PDFViewer] Unable to read session manual zoom level:",ku)}Vl.current={mode:tu.mode,manualScale:wu??tu.manualScale}}const Gl=Vl.current,[iu,nu]=reactExports.useState(null),[Jl,lu]=reactExports.useState((uo==null?void 0:uo.pageNum)||1),[ju,zu]=reactExports.useState(String((uo==null?void 0:uo.pageNum)||1)),[Wu,qu]=reactExports.useState(!1),[Mu,mu]=reactExports.useState(0),[uu,cu]=reactExports.useState((uo==null?void 0:uo.scale)||Gl.manualScale),[ru,Yl]=reactExports.useState((uo==null?void 0:uo.zoomMode)||Gl.mode),[Hl,Kl]=reactExports.useState((uo==null?void 0:uo.scale)||Gl.manualScale),[_c,Ql]=reactExports.useState(String(Math.round(((uo==null?void 0:uo.scale)||Gl.manualScale)*100))),[su,gu]=reactExports.useState(!1),[Cu,vu]=reactExports.useState("continuous"),[fu,Fu]=reactExports.useState(!1),[_f,Xu]=reactExports.useState({x:0,y:0}),[Gu,Uu]=reactExports.useState(new Set),[Au,Pu]=reactExports.useState(new Set([1])),[Ou,ip]=reactExports.useState({}),[$u,np]=reactExports.useState({}),[Eu,Lu]=reactExports.useState(!1),[up,mp]=reactExports.useState(!0),[Rp,kp]=reactExports.useState("pan"),[hu,Zl]=reactExports.useState("#ff0000"),[eu,Nu]=reactExports.useState(3),[Zu,Vu]=reactExports.useState({}),[yu,Hu]=reactExports.useState(!1),[Sp,Np]=reactExports.useState("partial"),[Lp,Ku]=reactExports.useState(!1),[wp,Bp]=reactExports.useState({visible:!1,text:"",x:0,y:0}),[Pp,n0]=reactExports.useState({}),[Jp,Ju]=reactExports.useState({}),[_d,hp]=reactExports.useState({}),[xp,Ru]=reactExports.useState(!1),[sp,lp]=reactExports.useState(!1),[Ip,_p]=reactExports.useState(!0),[Mp,d0]=reactExports.useState(!1),[dp,a0]=reactExports.useState(null),[Dp,_0]=reactExports.useState(null),E0=reactExports.useRef(null),P0=reactExports.useRef(null),sm=reactExports.useRef(null),Y0=reactExports.useRef(null),{updateTemplate:_m}=useTemplates(),Em=reactExports.useRef(!1),[om,_1]=reactExports.useState({top:56,bottom:56}),[Pm,p1]=reactExports.useState({top:56,height:500}),s1=ba;reactExports.useEffect(()=>{uo&&wl.current&&setTimeout(()=>{wl.current&&(wl.current.scrollLeft=uo.scrollLeft||0,wl.current.scrollTop=uo.scrollTop||0)},100)},[uo,iu]),reactExports.useEffect(()=>{if(!xa||!wl.current)return;const tu=()=>{wl.current&&xa({pageNum:Jl,scale:uu,zoomMode:ru,scrollLeft:wl.current.scrollLeft,scrollTop:wl.current.scrollTop})};let wu;const ku=()=>{clearTimeout(wu),wu=setTimeout(tu,500)},Tu=wl.current;return Tu.addEventListener("scroll",ku),tu(),()=>{Tu.removeEventListener("scroll",ku),clearTimeout(wu)}},[Jl,uu,ru,xa]);const[e1,q0]=reactExports.useState({}),[q1,j0]=reactExports.useState(null),[xm,V1]=reactExports.useState({text:"",photos:[],videos:[]}),[Pv,t1]=reactExports.useState(null),[Sy,hm]=reactExports.useState(!1),[K0,pm]=reactExports.useState({}),[am,x1]=reactExports.useState({}),[Fy,L1]=reactExports.useState({}),[Uv,Jv]=reactExports.useState(null),[dm,xv]=reactExports.useState(null),[B0,bm]=reactExports.useState(null),[dy,vm]=reactExports.useState(""),[b1,Fm]=reactExports.useState(null),[g1,jy]=reactExports.useState(null),[J0,Ym]=reactExports.useState({}),[A1,T1]=reactExports.useState({}),[Lm,Q1]=reactExports.useState(null),[n1,Tm]=reactExports.useState({}),[$v,My]=reactExports.useState(!1),[Qv,ov]=reactExports.useState(!1),[B1,U1]=reactExports.useState(!1),[Wm,bv]=reactExports.useState({}),[d1,uv]=reactExports.useState(null),[v0,Iv]=reactExports.useState({}),[ax,hv]=reactExports.useState({}),Cm=reactExports.useRef(null),zv=reactExports.useRef(null),O1=reactExports.useRef(Gl),G1=reactExports.useRef(Gl.manualScale),av=reactExports.useRef(1),Ny=reactExports.useRef({}),dv=reactExports.useRef(Gl.manualScale),Ly=reactExports.useCallback((tu={})=>{const wu={...O1.current,...tu};saveZoomPreferences(wu),O1.current=wu},[]),By=reactExports.useMemo(()=>ru===ZOOM_MODES.MANUAL?`Manual ${Math.round((Hl||1)*100)}%`:ZOOM_MODE_LABELS[ru]||"Zoom Mode",[ru,Hl]),fy=reactExports.useCallback(()=>{gu(tu=>!tu)},[]),kx=reactExports.useCallback(tu=>{const wu=Cm.current;wu&&(gu(!1),tu===ZOOM_MODES.MANUAL?wu.setMode(ZOOM_MODES.MANUAL,{scale:dv.current}):wu.setMode(tu))},[]);reactExports.useEffect(()=>{G1.current=uu},[uu]),reactExports.useEffect(()=>{av.current=Jl},[Jl]),reactExports.useEffect(()=>{Ny.current=$u},[$u]),reactExports.useEffect(()=>{dv.current=Hl},[Hl]),reactExports.useEffect(()=>{O1.current={mode:ru,manualScale:Hl}},[ru,Hl]),reactExports.useEffect(()=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(MANUAL_ZOOM_SESSION_KEY,dv.current.toString())}catch(tu){console.warn("[PDFViewer] Unable to persist manual zoom level in sessionStorage:",tu)}},[Hl]),reactExports.useEffect(()=>{if(!su)return;const tu=ku=>{zv.current&&(zv.current.contains(ku.target)||gu(!1))},wu=ku=>{ku.key==="Escape"&&gu(!1)};return document.addEventListener("mousedown",tu),document.addEventListener("keydown",wu),()=>{document.removeEventListener("mousedown",tu),document.removeEventListener("keydown",wu)}},[su]),reactExports.useEffect(()=>{if(typeof window>"u")return;const tu=()=>{var ku;(ku=Cm.current)==null||ku.applyZoom({persist:!1,force:!0})},wu=()=>{var ku;document.hidden||(ku=Cm.current)==null||ku.applyZoom({persist:!1,force:!0})};return window.addEventListener("resize",tu),document.addEventListener("visibilitychange",wu),()=>{window.removeEventListener("resize",tu),document.removeEventListener("visibilitychange",wu)}},[]),reactExports.useEffect(()=>{iu&&Cm.current&&(!$u||Object.keys($u).length===0||Cm.current.applyZoom({persist:!1,force:!0}))},[iu,$u]),reactExports.useEffect(()=>{var tu;ru!==ZOOM_MODES.MANUAL&&((tu=Cm.current)==null||tu.applyZoom({persist:!1,force:!0}))},[Jl,ru]),reactExports.useEffect(()=>{var tu;(tu=Cm.current)==null||tu.applyZoom({persist:!1,force:!0})},[cs]),reactExports.useEffect(()=>{var tu;(tu=Cm.current)==null||tu.applyZoom({persist:!1,force:!0})},[Cu]);const[gy,Cy]=reactExports.useState({}),[Uy,ey]=reactExports.useState([]),[w1,K1]=reactExports.useState([]),[wm,Ov]=reactExports.useState(null),[$1,ty]=reactExports.useState(!1),[f1,wv]=reactExports.useState(null),[Zy,ry]=reactExports.useState(null),[Wv,lx]=reactExports.useState(null),[a1,Ev]=reactExports.useState({}),Px=reactExports.useCallback(tu=>{const wu=a1[tu]||{rotation:0,mirrorH:!1,mirrorV:!1},ku=[];return wu.rotation&&ku.push(`rotate(${wu.rotation}deg)`),wu.mirrorH&&ku.push("scaleX(-1)"),wu.mirrorV&&ku.push("scaleY(-1)"),ku.length>0?ku.join(" "):"none"},[a1]);reactExports.useEffect(()=>{if(g1)try{const tu=JSON.parse(localStorage.getItem(`pdfSidebar_${g1}`)||"{}");Cy(tu.pageNames||{}),ey(tu.bookmarks||[]),K1(tu.spaces||[]),Ov(null),Ev(tu.pageTransformations||{})}catch(tu){console.error("Error loading sidebar data:",tu)}},[g1]),reactExports.useEffect(()=>{if(g1)try{localStorage.setItem(`pdfSidebar_${g1}`,JSON.stringify({pageNames:gy,bookmarks:Uy,spaces:w1,activeSpaceId:wm,pageTransformations:a1}))}catch(tu){console.error("Error saving sidebar data:",tu)}},[g1,gy,Uy,w1,wm,a1]);const $y=reactExports.useCallback(async tu=>{if(!us||!co){alert("PDF file not available for manipulation");return}try{const wu=await us.arrayBuffer(),ku=await PDFDocument.load(wu);if(!ku.getPages()[tu-1]){alert(`Page ${tu} not found`);return}const[tp]=await ku.copyPages(ku,[tu-1]);ku.insertPage(tu,tp);const ap=await ku.save(),gp=new File([ap],us.name,{type:"application/pdf"});co(gp)}catch(wu){console.error("Error duplicating page:",wu),alert(`Error duplicating page: ${wu.message}`)}},[us,co]);reactExports.useCallback((tu,wu)=>{Cy(ku=>({...ku,[tu]:wu}))},[]);const Zx=reactExports.useCallback(async tu=>{if(!us||!co){alert("PDF file not available for manipulation");return}try{const wu=await us.arrayBuffer(),ku=await PDFDocument.load(wu);ku.removePage(tu-1);const Tu=await ku.save(),_u=new File([Tu],us.name,{type:"application/pdf"});co(_u)}catch(wu){console.error("Error deleting page:",wu),alert(`Error deleting page: ${wu.message}`)}},[us,co]),Jx=reactExports.useCallback(tu=>{ry(tu),lx("cut")},[]),Ix=reactExports.useCallback(tu=>{ry(tu),lx("copy")},[]),Ox=reactExports.useCallback(async(tu,wu,ku)=>{if(!us||!co){alert("PDF file not available for manipulation");return}try{const Tu=await us.arrayBuffer(),_u=await PDFDocument.load(Tu),[tp]=await _u.copyPages(_u,[wu-1]),ap=tu;if(_u.insertPage(ap,tp),ku==="cut"){const Tp=wu-1;Tp<ap?_u.removePage(Tp):_u.removePage(Tp+1),ry(null),lx(null)}const gp=await _u.save(),pp=new File([gp],us.name,{type:"application/pdf"});co(pp)}catch(Tu){console.error("Error pasting page:",Tu),alert(`Error pasting page: ${Tu.message}`)}},[us,co]),Dx=reactExports.useCallback((tu,wu)=>{const ku={...gy},Tu=gy[tu]||`Page ${tu}`,_u=gy[wu]||`Page ${wu}`;ku[tu]=_u,ku[wu]=Tu,Cy(ku),Jl===tu?lu(wu):Jl===wu&&lu(tu)},[gy,Jl]),D1=reactExports.useCallback(tu=>{Ev(wu=>{const ku=wu[tu]||{rotation:0,mirrorH:!1,mirrorV:!1},Tu=(ku.rotation+90)%360;return{...wu,[tu]:{...ku,rotation:Tu}}})},[]),F1=reactExports.useCallback((tu,wu)=>{Ev(ku=>{const Tu=ku[tu]||{rotation:0,mirrorH:!1,mirrorV:!1};return{...ku,[tu]:{...Tu,[wu==="horizontal"?"mirrorH":"mirrorV"]:!Tu[wu==="horizontal"?"mirrorH":"mirrorV"]}}})},[]),Zp=reactExports.useCallback(tu=>{Ev(wu=>{const ku={...wu};return delete ku[tu],ku})},[]),Hv=reactExports.useCallback(tu=>{ey(wu=>{const ku=(tu==null?void 0:tu.type)==="folder"?"folder":"bookmark",Tu=typeof(tu==null?void 0:tu.name)=="string"?tu.name.trim():"";if(!Tu)return alert(`Please enter a ${ku==="folder"?"bookmark group":"bookmark"} name.`),wu;if(hasNameConflict(wu,Tu,{predicate:tp=>(tp==null?void 0:tp.type)===ku}))return alert(`A ${ku==="folder"?"bookmark group":"bookmark"} with this name already exists. Please choose a different name.`),wu;const _u={...tu,name:Tu,id:(tu==null?void 0:tu.id)||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,parentId:(tu==null?void 0:tu.parentId)||null,children:(tu==null?void 0:tu.children)||[]};return[...wu,_u]})},[]),j1=reactExports.useCallback((tu,wu)=>{ey(ku=>{const Tu=ku.find(tp=>tp.id===tu);if(!Tu)return ku;let _u={...wu};if(Object.prototype.hasOwnProperty.call(wu,"name")){const tp=typeof wu.name=="string"?wu.name.trim():"";if(!tp)return alert(`${Tu.type==="folder"?"Bookmark group":"Bookmark"} name cannot be empty.`),ku;if(hasNameConflict(ku,tp,{predicate:ap=>(ap==null?void 0:ap.type)===Tu.type,ignoreId:tu}))return alert(`A ${Tu.type==="folder"?"bookmark group":"bookmark"} with this name already exists. Please choose a different name.`),ku;_u={..._u,name:tp}}return ku.map(tp=>tp.id===tu?{...tp,..._u}:tp)})},[]),i0=reactExports.useCallback(tu=>{ey(wu=>{const ku=new Set([tu]);let Tu=!0;for(;Tu;)Tu=!1,wu.forEach(_u=>{_u.parentId&&ku.has(_u.parentId)&&!ku.has(_u.id)&&(ku.add(_u.id),Tu=!0)});return wu.filter(_u=>!ku.has(_u.id))})},[]),_y=reactExports.useCallback(tu=>{K1(wu=>{const ku=typeof(tu==null?void 0:tu.name)=="string"?tu.name.trim():"";let Tu=ku;if(ku){if(hasNameConflict(wu,ku,{getName:tp=>tp==null?void 0:tp.name}))return alert("A space with this name already exists. Please choose a different name."),wu}else{let tp=wu.length+1,ap=`Space ${tp}`;for(;hasNameConflict(wu,ap,{getName:gp=>gp==null?void 0:gp.name});)tp+=1,ap=`Space ${tp}`;Tu=ap}const _u={...tu,name:Tu,id:(tu==null?void 0:tu.id)||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,assignedPages:Array.isArray(tu==null?void 0:tu.assignedPages)?tu.assignedPages:[]};return[...wu,_u]})},[]),Ay=reactExports.useCallback((tu,wu)=>{K1(ku=>{if(!ku.find(tp=>tp.id===tu))return ku;let _u={...wu};if(Object.prototype.hasOwnProperty.call(wu,"name")){const tp=typeof wu.name=="string"?wu.name.trim():"";if(!tp)return alert("Space name cannot be empty."),ku;if(hasNameConflict(ku,tp,{getName:ap=>ap==null?void 0:ap.name,ignoreId:tu}))return alert("A space with this name already exists. Please choose a different name."),ku;_u={..._u,name:tp}}return ku.map(tp=>tp.id===tu?{...tp,..._u}:tp)})},[]),Ty=reactExports.useCallback((tu,wu)=>{!Array.isArray(wu)||wu.length===0||K1(ku=>ku.map(Tu=>{if(Tu.id!==tu)return Tu;const _u=new Map((Tu.assignedPages||[]).map(ap=>[ap.pageId,{pageId:ap.pageId,label:typeof ap.label=="string"&&ap.label.trim().length>0?ap.label.trim():`Region ${ap.pageId}`,wholePageIncluded:ap.wholePageIncluded!==!1,regions:Array.isArray(ap.regions)?ap.regions:[]}]));wu.forEach(ap=>{Number.isInteger(ap)&&(_u.has(ap)||_u.set(ap,{pageId:ap,label:`Region ${ap}`,wholePageIncluded:!0,regions:[]}))});const tp=Array.from(_u.values()).filter(ap=>typeof ap.pageId=="number"&&!Number.isNaN(ap.pageId)).sort((ap,gp)=>ap.pageId-gp.pageId);return{...Tu,assignedPages:tp}}))},[]),ux=reactExports.useCallback((tu,wu)=>{pm(ku=>{const Tu={...ku};return Object.keys(Tu).forEach(_u=>{const tp=Tu[_u];tp.spaceId===tu&&tp.pageNumber===wu&&delete Tu[_u]}),Tu}),K1(ku=>{const Tu=ku.map(_u=>{if(_u.id!==tu)return _u;const tp=(_u.assignedPages||[]).filter(ap=>ap.pageId!==wu);return{..._u,assignedPages:tp}});if(wm===tu){const _u=Tu.find(tp=>tp.id===tu);(!_u||(_u.assignedPages||[]).length===0)&&Ov(null)}return Tu})},[wm]),hx=reactExports.useCallback((tu,wu,ku)=>{const Tu=typeof ku=="string"?ku.trim():"";K1(_u=>_u.map(tp=>{if(tp.id!==tu)return tp;const ap=tp.assignedPages||[],gp=`Region ${wu}`,pp=Tu.length>0?Tu:gp,Tp=Gp=>typeof Gp.label=="string"&&Gp.label.trim().length>0?Gp.label.trim():`Region ${Gp.pageId}`;if(hasNameConflict(ap,pp,{getName:Tp,getId:Gp=>Gp==null?void 0:Gp.pageId,ignoreId:wu}))return alert("A region with this name already exists in this space. Please choose a different name."),tp;const Yp=ap.map(Gp=>Gp.pageId!==wu?{...Gp,label:Tp(Gp)}:{...Gp,label:pp});return{...tp,assignedPages:Yp}}))},[]),l1=reactExports.useCallback((tu,wu)=>{console.log("[App] ===== handleSpaceClearRegions CALLED =====",{spaceId:tu,pageId:wu}),K1(ku=>{var ap;const Tu=ku.find(gp=>gp.id===tu),_u=(ap=Tu==null?void 0:Tu.assignedPages)==null?void 0:ap.find(gp=>gp.pageId===wu);return console.log("[App] Before update - space found:",!!Tu,"page found:",!!_u),console.log("[App] Before update - page entry:",_u),ku.map(gp=>{if(gp.id!==tu)return gp;const pp=gp.assignedPages||[],Tp=pp.findIndex(Hp=>Hp.pageId===wu);let Yp;Tp>=0?(console.log("[App] Updating existing page entry at index",Tp,{pageId:wu,wholePageIncluded:!0,regions:[]}),Yp=pp.map((Hp,u0)=>u0===Tp?{...Hp,wholePageIncluded:!0,regions:[]}:Hp)):(console.log("[App] Creating new page entry",{pageId:wu,wholePageIncluded:!0,regions:[]}),Yp=[...pp,{pageId:wu,wholePageIncluded:!0,regions:[]}]);const Gp=Yp.find(Hp=>Hp.pageId===wu);return console.log("[App] After update - page entry:",Gp),console.log("[App] ===== handleSpaceClearRegions COMPLETED ====="),{...gp,assignedPages:Yp}})})},[]),dx=reactExports.useCallback((tu,wu)=>{K1(ku=>tu<0||wu<0||tu>=ku.length||wu>=ku.length?ku:[...arrayMove(ku,tu,wu)])},[]),Gm=reactExports.useCallback(async(tu=null)=>{if(tu&&typeof tu!="string"&&(tu=null),!dp){alert("Please select a survey template before exporting.");return}try{const wu=xlsx_minExports.utils.book_new(),ku=dp.modules||dp.spaces||[],Tu=new Set,_u=(ap,gp)=>{const pp=`${ap||"Category"} - ${gp||"Module"}`.trim()||"Sheet",Tp=/[\\/?*[\]:]/g,Yp=pp.replace(Tp,"").substring(0,31)||"Sheet";let Gp=Yp,Hp=2;for(;Tu.has(Gp);){const u0=` (${Hp})`;Gp=`${Yp.substring(0,Math.max(0,31-u0.length))}${u0}`,Hp+=1}return Tu.add(Gp),Gp};if(ku.length===0){const ap=xlsx_minExports.utils.aoa_to_sheet([]);xlsx_minExports.utils.book_append_sheet(wu,ap,"Survey")}else ku.forEach(ap=>{const gp=(ap==null?void 0:ap.name)||"Module",pp=ap==null?void 0:ap.id,Tp=(ap==null?void 0:ap.categories)||[];if(Tp.length===0){const Yp=_u("General",gp),Gp=xlsx_minExports.utils.aoa_to_sheet([]);xlsx_minExports.utils.book_append_sheet(wu,Gp,Yp);return}Tp.forEach(Yp=>{const Gp=_u((Yp==null?void 0:Yp.name)||"Category",gp),Hp=(Yp==null?void 0:Yp.checklist)||[],u0=getModuleDataKey(gp),f0=getCategoryName(dp,pp,Yp.id),qp=[];Object.entries(K0).forEach(([r0,I0])=>{(I0.moduleId||I0.spaceId)===pp&&I0.categoryId===Yp.id&&qp.push({...I0,id:r0})});const Qp=["Item"];Hp.forEach(r0=>{Qp.push(r0.text||"")}),Qp.push("Ball in Court"),Qp.push("Notes");const s0=(dp==null?void 0:dp.ballInCourtEntities)||[],C0=[Qp],x0=[];qp.forEach(r0=>{var Mv;const I0=[],gm=(r0==null?void 0:r0.name)||"",km=r0==null?void 0:r0.id;I0.push(gm);const Im=km?K0[km]:r0,xy=(Im==null?void 0:Im.checklistResponses)||{},by=Object.values(J0).find(gv=>gv.name===gm&&gv.itemType===f0),Kv=(by==null?void 0:by[u0])||{};Hp.forEach(gv=>{const Nv=xy[gv.id],Yv=(Nv==null?void 0:Nv.selection)||"";I0.push(Yv)});const nv=(Im==null?void 0:Im.ballInCourtEntityId)||Kv.ballInCourtEntityId,ny=(Im==null?void 0:Im.ballInCourtEntityName)||Kv.ballInCourtEntityName||"";I0.push(ny);let m1=null;if(Im!=null&&Im.ballInCourtColor&&(m1=getHexFromColor(Im.ballInCourtColor)),!m1&&nv){const gv=s0.find(Nv=>Nv.id===nv);gv&&gv.color&&(m1=getHexFromColor(gv.color))}!m1&&Kv.ballInCourtColor&&(m1=getHexFromColor(Kv.ballInCourtColor)),m1?(m1=m1.replace("#","").toUpperCase(),console.log(`Ball in Court color for ${gm}: ${m1}`)):console.log(`No Ball in Court color found for ${gm}, entityId: ${nv}`),x0.push(m1);const _v=((Mv=Im==null?void 0:Im.note)==null?void 0:Mv.text)||"";console.log("=== EXPORT NOTES DEBUG ==="),console.log("Highlight ID:",km),console.log("Highlight Name:",gm),console.log("Item-level note:",_v),console.log("Note length:",_v.length),console.log(`=== END EXPORT NOTES DEBUG ===
`),I0.push(_v),C0.push(I0)});const O0=xlsx_minExports.utils.aoa_to_sheet(C0),lm=xlsx_minExports.utils.decode_range(O0["!ref"]||"A1");for(let r0=0;r0<=lm.e.c;r0++){const I0=xlsx_minExports.utils.encode_cell({r:0,c:r0}),gm=O0[I0];gm&&(gm.s||(gm.s={}),gm.s.alignment||(gm.s.alignment={}),gm.s.alignment.horizontal="center",gm.s.alignment.vertical="center",gm.s.border||(gm.s.border={}),gm.s.border={top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}})}for(let r0=1;r0<=lm.e.r;r0++)for(let I0=0;I0<=lm.e.c;I0++){const gm=xlsx_minExports.utils.encode_cell({r:r0,c:I0});let km=O0[gm];km||(km={v:"",t:"s"},O0[gm]=km),km.s||(km.s={}),km.s.border||(km.s.border={}),km.s.border={top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}}const Rm={Y:"CEEED0",N:"F6C9CE","N/A":"A6A6A6"},m0=Qp.length-3;for(let r0=1;r0<=lm.e.r;r0++)for(let I0=1;I0<=m0;I0++){const gm=xlsx_minExports.utils.encode_cell({r:r0,c:I0}),km=O0[gm];if(km&&km.v!==void 0&&km.v!==null&&km.v!==""){const Im=String(km.v).trim();Rm[Im]&&(km.s||(km.s={}),km.s.fill={fgColor:{rgb:Rm[Im]}},km.s.alignment||(km.s.alignment={}),km.s.alignment.horizontal="center",km.s.alignment.vertical="center")}}const M0=Qp.length-2;for(let r0=1;r0<=lm.e.r;r0++){const I0=r0-1,gm=x0[I0];if(gm){const km=xlsx_minExports.utils.encode_cell({r:r0,c:M0});let Im=O0[km];Im||(Im={v:"",t:"s"},O0[km]=Im),Im.s||(Im.s={}),Im.s.fill={fgColor:{rgb:gm},patternType:"solid"},Im.s.alignment||(Im.s.alignment={}),Im.s.alignment.horizontal="center",Im.s.alignment.vertical="center"}}xlsx_minExports.utils.book_append_sheet(wu,O0,Gp)})});const tp=xlsx_minExports.write(wu,{bookType:"xlsx",type:"array",cellStyles:!0});if(window.electronAPI){let ap;if(tu)try{await window.electronAPI.writeFile(tu,tp),ap={canceled:!1,filePath:tu}}catch(gp){console.error("Failed to write file:",gp),alert("Failed to sync to Excel file. It might be open in another program.");return}else{const gp=`${sanitizeFilename((dp==null?void 0:dp.name)||"survey","survey")}_export.xlsx`;ap=await window.electronAPI.saveFile({title:"Save Survey Export",defaultPath:gp,filters:[{name:"Excel Files",extensions:["xlsx"]}],data:tp})}if(ap&&!ap.canceled&&ap.filePath){const gp={...dp,linkedExcelPath:ap.filePath,lastSyncTime:new Date().toISOString()};a0(gp);const pp=(dp==null?void 0:dp.supabaseId)||(dp==null?void 0:dp.id);if(_m&&pp)try{await _m(pp,{linked_excel_path:ap.filePath,last_sync_time:gp.lastSyncTime})}catch(Tp){console.warn("Failed to update template in Supabase (local export successful):",Tp)}alert(tu?"Sync to Excel successful!":"Export successful!")}}else{const ap=new Blob([tp],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),gp=URL.createObjectURL(ap),pp=document.createElement("a");pp.href=gp,pp.download=`${sanitizeFilename((dp==null?void 0:dp.name)||"survey","survey")}_export.xlsx`,document.body.appendChild(pp),pp.click(),document.body.removeChild(pp),setTimeout(()=>URL.revokeObjectURL(gp),0)}}catch(wu){console.error("Failed to create Excel export",wu),alert("Unable to create the Excel file. Please try again.")}},[dp,J0,K0]),c1=reactExports.useCallback(async()=>{if(!(dp!=null&&dp.linkedExcelPath)){alert("No Excel file linked to this survey.");return}window.electronAPI&&await window.electronAPI.openPath(dp.linkedExcelPath)},[dp]),cm=reactExports.useCallback(async()=>{if(!(dp!=null&&dp.linkedExcelPath)){alert("No Excel file linked to this survey.");return}await Gm(dp.linkedExcelPath)},[dp,Gm]),Y1=reactExports.useCallback(async()=>{if(!(dp!=null&&dp.linkedExcelPath)){alert("No Excel file linked to this survey.");return}if(window.electronAPI)try{const tu=await window.electronAPI.readFile(dp.linkedExcelPath),wu=xlsx_minExports.read(tu,{type:"buffer"}),ku={...K0};let Tu=0;wu.SheetNames.forEach(_u=>{const tp=wu.Sheets[_u],ap=xlsx_minExports.utils.sheet_to_json(tp,{header:1});if(ap.length<2)return;const gp=ap[0];let pp=null,Tp=null;const Yp=dp.modules||dp.spaces||[];for(const qp of Yp){if(pp)break;const Qp=qp.categories||[];for(const s0 of Qp){const C0=`${s0.name||"Category"} - ${qp.name||"Module"}`.trim()||"Sheet",x0=/[\\/?*[\]:]/g;if((C0.replace(x0,"").substring(0,31)||"Sheet")===_u){pp=s0,Tp=qp.id;break}}}if(!pp)return;const Gp={},Hp=pp.checklist||[];gp.forEach((qp,Qp)=>{if(Qp===0||qp==="Ball in Court"||qp==="Notes")return;const s0=Hp.find(C0=>C0.text===qp);s0&&(Gp[Qp]=s0.id)});const u0=gp.indexOf("Ball in Court"),f0=gp.indexOf("Notes");for(let qp=1;qp<ap.length;qp++){const Qp=ap[qp],s0=Qp[0];s0&&Object.entries(ku).forEach(([C0,x0])=>{if((x0.moduleId||x0.spaceId)===Tp&&x0.categoryId===pp.id&&x0.name===s0){let lm=!1;if(x0.checklistResponses||(x0.checklistResponses={}),Object.entries(Gp).forEach(([Rm,m0])=>{var I0;const M0=Qp[Rm],r0=(I0=x0.checklistResponses[checklistItemId])==null?void 0:I0.selection;M0!==void 0&&M0!==r0&&(x0.checklistResponses[checklistItemId]={...x0.checklistResponses[checklistItemId],selection:M0},lm=!0)}),u0!==-1){const Rm=Qp[u0];if(Rm&&Rm!==x0.ballInCourtEntityName){const M0=(dp.ballInCourtEntities||[]).find(r0=>r0.name===Rm);M0?(x0.ballInCourtEntityId=M0.id,x0.ballInCourtEntityName=M0.name,x0.ballInCourtColor=M0.color,lm=!0):Rm===""&&(x0.ballInCourtEntityId=null,x0.ballInCourtEntityName=null,x0.ballInCourtColor=null,lm=!0)}}if(f0!==-1){const Rm=Qp[f0];Rm!==void 0&&(x0.note||(x0.note={}),x0.note.text!==Rm&&(x0.note.text=Rm,lm=!0))}lm&&(Tu++,ku[C0]={...x0})}})}}),Tu>0?(pm(ku),alert(`Sync complete! Updated ${Tu} items.`)):alert("Sync complete! No changes found.")}catch(tu){console.error("Failed to sync from Excel:",tu),alert("Failed to read or parse the linked Excel file.")}},[dp,K0]),fm=reactExports.useCallback(tu=>{const wu=w1.find(Tp=>Tp.id===tu);if(!wu){alert("Space not found.");return}const ku=wu.assignedPages||[];if(ku.length===0){alert("This space has no pages to export.");return}const _u=[["Space Name","Page","Mode","Region Count","Annotation Type","Annotation ID","Left","Top","Width","Height","Stroke Color","Fill Color","Stroke Width","Notes","Checklist Items","Status","Attachments"].map(escapeCSVValue).join(",")];ku.forEach(Tp=>{var f0;const Yp=Tp.pageId;if(!Yp)return;const Gp=Tp.wholePageIncluded===!1?"region":"full",Hp=Array.isArray(Tp.regions)?Tp.regions:[];(((f0=Zu[Yp])==null?void 0:f0.objects)||[]).forEach(qp=>{var m0,M0;if(!qp)return;const Qp=qp.spaceId||null;if(wu.id&&Qp&&Qp!==wu.id)return;const s0=(qp.width||0)*(qp.scaleX||1),C0=(qp.height||0)*(qp.scaleY||1),x0=(qp.left||0)+s0/2,O0=(qp.top||0)+C0/2;if(Gp==="region"&&Hp.length>0&&!Hp.some(I0=>regionContainsPoint(x0,O0,I0,uu)))return;const lm=Array.isArray(qp.attachments)?qp.attachments.length:"",Rm=[escapeCSVValue(wu.name||""),escapeCSVValue(Yp),escapeCSVValue(Gp),escapeCSVValue(Hp.length),escapeCSVValue(qp.type||""),escapeCSVValue(qp.id||""),escapeCSVValue(typeof qp.left=="number"?qp.left.toFixed(2):qp.left||""),escapeCSVValue(typeof qp.top=="number"?qp.top.toFixed(2):qp.top||""),escapeCSVValue(s0?s0.toFixed(2):""),escapeCSVValue(C0?C0.toFixed(2):""),escapeCSVValue(qp.stroke||""),escapeCSVValue(qp.fill||""),escapeCSVValue(qp.strokeWidth||""),escapeCSVValue(qp.note||""),escapeCSVValue(((M0=(m0=qp.checklistItems||[]).join)==null?void 0:M0.call(m0,"; "))||""),escapeCSVValue(qp.status||""),escapeCSVValue(lm)];_u.push(Rm.join(","))})}),Array.isArray(wu.categories)&&wu.categories.forEach(Tp=>{var Hp;const Yp=((Hp=Tp==null?void 0:Tp.checklist)==null?void 0:Hp.length)||0,Gp=[escapeCSVValue(wu.name||""),"","category","","","","","","","","","","",escapeCSVValue((Tp==null?void 0:Tp.name)||""),escapeCSVValue(Yp),"",""];_u.push(Gp.join(","))});const tp=_u.join(`
`),ap=new Blob([tp],{type:"text/csv;charset=utf-8;"}),gp=URL.createObjectURL(ap),pp=document.createElement("a");pp.href=gp,pp.download=`${sanitizeFilename(wu.name||"space","space")}_export.csv`,document.body.appendChild(pp),pp.click(),document.body.removeChild(pp),URL.revokeObjectURL(gp)},[w1,Zu,uu]),Sm=reactExports.useCallback(async tu=>{const wu=w1.find(Tu=>Tu.id===tu);if(!wu){alert("Space not found.");return}if(!iu){alert("PDF is not ready yet. Please wait for the document to load.");return}const ku=wu.assignedPages||[];if(ku.length===0){alert("This space has no pages to export.");return}try{const Tu=await PDFDocument.create();for(const pp of ku){const Tp=pp.pageId;if(!Tp)continue;const Yp=await iu.getPage(Tp),Gp=Yp.getViewport({scale:1}),{width:Hp,height:u0}=Gp,f0=document.createElement("canvas");f0.width=Hp,f0.height=u0;const qp=f0.getContext("2d");await Yp.render({canvasContext:qp,viewport:Gp}).promise,pp.wholePageIncluded===!1&&Array.isArray(pp.regions)&&pp.regions.length>0&&applyRegionMaskToCanvasContext(qp,pp.regions,1);const Qp=f0.toDataURL("image/png"),s0=dataURLToUint8Array(Qp),C0=await Tu.embedPng(s0);Tu.addPage([Hp,u0]).drawImage(C0,{x:0,y:0,width:Hp,height:u0})}const _u=await Tu.save(),tp=new Blob([_u],{type:"application/pdf"}),ap=URL.createObjectURL(tp),gp=document.createElement("a");gp.href=ap,gp.download=`${sanitizeFilename(wu.name||"space","space")}_export.pdf`,document.body.appendChild(gp),gp.click(),document.body.removeChild(gp),URL.revokeObjectURL(ap)}catch(Tu){console.error("Error exporting space to PDF:",Tu),alert("Unable to export this space to PDF. Please try again.")}},[w1,iu]),ev=reactExports.useCallback(tu=>{K1(wu=>wu.filter(ku=>ku.id!==tu)),wm===tu&&Ov(null)},[wm]),z1=reactExports.useCallback(tu=>{Ov(tu)},[]),qv=reactExports.useCallback(()=>{Ov(null)},[]),i1=reactExports.useMemo(()=>{if(!wm)return null;const tu=w1.find(ku=>ku.id===wm);if(!tu)return[];const wu=new Set((tu.assignedPages||[]).map(ku=>ku==null?void 0:ku.pageId).filter(ku=>typeof ku=="number"&&!Number.isNaN(ku)));return Array.from(wu).sort((ku,Tu)=>ku-Tu)},[wm,w1]),Sv=wm??dm??null;reactExports.useEffect(()=>{!dp||!Dp||getModuleName(dp,Dp)},[Dp,dp,wm,dm,Sv]),reactExports.useEffect(()=>{dp&&Dp&&getModuleName(dp,Dp)},[wm,dm,Sv,Dp,dp]);const Xm=reactExports.useCallback((tu,wu={})=>{const{fallback:ku="nearest"}=wu;let Tu=tu;if(wm){if(!i1||i1.length===0)return;if(!i1.includes(Tu))if(ku==="next"){const _u=i1.find(tp=>tp>Tu);if(!_u)return;Tu=_u}else if(ku==="previous"){const _u=[...i1].reverse().find(tp=>tp<Tu);if(!_u)return;Tu=_u}else{const _u=i1.find(ap=>ap>Tu),tp=[...i1].reverse().find(ap=>ap<Tu);Tu=_u??tp??i1[0]}}if(!(Tu<1||Tu>Mu))if(Cu==="single")lu(Tu);else{Fl.current=!0,Dl.current=Tu;const _u=Cl.current[Tu],tp=wl.current;if(_u&&tp){const ap=tp.getBoundingClientRect(),gp=_u.getBoundingClientRect(),pp=window.getComputedStyle(tp),Tp=parseFloat(pp.paddingTop||"0"),Yp=gp.top-ap.top,Gp=Math.max(Yp+tp.scrollTop-Tp,0);tp.scrollTo({top:Gp,behavior:"smooth"}),setTimeout(()=>{lu(Tu),zu(String(Tu)),qu(!1),setTimeout(()=>{Fl.current=!1,Dl.current=null,lu(Hp=>Hp!==Tu?Tu:Hp)},150)},300)}else lu(Tu),Fl.current=!1,Dl.current=null,zu(String(Tu)),qu(!1)}},[Mu,Cu,wm,i1]),R1=reactExports.useCallback((tu,wu)=>{var _u;const ku=w1.find(tp=>tp.id===tu);!ku||!((_u=ku.assignedPages)!=null&&_u.find(tp=>tp.pageId===wu))||(Ov(tu),wv(wu),ty(!0),Xm(wu,{fallback:"nearest"}))},[w1,Xm]),o1=reactExports.useCallback(()=>{if(console.log("[App] ===== handleRegionSetFullPage CALLED =====",{activeSpaceId:wm,regionSelectionPage:f1}),!wm||!f1){console.warn("[App] ERROR: Missing activeSpaceId or regionSelectionPage",{activeSpaceId:wm,regionSelectionPage:f1});return}console.log("[App] Clearing all areas and setting full page mode"),l1(wm,f1),console.log("[App] Closing region selection tool"),ty(!1),wv(null),console.log("[App] ===== handleRegionSetFullPage COMPLETED =====")},[wm,f1,l1]),my=reactExports.useMemo(()=>{var ku;if(!wm||!f1)return!1;const tu=w1.find(Tu=>Tu.id===wm);if(!tu)return!1;const wu=(ku=tu.assignedPages)==null?void 0:ku.find(Tu=>Tu.pageId===f1);return wu?wu.wholePageIncluded===!1:!1},[w1,wm,f1]),Dv=reactExports.useCallback(tu=>{if(!wm||!f1)return;const wu=w1.find(_u=>_u.id===wm);if(!wu)return;const ku=[...wu.assignedPages||[]],Tu=ku.findIndex(_u=>_u.pageId===f1);Tu>=0?ku[Tu]={...ku[Tu],wholePageIncluded:!1,regions:Array.isArray(tu)?tu:[]}:ku.push({pageId:f1,wholePageIncluded:!1,regions:Array.isArray(tu)?tu:[]}),Ay(wm,{assignedPages:ku}),ty(!1),wv(null)},[wm,f1,w1,Ay]);reactExports.useEffect(()=>{if(Ov(null),ey([]),K1([]),Cy({}),Ev({}),Ru(!1),a0(null),_0(null),Jv(null),ty(!1),wv(null),t1(null),bm(null),vm(""),Fm(null),hm(!1),d0(!1),ov(!1),U1(!1),uv(null),bv({}),Iv({}),hv({}),My(!1),Q1(null),Tm({}),q0({}),j0(null),V1({text:"",photos:[],videos:[]}),kp("pan"),Hu(!1),!us){jy(null),Ym({}),T1({}),pm({});return}const tu=getPDFId(us);jy(tu);const wu=loadPDFData(tu);Ym(wu.items),T1(wu.annotations);const ku=loadHighlightAnnotations(tu);pm(ku)},[us]),reactExports.useEffect(()=>{g1&&savePDFData(g1,J0,A1)},[g1,J0,A1]),reactExports.useEffect(()=>{g1&&saveHighlightAnnotations(g1,K0)},[g1,K0]),reactExports.useEffect(()=>{var ku;if(!q1)return;const tu=q1;console.log("Note dialog opened for item:",tu);const wu=(ku=K0[tu])==null?void 0:ku.note;console.log("Found item-level note:",wu),V1(wu?{text:wu.text||"",photos:wu.photos||[],videos:wu.videos||[]}:{text:"",photos:[],videos:[]})},[q1,K0]),reactExports.useEffect(()=>{if(!dp||!g1||Object.keys(K0).length===0||Object.keys(J0).length>0)return;const tu=migrateLegacyHighlights(K0,J0,A1,dp);Object.keys(tu.items).length>0&&(Ym(tu.items),T1(tu.annotations))},[dp,g1]),reactExports.useEffect(()=>{if(!us){console.log("No PDF file provided to viewer");return}(async()=>{try{pdfExports.verbosity=pdfExports.VerbosityLevel.ERRORS,mp(!0);const wu=await us.arrayBuffer(),Tu=await pdfExports.getDocument({data:wu}).promise;nu(Tu),mu(Tu.numPages),lu(1);const _u={},tp={},ap={};for(let gp=1;gp<=Tu.numPages;gp++){const pp=await Tu.getPage(gp),Tp=pp.getViewport({scale:1});_u[gp]=Tp.height,tp[gp]={width:Tp.width,height:Tp.height},ap[gp]=pp}ip(_u),np(tp),n0(ap),Nl.current.clear(),Uu(new Set),$l.current=uu,mp(!1)}catch(wu){console.error("Error loading PDF:",wu),console.error("Error stack:",wu.stack),mp(!1),alert("Error loading PDF: "+wu.message+". Please try uploading the file again.")}})()},[us]);const fv=reactExports.useCallback(async(tu,wu="normal")=>{},[iu,uu]),tv=reactExports.useCallback(tu=>{if(!iu||Cu!=="continuous")return;const wu=2,ku=[];for(let Tu=Math.max(1,tu-wu);Tu<=Math.min(Mu,tu+wu);Tu++)Tu!==tu&&!zl.current.has(Tu)&&!Nl.current.has(Tu,uu)&&ku.push(Tu);ku.forEach(Tu=>{zl.current.add(Tu),(window.requestIdleCallback||(tp=>setTimeout(tp,0)))(()=>{fv(Tu,"low").finally(()=>{zl.current.delete(Tu)})})})},[iu,Cu,Mu,uu,fv]);reactExports.useEffect(()=>{if(Cu!=="continuous"||!iu)return;Tl.current&&Tl.current.disconnect();let tu=new Map,wu=null;const ku=new IntersectionObserver(tp=>{const ap=new Set;tp.forEach(gp=>{const pp=parseInt(gp.target.dataset.pageNum);if(gp.isIntersecting){tu.set(pp,gp.intersectionRatio);const Tp=3;for(let Yp=Math.max(1,pp-Tp);Yp<=Math.min(Mu,pp+Tp);Yp++)ap.add(Yp);Uu(Yp=>(Yp.has(pp)||_l.current[pp]&&fv(pp,"high"),Yp)),tv(pp)}else tu.delete(pp)}),ap.size>0&&Pu(gp=>{const pp=new Set([...gp,...ap]);return pp.size===gp.size?gp:pp}),clearTimeout(wu),wu=setTimeout(()=>{if(tu.size>0&&!Fl.current&&Dl.current===null&&!Ml.current){let gp=0,pp=1;tu.forEach((Tp,Yp)=>{Tp>gp&&(gp=Tp,pp=Yp)}),lu(Tp=>Tp!==pp?pp:Tp)}},50)},{root:wl.current,rootMargin:"2000px",threshold:[0,.1,.25,.5,.75,1]});Tl.current=ku;const Tu=setTimeout(()=>{Object.values(Cl.current).filter(Boolean).forEach(ap=>{ap&&ku.observe(ap)})},100),_u=setInterval(()=>{(Fl.current||Dl.current!==null||Ml.current)&&(console.warn("Navigation guards have been active for >2s, resetting for safety"),Fl.current=!1,Dl.current=null,Ml.current=!1)},2e3);return()=>{clearTimeout(Tu),clearInterval(_u),Tl.current&&Tl.current.disconnect(),clearTimeout(wu)}},[iu,Cu,fv,tv]),reactExports.useEffect(()=>{Cu!=="single"||!iu||(fv(Jl),Jl>1&&fv(Jl-1,"low"),Jl<Mu&&fv(Jl+1,"low"))},[Cu,iu,Jl,uu,fv,Mu]),reactExports.useEffect(()=>{},[]),reactExports.useEffect(()=>{if(!iu)return;const tu=$l.current;Math.abs(tu-uu)>.1&&($l.current=uu),Uu(new Set),Cu==="single"&&fv(Jl)},[uu,iu,Cu,Jl,fv]),reactExports.useEffect(()=>{},[a1,iu]),reactExports.useEffect(()=>{const tu=()=>{const wu=wl.current,ku=Sl.current||wu;if(!wu)return;const Tu=ku.scrollWidth>wu.clientWidth||ku.scrollHeight>wu.clientHeight;Lu(Tu)};return tu(),window.addEventListener("resize",tu),()=>window.removeEventListener("resize",tu)},[uu,iu,Cu]);const pv=reactExports.useRef(null),Fv=reactExports.useCallback(()=>{Xm(Jl-1,{fallback:"previous"})},[Xm,Jl]),Cv=reactExports.useCallback(()=>{Xm(Jl+1,{fallback:"next"})},[Xm,Jl]),Qx=reactExports.useCallback((tu,wu={})=>{const ku=wl.current,Tu=G1.current||1,_u=clampScale(tu);if(!ku){(Math.abs(_u-Tu)>1e-4||wu.force)&&(G1.current=_u,cu(_u));return}if(Math.abs(_u-Tu)<1e-4&&!wu.force)return;const tp=ku.getBoundingClientRect(),ap=wu.anchor||{},gp=typeof ap.x=="number"?ap.x:tp.width/2,pp=typeof ap.y=="number"?ap.y:tp.height/2,Tp=ku.scrollLeft,Yp=ku.scrollTop,Hp=_u/Tu,u0=(Tp+gp)*Hp-gp,f0=(Yp+pp)*Hp-pp;pv.current={newScrollLeft:u0,newScrollTop:f0},Ml.current=!0,G1.current=_u,cu(_u);const qp=()=>{const Qp=wl.current;if(!Qp||!Qp.isConnected||!pv.current)return;const s0=pv.current,C0=Qp.getBoundingClientRect(),x0=Math.max(0,Qp.scrollWidth-C0.width),O0=Math.max(0,Qp.scrollHeight-C0.height),lm=Math.max(0,Math.min(s0.newScrollLeft,x0)),Rm=Math.max(0,Math.min(s0.newScrollTop,O0));Qp.scrollLeft=lm,Qp.scrollTop=Rm,pv.current=null,Ml.current=!1};setTimeout(qp,0),setTimeout(qp,16),setTimeout(qp,50),setTimeout(qp,100),requestAnimationFrame(()=>{requestAnimationFrame(qp)})},[cu]);Cm.current||(Cm.current=createZoomController({initialMode:Gl.mode,initialManualScale:Gl.manualScale,getContainer:()=>wl.current,getViewportSize:tu=>{const wu=tu||wl.current;if(!wu)return null;if(typeof window>"u")return{width:wu.clientWidth,height:wu.clientHeight};const ku=window.getComputedStyle(wu),Tu=parseFloat(ku.paddingLeft||"0")+parseFloat(ku.paddingRight||"0"),_u=parseFloat(ku.paddingTop||"0")+parseFloat(ku.paddingBottom||"0");return{width:Math.max(wu.clientWidth-Tu,0),height:Math.max(wu.clientHeight-_u,0)}},getPageSize:()=>{const tu=Ny.current;if(!tu)return null;const wu=tu[av.current];if(wu)return wu;const ku=Object.keys(tu)[0];return ku?tu[ku]:null},getCurrentScale:()=>G1.current,setScale:(tu,wu)=>Qx(tu,wu),onModeChange:tu=>{Yl(wu=>wu===tu?wu:tu)},onManualScaleChange:tu=>{Kl(wu=>Math.abs(wu-tu)<1e-4?wu:tu)},persistPreferences:tu=>{Ly(tu)}}));const Jy=reactExports.useCallback(()=>{const tu=Cm.current;if(!tu)return;const wu=G1.current||dv.current||1,ku=clampScale(wu*1.2);tu.setScale(ku)},[]),zy=reactExports.useCallback(()=>{const tu=Cm.current;if(!tu)return;const wu=G1.current||dv.current||1,ku=clampScale(wu/1.2);tu.setScale(ku)},[]),Qy=reactExports.useCallback(()=>{const tu=Cm.current;tu&&tu.setScale(DEFAULT_ZOOM_PREFERENCES.manualScale)},[]),fx=reactExports.useRef(null),gx=reactExports.useCallback(tu=>{var wu;if(tu.ctrlKey||tu.metaKey){if(tu.preventDefault(),fx.current)return;fx.current=setTimeout(()=>{fx.current=null},50);const ku=tu.deltaY>0?.9:1.1,Tu=G1.current||dv.current||1,_u=clampScale(Tu*ku);Math.abs(_u-Tu)>1e-4&&((wu=Cm.current)==null||wu.setScale(_u))}},[]),Wy=reactExports.useCallback(tu=>{Rp==="pan"&&!$1&&Eu&&tu.button===0&&(Fu(!0),Xu({x:tu.clientX+wl.current.scrollLeft,y:tu.clientY+wl.current.scrollTop}),tu.preventDefault())},[Rp,$1,Eu]),mx=reactExports.useCallback(tu=>{if(fu){const wu=wl.current;wu&&(wu.scrollLeft=_f.x-tu.clientX,wu.scrollTop=_f.y-tu.clientY)}},[fu,_f]),vx=reactExports.useCallback(()=>{Fu(!1)},[]);reactExports.useEffect(()=>{(Rp!=="pan"||$1)&&Fu(!1)},[Rp,$1]),reactExports.useEffect(()=>{const tu=wu=>{Il.current&&!Il.current.contains(wu.target)&&Ku(!1)};if(Lp)return document.addEventListener("mousedown",tu),()=>document.removeEventListener("mousedown",tu)},[Lp]);const Fx=reactExports.useCallback(tu=>{const wu=tu.target.value.replace(/\D/g,"");zu(wu),qu(!0)},[]),jv=reactExports.useCallback(()=>{const tu=parseInt(ju);!isNaN(tu)&&tu>=1&&tu<=Mu?(Xm(tu),zu(String(tu)),qu(!1)):(zu(String(Jl)),qu(!1))},[ju,Mu,Xm,Jl]),Vv=reactExports.useCallback(tu=>{tu.key==="Enter"&&(tu.preventDefault(),jv(),tu.target.blur())},[jv]),M1=reactExports.useCallback(()=>{jv()},[jv]);reactExports.useEffect(()=>{const tu=Bl.current;if(!tu){zu(String(Jl)),qu(!1);return}zu(wu=>{const ku=String(Jl);return wu!==ku?document.activeElement===tu&&Wu?wu:(qu(!1),ku):wu})},[Jl,Wu]),reactExports.useEffect(()=>{const tu=Ll.current;if(!tu){Ql(String(Math.round(uu*100)));return}document.activeElement!==tu&&Ql(String(Math.round(uu*100)))},[uu]);const vy=reactExports.useCallback(tu=>{const wu=tu.target.value.replace(/\D/g,"");Ql(wu)},[]),Gv=reactExports.useCallback(()=>{if(!_c){Ql(String(Math.round(uu*100)));return}const tu=parseInt(_c,10);if(isNaN(tu)){Ql(String(Math.round(uu*100)));return}const wu=Math.min(Math.max(tu,50),500),ku=Cm.current;if(ku){const Tu=clampScale(wu/100);ku.setScale(Tu),Ql(String(Math.round(Tu*100)))}else Ql(String(wu))},[_c,uu]),ex=reactExports.useCallback(tu=>{tu.key==="Enter"?(tu.preventDefault(),Gv(),tu.currentTarget.blur()):tu.key==="Escape"&&(Ql(String(Math.round(uu*100))),tu.currentTarget.blur())},[Gv,uu]),yx=reactExports.useCallback(()=>{Gv()},[Gv]);reactExports.useEffect(()=>{const tu=wu=>{var _u,tp,ap,gp;const ku=document.activeElement;if(!(ku&&(ku.tagName==="INPUT"||ku.tagName==="TEXTAREA"||ku.isContentEditable))&&(wu.metaKey||wu.ctrlKey)){const pp=wu.key.toLowerCase();if(!wu.altKey){if(pp==="0"){wu.preventDefault(),(_u=Cm.current)==null||_u.setMode(ZOOM_MODES.FIT_PAGE);return}if(pp==="1"){wu.preventDefault(),(tp=Cm.current)==null||tp.setMode(ZOOM_MODES.FIT_WIDTH);return}if(pp==="2"){wu.preventDefault(),(ap=Cm.current)==null||ap.setMode(ZOOM_MODES.FIT_HEIGHT);return}if(pp==="="||pp==="+"){wu.preventDefault(),Jy();return}if(pp==="-"){wu.preventDefault(),zy();return}if(pp==="m"){wu.preventDefault(),(gp=Cm.current)==null||gp.setMode(ZOOM_MODES.MANUAL,{scale:G1.current});return}}}Cu==="single"&&(wu.key==="ArrowLeft"?Fv():wu.key==="ArrowRight"&&Cv())};return window.addEventListener("keydown",tu),()=>window.removeEventListener("keydown",tu)},[Cv,Fv,Cu,Jy,zy]);const rv=reactExports.useCallback(()=>{vu(tu=>tu==="continuous"?"single":"continuous")},[]),xx=reactExports.useMemo(()=>({flex:1,overflow:"auto",cursor:Rp==="pan"&&!$1?fu?"grabbing":Eu?"grab":"default":"default",background:"#2b2b2b",padding:"20px",position:"relative",fontFamily:FONT_FAMILY,minHeight:0,minWidth:0}),[fu,Eu,Rp,$1]),bx=reactExports.useMemo(()=>({minWidth:"max-content",minHeight:Cu==="single"?"100%":"auto",display:"flex",flexDirection:"column",gap:Cu==="continuous"?"20px":"0",alignItems:"center",...Cu==="single"&&{justifyContent:"center"}}),[Cu]),wx=reactExports.useCallback((tu,wu)=>{Vu(ku=>({...ku,[tu]:wu}))},[]),yy=(tu,wu,ku=5)=>!tu||!wu?!1:Math.abs((tu.x||tu.left)-(wu.x||wu.left))<ku&&Math.abs((tu.y||tu.top)-(wu.y||wu.top))<ku&&Math.abs((tu.width||tu.right-tu.left)-(wu.width||wu.right-wu.left))<ku&&Math.abs((tu.height||tu.bottom-tu.top)-(wu.height||wu.bottom-wu.top))<ku,Hy=reactExports.useCallback((tu,wu,ku=null)=>{if(!Dp||!dp)return;const Tu=[];if(ku){if(K0[ku]){const _u=K0[ku];(_u.moduleId||_u.spaceId)===Dp&&_u.pageNumber===tu&&Tu.push(ku)}}else Object.entries(K0).forEach(([_u,tp])=>{(tp.moduleId||tp.spaceId)===Dp&&tp.pageNumber===tu&&yy(tp.bounds,wu)&&Tu.push(_u)});if(Tu.length>0){const _u=Tu.map(tp=>({id:tp,highlight:K0[tp]})).filter(({highlight:tp})=>tp!=null);pm(tp=>{const ap={...tp};return Tu.forEach(gp=>delete ap[gp]),ap}),Ju(tp=>{const ap={...tp};let gp=!1;return _u.forEach(({id:pp,highlight:Tp})=>{if(Tp&&Tp.pageNumber){const Yp=ap[Tp.pageNumber]||[],Gp=Yp.filter(Hp=>Hp.highlightId===pp?!1:Tp.bounds&&Hp.x!==void 0&&Hp.y!==void 0?!yy({x:Hp.x,y:Hp.y,width:Hp.width,height:Hp.height},Tp.bounds):!0);Gp.length!==Yp.length&&(gp=!0,Gp.length===0?delete ap[Tp.pageNumber]:ap[Tp.pageNumber]=Gp)}}),gp?ap:tp}),_u.forEach(({id:tp,highlight:ap})=>{if(!ap)return;const gp=getCategoryName(dp,ap.spaceId||ap.moduleId,ap.categoryId),pp=Object.values(J0).find(Tp=>Tp.name===ap.name&&Tp.itemType===gp);if(pp){T1(u0=>{const f0={...u0};return Object.values(f0).forEach(qp=>{const Qp=qp.spaceId||qp.moduleId,s0=ap.spaceId||ap.moduleId;qp.itemId===pp.itemId&&Qp===s0&&qp.pdfCoordinates&&yy(qp.pdfCoordinates,wu)&&delete f0[qp.annotationId]}),f0});const Tp=ap.moduleId||ap.spaceId,Yp=getModuleName(dp,Tp),Gp=getModuleDataKey(Yp),Hp=J0[pp.itemId];if(Hp){const u0={...Hp};delete u0[Gp];const qp=((dp==null?void 0:dp.modules)||(dp==null?void 0:dp.spaces)||[]).some(Qp=>{const s0=Qp.id;if(s0===Tp)return!1;const C0=getModuleName(dp,s0),x0=getModuleDataKey(C0);return u0[x0]&&Object.keys(u0[x0]).length>0});Ym(qp?Qp=>({...Qp,[pp.itemId]:u0}):Qp=>{const s0={...Qp};return delete s0[pp.itemId],s0})}}})}},[Dp,dp,K0,J0]),tx=reactExports.useCallback((tu,wu)=>{if(!Dp||!dp)return;const ku=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;getModuleName(dp,Dp),Ju(Tu=>{const _u={};return Object.entries(Tu).forEach(([tp,ap])=>{const gp=ap.filter(pp=>pp.moduleId===Dp);gp.length>0&&(_u[tp]=gp)}),{..._u,[tu]:[..._u[tu]||[],{...wu,highlightId:ku,moduleId:Dp,needsCategory:!Uv,needsBIC:!0}]}}),Uv?(((dp==null?void 0:dp.ballInCourtEntities)||[]).length>0?Fm({highlight:{id:ku,pageNumber:tu,bounds:wu,moduleId:Dp},categoryId:Uv}):(bm({highlight:{id:ku,pageNumber:tu,bounds:wu,moduleId:Dp},categoryId:Uv}),vm("")),Jv(null)):xp&&t1({id:ku,pageNumber:tu,bounds:wu,moduleId:Dp})},[Dp,dp,Uv,xp]);reactExports.useEffect(()=>{xp&&dp&&Dp&&!Em.current&&(kp("highlight"),Em.current=!0),xp||(Em.current=!1)},[xp,dp,Dp]),reactExports.useEffect(()=>{const tu=()=>{if(E0.current&&P0.current&&sm.current){const ku=E0.current.getBoundingClientRect().height,Tu=P0.current.getBoundingClientRect().height,_u=sm.current.getBoundingClientRect().height,tp=Tu+_u;_1({top:ku,bottom:tp})}if(Y0.current){const ku=Y0.current.getBoundingClientRect();p1({top:ku.top,height:ku.height})}},wu=setTimeout(tu,0);return window.addEventListener("resize",tu),()=>{clearTimeout(wu),window.removeEventListener("resize",tu)}},[xp]),reactExports.useEffect(()=>{requestAnimationFrame(()=>{var tu;(tu=Cm.current)==null||tu.applyZoom({persist:!1,force:!0})})},[xp,Ip,sp]),reactExports.useEffect(()=>{xp&&lp(!1)},[xp]);const bu=reactExports.useCallback((tu,wu,ku)=>{!wu||!ku||ku.length===0||(Ju(Tu=>({...Tu,[tu]:ku})),setTimeout(()=>{Ju(Tu=>{const _u={...Tu};return delete _u[tu],_u})},100))},[]);reactExports.useMemo(()=>{if(!Dp)return{};const tu=filterAnnotationsByModule(A1,Dp),wu={};return Object.values(tu).forEach(ku=>{var _u;const Tu=((_u=ku.pdfCoordinates)==null?void 0:_u.page)||1;wu[Tu]||(wu[Tu]=[]),wu[Tu].push(ku.pdfCoordinates)}),wu},[A1,Dp]),reactExports.useEffect(()=>{Dp&&Ju(tu=>{const wu={};return Object.entries(tu).forEach(([ku,Tu])=>{Tu.forEach(_u=>{if(_u.moduleId===Dp&&_u.highlightId&&!(K0&&K0[_u.highlightId])){const gp=parseInt(ku);wu[gp]||(wu[gp]=[]),wu[gp].some(Tp=>Tp.highlightId===_u.highlightId)||wu[gp].push(_u)}})}),K0&&Object.keys(K0).length>0&&Object.entries(K0).forEach(([ku,Tu])=>{const _u=Tu.moduleId||Tu.spaceId;if(_u!==Dp||!Tu.pageNumber||!Tu.bounds)return;const tp=Tu.pageNumber;if(wu[tp]||(wu[tp]=[]),wu[tp].some(Tp=>Tp.highlightId===ku))return;const gp=!Tu.ballInCourtColor&&!Tu.ballInCourtEntityId,pp=Tu.ballInCourtColor?normalizeHighlightColor(Tu.ballInCourtColor)||Tu.ballInCourtColor:null;wu[tp].push({x:Tu.bounds.x,y:Tu.bounds.y,width:Tu.bounds.width,height:Tu.bounds.height,highlightId:ku,moduleId:_u,...gp&&{needsBIC:!0},...pp&&{color:pp}})}),Object.keys(wu).length>0?wu:tu})},[Dp,K0]),reactExports.useEffect(()=>{const tu=wu=>{yu&&!wu.target.closest("[data-shapes-dropdown]")&&Hu(!1)};return document.addEventListener("mousedown",tu),()=>{document.removeEventListener("mousedown",tu)}},[yu]);const Iu=reactExports.useCallback(tu=>wm?!i1||i1.length===0?!1:i1.includes(tu):!0,[wm,i1]);reactExports.useEffect(()=>{wm&&(!i1||i1.length===0||i1.includes(Jl)||Xm(i1[0],{fallback:"nearest"}))},[wm,i1,Jl,Xm]),reactExports.useEffect(()=>{Mu>0&&Array.from({length:Mu},(tu,wu)=>wu+1).filter(tu=>Iu(tu))},[Mu,wm,Iu,w1]);const op=reactExports.useCallback(tu=>{var Tu;if(!wm)return null;const wu=w1.find(_u=>_u.id===wm);if(!wu)return null;const ku=(Tu=wu.assignedPages)==null?void 0:Tu.find(_u=>_u.pageId===tu);return!ku||ku.wholePageIncluded!==!1||!ku.regions||ku.regions.length===0?null:ku.regions},[wm,w1]);return!iu||up?jsxRuntimeExports.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"row",background:"#2b2b2b",color:"#ddd",fontFamily:FONT_FAMILY},children:[jsxRuntimeExports.jsx(PDFSidebar,{pdfDoc:null,numPages:0,pageNum:1,onNavigateToPage:()=>{},onDuplicatePage:()=>{},onDeletePage:()=>{},onCutPage:()=>{},onCopyPage:()=>{},onPastePage:()=>{},clipboardPage:null,clipboardType:null,onRotatePage:()=>{},onMirrorPage:()=>{},onResetPage:()=>{},onReorderPages:()=>{},pageTransformations:{},bookmarks:[],onBookmarkCreate:()=>{},onBookmarkUpdate:()=>{},onBookmarkDelete:()=>{},spaces:[],onSpaceCreate:()=>{},onSpaceUpdate:()=>{},onSpaceDelete:()=>{},activeSpaceId:null,onSetActiveSpace:()=>{},onExitSpaceMode:()=>{},scale:1,onToggleCollapse:()=>{}}),jsxRuntimeExports.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"15px",letterSpacing:"-0.2px"},children:up?jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(Icon,{name:"document",size:48})}),jsxRuntimeExports.jsx("div",{style:{fontSize:"18px",color:"#999"},children:"Loading PDF..."}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",color:"#666",marginTop:"10px"},children:(us==null?void 0:us.name)||"document.pdf"})]}):"Loading PDF..."})]}):jsxRuntimeExports.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",background:"#2b2b2b",color:"#ddd",fontFamily:FONT_FAMILY},children:[jsxRuntimeExports.jsxs("div",{ref:E0,style:{padding:"12px 20px",background:"#333",borderBottom:"1px solid #444",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",fontFamily:FONT_FAMILY,flexShrink:0},children:[jsxRuntimeExports.jsxs("button",{onClick:is,className:"btn btn-default btn-md",children:[jsxRuntimeExports.jsx(Icon,{name:"arrowLeft",size:14,style:{marginRight:"4px"}})," Back"]}),jsxRuntimeExports.jsx("div",{style:{width:"1px",height:"24px",background:"#555"}}),jsxRuntimeExports.jsxs("button",{onClick:rv,className:"btn btn-default btn-md",style:{display:"flex",alignItems:"center",gap:"6px"},children:[jsxRuntimeExports.jsx(Icon,{name:Cu==="continuous"?"pages":"pageSingle",size:16}),Cu==="continuous"?"Continuous":"Single Page"]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:Fv,disabled:Jl<=1,className:"btn btn-default btn-icon",children:jsxRuntimeExports.jsx(Icon,{name:"chevronLeft",size:18})}),jsxRuntimeExports.jsx("input",{ref:Bl,type:"text","data-page-number-input":!0,value:ju,onChange:Fx,onKeyDown:Vv,onBlur:M1,inputMode:"numeric",pattern:"[0-9]*","aria-label":"Current page",style:{width:"56px",padding:"6px 10px",background:"#444",color:"#ddd",border:"1px solid #555",borderRadius:"5px",fontSize:"14px",fontFamily:FONT_FAMILY,fontWeight:"500",letterSpacing:"-0.2px",textAlign:"center"}}),jsxRuntimeExports.jsxs("span",{style:{color:"#999",fontSize:"14px",fontFamily:FONT_FAMILY,fontWeight:"400"},children:["/ ",Mu]}),jsxRuntimeExports.jsx("button",{onClick:Cv,disabled:Jl>=Mu,className:"btn btn-default btn-icon",children:jsxRuntimeExports.jsx(Icon,{name:"chevronRight",size:18})})]}),jsxRuntimeExports.jsx("div",{style:{width:"1px",height:"24px",background:"#555"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:zy,className:"btn btn-default btn-icon",children:jsxRuntimeExports.jsx(Icon,{name:"minus",size:18})}),jsxRuntimeExports.jsx("input",{ref:Ll,type:"text","data-page-number-input":!0,value:_c,onChange:vy,onKeyDown:ex,onBlur:yx,inputMode:"numeric",pattern:"[0-9]*","aria-label":"Zoom percentage",style:{width:"60px",padding:"6px 10px",background:"#444",color:"#ddd",border:"1px solid #555",borderRadius:"5px",fontSize:"14px",fontFamily:FONT_FAMILY,fontWeight:"500",letterSpacing:"-0.2px",textAlign:"center"}}),jsxRuntimeExports.jsx("span",{style:{color:"#999",fontSize:"14px",fontFamily:FONT_FAMILY,fontWeight:"400"},children:"%"}),jsxRuntimeExports.jsx("button",{onClick:Jy,className:"btn btn-default btn-icon",children:jsxRuntimeExports.jsx(Icon,{name:"plus",size:18})}),jsxRuntimeExports.jsx("button",{onClick:Qy,className:"btn btn-default btn-sm",children:"Reset"}),jsxRuntimeExports.jsxs("div",{ref:zv,style:{position:"relative"},children:[jsxRuntimeExports.jsxs("button",{onClick:fy,className:"btn btn-default btn-sm","aria-haspopup":"listbox","aria-expanded":su,style:{display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[jsxRuntimeExports.jsx(Icon,{name:"settings",size:16}),jsxRuntimeExports.jsx("span",{children:By}),jsxRuntimeExports.jsx(Icon,{name:su?"chevronUp":"chevronDown",size:14})]}),su&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"calc(100% + 6px)",right:0,background:"#2b2b2b",border:"1px solid #3a3a3a",borderRadius:"10px",boxShadow:"0 18px 36px rgba(0,0,0,0.45)",minWidth:"220px",zIndex:2e3,padding:"6px 0"},children:ZOOM_MODE_OPTIONS.map(tu=>{const wu=tu.id===ru;return jsxRuntimeExports.jsxs("button",{onClick:()=>kx(tu.id),className:"btn btn-ghost",style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px 14px",background:wu?"#3a3a3a":"transparent",border:"none",textAlign:"left",cursor:"pointer",gap:"2px"},children:[jsxRuntimeExports.jsxs("span",{style:{fontSize:"13px",fontWeight:600,color:"#e0e0e0"},children:[tu.label,tu.id===ZOOM_MODES.MANUAL&&jsxRuntimeExports.jsxs("span",{style:{marginLeft:"6px",fontWeight:400,color:"#9a9a9a"},children:[Math.round((Hl||1)*100),"%"]})]}),jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",color:"#9a9a9a"},children:tu.description})]},tu.id)})})]})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"auto",fontSize:"13px",color:"#999",fontFamily:FONT_FAMILY,fontWeight:"400",letterSpacing:"-0.1px"},children:us.name}),jsxRuntimeExports.jsx("div",{style:{width:"1px",height:"24px",background:"#555"}}),jsxRuntimeExports.jsxs("button",{onClick:()=>{xp?(Ru(!1),a0(null),_0(null)):d0(!0)},className:`btn btn-md ${xp?"btn-active":"btn-default"}`,style:{display:"flex",alignItems:"center",gap:"6px"},children:[jsxRuntimeExports.jsx(Icon,{name:"survey",size:16}),"Survey"]})]}),wp.visible&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:wp.x,top:wp.y,transform:"translate(-50%, -100%)",background:"#222",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY,pointerEvents:"none",zIndex:1e4,whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:wp.text}),$1&&jsxRuntimeExports.jsx(RegionSelectionTool,{active:$1,onRegionComplete:Dv,onCancel:()=>{ty(!1),wv(null)},currentSpaceId:wm,currentPageId:f1,scale:uu,initialRegions:f1?op(f1)||[]:[],onSetFullPage:o1,canSetFullPage:my}),jsxRuntimeExports.jsxs("div",{ref:Y0,style:{flex:1,display:"flex",flexDirection:"row",overflow:"hidden",minWidth:0,minHeight:0,marginRight:xp?sp?"48px":"320px":"0"},children:[jsxRuntimeExports.jsx(PDFSidebar,{pdfDoc:iu,numPages:Mu,pageNum:Jl,onNavigateToPage:Xm,onDuplicatePage:$y,onDeletePage:Zx,onCutPage:Jx,onCopyPage:Ix,onPastePage:Ox,clipboardPage:Zy,clipboardType:Wv,onRotatePage:D1,onMirrorPage:F1,onResetPage:Zp,onReorderPages:Dx,pageTransformations:a1,bookmarks:Uy,onBookmarkCreate:Hv,onBookmarkUpdate:j1,onBookmarkDelete:i0,spaces:w1,onSpaceCreate:_y,onSpaceUpdate:Ay,onSpaceDelete:ev,activeSpaceId:wm,onSetActiveSpace:z1,onExitSpaceMode:qv,onRequestRegionEdit:R1,onSpaceAssignPages:Ty,onSpaceRenamePage:hx,onSpaceRemovePage:ux,onReorderSpaces:dx,onExportSpaceCSV:fm,onExportSpacePDF:Sm,isRegionSelectionActive:$1,shouldShowPage:Iu,activeSpacePages:i1,scale:uu,tabId:cs,onPageDrop:lo,onToggleCollapse:tu=>{_p(tu),requestAnimationFrame(()=>{var wu;(wu=Cm.current)==null||wu.applyZoom({persist:!1,force:!0})})}}),jsxRuntimeExports.jsx("div",{ref:wl,onMouseDown:Wy,onMouseMove:mx,onMouseUp:vx,onMouseLeave:vx,onWheel:gx,style:xx,"data-testid":"pdf-container",children:jsxRuntimeExports.jsx("div",{ref:Sl,style:bx,children:Cu==="continuous"?Mu>0?Array.from({length:Mu},(tu,wu)=>wu+1).filter(tu=>Iu(tu)).map(tu=>{var Tu,_u,tp,ap;const wu=op(tu),ku=Au.has(tu);return jsxRuntimeExports.jsx("div",{ref:gp=>Cl.current[tu]=gp,"data-page-num":tu,style:{minHeight:Ou[tu]?`${Ou[tu]*uu}px`:"800px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative"},children:ku?jsxRuntimeExports.jsxs("div",{style:{position:"relative",transform:Px(tu),transformOrigin:"center center"},children:[jsxRuntimeExports.jsx(PDFPageCanvas$1,{page:Pp[tu],scale:uu,onFinishRender:()=>{Uu(gp=>new Set([...gp,tu]))}}),$u[tu]&&Pp[tu]&&jsxRuntimeExports.jsx(TextLayer,{pageNumber:tu,page:Pp[tu],scale:uu,width:$u[tu].width,height:$u[tu].height,onTextSelected:bu,isSelectionMode:Rp==="pan"||Rp==="text-select"}),$u[tu]&&jsxRuntimeExports.jsx(PageAnnotationLayer,{pageNumber:tu,width:$u[tu].width,height:$u[tu].height,scale:uu,tool:Rp,strokeColor:hu,strokeWidth:eu,annotations:Zu[tu],onSaveAnnotations:wx,newHighlights:Jp[tu],highlightsToRemove:_d[tu],onHighlightCreated:tx,onHighlightDeleted:Hy,selectedSpaceId:Sv,selectedModuleId:Dp,activeRegions:wu,eraserMode:Sp,showSurveyPanel:xp}),wu&&wu.length>0&&!($1&&f1===tu)&&jsxRuntimeExports.jsx(SpaceRegionOverlay,{pageNumber:tu,regions:wu,width:((Tu=$u[tu])==null?void 0:Tu.width)||0,height:((_u=$u[tu])==null?void 0:_u.height)||0,scale:uu}),$1&&f1===tu&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${(((tp=$u[tu])==null?void 0:tp.width)||0)*uu}px`,height:`${(((ap=$u[tu])==null?void 0:ap.height)||0)*uu}px`,pointerEvents:"none",zIndex:1e3},children:jsxRuntimeExports.jsx("div",{id:"region-selection-target",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})})]}):jsxRuntimeExports.jsxs("div",{style:{width:Ou[tu]?`${Ou[tu]*.7*uu}px`:"595px",height:Ou[tu]?`${Ou[tu]*uu}px`:"800px",background:"#f5f5f5",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"14px"},children:["Page ",tu]})},tu)}):jsxRuntimeExports.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#999",fontSize:"14px"},children:Mu===0?"No pages to display":"No pages match the current filter"}):Iu(Jl)&&(()=>{var wu,ku,Tu,_u;const tu=op(Jl);return jsxRuntimeExports.jsx("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{style:{position:"relative",transform:Px(Jl),transformOrigin:"center center"},children:[jsxRuntimeExports.jsx("canvas",{ref:tp=>_l.current[Jl]=tp,style:{display:"block",background:"#fff",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}}),$u[Jl]&&Pp[Jl]&&jsxRuntimeExports.jsx(TextLayer,{pageNumber:Jl,page:Pp[Jl],scale:uu,width:$u[Jl].width,height:$u[Jl].height,onTextSelected:bu,isSelectionMode:Rp==="pan"||Rp==="text-select"}),$u[Jl]&&jsxRuntimeExports.jsx(PageAnnotationLayer,{pageNumber:Jl,width:$u[Jl].width,height:$u[Jl].height,scale:uu,tool:Rp,strokeColor:hu,strokeWidth:eu,annotations:Zu[Jl],onSaveAnnotations:wx,newHighlights:Jp[Jl],highlightsToRemove:_d[Jl],onHighlightCreated:tx,onHighlightDeleted:Hy,selectedSpaceId:Sv,selectedModuleId:Dp,activeRegions:tu,eraserMode:Sp,showSurveyPanel:xp}),tu&&tu.length>0&&!($1&&f1===Jl)&&jsxRuntimeExports.jsx(SpaceRegionOverlay,{pageNumber:Jl,regions:tu,width:((wu=$u[Jl])==null?void 0:wu.width)||0,height:((ku=$u[Jl])==null?void 0:ku.height)||0,scale:uu}),$1&&f1===Jl&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${(((Tu=$u[Jl])==null?void 0:Tu.width)||0)*uu}px`,height:`${(((_u=$u[Jl])==null?void 0:_u.height)||0)*uu}px`,pointerEvents:"none",zIndex:1e3},children:jsxRuntimeExports.jsx("div",{id:"region-selection-target",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})})]})})})()})})]}),jsxRuntimeExports.jsxs("div",{ref:P0,style:{padding:"12px 20px",background:"#333",borderTop:"1px solid #444",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",fontFamily:FONT_FAMILY,flexShrink:0},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",flexWrap:"wrap",position:"relative"},children:[[{id:"pan",label:"Pan",iconName:"pan"},{id:"pen",label:"Pen",iconName:"pen"},{id:"highlighter",label:"Highlighter",iconName:"highlighter"},...xp?[{id:"highlight",label:"Highlight (Rect)",iconName:"highlighter"}]:[],{id:"text",label:"Text",iconName:"text"}].map(tu=>jsxRuntimeExports.jsx("div",{style:{position:"relative",display:"inline-block"},children:jsxRuntimeExports.jsx("button",{onClick:()=>kp(tu.id),onMouseEnter:wu=>{const ku=wu.currentTarget.getBoundingClientRect();Bp({visible:!0,text:tu.label,x:ku.left+ku.width/2,y:ku.top-10})},onMouseLeave:()=>Bp({visible:!1,text:"",x:0,y:0}),className:`btn btn-icon ${Rp===tu.id?"btn-active":""}`,children:jsxRuntimeExports.jsx(Icon,{name:tu.iconName,size:16})})},tu.id)),jsxRuntimeExports.jsxs("div",{ref:Il,style:{position:"relative",display:"inline-flex",alignItems:"stretch"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>kp("eraser"),onMouseEnter:tu=>{const wu=tu.currentTarget.getBoundingClientRect();Bp({visible:!0,text:"Eraser",x:wu.left+wu.width/2,y:wu.top-10})},onMouseLeave:()=>Bp({visible:!1,text:"",x:0,y:0}),className:`btn btn-icon ${Rp==="eraser"?"btn-active":""}`,style:{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none"},children:jsxRuntimeExports.jsx(Icon,{name:"eraser",size:16})}),jsxRuntimeExports.jsx("button",{onClick:tu=>{tu.stopPropagation(),Ku(!Lp)},onMouseEnter:tu=>{if(!Lp){const wu=tu.currentTarget.getBoundingClientRect();Bp({visible:!0,text:"Eraser Options",x:wu.left+wu.width/2,y:wu.top-10})}},onMouseLeave:()=>{Lp||Bp({visible:!1,text:"",x:0,y:0})},className:`btn btn-icon ${Rp==="eraser"?"btn-active":""}`,style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0",padding:"0 4px",minWidth:"20px"},children:jsxRuntimeExports.jsx(Icon,{name:"chevronDown",size:12})}),Lp&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,marginBottom:"4px",background:"#444",border:"1px solid #555",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:1e3,display:"flex",flexDirection:"column",minWidth:"160px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Np("partial"),Ku(!1),kp("eraser")},className:`btn ${Sp==="partial"?"btn-active":"btn-ghost"}`,style:{borderBottom:"1px solid #555",borderRadius:"0",textAlign:"left",justifyContent:"flex-start",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px"},children:jsxRuntimeExports.jsx("span",{style:{fontSize:"13px"},children:"Partial Stroke"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{Np("entire"),Ku(!1),kp("eraser")},className:`btn ${Sp==="entire"?"btn-active":"btn-ghost"}`,style:{borderRadius:"0",textAlign:"left",justifyContent:"flex-start",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px"},children:jsxRuntimeExports.jsx("span",{style:{fontSize:"13px"},children:"Entire Stroke"})})]})]}),jsxRuntimeExports.jsxs("div",{style:{position:"relative",display:"inline-block"},"data-shapes-dropdown":!0,children:[jsxRuntimeExports.jsx("button",{onClick:()=>Hu(!yu),onMouseEnter:tu=>{const wu=tu.currentTarget.getBoundingClientRect();Bp({visible:!0,text:"Shapes",x:wu.left+wu.width/2,y:wu.top-10})},onMouseLeave:()=>Bp({visible:!1,text:"",x:0,y:0}),className:`btn btn-md ${["rect","ellipse","line","arrow","underline","strikeout","squiggly","note"].includes(Rp)?"btn-active":"btn-default"}`,children:"Shapes"}),yu&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:"100%",left:0,marginBottom:"4px",background:"#444",border:"1px solid #555",borderRadius:"5px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:1e3,display:"flex",flexDirection:"column",minWidth:"120px"},children:[{id:"rect",label:"Rect",iconName:"rect"},{id:"ellipse",label:"Ellipse",iconName:"ellipse"},{id:"line",label:"Line",iconName:"line"},{id:"arrow",label:"Arrow",iconName:"arrow"},{id:"underline",label:"Underline",iconName:"underline"},{id:"strikeout",label:"Strikeout",iconName:"strikeout"},{id:"squiggly",label:"Squiggly",iconName:"squiggly"},{id:"note",label:"Note",iconName:"note"}].map(tu=>jsxRuntimeExports.jsxs("button",{onClick:()=>{kp(tu.id),Hu(!1)},className:`btn ${Rp===tu.id?"btn-active":"btn-ghost"}`,style:{borderBottom:tu.id!=="note"?"1px solid #555":"none",borderRadius:"0",textAlign:"left",justifyContent:"flex-start",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx(Icon,{name:tu.iconName,size:16}),jsxRuntimeExports.jsx("span",{style:{fontSize:"13px"},children:tu.label})]},tu.id))})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{!wm||!Iu(Jl)||(wv(Jl),ty(!0))},onMouseEnter:tu=>{const wu=tu.currentTarget.getBoundingClientRect();Bp({visible:!0,text:"Region Selection",x:wu.left+wu.width/2,y:wu.top-10})},onMouseLeave:()=>Bp({visible:!1,text:"",x:0,y:0}),className:`btn btn-md ${$1?"btn-active":"btn-default"}`,disabled:!wm||!Iu(Jl),style:{display:"flex",alignItems:"center",gap:"6px"},title:wm?Iu(Jl)?"Define page regions for this space":"Add this page to the active space to define regions":"Activate a space to define regions",children:[jsxRuntimeExports.jsx(Icon,{name:"rect",size:16}),"Regions"]})]}),jsxRuntimeExports.jsx("div",{style:{width:"1px",height:"24px",background:"#555"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#aaa",fontSize:"13px"},children:"Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:hu,onChange:tu=>Zl(tu.target.value),style:{width:"32px",height:"28px",border:"none",background:"transparent",cursor:"pointer"}}),jsxRuntimeExports.jsx("label",{style:{color:"#aaa",fontSize:"13px"},children:"Width"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"30",value:eu,onChange:tu=>Nu(parseInt(tu.target.value)||1),style:{width:"60px",padding:"6px 8px",background:"#444",color:"#ddd",border:"1px solid #555",borderRadius:"5px",fontSize:"13px",fontFamily:FONT_FAMILY}})]})]}),jsxRuntimeExports.jsxs("div",{ref:sm,style:{padding:"8px 20px",background:"#333",borderTop:"1px solid #444",fontSize:"12px",color:"#999",display:"flex",gap:"20px",fontFamily:FONT_FAMILY,fontWeight:"400",letterSpacing:"-0.1px"},children:[jsxRuntimeExports.jsx("span",{children:Cu==="continuous"?"Scroll to navigate  Ctrl+Scroll to zoom  Drag to pan":"Use arrow keys  Ctrl+Scroll to zoom  Drag to pan"}),Cu==="continuous"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("span",{style:{marginLeft:"auto",color:"#aaa",fontFamily:FONT_FAMILY,fontWeight:"500"},children:[Gu.size," of ",Mu," pages rendered"]})})]}),Sy&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>hm(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e4,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:tu=>tu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",maxHeight:"80vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Select Space"}),jsxRuntimeExports.jsx("button",{onClick:()=>hm(!1),className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),s1.length===0?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:jsxRuntimeExports.jsx("p",{children:"No templates available. Please create a template first."})}):(()=>{const tu=[];if(s1.forEach(_u=>{(_u.spaces||[]).forEach(tp=>{tu.push({...tp,templateId:_u.id,templateName:_u.name})})}),tu.length===0)return jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:jsxRuntimeExports.jsx("p",{children:"No spaces available in any template."})});const wu=Object.keys(n1).filter(_u=>n1[_u]);let ku=null;if(wu.length>0){const _u=K0[wu[0]];ku=(_u==null?void 0:_u.moduleId)||(_u==null?void 0:_u.spaceId)||Dp}else ku=Dp;const Tu=ku?tu.filter(_u=>_u.id!==ku):tu;return jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Tu.map(_u=>jsxRuntimeExports.jsx("button",{onClick:tp=>{tp.stopPropagation(),tp.preventDefault();const ap=s1.find(gp=>gp.id===_u.templateId);if(!ap){console.error("Template not found for module:",_u),alert("Template not found. Please try again.");return}if(B1){const gp=Object.keys(Wm).filter(Gp=>Wm[Gp]);if(gp.length===0){alert("Please select at least one category to copy.");return}const pp=[];if(gp.forEach(Gp=>{Object.entries(K0).filter(([u0,f0])=>(f0.moduleId||f0.spaceId)===Dp&&f0.categoryId===Gp).forEach(([u0,f0])=>{pp.push(u0)})}),pp.length===0){alert("Selected categories have no items to copy.");return}const Tp=[],Yp=dp||s1.find(Gp=>(Gp.modules||Gp.spaces||[]).some(u0=>u0.id===Dp));if(!Yp){alert("Unable to find source template. Please try again.");return}if(pp.forEach(Gp=>{const Hp=K0[Gp];if(!Hp||!Hp.categoryId)return;const u0=getCategoryName(Yp,Hp.spaceId,Hp.categoryId),f0=Object.values(J0).find(qp=>qp.name===Hp.name&&qp.itemType===u0);f0&&f0.itemId&&!Tp.includes(f0.itemId)&&Tp.push(f0.itemId)}),Tp.length>0){const Gp=Tp.map(Qp=>J0[Qp]).filter(Boolean),u0=[...new Set(Gp.map(Qp=>Qp.itemType))].filter(Qp=>!categoryExists(ap,_u.id,Qp));if(u0.length>0){alert(`Some categories don't exist in the destination module. Please create them first: ${u0.join(", ")}`);return}const f0=transferItems(Tp,Dp,_u.id,ap,J0,A1);Ym(f0.newItems),T1(f0.updatedAnnotations);const qp={};Tp.forEach(Qp=>{var r0;const s0=f0.newItems[Qp];if(!s0)return;const C0=Object.values(f0.updatedAnnotations).find(I0=>{const gm=I0.moduleId||I0.spaceId;return I0.itemId===Qp&&gm===_u.id}),x0=pp.find(I0=>{const gm=K0[I0];return gm&&gm.name===s0.name}),O0=x0?K0[x0]:null,lm=Object.values(A1).find(I0=>{const gm=I0.moduleId||I0.spaceId;return I0.itemId===Qp&&gm===Dp}),Rm=(ap.modules||ap.spaces||[]).find(I0=>I0.id===_u.id),m0=(r0=Rm==null?void 0:Rm.categories)==null?void 0:r0.find(I0=>I0.name===s0.itemType);let M0=null;if(C0!=null&&C0.pdfCoordinates?M0=C0.pdfCoordinates:lm!=null&&lm.pdfCoordinates?M0=lm.pdfCoordinates:O0!=null&&O0.bounds&&(M0=O0.bounds),M0){const I0=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,gm=(O0==null?void 0:O0.pageNumber)||(C0==null?void 0:C0.pageNumber)||1;qp[I0]={id:I0,pageNumber:gm,bounds:M0,moduleId:_u.id,categoryId:(m0==null?void 0:m0.id)||null,name:s0.name||(O0==null?void 0:O0.name)||"Untitled Item",checklistResponses:{}},Ju(km=>({...km,[gm]:[...km[gm]||[],{...M0,needsBIC:!0,highlightId:I0}]}))}}),Object.keys(qp).length>0&&pm(Qp=>({...Qp,...qp})),bv({}),U1(!1),uv(null),hm(!1),a0(ap),_0(_u.id),Ru(!0);return}else{const Gp=pp.map(qp=>K0[qp]).filter(Boolean);if(Gp.length===0){alert("No valid items found to copy.");return}const Hp=(ap.modules||ap.spaces||[]).find(qp=>qp.id===_u.id),u0=[];if(Gp.forEach(qp=>{var x0;const Qp=qp.moduleId||qp.spaceId,s0=getCategoryName(Yp,Qp,qp.categoryId);!((x0=Hp==null?void 0:Hp.categories)==null?void 0:x0.find(O0=>O0.name===s0))&&s0&&!u0.includes(s0)&&u0.push(s0)}),u0.length>0){alert(`Cannot copy categories. The following categories don't exist in the destination module:

${u0.join(", ")}

Please create these categories in the destination module first.`);return}const f0={};Gp.forEach(qp=>{var O0;const Qp=qp.moduleId||qp.spaceId,s0=getCategoryName(Yp,Qp,qp.categoryId),C0=(O0=Hp==null?void 0:Hp.categories)==null?void 0:O0.find(lm=>lm.name===s0),x0=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;f0[x0]={...qp,id:x0,moduleId:_u.id,categoryId:(C0==null?void 0:C0.id)||null}}),pm(qp=>({...qp,...f0})),bv({}),U1(!1),uv(null),hm(!1),a0(ap),_0(_u.id),Ru(!0);return}}if(console.log("Copy to Spaces - Selected highlight IDs:",wu),console.log("Copy to Spaces - Highlight annotations:",K0),wu.length>0){const gp=[];if(!sourceSpaceId){console.error("No source space ID found"),alert("Unable to determine source space. Please try again.");return}const pp=dp||s1.find(Tp=>{var Yp;return(Yp=Tp.spaces)==null?void 0:Yp.some(Gp=>Gp.id===sourceSpaceId)});if(!pp){console.error("Source template not found for space:",sourceSpaceId),alert("Unable to find source template. Please try again.");return}if(console.log("Source space ID:",sourceSpaceId),console.log("Source template:",pp),console.log("Destination space ID:",space.id),console.log("Destination template:",ap),console.log("All items:",J0),console.log("All annotations:",A1),wu.forEach(Tp=>{const Yp=K0[Tp];if(console.log(`Processing highlight ${Tp}:`,Yp),!Yp){console.warn(`Highlight ${Tp} not found`);return}if(!Yp.categoryId){console.warn(`Highlight ${Tp} has no categoryId`);return}const Gp=getCategoryName(pp,Yp.spaceId,Yp.categoryId);console.log(`Category name for highlight ${Tp}:`,Gp),console.log("Highlight name:",Yp.name);const Hp=Object.values(J0).find(u0=>u0.name===Yp.name&&u0.itemType===Gp);if(console.log(`Matching item for highlight ${Tp}:`,Hp),Hp){const u0=Object.values(A1).find(f0=>f0.itemId===Hp.itemId&&f0.spaceId===Yp.spaceId);console.log(`Matching annotation for item ${Hp.itemId}:`,u0),u0&&Hp.itemId?gp.includes(Hp.itemId)||(console.log(`Adding item ${Hp.itemId} to copy list`),gp.push(Hp.itemId)):gp.includes(Hp.itemId)||(console.log(`Adding item ${Hp.itemId} to copy list (no annotation)`),gp.push(Hp.itemId))}else console.warn(`No matching item found for highlight ${Tp} with name "${Yp.name}" and category "${Gp}"`)}),console.log("Items to copy:",gp),gp.length>0){const Tp=gp.map(Hp=>J0[Hp]).filter(Boolean),Yp=[...new Set(Tp.map(Hp=>Hp.itemType))];console.log("Item types to copy:",Yp);const Gp=Yp.filter(Hp=>!categoryExists(ap,space.id,Hp));if(Gp.length>0){alert(`Some categories don't exist in the destination space. Please create them first: ${Gp.join(", ")}`);return}else{console.log("Calling transferItems with:",{itemIdsToCopy:gp,sourceSpaceId,destSpaceId:space.id,template:ap});const Hp=transferItems(gp,sourceSpaceId,space.id,ap,J0,A1);console.log("Transfer result:",Hp),Ym(Hp.newItems),T1(Hp.updatedAnnotations),console.log("Creating highlight entries for",gp.length,"items");const u0={};gp.forEach(f0=>{var m0;const qp=Hp.newItems[f0];if(console.log("Processing item for highlight creation:",f0,qp),!qp){console.log("Item not found in result.newItems");return}const Qp=Object.values(Hp.updatedAnnotations).find(M0=>M0.itemId===f0&&M0.spaceId===space.id);console.log("Destination annotation:",Qp);const s0=Object.values(A1).find(M0=>M0.itemId===f0&&M0.spaceId===sourceSpaceId);console.log("Source annotation:",s0);const C0=wu.find(M0=>{const r0=K0[M0];return r0&&r0.name===qp.name}),x0=C0?K0[C0]:null;console.log("Source highlight:",x0);const O0=ap.spaces.find(M0=>M0.id===space.id),lm=(m0=O0==null?void 0:O0.categories)==null?void 0:m0.find(M0=>M0.name===qp.itemType);console.log("Destination category:",lm);let Rm=null;if(Qp!=null&&Qp.pdfCoordinates?Rm=Qp.pdfCoordinates:s0!=null&&s0.pdfCoordinates?Rm=s0.pdfCoordinates:x0!=null&&x0.bounds&&(Rm=x0.bounds),console.log("Bounds for highlight:",Rm),Rm){const M0=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r0=(x0==null?void 0:x0.pageNumber)||(Qp==null?void 0:Qp.pageNumber)||1;u0[M0]={id:M0,pageNumber:r0,bounds:Rm,spaceId:space.id,categoryId:(lm==null?void 0:lm.id)||null,name:qp.name||(x0==null?void 0:x0.name)||"Untitled Item",checklistResponses:{}},console.log("Created highlight (no BIC):",u0[M0]),Ju(I0=>({...I0,[r0]:[...I0[r0]||[],{...Rm,needsBIC:!0,highlightId:M0}]}))}else console.log("No bounds available, skipping highlight creation")}),Object.keys(u0).length>0&&(console.log("Adding",Object.keys(u0).length,"new highlights to highlightAnnotations"),pm(f0=>({...f0,...u0}))),Tm({}),ov(!1),hm(!1),a0(ap),xv(space.id),Ru(!0),console.log("Copy completed successfully");return}}else{console.log("No items found, treating highlights as legacy highlights");const Tp=wu.map(u0=>K0[u0]).filter(Boolean);if(Tp.length===0){console.error("No valid highlights found to process"),alert("No valid highlights selected. Please select highlights and try again.");return}console.log("Copying legacy highlights:",Tp);const Yp=ap.spaces.find(u0=>u0.id===space.id),Gp=[];if(Tp.forEach(u0=>{var Qp;const f0=getCategoryName(pp,u0.spaceId,u0.categoryId);!((Qp=Yp==null?void 0:Yp.categories)==null?void 0:Qp.find(s0=>s0.name===f0))&&f0&&!Gp.includes(f0)&&Gp.push(f0)}),Gp.length>0){alert(`Cannot copy highlights. The following categories don't exist in the destination space:

${Gp.join(", ")}

Please create these categories in the destination space first.`);return}const Hp={};Tp.forEach(u0=>{var s0;const f0=getCategoryName(pp,u0.spaceId,u0.categoryId),qp=(s0=Yp==null?void 0:Yp.categories)==null?void 0:s0.find(C0=>C0.name===f0),Qp=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;Hp[Qp]={...u0,id:Qp,spaceId:space.id,categoryId:(qp==null?void 0:qp.id)||null},console.log(`Created legacy highlight copy: ${Qp}`,Hp[Qp])}),pm(u0=>({...u0,...Hp})),Tm({}),ov(!1),hm(!1),a0(ap),xv(space.id),Ru(!0),console.log("Legacy highlights copied successfully");return}}else console.warn("No items selected for copy. Closing modal."),hm(!1)},className:"btn btn-default btn-md",style:{textAlign:"left",justifyContent:"flex-start",padding:"12px 16px",background:"#333",border:"1px solid #444"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"template",size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{fontWeight:"500",color:"#fff"},children:space.name||"Untitled Space"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",color:"#999",marginTop:"2px"},children:space.templateName||"Untitled Template"})]})]})},`${_u.templateId}-${_u.id}`))})})()]})})}),Mp&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>d0(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e4,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:tu=>tu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",maxHeight:"80vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Select Template"}),jsxRuntimeExports.jsx("button",{onClick:()=>d0(!1),className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),s1.length===0?jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#999",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[jsxRuntimeExports.jsx("p",{style:{margin:0},children:"No templates available."}),jsxRuntimeExports.jsx("p",{style:{margin:0},children:"Please create a template first."}),jsxRuntimeExports.jsx("button",{onClick:()=>{d0(!1),Ru(!1),a0(null),_0(null),hs==null||hs()},className:"btn btn-primary btn-md",style:{minWidth:"160px"},children:"Create Template"})]}):jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s1.map(tu=>jsxRuntimeExports.jsx("button",{onClick:()=>{var ku,Tu;const wu=((Tu=(ku=tu.modules||tu.spaces||[])==null?void 0:ku[0])==null?void 0:Tu.id)||null;a0(tu),_0(wu),d0(!1),Ru(!0)},className:"btn btn-default btn-md",style:{textAlign:"left",justifyContent:"flex-start",padding:"12px 16px",background:"#333",border:"1px solid #444"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx(Icon,{name:"template",size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{fontWeight:"500",color:"#fff"},children:tu.name||"Untitled Template"}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"2px"},children:[(tu.modules||tu.spaces||[]).length," module",(tu.modules||tu.spaces||[]).length!==1?"s":""]})]})]})},tu.id))}),jsxRuntimeExports.jsx("button",{onClick:()=>{d0(!1),Ru(!1),a0(null),_0(null),hs==null||hs()},className:"btn btn-primary btn-md",style:{alignSelf:"center",minWidth:"160px"},children:"Create Template"})]})]})})}),xp&&dp&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{position:"fixed",top:`${Pm.top}px`,right:0,height:`${Pm.height}px`,width:sp?"48px":"320px",background:"#2b2b2b",borderLeft:"1px solid #444",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.5)",animation:"slideInRight 0.3s ease-out",transition:"width 0.2s ease, top 0.2s ease, height 0.2s ease"},children:[jsxRuntimeExports.jsx("div",{style:{padding:"8px",borderBottom:"1px solid #3a3a3a",display:"flex",justifyContent:"flex-start",background:"#252525"},children:jsxRuntimeExports.jsx("button",{onClick:()=>{lp(tu=>!tu),requestAnimationFrame(()=>{var tu;(tu=Cm.current)==null||tu.applyZoom({persist:!1,force:!0})})},style:{background:"transparent",border:"none",color:"#999",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.15s ease"},onMouseEnter:tu=>tu.currentTarget.style.background="#333",onMouseLeave:tu=>tu.currentTarget.style.background="transparent",children:jsxRuntimeExports.jsx(Icon,{name:sp?"chevronLeft":"chevronRight",size:16,color:"#999"})})}),!sp&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{padding:B1?"16px 20px":"20px",borderBottom:"1px solid #444",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#333"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0,fontSize:B1?"20px":"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY,letterSpacing:"-0.2px",flex:B1?0:1},children:B1&&Dp?((fp=(dp.modules||dp.spaces||[]).find(tu=>tu.id===Dp))==null?void 0:fp.name)||"Survey":dp.name||"Survey"}),!B1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Gm,style:{background:"#4A90E2",border:"1px solid #3277c7",color:"#fff",fontSize:"12px",fontWeight:600,padding:"6px 12px",borderRadius:"6px",textTransform:"uppercase",letterSpacing:"0.08em",cursor:"pointer"},children:"Export"}),dp.linkedExcelPath&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:c1,title:dp.linkedExcelPath,style:{background:"#2ecc71",border:"1px solid #27ae60",color:"#fff",fontSize:"12px",fontWeight:600,padding:"6px 12px",borderRadius:"6px",textTransform:"uppercase",letterSpacing:"0.08em",cursor:"pointer"},children:"Open Excel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Y1,style:{background:"#e67e22",border:"1px solid #d35400",color:"#fff",fontSize:"12px",fontWeight:600,padding:"6px 12px",borderRadius:"6px",textTransform:"uppercase",letterSpacing:"0.08em",cursor:"pointer"},children:"Sync From"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:cm,style:{background:"#9b59b6",border:"1px solid #8e44ad",color:"#fff",fontSize:"12px",fontWeight:600,padding:"6px 12px",borderRadius:"6px",textTransform:"uppercase",letterSpacing:"0.08em",cursor:"pointer"},children:"Sync To"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{B1?(U1(!1),uv(null),bv({})):(Ru(!1),a0(null),xv(null),Jv(null))},className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#fff",padding:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),(dp.modules||dp.spaces||[]).length>0&&jsxRuntimeExports.jsx("div",{style:{padding:"12px 16px",borderBottom:"1px solid #444",background:"#333",display:"flex",gap:"8px",overflowX:"auto"},children:(dp.modules||dp.spaces||[]).map(tu=>jsxRuntimeExports.jsx("button",{onClick:()=>{_0(tu.id),Jv(null),ov(!1),Tm({}),B1&&bv({})},className:"btn btn-sm",style:{background:Dp===tu.id?"#4A90E2":"#3A3A3A",color:Dp===tu.id?"#fff":"#DDD",border:Dp===tu.id?"1px solid #4A90E2":"1px solid #444",whiteSpace:"nowrap",flexShrink:0,borderRadius:"6px"},children:tu.name},tu.id))}),jsxRuntimeExports.jsx("div",{style:{flex:B1?"1 1 auto":1,overflowY:"auto",padding:"20px",fontFamily:FONT_FAMILY,display:"flex",flexDirection:"column",minHeight:0},children:Dp?(()=>{var ku;const tu=(ku=dp.modules||dp.spaces||[])==null?void 0:ku.find(Tu=>Tu.id===Dp);if(!tu)return null;const wu={};return Object.entries(K0).forEach(([Tu,_u])=>{(_u.moduleId||_u.spaceId)===Dp&&_u.categoryId&&(wu[_u.categoryId]||(wu[_u.categoryId]=[]),wu[_u.categoryId].push({..._u,id:Tu}))}),Object.keys(wu).length>0,jsxRuntimeExports.jsxs("div",{children:[!Qv&&!B1?jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"center"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>U1(!0),className:"btn btn-sm",style:{background:"#3a3a3a",color:"#ddd",border:"1px solid #444",whiteSpace:"nowrap",flexShrink:0,padding:"6px 12px",borderRadius:"6px"},children:"Select Catagory"}),jsxRuntimeExports.jsx("button",{onClick:()=>{if(!(dp!=null&&dp.id)||!Dp){alert("Please select a template and module before creating a category.");return}hs==null||hs({mode:"edit",templateId:dp.id,moduleId:Dp,startAddingCategory:!0})},className:"btn btn-sm",style:{background:"#4A90E2",color:"#fff",border:"1px solid #4A90E2",whiteSpace:"nowrap",flexShrink:0,padding:"6px 14px",borderRadius:"6px"},onMouseEnter:Tu=>{Tu.currentTarget.style.background="#5AA0F2",Tu.currentTarget.style.borderColor="#5AA0F2"},onMouseLeave:Tu=>{Tu.currentTarget.style.background="#4A90E2",Tu.currentTarget.style.borderColor="#4A90E2"},children:"Create Category"})]}):Qv?jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",alignItems:"center",paddingBottom:"12px",borderBottom:"1px solid #333"},children:[(()=>{const Tu=Object.entries(K0).filter(([ap,gp])=>(gp.moduleId||gp.spaceId)===Dp).map(([ap,gp])=>ap),tp=Tu.filter(ap=>n1[ap]===!0).length===Tu.length&&Tu.length>0;return jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:tp,onChange:ap=>{const gp={...n1};Tu.forEach(pp=>{tp?delete gp[pp]:gp[pp]=!0}),Tm(gp)},style:{cursor:"pointer"}}),jsxRuntimeExports.jsx("span",{style:{color:"#ddd",fontSize:"13px",fontWeight:"400"},children:"Select All"})]})})(),jsxRuntimeExports.jsx("div",{style:{width:"1px",height:"16px",background:"#444"}}),jsxRuntimeExports.jsx("button",{onClick:()=>{const Tu=Object.keys(n1).filter(_u=>n1[_u]);console.log("=== Copy to Spaces Button Clicked ==="),console.log("copiedItemSelection:",n1),console.log("selectedIds:",Tu),console.log("highlightAnnotations keys:",Object.keys(K0)),console.log("Checking if selected IDs exist in highlightAnnotations:"),Tu.forEach(_u=>{console.log(`  ${_u}: ${K0[_u]?"EXISTS":"NOT FOUND"}`)}),Tu.length!==0&&hm(!0)},disabled:!Object.values(n1).some(Boolean),style:{padding:0,background:"transparent",border:"none",color:Object.values(n1).some(Boolean)?"#999":"#555",fontSize:"13px",fontWeight:"400",cursor:Object.values(n1).some(Boolean)?"pointer":"not-allowed"},onMouseEnter:Tu=>{Object.values(n1).some(Boolean)&&(Tu.currentTarget.style.color="#ddd")},onMouseLeave:Tu=>{Object.values(n1).some(Boolean)&&(Tu.currentTarget.style.color="#999")},children:"Copy to Spaces"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const Tu=Object.keys(n1).filter(tp=>n1[tp]);if(Tu.length===0||!confirm(`Are you sure you want to delete ${Tu.length} item${Tu.length!==1?"s":""}?`))return;const _u=Tu.map(tp=>K0[tp]).filter(Boolean);pm(tp=>{const ap={...tp};return Tu.forEach(gp=>{delete ap[gp]}),dm&&Object.entries(ap).filter(([pp,Tp])=>Tp.spaceId===dm).length===0&&setTimeout(()=>{ov(!1),Tm({})},0),ap}),_u.forEach(tp=>{const ap=tp.pageNumber,gp=tp.bounds;ap&&gp&&hp(pp=>({...pp,[ap]:[...pp[ap]||[],gp]}))}),setTimeout(()=>{_u.forEach(tp=>{const ap=tp.pageNumber;ap&&hp(gp=>{const pp={...gp};return delete pp[ap],pp})})},100),_u.forEach(tp=>{const ap=tp.pageNumber;ap&&Zu[ap]&&Vu(gp=>{const pp=gp[ap];if(!pp||!pp.objects)return gp;const Tp=uu,Yp=pp.objects.filter(Gp=>{if(Gp.type!=="rect"||!Gp.fill||typeof Gp.fill!="string"||!Gp.fill.includes("rgba"))return!0;const Hp=(Gp.left||0)/Tp,u0=(Gp.top||0)/Tp,f0=(Gp.width||0)/Tp,qp=(Gp.height||0)/Tp,Qp=tp.bounds||{},s0=Qp.x||Qp.left||0,C0=Qp.y||Qp.top||0,x0=Qp.width||(Qp.right?Qp.right-Qp.left:0)||0,O0=Qp.height||(Qp.bottom?Qp.bottom-Qp.top:0)||0,lm=5/Tp;return!(Math.abs(Hp-s0)<lm&&Math.abs(u0-C0)<lm&&Math.abs(f0-x0)<lm&&Math.abs(qp-O0)<lm)});return{...gp,[ap]:{...pp,objects:Yp}}})}),_u.forEach(tp=>{const ap=getCategoryName(dp,tp.spaceId,tp.categoryId),gp=Object.values(J0).find(pp=>pp.name===tp.name&&pp.itemType===ap);if(gp){T1(Hp=>{const u0={...Hp};return Object.values(u0).forEach(f0=>{f0.itemId===gp.itemId&&f0.spaceId===tp.spaceId&&delete u0[f0.annotationId]}),u0});const pp=tp.moduleId||tp.spaceId,Tp=getModuleName(dp,pp),Yp=getModuleDataKey(Tp),Gp=J0[gp.itemId];if(Gp){const Hp={...Gp};delete Hp[Yp];const f0=((dp==null?void 0:dp.modules)||(dp==null?void 0:dp.spaces)||[]).some(qp=>{const Qp=qp.id;if(Qp===pp)return!1;const s0=getModuleName(dp,Qp),C0=getModuleDataKey(s0);return Hp[C0]&&Object.keys(Hp[C0]).length>0});Ym(f0?qp=>({...qp,[gp.itemId]:Hp}):qp=>{const Qp={...qp};return delete Qp[gp.itemId],Qp})}}}),Tm({})},disabled:!Object.values(n1).some(Boolean),style:{padding:0,background:"transparent",border:"none",color:Object.values(n1).some(Boolean)?"#cc4444":"#555",fontSize:"13px",fontWeight:"400",cursor:Object.values(n1).some(Boolean)?"pointer":"not-allowed"},onMouseEnter:Tu=>{Object.values(n1).some(Boolean)&&(Tu.currentTarget.style.color="#ff6666")},onMouseLeave:Tu=>{Object.values(n1).some(Boolean)&&(Tu.currentTarget.style.color="#cc4444")},children:"Delete"}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"auto"}}),jsxRuntimeExports.jsx("button",{onClick:()=>{ov(!1),Tm({})},style:{padding:0,background:"transparent",border:"none",color:"#999",fontSize:"13px",fontWeight:"400",cursor:"pointer"},onMouseEnter:Tu=>Tu.currentTarget.style.color="#ddd",onMouseLeave:Tu=>Tu.currentTarget.style.color="#999",children:"Cancel"})]}):null,jsxRuntimeExports.jsxs("div",{style:{marginBottom:"32px"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#fff",marginBottom:"16px",fontFamily:FONT_FAMILY},children:"Select Category to Highlight"}),B1&&tu.categories&&tu.categories.length>0&&(()=>{const _u=Object.keys(Wm).filter(tp=>Wm[tp]).length>0;return jsxRuntimeExports.jsx("div",{style:{marginBottom:"16px"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"nowrap",width:"100%"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const tp=tu.categories.map(gp=>gp.id),ap={};tp.forEach(gp=>{ap[gp]=!0}),bv(ap)},style:{flex:"1 1 0",padding:"6px 8px",background:"#3A3A3A",color:"#DDD",border:"1px solid #4A90E2",borderRadius:"6px",fontSize:"12px",fontWeight:"400",cursor:"pointer",whiteSpace:"nowrap"},onMouseEnter:tp=>{tp.currentTarget.style.background="#444"},onMouseLeave:tp=>{tp.currentTarget.style.background="#3A3A3A"},children:"Select All"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const tp=Object.keys(Wm).filter(ap=>Wm[ap]);if(tp.length===0){alert("Please select at least one category to copy.");return}alert(`Copy functionality for ${tp.length} categories to be implemented.`)},disabled:!_u,style:{flex:"1 1 0",padding:"6px 8px",background:"#3A3A3A",color:_u?"#DDD":"#666",border:"1px solid #4A90E2",borderRadius:"6px",fontSize:"12px",fontWeight:"400",cursor:_u?"pointer":"not-allowed",whiteSpace:"nowrap"},onMouseEnter:tp=>{_u&&(tp.currentTarget.style.background="#444")},onMouseLeave:tp=>{_u&&(tp.currentTarget.style.background="#3A3A3A")},children:"Copy"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const tp=Object.keys(Wm).filter(ap=>Wm[ap]);if(tp.length===0){alert("Please select at least one category to delete.");return}confirm(`Are you sure you want to delete ${tp.length} categor${tp.length!==1?"ies":"y"} and all items within?`)&&(tp.forEach(ap=>{const gp=Object.entries(K0).filter(([pp,Tp])=>(Tp.moduleId||Tp.spaceId)===Dp&&Tp.categoryId===ap);gp.forEach(([pp,Tp])=>{Tp.pageNumber&&Tp.bounds&&hp(Yp=>({...Yp,[Tp.pageNumber]:[...Yp[Tp.pageNumber]||[],Tp.bounds]}))}),pm(pp=>{const Tp={...pp};return gp.forEach(([Yp])=>{delete Tp[Yp]}),Tp}),deleteCategory(Dp,ap)}),U1(!1),uv(null),bv({}))},disabled:!_u,style:{flex:"1 1 0",padding:"6px 8px",background:"#3A3A3A",color:_u?"#cc4444":"#666",border:"1px solid #cc4444",borderRadius:"6px",fontSize:"12px",fontWeight:"400",cursor:_u?"pointer":"not-allowed",whiteSpace:"nowrap"},onMouseEnter:tp=>{_u&&(tp.currentTarget.style.background="#444",tp.currentTarget.style.color="#ff6666")},onMouseLeave:tp=>{_u&&(tp.currentTarget.style.background="#3A3A3A",tp.currentTarget.style.color="#cc4444")},children:"Delete"}),jsxRuntimeExports.jsx("button",{onClick:()=>{U1(!1),uv(null),bv({})},style:{flex:"1 1 0",padding:"6px 8px",background:"#3A3A3A",color:"#DDD",border:"1px solid #4A90E2",borderRadius:"6px",fontSize:"12px",fontWeight:"400",cursor:"pointer",whiteSpace:"nowrap"},onMouseEnter:tp=>{tp.currentTarget.style.background="#444"},onMouseLeave:tp=>{tp.currentTarget.style.background="#3A3A3A"},children:"Cancel"})]})})})(),tu.categories&&tu.categories.length>0?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:B1?"12px":"8px"},children:tu.categories.map(Tu=>{const _u=wu[Tu.id]||[],tp=_u.length,ap=am[Tu.id],gp=ap||Uv===Tu.id,Tp=_u.filter(m0=>n1[m0.id]===!0).length===_u.length&&_u.length>0,Yp=Wm[Tu.id]===!0,Gp=B1,Hp=Gp&&Yp||Uv===Tu.id,u0=Hp?"#4A90E2":"#333",qp=`1px solid ${Hp?"#4A90E2":"#444"}`,Qp=Hp?"#fff":"#ddd",s0=Hp?"#ddd":"#999",C0=Qv||Gp?"none":qp,x0=v0[Tu.id]===!0,O0=ax[Tu.id]||{},lm=Object.values(O0).filter(Boolean).length,Rm=lm===tp&&tp>0;return jsxRuntimeExports.jsxs("div",{style:{marginBottom:B1?"0":"8px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:Gp?"12px":"8px",alignItems:"center"},children:[Qv&&jsxRuntimeExports.jsx("label",{style:{display:"flex",alignItems:"center",padding:"0 8px",cursor:"pointer",border:"1px solid #444",borderRadius:"6px 0 0 6px",background:"#333",userSelect:"none"},children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Tp,onChange:m0=>{const M0={...n1};_u.forEach(r0=>{Tp?delete M0[r0.id]:M0[r0.id]=!0}),Tm(M0)},onClick:m0=>m0.stopPropagation(),style:{cursor:"pointer",flexShrink:0}})}),Gp?jsxRuntimeExports.jsxs("div",{onClick:m0=>{m0.stopPropagation(),bv(M0=>({...M0,[Tu.id]:!M0[Tu.id]}))},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:Yp?"#4A90E2":"#3A3A3A",borderRadius:"6px",cursor:"pointer",flex:1,marginBottom:"8px"},onMouseEnter:m0=>{Yp||(m0.currentTarget.style.background="#444")},onMouseLeave:m0=>{Yp||(m0.currentTarget.style.background="#3A3A3A")},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Yp,onChange:m0=>{m0.stopPropagation(),bv(M0=>({...M0,[Tu.id]:m0.target.checked}))},onClick:m0=>m0.stopPropagation(),style:{cursor:"pointer",flexShrink:0,width:"18px",height:"18px",accentColor:"#4A90E2",margin:0}}),jsxRuntimeExports.jsx("div",{style:{fontWeight:"500",fontSize:"14px",color:Yp?"#fff":"#DDD",flex:1},children:Tu.name||"Untitled Category"})]}):jsxRuntimeExports.jsxs("div",{style:{display:"flex",flex:1,alignItems:"stretch"},children:[jsxRuntimeExports.jsxs("button",{onClick:m0=>{m0.stopPropagation(),!Qv&&(Jv(Tu.id),Ru(!1),kp("highlight"))},className:"btn btn-default btn-md",style:{textAlign:"left",justifyContent:"flex-start",padding:"8px 16px",background:u0,borderTop:qp,borderBottom:qp,borderLeft:C0,borderRight:tp>0?"none":qp,color:Qp,flex:1,borderRadius:tp>0?"6px 0 0 6px":"6px"},children:[jsxRuntimeExports.jsx("div",{style:{fontWeight:"500"},children:Tu.name||"Untitled Category"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",color:s0,marginTop:"4px"},children:tp})]}),tp>0&&jsxRuntimeExports.jsx("button",{className:"dropdown-arrow",onClick:m0=>{m0.stopPropagation(),x1(M0=>({...M0,[Tu.id]:!M0[Tu.id]}))},style:{padding:"2px 12px",background:gp?"#4A90E2":"#555",borderTop:qp,borderRight:qp,borderBottom:qp,borderLeft:"none",borderRadius:"0 6px 6px 0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s ease, border-color 0.2s ease"},children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"14px",height:"14px",transform:ap?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:jsxRuntimeExports.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),ap&&tp>0&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"8px",padding:"12px",background:"#1b1b1b",border:"1px solid #444",borderRadius:"6px"},children:[!x0&&!B1&&!Qv&&jsxRuntimeExports.jsx("button",{onClick:()=>{Iv(m0=>({...m0,[Tu.id]:!0})),hv(m0=>({...m0,[Tu.id]:{}}))},className:"btn btn-sm",style:{marginBottom:"12px",background:"#3a3a3a",color:"#ddd",border:"1px solid #444",whiteSpace:"nowrap"},children:"Select Item"}),x0&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"12px",padding:"12px",background:"#2a2a2a",border:"1px solid #555",borderRadius:"6px",display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Rm,onChange:m0=>{const M0={};_u.forEach(r0=>{M0[r0.id]=m0.target.checked}),hv(r0=>({...r0,[Tu.id]:M0}))},style:{cursor:"pointer"}}),jsxRuntimeExports.jsx("span",{style:{color:"#ddd",fontSize:"13px",fontWeight:"400"},children:"Select All Items"})]}),jsxRuntimeExports.jsx("div",{style:{width:"1px",height:"16px",background:"#444"}}),jsxRuntimeExports.jsx("button",{onClick:()=>{const m0={};_u.forEach(M0=>{m0[M0.id]=!0}),hv(M0=>({...M0,[Tu.id]:m0}))},style:{padding:"4px 12px",background:"transparent",border:"none",color:"#999",fontSize:"13px",fontWeight:"400",cursor:"pointer"},onMouseEnter:m0=>m0.currentTarget.style.color="#ddd",onMouseLeave:m0=>m0.currentTarget.style.color="#999",children:"Select All"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const m0=Object.keys(O0).filter(r0=>O0[r0]);if(m0.length===0){alert("Please select at least one item to delete.");return}if(!confirm(`Are you sure you want to delete ${m0.length} item${m0.length!==1?"s":""}?`))return;m0.forEach(r0=>{const I0=K0[r0];if(I0&&(I0.pageNumber&&I0.bounds&&hp(gm=>({...gm,[I0.pageNumber]:[...gm[I0.pageNumber]||[],I0.bounds]})),pm(gm=>{const km={...gm};return delete km[r0],km}),dp&&I0)){const gm=I0.moduleId||I0.spaceId,km=getCategoryName(dp,gm,I0.categoryId),Im=Object.values(J0).find(xy=>xy.name===I0.name&&xy.itemType===km);if(Im){T1(nv=>{const ny={...nv};return Object.values(ny).forEach(m1=>{m1.itemId===Im.itemId&&m1.spaceId===I0.spaceId&&m1.pdfCoordinates&&I0.bounds&&yy(m1.pdfCoordinates,I0.bounds)&&delete ny[m1.annotationId]}),ny});const xy=getModuleName(dp,gm),by=getModuleDataKey(xy),Kv=J0[Im.itemId];if(Kv){const nv={...Kv};delete nv[by];const m1=((dp==null?void 0:dp.modules)||(dp==null?void 0:dp.spaces)||[]).some(_v=>{const Mv=_v.id;if(Mv===gm)return!1;const gv=getModuleName(dp,Mv),Nv=getModuleDataKey(gv);return nv[Nv]&&Object.keys(nv[Nv]).length>0});Ym(m1?_v=>({..._v,[Im.itemId]:nv}):_v=>{const Mv={..._v};return delete Mv[Im.itemId],Mv})}}}}),_u.filter(r0=>!m0.includes(r0.id)).length===0?(Iv(r0=>{const I0={...r0};return delete I0[Tu.id],I0}),hv(r0=>{const I0={...r0};return delete I0[Tu.id],I0})):hv(r0=>{const I0={...r0};return I0[Tu.id]={},I0})},disabled:lm===0,style:{padding:"4px 12px",background:"transparent",border:"none",color:lm>0?"#dc3545":"#555",fontSize:"13px",fontWeight:"400",cursor:lm>0?"pointer":"not-allowed"},onMouseEnter:m0=>{lm>0&&(m0.currentTarget.style.color="#ff4444")},onMouseLeave:m0=>{lm>0&&(m0.currentTarget.style.color="#dc3545")},children:"Delete Item"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const m0=Object.keys(O0).filter(M0=>O0[M0]);if(m0.length===0){alert("Please select at least one item to copy.");return}Tm(M0=>{const r0={...M0};return m0.forEach(I0=>{r0[I0]=!0}),r0}),hm(!0)},disabled:lm===0,style:{padding:"4px 12px",background:"transparent",border:"none",color:lm>0?"#999":"#555",fontSize:"13px",fontWeight:"400",cursor:lm>0?"pointer":"not-allowed"},onMouseEnter:m0=>{lm>0&&(m0.currentTarget.style.color="#ddd")},onMouseLeave:m0=>{lm>0&&(m0.currentTarget.style.color="#999")},children:"Copy Item"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Iv(m0=>{const M0={...m0};return delete M0[Tu.id],M0}),hv(m0=>{const M0={...m0};return delete M0[Tu.id],M0})},style:{padding:"4px 12px",background:"transparent",border:"none",color:"#999",fontSize:"13px",fontWeight:"400",cursor:"pointer",marginLeft:"auto"},onMouseEnter:m0=>m0.currentTarget.style.color="#ddd",onMouseLeave:m0=>m0.currentTarget.style.color="#999",children:"Cancel"})]}),_u.map((m0,M0)=>{var xy,by,Kv,nv,ny,m1,_v,Mv,gv,Nv,Yv,v1;const r0=m0.id,I0=Fy[r0],km=`${((xy=Tu==null?void 0:Tu.name)==null?void 0:xy.trim())||"Untitled Category"} ${M0+1}`,Im=((by=K0[r0])==null?void 0:by.name)||m0.name||km;return jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px",background:"#2a2a2a",border:"1px solid #444",borderRadius:"6px",overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(Qv||x0)&&jsxRuntimeExports.jsx("input",{type:"checkbox",checked:x0?O0[r0]===!0:n1[r0]===!0,onChange:V0=>{x0?hv(mm=>({...mm,[Tu.id]:{...mm[Tu.id]||{},[r0]:V0.target.checked}})):(console.log("Checkbox changed:",{highlightId:r0,checked:V0.target.checked,highlight:m0,"highlight.id":m0.id}),Tm(mm=>{const Hm={...mm};return V0.target.checked?Hm[r0]=!0:delete Hm[r0],console.log("Updated selection:",Hm),Hm}))},onClick:V0=>V0.stopPropagation(),style:{cursor:"pointer",flexShrink:0}}),jsxRuntimeExports.jsxs("button",{onClick:()=>{L1(V0=>({...V0,[r0]:!V0[r0]}))},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",background:"transparent",border:"none",cursor:"pointer",textAlign:"left"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[(()=>{let V0=null;if(dp&&Dp){const mm=K0[r0],Hm=getCategoryName(dp,Dp,Tu.id),X1=(mm==null?void 0:mm.name)||m0.name||"",Ry=Object.values(J0).find(k1=>k1.name===X1&&k1.itemType===Hm);if(Ry){const k1=getModuleName(dp,Dp),Av=getModuleDataKey(k1),N1=(Ry[Av]||{}).ballInCourtEntityId||(mm==null?void 0:mm.ballInCourtEntityId);if(N1){const iy=((dp==null?void 0:dp.ballInCourtEntities)||[]).find(u1=>u1.id===N1);iy&&iy.color&&(V0=getHexFromColor(iy.color))}}}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:V0&&jsxRuntimeExports.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:V0,flexShrink:0}})})})(),(Kv=K0[r0])!=null&&Kv.editingName?jsxRuntimeExports.jsx("input",{type:"text",value:((nv=K0[r0])==null?void 0:nv.name)||"",onChange:V0=>{pm(mm=>({...mm,[m0.id]:{...mm[m0.id],name:V0.target.value}}))},onBlur:()=>{pm(V0=>({...V0,[m0.id]:{...V0[m0.id],editingName:!1}}))},onKeyDown:V0=>{V0.key==="Enter"?V0.target.blur():V0.key==="Escape"&&(pm(mm=>{var Hm;return{...mm,[m0.id]:{...mm[m0.id],editingName:!1,name:((Hm=mm[m0.id])==null?void 0:Hm.name)||km}}}),V0.target.blur())},onClick:V0=>V0.stopPropagation(),autoFocus:!0,style:{flex:1,padding:"4px 8px",background:"#333",color:"#fff",border:"1px solid #4A90E2",borderRadius:"4px",fontSize:"12px",fontFamily:FONT_FAMILY,outline:"none"}}):jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",color:"#999",fontWeight:(ny=K0[r0])!=null&&ny.name?"500":"400"},children:Im})]}),jsxRuntimeExports.jsx("span",{style:{marginLeft:"8px",display:"flex",alignItems:"center",transition:"transform 0.2s ease",transform:I0?"rotate(180deg)":"rotate(0deg)"},children:jsxRuntimeExports.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"14px",height:"14px"},children:jsxRuntimeExports.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!((m1=K0[r0])!=null&&m1.editingName)&&jsxRuntimeExports.jsx("button",{onClick:V0=>{V0.stopPropagation(),pm(mm=>({...mm,[m0.id]:{...mm[m0.id],editingName:!0}}))},style:{background:"transparent",border:"none",color:"#999",cursor:"pointer",padding:"8px",fontSize:"12px",opacity:.7,flexShrink:0},onMouseEnter:V0=>V0.currentTarget.style.opacity="1",onMouseLeave:V0=>V0.currentTarget.style.opacity="0.7",title:"Rename highlight",children:""}),jsxRuntimeExports.jsxs("button",{onClick:V0=>{V0.stopPropagation();const mm=K0[r0],Hm=mm==null?void 0:mm.note;console.log("Opening item-level note dialog:",{highlightId:r0,existingNote:Hm}),V1(Hm?{text:Hm.text||"",photos:Hm.photos||[],videos:Hm.videos||[]}:{text:"",photos:[],videos:[]}),j0(r0)},style:{background:"transparent",border:"none",color:(Mv=(_v=K0[r0])==null?void 0:_v.note)!=null&&Mv.text?"#4A90E2":"#999",cursor:"pointer",padding:"8px",fontSize:"12px",opacity:.7,flexShrink:0},onMouseEnter:V0=>V0.currentTarget.style.opacity="1",onMouseLeave:V0=>V0.currentTarget.style.opacity="0.7",title:(Nv=(gv=K0[r0])==null?void 0:gv.note)!=null&&Nv.text?"Edit item notes":"Add item notes",children:["Notes ",(v1=(Yv=K0[r0])==null?void 0:Yv.note)!=null&&v1.text?"":""]})]}),I0&&dp&&Dp&&(()=>{const V0=K0[r0],mm=getCategoryName(dp,Dp,Tu.id),Hm=(V0==null?void 0:V0.name)||m0.name||"",X1=Object.values(J0).find(iv=>iv.name===Hm&&iv.itemType===mm),Ry=getModuleName(dp,Dp),k1=getModuleDataKey(Ry),Av=(X1==null?void 0:X1[k1])||{},Xv=Av.ballInCourtEntityId||(V0==null?void 0:V0.ballInCourtEntityId),N1=(dp==null?void 0:dp.ballInCourtEntities)||[];return jsxRuntimeExports.jsx("div",{style:{padding:"12px",background:"#333",borderTop:"1px solid #444",marginTop:"0"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"6px",flexWrap:"wrap"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#DDD",fontSize:"14px",flex:"1",minWidth:"200px"},children:"Ball in Court:"}),jsxRuntimeExports.jsxs("select",{value:Xv||"",onChange:iv=>{iv.stopPropagation();const iy=iv.target.value,u1=iy?N1.find(Lv=>Lv.id===iy):null;if(console.log("Ball in Court dropdown changed:",{entityId:iy,entity:u1,matchingItem:X1,highlightId:r0,highlightData:V0}),pm(Lv=>{const Tv={...Lv,[r0]:{...Lv[r0],ballInCourtEntityId:u1==null?void 0:u1.id,ballInCourtEntityName:u1==null?void 0:u1.name,ballInCourtColor:u1==null?void 0:u1.color}};return console.log("Updated highlight annotation:",Tv[r0]),Tv}),X1)if(u1){const Lv={...X1,[k1]:{...Av,ballInCourtEntityId:u1.id,ballInCourtEntityName:u1.name,ballInCourtColor:u1.color}};Ym(Tv=>({...Tv,[X1.itemId]:Lv})),T1(Tv=>{const jm={...Tv};return Object.values(jm).forEach(P1=>{P1.itemId===X1.itemId&&P1.spaceId===dm&&(jm[P1.annotationId]={...P1,ballInCourtEntityId:u1.id,ballInCourtEntityName:u1.name,ballInCourtColor:u1.color})}),jm})}else{const Lv={...X1,[k1]:{...Av,ballInCourtEntityId:void 0,ballInCourtEntityName:void 0,ballInCourtColor:void 0}};Ym(Tv=>({...Tv,[X1.itemId]:Lv})),T1(Tv=>{const jm={...Tv};return Object.values(jm).forEach(P1=>{P1.itemId===X1.itemId&&P1.spaceId===dm&&(jm[P1.annotationId]={...P1,ballInCourtEntityId:void 0,ballInCourtEntityName:void 0,ballInCourtColor:void 0})}),jm})}},onClick:iv=>iv.stopPropagation(),style:{padding:"6px 10px",fontSize:"13px",background:"#141414",color:"#ddd",border:"1px solid #2f2f2f",borderRadius:"4px",outline:"none",cursor:"pointer",minWidth:"150px"},children:[jsxRuntimeExports.jsx("option",{value:"",children:"None"}),N1.map(iv=>jsxRuntimeExports.jsx("option",{value:iv.id,children:iv.name},iv.id))]})]})})})(),I0&&Tu.checklist&&Tu.checklist.map(V0=>{var X1,Ry;const Hm=(((Ry=(X1=K0[r0])==null?void 0:X1.checklistResponses)==null?void 0:Ry[V0.id])||{}).selection;return jsxRuntimeExports.jsx("div",{style:{padding:"12px",background:"#333",borderTop:"1px solid #444",marginTop:"0"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"6px",flexWrap:"wrap"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#DDD",fontSize:"14px",flex:"1",minWidth:"200px"},children:V0.text}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"6px",flexShrink:0},children:["Y","N","N/A"].map(k1=>jsxRuntimeExports.jsx("button",{type:"button",onClick:Av=>{Av.stopPropagation(),pm(Xv=>{var iy,u1,Lv;const N1={...Xv,[r0]:{...Xv[r0],checklistResponses:{...(iy=Xv[r0])==null?void 0:iy.checklistResponses,[V0.id]:{...(Lv=(u1=Xv[r0])==null?void 0:u1.checklistResponses)==null?void 0:Lv[V0.id],selection:k1}}}},iv=N1[r0];if(iv&&Tu.checklist&&Tu.checklist.length>0&&dp&&dm){const Tv=Tu.checklist.every(Vy=>{var Zv;const E1=(Zv=iv.checklistResponses)==null?void 0:Zv[Vy.id],Zm=E1==null?void 0:E1.selection;return Zm==="Y"||Zm==="N/A"}),jm=N1[r0],P1=getCategoryName(dp,Dp,Tu.id),qy=(jm==null?void 0:jm.name)||m0.name||"",Bv=Object.values(J0).find(Vy=>Vy.name===qy&&Vy.itemType===P1),jx=getModuleName(dp,Dp),Mx=getModuleDataKey(jx),_b=(Bv==null?void 0:Bv[Mx])||{};if(Tv){const E1=(dp.ballInCourtEntities||[]).find(Zm=>Zm.name.toLowerCase().includes("complete"));if(E1){const Zm=normalizeHighlightColor(E1.color)||E1.color||hexToRgba("#E3D1FB",DEFAULT_SURVEY_HIGHLIGHT_OPACITY);if(Bv){const Zv={...Bv,[Mx]:{..._b,ballInCourtEntityId:E1.id,ballInCourtEntityName:E1.name,ballInCourtColor:Zm}};Ym(lv=>({...lv,[Bv.itemId]:Zv})),T1(lv=>{const ky={...lv};return Object.values(ky).forEach(wy=>{const Py=wy.moduleId||wy.spaceId;wy.itemId===Bv.itemId&&Py===Dp&&(ky[wy.annotationId]={...wy,ballInCourtEntityId:E1.id,ballInCourtEntityName:E1.name,ballInCourtColor:Zm})}),ky}),jm!=null&&jm.pageNumber&&(jm!=null&&jm.bounds)&&Ju(lv=>{const wy=(lv[jm.pageNumber]||[]).filter(Py=>{const A2=Py.highlightId===r0,T2=Py.x===jm.bounds.x&&Py.y===jm.bounds.y&&Py.width===jm.bounds.width&&Py.height===jm.bounds.height;return!A2&&!T2});return{...lv,[jm.pageNumber]:[...wy,{...jm.bounds,color:Zm,highlightId:r0}]}})}N1[r0]={...N1[r0],ballInCourtEntityId:E1.id,ballInCourtEntityName:E1.name,ballInCourtColor:Zm}}}else{if(Bv){const Vy={...Bv,[Mx]:{..._b,ballInCourtEntityId:void 0,ballInCourtEntityName:void 0,ballInCourtColor:void 0}};Ym(E1=>({...E1,[Bv.itemId]:Vy})),T1(E1=>{const Zm={...E1};return Object.values(Zm).forEach(Zv=>{Zv.itemId===Bv.itemId&&Zv.spaceId===dm&&(Zm[Zv.annotationId]={...Zv,ballInCourtEntityId:void 0,ballInCourtEntityName:void 0,ballInCourtColor:void 0})}),Zm}),jm!=null&&jm.pageNumber&&(jm!=null&&jm.bounds)&&Ju(E1=>{const Zv=(E1[jm.pageNumber]||[]).filter(lv=>{const ky=lv.highlightId===r0,wy=lv.x===jm.bounds.x&&lv.y===jm.bounds.y&&lv.width===jm.bounds.width&&lv.height===jm.bounds.height;return!ky&&!wy});return{...E1,[jm.pageNumber]:[...Zv,{...jm.bounds,needsBIC:!0,highlightId:r0}]}})}N1[r0]={...N1[r0],ballInCourtEntityId:void 0,ballInCourtEntityName:void 0,ballInCourtColor:void 0}}}return N1})},style:{minWidth:"36px",padding:"6px 10px",fontSize:"13px",fontWeight:"500",border:"none",borderRadius:"4px",cursor:"pointer",background:Hm===k1?k1==="Y"?"#B8E6D4":k1==="N"?"#FFB3BA":"#777":"#D3D3D3",color:Hm===k1?"#FFFFFF":"#333333",transition:"all 0.2s ease"},children:k1},k1))})]})},V0.id)})]},m0.id)})]})]},Tu.id)})}):jsxRuntimeExports.jsxs("div",{style:{color:"#999",fontSize:"14px",padding:"20px",textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{children:"No categories available for this space."}),dp&&Dp&&jsxRuntimeExports.jsx("button",{type:"button",onClick:Tu=>{if(Tu.stopPropagation(),!(dp!=null&&dp.id)||!Dp){alert("Please select a template and module before creating a category.");return}hs==null||hs({mode:"edit",templateId:dp.id,moduleId:Dp,startAddingCategory:!0})},style:{marginTop:"12px",padding:"10px 18px",borderRadius:"20px",border:"1px solid #4A90E2",background:"#2a2a2a",color:"#FFFFFF",fontSize:"13px",fontWeight:500,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"background 0.2s ease, border-color 0.2s ease"},onMouseEnter:Tu=>{Tu.currentTarget.style.background="#3a3a3a",Tu.currentTarget.style.borderColor="#5AA0F2"},onMouseLeave:Tu=>{Tu.currentTarget.style.background="#2a2a2a",Tu.currentTarget.style.borderColor="#4A90E2"},children:"Create Category"})]})]})]})})():jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:jsxRuntimeExports.jsx("p",{children:"Select a space to view categories"})})}),B1&&jsxRuntimeExports.jsx("div",{style:{padding:"20px",borderTop:"1px solid #444",background:"#333",display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Gm,style:{background:"#4A90E2",border:"1px solid #3277c7",color:"#fff",fontSize:"12px",fontWeight:600,padding:"6px 12px",borderRadius:"6px",textTransform:"uppercase",letterSpacing:"0.08em",cursor:"pointer",whiteSpace:"nowrap",width:"100%"},children:"EXPORT"})})]})]})}),Pv&&dp&&Dp&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>t1(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:10001,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:tu=>tu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",maxHeight:"80vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Categorize Highlight"}),jsxRuntimeExports.jsx("button",{onClick:()=>t1(null),className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsx("p",{style:{color:"#999",fontSize:"14px",marginBottom:"20px"},children:"Select a category for this highlighted item:"}),(()=>{var wu;const tu=(wu=dp.modules||dp.spaces||[])==null?void 0:wu.find(ku=>ku.id===Dp);return!tu||!tu.categories||tu.categories.length===0?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:jsxRuntimeExports.jsx("p",{children:"No categories available for this module."})}):jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:tu.categories.map(ku=>jsxRuntimeExports.jsxs("button",{onClick:()=>{((dp==null?void 0:dp.ballInCourtEntities)||[]).length>0?Fm({highlight:Pv,categoryId:ku.id}):(bm({highlight:Pv,categoryId:ku.id}),vm("")),t1(null)},className:"btn btn-default btn-md",style:{textAlign:"left",justifyContent:"flex-start",padding:"12px 16px",background:"#333",border:"1px solid #444"},children:[jsxRuntimeExports.jsx("div",{style:{fontWeight:"500",color:"#fff"},children:ku.name||"Untitled Category"}),ku.checklist&&ku.checklist.length>0&&jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[ku.checklist.length," checklist item",ku.checklist.length!==1?"s":""]})]},ku.id))})})()]})})}),b1&&dp&&Dp&&(()=>{const tu=dp.ballInCourtEntities||[];return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>{bm({highlight:b1.highlight,categoryId:b1.categoryId}),Fm(null),vm("")},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:10003,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:wu=>wu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Ball in Court"}),jsxRuntimeExports.jsx("button",{onClick:()=>{bm({highlight:b1.highlight,categoryId:b1.categoryId}),Fm(null),vm("")},className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",color:"#999",marginBottom:"16px"},children:"Select the entity responsible for this highlight:"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"400px",overflowY:"auto"},children:tu.map(wu=>jsxRuntimeExports.jsxs("button",{onClick:()=>{const ku=normalizeHighlightColor(wu.color)||wu.color||hexToRgba("#E3D1FB",DEFAULT_SURVEY_HIGHLIGHT_OPACITY);pm(Tu=>({...Tu,[b1.highlight.id]:{...b1.highlight,categoryId:b1.categoryId,ballInCourtEntityId:wu.id,ballInCourtEntityName:wu.name,ballInCourtColor:ku,checklistResponses:{}}})),Ju(Tu=>{const tp=(Tu[b1.highlight.pageNumber]||[]).filter(ap=>ap.highlightId!==b1.highlight.id);return{...Tu,[b1.highlight.pageNumber]:[...tp,{...b1.highlight.bounds,color:ku,highlightId:b1.highlight.id,moduleId:b1.highlight.moduleId||Dp}]}}),bm({highlight:{...b1.highlight,ballInCourtEntityId:wu.id,ballInCourtEntityName:wu.name,ballInCourtColor:ku},categoryId:b1.categoryId}),Fm(null),vm("")},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#333",border:"1px solid #444",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},onMouseEnter:ku=>{ku.currentTarget.style.background="#3a3a3a",ku.currentTarget.style.borderColor="#555"},onMouseLeave:ku=>{ku.currentTarget.style.background="#333",ku.currentTarget.style.borderColor="#444"},children:[jsxRuntimeExports.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",background:wu.color,border:"1px solid rgba(255, 255, 255, 0.2)",flexShrink:0}}),jsxRuntimeExports.jsx("span",{style:{color:"#fff",fontSize:"14px",fontWeight:"500",fontFamily:FONT_FAMILY},children:wu.name})]},wu.id))})]})})})})(),B0&&dp&&Dp&&(()=>{var tp,ap,gp;const tu=(tp=dp.modules||dp.spaces||[])==null?void 0:tp.find(pp=>pp.id===Dp),wu=(ap=tu==null?void 0:tu.categories)==null?void 0:ap.find(pp=>pp.id===B0.categoryId),ku=((gp=wu==null?void 0:wu.name)==null?void 0:gp.trim())||"Untitled Category",Tu=Object.values(K0).filter(pp=>pp.categoryId===B0.categoryId),_u=generateDefaultHighlightName(ku,Tu);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>{const pp={...B0.highlight,categoryId:B0.categoryId,name:_u,checklistResponses:{}};pm(Yp=>({...Yp,[B0.highlight.id]:pp}));const Tp=pp.ballInCourtColor?normalizeHighlightColor(pp.ballInCourtColor)||pp.ballInCourtColor:"rgba(255, 193, 7, 1.0)";Ju(Yp=>{const Hp=(Yp[B0.highlight.pageNumber]||[]).filter(u0=>u0.highlightId!==B0.highlight.id);return{...Yp,[B0.highlight.pageNumber]:[...Hp,{...B0.highlight.bounds,color:Tp,highlightId:B0.highlight.id,moduleId:B0.highlight.moduleId||Dp}]}}),bm(null),vm(""),Ru(!0)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:10002,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:pp=>pp.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Name Highlight"}),jsxRuntimeExports.jsx("button",{onClick:()=>{var Yp,Gp;const pp={...B0.highlight,categoryId:B0.categoryId,name:_u,checklistResponses:{}};if(pm(Hp=>({...Hp,[B0.highlight.id]:pp})),pp.ballInCourtEntityId&&dp&&Dp){const Hp=getCategoryName(dp,Dp,B0.categoryId),u0=getModuleName(dp,Dp),f0=getModuleDataKey(u0),qp=Object.values(J0).find(Qp=>Qp.name===_u&&Qp.itemType===Hp);if(qp){const Qp=qp[f0]||{},s0=(Yp=dp.ballInCourtEntities)==null?void 0:Yp.find(C0=>C0.id===pp.ballInCourtEntityId);s0&&Ym(C0=>({...C0,[qp.itemId]:{...qp,[f0]:{...Qp,ballInCourtEntityId:s0.id,ballInCourtEntityName:s0.name,ballInCourtColor:s0.color}}}))}else{const Qp=createItem(dp,Dp,B0.categoryId,_u,1),s0=(Gp=dp.ballInCourtEntities)==null?void 0:Gp.find(x0=>x0.id===pp.ballInCourtEntityId);s0&&(Qp[f0]={ballInCourtEntityId:s0.id,ballInCourtEntityName:s0.name,ballInCourtColor:s0.color}),Ym(x0=>({...x0,[Qp.itemId]:Qp}));const C0=createAnnotation(B0.highlight.bounds,"highlight",dp,dm,Qp.itemId,Hp);s0&&(C0.ballInCourtEntityId=s0.id,C0.ballInCourtEntityName=s0.name,C0.ballInCourtColor=s0.color),T1(x0=>({...x0,[C0.annotationId]:C0}))}}const Tp=pp.ballInCourtColor?normalizeHighlightColor(pp.ballInCourtColor)||pp.ballInCourtColor:"rgba(255, 193, 7, 1.0)";Ju(Hp=>{const f0=(Hp[B0.highlight.pageNumber]||[]).filter(qp=>qp.highlightId!==B0.highlight.id);return{...Hp,[B0.highlight.pageNumber]:[...f0,{...B0.highlight.bounds,color:Tp,highlightId:B0.highlight.id,moduleId:B0.highlight.moduleId||Dp}]}}),bm(null),vm(""),Ru(!0)},className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsxs("p",{style:{color:"#999",fontSize:"14px",marginBottom:"16px"},children:["Category: ",jsxRuntimeExports.jsx("strong",{style:{color:"#fff"},children:(wu==null?void 0:wu.name)||"Untitled Category"})]}),jsxRuntimeExports.jsx("input",{type:"text",autoFocus:!0,value:dy||_u,onChange:pp=>vm(pp.target.value),onKeyDown:pp=>{if(pp.key==="Enter"){const Tp=(dy||_u).trim()||_u,Yp={...B0.highlight,categoryId:B0.categoryId,name:Tp,checklistResponses:{}};pm(Hp=>({...Hp,[B0.highlight.id]:Yp}));const Gp=Yp.ballInCourtColor?normalizeHighlightColor(Yp.ballInCourtColor)||Yp.ballInCourtColor:"rgba(255, 193, 7, 1.0)";Ju(Hp=>{const f0=(Hp[B0.highlight.pageNumber]||[]).filter(qp=>qp.highlightId!==B0.highlight.id);return{...Hp,[B0.highlight.pageNumber]:[...f0,{...B0.highlight.bounds,color:Gp,highlightId:B0.highlight.id,moduleId:B0.highlight.moduleId||Dp}]}}),bm(null),vm(""),Ru(!0)}else if(pp.key==="Escape"){const Tp={...B0.highlight,categoryId:B0.categoryId,name:_u,checklistResponses:{}};pm(Gp=>({...Gp,[B0.highlight.id]:Tp}));const Yp=Tp.ballInCourtColor?normalizeHighlightColor(Tp.ballInCourtColor)||Tp.ballInCourtColor:"rgba(255, 193, 7, 1.0)";Ju(Gp=>{const u0=(Gp[B0.highlight.pageNumber]||[]).filter(f0=>f0.highlightId!==B0.highlight.id);return{...Gp,[B0.highlight.pageNumber]:[...u0,{...B0.highlight.bounds,color:Yp,highlightId:B0.highlight.id,moduleId:B0.highlight.moduleId||Dp}]}}),bm(null),vm(""),Ru(!0)}},style:{width:"100%",padding:"12px 16px",background:"#1b1b1b",border:"1px solid #444",borderRadius:"6px",color:"#fff",fontSize:"14px",fontFamily:FONT_FAMILY,outline:"none",marginBottom:"16px"},placeholder:"Enter highlight name"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{var Yp,Gp;const pp={...B0.highlight,categoryId:B0.categoryId,name:_u,checklistResponses:{}};if(pm(Hp=>({...Hp,[B0.highlight.id]:pp})),pp.ballInCourtEntityId&&dp&&Dp){const Hp=getCategoryName(dp,Dp,B0.categoryId),u0=getModuleName(dp,Dp),f0=getModuleDataKey(u0),qp=Object.values(J0).find(Qp=>Qp.name===_u&&Qp.itemType===Hp);if(qp){const Qp=qp[f0]||{},s0=(Yp=dp.ballInCourtEntities)==null?void 0:Yp.find(C0=>C0.id===pp.ballInCourtEntityId);s0&&Ym(C0=>({...C0,[qp.itemId]:{...qp,[f0]:{...Qp,ballInCourtEntityId:s0.id,ballInCourtEntityName:s0.name,ballInCourtColor:s0.color}}}))}else{const Qp=createItem(dp,Dp,B0.categoryId,_u,1),s0=(Gp=dp.ballInCourtEntities)==null?void 0:Gp.find(x0=>x0.id===pp.ballInCourtEntityId);s0&&(Qp[f0]={ballInCourtEntityId:s0.id,ballInCourtEntityName:s0.name,ballInCourtColor:s0.color}),Ym(x0=>({...x0,[Qp.itemId]:Qp}));const C0=createAnnotation(B0.highlight.bounds,"highlight",dp,dm,Qp.itemId,Hp);s0&&(C0.ballInCourtEntityId=s0.id,C0.ballInCourtEntityName=s0.name,C0.ballInCourtColor=s0.color),T1(x0=>({...x0,[C0.annotationId]:C0}))}}const Tp=pp.ballInCourtColor?normalizeHighlightColor(pp.ballInCourtColor)||pp.ballInCourtColor:"rgba(255, 193, 7, 1.0)";Ju(Hp=>{const f0=(Hp[B0.highlight.pageNumber]||[]).filter(qp=>qp.highlightId!==B0.highlight.id);return{...Hp,[B0.highlight.pageNumber]:[...f0,{...B0.highlight.bounds,color:Tp,highlightId:B0.highlight.id,moduleId:B0.highlight.moduleId||Dp}]}}),bm(null),vm(""),Ru(!0)},className:"btn btn-default btn-md",style:{padding:"10px 20px"},children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{var Gp,Hp;const pp=(dy||_u).trim()||_u,Tp={...B0.highlight,categoryId:B0.categoryId,name:pp,checklistResponses:{}};if(pm(u0=>({...u0,[B0.highlight.id]:Tp})),Tp.ballInCourtEntityId&&dp&&Dp){const u0=getCategoryName(dp,Dp,B0.categoryId),f0=getModuleName(dp,Dp),qp=getModuleDataKey(f0),Qp=Object.values(J0).find(s0=>s0.name===pp&&s0.itemType===u0);if(Qp){const s0=Qp[qp]||{},C0=(Gp=dp.ballInCourtEntities)==null?void 0:Gp.find(x0=>x0.id===Tp.ballInCourtEntityId);C0&&Ym(x0=>({...x0,[Qp.itemId]:{...Qp,[qp]:{...s0,ballInCourtEntityId:C0.id,ballInCourtEntityName:C0.name,ballInCourtColor:C0.color}}}))}else{const s0=createItem(dp,dm,B0.categoryId,pp,1),C0=(Hp=dp.ballInCourtEntities)==null?void 0:Hp.find(O0=>O0.id===Tp.ballInCourtEntityId);C0&&(s0[qp]={ballInCourtEntityId:C0.id,ballInCourtEntityName:C0.name,ballInCourtColor:C0.color}),Ym(O0=>({...O0,[s0.itemId]:s0}));const x0=createAnnotation(B0.highlight.bounds,"highlight",dp,dm,s0.itemId,u0);C0&&(x0.ballInCourtEntityId=C0.id,x0.ballInCourtEntityName=C0.name,x0.ballInCourtColor=C0.color),T1(O0=>({...O0,[x0.annotationId]:x0}))}}const Yp=Tp.ballInCourtColor?normalizeHighlightColor(Tp.ballInCourtColor)||Tp.ballInCourtColor:"rgba(255, 193, 7, 1.0)";Ju(u0=>{const qp=(u0[B0.highlight.pageNumber]||[]).filter(Qp=>Qp.highlightId!==B0.highlight.id);return{...u0,[B0.highlight.pageNumber]:[...qp,{...B0.highlight.bounds,color:Yp,highlightId:B0.highlight.id,moduleId:B0.highlight.moduleId||Dp}]}}),bm(null),vm(""),Ru(!0)},className:"btn btn-primary btn-md",style:{padding:"10px 20px"},children:"Save"})]})]})})})})(),q1&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>j0(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:10001,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:tu=>tu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"600px",maxWidth:"90vw",maxHeight:"80vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Note"}),jsxRuntimeExports.jsx("button",{onClick:()=>j0(null),className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#ddd"},children:"Notes"}),jsxRuntimeExports.jsx("textarea",{value:xm.text,onChange:tu=>V1(wu=>({...wu,text:tu.target.value})),rows:6,style:{width:"100%",padding:"10px",background:"#333",color:"#ddd",border:"1px solid #555",borderRadius:"5px",fontSize:"14px",fontFamily:FONT_FAMILY,resize:"vertical"},placeholder:"Enter your notes..."})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"16px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#ddd"},children:"Photos"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:tu=>{const ku=Array.from(tu.target.files||[]).map(Tu=>new Promise(_u=>{const tp=new FileReader;tp.onload=ap=>{_u({name:Tu.name,dataUrl:ap.target.result})},tp.readAsDataURL(Tu)}));Promise.all(ku).then(Tu=>{V1(_u=>({..._u,photos:[..._u.photos,...Tu]}))})},style:{display:"none"},id:`photo-upload-${q1}`}),jsxRuntimeExports.jsx("label",{htmlFor:`photo-upload-${q1}`,className:"btn btn-secondary btn-md",style:{cursor:"pointer",display:"inline-block"},children:"Upload Photos"}),xm.photos.length>0&&jsxRuntimeExports.jsx("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"8px"},children:xm.photos.map((tu,wu)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"#333",borderRadius:"4px"},children:[jsxRuntimeExports.jsx("img",{src:tu.dataUrl,alt:tu.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"4px"}}),jsxRuntimeExports.jsx("span",{style:{flex:1,color:"#ddd",fontSize:"13px"},children:tu.name}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{V1(ku=>({...ku,photos:ku.photos.filter((Tu,_u)=>_u!==wu)}))},className:"btn btn-icon btn-icon-sm",style:{background:"#444"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:14})})]},wu))})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#ddd"},children:"Videos"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:tu=>{const ku=Array.from(tu.target.files||[]).map(Tu=>new Promise(_u=>{const tp=new FileReader;tp.onload=ap=>{_u({name:Tu.name,dataUrl:ap.target.result})},tp.readAsDataURL(Tu)}));Promise.all(ku).then(Tu=>{V1(_u=>({..._u,videos:[..._u.videos,...Tu]}))})},style:{display:"none"},id:`video-upload-${q1}`}),jsxRuntimeExports.jsx("label",{htmlFor:`video-upload-${q1}`,className:"btn btn-secondary btn-md",style:{cursor:"pointer",display:"inline-block"},children:"Upload Videos"}),xm.videos.length>0&&jsxRuntimeExports.jsx("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"8px"},children:xm.videos.map((tu,wu)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"#333",borderRadius:"4px"},children:[jsxRuntimeExports.jsx("video",{src:tu.dataUrl,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"4px"}}),jsxRuntimeExports.jsx("span",{style:{flex:1,color:"#ddd",fontSize:"13px"},children:tu.name}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{V1(ku=>({...ku,videos:ku.videos.filter((Tu,_u)=>_u!==wu)}))},className:"btn btn-icon btn-icon-sm",style:{background:"#444"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:14})})]},wu))})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>j0(null),className:"btn btn-default btn-md",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{console.log("=== NOTE SAVE CLICKED ==="),console.log("noteDialogOpen:",q1),console.log("noteDialogContent:",xm);const tu=q1;console.log("Saving item-level note for highlightId:",tu),console.log("Note text:",xm.text),console.log("Photos:",xm.photos.length),console.log("Videos:",xm.videos.length),pm(wu=>{console.log("Current highlight data:",wu[tu]);const ku=wu[tu]||{},Tu={text:xm.text,photos:xm.photos,videos:xm.videos};console.log("Saving note:",Tu);const _u={...wu,[tu]:{...ku,note:Tu}};return console.log("Updated highlight with note:",JSON.stringify(_u[tu],null,2)),g1?(saveHighlightAnnotations(g1,_u),console.log("Saved to localStorage, pdfId:",g1)):console.warn("Cannot save to localStorage: pdfId is null"),_u}),console.log("Closing dialog"),j0(null),V1({text:"",photos:[],videos:[]}),console.log("=== NOTE SAVE COMPLETE ===")},className:"btn btn-primary btn-md",children:"Save"})]})]})})}),Lm&&Lm.mode==="select"&&dp&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>Q1(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:10003,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:tu=>tu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Copy Items to Which Space?"}),jsxRuntimeExports.jsx("button",{onClick:()=>Q1(null),className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsxs("p",{style:{color:"#999",fontSize:"14px",marginBottom:"20px"},children:["Copy ",Lm.items.length," item",Lm.items.length!==1?"s":""," to:"]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:(dp.modules||dp.spaces||[]).filter(tu=>tu.id!==Lm.sourceModuleId).map(tu=>jsxRuntimeExports.jsx("button",{onClick:wu=>{var _u,tp;wu.stopPropagation(),wu.preventDefault();const ku=[],Tu=[];if(console.log("Copying items:",Lm.items),console.log("Source module:",Lm.sourceModuleId),console.log("Destination module:",tu.id),Lm.items.forEach(ap=>{const gp=K0[ap];if(console.log("Processing highlight:",ap,gp),!gp){J0[ap]&&(console.log("Found direct itemId:",ap),ku.push(ap));return}const pp=getCategoryName(dp,gp.spaceId,gp.categoryId);console.log("Category name:",pp,"Highlight name:",gp.name);const Tp=Object.values(J0).find(Yp=>Yp.name===gp.name&&Yp.itemType===pp);if(console.log("Matching item:",Tp),Tp){const Yp=Object.values(A1).find(Gp=>Gp.itemId===Tp.itemId&&Gp.spaceId===gp.spaceId);console.log("Matching annotation:",Yp),console.log("All annotations for item:",Object.values(A1).filter(Gp=>Gp.itemId===Tp.itemId)),Yp&&Tp.itemId?ku.includes(Tp.itemId)||(console.log("Adding itemId to copy:",Tp.itemId),ku.push(Tp.itemId)):(console.log("No matching annotation, but item exists - copying anyway"),ku.includes(Tp.itemId)||ku.push(Tp.itemId))}else console.log("No matching item, treating as legacy highlight"),Tu.push(gp)}),console.log("Items to copy:",ku),console.log("Legacy highlights to copy:",Tu),ku.length>0){const ap=ku.map(Tp=>J0[Tp]).filter(Boolean);if([...new Set(ap.map(Tp=>Tp.itemType))].filter(Tp=>!categoryExists(dp,tu.id,Tp)).length>0)Q1({...Lm,mode:"checklist",destModuleId:tu.id,items:ku});else{const Tp=transferItems(ku,Lm.sourceModuleId,tu.id,dp,J0,A1);Ym(Tp.newItems),T1(Tp.updatedAnnotations),console.log("Creating highlight entries for",ku.length,"items");const Yp={};ku.forEach(Gp=>{var x0;const Hp=Tp.newItems[Gp];if(console.log("Processing item for highlight creation:",Gp,Hp),!Hp){console.log("Item not found in result.newItems");return}const u0=Object.values(Tp.updatedAnnotations).find(O0=>{const lm=O0.moduleId||O0.spaceId;return O0.itemId===Gp&&lm===tu.id});console.log("Destination annotation:",u0);const f0=Object.values(A1).find(O0=>{const lm=O0.moduleId||O0.spaceId;return O0.itemId===Gp&&lm===Lm.sourceModuleId});console.log("Source annotation:",f0);let qp=null;if(f0&&f0.pdfCoordinates&&(qp=Object.values(K0).find(O0=>(O0.moduleId||O0.spaceId)===Lm.sourceModuleId&&O0.bounds&&Math.abs((O0.bounds.x||0)-(f0.pdfCoordinates.x||0))<1&&Math.abs((O0.bounds.y||0)-(f0.pdfCoordinates.y||0))<1)),!qp&&Lm.items.length>0){const O0=Lm.items.find(lm=>{const Rm=K0[lm],m0=(Rm==null?void 0:Rm.moduleId)||(Rm==null?void 0:Rm.spaceId);return Rm&&m0===Lm.sourceModuleId});O0&&(qp=K0[O0])}console.log("Source highlight:",qp);const Qp=(dp.modules||dp.spaces||[]).find(O0=>O0.id===tu.id),s0=(x0=Qp==null?void 0:Qp.categories)==null?void 0:x0.find(O0=>O0.name===Hp.itemType);console.log("Destination category:",s0);let C0=null;if(u0!=null&&u0.pdfCoordinates?C0=u0.pdfCoordinates:f0!=null&&f0.pdfCoordinates?C0=f0.pdfCoordinates:qp!=null&&qp.bounds&&(C0=qp.bounds),console.log("Bounds for highlight:",C0),C0){const O0=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;Yp[O0]={id:O0,pageNumber:(qp==null?void 0:qp.pageNumber)||1,bounds:C0,spaceId:space.id,categoryId:(s0==null?void 0:s0.id)||null,name:Hp.name||(qp==null?void 0:qp.name)||"Untitled Item",checklistResponses:{}},console.log("Created highlight:",Yp[O0])}else console.log("No bounds available, skipping highlight creation")}),Object.keys(Yp).length>0&&pm(Gp=>({...Gp,...Yp})),Q1(null)}}if(Tu.length>0){console.log("Copying legacy highlights:",Tu),console.log("To module:",tu.id,tu.name);const gp=(dp.modules||dp.spaces||[]).find(Gp=>Gp.id===Lm.sourceModuleId),pp=(_u=gp==null?void 0:gp.categories)==null?void 0:_u.find(Gp=>Gp.id===Lm.categoryId),Tp=(tp=tu.categories)==null?void 0:tp.find(Gp=>Gp.name===(pp==null?void 0:pp.name));console.log("Source category:",pp),console.log("Dest category:",Tp);const Yp={};Tu.forEach(Gp=>{const Hp=generateUUID();Yp[Hp]={...Gp,id:Hp,moduleId:tu.id,categoryId:(Tp==null?void 0:Tp.id)||null}}),console.log("New highlights to add:",Yp),pm(Gp=>({...Gp,...Yp})),ku.length===0&&Q1(null)}ku.length===0&&Tu.length===0&&(console.warn("No items found to copy. Selected IDs:",Lm.items),Q1(null))},className:"btn btn-default btn-md",style:{textAlign:"left",justifyContent:"flex-start",padding:"12px 16px",background:"#333",border:"1px solid #444"},children:jsxRuntimeExports.jsx("div",{style:{fontWeight:"500",color:"#fff"},children:tu.name||"Untitled Module"})},tu.id))})]})})}),Lm&&Lm.mode==="checklist"&&dp&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{onClick:()=>Q1(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:10004,animation:"fadeIn 0.2s ease-out",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{onClick:tu=>tu.stopPropagation(),style:{background:"#2b2b2b",border:"1px solid #444",borderRadius:"8px",padding:"24px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"fadeIn 0.2s ease-out"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff",fontFamily:FONT_FAMILY},children:"Missing Categories Detected"}),jsxRuntimeExports.jsx("button",{onClick:()=>Q1(null),className:"btn btn-icon btn-icon-sm",style:{background:"transparent",border:"none",color:"#999"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:18})})]}),jsxRuntimeExports.jsx("p",{style:{color:"#999",fontSize:"14px",marginBottom:"20px"},children:"The following categories need to be created in the destination space:"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"20px"},children:(()=>{const tu=Lm.items.map(Tu=>J0[Tu]);return[...new Set(tu.map(Tu=>Tu.itemType))].filter(Tu=>!categoryExists(dp,Lm.destSpaceId,Tu)).map(Tu=>jsxRuntimeExports.jsx("div",{style:{padding:"12px",background:"#333",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontWeight:"500"},children:Tu},Tu))})()}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const tu=transferItems(Lm.items,Lm.sourceSpaceId,Lm.destSpaceId,dp,J0,A1);Ym(tu.newItems),T1(tu.updatedAnnotations);const wu={};Lm.items.forEach(ku=>{var tp;const Tu=tu.newItems[ku];if(!Tu)return;const _u=Object.values(tu.updatedAnnotations).find(ap=>ap.itemId===ku&&ap.spaceId===Lm.destSpaceId);if(_u&&_u.pdfCoordinates){const ap=Object.values(A1).find(Gp=>Gp.itemId===ku&&Gp.spaceId===Lm.sourceSpaceId),gp=ap?Object.values(K0).find(Gp=>Gp.spaceId===Lm.sourceSpaceId&&Gp.bounds&&ap.pdfCoordinates&&Math.abs((Gp.bounds.x||0)-(ap.pdfCoordinates.x||0))<1&&Math.abs((Gp.bounds.y||0)-(ap.pdfCoordinates.y||0))<1):null,pp=(dp.modules||dp.spaces||[]).find(Gp=>Gp.id===Lm.destModuleId),Tp=(tp=pp==null?void 0:pp.categories)==null?void 0:tp.find(Gp=>Gp.name===Tu.itemType),Yp=`highlight-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;wu[Yp]={id:Yp,pageNumber:(gp==null?void 0:gp.pageNumber)||1,bounds:_u.pdfCoordinates,moduleId:Lm.destModuleId,categoryId:(Tp==null?void 0:Tp.id)||null,name:Tu.name||(gp==null?void 0:gp.name)||"Untitled Item",checklistResponses:{}}}}),Object.keys(wu).length>0&&pm(ku=>({...ku,...wu})),Q1(null)},className:"btn btn-primary btn-md",style:{flex:1},children:"Copy As-Is"}),jsxRuntimeExports.jsx("button",{onClick:()=>Q1(null),className:"btn btn-default btn-md",style:{flex:1},children:"Cancel"})]})]})})})]})}function App(){const[us,is]=reactExports.useState("dashboard"),[cs,lo]=reactExports.useState(null),[co,hs]=reactExports.useState(!1),[uo,xa]=reactExports.useState([]),ba=reactExports.useRef(null),$a="home-tab",[wl,Sl]=reactExports.useState([{id:$a,name:"Home",file:null,isHome:!0}]),[Cl,_l]=reactExports.useState($a),[Il,Fl]=reactExports.useState([]),Ml=reactExports.useCallback(cu=>{const ru=Array.isArray(cu)?cu:[];Fl(ru)},[]),{isAuthenticated:Tl,loading:Dl}=useAuth(),{showAuthModal:Bl,setShowAuthModal:Ll,handleDismiss:Nl,authPromptDismissed:zl}=useOptionalAuth();reactExports.useEffect(()=>{localStorage.removeItem("pdfDocuments")},[]),reactExports.useEffect(()=>{!Dl&&!Tl&&(localStorage.removeItem("dashboardViewMode"),localStorage.removeItem("projects"),localStorage.removeItem("templates"),localStorage.removeItem("pdfViewerZoomPreference"))},[Dl,Tl]);const $l=()=>`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Vl=cu=>{if(!cu){console.error("No file provided to handleDocumentSelect");return}const ru=wl.find(Hl=>{if(Hl.isHome||!Hl.file)return!1;const Kl=Hl.file.name===cu.name,_c=Hl.file.size===cu.size,Ql=Hl.file.path&&cu.path?Hl.file.path===cu.path:!0;return Kl&&_c&&Ql});if(ru){console.log("Switching to existing tab:",ru.id),_l(ru.id),cs!==ru.file&&lo(ru.file),is("viewer");return}const Yl={id:$l(),name:cu.name,file:cu,isHome:!1,viewState:null};Sl(Hl=>[...Hl,Yl]),_l(Yl.id),lo(cu),is("viewer"),hs(!0),setTimeout(()=>hs(!1),100)},Gl=cu=>{const ru=wl.find(Yl=>Yl.id===cu);ru&&(_l(cu),ru.isHome?is("dashboard"):(lo(ru.file),is("viewer")))},iu=reactExports.useCallback(cu=>{Sl(ru=>ru.map(Yl=>Yl.id===Cl?{...Yl,viewState:cu}:Yl))},[Cl]),nu=cu=>{if(cu===$a)return;const ru=wl.findIndex(Hl=>Hl.id===cu);if(ru===-1)return;const Yl=wl.filter(Hl=>Hl.id!==cu);if(Sl(Yl),cu===Cl)if(Yl.length>1){const Hl=Yl.filter(Kl=>!Kl.isHome);if(Hl.length>0){const Kl=Math.min(ru-1,Hl.length-1),_c=Hl[Kl>=0?Kl:0];_l(_c.id),lo(_c.file),is("viewer")}else _l($a),lo(null),is("dashboard")}else _l($a),lo(null),is("dashboard")},Jl=cu=>{const ru=cu.find(Hl=>Hl.isHome),Yl=cu.filter(Hl=>!Hl.isHome);Sl(ru?[ru,...Yl]:cu)},lu=(cu,ru,Yl)=>{console.log(`Page ${ru} from tab ${cu} dropped on tab ${Yl}`),alert(`Page ${ru} drag-and-drop functionality is being implemented. This feature requires PDF manipulation capabilities.`)},ju=()=>{_l($a),is("dashboard")},zu=cu=>{var ru,Yl,Hl,Kl;(cu==null?void 0:cu.mode)==="edit"&&cu.templateId?(Yl=(ru=ba.current)==null?void 0:ru.openEditTemplateModal)==null||Yl.call(ru,cu.templateId,{moduleId:cu.moduleId,startAddingCategory:cu.startAddingCategory}):(Kl=(Hl=ba.current)==null?void 0:Hl.openTemplateModal)==null||Kl.call(Hl)};if(co)return jsxRuntimeExports.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F5F5F5",fontFamily:FONT_FAMILY},children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(Icon,{name:"document",size:24})}),jsxRuntimeExports.jsx("div",{style:{fontSize:"16px",color:"#666"},children:"Loading document..."})]})});const Wu=wl.find(cu=>cu.id===Cl),qu=Wu&&!Wu.isHome&&cs&&us==="viewer",Mu=wl.find(cu=>cu.file===cs&&!cu.isHome),mu=Mu?Mu.id:Cl,uu=Mu?Mu.viewState:null;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[wl.length>0&&jsxRuntimeExports.jsx(TabBar,{tabs:wl,activeTabId:Cl,onTabClick:Gl,onTabClose:nu,onTabReorder:Jl,onPageDrop:lu}),jsxRuntimeExports.jsxs("div",{style:{flex:1,overflow:"hidden",position:"relative"},children:[jsxRuntimeExports.jsx(Dashboard,{ref:ba,onDocumentSelect:Vl,onBack:ju,documents:uo,setDocuments:xa,templates:Il,onTemplatesChange:Ml,onShowAuthModal:()=>Ll(!0)}),cs&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,background:"#1f1f1f",zIndex:5e3,display:qu?"block":"none"},children:jsxRuntimeExports.jsx(PDFViewer,{pdfFile:cs,onBack:ju,tabId:mu,onPageDrop:lu,onUpdatePDFFile:cu=>{Sl(ru=>ru.map(Yl=>Yl.id===mu?{...Yl,file:cu}:Yl)),lo(cu)},onRequestCreateTemplate:zu,initialViewState:uu,onViewStateChange:iu,templates:Il,onTemplatesChange:Ml})})]})]}),jsxRuntimeExports.jsx(AuthModal,{isOpen:Bl,onClose:()=>Ll(!1),onDismiss:zl?null:Nl})]})}const COLORS={background:{primary:"#1E1E1E",secondary:"#252525",tertiary:"#2b2b2b",elevated:"#3a3a3a",dark:"#141414",overlay:"rgba(0, 0, 0, 0.7)"},border:{default:"#3a3a3a",light:"#444"},text:{primary:"#FFFFFF",secondary:"#eaeaea",tertiary:"#ddd",muted:"#999",disabled:"#666"},accent:{primary:"#4A90E2",primaryHover:"#357abd"},status:{dangerText:"#d32f2f",dangerBgDark:"#3a1f1f"}},TYPOGRAPHY={fontFamily:{default:'-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", Roboto, Ubuntu, "Noto Sans", Arial, sans-serif',mono:'Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},fontSize:{sm:"11px",base:"12px",md:"13px",lg:"14px","2xl":"18px","3xl":"24px"},fontWeight:{medium:"500",semibold:"600"},lineHeight:{normal:"1.5"}},BORDERS={radius:{sm:"4px",md:"6px",lg:"8px",xl:"12px"}},SHADOWS={md:"0 4px 12px rgba(0, 0, 0, 0.15)",xl:"0 12px 36px rgba(0, 0, 0, 0.45)"};class ErrorBoundary extends React.Component{constructor(cs){super(cs);r1(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(cs){return{hasError:!0}}componentDidCatch(cs,lo){console.error("ErrorBoundary caught an error:",cs,lo),this.setState({error:cs,errorInfo:lo})}render(){return this.state.hasError?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:COLORS.background.primary,padding:"40px 20px",fontFamily:TYPOGRAPHY.fontFamily.default},children:jsxRuntimeExports.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:COLORS.background.secondary,borderRadius:BORDERS.radius.lg,padding:"32px",border:`1px solid ${COLORS.border.default}`},children:[jsxRuntimeExports.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:COLORS.status.dangerBgDark,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:32,color:COLORS.status.dangerText})}),jsxRuntimeExports.jsx("h1",{style:{margin:"0 0 12px 0",fontSize:TYPOGRAPHY.fontSize["3xl"],fontWeight:TYPOGRAPHY.fontWeight.semibold,color:COLORS.text.secondary,textAlign:"center"},children:"Oops! Something went wrong"}),jsxRuntimeExports.jsx("p",{style:{margin:"0 0 24px 0",fontSize:TYPOGRAPHY.fontSize.md,color:COLORS.text.muted,textAlign:"center",lineHeight:TYPOGRAPHY.lineHeight.normal},children:"The application encountered an unexpected error. You can try reloading the page or returning to the home screen."}),this.state.error&&jsxRuntimeExports.jsxs("details",{style:{marginBottom:"24px",padding:"16px",background:COLORS.background.dark,borderRadius:BORDERS.radius.md,border:`1px solid ${COLORS.border.default}`},children:[jsxRuntimeExports.jsx("summary",{style:{cursor:"pointer",fontSize:TYPOGRAPHY.fontSize.base,color:COLORS.text.muted,fontWeight:TYPOGRAPHY.fontWeight.medium,marginBottom:"12px",userSelect:"none"},children:"Error Details"}),jsxRuntimeExports.jsxs("pre",{style:{margin:"12px 0 0 0",padding:"12px",background:COLORS.background.primary,borderRadius:BORDERS.radius.sm,fontSize:TYPOGRAPHY.fontSize.sm,color:COLORS.status.error,overflow:"auto",maxHeight:"200px",fontFamily:TYPOGRAPHY.fontFamily.mono,whiteSpace:"pre-wrap",wordWrap:"break-word"},children:[this.state.error.toString(),this.state.errorInfo&&`

${this.state.errorInfo.componentStack}`]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:COLORS.accent.primary,color:COLORS.text.primary,border:"none",borderRadius:BORDERS.radius.md,fontSize:TYPOGRAPHY.fontSize.md,fontWeight:TYPOGRAPHY.fontWeight.medium,cursor:"pointer",fontFamily:TYPOGRAPHY.fontFamily.default,transition:"background 0.15s ease"},onMouseEnter:cs=>{cs.currentTarget.style.background=COLORS.accent.primaryHover},onMouseLeave:cs=>{cs.currentTarget.style.background=COLORS.accent.primary},children:"Reload Page"}),jsxRuntimeExports.jsx("button",{onClick:this.handleReset,style:{padding:"10px 20px",background:COLORS.background.elevated,color:COLORS.text.tertiary,border:`1px solid ${COLORS.border.default}`,borderRadius:BORDERS.radius.md,fontSize:TYPOGRAPHY.fontSize.md,fontWeight:TYPOGRAPHY.fontWeight.medium,cursor:"pointer",fontFamily:TYPOGRAPHY.fontFamily.default,transition:"all 0.15s ease"},onMouseEnter:cs=>{cs.currentTarget.style.background=COLORS.border.light},onMouseLeave:cs=>{cs.currentTarget.style.background=COLORS.background.elevated},children:"Try Again"})]})]})}):this.props.children}}function useKeyPress(us,is,cs={}){const{preventDefault:lo=!1}=cs;reactExports.useEffect(()=>{const co=hs=>{hs.key===us&&(lo&&hs.preventDefault(),is(hs))};return window.addEventListener("keydown",co),()=>{window.removeEventListener("keydown",co)}},[us,is,lo])}const KeyboardShortcutsOverlay=()=>{const[us,is]=React.useState(!1);if(useKeyPress("?",()=>{is(lo=>!lo)}),useKeyPress("Escape",()=>{us&&is(!1)}),!us)return jsxRuntimeExports.jsxs("div",{style:{position:"fixed",bottom:"16px",right:"16px",padding:"8px 12px",background:COLORS.background.tertiary,border:`1px solid ${COLORS.border.default}`,borderRadius:BORDERS.radius.md,fontSize:TYPOGRAPHY.fontSize.sm,color:COLORS.text.muted,fontFamily:TYPOGRAPHY.fontFamily.default,cursor:"pointer",zIndex:1e3,boxShadow:SHADOWS.md,transition:"all 0.15s ease"},onClick:()=>is(!0),onMouseEnter:lo=>{lo.currentTarget.style.background=COLORS.background.elevated,lo.currentTarget.style.color=COLORS.text.tertiary},onMouseLeave:lo=>{lo.currentTarget.style.background=COLORS.background.tertiary,lo.currentTarget.style.color=COLORS.text.muted},children:["Press ",jsxRuntimeExports.jsx("kbd",{style:{padding:"2px 6px",background:COLORS.background.dark,borderRadius:BORDERS.radius.sm,fontWeight:TYPOGRAPHY.fontWeight.semibold},children:"?"})," for keyboard shortcuts"]});const cs=[{category:"Navigation",items:[{keys:["",""],description:"Previous/Next page"},{keys:["Home"],description:"First page"},{keys:["End"],description:"Last page"},{keys:["Ctrl","+"],description:"Zoom in"},{keys:["Ctrl","-"],description:"Zoom out"},{keys:["Ctrl","0"],description:"Reset zoom"}]},{category:"Actions",items:[{keys:["Ctrl","O"],description:"Open document"},{keys:["Ctrl","W"],description:"Close tab"},{keys:["Ctrl","Tab"],description:"Next tab"},{keys:["Ctrl","Shift","Tab"],description:"Previous tab"},{keys:["Ctrl","F"],description:"Search text"}]},{category:"Interface",items:[{keys:["?"],description:"Toggle shortcuts"},{keys:["Esc"],description:"Close dialogs/cancel"},{keys:["B"],description:"Toggle sidebar"}]}];return jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:COLORS.background.overlay,display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,backdropFilter:"blur(2px)"},onClick:()=>is(!1),children:jsxRuntimeExports.jsxs("div",{style:{background:COLORS.background.secondary,borderRadius:BORDERS.radius.xl,padding:"32px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:SHADOWS.xl,border:`1px solid ${COLORS.border.default}`},onClick:lo=>lo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0,fontSize:TYPOGRAPHY.fontSize["2xl"],fontWeight:TYPOGRAPHY.fontWeight.semibold,color:COLORS.text.secondary,fontFamily:TYPOGRAPHY.fontFamily.default},children:"Keyboard Shortcuts"}),jsxRuntimeExports.jsx("button",{onClick:()=>is(!1),style:{background:"transparent",border:"none",color:COLORS.text.muted,cursor:"pointer",padding:"4px",borderRadius:BORDERS.radius.sm,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease"},onMouseEnter:lo=>{lo.currentTarget.style.background=COLORS.background.elevated,lo.currentTarget.style.color=COLORS.text.tertiary},onMouseLeave:lo=>{lo.currentTarget.style.background="transparent",lo.currentTarget.style.color=COLORS.text.muted},children:jsxRuntimeExports.jsx(Icon,{name:"close",size:20})})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:cs.map((lo,co)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:TYPOGRAPHY.fontSize.lg,fontWeight:TYPOGRAPHY.fontWeight.semibold,color:COLORS.text.tertiary,fontFamily:TYPOGRAPHY.fontFamily.default,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:TYPOGRAPHY.fontSize.sm},children:lo.category}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:lo.items.map((hs,uo)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:COLORS.background.tertiary,borderRadius:BORDERS.radius.md,border:`1px solid ${COLORS.border.default}`},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:TYPOGRAPHY.fontSize.md,color:COLORS.text.tertiary,fontFamily:TYPOGRAPHY.fontFamily.default},children:hs.description}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:hs.keys.map((xa,ba)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[ba>0&&jsxRuntimeExports.jsx("span",{style:{color:COLORS.text.disabled,fontSize:TYPOGRAPHY.fontSize.sm,margin:"0 2px"},children:"+"}),jsxRuntimeExports.jsx("kbd",{style:{padding:"4px 8px",background:COLORS.background.dark,border:`1px solid ${COLORS.border.default}`,borderRadius:BORDERS.radius.sm,fontSize:TYPOGRAPHY.fontSize.base,fontWeight:TYPOGRAPHY.fontWeight.semibold,color:COLORS.text.secondary,fontFamily:TYPOGRAPHY.fontFamily.mono,minWidth:"32px",textAlign:"center"},children:xa})]},ba))})]},uo))})]},co))})]})})},originalWarn=console.warn;console.warn=(...us)=>{us[0]&&typeof us[0]=="string"&&us[0].includes("TT: undefined function")||originalWarn(...us)};createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsx(App,{}),jsxRuntimeExports.jsx(KeyboardShortcutsOverlay,{})]})}));
